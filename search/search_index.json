{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"IT-\u624b\u518c\u5927\u5168","text":"<p>\u672c\u7f51\u7ad9\u7684\u76ee\u7684\u662f\u6574\u7406\u548c\u6536\u96c6IT\u5f00\u53d1\u76f8\u5173\u7684\u6559\u7a0b\u548c\u9762\u8bd5\u9898\u76ee</p>"},{"location":"#_1","title":"\u8bed\u8a00\u7bc7","text":"<ul> <li>Python</li> <li>Golang     \u5f85\u8865\u5145</li> <li>C++  \u5f85\u8865\u5145</li> </ul>"},{"location":"#web","title":"Web\u7bc7","text":"<ul> <li>Django</li> <li>Flask</li> <li>FastAPI</li> </ul>"},{"location":"#_2","title":"\u6570\u636e\u5e93","text":"<ul> <li>MySQL</li> <li>Redis</li> <li>MongoDB</li> <li>Elastic</li> </ul>"},{"location":"#_3","title":"\u4e2d\u95f4\u4ef6","text":"<ul> <li>Kafka</li> <li>RabbitMQ</li> <li>ZooKeeper</li> </ul>"},{"location":"#_4","title":"\u670d\u52a1\u5668","text":"<ul> <li>Nginx</li> <li>uvicorn</li> </ul>"},{"location":"#_5","title":"\u4e91\u539f\u751f","text":"<ul> <li>Docker</li> <li>Kubernetes</li> </ul>"},{"location":"#_6","title":"\u4eba\u5de5\u667a\u80fd","text":"<ul> <li>AI</li> </ul>"},{"location":"#_7","title":"\u7cfb\u7edf\u8bbe\u8ba1","text":"<ul> <li>\u7f13\u5b58</li> </ul>"},{"location":"#_8","title":"\u5de5\u5177\u7bc7","text":"<ul> <li>Git</li> </ul>"},{"location":"Web%E7%AF%87/Django/advance/","title":"Django \u8fdb\u9636\u6559\u7a0b","text":"<p>\u7ee7\u7eed\u6df1\u5165\u5b66\u4e60 Django\uff0c\u6211\u4eec\u5c06\u63a2\u8ba8\u4e00\u4e9b\u66f4\u9ad8\u7ea7\u7684\u4e3b\u9898\u548c\u6280\u5de7\uff0c\u8fd9\u4e9b\u5185\u5bb9\u5c06\u5e2e\u52a9\u4f60\u66f4\u52a0\u6df1\u5165\u5730\u7406\u89e3\u548c\u4f7f\u7528 Django \u6765\u6784\u5efa\u590d\u6742\u7684 Web \u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"Web%E7%AF%87/Django/advance/#1-django-orm","title":"1. Django ORM \u7684\u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"Web%E7%AF%87/Django/advance/#11","title":"1.1 \u67e5\u8be2\u4f18\u5316","text":"<p>Django ORM \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u67e5\u8be2\u96c6\uff08QuerySet\uff09API\uff0c\u53ef\u4ee5\u901a\u8fc7\u94fe\u5f0f\u8c03\u7528\u6765\u6784\u5efa\u590d\u6742\u7684\u67e5\u8be2\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f18\u5316\u67e5\u8be2\u7684\u6280\u5de7\uff1a</p> <ul> <li><code>select_related</code> \u548c <code>prefetch_related</code>\uff1a\u7528\u4e8e\u4f18\u5316\u6570\u636e\u5e93\u67e5\u8be2\uff0c\u51cf\u5c11\u67e5\u8be2\u7684\u6570\u91cf\u3002</li> <li><code>select_related</code>\uff1a\u9002\u7528\u4e8e\u201c\u591a\u5bf9\u4e00\u201d\u6216\u201c\u4e00\u5bf9\u4e00\u201d\u7684\u5173\u7cfb\uff0c\u4f7f\u7528 SQL JOIN \u63d0\u524d\u83b7\u53d6\u76f8\u5173\u5bf9\u8c61\u3002</li> <li><code>prefetch_related</code>\uff1a\u9002\u7528\u4e8e\u201c\u591a\u5bf9\u591a\u201d\u6216\u201c\u4e00\u5bf9\u591a\u201d\u7684\u5173\u7cfb\uff0c\u4f7f\u7528\u5355\u72ec\u7684\u67e5\u8be2\u9884\u53d6\u76f8\u5173\u5bf9\u8c61\u3002</li> </ul> <pre><code># \u4f7f\u7528 select_related\nbooks = Book.objects.select_related('author').all()\n\n# \u4f7f\u7528 prefetch_related\nauthors = Author.objects.prefetch_related('books').all()\n</code></pre> <ul> <li><code>only</code> \u548c <code>defer</code>\uff1a\u63a7\u5236\u4ece\u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u7684\u5b57\u6bb5\uff0c\u4ee5\u51cf\u5c11\u67e5\u8be2\u8d1f\u62c5\u3002</li> <li><code>only</code>\uff1a\u4ec5\u83b7\u53d6\u6307\u5b9a\u7684\u5b57\u6bb5\u3002</li> <li><code>defer</code>\uff1a\u83b7\u53d6\u6240\u6709\u5b57\u6bb5\uff0c\u9664\u4e86\u6307\u5b9a\u7684\u5b57\u6bb5\u3002</li> </ul> <pre><code># \u4ec5\u83b7\u53d6 title \u5b57\u6bb5\nbooks = Book.objects.only('title').all()\n\n# \u5ef6\u8fdf\u83b7\u53d6 published_date \u5b57\u6bb5\nbooks = Book.objects.defer('published_date').all()\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#12","title":"1.2 \u81ea\u5b9a\u4e49\u67e5\u8be2\u96c6","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u5728\u6a21\u578b\u7684\u7ba1\u7406\u5668\uff08Manager\uff09\u4e2d\u5b9a\u4e49\u81ea\u5b9a\u4e49\u67e5\u8be2\u96c6\uff0c\u6765\u6269\u5c55\u9ed8\u8ba4\u7684\u67e5\u8be2\u884c\u4e3a\uff1a</p> <pre><code>class BookQuerySet(models.QuerySet):\n    def published(self):\n        return self.filter(published_date__isnull=False)\n\nclass BookManager(models.Manager):\n    def get_queryset(self):\n        return BookQuerySet(self.model, using=self._db)\n\n    def published(self):\n        return self.get_queryset().published()\n\nclass Book(models.Model):\n    title = models.CharField(max_length=100)\n    author = models.CharField(max_length=50)\n    published_date = models.DateField()\n\n    objects = BookManager()\n</code></pre> <p>\u73b0\u5728\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 <code>Book.objects.published()</code> \u83b7\u53d6\u5df2\u53d1\u5e03\u7684\u4e66\u7c4d\u3002</p>"},{"location":"Web%E7%AF%87/Django/advance/#2","title":"2. \u4e2d\u95f4\u4ef6\u7684\u4f7f\u7528","text":""},{"location":"Web%E7%AF%87/Django/advance/#21","title":"2.1 \u4ec0\u4e48\u662f\u4e2d\u95f4\u4ef6","text":"<p>Django \u4e2d\u95f4\u4ef6\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u3001\u5e95\u5c42\u7684\u63d2\u4ef6\uff0c\u7528\u4e8e\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u8fc7\u7a0b\u4e2d\u5bf9\u5176\u8fdb\u884c\u5904\u7406\u3002\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u5728\u8bf7\u6c42\u5230\u8fbe\u89c6\u56fe\u4e4b\u524d\u3001\u6216\u8005\u54cd\u5e94\u79bb\u5f00\u89c6\u56fe\u4e4b\u540e\u8fdb\u884c\u64cd\u4f5c\u3002</p>"},{"location":"Web%E7%AF%87/Django/advance/#22","title":"2.2 \u7f16\u5199\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6\u6765\u62e6\u622a\u8bf7\u6c42\u6216\u4fee\u6539\u54cd\u5e94\u3002\u4f8b\u5982\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u8bf7\u6c42\u7684 IP \u5730\u5740\uff1a</p> <pre><code>class LogIPMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        # \u5728\u8fd9\u91cc\u5904\u7406\u8bf7\u6c42\u4e4b\u524d\u7684\u903b\u8f91\n        print(f\"Request IP: {request.META['REMOTE_ADDR']}\")\n\n        response = self.get_response(request)\n\n        # \u5728\u8fd9\u91cc\u5904\u7406\u54cd\u5e94\u4e4b\u540e\u7684\u903b\u8f91\n        return response\n</code></pre> <p>\u7136\u540e\u5728 <code>settings.py</code> \u4e2d\u6dfb\u52a0\u8fd9\u4e2a\u4e2d\u95f4\u4ef6\uff1a</p> <pre><code>MIDDLEWARE = [\n    ...\n    'myproject.middleware.LogIPMiddleware',\n    ...\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#3","title":"3. \u4fe1\u53f7\u4e0e\u76d1\u542c\u5668","text":""},{"location":"Web%E7%AF%87/Django/advance/#31-django","title":"3.1 Django \u4fe1\u53f7\u7b80\u4ecb","text":"<p>Django \u4fe1\u53f7\u662f\u4e00\u79cd\u5b9e\u73b0\u89e3\u8026\u7684\u673a\u5236\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u67d0\u4e9b\u52a8\u4f5c\u53d1\u751f\u65f6\u89e6\u53d1\u7279\u5b9a\u7684\u64cd\u4f5c\u3002\u4f8b\u5982\uff0c\u5728\u6a21\u578b\u4fdd\u5b58\u4e4b\u524d\u6216\u4e4b\u540e\u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\u3002</p>"},{"location":"Web%E7%AF%87/Django/advance/#32","title":"3.2 \u4f7f\u7528\u4fe1\u53f7","text":"<p>\u5b9a\u4e49\u4e00\u4e2a\u4fe1\u53f7\u5904\u7406\u5668\uff0c\u5728 <code>myapp/signals.py</code> \u4e2d\uff1a</p> <pre><code>from django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom .models import Book\n\n@receiver(post_save, sender=Book)\ndef book_saved(sender, instance, **kwargs):\n    print(f\"Book saved: {instance.title}\")\n</code></pre> <p>\u7136\u540e\u5728 <code>myapp/apps.py</code> \u4e2d\u6ce8\u518c\u4fe1\u53f7\u5904\u7406\u5668\uff1a</p> <pre><code>from django.apps import AppConfig\n\nclass MyappConfig(AppConfig):\n    name = 'myapp'\n\n    def ready(self):\n        import myapp.signals\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#4-django","title":"4. Django \u8868\u5355\u4e0e\u9a8c\u8bc1","text":""},{"location":"Web%E7%AF%87/Django/advance/#41","title":"4.1 \u81ea\u5b9a\u4e49\u9a8c\u8bc1\u5668","text":"<p>\u5728 Django \u4e2d\uff0c\u4f60\u53ef\u4ee5\u4e3a\u6a21\u578b\u5b57\u6bb5\u6216\u8868\u5355\u5b57\u6bb5\u5b9a\u4e49\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u5668\u3002\u9a8c\u8bc1\u5668\u662f\u4e00\u4e2a\u63a5\u6536\u5355\u4e2a\u503c\u5e76\u5f15\u53d1 <code>ValidationError</code> \u5f02\u5e38\u7684\u51fd\u6570\u6216\u7c7b\u3002</p> <pre><code>from django.core.exceptions import ValidationError\n\ndef validate_even(value):\n    if value % 2 != 0:\n        raise ValidationError(f'{value} is not an even number')\n\nclass MyModel(models.Model):\n    even_number = models.IntegerField(validators=[validate_even])\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#42-modelform","title":"4.2 ModelForm \u7684\u9ad8\u7ea7\u7528\u6cd5","text":"<p>ModelForm \u662f Django \u63d0\u4f9b\u7684\u7528\u4e8e\u5feb\u901f\u521b\u5efa\u57fa\u4e8e\u6a21\u578b\u7684\u8868\u5355\u7684\u5de5\u5177\u3002\u53ef\u4ee5\u901a\u8fc7 <code>Meta</code> \u7c7b\u81ea\u5b9a\u4e49\u8868\u5355\u7684\u884c\u4e3a\uff1a</p> <pre><code>from django import forms\nfrom .models import Book\n\nclass BookForm(forms.ModelForm):\n    class Meta:\n        model = Book\n        fields = ['title', 'author', 'published_date']\n        widgets = {\n            'published_date': forms.DateInput(attrs={'type': 'date'}),\n        }\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#5","title":"5. \u7f13\u5b58\u4e0e\u6027\u80fd\u4f18\u5316","text":""},{"location":"Web%E7%AF%87/Django/advance/#51","title":"5.1 \u7f13\u5b58\u89c6\u56fe\u4e0e\u67e5\u8be2","text":"<p>Django \u63d0\u4f9b\u4e86\u591a\u79cd\u7f13\u5b58\u673a\u5236\uff0c\u5305\u62ec\u5168\u7ad9\u7f13\u5b58\u3001\u89c6\u56fe\u7f13\u5b58\u3001\u6a21\u677f\u7f13\u5b58\u548c\u4f4e\u7ea7\u7f13\u5b58\u3002\u89c6\u56fe\u7f13\u5b58\u662f\u6700\u5e38\u7528\u7684\u4e00\u79cd\uff0c\u901a\u8fc7\u88c5\u9970\u5668\u5373\u53ef\u5b9e\u73b0\uff1a</p> <pre><code>from django.views.decorators.cache import cache_page\n\n@cache_page(60 * 15)  # \u7f13\u5b5815\u5206\u949f\ndef my_view(request):\n    ...\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#52","title":"5.2 \u6570\u636e\u5e93\u4f18\u5316","text":"<p>\u4f7f\u7528 <code>Database Indexes</code> \u548c <code>QuerySet</code> \u7f13\u5b58\u6765\u4f18\u5316\u6570\u636e\u5e93\u6027\u80fd\u3002\u786e\u4fdd\u5728\u9891\u7e41\u67e5\u8be2\u7684\u5b57\u6bb5\u4e0a\u6dfb\u52a0\u7d22\u5f15\uff0c\u5e76\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u5e93\u67e5\u8be2\u3002</p>"},{"location":"Web%E7%AF%87/Django/advance/#6","title":"6. \u6d4b\u8bd5\u4e0e\u8c03\u8bd5","text":""},{"location":"Web%E7%AF%87/Django/advance/#61","title":"6.1 \u7f16\u5199\u6d4b\u8bd5","text":"<p>Django \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6d4b\u8bd5\u6846\u67b6\uff0c\u652f\u6301\u5355\u5143\u6d4b\u8bd5\u3001\u529f\u80fd\u6d4b\u8bd5\u7b49\u3002\u7f16\u5199\u7b80\u5355\u7684\u5355\u5143\u6d4b\u8bd5\uff1a</p> <pre><code>from django.test import TestCase\nfrom .models import Book\n\nclass BookTestCase(TestCase):\n    def setUp(self):\n        Book.objects.create(title=\"Test Book\", author=\"Author\")\n\n    def test_books_can_be_created(self):\n        \"\"\"Books are correctly created\"\"\"\n        book = Book.objects.get(title=\"Test Book\")\n        self.assertEqual(book.author, \"Author\")\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#62","title":"6.2 \u4f7f\u7528\u8c03\u8bd5\u5de5\u5177","text":"<p>Django Debug Toolbar \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5206\u6790 SQL \u67e5\u8be2\u3001\u6a21\u677f\u6e32\u67d3\u65f6\u95f4\u3001\u7f13\u5b58\u547d\u4e2d\u7387\u7b49\u3002</p> <pre><code>pip install django-debug-toolbar\n</code></pre> <p>\u5728 <code>settings.py</code> \u4e2d\u542f\u7528\uff1a</p> <pre><code>INSTALLED_APPS = [\n    ...\n    'debug_toolbar',\n]\n\nMIDDLEWARE = [\n    ...\n    'debug_toolbar.middleware.DebugToolbarMiddleware',\n]\n\nINTERNAL_IPS = [\n    '127.0.0.1',\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#7-django","title":"7. \u90e8\u7f72 Django \u5e94\u7528","text":""},{"location":"Web%E7%AF%87/Django/advance/#71-wsgi-asgi","title":"7.1 \u914d\u7f6e WSGI \u548c ASGI","text":"<p>Django \u652f\u6301 WSGI \u548c ASGI \u4e24\u79cd\u63a5\u53e3\u3002WSGI \u9002\u7528\u4e8e\u540c\u6b65\u5e94\u7528\uff0cASGI \u9002\u7528\u4e8e\u5f02\u6b65\u5e94\u7528\u3002</p> <p>\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u901a\u5e38\u4f7f\u7528 Gunicorn \u6216 uWSGI \u4f5c\u4e3a WSGI \u670d\u52a1\u5668\uff0c\u5e76\u4f7f\u7528 Nginx \u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406\u3002</p>"},{"location":"Web%E7%AF%87/Django/advance/#72","title":"7.2 \u9759\u6001\u6587\u4ef6\u548c\u5a92\u4f53\u6587\u4ef6\u7684\u90e8\u7f72","text":"<p>\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u9759\u6001\u6587\u4ef6\u548c\u5a92\u4f53\u6587\u4ef6\u901a\u5e38\u7531 Nginx \u6216 Apache \u5904\u7406\u3002\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c <code>collectstatic</code> \u547d\u4ee4\u5c06\u9759\u6001\u6587\u4ef6\u6536\u96c6\u5230\u4e00\u4e2a\u76ee\u5f55\u4e2d\uff0c\u7136\u540e\u914d\u7f6e Web \u670d\u52a1\u5668\u6765\u63d0\u4f9b\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <pre><code>python manage.py collectstatic\n</code></pre>"},{"location":"Web%E7%AF%87/Django/advance/#_1","title":"\u7ed3\u8bed","text":"<p>\u901a\u8fc7\u4ee5\u4e0a\u5185\u5bb9\uff0c\u4f60\u5e94\u8be5\u5bf9 Django \u7684\u66f4\u9ad8\u7ea7\u529f\u80fd\u548c\u4f7f\u7528\u6280\u5de7\u6709\u4e86\u6df1\u5165\u7684\u4e86\u89e3\u3002Django \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u4e14\u7075\u6d3b\u7684\u6846\u67b6\uff0c\u5b66\u4e60\u548c\u638c\u63e1\u8fd9\u4e9b\u9ad8\u7ea7\u529f\u80fd\u5c06\u5e2e\u52a9\u4f60\u5f00\u53d1\u51fa\u66f4\u52a0\u9ad8\u6548\u548c\u590d\u6742\u7684 Web \u5e94\u7528\u3002\u7ee7\u7eed\u6df1\u5165\u7814\u7a76 Django \u7684\u6e90\u7801\u548c\u793e\u533a\u8d44\u6e90\uff0c\u5c06\u8fdb\u4e00\u6b65\u63d0\u5347\u4f60\u7684\u5f00\u53d1\u80fd\u529b\u3002</p>"},{"location":"Web%E7%AF%87/Django/basic/","title":"Django \u57fa\u7840\u6559\u7a0b","text":""},{"location":"Web%E7%AF%87/Django/basic/#django_1","title":"Django \u57fa\u7840\u6559\u7a0b\uff1a\u5168\u9762\u8be6\u7ec6\u8bb2\u89e3","text":"<p>Django \u662f\u4e00\u4e2a\u5f00\u653e\u6e90\u4ee3\u7801\u7684\u9ad8\u5c42\u6b21 Python Web \u6846\u67b6\uff0c\u65e8\u5728\u901a\u8fc7\u5feb\u901f\u5f00\u53d1\u3001\u7b80\u6d01\u8bbe\u8ba1\u548c\u4e0d\u91cd\u590d\u9020\u8f6e\u5b50\u7684\u7406\u5ff5\u5e2e\u52a9\u5f00\u53d1\u8005\u6784\u5efa\u5f3a\u5927\u800c\u5b9e\u7528\u7684 Web \u5e94\u7528\u7a0b\u5e8f\u3002\u672c\u6587\u5c06\u5168\u9762\u8be6\u7ec6\u5730\u4ecb\u7ecd Django \u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5e76\u901a\u8fc7\u5177\u4f53\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u4f7f\u7528 Django \u5f00\u53d1 Web \u5e94\u7528\u3002</p>"},{"location":"Web%E7%AF%87/Django/basic/#1","title":"1. \u5b89\u88c5\u4e0e\u73af\u5883\u914d\u7f6e","text":""},{"location":"Web%E7%AF%87/Django/basic/#11-django","title":"1.1 \u5b89\u88c5 Django","text":"<p>\u5728\u5f00\u59cb Django \u9879\u76ee\u4e4b\u524d\uff0c\u9700\u8981\u786e\u4fdd\u4f60\u5df2\u7ecf\u5b89\u88c5\u4e86 Python \u548c pip\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Django\uff1a</p> <pre><code>pip install django\n</code></pre> <p>\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u9a8c\u8bc1 Django \u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a</p> <pre><code>python -m django --version\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#12-django","title":"1.2 \u521b\u5efa Django \u9879\u76ee","text":"<p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Django \u9879\u76ee\uff1a</p> <pre><code>django-admin startproject myproject\n</code></pre> <p>\u6b64\u547d\u4ee4\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>myproject</code> \u7684\u76ee\u5f55\uff0c\u5305\u542b Django \u9879\u76ee\u6240\u9700\u7684\u57fa\u672c\u7ed3\u6784\u3002</p>"},{"location":"Web%E7%AF%87/Django/basic/#2-django","title":"2. Django \u9879\u76ee\u7ed3\u6784","text":"<p>Django \u9879\u76ee\u901a\u5e38\u5305\u542b\u4ee5\u4e0b\u4e3b\u8981\u76ee\u5f55\u548c\u6587\u4ef6\uff1a</p> <ul> <li><code>manage.py</code>\uff1a\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u4e0e\u8be5 Django \u9879\u76ee\u8fdb\u884c\u4ea4\u4e92\u3002</li> <li><code>myproject/</code>\uff1a\u5305\u542b\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u8bbe\u7f6e\u3002</li> <li><code>__init__.py</code>\uff1a\u4f7f\u76ee\u5f55\u88ab\u89c6\u4e3a\u4e00\u4e2a Python \u5305\u3002</li> <li><code>settings.py</code>\uff1a\u9879\u76ee\u7684\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>urls.py</code>\uff1a\u9879\u76ee\u7684 URL \u58f0\u660e\u3002</li> <li><code>asgi.py</code> \u548c <code>wsgi.py</code>\uff1a\u7528\u4e8e\u5728\u90e8\u7f72\u9879\u76ee\u65f6\u4e0e ASGI/WASGI \u670d\u52a1\u5668\u4ea4\u4e92\u7684\u63a5\u53e3\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Django/basic/#3-django","title":"3. \u521b\u5efa Django \u5e94\u7528","text":"<p>\u5728 Django \u4e2d\uff0c\u9879\u76ee\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5e94\u7528\uff08app\uff09\u3002\u6bcf\u4e2a\u5e94\u7528\u90fd\u5e94\u4e13\u6ce8\u4e8e\u5b8c\u6210\u4e00\u4e2a\u7279\u5b9a\u7684\u529f\u80fd\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5e94\u7528\uff1a</p> <pre><code>python manage.py startapp myapp\n</code></pre> <p>\u8be5\u547d\u4ee4\u5c06\u751f\u6210\u4e00\u4e2a\u540d\u4e3a <code>myapp</code> \u7684\u76ee\u5f55\uff0c\u5176\u4e2d\u5305\u542b Django \u5e94\u7528\u7684\u57fa\u7840\u7ed3\u6784\u3002</p>"},{"location":"Web%E7%AF%87/Django/basic/#4","title":"4. \u914d\u7f6e\u5e94\u7528","text":"<p>\u521b\u5efa\u5e94\u7528\u540e\uff0c\u4f60\u9700\u8981\u5c06\u5176\u6dfb\u52a0\u5230\u9879\u76ee\u7684 <code>settings.py</code> \u6587\u4ef6\u4e2d\u7684 <code>INSTALLED_APPS</code> \u5217\u8868\u4e2d\uff1a</p> <pre><code>INSTALLED_APPS = [\n    ...\n    'myapp',\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#5-models","title":"5. \u6a21\u578b\uff08Models\uff09","text":"<p>Django \u7684\u6a21\u578b\u662f\u7528\u4e8e\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u7ed3\u6784\u7684\u7c7b\u3002\u5b83\u4eec\u901a\u5e38\u4e0e\u6570\u636e\u5e93\u8868\u4e00\u4e00\u5bf9\u5e94\u3002\u5b9a\u4e49\u6a21\u578b\u540e\uff0cDjango \u5c06\u5904\u7406\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002</p>"},{"location":"Web%E7%AF%87/Django/basic/#51","title":"5.1 \u521b\u5efa\u6a21\u578b","text":"<p>\u5728 <code>myapp/models.py</code> \u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u578b\uff1a</p> <pre><code>from django.db import models\n\nclass Book(models.Model):\n    title = models.CharField(max_length=100)\n    author = models.CharField(max_length=50)\n    published_date = models.DateField()\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#52","title":"5.2 \u8fc1\u79fb\u6570\u636e\u5e93","text":"<p>\u5728\u5b9a\u4e49\u597d\u6a21\u578b\u540e\uff0c\u9700\u8981\u5c06\u5176\u8fc1\u79fb\u5230\u6570\u636e\u5e93\u4e2d\u3002\u9996\u5148\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u521b\u5efa\u8fc1\u79fb\u6587\u4ef6\uff1a</p> <pre><code>python manage.py makemigrations\n</code></pre> <p>\u7136\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5e94\u7528\u8fd9\u4e9b\u8fc1\u79fb\uff1a</p> <pre><code>python manage.py migrate\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#6","title":"6. \u7ba1\u7406\u7ad9\u70b9","text":"<p>Django \u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u52a8\u751f\u6210\u7684\u7ba1\u7406\u7ad9\u70b9\uff0c\u53ef\u4ee5\u7528\u6765\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u6a21\u578b\u6570\u636e\u3002\u8981\u542f\u7528\u7ba1\u7406\u7ad9\u70b9\uff0c\u4f60\u9700\u8981\u5728 <code>myapp/admin.py</code> \u6587\u4ef6\u4e2d\u6ce8\u518c\u4f60\u7684\u6a21\u578b\uff1a</p> <pre><code>from django.contrib import admin\nfrom .models import Book\n\nadmin.site.register(Book)\n</code></pre> <p>\u7136\u540e\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\uff0c\u5e76\u8bbf\u95ee\u7ba1\u7406\u7ad9\u70b9\uff1a</p> <pre><code>python manage.py runserver\n</code></pre> <p>\u8bbf\u95ee <code>http://127.0.0.1:8000/admin/</code>\uff0c\u4f60\u4f1a\u770b\u5230\u4e00\u4e2a\u767b\u5f55\u754c\u9762\u3002\u4f7f\u7528 <code>createsuperuser</code> \u547d\u4ee4\u521b\u5efa\u8d85\u7ea7\u7528\u6237\uff1a</p> <pre><code>python manage.py createsuperuser\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#7-views","title":"7. \u89c6\u56fe\uff08Views\uff09","text":"<p>\u89c6\u56fe\u51fd\u6570\u6216\u7c7b\u8d1f\u8d23\u5904\u7406 HTTP \u8bf7\u6c42\uff0c\u5e76\u8fd4\u56de HTTP \u54cd\u5e94\u3002\u5728 <code>myapp/views.py</code> \u4e2d\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u89c6\u56fe\uff1a</p> <pre><code>from django.http import HttpResponse\n\ndef hello_world(request):\n    return HttpResponse(\"Hello, World!\")\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#8-url","title":"8. URL \u8def\u7531","text":"<p>\u5728 <code>myapp/urls.py</code> \u4e2d\u5b9a\u4e49 URL \u6a21\u5f0f\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u9879\u76ee\u7684 URL \u914d\u7f6e\u4e2d\u3002\u5728 <code>myproject/urls.py</code> \u4e2d\uff1a</p> <pre><code>from django.urls import path\nfrom myapp import views\n\nurlpatterns = [\n    path('', views.hello_world),\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#9-templates","title":"9. \u6a21\u677f\uff08Templates\uff09","text":"<p>Django \u7684\u6a21\u677f\u7cfb\u7edf\u5141\u8bb8\u4f60\u5c06\u89c6\u56fe\u903b\u8f91\u4e0e\u8868\u73b0\u5c42\u5206\u79bb\u3002\u9996\u5148\u5728\u5e94\u7528\u7684\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a <code>templates</code> \u76ee\u5f55\uff0c\u7136\u540e\u5728\u5176\u4e2d\u521b\u5efa HTML \u6587\u4ef6\u3002</p> <p>\u4f8b\u5982\uff0c\u521b\u5efa <code>templates/hello.html</code>\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Hello, World!&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;{{ message }}&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5728\u89c6\u56fe\u4e2d\u6e32\u67d3\u6a21\u677f\uff1a</p> <pre><code>from django.shortcuts import render\n\ndef hello_world(request):\n    return render(request, 'hello.html', {'message': 'Hello, World!'})\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#10","title":"10. \u9759\u6001\u6587\u4ef6\u548c\u5a92\u4f53\u6587\u4ef6","text":"<p>Django \u63d0\u4f9b\u4e86\u5bf9\u9759\u6001\u6587\u4ef6\uff08\u5982 CSS\u3001JavaScript\u3001\u56fe\u50cf\u7b49\uff09\u7684\u652f\u6301\u3002\u5728 <code>settings.py</code> \u6587\u4ef6\u4e2d\u914d\u7f6e\u9759\u6001\u6587\u4ef6\u76ee\u5f55\uff1a</p> <pre><code>STATIC_URL = '/static/'\nSTATICFILES_DIRS = [\n    BASE_DIR / \"static\",\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#11","title":"11. \u8868\u5355\u5904\u7406","text":"<p>Django \u7684\u8868\u5355\u6846\u67b6\u5141\u8bb8\u4f60\u8f7b\u677e\u5904\u7406\u7528\u6237\u8f93\u5165\u3002\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u8868\u5355\uff1a</p> <pre><code>from django import forms\n\nclass ContactForm(forms.Form):\n    name = forms.CharField(max_length=100)\n    email = forms.EmailField()\n    message = forms.CharField(widget=forms.Textarea)\n</code></pre> <p>\u5728\u89c6\u56fe\u4e2d\u5904\u7406\u8868\u5355\uff1a</p> <pre><code>from django.shortcuts import render\nfrom .forms import ContactForm\n\ndef contact_view(request):\n    if request.method == 'POST':\n        form = ContactForm(request.POST)\n        if form.is_valid():\n            # \u5904\u7406\u8868\u5355\u6570\u636e\n            pass\n    else:\n        form = ContactForm()\n\n    return render(request, 'contact.html', {'form': form})\n</code></pre>"},{"location":"Web%E7%AF%87/Django/basic/#12-django_1","title":"12. \u90e8\u7f72 Django \u9879\u76ee","text":"<p>\u5728\u5f00\u53d1\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5c06 Django \u9879\u76ee\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u3002Django \u63d0\u4f9b\u4e86\u591a\u79cd\u90e8\u7f72\u9009\u9879\uff0c\u5982\u4f7f\u7528 WSGI \u670d\u52a1\u5668\uff08\u5982 Gunicorn\uff09\u6216 ASGI \u670d\u52a1\u5668\uff08\u5982 Daphne\uff09\u3002\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 Nginx \u6216 Apache \u4f5c\u4e3a\u524d\u7aef\u670d\u52a1\u5668\u3002</p>"},{"location":"Web%E7%AF%87/Django/basic/#_1","title":"\u7ed3\u8bba","text":"<p>\u901a\u8fc7\u4e0a\u8ff0\u4ecb\u7ecd\uff0c\u4f60\u5e94\u8be5\u5bf9 Django \u7684\u57fa\u7840\u77e5\u8bc6\u6709\u4e86\u4e00\u4e2a\u5168\u9762\u7684\u4e86\u89e3\u3002Django \u4ee5\u5176\u4e30\u5bcc\u7684\u529f\u80fd\u548c\u9ad8\u6548\u7684\u5f00\u53d1\u6d41\u7a0b\uff0c\u9002\u5408\u6784\u5efa\u4ece\u7b80\u5355\u5230\u590d\u6742\u7684 Web \u5e94\u7528\u3002\u7ee7\u7eed\u6df1\u5165\u5b66\u4e60 Django\uff0c\u5c06\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u638c\u63e1 Web \u5f00\u53d1\u7684\u5404\u79cd\u6280\u672f\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"Web%E7%AF%87/Django/interview/","title":"Django \u9762\u8bd5\u624b\u518c","text":"<p>Django \u9762\u8bd5\u4e2d\u7684\u201c\u516b\u80a1\u6587\u201d\u901a\u5e38\u6307\u4e00\u4e9b\u5e38\u89c1\u7684\u9762\u8bd5\u95ee\u9898\u53ca\u6807\u51c6\u5316\u7684\u56de\u7b54\u3002\u8fd9\u4e9b\u95ee\u9898\u6db5\u76d6\u4e86 Django \u6846\u67b6\u7684\u57fa\u7840\u77e5\u8bc6\u3001\u6700\u4f73\u5b9e\u8df5\u4ee5\u53ca\u4e00\u4e9b\u9ad8\u7ea7\u7279\u6027\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5178\u578b\u7684 Django \u516b\u80a1\u6587\u95ee\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\u3002</p>"},{"location":"Web%E7%AF%87/Django/interview/#1-django","title":"1. \u4ec0\u4e48\u662f Django\uff1f\u5b83\u7684\u4f18\u52bf\u662f\u4ec0\u4e48\uff1f","text":"<p>Django \u662f\u4e00\u4e2a\u57fa\u4e8e Python \u7684\u9ad8\u7ea7 Web \u6846\u67b6\uff0c\u65e8\u5728\u5feb\u901f\u5f00\u53d1\u5b89\u5168\u3001\u53ef\u7ef4\u62a4\u7684 Web \u5e94\u7528\u7a0b\u5e8f\u3002\u5b83\u9075\u5faa\u4e86 \"Don't Repeat Yourself\" (DRY) \u548c \"Convention Over Configuration\" \u7684\u539f\u5219\u3002</p> <p>\u4f18\u52bf\uff1a - \u5feb\u901f\u5f00\u53d1\uff1a Django \u7684\u8bbe\u8ba1\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u5feb\u901f\u6784\u5efa\u548c\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f\u3002 - \u5185\u7f6e\u529f\u80fd\uff1a Django \u63d0\u4f9b\u4e86\u5927\u91cf\u5f00\u7bb1\u5373\u7528\u7684\u529f\u80fd\uff0c\u5982\u8ba4\u8bc1\u7cfb\u7edf\u3001ORM\u3001\u8868\u5355\u5904\u7406\u7b49\u3002 - \u5b89\u5168\u6027\uff1a Django \u9ed8\u8ba4\u63d0\u4f9b\u4e86\u9632\u6b62\u5e38\u89c1\u5b89\u5168\u95ee\u9898\u7684\u673a\u5236\uff0c\u5982 SQL \u6ce8\u5165\u3001\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08CSRF\uff09\u3001\u8de8\u7ad9\u811a\u672c\uff08XSS\uff09\u7b49\u3002 - \u5f3a\u5927\u7684\u793e\u533a\u652f\u6301\uff1a Django \u62e5\u6709\u4e00\u4e2a\u6d3b\u8dc3\u7684\u5f00\u53d1\u8005\u793e\u533a\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u7b2c\u4e09\u65b9\u5305\u548c\u6269\u5c55\u3002</p>"},{"location":"Web%E7%AF%87/Django/interview/#2-django-mvt","title":"2. \u89e3\u91ca Django \u7684 MVT \u6a21\u5f0f\u3002","text":"<p>MVT\uff08Model-View-Template\uff09\u662f Django \u6846\u67b6\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002</p> <ul> <li>Model: \u5904\u7406\u4e0e\u6570\u636e\u5e93\u7684\u4ea4\u4e92\uff0c\u5b9a\u4e49\u6570\u636e\u7684\u7ed3\u6784\uff08\u5982\u8868\u7ed3\u6784\uff09\u3002</li> <li>View: \u5904\u7406\u4e1a\u52a1\u903b\u8f91\uff0c\u63a5\u6536\u8bf7\u6c42\uff0c\u8c03\u7528\u6a21\u578b\u5e76\u6e32\u67d3\u6a21\u677f\u3002</li> <li>Template: \u8d1f\u8d23\u7528\u6237\u754c\u9762\u7684\u5c55\u793a\uff0c\u4f7f\u7528 Django \u7684\u6a21\u677f\u8bed\u8a00\u52a8\u6001\u751f\u6210 HTML\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Django/interview/#3-django-orm","title":"3. Django \u7684 ORM \u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>Django \u7684 ORM\uff08\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04\uff09\u5141\u8bb8\u5f00\u53d1\u8005\u4f7f\u7528 Python \u5bf9\u8c61\u64cd\u4f5c\u6570\u636e\u5e93\uff0c\u800c\u4e0d\u9700\u8981\u7f16\u5199 SQL \u8bed\u53e5\u3002\u6a21\u578b\u7c7b\u5b9a\u4e49\u4e86\u6570\u636e\u5e93\u8868\u7684\u7ed3\u6784\uff0c\u5e76\u901a\u8fc7\u7c7b\u7684\u5b9e\u4f8b\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>from django.db import models\n\nclass Author(models.Model):\n    name = models.CharField(max_length=100)\n    birth_date = models.DateField()\n</code></pre>"},{"location":"Web%E7%AF%87/Django/interview/#4-django-middleware","title":"4. Django \u4e2d\u7684 Middleware \u662f\u4ec0\u4e48\uff1f","text":"<p>Middleware \u662f Django \u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u4e2d\u95f4\u5c42\u7ec4\u4ef6\u3002\u5b83\u4eec\u53ef\u4ee5\u5728\u8bf7\u6c42\u5230\u8fbe\u89c6\u56fe\u4e4b\u524d\u6216\u54cd\u5e94\u8fd4\u56de\u5ba2\u6237\u7aef\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u5904\u7406\u3002</p> <p>\u5e38\u89c1 Middleware\uff1a - AuthenticationMiddleware: \u7528\u4e8e\u5173\u8054\u7528\u6237\u4e0e\u8bf7\u6c42\u3002 - SessionMiddleware: \u7ba1\u7406\u4f1a\u8bdd\u6570\u636e\u3002 - CSRFViewMiddleware: \u9632\u6b62\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\u3002</p>"},{"location":"Web%E7%AF%87/Django/interview/#5-django-admin","title":"5. \u5982\u4f55\u4f7f\u7528 Django \u7684 Admin \u754c\u9762\uff1f","text":"<p>Django \u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u52a8\u751f\u6210\u7684 Admin \u754c\u9762\uff0c\u4fbf\u4e8e\u7ba1\u7406\u5e94\u7528\u4e2d\u7684\u6570\u636e\u6a21\u578b\u3002</p> <p>\u542f\u7528\u6b65\u9aa4\uff1a 1. \u6ce8\u518c\u6a21\u578b\u5230 admin \u754c\u9762\uff1a    ```python    from django.contrib import admin    from .models import Author</p> <p>admin.site.register(Author)    <code>`` 2. \u8bbf\u95ee</code>/admin/` \u8def\u5f84\uff0c\u4f7f\u7528\u7ba1\u7406\u5458\u8d26\u6237\u767b\u5f55\u5373\u53ef\u7ba1\u7406\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u3002</p>"},{"location":"Web%E7%AF%87/Django/interview/#6-django","title":"6. \u5982\u4f55\u5728 Django \u4e2d\u521b\u5efa\u548c\u5e94\u7528\u6570\u636e\u5e93\u8fc1\u79fb\uff1f","text":"<p>Django \u4f7f\u7528\u8fc1\u79fb\u6765\u7ba1\u7406\u6570\u636e\u5e93\u6a21\u5f0f\u7684\u53d8\u66f4\u3002</p> <p>\u57fa\u672c\u6b65\u9aa4\uff1a 1. \u521b\u5efa\u8fc1\u79fb\uff1a <code>bash    python manage.py makemigrations</code> 2. \u5e94\u7528\u8fc1\u79fb\uff1a <code>bash    python manage.py migrate</code></p>"},{"location":"Web%E7%AF%87/Django/interview/#7-django-url","title":"7. Django \u7684 URL \u8def\u7531\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>Django \u7684 URL \u8def\u7531\u7cfb\u7edf\u901a\u8fc7\u5c06 URL \u6a21\u5f0f\u6620\u5c04\u5230\u89c6\u56fe\u51fd\u6570\u6765\u5904\u7406\u8bf7\u6c42\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>from django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('home/', views.home_view, name='home'),\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/interview/#8-django","title":"8. \u5982\u4f55\u5728 Django \u4e2d\u5904\u7406\u9759\u6001\u6587\u4ef6\u548c\u5a92\u4f53\u6587\u4ef6\uff1f","text":"<ul> <li>\u9759\u6001\u6587\u4ef6\uff1a \u7528\u4e8e\u4fdd\u5b58 CSS\u3001JavaScript\u3001\u56fe\u7247\u7b49\u524d\u7aef\u6587\u4ef6\uff0c\u4f7f\u7528 <code>STATICFILES_DIRS</code> \u548c <code>STATIC_ROOT</code> \u8fdb\u884c\u914d\u7f6e\u3002</li> <li>\u5a92\u4f53\u6587\u4ef6\uff1a \u4fdd\u5b58\u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u4f7f\u7528 <code>MEDIA_URL</code> \u548c <code>MEDIA_ROOT</code> \u8fdb\u884c\u914d\u7f6e\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Django/interview/#9-django-signals","title":"9. Django \u4e2d\u7684 signals \u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>Signals \u662f Django \u4e2d\u7684\u4e00\u79cd\u673a\u5236\uff0c\u7528\u4e8e\u5728\u7279\u5b9a\u4e8b\u4ef6\u53d1\u751f\u65f6\u89e6\u53d1\u7279\u5b9a\u7684\u64cd\u4f5c\u3002</p> <p>\u5e38\u7528 signals\uff1a - <code>pre_save</code> \u548c <code>post_save</code>\uff1a\u5728\u6a21\u578b\u5b9e\u4f8b\u4fdd\u5b58\u524d\u540e\u89e6\u53d1\u3002 - <code>pre_delete</code> \u548c <code>post_delete</code>\uff1a\u5728\u6a21\u578b\u5b9e\u4f8b\u5220\u9664\u524d\u540e\u89e6\u53d1\u3002</p> <p>\u4f7f\u7528\u793a\u4f8b\uff1a</p> <pre><code>from django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom .models import UserProfile\n\n@receiver(post_save, sender=User)\ndef create_user_profile(sender, instance, created, **kwargs):\n    if created:\n        UserProfile.objects.create(user=instance)\n</code></pre>"},{"location":"Web%E7%AF%87/Django/interview/#10-django-foreignkeyonetoonefield-manytomanyfield","title":"10. Django \u4e2d\u7684 <code>ForeignKey</code>\u3001<code>OneToOneField</code> \u548c <code>ManyToManyField</code> \u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":"<ul> <li><code>ForeignKey</code>: \u591a\u5bf9\u4e00\u5173\u7cfb\u3002\u4f8b\u5982\uff0c\u6bcf\u4e2a\u56fe\u4e66\u5c5e\u4e8e\u4e00\u4e2a\u4f5c\u8005\u3002</li> <li><code>OneToOneField</code>: \u4e00\u5bf9\u4e00\u5173\u7cfb\u3002\u4f8b\u5982\uff0c\u6bcf\u4e2a\u7528\u6237\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u7528\u6237\u6863\u6848\u3002</li> <li><code>ManyToManyField</code>: \u591a\u5bf9\u591a\u5173\u7cfb\u3002\u4f8b\u5982\uff0c\u5b66\u751f\u548c\u8bfe\u7a0b\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Django/interview/#11-django","title":"11. \u5982\u4f55\u4f18\u5316 Django \u7684\u67e5\u8be2\u6027\u80fd\uff1f","text":"<p>\u4f18\u5316 Django \u67e5\u8be2\u6027\u80fd\u7684\u65b9\u6cd5\u5305\u62ec\uff1a - \u4f7f\u7528 <code>select_related()</code> \u548c <code>prefetch_related()</code>\uff1a \u8fdb\u884c\u5173\u8054\u67e5\u8be2\u4f18\u5316\u3002 - \u4f7f\u7528 <code>only()</code> \u548c <code>defer()</code>\uff1a \u53ea\u67e5\u8be2\u9700\u8981\u7684\u5b57\u6bb5\u3002 - \u4f7f\u7528\u6570\u636e\u5e93\u7d22\u5f15\uff1a \u5728\u5e38\u7528\u67e5\u8be2\u5b57\u6bb5\u4e0a\u6dfb\u52a0\u7d22\u5f15\u3002</p>"},{"location":"Web%E7%AF%87/Django/interview/#12-django","title":"12. \u5982\u4f55\u5728 Django \u4e2d\u5b9e\u73b0\u6743\u9650\u63a7\u5236\uff1f","text":"<p>Django \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5185\u7f6e\u7684\u6743\u9650\u7cfb\u7edf\uff0c\u5141\u8bb8\u4e3a\u7528\u6237\u6216\u7528\u6237\u7ec4\u5206\u914d\u6743\u9650\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>from django.contrib.auth.models import User, Permission\n\n# \u5206\u914d\u6743\u9650\nuser = User.objects.get(username='john')\npermission = Permission.objects.get(codename='can_edit')\nuser.user_permissions.add(permission)\n\n# \u68c0\u67e5\u6743\u9650\nif user.has_perm('app_name.can_edit'):\n    # \u7528\u6237\u6709\u8be5\u6743\u9650\n</code></pre>"},{"location":"Web%E7%AF%87/Django/interview/#13-django","title":"13. Django \u4e2d\u7684\u8868\u5355\u5904\u7406\u673a\u5236\u662f\u600e\u6837\u7684\uff1f","text":"<p>Django \u63d0\u4f9b\u4e86 <code>forms</code> \u6a21\u5757\u6765\u5904\u7406\u8868\u5355\u9a8c\u8bc1\u548c\u6570\u636e\u6e05\u7406\u3002\u8868\u5355\u53ef\u4ee5\u901a\u8fc7 Django \u63d0\u4f9b\u7684\u8868\u5355\u7c7b\u6765\u5b9a\u4e49\uff0c\u5e76\u5728\u89c6\u56fe\u4e2d\u8fdb\u884c\u5904\u7406\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>from django import forms\n\nclass ContactForm(forms.Form):\n    name = forms.CharField(max_length=100)\n    email = forms.EmailField()\n\n# \u5728\u89c6\u56fe\u4e2d\u5904\u7406\u8868\u5355\ndef contact_view(request):\n    if request.method == 'POST':\n        form = ContactForm(request.POST)\n        if form.is_valid():\n            # \u5904\u7406\u8868\u5355\u6570\u636e\n            pass\n</code></pre>"},{"location":"Web%E7%AF%87/Django/interview/#14-django","title":"14. \u5982\u4f55\u5728 Django \u4e2d\u5b9e\u73b0\u7f13\u5b58\u673a\u5236\uff1f","text":"<p>Django \u63d0\u4f9b\u4e86\u591a\u79cd\u7f13\u5b58\u673a\u5236\uff0c\u53ef\u4ee5\u914d\u7f6e\u5185\u5b58\u7f13\u5b58\u3001\u6587\u4ef6\u7f13\u5b58\u6216\u6570\u636e\u5e93\u7f13\u5b58\u3002</p> <p>\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>CACHES = {\n    'default': {\n        'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',\n        'LOCATION': '127.0.0.1:11211',\n    }\n}\n</code></pre> <p>\u4f7f\u7528\u7f13\u5b58\uff1a</p> <pre><code>from django.views.decorators.cache import cache_page\n\n@cache_page(60 * 15)  # \u7f13\u5b58\u89c6\u56fe 15 \u5206\u949f\ndef my_view(request):\n    ...\n</code></pre>"},{"location":"Web%E7%AF%87/Django/interview/#15-django","title":"15. \u5982\u4f55\u5728 Django \u4e2d\u5904\u7406\u5f02\u6b65\u4efb\u52a1\uff1f","text":"<p>Django \u901a\u5e38\u4e0e Celery \u642d\u914d\u4f7f\u7528\u6765\u5904\u7406\u5f02\u6b65\u4efb\u52a1\u3002</p> <p>\u57fa\u672c\u6b65\u9aa4\uff1a 1. \u5b89\u88c5 Celery\uff1a <code>bash    pip install celery</code> 2. \u914d\u7f6e Celery\uff1a    ```python    # project/celery.py    from celery import Celery</p> <p>app = Celery('project_name', broker='redis://localhost:6379/0')    <code>3. **\u5b9a\u4e49\u4efb\u52a1\uff1a**</code>python    from celery import shared_task</p> <p>@shared_task    def my_task():        ...    ```</p>"},{"location":"Web%E7%AF%87/Django/interview/#16-django-rest-api","title":"16. \u5982\u4f55\u5728 Django \u4e2d\u5b9e\u73b0 REST API\uff1f","text":"<p>Django REST Framework (DRF) \u662f Django \u4e2d\u6784\u5efa REST API \u7684\u5de5\u5177\u3002</p> <p>\u57fa\u672c\u7ec4\u4ef6\uff1a - Serializer: \u5904\u7406\u6570\u636e\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u3002 - ViewSet: \u5904\u7406 API \u89c6\u56fe\u903b\u8f91\u3002 - Router: \u81ea\u52a8\u751f\u6210 URL \u8def\u7531\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>from rest_framework import serializers, viewsets\nfrom .models import MyModel\n\nclass MyModelSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = MyModel\n        fields = '__all__'\n\nclass MyModelViewSet(viewsets.ModelViewSet):\n    queryset = MyModel.objects.all()\n    serializer_class = MyModelSerializer\n</code></pre>"},{"location":"Web%E7%AF%87/Django/interview/#17-django","title":"17. \u5982\u4f55\u5728 Django \u4e2d\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff1f","text":"<p>Django \u5185\u7f6e\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u6846\u67b6\uff0c\u57fa\u4e8e Python \u7684 <code>unittest</code> \u6a21\u5757\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>from django.test import TestCase\nfrom .models import MyModel\n\nclass MyModelTestCase(TestCase):\n    def setUp(self):\n        MyModel.objects.create(name='Test')\n\n    def test_model_creation(self):\n        obj = MyModel.objects.get(name='Test')\n        self.assertEqual(obj.name, 'Test')\n</code></pre> <p>\u8fd9\u4e9b\u95ee\u9898\u53ca\u89e3\u7b54\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u9762\u8bd5\u4e2d\u5feb\u901f\u3001\u51c6\u786e\u5730\u56de\u7b54 Django \u76f8\u5173\u95ee\u9898\uff0c\u5c55\u793a\u4f60\u5bf9 Django \u6846\u67b6\u7684\u5168\u9762\u638c\u63e1\u3002</p>"},{"location":"Web%E7%AF%87/Django/questions/","title":"Django \u5f00\u53d1\u4e2d\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u5728\u5b9e\u9645\u7684 Django \u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5f00\u53d1\u8005\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\uff0c\u8fd9\u4e9b\u95ee\u9898\u901a\u5e38\u6d89\u53ca\u6570\u636e\u5e93\u64cd\u4f5c\u3001\u89c6\u56fe\u903b\u8f91\u3001\u524d\u540e\u7aef\u4ea4\u4e92\u3001\u6027\u80fd\u4f18\u5316\u3001\u5b89\u5168\u6027\u3001\u90e8\u7f72\u7b49\u65b9\u9762\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5b9e\u9645\u5f00\u53d1\u4e2d\u5e38\u89c1\u7684\u590d\u6742\u95ee\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"Web%E7%AF%87/Django/questions/#1","title":"1. \u6570\u636e\u5e93\u6b7b\u9501\u95ee\u9898","text":"<ul> <li>\u95ee\u9898: \u5f53\u591a\u4e2a\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u5c1d\u8bd5\u540c\u65f6\u66f4\u65b0\u6570\u636e\u5e93\u4e2d\u7684\u540c\u4e00\u884c\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u5e93\u6b7b\u9501\uff0c\u8fdb\u800c\u5bfc\u81f4\u8bf7\u6c42\u8d85\u65f6\u6216\u5931\u8d25\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u7684\u4e8b\u52a1\u7ba1\u7406\uff08<code>transaction.atomic</code>\uff09\u6765\u786e\u4fdd\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u5e76\u907f\u514d\u957f\u65f6\u95f4\u6301\u6709\u9501\u3002</li> <li>\u5728\u5173\u952e\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u4e2d\u4f7f\u7528 <code>select_for_update</code> \u9501\u5b9a\u884c\uff0c\u786e\u4fdd\u4e0d\u4f1a\u53d1\u751f\u7ade\u4e89\u6761\u4ef6\u3002</li> <li>\u5982\u679c\u4f7f\u7528\u7684\u662f PostgreSQL\uff0c\u786e\u4fdd\u5408\u7406\u8bbe\u7f6e <code>deadlock_timeout</code> \u548c <code>lock_timeout</code>\uff0c\u53ca\u65f6\u68c0\u6d4b\u5e76\u5904\u7406\u6b7b\u9501\u3002</li> <li>\u5bf9\u4e8e\u9ad8\u5e76\u53d1\u573a\u666f\uff0c\u8003\u8651\u4f7f\u7528\u4e50\u89c2\u9501\uff08optimistic locking\uff09\u6216\u6570\u636e\u5e93\u7248\u672c\u63a7\u5236\u6765\u907f\u514d\u51b2\u7a81\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#2","title":"2. \u89c6\u56fe\u4e2d\u590d\u6742\u7684\u6743\u9650\u63a7\u5236","text":"<ul> <li>\u95ee\u9898: \u67d0\u4e9b\u89c6\u56fe\u9700\u8981\u6839\u636e\u7528\u6237\u89d2\u8272\u3001\u5bf9\u8c61\u7684\u6240\u6709\u6743\u6216\u7279\u5b9a\u6761\u4ef6\u8fdb\u884c\u590d\u6742\u7684\u6743\u9650\u63a7\u5236\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u7684 <code>UserPassesTestMixin</code> \u6216\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\u6765\u5b9e\u73b0\u89c6\u56fe\u7ea7\u522b\u7684\u6743\u9650\u63a7\u5236\u3002</li> <li>\u5bf9\u4e8e\u57fa\u4e8e\u5bf9\u8c61\u7684\u6743\u9650\u63a7\u5236\uff0c\u4f7f\u7528 Django Guardian \u6765\u7ba1\u7406\u548c\u9a8c\u8bc1\u7528\u6237\u5bf9\u7279\u5b9a\u5bf9\u8c61\u7684\u8bbf\u95ee\u6743\u9650\u3002</li> <li>\u5728\u89c6\u56fe\u4e2d\u901a\u8fc7 <code>request.user.has_perm()</code> \u68c0\u67e5\u7528\u6237\u7684\u6743\u9650\uff0c\u7ed3\u5408\u6a21\u578b\u65b9\u6cd5\u6216\u81ea\u5b9a\u4e49\u903b\u8f91\u8fdb\u884c\u6743\u9650\u9a8c\u8bc1\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#3","title":"3. \u524d\u540e\u7aef\u6570\u636e\u683c\u5f0f\u4e0d\u4e00\u81f4\u5bfc\u81f4\u7684\u4ea4\u4e92\u95ee\u9898","text":"<ul> <li>\u95ee\u9898: \u5728\u524d\u540e\u7aef\u4ea4\u4e92\u4e2d\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3a\u6570\u636e\u683c\u5f0f\u4e0d\u4e00\u81f4\u5bfc\u81f4\u6570\u636e\u65e0\u6cd5\u6b63\u786e\u4f20\u8f93\u6216\u89e3\u6790\uff0c\u7279\u522b\u662f\u5728 JSON \u683c\u5f0f\u7684\u6570\u636e\u4ea4\u4e92\u4e2d\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django REST Framework (DRF) \u63d0\u4f9b\u7684\u5e8f\u5217\u5316\u5668\uff08Serializers\uff09\u6765\u786e\u4fdd\u6570\u636e\u683c\u5f0f\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u5728\u524d\u7aef\u4e25\u683c\u9075\u5faa API \u6587\u6863\u89c4\u5b9a\u7684\u6570\u636e\u683c\u5f0f\uff0c\u5e76\u4f7f\u7528\u5de5\u5177\uff08\u5982 Postman \u6216 Swagger\uff09\u6765\u6d4b\u8bd5 API \u7684\u6b63\u786e\u6027\u3002</li> <li>\u5bf9\u4e8e\u65e5\u671f\u65f6\u95f4\u7b49\u590d\u6742\u6570\u636e\u7c7b\u578b\uff0c\u786e\u4fdd\u4f7f\u7528\u6807\u51c6\u7684\u683c\u5f0f\uff08\u5982 ISO 8601\uff09\uff0c\u5e76\u5728\u524d\u7aef\u548c\u540e\u7aef\u4fdd\u6301\u4e00\u81f4\u7684\u89e3\u6790\u548c\u683c\u5f0f\u5316\u65b9\u6cd5\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#4","title":"4. \u591a\u8bed\u8a00\u652f\u6301\u4e2d\u7684\u7ffb\u8bd1\u7ba1\u7406\u95ee\u9898","text":"<ul> <li>\u95ee\u9898: \u5728\u5f00\u53d1\u591a\u8bed\u8a00\u652f\u6301\u7684\u5e94\u7528\u65f6\uff0c\u7ba1\u7406\u548c\u66f4\u65b0\u7ffb\u8bd1\u5185\u5bb9\u53ef\u80fd\u4f1a\u975e\u5e38\u590d\u6742\uff0c\u7279\u522b\u662f\u968f\u7740\u9879\u76ee\u89c4\u6a21\u7684\u6269\u5927\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u7684\u56fd\u9645\u5316\u5de5\u5177\uff08<code>makemessages</code> \u548c <code>compilemessages</code>\uff09\u6765\u81ea\u52a8\u751f\u6210\u548c\u7f16\u8bd1\u7ffb\u8bd1\u6587\u4ef6\u3002</li> <li>\u7ec4\u7ec7\u597d\u7ffb\u8bd1\u6587\u4ef6\u7684\u7ed3\u6784\uff0c\u4f7f\u7528 <code>LOCALE_PATHS</code> \u914d\u7f6e\u5c06\u4e0d\u540c\u8bed\u8a00\u7684\u7ffb\u8bd1\u6587\u4ef6\u5206\u5f00\u7ba1\u7406\u3002</li> <li>\u5728\u9879\u76ee\u4e2d\u660e\u786e\u533a\u5206\u7528\u6237\u53ef\u89c1\u7684\u5185\u5bb9\u548c\u5185\u90e8\u4f7f\u7528\u7684\u5185\u5bb9\uff0c\u786e\u4fdd\u4ec5\u5bf9\u9700\u8981\u7ffb\u8bd1\u7684\u5185\u5bb9\u8fdb\u884c\u6807\u8bb0\u3002</li> <li>\u8003\u8651\u4f7f\u7528\u7b2c\u4e09\u65b9\u7ffb\u8bd1\u5e73\u53f0\uff08\u5982 Transifex \u6216 Crowdin\uff09\u6765\u7ba1\u7406\u5927\u578b\u9879\u76ee\u7684\u7ffb\u8bd1\u6d41\u7a0b\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#5","title":"5. \u7f13\u5b58\u4e0e\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898","text":"<ul> <li>\u95ee\u9898: \u5728\u4f7f\u7528\u7f13\u5b58\uff08\u5982 Redis \u6216 Memcached\uff09\u65f6\uff0c\u7f13\u5b58\u7684\u6570\u636e\u53ef\u80fd\u4e0e\u6570\u636e\u5e93\u4e2d\u7684\u5b9e\u9645\u6570\u636e\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u7528\u6237\u770b\u5230\u8fc7\u671f\u6216\u9519\u8bef\u7684\u4fe1\u606f\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u7684\u7f13\u5b58\u6846\u67b6\uff0c\u901a\u8fc7\u8bbe\u7f6e\u5408\u7406\u7684\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4\u6765\u51cf\u5c11\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u53ef\u80fd\u6027\u3002</li> <li>\u5bf9\u4e8e\u9700\u8981\u9891\u7e41\u66f4\u65b0\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u7f13\u5b58\u5931\u6548\u673a\u5236\uff08cache invalidation\uff09\uff0c\u5728\u6570\u636e\u66f4\u65b0\u65f6\u624b\u52a8\u6e05\u9664\u6216\u66f4\u65b0\u7f13\u5b58\u3002</li> <li>\u5bf9\u4e8e\u5173\u952e\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528\u201c\u5199\u901a\u8fc7\u201d\uff08write-through\uff09\u6216\u201c\u8bfb\u4fee\u590d\u201d\uff08read repair\uff09\u7684\u7f13\u5b58\u7b56\u7565\uff0c\u786e\u4fdd\u7f13\u5b58\u4e0e\u6570\u636e\u5e93\u7684\u540c\u6b65\u3002</li> <li>\u4f7f\u7528\u4fe1\u53f7\uff08signals\uff09\u673a\u5236\uff0c\u5728\u6a21\u578b\u6570\u636e\u53d8\u5316\u65f6\u81ea\u52a8\u89e6\u53d1\u7f13\u5b58\u66f4\u65b0\u6216\u6e05\u7406\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#6","title":"6. \u9ad8\u5e76\u53d1\u8bf7\u6c42\u5904\u7406\u4e2d\u7684\u6027\u80fd\u74f6\u9888","text":"<ul> <li>\u95ee\u9898: \u5728\u9ad8\u5e76\u53d1\u8bf7\u6c42\u573a\u666f\u4e0b\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u6027\u80fd\u74f6\u9888\uff0c\u5bfc\u81f4\u54cd\u5e94\u65f6\u95f4\u8fc7\u957f\u6216\u670d\u52a1\u5668\u5d29\u6e83\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u7684 <code>database connection pooling</code> \u6765\u51cf\u5c11\u6570\u636e\u5e93\u8fde\u63a5\u7684\u5f00\u9500\u3002</li> <li>\u5229\u7528 Django \u7684\u4e2d\u95f4\u4ef6\u7f13\u5b58\u673a\u5236\uff0c\u5728\u5168\u5c40\u6216\u5c40\u90e8\u7f13\u5b58\u89c6\u56fe\u6216\u67e5\u8be2\u7ed3\u679c\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u8d1f\u8f7d\u3002</li> <li>\u901a\u8fc7\u5f15\u5165\u5f02\u6b65\u5904\u7406\u673a\u5236\uff08\u5982 Celery\uff09\u5c06\u8017\u65f6\u64cd\u4f5c\u79fb\u5230\u540e\u53f0\u6267\u884c\uff0c\u51cf\u5c11\u5bf9\u4e3b\u7ebf\u7a0b\u7684\u963b\u585e\u3002</li> <li>\u4f7f\u7528\u8d1f\u8f7d\u5747\u8861\u5668\uff08\u5982 Nginx \u6216 HAProxy\uff09\u5c06\u8bf7\u6c42\u5206\u53d1\u5230\u591a\u4e2a\u670d\u52a1\u5668\u5b9e\u4f8b\uff0c\u63d0\u5347\u5e94\u7528\u7684\u53ef\u4f38\u7f29\u6027\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#7","title":"7. \u590d\u6742\u6a21\u578b\u5173\u7cfb\u4e2d\u7684\u6570\u636e\u5b8c\u6574\u6027\u95ee\u9898","text":"<ul> <li>\u95ee\u9898: \u5728\u5904\u7406\u5177\u6709\u590d\u6742\u5173\u7cfb\u7684\u6a21\u578b\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u6570\u636e\u5b8c\u6574\u6027\u95ee\u9898\uff0c\u4f8b\u5982\u5220\u9664\u5bf9\u8c61\u65f6\u65e0\u6cd5\u7ea7\u8054\u5220\u9664\u5173\u8054\u7684\u5b50\u5bf9\u8c61\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u7684 <code>on_delete</code> \u53c2\u6570\u5408\u7406\u8bbe\u7f6e\u5916\u952e\u7684\u5220\u9664\u884c\u4e3a\uff0c\u4f8b\u5982 <code>CASCADE</code>\u3001<code>SET_NULL</code> \u7b49\u3002</li> <li>\u5bf9\u4e8e\u591a\u5bf9\u591a\u5173\u7cfb\uff0c\u4f7f\u7528 <code>through</code> \u53c2\u6570\u5b9a\u4e49\u4e2d\u95f4\u6a21\u578b\uff0c\u624b\u52a8\u7ba1\u7406\u590d\u6742\u7684\u5173\u8054\u5173\u7cfb\u3002</li> <li>\u5728\u6a21\u578b\u7684 <code>save()</code> \u548c <code>delete()</code> \u65b9\u6cd5\u4e2d\u5b9e\u73b0\u81ea\u5b9a\u4e49\u903b\u8f91\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\u3002</li> <li>\u8003\u8651\u4f7f\u7528 Django \u7684 <code>signals</code>\uff08\u5982 <code>pre_delete</code> \u548c <code>post_save</code>\uff09\u6765\u5904\u7406\u7ea7\u8054\u5220\u9664\u6216\u66f4\u65b0\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#8","title":"8. \u81ea\u5b9a\u4e49\u7ba1\u7406\u547d\u4ee4\u7684\u590d\u6742\u6027","text":"<ul> <li>\u95ee\u9898: \u5728\u5f00\u53d1\u548c\u90e8\u7f72\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u7f16\u5199\u590d\u6742\u7684\u81ea\u5b9a\u4e49\u7ba1\u7406\u547d\u4ee4\u6765\u6267\u884c\u7279\u5b9a\u4efb\u52a1\uff0c\u5982\u6279\u91cf\u6570\u636e\u5904\u7406\u3001\u7cfb\u7edf\u72b6\u6001\u68c0\u67e5\u7b49\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u63d0\u4f9b\u7684 <code>BaseCommand</code> \u7c7b\u6765\u5b9a\u4e49\u81ea\u5b9a\u4e49\u7ba1\u7406\u547d\u4ee4\uff0c\u5e76\u4f7f\u7528 <code>add_arguments</code> \u65b9\u6cd5\u6dfb\u52a0\u547d\u4ee4\u884c\u53c2\u6570\u3002</li> <li>\u5728\u547d\u4ee4\u4e2d\u5408\u7406\u5904\u7406\u5f02\u5e38\u60c5\u51b5\uff0c\u786e\u4fdd\u5728\u53d1\u751f\u9519\u8bef\u65f6\u80fd\u591f\u6b63\u786e\u9000\u51fa\u6216\u8fdb\u884c\u65e5\u5fd7\u8bb0\u5f55\u3002</li> <li>\u5982\u679c\u547d\u4ee4\u6d89\u53ca\u5927\u91cf\u6570\u636e\u5904\u7406\uff0c\u53ef\u4ee5\u8003\u8651\u5f15\u5165\u8fdb\u5ea6\u6761\u663e\u793a\uff08\u5982 <code>tqdm</code> \u5e93\uff09\u6216\u65e5\u5fd7\u8bb0\u5f55\uff0c\u4ee5\u4fbf\u4e8e\u8ddf\u8e2a\u547d\u4ee4\u7684\u6267\u884c\u72b6\u6001\u3002</li> <li>\u5bf9\u4e8e\u9700\u8981\u5b9a\u65f6\u6267\u884c\u7684\u547d\u4ee4\uff0c\u7ed3\u5408 Celery \u6216 cron \u4f5c\u4e1a\u5b9e\u73b0\u81ea\u52a8\u5316\u8c03\u5ea6\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#9","title":"9. \u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5b89\u5168\u6027\u95ee\u9898","text":"<ul> <li>\u95ee\u9898: \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5b89\u5168\u6027\u95ee\u9898\u81f3\u5173\u91cd\u8981\uff0c\u53ef\u80fd\u6d89\u53ca\u5230 SQL \u6ce8\u5165\u3001\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff08XSS\uff09\u3001\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08CSRF\uff09\u7b49\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Django \u81ea\u5e26\u7684 CSRF \u9632\u62a4\u673a\u5236\uff0c\u901a\u8fc7 <code>@csrf_protect</code> \u6216\u6a21\u677f\u4e2d\u7684 <code>{% csrf_token %}</code> \u6807\u7b7e\u6765\u9632\u6b62 CSRF \u653b\u51fb\u3002</li> <li>\u4f7f\u7528 Django \u7684\u6a21\u677f\u5f15\u64ce\u9ed8\u8ba4\u7684\u8f6c\u4e49\u673a\u5236\uff0c\u9632\u6b62 XSS \u653b\u51fb\u3002\u5bf9\u4e8e\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\uff0c\u4f7f\u7528 <code>bleach</code> \u7b49\u5e93\u8fdb\u884c\u4e25\u683c\u7684\u8fc7\u6ee4\u3002</li> <li>\u5bf9\u6570\u636e\u5e93\u67e5\u8be2\u8fdb\u884c\u53c2\u6570\u5316\u5904\u7406\uff0c\u907f\u514d SQL \u6ce8\u5165\u98ce\u9669\u3002\u5728\u4f7f\u7528 <code>raw()</code> \u65b9\u6cd5\u65f6\uff0c\u8c28\u614e\u5904\u7406\u7528\u6237\u8f93\u5165\u3002</li> <li>\u786e\u4fdd <code>DEBUG</code> \u6a21\u5f0f\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u5173\u95ed\uff0c\u5e76\u914d\u7f6e\u5b89\u5168\u7684 <code>ALLOWED_HOSTS</code> \u5217\u8868\uff0c\u9632\u6b62\u4e3b\u673a\u5934\u653b\u51fb\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/questions/#10","title":"10. \u590d\u6742\u7684\u90e8\u7f72\u4e0e\u8fd0\u7ef4\u95ee\u9898","text":"<ul> <li>\u95ee\u9898: \u90e8\u7f72 Django \u9879\u76ee\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u914d\u7f6e\u9519\u8bef\u3001\u4f9d\u8d56\u95ee\u9898\u3001\u73af\u5883\u5dee\u5f02\u7b49\u95ee\u9898\uff0c\u5bfc\u81f4\u5e94\u7528\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002</li> <li>\u89e3\u51b3\u65b9\u6848:<ul> <li>\u4f7f\u7528 Docker \u5bb9\u5668\u5316 Django \u5e94\u7528\uff0c\u786e\u4fdd\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u751f\u4ea7\u73af\u5883\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u914d\u7f6e CI/CD \u6d41\u6c34\u7ebf\uff08\u5982 GitHub Actions\u3001Jenkins\uff09\uff0c\u5b9e\u73b0\u81ea\u52a8\u5316\u6d4b\u8bd5\u3001\u6784\u5efa\u548c\u90e8\u7f72\uff0c\u51cf\u5c11\u4eba\u4e3a\u9519\u8bef\u3002</li> <li>\u5728\u90e8\u7f72\u524d\uff0c\u4f7f\u7528\u5de5\u5177\uff08\u5982 <code>pipenv</code> \u6216 <code>poetry</code>\uff09\u6765\u7ba1\u7406\u4f9d\u8d56\u5305\uff0c\u5e76\u751f\u6210\u9501\u6587\u4ef6\u786e\u4fdd\u4f9d\u8d56\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6765\u7ba1\u7406\u654f\u611f\u4fe1\u606f\u548c\u914d\u7f6e\u53c2\u6570\uff0c\u5e76\u7ed3\u5408 <code>.env</code> \u6587\u4ef6\u548c <code>django-environ</code> \u5e93\u6765\u52a0\u8f7d\u73af\u5883\u53d8\u91cf\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/Django/restful/","title":"Django RESTful","text":"<p>\u521b\u5efa\u4e00\u4e2a Django RESTful API \u662f\u901a\u8fc7 Django REST Framework (DRF) \u5b9e\u73b0\u7684\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u8be6\u7ec6\u7684\u6559\u7a0b\uff0c\u4ecb\u7ecd\u5982\u4f55\u4ece\u5934\u5f00\u59cb\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Django RESTful API\u3002</p>"},{"location":"Web%E7%AF%87/Django/restful/#1","title":"1. \u73af\u5883\u51c6\u5907","text":""},{"location":"Web%E7%AF%87/Django/restful/#11-django-django-rest-framework","title":"1.1 \u5b89\u88c5 Django \u548c Django REST Framework","text":"<p>\u9996\u5148\uff0c\u9700\u8981\u786e\u4fdd\u5b89\u88c5\u4e86 Django \u548c Django REST Framework\u3002\u53ef\u4ee5\u4f7f\u7528 pip \u6765\u5b89\u88c5\u8fd9\u4e9b\u5e93\uff1a</p> <pre><code>pip install django djangorestframework\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#12-django","title":"1.2 \u521b\u5efa Django \u9879\u76ee\u548c\u5e94\u7528","text":"<p>\u4f7f\u7528 Django \u547d\u4ee4\u884c\u5de5\u5177\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u548c\u5e94\u7528\uff1a</p> <pre><code>django-admin startproject myproject\ncd myproject\npython manage.py startapp myapp\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#2-django-rest-framework","title":"2. \u914d\u7f6e Django REST Framework","text":""},{"location":"Web%E7%AF%87/Django/restful/#21-settingspy","title":"2.1 \u4fee\u6539 <code>settings.py</code>","text":"<p>\u5728 <code>myproject/settings.py</code> \u6587\u4ef6\u4e2d\uff0c\u786e\u4fdd <code>INSTALLED_APPS</code> \u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>INSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rest_framework',  # \u6dfb\u52a0 DRF\n    'myapp',  # \u6dfb\u52a0\u4f60\u7684\u5e94\u7528\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#22-rest-framework","title":"2.2 \u914d\u7f6e REST Framework \u8bbe\u7f6e","text":"<p>\u53ef\u4ee5\u5728 <code>settings.py</code> \u4e2d\u6dfb\u52a0\u4e00\u4e9b\u57fa\u672c\u7684 DRF \u914d\u7f6e\uff0c\u4f8b\u5982\uff1a</p> <pre><code>REST_FRAMEWORK = {\n    'DEFAULT_PERMISSION_CLASSES': [\n        'rest_framework.permissions.AllowAny',\n    ],\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework.authentication.SessionAuthentication',\n        'rest_framework.authentication.BasicAuthentication',\n    ],\n}\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#3","title":"3. \u521b\u5efa\u6a21\u578b","text":"<p>\u5728 <code>myapp/models.py</code> \u4e2d\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u578b\u3002\u4f8b\u5982\uff0c\u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u5b58\u50a8\u4e66\u7c4d\u4fe1\u606f\u7684 <code>Book</code> \u6a21\u578b\uff1a</p> <pre><code>from django.db import models\n\nclass Book(models.Model):\n    title = models.CharField(max_length=100)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n\n    def __str__(self):\n        return self.title\n</code></pre> <p>\u7136\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u751f\u6210\u548c\u5e94\u7528\u6570\u636e\u5e93\u8fc1\u79fb\uff1a</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#4","title":"4. \u521b\u5efa\u5e8f\u5217\u5316\u5668","text":"<p>\u5e8f\u5217\u5316\u5668\u7528\u4e8e\u5c06\u6a21\u578b\u5b9e\u4f8b\u8f6c\u6362\u4e3a JSON \u6570\u636e\u3002\u5728 <code>myapp/serializers.py</code> \u6587\u4ef6\u4e2d\u521b\u5efa\u4e00\u4e2a\u5e8f\u5217\u5316\u5668\u7c7b\uff1a</p> <pre><code>from rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Book\n        fields = '__all__'\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#5","title":"5. \u521b\u5efa\u89c6\u56fe","text":"<p>\u5728 <code>myapp/views.py</code> \u4e2d\uff0c\u4f7f\u7528 DRF \u63d0\u4f9b\u7684\u901a\u7528\u89c6\u56fe\u7c7b\u6765\u5904\u7406 API \u8bf7\u6c42\u3002\u6211\u4eec\u5c06\u521b\u5efa\u89c6\u56fe\u6765\u5217\u51fa\u6240\u6709\u4e66\u7c4d\u4ee5\u53ca\u5904\u7406\u5355\u4e2a\u4e66\u7c4d\u7684\u8be6\u7ec6\u4fe1\u606f\uff1a</p> <pre><code>from rest_framework import generics\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookListCreate(generics.ListCreateAPIView):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n\nclass BookRetrieveUpdateDestroy(generics.RetrieveUpdateDestroyAPIView):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#6","title":"6. \u914d\u7f6e\u8def\u7531","text":"<p>\u5728 <code>myapp/urls.py</code> \u4e2d\u914d\u7f6e\u8def\u7531\uff0c\u5c06 API \u7aef\u70b9\u6620\u5c04\u5230\u89c6\u56fe\uff1a</p> <pre><code>from django.urls import path\nfrom .views import BookListCreate, BookRetrieveUpdateDestroy\n\nurlpatterns = [\n    path('books/', BookListCreate.as_view(), name='book-list-create'),\n    path('books/&lt;int:pk&gt;/', BookRetrieveUpdateDestroy.as_view(), name='book-detail'),\n]\n</code></pre> <p>\u7136\u540e\uff0c\u5728 <code>myproject/urls.py</code> \u4e2d\u5305\u542b\u5e94\u7528\u7684 URL \u8def\u7531\uff1a</p> <pre><code>from django.contrib import admin\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/', include('myapp.urls')),\n]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#7-api","title":"7. \u6d4b\u8bd5 API","text":"<p>\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\u5e76\u6d4b\u8bd5 API\uff1a</p> <pre><code>python manage.py runserver\n</code></pre> <p>\u4f7f\u7528\u6d4f\u89c8\u5668\u6216\u5de5\u5177\uff08\u5982 Postman\uff09\u8bbf\u95ee\u4ee5\u4e0b URL \u6765\u6d4b\u8bd5\u60a8\u7684 API\uff1a</p> <ul> <li><code>http://127.0.0.1:8000/api/books/</code> - \u83b7\u53d6\u6240\u6709\u4e66\u7c4d\u6216\u521b\u5efa\u65b0\u7684\u4e66\u7c4d\u3002</li> <li><code>http://127.0.0.1:8000/api/books/1/</code> - \u83b7\u53d6\u3001\u66f4\u65b0\u6216\u5220\u9664 ID \u4e3a 1 \u7684\u4e66\u7c4d\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Django/restful/#8","title":"8. \u6269\u5c55\u529f\u80fd","text":""},{"location":"Web%E7%AF%87/Django/restful/#81","title":"8.1 \u8fc7\u6ee4\u3001\u6392\u5e8f\u548c\u641c\u7d22","text":"<p>\u4f7f\u7528 <code>django-filter</code> \u6269\u5c55\u6765\u5b9e\u73b0 API \u6570\u636e\u7684\u8fc7\u6ee4\u3001\u6392\u5e8f\u548c\u641c\u7d22\u529f\u80fd\u3002</p> <p>\u5b89\u88c5 <code>django-filter</code>\uff1a</p> <pre><code>pip install django-filter\n</code></pre> <p>\u5728 <code>settings.py</code> \u4e2d\u914d\u7f6e\u8fc7\u6ee4\u5668\uff1a</p> <pre><code>REST_FRAMEWORK = {\n    'DEFAULT_FILTER_BACKENDS': [\n        'django_filters.rest_framework.DjangoFilterBackend',\n    ],\n}\n</code></pre> <p>\u7136\u540e\u5728\u89c6\u56fe\u4e2d\u6dfb\u52a0\u8fc7\u6ee4\u3001\u6392\u5e8f\u548c\u641c\u7d22\uff1a</p> <pre><code>from django_filters.rest_framework import DjangoFilterBackend\nfrom rest_framework import filters\n\nclass BookListCreate(generics.ListCreateAPIView):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n    filter_backends = [DjangoFilterBackend, filters.OrderingFilter, filters.SearchFilter]\n    filterset_fields = ['author', 'published_date']\n    search_fields = ['title', 'author']\n    ordering_fields = ['published_date']\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#82","title":"8.2 \u8eab\u4efd\u9a8c\u8bc1\u4e0e\u6743\u9650\u63a7\u5236","text":"<p>\u60a8\u53ef\u4ee5\u4e3a API \u6dfb\u52a0\u8eab\u4efd\u9a8c\u8bc1\u548c\u6743\u9650\u63a7\u5236\uff0c\u4f8b\u5982\u9650\u5236\u67d0\u4e9b API \u7aef\u70b9\u4ec5\u4f9b\u5df2\u8ba4\u8bc1\u7528\u6237\u8bbf\u95ee\uff1a</p> <pre><code>from rest_framework.permissions import IsAuthenticated\n\nclass BookListCreate(generics.ListCreateAPIView):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n    permission_classes = [IsAuthenticated]\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#9","title":"9. \u90e8\u7f72","text":"<p>\u5c06 Django RESTful API \u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u65f6\uff0c\u9700\u8981\u8003\u8651\u4f7f\u7528 WSGI \u670d\u52a1\u5668\uff08\u5982 Gunicorn\uff09\u548c\u53cd\u5411\u4ee3\u7406\uff08\u5982 Nginx\uff09\u3002\u53e6\u5916\uff0c\u786e\u4fdd\u542f\u7528\u4e86 HTTPS\u3001\u6570\u636e\u5e93\u4f18\u5316\u3001\u7f13\u5b58\u7b49\u751f\u4ea7\u73af\u5883\u914d\u7f6e\u3002</p>"},{"location":"Web%E7%AF%87/Django/restful/#10","title":"10. \u8fdb\u9636\u529f\u80fd","text":""},{"location":"Web%E7%AF%87/Django/restful/#101","title":"10.1 \u81ea\u5b9a\u4e49\u8ba4\u8bc1","text":"<p>\u53ef\u4ee5\u6269\u5c55\u6216\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u8ba4\u8bc1\u7cfb\u7edf\uff0c\u6bd4\u5982\u4f7f\u7528 JWT\uff08JSON Web Token\uff09\uff1a</p> <pre><code>pip install djangorestframework-simplejwt\n</code></pre> <p>\u914d\u7f6e <code>settings.py</code>\uff1a</p> <pre><code>REST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'rest_framework_simplejwt.authentication.JWTAuthentication',\n    ),\n}\n</code></pre>"},{"location":"Web%E7%AF%87/Django/restful/#102-api","title":"10.2 API \u6587\u6863","text":"<p>DRF \u53ef\u4ee5\u4e0e\u81ea\u52a8\u5316\u6587\u6863\u5de5\u5177\uff08\u5982 <code>drf-yasg</code>\uff09\u96c6\u6210\uff0c\u751f\u6210 API \u7684 Swagger \u6587\u6863\uff1a</p> <pre><code>pip install drf-yasg\n</code></pre> <p>\u914d\u7f6e URL \u8def\u7531\u4ee5\u751f\u6210\u6587\u6863\uff1a</p> <pre><code>from rest_framework import permissions\nfrom drf_yasg.views import get_schema_view\nfrom drf_yasg import openapi\n\nschema_view = get_schema_view(\n   openapi.Info(\n      title=\"API \u6587\u6863\",\n      default_version='v1',\n      description=\"Test description\",\n   ),\n   public=True,\n   permission_classes=(permissions.AllowAny,),\n)\n\nurlpatterns = [\n    path('swagger/', schema_view.with_ui('swagger', cache_timeout=0), name='schema-swagger-ui'),\n]\n</code></pre> <p>\u901a\u8fc7\u672c\u6559\u7a0b\uff0c\u60a8\u5e94\u8be5\u80fd\u591f\u521b\u5efa\u4e00\u4e2a\u57fa\u672c\u7684 Django RESTful API\uff0c\u5e76\u7406\u89e3\u5982\u4f55\u6269\u5c55\u548c\u90e8\u7f72\u5b83\u3002Django REST Framework \u63d0\u4f9b\u4e86\u7075\u6d3b\u4e14\u529f\u80fd\u5f3a\u5927\u7684\u5de5\u5177\u96c6\uff0c\u53ef\u4ee5\u5e2e\u52a9\u60a8\u8f7b\u677e\u6784\u5efa\u590d\u6742\u7684 API\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/advance./","title":"FastAPI \u8fdb\u9636\u6559\u7a0b","text":""},{"location":"Web%E7%AF%87/FastAPI/basic/","title":"FastAPI \u57fa\u7840\u6559\u7a0b","text":"<p>FastAPI \u662f\u4e00\u4e2a\u73b0\u4ee3\u7684\u3001\u5feb\u901f\u7684 Web \u6846\u67b6\uff0c\u7528\u4e8e\u6784\u5efa APIs\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li>\u9ad8\u6027\u80fd\uff1a\u57fa\u4e8e Python \u7684\u5f02\u6b65\u529f\u80fd\uff0cFastAPI \u7684\u6027\u80fd\u63a5\u8fd1\u4e8e Node.js \u548c Go\u3002</li> <li>\u6613\u7528\u6027\uff1a\u8bbe\u8ba1\u4e0a\u7b80\u6d01\u4f18\u96c5\uff0c\u652f\u6301\u7c7b\u578b\u6ce8\u89e3\uff0c\u5f00\u53d1\u8005\u4f53\u9a8c\u975e\u5e38\u597d\u3002</li> <li>\u81ea\u52a8\u751f\u6210\u6587\u6863\uff1a\u57fa\u4e8e\u7c7b\u578b\u63d0\u793a\u81ea\u52a8\u751f\u6210\u4ea4\u4e92\u5f0f API \u6587\u6863\uff08Swagger UI \u548c ReDoc\uff09\u3002</li> <li>\u5f02\u6b65\u652f\u6301\uff1a\u539f\u751f\u652f\u6301 <code>async</code> \u548c <code>await</code>\uff0c\u8f7b\u677e\u6784\u5efa\u9ad8\u5e76\u53d1\u7684\u5f02\u6b65 API\u3002</li> <li>\u6570\u636e\u9a8c\u8bc1\uff1a\u4f7f\u7528 Pydantic \u8fdb\u884c\u6570\u636e\u9a8c\u8bc1\u548c\u89e3\u6790\u3002</li> </ol>"},{"location":"Web%E7%AF%87/FastAPI/basic/#1-fastapi","title":"1. FastAPI \u6982\u5ff5","text":""},{"location":"Web%E7%AF%87/FastAPI/basic/#11","title":"1.1 \u8bf7\u6c42\u548c\u54cd\u5e94\u6a21\u578b","text":"<ul> <li>\u8bf7\u6c42\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\u5230\u670d\u52a1\u5668\uff0c\u901a\u5e38\u901a\u8fc7 GET\u3001POST\u3001PUT\u3001DELETE \u7b49 HTTP \u65b9\u6cd5\u3002</li> <li>\u54cd\u5e94\uff1a\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\u5e76\u8fd4\u56de\u6570\u636e\uff0c\u901a\u5e38\u4e3a JSON \u683c\u5f0f\u3002</li> </ul>"},{"location":"Web%E7%AF%87/FastAPI/basic/#12-routing","title":"1.2 \u8def\u7531\uff08Routing\uff09","text":"<p>\u8def\u7531\u662f\u5c06 URL \u8def\u5f84\u6620\u5c04\u5230\u7279\u5b9a\u7684\u5904\u7406\u51fd\u6570\u3002FastAPI \u63d0\u4f9b\u4e86\u7b80\u6d01\u7684\u8def\u7531\u5b9a\u4e49\u65b9\u5f0f\uff0c\u901a\u8fc7 Python \u51fd\u6570\u76f4\u63a5\u7ed1\u5b9a\u5230\u8def\u7531\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/basic/#13-pydantic","title":"1.3 \u6570\u636e\u6a21\u578b\uff08Pydantic\uff09","text":"<p>FastAPI \u4f7f\u7528 Pydantic \u8fdb\u884c\u6570\u636e\u6a21\u578b\u5b9a\u4e49\u548c\u9a8c\u8bc1\u3002Pydantic \u652f\u6301\u57fa\u4e8e\u7c7b\u578b\u6ce8\u89e3\u7684\u81ea\u52a8\u6570\u636e\u9a8c\u8bc1\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/basic/#14-dependency-injection","title":"1.4 \u4f9d\u8d56\u6ce8\u5165\uff08Dependency Injection\uff09","text":"<p>FastAPI \u652f\u6301\u4f9d\u8d56\u6ce8\u5165\uff0c\u901a\u8fc7\u51fd\u6570\u53c2\u6570\u7684\u5f62\u5f0f\u5c06\u4f9d\u8d56\u4f20\u9012\u7ed9\u8def\u7531\u5904\u7406\u51fd\u6570\u3002\u5b83\u5141\u8bb8\u5f00\u53d1\u8005\u8f7b\u677e\u7ba1\u7406\u590d\u6742\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/basic/#2-fastapi","title":"2. \u5feb\u901f\u4e0a\u624b\uff1a\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 FastAPI \u5e94\u7528","text":""},{"location":"Web%E7%AF%87/FastAPI/basic/#21","title":"2.1 \u521b\u5efa\u5e94\u7528\u7a0b\u5e8f","text":"<p>\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u6700\u57fa\u672c\u7684 FastAPI \u5e94\u7528\u3002</p> <pre><code>from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")\nasync def read_root():\n    return {\"message\": \"Hello, World!\"}\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a FastAPI \u5b9e\u4f8b <code>app</code>\uff0c\u5e76\u4f7f\u7528 <code>@app.get(\"/\")</code> \u88c5\u9970\u5668\u5b9a\u4e49\u4e86\u4e00\u4e2a GET \u8bf7\u6c42\u7684\u5904\u7406\u51fd\u6570 <code>read_root</code>\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/basic/#22","title":"2.2 \u542f\u52a8\u5e94\u7528","text":"<p>\u4f7f\u7528 Uvicorn \u542f\u52a8 FastAPI \u5e94\u7528\uff1a</p> <pre><code>uvicorn main:app --reload\n</code></pre> <ul> <li><code>main</code> \u662f\u6307\u6587\u4ef6\u540d <code>main.py</code>\u3002</li> <li><code>app</code> \u662f FastAPI \u5b9e\u4f8b\u7684\u540d\u5b57\u3002</li> <li><code>--reload</code> \u542f\u7528\u81ea\u52a8\u91cd\u8f7d\uff0c\u4ee3\u7801\u66f4\u65b0\u65f6\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u91cd\u542f\u3002</li> </ul> <p>\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://127.0.0.1:8000/</code>\uff0c\u4f60\u4f1a\u770b\u5230\u4e00\u4e2a\u7b80\u5355\u7684 JSON \u54cd\u5e94 <code>{\"message\": \"Hello, World!\"}</code>\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/basic/#23","title":"2.3 \u8def\u7531\u548c\u8def\u5f84\u53c2\u6570","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u66f4\u591a\u7684\u8def\u7531\uff0c\u5e76\u4f7f\u7528\u8def\u5f84\u53c2\u6570\u6765\u5904\u7406\u52a8\u6001 URL\u3002</p> <pre><code>@app.get(\"/items/{item_id}\")\nasync def read_item(item_id: int, q: str = None):\n    return {\"item_id\": item_id, \"q\": q}\n</code></pre> <ul> <li><code>item_id</code> \u662f\u8def\u5f84\u53c2\u6570\uff0c<code>q</code> \u662f\u67e5\u8be2\u53c2\u6570\uff08\u5e26\u9ed8\u8ba4\u503c\uff09\u3002</li> </ul> <p>\u8bbf\u95ee <code>http://127.0.0.1:8000/items/42?q=foo</code>\uff0c\u54cd\u5e94\u5c06\u662f <code>{\"item_id\": 42, \"q\": \"foo\"}</code>\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/basic/#24","title":"2.4 \u6570\u636e\u6a21\u578b\u4e0e\u8bf7\u6c42\u4f53","text":"<p>\u4f7f\u7528 Pydantic \u5b9a\u4e49\u6570\u636e\u6a21\u578b\uff0c\u5e76\u5728\u8bf7\u6c42\u4f53\u4e2d\u63a5\u6536 JSON \u6570\u636e\u3002</p> <pre><code>from pydantic import BaseModel\n\nclass Item(BaseModel):\n    name: str\n    description: str = None\n    price: float\n    tax: float = None\n\n@app.post(\"/items/\")\nasync def create_item(item: Item):\n    return {\"item\": item}\n</code></pre> <ul> <li><code>Item</code> \u662f\u4e00\u4e2a Pydantic \u6a21\u578b\uff0c\u7528\u4e8e\u9a8c\u8bc1\u8bf7\u6c42\u4f53\u6570\u636e\u3002</li> <li>\u4f7f\u7528 <code>@app.post(\"/items/\")</code> \u5b9a\u4e49\u4e86\u4e00\u4e2a POST \u8def\u7531\uff0c\u63a5\u6536 <code>Item</code> \u7c7b\u578b\u7684\u6570\u636e\u3002</li> </ul> <p>\u53d1\u9001 POST \u8bf7\u6c42\u5230 <code>http://127.0.0.1:8000/items/</code>\uff0c\u643a\u5e26 JSON \u6570\u636e <code>{\"name\": \"Book\", \"price\": 12.5}</code>\uff0c\u670d\u52a1\u5668\u5c06\u8fd4\u56de\u63a5\u6536\u7684\u5bf9\u8c61\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/basic/#25","title":"2.5 \u4f9d\u8d56\u6ce8\u5165","text":"<p>\u4f9d\u8d56\u6ce8\u5165\u5141\u8bb8\u5c06\u4f9d\u8d56\u7684\u7ec4\u4ef6\u6216\u914d\u7f6e\u6ce8\u5165\u5230\u8def\u7531\u5904\u7406\u51fd\u6570\u4e2d\u3002</p> <pre><code>from fastapi import Depends\n\ndef get_query(q: str = None):\n    return q\n\n@app.get(\"/items/\")\nasync def read_items(q: str = Depends(get_query)):\n    return {\"q\": q}\n</code></pre> <ul> <li><code>get_query</code> \u662f\u4e00\u4e2a\u4f9d\u8d56\u51fd\u6570\uff0c<code>Depends</code> \u8d1f\u8d23\u5c06\u5176\u6ce8\u5165\u5230\u8def\u7531\u51fd\u6570\u4e2d\u3002</li> </ul>"},{"location":"Web%E7%AF%87/FastAPI/basic/#26","title":"2.6 \u81ea\u52a8\u751f\u6210\u6587\u6863","text":"<p>FastAPI \u81ea\u52a8\u751f\u6210 API \u6587\u6863\uff0c\u63d0\u4f9b\u4ea4\u4e92\u5f0f\u754c\u9762\uff1a</p> <ul> <li>Swagger UI\uff1a<code>http://127.0.0.1:8000/docs</code></li> <li>ReDoc\uff1a<code>http://127.0.0.1:8000/redoc</code></li> </ul>"},{"location":"Web%E7%AF%87/FastAPI/basic/#3","title":"3. \u66f4\u9ad8\u7ea7\u7684\u64cd\u4f5c","text":""},{"location":"Web%E7%AF%87/FastAPI/basic/#31-middleware","title":"3.1 \u4e2d\u95f4\u4ef6\uff08Middleware\uff09","text":"<p>\u4e2d\u95f4\u4ef6\u662f\u4e00\u4e2a\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u94a9\u5b50\uff0c\u53ef\u4ee5\u7528\u4e8e\u8bf7\u6c42\u65e5\u5fd7\u8bb0\u5f55\u3001\u8de8\u57df\u5904\u7406\u7b49\u3002</p> <pre><code>from fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/basic/#32-background-tasks","title":"3.2 \u5f02\u6b65\u4efb\u52a1\uff08Background Tasks\uff09","text":"<p>FastAPI \u652f\u6301\u540e\u53f0\u4efb\u52a1\uff0c\u53ef\u4ee5\u5728\u54cd\u5e94\u8fd4\u56de\u540e\u7ee7\u7eed\u6267\u884c\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\u3002</p> <pre><code>from fastapi import BackgroundTasks\n\ndef write_log(message: str):\n    with open(\"log.txt\", \"a\") as log:\n        log.write(message)\n\n@app.post(\"/log/\")\nasync def create_log(message: str, background_tasks: BackgroundTasks):\n    background_tasks.add_task(write_log, message)\n    return {\"message\": \"Log will be written\"}\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/basic/#33-websockets","title":"3.3 WebSockets","text":"<p>FastAPI \u539f\u751f\u652f\u6301 WebSockets\uff0c\u53ef\u4ee5\u8f7b\u677e\u6784\u5efa\u5b9e\u65f6\u901a\u4fe1\u7684\u5e94\u7528\u3002</p> <pre><code>from fastapi import WebSocket\n\n@app.websocket(\"/ws\")\nasync def websocket_endpoint(websocket: WebSocket):\n    await websocket.accept()\n    while True:\n        data = await websocket.receive_text()\n        await websocket.send_text(f\"Message text was: {data}\")\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/basic/#4-fastapi","title":"4. \u90e8\u7f72 FastAPI \u5e94\u7528","text":"<p>FastAPI \u53ef\u4ee5\u5728\u591a\u4e2a\u73af\u5883\u4e2d\u90e8\u7f72\uff1a</p> <ul> <li>\u4f7f\u7528 Uvicorn\uff1a\u9002\u5408\u5f00\u53d1\u548c\u5c0f\u578b\u5e94\u7528\u3002</li> <li>\u4f7f\u7528 Gunicorn + Uvicorn\uff1a\u9002\u5408\u751f\u4ea7\u73af\u5883\uff0c\u652f\u6301\u591a\u4e2a\u5de5\u4f5c\u8fdb\u7a0b\u3002</li> <li>\u5bb9\u5668\u5316\u90e8\u7f72\uff1a\u4f7f\u7528 Docker \u5c06\u5e94\u7528\u5bb9\u5668\u5316\uff0c\u65b9\u4fbf\u5728\u5404\u79cd\u73af\u5883\u4e2d\u90e8\u7f72\u3002</li> </ul>"},{"location":"Web%E7%AF%87/FastAPI/basic/#_1","title":"\u603b\u7ed3","text":"<p>FastAPI \u662f\u4e00\u4e2a\u5f3a\u5927\u800c\u7075\u6d3b\u7684 Web \u6846\u67b6\uff0c\u5b83\u7ed3\u5408\u4e86\u7c7b\u578b\u63d0\u793a\u3001\u81ea\u52a8\u6587\u6863\u751f\u6210\u3001\u5f02\u6b65\u652f\u6301\u7b49\u73b0\u4ee3\u7279\u6027\uff0c\u4f7f\u5f97\u5f00\u53d1\u9ad8\u6027\u80fd\u3001\u9ad8\u53ef\u7ef4\u62a4\u6027\u7684 API \u53d8\u5f97\u66f4\u52a0\u5bb9\u6613\u3002\u901a\u8fc7\u672c\u6587\u7684\u5b66\u4e60\uff0c\u4f60\u5e94\u8be5\u5bf9 FastAPI \u7684\u57fa\u672c\u6982\u5ff5\u3001\u8def\u7531\u3001\u6570\u636e\u6a21\u578b\u3001\u4f9d\u8d56\u6ce8\u5165\u7b49\u6709\u4e86\u6df1\u5165\u7684\u7406\u89e3\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/interview/","title":"FastAPI  \u9762\u8bd5\u624b\u518c","text":"<p>\u5728 FastAPI \u7684\u9762\u8bd5\u4e2d\uff0c\u9762\u8bd5\u5b98\u901a\u5e38\u4f1a\u8003\u5bdf\u5019\u9009\u4eba\u5bf9 FastAPI \u7684\u57fa\u672c\u6982\u5ff5\u3001\u5b9e\u9645\u5e94\u7528\u4ee5\u53ca\u5982\u4f55\u5e94\u5bf9\u5404\u79cd\u5f00\u53d1\u573a\u666f\u7684\u80fd\u529b\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5178\u578b\u7684 FastAPI \u9762\u8bd5\u9898\u76ee\u548c\u89e3\u7b54\u4e3e\u4f8b\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u9762\u8bd5\u4e2d\u7684\u95ee\u9898\u548c\u89e3\u7b54\u601d\u8def\u3002</p>"},{"location":"Web%E7%AF%87/FastAPI/interview/#fastapi_1","title":"\u4e00\u3001FastAPI \u57fa\u7840\u6982\u5ff5","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#11-fastapi","title":"1.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u4ec0\u4e48\u662f FastAPI\uff0c\u5b83\u7684\u4f18\u52bf\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u8bf7\u7b80\u8981\u4ecb\u7ecd\u4e00\u4e0b FastAPI\uff0c\u4ee5\u53ca\u5b83\u76f8\u6bd4\u5176\u4ed6 Python Web \u6846\u67b6\u7684\u4f18\u52bf\u3002</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>FastAPI \u4ecb\u7ecd\uff1aFastAPI \u662f\u4e00\u4e2a\u57fa\u4e8e Python 3.6+ \u7684\u73b0\u4ee3 Web \u6846\u67b6\uff0c\u7528\u4e8e\u6784\u5efa\u5feb\u901f\uff08high-performance\uff09API\uff0c\u57fa\u4e8e\u6807\u51c6 Python \u7c7b\u578b\u63d0\u793a\u3002</li> <li>\u4f18\u52bf\uff1a<ul> <li>\u9ad8\u6027\u80fd\uff1a\u57fa\u4e8e Starlette \u548c Pydantic\uff0c\u6027\u80fd\u4e0e Node.js \u548c Go \u76f8\u5f53\u3002</li> <li>\u81ea\u52a8\u751f\u6210\u6587\u6863\uff1a\u652f\u6301\u81ea\u52a8\u751f\u6210 OpenAPI \u548c JSON Schema \u6587\u6863\u3002</li> <li>\u4f9d\u8d56\u6ce8\u5165\uff1a\u5185\u7f6e\u7684\u4f9d\u8d56\u6ce8\u5165\u7cfb\u7edf\uff0c\u4fbf\u4e8e\u7ba1\u7406\u590d\u6742\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</li> <li>\u7c7b\u578b\u5b89\u5168\uff1a\u5229\u7528 Python \u7c7b\u578b\u63d0\u793a\u786e\u4fdd\u53c2\u6570\u9a8c\u8bc1\u548c\u7c7b\u578b\u68c0\u67e5\u3002</li> </ul> </li> </ul>"},{"location":"Web%E7%AF%87/FastAPI/interview/#_1","title":"\u4e8c\u3001\u8def\u7531\u4e0e\u8bf7\u6c42\u5904\u7406","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#21-fastapi","title":"2.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u5728 FastAPI \u4e2d\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u8def\u7531\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u8bf7\u5c55\u793a\u5982\u4f55\u4f7f\u7528 FastAPI \u5b9a\u4e49\u4e00\u4e2a\u8fd4\u56de \"Hello, World!\" \u7684 GET \u8bf7\u6c42\u3002</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1a\u5728 FastAPI \u4e2d\uff0c\u901a\u8fc7\u88c5\u9970\u5668 <code>@app.get()</code> \u5b9a\u4e49 GET \u8bf7\u6c42\u8def\u7531\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u5b9a\u4e49\u8def\u7531\uff1a\u901a\u8fc7\u88c5\u9970\u5668\u5b9a\u4e49\u8def\u7531\uff0c\u5e76\u5728\u8def\u7531\u51fd\u6570\u4e2d\u8fd4\u56de\u54cd\u5e94\u5185\u5bb9\u3002</li> </ul> </li> </ul> <pre><code>from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")\ndef read_root():\n    return {\"message\": \"Hello, World!\"}\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/interview/#_2","title":"\u4e09\u3001\u8bf7\u6c42\u53c2\u6570","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#31-fastapi","title":"3.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u5728 FastAPI \u4e2d\u5904\u7406\u8def\u5f84\u53c2\u6570\u548c\u67e5\u8be2\u53c2\u6570\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u8bf7\u7f16\u5199\u4e00\u4e2a API \u63a5\u53e3\uff0c\u5b83\u63a5\u53d7\u4e00\u4e2a\u7528\u6237\u540d\u4f5c\u4e3a\u8def\u5f84\u53c2\u6570\uff0c\u5e76\u53ef\u9009\u5730\u63a5\u53d7\u4e00\u4e2a\u5e74\u9f84\u4f5c\u4e3a\u67e5\u8be2\u53c2\u6570\u3002</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1a\u8def\u5f84\u53c2\u6570\u76f4\u63a5\u5728 URL \u8def\u5f84\u4e2d\u5b9a\u4e49\uff0c\u67e5\u8be2\u53c2\u6570\u901a\u8fc7 URL \u7684 <code>?</code> \u53f7\u540e\u9762\u5b9a\u4e49\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u8def\u5f84\u53c2\u6570\uff1a\u5728\u8def\u5f84\u4e2d\u5b9a\u4e49\u53c2\u6570\uff0c\u5e76\u5728\u51fd\u6570\u7b7e\u540d\u4e2d\u76f8\u5e94\u5b9a\u4e49\u3002</li> <li>\u67e5\u8be2\u53c2\u6570\uff1a\u5728\u51fd\u6570\u7b7e\u540d\u4e2d\u5b9a\u4e49\u53ef\u9009\u53c2\u6570\uff0c\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002</li> </ul> </li> </ul> <pre><code>from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/users/{username}\")\ndef read_user(username: str, age: int = None):\n    return {\"username\": username, \"age\": age}\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/interview/#_3","title":"\u56db\u3001\u8bf7\u6c42\u4f53\u548c\u8868\u5355\u6570\u636e","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#41-fastapi-json","title":"4.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u5728 FastAPI \u4e2d\u5904\u7406 JSON \u8bf7\u6c42\u4f53\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u8bf7\u7f16\u5199\u4e00\u4e2a API \u63a5\u53e3\uff0c\u5b83\u63a5\u53d7\u4e00\u4e2a\u5305\u542b\u7528\u6237\u4fe1\u606f\u7684 JSON \u5bf9\u8c61\uff0c\u5e76\u8fd4\u56de\u5904\u7406\u540e\u7684\u7528\u6237\u6570\u636e\u3002</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1aFastAPI \u4f7f\u7528 Pydantic \u6a21\u578b\u6765\u5b9a\u4e49\u548c\u9a8c\u8bc1\u8bf7\u6c42\u4f53\u7684\u6570\u636e\u7ed3\u6784\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u5b9a\u4e49 Pydantic \u6a21\u578b\uff1a\u521b\u5efa Pydantic \u6a21\u578b\u7c7b\u6765\u63cf\u8ff0\u8bf7\u6c42\u4f53\u7ed3\u6784\u3002</li> <li>\u8bf7\u6c42\u4f53\u5904\u7406\uff1a\u901a\u8fc7\u51fd\u6570\u53c2\u6570\u63a5\u6536\u5e76\u5904\u7406 JSON \u6570\u636e\u3002</li> </ul> </li> </ul> <pre><code>from fastapi import FastAPI\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\nclass User(BaseModel):\n    name: str\n    age: int\n\n@app.post(\"/users/\")\ndef create_user(user: User):\n    return {\"name\": user.name.upper(), \"age\": user.age}\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/interview/#_4","title":"\u4e94\u3001\u4f9d\u8d56\u6ce8\u5165","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#51-fastapi","title":"5.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u5728 FastAPI \u4e2d\u4f7f\u7528\u4f9d\u8d56\u6ce8\u5165\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a\u4f9d\u8d56\uff0c\u5b83\u4f1a\u5728\u6bcf\u4e2a\u8bf7\u6c42\u4e2d\u6253\u5370\u4e00\u6761\u65e5\u5fd7\uff0c\u5e76\u5728\u8def\u7531\u51fd\u6570\u4e2d\u4f7f\u7528\u5b83\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1aFastAPI \u5141\u8bb8\u901a\u8fc7 <code>Depends</code> \u8fdb\u884c\u4f9d\u8d56\u6ce8\u5165\uff0c\u4fbf\u4e8e\u4ee3\u7801\u91cd\u7528\u548c\u903b\u8f91\u5206\u79bb\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u5b9a\u4e49\u4f9d\u8d56\uff1a\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4f5c\u4f9d\u8d56\u3002</li> <li>\u4f7f\u7528\u4f9d\u8d56\uff1a\u5728\u8def\u7531\u51fd\u6570\u4e2d\u901a\u8fc7 <code>Depends</code> \u6ce8\u5165\u8be5\u4f9d\u8d56\u3002</li> </ul> </li> </ul> <pre><code>from fastapi import FastAPI, Depends\n\napp = FastAPI()\n\ndef log_dependency():\n    print(\"Log: New request received\")\n    return \"Dependency injected\"\n\n@app.get(\"/items/\")\ndef read_items(log: str = Depends(log_dependency)):\n    return {\"message\": log}\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/interview/#_5","title":"\u516d\u3001\u5f02\u5e38\u5904\u7406","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#61-fastapi","title":"6.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u5728 FastAPI \u4e2d\u5904\u7406\u5f02\u5e38\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5f02\u5e38\u5e76\u5728 FastAPI \u4e2d\u5904\u7406\u5b83\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1a\u53ef\u4ee5\u901a\u8fc7 <code>HTTPException</code> \u629b\u51fa\u6807\u51c6\u5f02\u5e38\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u5f02\u5e38\u5904\u7406\u5668\u5904\u7406\u7279\u6b8a\u60c5\u51b5\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u5b9a\u4e49\u81ea\u5b9a\u4e49\u5f02\u5e38\uff1a\u901a\u8fc7\u7ee7\u627f Python \u7684 <code>Exception</code> \u7c7b\u521b\u5efa\u81ea\u5b9a\u4e49\u5f02\u5e38\u3002</li> <li>\u6ce8\u518c\u5f02\u5e38\u5904\u7406\u5668\uff1a\u4f7f\u7528 <code>app.exception_handler</code> \u88c5\u9970\u5668\u6ce8\u518c\u5904\u7406\u5668\u3002</li> </ul> </li> </ul> <pre><code>from fastapi import FastAPI, HTTPException\nfrom fastapi.responses import JSONResponse\n\napp = FastAPI()\n\nclass CustomException(Exception):\n    def __init__(self, name: str):\n        self.name = name\n\n@app.exception_handler(CustomException)\ndef custom_exception_handler(request, exc: CustomException):\n    return JSONResponse(status_code=418, content={\"message\": f\"Oops! {exc.name} did something wrong.\"})\n\n@app.get(\"/items/{name}\")\ndef read_item(name: str):\n    if name == \"bad\":\n        raise CustomException(name=name)\n    return {\"name\": name}\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/interview/#fastapi_2","title":"\u4e03\u3001\u6d4b\u8bd5 FastAPI \u5e94\u7528","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#71-fastapi","title":"7.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u6d4b\u8bd5\u4e00\u4e2a FastAPI \u5e94\u7528\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u8bf7\u5c55\u793a\u5982\u4f55\u4f7f\u7528 <code>TestClient</code> \u6d4b\u8bd5\u4e00\u4e2a FastAPI \u5e94\u7528\u7684 API \u8def\u7531\u3002</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1aFastAPI \u63d0\u4f9b\u4e86 <code>TestClient</code> \u6765\u6a21\u62df\u8bf7\u6c42\uff0c\u6d4b\u8bd5 API \u7684\u884c\u4e3a\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u6d4b\u8bd5\u5ba2\u6237\u7aef\uff1a\u4f7f\u7528 <code>TestClient</code> \u521b\u5efa\u5ba2\u6237\u7aef\uff0c\u53d1\u9001\u8bf7\u6c42\u5e76\u9a8c\u8bc1\u54cd\u5e94\u3002</li> </ul> </li> </ul> <pre><code>from fastapi.testclient import TestClient\nfrom myapp import app  # \u5047\u8bbe\u4e0a\u9762\u7684 FastAPI \u5e94\u7528\u5728 myapp.py \u6587\u4ef6\u4e2d\n\nclient = TestClient(app)\n\ndef test_read_root():\n    response = client.get(\"/\")\n    assert response.status_code == 200\n    assert response.json() == {\"message\": \"Hello, World!\"}\n</code></pre>"},{"location":"Web%E7%AF%87/FastAPI/interview/#fastapi_3","title":"\u516b\u3001\u90e8\u7f72 FastAPI \u5e94\u7528","text":""},{"location":"Web%E7%AF%87/FastAPI/interview/#81-fastapi","title":"8.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u90e8\u7f72\u4e00\u4e2a FastAPI \u5e94\u7528\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u4f60\u4f1a\u5982\u4f55\u5c06\u4e00\u4e2a FastAPI \u5e94\u7528\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1a\u90e8\u7f72 FastAPI \u5e94\u7528\u7684\u65b9\u5f0f\u591a\u79cd\u591a\u6837\uff0c\u5e38\u89c1\u7684\u6709\u4f7f\u7528 Uvicorn \u6216 Gunicorn\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u672c\u5730\u90e8\u7f72\uff1a\u4f7f\u7528 Uvicorn \u8fd0\u884c\u5e94\u7528\u3002</li> <li>\u751f\u4ea7\u73af\u5883\u90e8\u7f72\uff1a\u901a\u8fc7 Gunicorn + Uvicorn \u591a\u5de5\u4f5c\u8fdb\u7a0b\u7684\u65b9\u5f0f\u63d0\u9ad8\u6027\u80fd\u3002</li> </ul> </li> </ul> <pre><code># \u4f7f\u7528 Uvicorn \u672c\u5730\u8fd0\u884c\u5e94\u7528\nuvicorn myapp:app --reload\n\n# \u4f7f\u7528 Gunicorn + Uvicorn \u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\ngunicorn -k uvicorn.workers.UvicornWorker myapp:app\n</code></pre> <p>\u8fd9\u4e9b\u793a\u4f8b\u6db5\u76d6\u4e86 FastAPI \u9762\u8bd5\u4e2d\u53ef\u80fd\u6d89\u53ca\u7684\u591a\u4e2a\u65b9\u9762\uff0c\u5e2e\u52a9\u4f60\u7cfb\u7edf\u6027\u5730\u7406\u89e3\u548c\u56de\u7b54\u76f8\u5173\u95ee\u9898\u3002\u901a\u8fc7\u8fd9\u4e9b\u8be6\u7ec6\u7684\u89e3\u7b54\uff0c\u4f60\u53ef\u4ee5\u66f4\u597d\u5730\u51c6\u5907 FastAPI \u9762\u8bd5\uff0c\u5c55\u73b0\u4f60\u7684\u6280\u672f\u80fd\u529b\u548c\u9879\u76ee\u7ecf\u9a8c\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/","title":"Advance","text":""},{"location":"Web%E7%AF%87/Flask/advance/#flask","title":"Flask \u8fdb\u9636\u5185\u5bb9\uff1a\u66f4\u591a\u8be6\u7ec6\u8bb2\u89e3","text":"<p>\u5728\u4e4b\u524d\u7684\u57fa\u7840\u4e0a\uff0c\u4e0b\u9762\u6211\u4eec\u5c06\u8fdb\u4e00\u6b65\u6df1\u5165\u63a2\u8ba8 Flask \u7684\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd\u548c\u5e38\u89c1\u7684\u5f00\u53d1\u6a21\u5f0f\uff0c\u4ee5\u5e2e\u52a9\u4f60\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u66f4\u597d\u5730\u5e94\u7528 Flask\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#4-flask-middleware","title":"4. Flask \u7684\u4e2d\u95f4\u4ef6\uff08Middleware\uff09","text":"<p>\u4e2d\u95f4\u4ef6\u662f\u4ecb\u4e8e\u8bf7\u6c42\u548c\u54cd\u5e94\u4e4b\u95f4\u7684\u5904\u7406\u903b\u8f91\uff0c\u7528\u4e8e\u5728 Flask \u5e94\u7528\u4e2d\u6dfb\u52a0\u989d\u5916\u7684\u529f\u80fd\uff0c\u5982\u65e5\u5fd7\u8bb0\u5f55\u3001\u8bf7\u6c42\u4fee\u6539\u3001\u8ba4\u8bc1\u7b49\u3002</p> <pre><code>from werkzeug.wrappers import Request, Response\n\ndef simple_middleware(app):\n    def middleware(environ, start_response):\n        request = Request(environ)\n        print(f'Incoming request: {request.method} {request.path}')\n        return app(environ, start_response)\n    return middleware\n\napp.wsgi_app = simple_middleware(app.wsgi_app)\n</code></pre> <p>\u8fd9\u4e2a\u793a\u4f8b\u5c55\u793a\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u4e2d\u95f4\u4ef6\uff0c\u5b83\u5728\u5904\u7406\u6bcf\u4e2a\u8bf7\u6c42\u4e4b\u524d\u6253\u5370\u51fa\u8bf7\u6c42\u7684\u8def\u5f84\u548c\u65b9\u6cd5\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#5-flask-request-hooks","title":"5. Flask \u7684\u8bf7\u6c42\u94a9\u5b50\uff08Request Hooks\uff09","text":"<p>Flask \u63d0\u4f9b\u4e86\u56db\u79cd\u8bf7\u6c42\u94a9\u5b50\uff08request hooks\uff09\uff0c\u5141\u8bb8\u4f60\u5728\u8bf7\u6c42\u5904\u7406\u7684\u4e0d\u540c\u9636\u6bb5\u63d2\u5165\u81ea\u5b9a\u4e49\u903b\u8f91\u3002</p> <ul> <li><code>before_request</code>: \u5728\u8bf7\u6c42\u5904\u7406\u4e4b\u524d\u6267\u884c\u3002</li> <li><code>after_request</code>: \u5728\u8bf7\u6c42\u5904\u7406\u4e4b\u540e\u6267\u884c\uff0c\u4f46\u5728\u54cd\u5e94\u53d1\u9001\u4e4b\u524d\u3002</li> <li><code>teardown_request</code>: \u5728\u8bf7\u6c42\u7ed3\u675f\u65f6\uff0c\u65e0\u8bba\u662f\u5426\u53d1\u751f\u5f02\u5e38\uff0c\u90fd\u4f1a\u6267\u884c\u3002</li> <li><code>before_first_request</code>: \u5728\u5904\u7406\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u4e4b\u524d\u6267\u884c\u4e00\u6b21\u3002</li> </ul> <pre><code>@app.before_request\ndef before_request_func():\n    print(\"This function runs before each request.\")\n\n@app.after_request\ndef after_request_func(response):\n    print(\"This function runs after each request.\")\n    return response\n</code></pre> <p>\u4f7f\u7528\u8bf7\u6c42\u94a9\u5b50\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5730\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u4e0d\u540c\u9636\u6bb5\u63d2\u5165\u81ea\u5b9a\u4e49\u903b\u8f91\uff0c\u5982\u7528\u6237\u8ba4\u8bc1\u3001\u65e5\u5fd7\u8bb0\u5f55\u7b49\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#6-flask","title":"6. Flask \u7684\u914d\u7f6e\u7ba1\u7406","text":"<p>Flask \u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u6765\u7ba1\u7406\u914d\u7f6e\uff0c\u901a\u5e38\u4f7f\u7528\u914d\u7f6e\u5bf9\u8c61\u6216\u73af\u5883\u53d8\u91cf\u6765\u5206\u79bb\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u751f\u4ea7\u73af\u5883\u3002</p> <pre><code>import os\nclass Config:\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'a_secret_key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or 'sqlite:///app.db'\n\nclass DevelopmentConfig(Config):\n    DEBUG = True\n\nclass ProductionConfig(Config):\n    DEBUG = False\n\napp.config.from_object('config.DevelopmentConfig')\n</code></pre> <p>\u901a\u8fc7\u521b\u5efa\u4e0d\u540c\u7684\u914d\u7f6e\u7c7b\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u7ba1\u7406\u4e0d\u540c\u73af\u5883\u7684\u914d\u7f6e\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#7-flask-extensions","title":"7. Flask \u7684\u6269\u5c55\uff08Extensions\uff09","text":"<p>Flask \u6709\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u6269\u5c55\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5feb\u901f\u6dfb\u52a0\u5e38\u89c1\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684 Flask \u6269\u5c55\uff1a</p> <ul> <li>Flask-WTF: \u5904\u7406\u8868\u5355\u548c\u9a8c\u8bc1\u3002</li> <li>Flask-Migrate: \u5904\u7406\u6570\u636e\u5e93\u8fc1\u79fb\u3002</li> <li>Flask-Login: \u5904\u7406\u7528\u6237\u8ba4\u8bc1\u3002</li> <li>Flask-Mail: \u5904\u7406\u90ae\u4ef6\u53d1\u9001\u3002</li> <li>Flask-Caching: \u6dfb\u52a0\u7f13\u5b58\u652f\u6301\u3002</li> </ul> <p>\u4f7f\u7528\u8fd9\u4e9b\u6269\u5c55\u53ef\u4ee5\u5927\u5927\u7b80\u5316\u5f00\u53d1\u6d41\u7a0b\uff0c\u5e76\u786e\u4fdd\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u66f4\u52a0\u5065\u58ee\u548c\u6613\u4e8e\u7ef4\u62a4\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#8-flask-testing","title":"8. Flask \u7684\u6d4b\u8bd5\uff08Testing\uff09","text":"<p>\u6d4b\u8bd5\u662f\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u8d28\u91cf\u7684\u5173\u952e\u90e8\u5206\u3002Flask \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u6d4b\u8bd5\u652f\u6301\uff0c\u53ef\u4ee5\u4f7f\u7528 Python \u7684 <code>unittest</code> \u6216 <code>pytest</code> \u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u548c\u96c6\u6210\u6d4b\u8bd5\u3002</p> <pre><code>import unittest\nfrom app import app\n\nclass FlaskTestCase(unittest.TestCase):\n\n    def test_index(self):\n        tester = app.test_client(self)\n        response = tester.get('/')\n        self.assertEqual(response.status_code, 200)\n        self.assertIn(b'Hello, Flask!', response.data)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre> <p>\u901a\u8fc7\u7f16\u5199\u6d4b\u8bd5\u7528\u4f8b\uff0c\u4f60\u53ef\u4ee5\u786e\u4fdd\u4ee3\u7801\u7684\u529f\u80fd\u6027\u5e76\u51cf\u5c11\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5f15\u5165\u7684\u9519\u8bef\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#9-flask-error-handling","title":"9. Flask \u7684\u9519\u8bef\u5904\u7406\uff08Error Handling\uff09","text":"<p>\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u9519\u8bef\u662f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u90e8\u5206\u3002Flask \u63d0\u4f9b\u4e86\u7075\u6d3b\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u9519\u8bef\u9875\u9762\u6216\u65e5\u5fd7\u8bb0\u5f55\u3002</p> <pre><code>@app.errorhandler(404)\ndef page_not_found(e):\n    return render_template('404.html'), 404\n\n@app.errorhandler(500)\ndef internal_server_error(e):\n    return render_template('500.html'), 500\n</code></pre> <p>\u901a\u8fc7\u81ea\u5b9a\u4e49\u9519\u8bef\u5904\u7406\u7a0b\u5e8f\uff0c\u4f60\u53ef\u4ee5\u66f4\u597d\u5730\u63a7\u5236\u5e94\u7528\u7a0b\u5e8f\u5728\u53d1\u751f\u9519\u8bef\u65f6\u7684\u884c\u4e3a\uff0c\u5e76\u63d0\u9ad8\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#10-flask","title":"10. Flask \u4e0e\u524d\u7aef\u96c6\u6210","text":"<p>Flask \u53ef\u4ee5\u8f7b\u677e\u96c6\u6210\u524d\u7aef\u6846\u67b6\uff0c\u5982 React\u3001Vue.js \u6216 Angular\uff0c\u6784\u5efa\u5355\u9875\u5e94\u7528\uff08SPA\uff09\u3002</p> <ul> <li>\u9759\u6001\u6587\u4ef6\u7ba1\u7406: Flask \u53ef\u4ee5\u76f4\u63a5\u7ba1\u7406 CSS\u3001JavaScript \u548c\u56fe\u50cf\u7b49\u9759\u6001\u8d44\u6e90\u3002</li> <li>\u6a21\u677f\u5f15\u64ce\u4e0e\u524d\u7aef\u6846\u67b6\u7ed3\u5408: \u4f7f\u7528 Jinja2 \u6a21\u677f\u5f15\u64ce\uff0c\u751f\u6210\u52a8\u6001 HTML \u5185\u5bb9\uff0c\u5e76\u4e0e\u524d\u7aef\u6846\u67b6\u7684\u6570\u636e\u7ed1\u5b9a\u529f\u80fd\u7ed3\u5408\u3002</li> </ul> <pre><code>@app.route('/')\ndef index():\n    return render_template('index.html')\n</code></pre> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4f60\u53ef\u4ee5\u5c06\u540e\u7aef\u903b\u8f91\u4e0e\u524d\u7aef\u5c55\u793a\u76f8\u7ed3\u5408\uff0c\u6784\u5efa\u73b0\u4ee3\u5316\u7684 Web \u5e94\u7528\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#flask_1","title":"Flask \u8fdb\u9636\u5185\u5bb9\uff1a\u66f4\u591a\u6df1\u5165\u8bb2\u89e3","text":"<p>\u6211\u4eec\u5c06\u7ee7\u7eed\u6df1\u5165\u63a2\u8ba8 Flask \u7684\u9ad8\u7ea7\u529f\u80fd\u548c\u5f00\u53d1\u6a21\u5f0f\uff0c\u5e2e\u52a9\u4f60\u66f4\u5168\u9762\u5730\u638c\u63e1 Flask \u7684\u5e94\u7528\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#11-flask","title":"11. Flask \u4e0e\u6570\u636e\u5e93\u7684\u96c6\u6210","text":"<p>\u5728 Flask \u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u65b9\u5f0f\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u3002\u6700\u5e38\u7528\u7684\u65b9\u5f0f\u662f\u901a\u8fc7 SQLAlchemy\uff0c\u5b83\u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684 ORM\uff08\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04\uff09\u5de5\u5177\u3002</p> <pre><code>from flask_sqlalchemy import SQLAlchemy\n\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///app.db'\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\n\nclass User(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n\n    def __repr__(self):\n        return f'&lt;User {self.username}&gt;'\n</code></pre> <p>\u901a\u8fc7\u5b9a\u4e49\u6a21\u578b\u7c7b\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u64cd\u4f5c\u6570\u636e\u5e93\uff0c\u800c\u4e0d\u9700\u8981\u7f16\u5199 SQL \u8bed\u53e5\u3002Flask-SQLAlchemy \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u67e5\u8be2\u529f\u80fd\u3001\u5173\u7cfb\u6620\u5c04\u3001\u8fc1\u79fb\u652f\u6301\u7b49\uff0c\u4f7f\u5f97\u6570\u636e\u5e93\u64cd\u4f5c\u66f4\u52a0\u7b80\u5355\u548c\u5b89\u5168\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#12-flask-blueprints","title":"12. Flask \u7684\u84dd\u56fe\uff08Blueprints\uff09","text":"<p>\u84dd\u56fe\u662f Flask \u7528\u4e8e\u7ec4\u7ec7\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u9002\u5408\u5927\u578b\u9879\u76ee\u7684\u6a21\u5757\u5316\u5f00\u53d1\u3002\u901a\u8fc7\u84dd\u56fe\uff0c\u4f60\u53ef\u4ee5\u5c06\u5e94\u7528\u7a0b\u5e8f\u7684\u4e0d\u540c\u90e8\u5206\u5206\u79bb\u5f00\u6765\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002</p> <pre><code>from flask import Blueprint\n\nauth = Blueprint('auth', __name__)\n\n@auth.route('/login')\ndef login():\n    return \"Login Page\"\n\n@auth.route('/logout')\ndef logout():\n    return \"Logout Page\"\n\napp.register_blueprint(auth, url_prefix='/auth')\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a <code>auth</code> \u7684\u84dd\u56fe\uff0c\u5e76\u5c06\u5176\u6ce8\u518c\u5230\u5e94\u7528\u7a0b\u5e8f\u4e2d\u3002\u8fd9\u6837\uff0c\u6240\u6709\u4e0e\u8ba4\u8bc1\u76f8\u5173\u7684\u8def\u7531\u90fd\u53ef\u4ee5\u96c6\u4e2d\u7ba1\u7406\uff0c\u65b9\u4fbf\u6269\u5c55\u548c\u7ef4\u62a4\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#13-flask","title":"13. Flask \u7684\u5b89\u5168\u6027","text":"<p>Flask \u63d0\u4f9b\u4e86\u591a\u79cd\u5de5\u5177\u6765\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\uff0c\u4f8b\u5982 CSRF\uff08\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff09\u4fdd\u62a4\u3001XSS\uff08\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff09\u9632\u62a4\u3001\u7528\u6237\u8ba4\u8bc1\u7b49\u3002</p> <ul> <li>CSRF \u4fdd\u62a4: \u901a\u8fc7 Flask-WTF \u63d0\u4f9b\u7684 CSRF \u4fdd\u62a4\u673a\u5236\uff0c\u9632\u6b62\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\u653b\u51fb\u3002</li> <li>\u7528\u6237\u8ba4\u8bc1: Flask-Login \u662f\u4e00\u4e2a\u7528\u4e8e\u5904\u7406\u7528\u6237\u4f1a\u8bdd\u7684\u6269\u5c55\uff0c\u652f\u6301\u8bb0\u4f4f\u6211\u529f\u80fd\u3001\u591a\u7528\u6237\u89d2\u8272\u3001\u7528\u6237\u52a0\u8f7d\u7b49\u529f\u80fd\u3002</li> </ul> <pre><code>from flask_wtf import CSRFProtect\ncsrf = CSRFProtect(app)\n\nfrom flask_login import LoginManager\n\nlogin_manager = LoginManager()\nlogin_manager.init_app(app)\n</code></pre> <p>\u901a\u8fc7\u8fd9\u4e9b\u5b89\u5168\u673a\u5236\uff0c\u4f60\u53ef\u4ee5\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\uff0c\u9632\u6b62\u5e38\u89c1\u7684 Web \u653b\u51fb\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#14-flask","title":"14. Flask \u7684\u5f02\u6b65\u652f\u6301","text":"<p>\u968f\u7740 Python 3.7 \u5f15\u5165\u539f\u751f\u7684\u5f02\u6b65\u652f\u6301\uff08<code>async</code>/<code>await</code>\uff09\uff0cFlask \u4e5f\u5f00\u59cb\u652f\u6301\u5f02\u6b65\u89c6\u56fe\u51fd\u6570\uff0c\u4f7f\u5f97\u5904\u7406\u5f02\u6b65\u4efb\u52a1\u66f4\u52a0\u9ad8\u6548\u3002</p> <pre><code>from flask import jsonify\n\n@app.route('/async')\nasync def async_route():\n    return jsonify(message=\"This is an async route\")\n</code></pre> <p>\u5728\u5f02\u6b65\u89c6\u56fe\u4e2d\uff0c\u4f60\u53ef\u4ee5\u6267\u884c\u8017\u65f6\u7684 I/O \u64cd\u4f5c\uff08\u5982\u6570\u636e\u5e93\u67e5\u8be2\u3001API \u8bf7\u6c42\u7b49\uff09\uff0c\u800c\u4e0d\u4f1a\u963b\u585e\u670d\u52a1\u5668\u7684\u5176\u4ed6\u8bf7\u6c42\u3002\u8fd9\u5bf9\u4e8e\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8bf7\u6c42\u7684\u5e94\u7528\u7a0b\u5e8f\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#15-flask","title":"15. Flask \u7684\u5b9a\u5236\u5316\u65e5\u5fd7\u8bb0\u5f55","text":"<p>\u65e5\u5fd7\u8bb0\u5f55\u662f\u8c03\u8bd5\u548c\u76d1\u63a7\u5e94\u7528\u7a0b\u5e8f\u7684\u91cd\u8981\u624b\u6bb5\u3002Flask \u63d0\u4f9b\u4e86\u7075\u6d3b\u7684\u65e5\u5fd7\u914d\u7f6e\u9009\u9879\uff0c\u652f\u6301\u5c06\u65e5\u5fd7\u8f93\u51fa\u5230\u63a7\u5236\u53f0\u3001\u6587\u4ef6\u3001\u751a\u81f3\u8fdc\u7a0b\u65e5\u5fd7\u670d\u52a1\u5668\u3002</p> <pre><code>import logging\n\nlogging.basicConfig(filename='app.log', level=logging.DEBUG)\n\n@app.route('/log')\ndef log_example():\n    app.logger.info('This is an info message')\n    return \"Check the log file!\"\n</code></pre> <p>\u901a\u8fc7\u5b9a\u5236\u5316\u65e5\u5fd7\u914d\u7f6e\uff0c\u4f60\u53ef\u4ee5\u66f4\u597d\u5730\u76d1\u63a7\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5feb\u901f\u5b9a\u4f4d\u95ee\u9898\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#16-flask-i18n-l10n","title":"16. Flask \u7684\u56fd\u9645\u5316\u4e0e\u672c\u5730\u5316\uff08i18n &amp; l10n\uff09","text":"<p>Flask-Babel \u662f\u4e00\u4e2a\u7528\u4e8e\u5904\u7406\u591a\u8bed\u8a00\u652f\u6301\u7684\u6269\u5c55\uff0c\u5141\u8bb8\u4f60\u4e3a\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u56fd\u9645\u5316\u548c\u672c\u5730\u5316\u529f\u80fd\u3002</p> <pre><code>from flask_babel import Babel\n\napp.config['BABEL_DEFAULT_LOCALE'] = 'en'\nbabel = Babel(app)\n\n@babel.localeselector\ndef get_locale():\n    return request.accept_languages.best_match(['en', 'es', 'fr'])\n\n@app.route('/')\ndef index():\n    return gettext(\"Hello, World!\")\n</code></pre> <p>\u901a\u8fc7 Flask-Babel\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5730\u7ba1\u7406\u591a\u8bed\u8a00\u6587\u672c\uff0c\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u670d\u52a1\u4e8e\u5168\u7403\u4e0d\u540c\u8bed\u8a00\u7684\u7528\u6237\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#17-flask","title":"17. Flask \u7684\u5f02\u6b65\u4efb\u52a1\u5904\u7406","text":"<p>Flask- Celery \u662f\u4e00\u4e2a\u6d41\u884c\u7684\u5f02\u6b65\u4efb\u52a1\u961f\u5217\uff0c\u7528\u4e8e\u5904\u7406\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\uff0c\u5982\u53d1\u9001\u90ae\u4ef6\u3001\u751f\u6210\u62a5\u544a\u3001\u5904\u7406\u6570\u636e\u7b49\u3002</p> <pre><code>from celery import Celery\n\ncelery = Celery(app.name, broker='redis://localhost:6379/0')\n\n@app.route('/process')\ndef process():\n    task = long_task.apply_async()\n    return f'Task {task.id} added to the queue'\n\n@celery.task\ndef long_task():\n    # \u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\n    return \"Task completed\"\n</code></pre> <p>\u901a\u8fc7 Celery\uff0c\u4f60\u53ef\u4ee5\u5c06\u8017\u65f6\u7684\u64cd\u4f5c\u653e\u5165\u540e\u53f0\u6267\u884c\uff0c\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u7684\u54cd\u5e94\u901f\u5ea6\u548c\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#18-flask-restful-api","title":"18. Flask \u7684 RESTful API \u5f00\u53d1","text":"<p>Flask \u662f\u6784\u5efa RESTful API \u7684\u7406\u60f3\u6846\u67b6\uff0c\u652f\u6301\u7b80\u5355\u548c\u7075\u6d3b\u7684\u8def\u7531\u673a\u5236\uff0c\u4ee5\u53ca\u8fd4\u56de JSON \u683c\u5f0f\u6570\u636e\u7684\u80fd\u529b\u3002</p> <pre><code>from flask import jsonify\n\n@app.route('/api/users', methods=['GET'])\ndef get_users():\n    users = [{'id': 1, 'name': 'John Doe'}, {'id': 2, 'name': 'Jane Doe'}]\n    return jsonify(users)\n</code></pre> <p>\u4f7f\u7528 Flask\uff0c\u60a8\u53ef\u4ee5\u8f7b\u677e\u6784\u5efa\u7b26\u5408 REST \u67b6\u6784\u7684 API\uff0c\u652f\u6301\u5e38\u89c1\u7684 HTTP \u52a8\u4f5c\uff0c\u5982 GET\u3001POST\u3001PUT\u3001DELETE \u7b49\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#19-flask","title":"19. Flask \u7684\u751f\u4ea7\u73af\u5883\u90e8\u7f72","text":"<p>\u5728\u5c06 Flask \u5e94\u7528\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u65f6\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 WSGI \u670d\u52a1\u5668\uff08\u5982 Gunicorn \u6216 uWSGI\uff09\u4ee5\u53ca\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff08\u5982 Nginx\uff09\u3002</p> <pre><code>gunicorn -w 4 -b 127.0.0.1:4000 myapp:app\n</code></pre> <p>\u4f7f\u7528 Gunicorn\uff0c\u60a8\u53ef\u4ee5\u8f7b\u677e\u542f\u52a8\u591a\u4e2a\u5de5\u4f5c\u8fdb\u7a0b\uff0c\u5904\u7406\u5e76\u53d1\u8bf7\u6c42\uff0c\u786e\u4fdd\u5e94\u7528\u7684\u7a33\u5b9a\u6027\u548c\u9ad8\u6548\u6027\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#20-flask","title":"20. Flask \u4e2d\u7684\u4e2d\u95f4\u4ef6","text":"<p>\u4e2d\u95f4\u4ef6\uff08Middleware\uff09\u662f\u4e00\u79cd\u5728\u8bf7\u6c42\u5904\u7406\u4e4b\u524d\u6216\u4e4b\u540e\u6267\u884c\u7684\u529f\u80fd\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u4fee\u6539\u8bf7\u6c42\u6216\u54cd\u5e94\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u5904\u7406\u903b\u8f91\u3002Flask \u652f\u6301 WSGI \u4e2d\u95f4\u4ef6\uff0c\u901a\u8fc7\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u6269\u5c55 Flask \u7684\u529f\u80fd\u3002</p> <pre><code>class SimpleMiddleware:\n    def __init__(self, app):\n        self.app = app\n\n    def __call__(self, environ, start_response):\n        print(\"Before Request\")\n        response = self.app(environ, start_response)\n        print(\"After Request\")\n        return response\n\napp.wsgi_app = SimpleMiddleware(app.wsgi_app)\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>SimpleMiddleware</code> \u5728\u8bf7\u6c42\u5904\u7406\u4e4b\u524d\u548c\u4e4b\u540e\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\u3002\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u7528\u4e8e\u6dfb\u52a0\u65e5\u5fd7\u8bb0\u5f55\u3001\u6027\u80fd\u76d1\u63a7\u3001\u6743\u9650\u68c0\u67e5\u7b49\u529f\u80fd\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#21-flask-request-hooks","title":"21. Flask \u7684\u8bf7\u6c42\u94a9\u5b50\uff08Request Hooks\uff09","text":"<p>\u8bf7\u6c42\u94a9\u5b50\u5141\u8bb8\u4f60\u5728\u8bf7\u6c42\u7684\u4e0d\u540c\u9636\u6bb5\u6267\u884c\u7279\u5b9a\u7684\u4ee3\u7801\u3002Flask \u63d0\u4f9b\u4e86\u56db\u79cd\u94a9\u5b50\uff1a<code>before_request</code>\u3001<code>after_request</code>\u3001<code>teardown_request</code> \u548c <code>before_first_request</code>\u3002</p> <pre><code>@app.before_request\ndef before_request():\n    print(\"This runs before each request\")\n\n@app.after_request\ndef after_request(response):\n    print(\"This runs after each request\")\n    return response\n\n@app.teardown_request\ndef teardown_request(exception):\n    print(\"This runs when a request is finished\")\n\n@app.before_first_request\ndef before_first_request():\n    print(\"This runs before the first request\")\n</code></pre> <p>\u8bf7\u6c42\u94a9\u5b50\u975e\u5e38\u9002\u5408\u7528\u4e8e\u7528\u6237\u8ba4\u8bc1\u3001\u6570\u636e\u521d\u59cb\u5316\u3001\u8d44\u6e90\u6e05\u7406\u7b49\u573a\u666f\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#22-flask","title":"22. Flask \u4e2d\u7684\u6587\u4ef6\u4e0a\u4f20\u4e0e\u4e0b\u8f7d","text":"<p>Flask \u63d0\u4f9b\u4e86\u65b9\u4fbf\u7684\u63a5\u53e3\u6765\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6587\u4ef6\u4e0a\u4f20\u4e0e\u4e0b\u8f7d\u7684\u793a\u4f8b\uff1a</p> <pre><code>from flask import request, send_from_directory\n\n@app.route('/upload', methods=['POST'])\ndef upload_file():\n    if 'file' not in request.files:\n        return 'No file part'\n    file = request.files['file']\n    if file.filename == '':\n        return 'No selected file'\n    if file:\n        filename = secure_filename(file.filename)\n        file.save(os.path.join(app.config['UPLOAD_FOLDER'], filename))\n        return 'File uploaded successfully'\n\n@app.route('/download/&lt;filename&gt;')\ndef download_file(filename):\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\n</code></pre> <p>\u4f7f\u7528 <code>secure_filename</code> \u6765\u786e\u4fdd\u6587\u4ef6\u540d\u662f\u5b89\u5168\u7684\uff0c\u5e76\u4f7f\u7528 <code>send_from_directory</code> \u6765\u8fd4\u56de\u6587\u4ef6\u4f9b\u4e0b\u8f7d\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#23-flask","title":"23. Flask \u7684\u6269\u5c55\u548c\u63d2\u4ef6","text":"<p>Flask \u62e5\u6709\u4e30\u5bcc\u7684\u6269\u5c55\u751f\u6001\u7cfb\u7edf\uff0c\u53ef\u4ee5\u6ee1\u8db3\u4e0d\u540c\u7684\u5f00\u53d1\u9700\u6c42\u3002\u5e38\u89c1\u7684 Flask \u6269\u5c55\u5305\u62ec\uff1a</p> <ul> <li>Flask-Mail\uff1a\u7528\u4e8e\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3002</li> <li>Flask-Login\uff1a\u7528\u4e8e\u5904\u7406\u7528\u6237\u767b\u5f55\u548c\u4f1a\u8bdd\u7ba1\u7406\u3002</li> <li>Flask-WTF\uff1a\u96c6\u6210\u4e86 WTForms\uff0c\u7528\u4e8e\u5904\u7406\u8868\u5355\u3002</li> <li>Flask-Migrate\uff1a\u6570\u636e\u5e93\u8fc1\u79fb\u5de5\u5177\uff0c\u57fa\u4e8e Alembic\u3002</li> </ul> <p>\u8fd9\u4e9b\u6269\u5c55\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\u548c\u96c6\u6210\uff0c\u6781\u5927\u5730\u6269\u5c55 Flask \u7684\u529f\u80fd\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#24-flask","title":"24. Flask \u4e0e\u524d\u7aef\u7684\u96c6\u6210","text":"<p>Flask \u4e0e\u524d\u7aef\u6846\u67b6\uff08\u5982 React\u3001Vue.js\u3001Angular\uff09\u7684\u96c6\u6210\u975e\u5e38\u7075\u6d3b\u3002\u4f60\u53ef\u4ee5\u9009\u62e9\u5728 Flask \u4e2d\u76f4\u63a5\u6e32\u67d3\u6a21\u677f\uff0c\u6216\u8005\u5c06 Flask \u4f5c\u4e3a\u540e\u7aef API \u670d\u52a1\uff0c\u524d\u7aef\u4f7f\u7528\u5355\u9875\u5e94\u7528\u6846\u67b6\u8fdb\u884c\u5f00\u53d1\u3002</p> <pre><code>@app.route('/')\ndef index():\n    return render_template('index.html')\n\n@app.route('/api/data')\ndef get_data():\n    data = {\"key\": \"value\"}\n    return jsonify(data)\n</code></pre> <p>\u8fd9\u79cd\u65b9\u5f0f\u4f7f\u5f97 Flask \u80fd\u591f\u9002\u5e94\u73b0\u4ee3 Web \u5f00\u53d1\u7684\u9700\u6c42\uff0c\u8f7b\u677e\u6784\u5efa\u524d\u540e\u7aef\u5206\u79bb\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#25-flask","title":"25. Flask \u7684\u6027\u80fd\u4f18\u5316","text":"<p>\u5728\u6784\u5efa\u9ad8\u5e76\u53d1\u3001\u9ad8\u6027\u80fd\u7684\u5e94\u7528\u65f6\uff0cFlask \u7684\u6027\u80fd\u4f18\u5316\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u4f18\u5316\u6280\u5de7\uff1a</p> <ul> <li> <p>\u4f7f\u7528\u7f13\u5b58\uff1a\u901a\u8fc7 Flask-Caching \u6269\u5c55\u5b9e\u73b0\u9875\u9762\u7f13\u5b58\u3001\u7247\u6bb5\u7f13\u5b58\u3001\u6570\u636e\u7f13\u5b58\u7b49\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u67e5\u8be2\u548c\u6a21\u677f\u6e32\u67d3\u7684\u538b\u529b\u3002</p> </li> <li> <p>\u538b\u7f29\u54cd\u5e94\uff1a\u4f7f\u7528 Flask-Compress \u6269\u5c55\u5bf9 HTTP \u54cd\u5e94\u8fdb\u884c\u538b\u7f29\uff0c\u51cf\u5c11\u4f20\u8f93\u6570\u636e\u91cf\uff0c\u63d0\u9ad8\u52a0\u8f7d\u901f\u5ea6\u3002</p> </li> <li> <p>\u9759\u6001\u6587\u4ef6\u6258\u7ba1\uff1a\u5c06\u9759\u6001\u6587\u4ef6\u6258\u7ba1\u5230 CDN \u6216\u4e13\u95e8\u7684\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u51cf\u8f7b Flask \u5e94\u7528\u670d\u52a1\u5668\u7684\u8d1f\u62c5\u3002</p> </li> <li> <p>\u4f18\u5316\u6570\u636e\u5e93\u67e5\u8be2\uff1a\u4f7f\u7528 SQLAlchemy \u7684\u5ef6\u8fdf\u52a0\u8f7d\u3001\u6279\u91cf\u67e5\u8be2\u3001\u7d22\u5f15\u4f18\u5316\u7b49\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u67e5\u8be2\u7684\u5f00\u9500\u3002</p> </li> </ul> <pre><code>from flask_caching import Cache\n\ncache = Cache(app, config={'CACHE_TYPE': 'simple'})\n\n@app.route('/cached')\n@cache.cached(timeout=60)\ndef cached_view():\n    return \"This is a cached response\"\n</code></pre> <p>\u901a\u8fc7\u5408\u7406\u7684\u6027\u80fd\u4f18\u5316\u63aa\u65bd\uff0c\u4f60\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 Flask \u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\u548c\u5904\u7406\u80fd\u529b\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#26-flask","title":"26. Flask \u7684\u56fd\u9645\u5316\u4e0e\u672c\u5730\u5316","text":"<p>Flask-Babel \u662f\u4e00\u4e2a\u5904\u7406\u56fd\u9645\u5316\uff08i18n\uff09\u548c\u672c\u5730\u5316\uff08l10n\uff09\u7684\u6269\u5c55\uff0c\u652f\u6301\u591a\u8bed\u8a00\u7ffb\u8bd1\u3001\u65f6\u533a\u5904\u7406\u7b49\u529f\u80fd\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 Flask-Babel \u6765\u4e3a\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u591a\u8bed\u8a00\u652f\u6301\uff0c\u9002\u5e94\u5168\u7403\u5316\u7684\u9700\u6c42\u3002</p> <pre><code>from flask_babel import Babel, _\n\nbabel = Babel(app)\n\n@app.route('/hello')\ndef hello():\n    return _(\"Hello, World!\")\n</code></pre> <p>\u901a\u8fc7\u5b9a\u4e49\u7ffb\u8bd1\u6587\u4ef6\u548c\u8bbe\u7f6e\u8bed\u8a00\u9009\u62e9\u5668\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u591a\u8bed\u8a00\u652f\u6301\uff0c\u786e\u4fdd\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u9762\u5411\u4e0d\u540c\u8bed\u8a00\u7684\u7528\u6237\u7fa4\u4f53\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#27-flask-spa","title":"27. Flask \u4e0e\u5355\u9875\u5e94\u7528\uff08SPA\uff09\u7684\u96c6\u6210","text":"<p>Flask \u53ef\u4ee5\u4e0e\u73b0\u4ee3\u524d\u7aef\u6846\u67b6\uff08\u5982 React\u3001Vue.js\u3001Angular\uff09\u65e0\u7f1d\u96c6\u6210\uff0c\u6784\u5efa\u5355\u9875\u5e94\u7528\uff08SPA\uff09\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 Flask \u63d0\u4f9b API \u670d\u52a1\uff0c\u524d\u7aef\u6846\u67b6\u8d1f\u8d23\u9875\u9762\u6e32\u67d3\u548c\u4ea4\u4e92\u3002</p> <pre><code>@app.route('/api/items')\ndef get_items():\n    items = [{\"id\": 1, \"name\": \"Item 1\"}, {\"id\": 2, \"name\": \"Item 2\"}]\n    return jsonify(items)\n</code></pre> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0cFlask \u53ef\u4ee5\u4f5c\u4e3a RESTful API \u540e\u7aef\uff0c\u4e0e\u524d\u7aef\u6846\u67b6\u5171\u540c\u6784\u5efa\u590d\u6742\u7684 Web \u5e94\u7528\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#28-flask-websocket","title":"28. Flask \u7684 WebSocket \u652f\u6301","text":"<p>\u867d\u7136 Flask \u672c\u8eab\u4e0d\u76f4\u63a5\u652f\u6301 WebSocket\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 Flask-SocketIO \u6269\u5c55\u5b9e\u73b0 WebSocket \u901a\u4fe1\uff0c\u7528\u4e8e\u6784\u5efa\u5b9e\u65f6\u5e94\u7528\uff0c\u5982\u804a\u5929\u5ba4\u3001\u5728\u7ebf\u6e38\u620f\u7b49\u3002</p> <pre><code>from flask_socketio import SocketIO, send\n\nsocketio = SocketIO(app)\n\n@socketio.on('message')\ndef handle_message(msg):\n    send(msg, broadcast=True)\n</code></pre> <p>\u901a\u8fc7 WebSocket\uff0c\u4f60\u53ef\u4ee5\u5b9e\u73b0\u53cc\u5411\u7684\u5b9e\u65f6\u901a\u4fe1\uff0c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u548c\u4ea4\u4e92\u6027\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#29-flask","title":"29. Flask \u7684\u90e8\u7f72\u4e0e\u8fd0\u7ef4","text":"<p>\u5728\u5c06 Flask \u5e94\u7528\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u65f6\uff0c\u9700\u8981\u8003\u8651\u591a\u4e2a\u65b9\u9762\uff0c\u5305\u62ec\u670d\u52a1\u5668\u9009\u62e9\u3001\u53cd\u5411\u4ee3\u7406\u914d\u7f6e\u3001SSL\u8bc1\u4e66\u5b89\u88c5\u3001\u8d1f\u8f7d\u5747\u8861\u7b49\u3002\u5e38\u89c1\u7684\u90e8\u7f72\u65b9\u6cd5\u5305\u62ec\u4f7f\u7528 Docker\u3001Kubernetes\u3001Gunicorn \u7ed3\u5408 Nginx \u7b49\u3002</p> <pre><code>gunicorn -w 4 -b 0.0.0.0:5000 myapp:app\n</code></pre> <p>\u901a\u8fc7\u5408\u7406\u7684\u90e8\u7f72\u7b56\u7565\uff0c\u4f60\u53ef\u4ee5\u786e\u4fdd Flask \u5e94\u7528\u7684\u9ad8\u53ef\u7528\u6027\u548c\u7a33\u5b9a\u6027\u3002</p>"},{"location":"Web%E7%AF%87/Flask/advance/#30-flask","title":"30. Flask \u7684\u5355\u5143\u6d4b\u8bd5\u4e0e\u6301\u7eed\u96c6\u6210","text":"<p>Flask \u63d0\u4f9b\u4e86\u826f\u597d\u7684\u6d4b\u8bd5\u652f\u6301\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 unittest\u3001pytest \u7b49\u5de5\u5177\u4e3a Flask \u5e94\u7528\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\uff0c\u786e\u4fdd\u4ee3\u7801\u7684\u6b63\u786e\u6027\u548c\u5065\u58ee\u6027\u3002\u540c\u65f6\uff0c\u53ef\u4ee5\u7ed3\u5408 CI/CD \u5de5\u5177\u5b9e\u73b0\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e0e\u90e8\u7f72\u3002</p> <pre><code>import unittest\n\nclass FlaskTestCase(unittest.TestCase):\n    def test_home(self):\n        tester = app.test_client(self)\n        response = tester.get('/')\n        self.assertEqual(response.status_code, 200)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre> <p>\u901a\u8fc7\u6301\u7eed\u96c6\u6210\uff0c\u4f60\u53ef\u4ee5\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u53ca\u65f6\u53d1\u73b0\u548c\u4fee\u590d\u95ee\u9898\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u548c\u4ee3\u7801\u8d28\u91cf\u3002</p>"},{"location":"Web%E7%AF%87/Flask/basic/","title":"Basic","text":"<p>Flask \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684 Python Web \u6846\u67b6\uff0c\u4ee5\u7b80\u5355\u3001\u7075\u6d3b\u3001\u6613\u7528\u8457\u79f0\u3002\u5b83\u9002\u5408\u5c0f\u578b\u9879\u76ee\u6216\u539f\u578b\u5f00\u53d1\uff0c\u4f46\u4e5f\u80fd\u6269\u5c55\u7528\u4e8e\u751f\u4ea7\u73af\u5883\u3002\u4e0b\u9762\u5c06\u8be6\u7ec6\u4ecb\u7ecd Flask \u7684\u6982\u5ff5\u53ca\u5177\u4f53\u64cd\u4f5c\u3002</p>"},{"location":"Web%E7%AF%87/Flask/basic/#1-flask","title":"1. Flask \u6982\u5ff5","text":""},{"location":"Web%E7%AF%87/Flask/basic/#11-wsgi-flask","title":"1.1 WSGI \u548c Flask","text":"<ul> <li>WSGI\uff08Web Server Gateway Interface\uff09 \u662f Python \u5e94\u7528\u548c Web \u670d\u52a1\u5668\u4e4b\u95f4\u7684\u63a5\u53e3\u6807\u51c6\u3002Flask \u57fa\u4e8e WSGI\uff0c\u4f7f\u5f97\u5b83\u80fd\u4e0e\u5404\u79cd Web \u670d\u52a1\u5668\u517c\u5bb9\u3002</li> <li>Flask \u662f\u4e00\u4e2a WSGI \u5e94\u7528\u6846\u67b6\uff0c\u63d0\u4f9b\u8def\u7531\u3001\u8bf7\u6c42\u5904\u7406\u3001\u6a21\u677f\u6e32\u67d3\u7b49\u57fa\u672c\u529f\u80fd\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#12","title":"1.2 \u8def\u7531\u548c\u89c6\u56fe\u51fd\u6570","text":"<ul> <li>\u8def\u7531\uff08Routing\uff09\uff1a\u5c06 URL \u6620\u5c04\u5230\u7279\u5b9a\u7684\u89c6\u56fe\u51fd\u6570\uff08View Function\uff09\u3002</li> <li>\u89c6\u56fe\u51fd\u6570\uff1a\u5904\u7406\u8bf7\u6c42\u5e76\u8fd4\u56de\u54cd\u5e94\u5185\u5bb9\u7684\u51fd\u6570\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#13-templates","title":"1.3 \u6a21\u677f\uff08Templates\uff09","text":"<ul> <li>Flask \u4f7f\u7528 Jinja2 \u4f5c\u4e3a\u6a21\u677f\u5f15\u64ce\uff0c\u5141\u8bb8\u5728 HTML \u6587\u4ef6\u4e2d\u5d4c\u5165 Python \u8868\u8fbe\u5f0f\uff0c\u5b9e\u73b0\u52a8\u6001\u5185\u5bb9\u6e32\u67d3\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#14","title":"1.4 \u8bf7\u6c42\u548c\u54cd\u5e94","text":"<ul> <li>\u8bf7\u6c42\uff1aFlask \u63d0\u4f9b\u4e86 <code>request</code> \u5bf9\u8c61\uff0c\u5305\u542b\u4e86 HTTP \u8bf7\u6c42\u7684\u6240\u6709\u4fe1\u606f\u3002</li> <li>\u54cd\u5e94\uff1a\u89c6\u56fe\u51fd\u6570\u8fd4\u56de\u7684\u5185\u5bb9\u5c31\u662f HTTP \u54cd\u5e94\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u3001JSON\u3001\u6a21\u677f\u6e32\u67d3\u7ed3\u679c\u7b49\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#15-middleware","title":"1.5 \u4e2d\u95f4\u4ef6\uff08Middleware\uff09","text":"<ul> <li>\u4e2d\u95f4\u4ef6\u662f\u4e00\u4e2a\u53ef\u4ee5\u5728\u8bf7\u6c42\u5904\u7406\u524d\u540e\u6267\u884c\u989d\u5916\u903b\u8f91\u7684\u7ec4\u4ef6\uff0c\u901a\u5e38\u7528\u4e8e\u65e5\u5fd7\u8bb0\u5f55\u3001\u6743\u9650\u9a8c\u8bc1\u7b49\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#2-flask","title":"2. \u5feb\u901f\u4e0a\u624b\uff1a\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Flask \u5e94\u7528","text":""},{"location":"Web%E7%AF%87/Flask/basic/#21-flask","title":"2.1 \u5b89\u88c5 Flask","text":"<p>\u9996\u5148\uff0c\u9700\u8981\u5b89\u88c5 Flask\u3002</p> <pre><code>pip install flask\n</code></pre>"},{"location":"Web%E7%AF%87/Flask/basic/#22-flask","title":"2.2 \u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Flask \u5e94\u7528","text":"<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello_world():\n    return 'Hello, World!'\n\nif __name__ == '__main__':\n    app.run()\n</code></pre> <ul> <li><code>Flask(__name__)</code> \u521b\u5efa\u4e86\u4e00\u4e2a Flask \u5e94\u7528\u5b9e\u4f8b\u3002</li> <li><code>@app.route('/')</code> \u88c5\u9970\u5668\u5c06\u6839\u8def\u5f84 <code>/</code> \u6620\u5c04\u5230 <code>hello_world</code> \u89c6\u56fe\u51fd\u6570\u3002</li> <li><code>app.run()</code> \u542f\u52a8\u5e94\u7528\u670d\u52a1\u5668\u3002</li> </ul> <p>\u8fd0\u884c\u4ee3\u7801\u540e\uff0c\u8bbf\u95ee <code>http://127.0.0.1:5000/</code>\uff0c\u4f60\u4f1a\u770b\u5230 <code>Hello, World!</code> \u7684\u8f93\u51fa\u3002</p>"},{"location":"Web%E7%AF%87/Flask/basic/#23","title":"2.3 \u8def\u7531\u548c\u8def\u5f84\u53c2\u6570","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u8def\u5f84\u53c2\u6570\u5b9e\u73b0\u52a8\u6001 URL\u3002</p> <pre><code>@app.route('/user/&lt;username&gt;')\ndef show_user_profile(username):\n    return f'User {username}'\n</code></pre> <ul> <li><code>&lt;username&gt;</code> \u662f\u8def\u5f84\u53c2\u6570\uff0cFlask \u4f1a\u81ea\u52a8\u5c06 URL \u4e2d\u7684\u90e8\u5206\u4f20\u9012\u7ed9\u89c6\u56fe\u51fd\u6570\u3002</li> </ul> <p>\u8bbf\u95ee <code>http://127.0.0.1:5000/user/Alice</code>\uff0c\u4f60\u4f1a\u770b\u5230 <code>User Alice</code> \u7684\u8f93\u51fa\u3002</p>"},{"location":"Web%E7%AF%87/Flask/basic/#24","title":"2.4 \u6a21\u677f\u6e32\u67d3","text":"<p>Flask \u4f7f\u7528 Jinja2 \u6e32\u67d3 HTML \u6a21\u677f\u3002</p> <pre><code>from flask import render_template\n\n@app.route('/hello/&lt;name&gt;')\ndef hello(name):\n    return render_template('hello.html', name=name)\n</code></pre> <p>\u5728 <code>templates</code> \u76ee\u5f55\u4e0b\u521b\u5efa <code>hello.html</code>\uff1a</p> <pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Hello&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello, {{ name }}!&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u8bbf\u95ee <code>http://127.0.0.1:5000/hello/Alice</code>\uff0c\u5c06\u6e32\u67d3\u51fa\u5305\u542b <code>Hello, Alice!</code> \u7684 HTML \u9875\u9762\u3002</p>"},{"location":"Web%E7%AF%87/Flask/basic/#25","title":"2.5 \u5904\u7406\u8868\u5355\u6570\u636e","text":"<p>Flask \u63d0\u4f9b\u4e86\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u5904\u7406\u8868\u5355\u63d0\u4ea4\u7684\u6570\u636e\u3002</p> <pre><code>from flask import request\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if request.method == 'POST':\n        username = request.form['username']\n        return f'Logged in as {username}'\n    return '''\n        &lt;form method=\"post\"&gt;\n            Username: &lt;input type=\"text\" name=\"username\"&gt;&lt;br&gt;\n            &lt;input type=\"submit\" value=\"Login\"&gt;\n        &lt;/form&gt;\n    '''\n</code></pre> <ul> <li><code>request.form</code> \u8bbf\u95ee\u8868\u5355\u6570\u636e\u3002</li> <li>\u4f7f\u7528 <code>methods=['GET', 'POST']</code> \u6307\u5b9a\u8def\u7531\u652f\u6301\u7684 HTTP \u65b9\u6cd5\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#26","title":"2.6 \u9759\u6001\u6587\u4ef6","text":"<p>Flask \u9ed8\u8ba4\u5c06 <code>static</code> \u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u4f5c\u4e3a\u9759\u6001\u6587\u4ef6\u3002</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;\n</code></pre> <ul> <li>\u4f7f\u7528 <code>url_for('static', filename='style.css')</code> \u751f\u6210\u9759\u6001\u6587\u4ef6\u7684 URL\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#3","title":"3. \u4e2d\u95f4\u4ef6\u548c\u6269\u5c55","text":""},{"location":"Web%E7%AF%87/Flask/basic/#31","title":"3.1 \u4e2d\u95f4\u4ef6","text":"<p>\u4e2d\u95f4\u4ef6\u5728\u8bf7\u6c42\u524d\u540e\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\uff0c\u4f8b\u5982\u8bf7\u6c42\u65e5\u5fd7\u8bb0\u5f55\u3002</p> <pre><code>@app.before_request\ndef before_request_func():\n    print(\"This is executed BEFORE each request.\")\n\n@app.after_request\ndef after_request_func(response):\n    print(\"This is executed AFTER each request.\")\n    return response\n</code></pre>"},{"location":"Web%E7%AF%87/Flask/basic/#32-flask","title":"3.2 \u4f7f\u7528 Flask \u6269\u5c55","text":"<p>Flask \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6269\u5c55\uff0c\u4f8b\u5982\u6570\u636e\u5e93\u652f\u6301\u3001\u7528\u6237\u8ba4\u8bc1\u7b49\u3002\u4ee5\u4e0b\u662f Flask-SQLAlchemy \u7684\u793a\u4f8b\uff1a</p> <pre><code>pip install flask-sqlalchemy\n</code></pre> <pre><code>from flask_sqlalchemy import SQLAlchemy\n\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///example.db'\ndb = SQLAlchemy(app)\n\nclass User(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n\ndb.create_all()\n</code></pre> <ul> <li><code>SQLAlchemy</code> \u662f\u4e00\u4e2a ORM \u5e93\uff0c\u63d0\u4f9b\u4e86\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u9ad8\u7ea7\u63a5\u53e3\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#4-flask","title":"4. \u90e8\u7f72 Flask \u5e94\u7528","text":""},{"location":"Web%E7%AF%87/Flask/basic/#41-gunicorn","title":"4.1 \u4f7f\u7528 Gunicorn \u90e8\u7f72","text":"<pre><code>pip install gunicorn\ngunicorn -w 4 myapp:app\n</code></pre> <ul> <li><code>-w 4</code> \u6307\u5b9a\u4f7f\u7528 4 \u4e2a\u5de5\u4f5c\u8fdb\u7a0b\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#42-docker","title":"4.2 \u4f7f\u7528 Docker \u90e8\u7f72","text":"<p>\u521b\u5efa\u4e00\u4e2a Dockerfile\uff1a</p> <pre><code>FROM python:3.8-slim\n\nWORKDIR /app\nCOPY . /app\n\nRUN pip install -r requirements.txt\n\nCMD [\"gunicorn\", \"-w\", \"4\", \"myapp:app\"]\n</code></pre> <p>\u7136\u540e\u4f7f\u7528 <code>docker build</code> \u548c <code>docker run</code> \u6765\u6784\u5efa\u548c\u8fd0\u884c\u5bb9\u5668\u5316\u7684 Flask \u5e94\u7528\u3002</p>"},{"location":"Web%E7%AF%87/Flask/basic/#5-flask","title":"5. Flask \u4e0e\u5176\u4ed6\u6846\u67b6\u5bf9\u6bd4","text":"<ul> <li>\u8f7b\u91cf vs. \u91cd\u91cf\uff1aFlask \u662f\u4e00\u4e2a\u5fae\u6846\u67b6\uff0c\u7075\u6d3b\u6027\u5f3a\uff0c\u800c Django \u662f\u4e00\u4e2a\u5168\u6808\u6846\u67b6\uff0c\u5185\u7f6e\u4e86\u5f88\u591a\u529f\u80fd\u3002</li> <li>\u6269\u5c55\u6027\uff1aFlask \u7684\u529f\u80fd\u4f9d\u8d56\u4e8e\u6269\u5c55\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u9700\u8981\u7684\u529f\u80fd\u3002</li> </ul>"},{"location":"Web%E7%AF%87/Flask/basic/#_1","title":"\u603b\u7ed3","text":"<p>Flask \u662f\u4e00\u4e2a\u7b80\u5355\u6613\u7528\u7684 Web \u6846\u67b6\uff0c\u9002\u5408\u5feb\u901f\u6784\u5efa\u5c0f\u578b Web \u5e94\u7528\u6216\u539f\u578b\u3002\u901a\u8fc7\u8def\u7531\u3001\u6a21\u677f\u3001\u8868\u5355\u5904\u7406\u548c\u4e2d\u95f4\u4ef6\u7b49\u529f\u80fd\uff0c\u53ef\u4ee5\u5feb\u901f\u6784\u5efa\u529f\u80fd\u5b8c\u5584\u7684 Web \u5e94\u7528\u3002Flask \u7684\u6269\u5c55\u6027\u5f3a\uff0c\u80fd\u591f\u6ee1\u8db3\u591a\u79cd\u9700\u6c42\uff0c\u540c\u65f6\u5176\u8f7b\u91cf\u7ea7\u7684\u7279\u6027\u4f7f\u5f97\u5b83\u5728\u5c0f\u578b\u9879\u76ee\u4e2d\u975e\u5e38\u53d7\u6b22\u8fce\u3002</p>"},{"location":"Web%E7%AF%87/Flask/questions/","title":"\u5de5\u4f5c\u4e2d\u5e38\u89c1\u95ee\u9898","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/","title":"Kafka \u57fa\u7840","text":"<p>Kafka \u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u6d41\u5904\u7406\u5e73\u53f0\uff0c\u4e3b\u8981\u7528\u4e8e\u6784\u5efa\u5b9e\u65f6\u6570\u636e\u7ba1\u9053\u548c\u6d41\u5904\u7406\u5e94\u7528\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u7684 Kafka \u4f7f\u7528\u6559\u7a0b\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#1-kafka","title":"1. Kafka \u7b80\u4ecb","text":"<p>Kafka \u662f\u7531 LinkedIn \u5f00\u53d1\u5e76\u6350\u732e\u7ed9 Apache \u57fa\u91d1\u4f1a\u7684\u5206\u5e03\u5f0f\u6d88\u606f\u7cfb\u7edf\u3002\u5b83\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a - \u9ad8\u541e\u5410\u91cf\uff1a\u80fd\u591f\u5904\u7406\u6570\u767e\u4e07\u4e2a\u6d88\u606f\u3002 - \u53ef\u6269\u5c55\u6027\uff1a\u901a\u8fc7\u589e\u52a0 Kafka \u8282\u70b9\u6765\u6269\u5c55\u7cfb\u7edf\u3002 - \u6301\u4e45\u6027\uff1a\u901a\u8fc7 Kafka \u7684\u65e5\u5fd7\u5b58\u50a8\u673a\u5236\uff0c\u6d88\u606f\u88ab\u6301\u4e45\u5316\u5230\u78c1\u76d8\u3002 - \u5bb9\u9519\u6027\uff1aKafka \u53ef\u4ee5\u81ea\u52a8\u4ece\u8282\u70b9\u6545\u969c\u4e2d\u6062\u590d\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#2-kafka","title":"2. Kafka \u7684\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>Producer\uff08\u751f\u4ea7\u8005\uff09\uff1a\u53d1\u9001\u6d88\u606f\u5230 Kafka \u4e3b\u9898\uff08Topic\uff09\u3002</li> <li>Consumer\uff08\u6d88\u8d39\u8005\uff09\uff1a\u4ece Kafka \u4e3b\u9898\u4e2d\u8bfb\u53d6\u6d88\u606f\u3002</li> <li>Broker\uff1aKafka \u670d\u52a1\u5668\uff0c\u8d1f\u8d23\u63a5\u6536\u3001\u5b58\u50a8\u548c\u8f6c\u53d1\u6d88\u606f\u3002</li> <li>Topic\uff08\u4e3b\u9898\uff09\uff1a\u6d88\u606f\u7684\u5206\u7c7b\uff0cKafka \u901a\u8fc7\u4e3b\u9898\u8fdb\u884c\u6d88\u606f\u7684\u5f52\u7c7b\u3002</li> <li>Partition\uff08\u5206\u533a\uff09\uff1a\u4e3b\u9898\u4e2d\u7684\u6570\u636e\u5206\u7247\uff0c\u63d0\u4f9b\u5e76\u884c\u5904\u7406\u80fd\u529b\u3002</li> <li>Consumer Group\uff08\u6d88\u8d39\u8005\u7ec4\uff09\uff1a\u591a\u4e2a\u6d88\u8d39\u8005\u7ec4\u6210\u4e00\u4e2a\u7ec4\uff0c\u5171\u540c\u6d88\u8d39\u4e00\u4e2a\u6216\u591a\u4e2a\u4e3b\u9898\u4e2d\u7684\u6d88\u606f\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#3-kafka","title":"3. Kafka \u5b89\u88c5\u4e0e\u914d\u7f6e","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#31","title":"3.1. \u524d\u7f6e\u6761\u4ef6","text":"<ul> <li>Java \u73af\u5883\uff1aKafka \u4f9d\u8d56 Java \u73af\u5883\uff0c\u8bf7\u786e\u4fdd\u7cfb\u7edf\u5df2\u5b89\u88c5 Java\uff08\u7248\u672c 8 \u6216\u66f4\u9ad8\uff09\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#32-kafka","title":"3.2. \u4e0b\u8f7d\u4e0e\u89e3\u538b Kafka","text":"<ol> <li>\u4e0b\u8f7d Kafka\uff1a    <code>bash    wget https://downloads.apache.org/kafka/3.0.0/kafka_2.13-3.0.0.tgz</code></li> <li>\u89e3\u538b Kafka\uff1a    <code>bash    tar -xzf kafka_2.13-3.0.0.tgz    cd kafka_2.13-3.0.0</code></li> </ol>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#33-zookeeper","title":"3.3. \u542f\u52a8 Zookeeper","text":"<p>Kafka \u4f9d\u8d56 Zookeeper \u8fdb\u884c\u5206\u5e03\u5f0f\u534f\u8c03\uff0c\u6240\u4ee5\u9700\u8981\u5148\u542f\u52a8 Zookeeper\u3002</p> <pre><code>bin/zookeeper-server-start.sh config/zookeeper.properties\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#34-kafka","title":"3.4. \u542f\u52a8 Kafka \u670d\u52a1","text":"<pre><code>bin/kafka-server-start.sh config/server.properties\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#4-kafka","title":"4. Kafka \u57fa\u672c\u64cd\u4f5c","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#41-topic","title":"4.1. \u521b\u5efa Topic","text":"<p>Kafka \u9700\u8981\u5728\u4f7f\u7528\u524d\u521b\u5efa\u4e3b\u9898\uff1a</p> <pre><code>bin/kafka-topics.sh --create --topic my-topic --bootstrap-server localhost:9092 --partitions 1 --replication-factor 1\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#42-topic","title":"4.2. \u5217\u51fa\u6240\u6709 Topic","text":"<pre><code>bin/kafka-topics.sh --list --bootstrap-server localhost:9092\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#43","title":"4.3. \u751f\u4ea7\u6d88\u606f","text":"<p>\u901a\u8fc7 Kafka \u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\uff1a</p> <pre><code>bin/kafka-console-producer.sh --topic my-topic --bootstrap-server localhost:9092\n</code></pre> <p>\u8f93\u5165\u6d88\u606f\u5e76\u6309 Enter \u53d1\u9001\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#44","title":"4.4. \u6d88\u8d39\u6d88\u606f","text":"<p>\u901a\u8fc7 Kafka \u6d88\u8d39\u8005\u8bfb\u53d6\u6d88\u606f\uff1a</p> <pre><code>bin/kafka-console-consumer.sh --topic my-topic --from-beginning --bootstrap-server localhost:9092\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#5","title":"5. \u9ad8\u7ea7\u4f7f\u7528","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#51-kafka-streams","title":"5.1. Kafka Streams","text":"<p>Kafka Streams \u662f Kafka \u7684\u4e00\u4e2a\u6d41\u5904\u7406\u5e93\uff0c\u7528\u4e8e\u5b9e\u65f6\u5904\u7406\u6570\u636e\u6d41\u3002\u5b83\u5141\u8bb8\u5f00\u53d1\u8005\u6784\u5efa\u9ad8\u5ea6\u53ef\u6269\u5c55\u3001\u5bb9\u9519\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f7f\u7528 Kafka Streams \u9700\u8981\u5f15\u5165 Kafka Streams \u5e93\uff0c\u5e76\u7f16\u5199\u76f8\u5e94\u7684\u6d41\u5904\u7406\u4ee3\u7801\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#52-kafka-connect","title":"5.2. Kafka Connect","text":"<p>Kafka Connect \u662f\u4e00\u4e2a\u7528\u4e8e\u96c6\u6210 Kafka \u4e0e\u5176\u4ed6\u6570\u636e\u6e90\u6216\u76ee\u6807\u7684\u6846\u67b6\u3002\u53ef\u4ee5\u901a\u8fc7 Kafka Connect \u5c06\u6570\u636e\u4ece\u6570\u636e\u5e93\u3001\u6587\u4ef6\u7cfb\u7edf\u7b49\u6e90\u4f20\u8f93\u5230 Kafka\uff0c\u6216\u4ece Kafka \u4f20\u8f93\u5230\u5176\u4ed6\u7cfb\u7edf\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#6","title":"6. \u76d1\u63a7\u4e0e\u7ba1\u7406","text":"<p>Kafka \u63d0\u4f9b\u4e86\u591a\u79cd\u76d1\u63a7\u548c\u7ba1\u7406\u5de5\u5177\uff0c\u5982 JMX\u3001Prometheus\u3001Kafka Manager \u7b49\u3002\u901a\u8fc7\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u76d1\u63a7 Kafka \u96c6\u7fa4\u7684\u8fd0\u884c\u72b6\u6001\u3001\u541e\u5410\u91cf\u3001\u5ef6\u8fdf\u7b49\u5173\u952e\u6307\u6807\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#7","title":"7. \u96c6\u7fa4\u90e8\u7f72","text":"<p>Kafka \u652f\u6301\u96c6\u7fa4\u90e8\u7f72\uff0c\u901a\u8fc7\u591a\u8282\u70b9\u7684\u65b9\u5f0f\u63d0\u9ad8\u7cfb\u7edf\u7684\u53ef\u7528\u6027\u548c\u541e\u5410\u91cf\u3002\u96c6\u7fa4\u914d\u7f6e\u6d89\u53ca\u5230 Broker \u7684\u914d\u7f6e\u3001Zookeeper \u7684\u534f\u8c03\u4ee5\u53ca\u5206\u533a\u548c\u526f\u672c\u7684\u7ba1\u7406\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/basic/#8","title":"8. \u5e38\u89c1\u95ee\u9898\u4e0e\u6545\u969c\u6392\u67e5","text":"<ul> <li>\u65e0\u6cd5\u8fde\u63a5\u5230 Kafka Broker\uff1a\u68c0\u67e5\u9632\u706b\u5899\u8bbe\u7f6e\u548c Broker \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u76d1\u542c\u5730\u5740\u3002</li> <li>\u6d88\u8d39\u8005\u65e0\u6cd5\u6d88\u8d39\u6d88\u606f\uff1a\u68c0\u67e5\u6d88\u8d39\u8005\u7ec4 ID \u662f\u5426\u6b63\u786e\uff0c\u786e\u4fdd\u6d88\u606f\u6ca1\u6709\u88ab\u5176\u4ed6\u6d88\u8d39\u8005\u7ec4\u6d88\u8d39\u3002</li> </ul> <p>\u4ee5\u4e0a\u662f Kafka \u7684\u8be6\u7ec6\u4f7f\u7528\u6559\u7a0b\uff0c\u6d89\u53ca\u5230\u4ece\u57fa\u7840\u6982\u5ff5\u3001\u5b89\u88c5\u914d\u7f6e\u3001\u5230\u9ad8\u7ea7\u4f7f\u7528\u7684\u5404\u4e2a\u65b9\u9762\u3002\u5e0c\u671b\u5bf9\u4f60\u6709\u5e2e\u52a9\uff01</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/","title":"kafka \u9762\u8bd5","text":"<p>Kafka \u516b\u80a1\u6587</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#kafka_1","title":"kafka \u5de5\u4f5c\u4e2d\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u5728\u5de5\u4f5c\u4e2d\u4f7f\u7528 Kafka \u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u6311\u6218\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u7684\u4e3e\u4f8b\u53ca\u8be6\u7ec6\u89e3\u6790\uff1a</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#1-lag","title":"1. \u6d88\u606f\u79ef\u538b\uff08Lag\uff09\u95ee\u9898","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u6d88\u8d39\u8005\u65e0\u6cd5\u53ca\u65f6\u5904\u7406\u4ece Kafka \u8bfb\u53d6\u7684\u6d88\u606f\uff0c\u5bfc\u81f4\u6d88\u606f\u5728 Kafka \u4e3b\u9898\u4e2d\u79ef\u538b\uff0c\u5ef6\u8fdf\u53d8\u9ad8\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_2","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u6d88\u8d39\u8005\u6027\u80fd\u95ee\u9898: \u6d88\u8d39\u8005\u5904\u7406\u6d88\u606f\u7684\u901f\u5ea6\u4e0d\u591f\u5feb\uff0c\u5bfc\u81f4\u65e0\u6cd5\u8ddf\u4e0a\u751f\u4ea7\u8005\u7684\u751f\u4ea7\u901f\u5ea6\u3002</li> <li>\u5206\u533a\u914d\u7f6e\u4e0d\u5408\u7406: \u4e3b\u9898\u5206\u533a\u6570\u91cf\u8fc7\u5c11\uff0c\u5bfc\u81f4\u6d88\u8d39\u8005\u65e0\u6cd5\u5145\u5206\u5229\u7528\u591a\u7ebf\u7a0b\u5e76\u884c\u5904\u7406\u3002</li> <li>\u7f51\u7edc\u5e26\u5bbd\u4e0d\u8db3: \u6d88\u8d39\u8005\u4e0e Kafka \u96c6\u7fa4\u4e4b\u95f4\u7684\u7f51\u7edc\u5e26\u5bbd\u6709\u9650\uff0c\u5bfc\u81f4\u6570\u636e\u4f20\u8f93\u901f\u5ea6\u6162\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_3","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u589e\u52a0\u6d88\u8d39\u8005\u5b9e\u4f8b:</li> <li> <p>\u589e\u52a0\u6d88\u8d39\u8005\u6570\u91cf\uff0c\u4ee5\u63d0\u9ad8\u5e76\u884c\u5904\u7406\u80fd\u529b\uff0c\u5e76\u786e\u4fdd\u6bcf\u4e2a\u6d88\u8d39\u8005\u5b9e\u4f8b\u90fd\u6d88\u8d39\u4e0d\u540c\u7684\u5206\u533a\u3002   <code>bash   ./kafka-consumer-groups.sh --bootstrap-server localhost:9092 --describe --group &lt;group_id&gt;</code></p> </li> <li> <p>\u8c03\u6574\u5206\u533a\u6570\u91cf:</p> </li> <li> <p>\u589e\u52a0\u4e3b\u9898\u7684\u5206\u533a\u6570\u91cf\uff0c\u4f7f\u5f97\u66f4\u591a\u7684\u6d88\u8d39\u8005\u80fd\u591f\u5e76\u884c\u5904\u7406\u6d88\u606f\u3002   <code>bash   ./kafka-topics.sh --alter --zookeeper localhost:2181 --topic &lt;topic_name&gt; --partitions &lt;new_partition_count&gt;</code></p> </li> <li> <p>\u4f18\u5316\u6d88\u8d39\u8005\u4ee3\u7801:</p> </li> <li>\u4f18\u5316\u6d88\u8d39\u8005\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u51cf\u5c11\u6bcf\u6761\u6d88\u606f\u7684\u5904\u7406\u65f6\u95f4\u3002</li> <li> <p>\u4f7f\u7528\u5f02\u6b65\u5904\u7406\u65b9\u5f0f\uff0c\u5c06\u957f\u65f6\u95f4\u64cd\u4f5c\u4ece\u4e3b\u7ebf\u7a0b\u4e2d\u79fb\u51fa\u3002</p> </li> <li> <p>\u5347\u7ea7\u7f51\u7edc\u5e26\u5bbd:</p> </li> <li>\u786e\u4fdd\u6d88\u8d39\u8005\u548c Kafka \u96c6\u7fa4\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u5177\u6709\u8db3\u591f\u7684\u5e26\u5bbd\uff0c\u4ee5\u652f\u6301\u9ad8\u541e\u5410\u91cf\u7684\u6570\u636e\u4f20\u8f93\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#2","title":"2. \u6d88\u606f\u4e22\u5931","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_4","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u5728\u9ad8\u5e76\u53d1\u73af\u5883\u6216\u96c6\u7fa4\u91cd\u542f\u65f6\uff0cKafka \u53ef\u80fd\u4f1a\u53d1\u751f\u6d88\u606f\u4e22\u5931\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u7f3a\u5931\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_5","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u914d\u7f6e\u4e0d\u5f53: \u751f\u4ea7\u8005\u7684 <code>acks</code> \u914d\u7f6e\u4e3a <code>0</code> \u6216 <code>1</code>\uff0c\u5bfc\u81f4\u6d88\u606f\u672a\u5b8c\u5168\u6301\u4e45\u5316\u5230 Kafka\u3002</li> <li>\u526f\u672c\u914d\u7f6e\u95ee\u9898: Kafka \u526f\u672c\u6570\u91cf\u4e0d\u8db3\uff0c\u5bfc\u81f4\u5728\u526f\u672c\u8282\u70b9\u5b95\u673a\u65f6\u65e0\u6cd5\u6062\u590d\u6d88\u606f\u3002</li> <li>\u6d88\u8d39\u8005\u81ea\u52a8\u63d0\u4ea4\u504f\u79fb\u91cf: \u6d88\u8d39\u8005\u5728\u5904\u7406\u5b8c\u6d88\u606f\u4e4b\u524d\u81ea\u52a8\u63d0\u4ea4\u4e86\u504f\u79fb\u91cf\uff0c\u4f46\u5904\u7406\u8fc7\u7a0b\u5931\u8d25\uff0c\u5bfc\u81f4\u6d88\u606f\u4e22\u5931\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_6","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u8bbe\u7f6e <code>acks=all</code>:</li> <li> <p>\u751f\u4ea7\u8005\u914d\u7f6e <code>acks=all</code>\uff0c\u786e\u4fdd\u6d88\u606f\u88ab\u6240\u6709\u526f\u672c\u786e\u8ba4\u540e\u518d\u8ba4\u4e3a\u6210\u529f\u3002   <code>bash   props.put(\"acks\", \"all\");</code></p> </li> <li> <p>\u589e\u52a0\u526f\u672c\u6570\u91cf:</p> </li> <li> <p>\u589e\u52a0 Kafka \u4e3b\u9898\u7684\u526f\u672c\u6570\u91cf\uff0c\u4ee5\u786e\u4fdd\u5373\u4f7f\u67d0\u4e9b\u8282\u70b9\u5b95\u673a\uff0c\u6d88\u606f\u4e5f\u80fd\u88ab\u6062\u590d\u3002   <code>bash   ./kafka-topics.sh --alter --zookeeper localhost:2181 --topic &lt;topic_name&gt; --replication-factor &lt;new_replication_factor&gt;</code></p> </li> <li> <p>\u624b\u52a8\u7ba1\u7406\u6d88\u8d39\u8005\u504f\u79fb\u91cf:</p> </li> <li>\u7981\u7528\u81ea\u52a8\u63d0\u4ea4\u504f\u79fb\u91cf\uff0c\u6539\u4e3a\u624b\u52a8\u63d0\u4ea4\uff0c\u786e\u4fdd\u53ea\u6709\u5728\u6d88\u606f\u5904\u7406\u6210\u529f\u540e\u624d\u63d0\u4ea4\u504f\u79fb\u91cf\u3002   <code>bash   props.put(\"enable.auto.commit\", \"false\");</code></li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#3-kafka-broker","title":"3. Kafka Broker \u5b95\u673a","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_7","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>Kafka Broker \u5b95\u673a\u53ef\u80fd\u4f1a\u5bfc\u81f4\u670d\u52a1\u4e2d\u65ad\u3001\u6570\u636e\u4e0d\u53ef\u7528\u6216\u5ef6\u8fdf\u589e\u52a0\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_8","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u786c\u4ef6\u6545\u969c: \u78c1\u76d8\u3001\u5185\u5b58\u6216 CPU \u6545\u969c\u53ef\u80fd\u5bfc\u81f4 Broker \u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002</li> <li>\u914d\u7f6e\u4e0d\u5f53: Kafka \u914d\u7f6e\u672a\u4f18\u5316\uff0c\u5bfc\u81f4\u5728\u9ad8\u8d1f\u8f7d\u4e0b Broker \u5b95\u673a\u3002</li> <li>\u96c6\u7fa4\u76d1\u63a7\u4e0d\u8db3: \u7f3a\u4e4f\u5bf9 Kafka \u96c6\u7fa4\u7684\u76d1\u63a7\uff0c\u65e0\u6cd5\u53ca\u65f6\u53d1\u73b0\u548c\u5904\u7406\u6f5c\u5728\u95ee\u9898\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_9","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u786c\u4ef6\u5197\u4f59:</li> <li>\u4f7f\u7528\u5197\u4f59\u786c\u4ef6\uff08\u5982 RAID \u78c1\u76d8\u9635\u5217\uff09\u6765\u63d0\u9ad8\u786c\u4ef6\u6545\u969c\u7684\u5bb9\u9519\u80fd\u529b\u3002</li> <li> <p>\u5b9a\u671f\u68c0\u67e5\u786c\u4ef6\u72b6\u51b5\uff0c\u786e\u4fdd\u786c\u4ef6\u6027\u80fd\u7a33\u5b9a\u3002</p> </li> <li> <p>\u914d\u7f6e\u4f18\u5316:</p> </li> <li>\u8c03\u6574 Kafka Broker \u7684 JVM \u5185\u5b58\u8bbe\u7f6e\uff0c\u786e\u4fdd\u5728\u9ad8\u8d1f\u8f7d\u4e0b\u4ecd\u80fd\u7a33\u5b9a\u8fd0\u884c\u3002</li> <li> <p>\u589e\u52a0 Broker \u6570\u91cf\uff0c\u5206\u6563\u8d1f\u8f7d\uff0c\u51cf\u5c11\u5355\u4e2a Broker \u7684\u538b\u529b\u3002</p> </li> <li> <p>\u5b9e\u65bd\u76d1\u63a7\u4e0e\u62a5\u8b66:</p> </li> <li>\u4f7f\u7528\u76d1\u63a7\u5de5\u5177\uff08\u5982 Prometheus + Grafana\uff09\u76d1\u63a7 Kafka \u7684\u8fd0\u884c\u72b6\u51b5\uff0c\u8bbe\u7f6e\u62a5\u8b66\u89c4\u5219\uff0c\u53ca\u65f6\u53d1\u73b0\u548c\u5904\u7406\u95ee\u9898\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#4","title":"4. \u6570\u636e\u91cd\u590d\u6d88\u8d39","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_10","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u7531\u4e8e\u6d88\u8d39\u8005\u504f\u79fb\u91cf\u7ba1\u7406\u4e0d\u5f53\uff0c\u5bfc\u81f4\u6d88\u606f\u88ab\u91cd\u590d\u6d88\u8d39\uff0c\u4ea7\u751f\u5197\u4f59\u6570\u636e\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_11","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u624b\u52a8\u63d0\u4ea4\u504f\u79fb\u91cf\u5931\u8d25: \u624b\u52a8\u63d0\u4ea4\u504f\u79fb\u91cf\u65f6\u53d1\u751f\u9519\u8bef\uff0c\u5bfc\u81f4\u504f\u79fb\u91cf\u672a\u80fd\u6b63\u786e\u66f4\u65b0\u3002</li> <li>\u6d88\u8d39\u8005\u91cd\u542f: \u6d88\u8d39\u8005\u5728\u5904\u7406\u5b8c\u6d88\u606f\u4f46\u672a\u63d0\u4ea4\u504f\u79fb\u91cf\u4e4b\u524d\u5b95\u673a\uff0c\u91cd\u542f\u540e\u91cd\u590d\u6d88\u8d39\u672a\u63d0\u4ea4\u7684\u6d88\u606f\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_12","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u786e\u4fdd\u504f\u79fb\u91cf\u7684\u6b63\u786e\u63d0\u4ea4:</li> <li> <p>\u786e\u4fdd\u504f\u79fb\u91cf\u5728\u6d88\u606f\u5904\u7406\u6210\u529f\u540e\u7acb\u5373\u63d0\u4ea4\uff0c\u4f7f\u7528 <code>try-catch-finally</code> \u7ed3\u6784\u786e\u4fdd\u5373\u4f7f\u53d1\u751f\u5f02\u5e38\u4e5f\u80fd\u63d0\u4ea4\u504f\u79fb\u91cf\u3002   <code>bash   consumer.commitSync();</code></p> </li> <li> <p>\u4f7f\u7528\u5e42\u7b49\u64cd\u4f5c:</p> </li> <li>\u786e\u4fdd\u6d88\u8d39\u8005\u5728\u5904\u7406\u6d88\u606f\u65f6\u91c7\u7528\u5e42\u7b49\u64cd\u4f5c\uff0c\u5373\u4f7f\u6d88\u606f\u91cd\u590d\u6d88\u8d39\u4e5f\u4e0d\u4f1a\u5bf9\u7cfb\u7edf\u4ea7\u751f\u5f71\u54cd\u3002</li> <li>\u8bb0\u5f55\u5df2\u5904\u7406\u7684\u6d88\u606f ID\uff0c\u5728\u5904\u7406\u524d\u68c0\u67e5\u662f\u5426\u5df2\u5904\u7406\u8fc7\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#5-zookeeper","title":"5. Zookeeper \u8fde\u63a5\u95ee\u9898","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_13","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>Kafka \u4f9d\u8d56 Zookeeper \u8fdb\u884c\u96c6\u7fa4\u7ba1\u7406\uff0c\u5982\u679c Zookeeper \u51fa\u73b0\u8fde\u63a5\u95ee\u9898\uff0cKafka \u96c6\u7fa4\u53ef\u80fd\u4f1a\u53d7\u5230\u5f71\u54cd\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_14","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>Zookeeper \u8282\u70b9\u6545\u969c: Zookeeper \u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u5b95\u673a\u6216\u7f51\u7edc\u8fde\u63a5\u4e2d\u65ad\u3002</li> <li>Kafka \u914d\u7f6e\u9519\u8bef: Kafka \u4e2d\u7684 Zookeeper \u8fde\u63a5\u914d\u7f6e\u9519\u8bef\uff0c\u5bfc\u81f4\u8fde\u63a5\u5931\u8d25\u3002</li> <li>Zookeeper \u8d1f\u8f7d\u8fc7\u9ad8: Zookeeper \u8d1f\u8f7d\u8fc7\u9ad8\uff0c\u65e0\u6cd5\u53ca\u65f6\u54cd\u5e94 Kafka \u7684\u8bf7\u6c42\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/interview/#_15","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u786e\u4fdd Zookeeper \u7684\u9ad8\u53ef\u7528\u6027:</li> <li>\u90e8\u7f72\u81f3\u5c11 3 \u4e2a Zookeeper \u8282\u70b9\uff0c\u786e\u4fdd\u5373\u4f7f\u4e00\u4e2a\u8282\u70b9\u5b95\u673a\uff0c\u96c6\u7fa4\u4ecd\u80fd\u6b63\u5e38\u8fd0\u884c\u3002</li> <li> <p>\u914d\u7f6e Zookeeper \u81ea\u52a8\u91cd\u542f\u673a\u5236\uff0c\u5728\u8282\u70b9\u6545\u969c\u65f6\u81ea\u52a8\u6062\u590d\u3002</p> </li> <li> <p>\u4f18\u5316 Zookeeper \u914d\u7f6e:</p> </li> <li> <p>\u8c03\u6574 Zookeeper \u914d\u7f6e\uff0c\u5982 <code>tickTime</code> \u548c <code>initLimit</code>\uff0c\u4ee5\u63d0\u9ad8\u96c6\u7fa4\u7684\u54cd\u5e94\u80fd\u529b\u3002   <code>bash   tickTime=2000   initLimit=10   syncLimit=5</code></p> </li> <li> <p>\u76d1\u63a7 Zookeeper \u72b6\u6001:</p> </li> <li>\u4f7f\u7528\u76d1\u63a7\u5de5\u5177\u5b9e\u65f6\u76d1\u63a7 Zookeeper \u7684\u72b6\u6001\uff0c\u786e\u4fdd\u5728\u8d1f\u8f7d\u589e\u52a0\u65f6\u53ca\u65f6\u6269\u5bb9\u6216\u4f18\u5316\u914d\u7f6e\u3002</li> </ul> <p>\u901a\u8fc7\u8fd9\u4e9b\u5e38\u89c1\u95ee\u9898\u7684\u4e3e\u4f8b\u4e0e\u8be6\u89e3\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5de5\u4f5c\u4e2d\u66f4\u597d\u5730\u5904\u7406 Kafka \u96c6\u7fa4\u7684\u8fd0\u7ef4\u4e0e\u4f18\u5316\u95ee\u9898\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/","title":"RabbitMQ \u57fa\u7840","text":"<p>RabbitMQ \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u6d88\u606f\u4ee3\u7406\u8f6f\u4ef6\uff0c\u7528\u4e8e\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u4f20\u9012\u6d88\u606f\u3002\u5b83\u901a\u8fc7\u9ad8\u7ea7\u6d88\u606f\u961f\u5217\u534f\u8bae\uff08AMQP\uff09\u6765\u8fdb\u884c\u6d88\u606f\u7684\u5b58\u50a8\u3001\u4f20\u8f93\u548c\u5904\u7406\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u7684 RabbitMQ \u4f7f\u7528\u6559\u7a0b\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#1-rabbitmq","title":"1. RabbitMQ \u7b80\u4ecb","text":"<p>RabbitMQ \u662f\u4e00\u4e2a\u6d88\u606f\u961f\u5217\u7cfb\u7edf\uff0c\u5b83\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u3001\u670d\u52a1\u548c\u7cfb\u7edf\u4e4b\u95f4\u5f02\u6b65\u5730\u53d1\u9001\u548c\u63a5\u6536\u6d88\u606f\u3002RabbitMQ \u652f\u6301\u591a\u79cd\u6d88\u606f\u4f20\u9012\u534f\u8bae\uff0c\u5e76\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u7f16\u7a0b\u8bed\u8a00\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4f7f\u7528\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#2-rabbitmq","title":"2. RabbitMQ \u7684\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>Producer\uff08\u751f\u4ea7\u8005\uff09\uff1a\u53d1\u9001\u6d88\u606f\u5230 RabbitMQ\u3002</li> <li>Consumer\uff08\u6d88\u8d39\u8005\uff09\uff1a\u4ece RabbitMQ \u83b7\u53d6\u5e76\u5904\u7406\u6d88\u606f\u3002</li> <li>Queue\uff08\u961f\u5217\uff09\uff1a\u6d88\u606f\u7684\u5b58\u50a8\u4f4d\u7f6e\u3002\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\u5230\u961f\u5217\uff0c\u6d88\u8d39\u8005\u4ece\u961f\u5217\u63a5\u6536\u6d88\u606f\u3002</li> <li>Exchange\uff08\u4ea4\u6362\u673a\uff09\uff1a\u7528\u4e8e\u5c06\u6d88\u606f\u8def\u7531\u5230\u4e0d\u540c\u7684\u961f\u5217\u3002\u5e38\u89c1\u7684\u4ea4\u6362\u673a\u7c7b\u578b\u5305\u62ec <code>direct</code>\u3001<code>topic</code>\u3001<code>fanout</code> \u548c <code>headers</code>\u3002</li> <li>Binding\uff08\u7ed1\u5b9a\uff09\uff1a\u7ed1\u5b9a\u5b9a\u4e49\u4e86\u4ea4\u6362\u673a\u4e0e\u961f\u5217\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5373\u6d88\u606f\u4ece\u4ea4\u6362\u673a\u6d41\u5411\u54ea\u4e2a\u961f\u5217\u3002</li> <li>Routing Key\uff08\u8def\u7531\u952e\uff09\uff1a\u6d88\u606f\u7684\u8def\u7531\u89c4\u5219\uff0c\u51b3\u5b9a\u6d88\u606f\u5982\u4f55\u4ece\u4ea4\u6362\u673a\u8def\u7531\u5230\u7279\u5b9a\u961f\u5217\u3002</li> <li>Connection\uff08\u8fde\u63a5\uff09\uff1a\u5ba2\u6237\u7aef\u4e0e RabbitMQ \u670d\u52a1\u5668\u4e4b\u95f4\u7684 TCP \u8fde\u63a5\u3002</li> <li>Channel\uff08\u901a\u9053\uff09\uff1a\u5728\u8fde\u63a5\u5185\u8fdb\u884c\u591a\u8def\u590d\u7528\uff0c\u8282\u7701\u8d44\u6e90\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#3-rabbitmq","title":"3. RabbitMQ \u5b89\u88c5\u4e0e\u914d\u7f6e","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#31","title":"3.1. \u524d\u7f6e\u6761\u4ef6","text":"<ul> <li>Erlang \u73af\u5883\uff1aRabbitMQ \u662f\u57fa\u4e8e Erlang \u8bed\u8a00\u5f00\u53d1\u7684\uff0c\u56e0\u6b64\u9700\u8981\u5148\u5b89\u88c5 Erlang\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#32-rabbitmq","title":"3.2. \u5b89\u88c5 RabbitMQ","text":"<ol> <li> <p>\u5b89\u88c5 Erlang    \u5728 Ubuntu \u4e0a\u5b89\u88c5\uff1a    <code>bash    sudo apt-get update    sudo apt-get install erlang</code>    \u5728 CentOS \u4e0a\u5b89\u88c5\uff1a    <code>bash    sudo yum update    sudo yum install erlang</code></p> </li> <li> <p>\u5b89\u88c5 RabbitMQ    \u5728 Ubuntu \u4e0a\u5b89\u88c5\uff1a    <code>bash    sudo apt-get install rabbitmq-server</code>    \u5728 CentOS \u4e0a\u5b89\u88c5\uff1a    <code>bash    sudo yum install rabbitmq-server</code></p> </li> <li> <p>\u542f\u52a8 RabbitMQ \u670d\u52a1 <code>bash    sudo systemctl start rabbitmq-server    sudo systemctl enable rabbitmq-server</code></p> </li> <li> <p>\u9a8c\u8bc1\u5b89\u88c5    \u68c0\u67e5 RabbitMQ \u670d\u52a1\u72b6\u6001\uff1a    <code>bash    sudo systemctl status rabbitmq-server</code></p> </li> </ol>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#4-rabbitmq","title":"4. RabbitMQ \u57fa\u672c\u64cd\u4f5c","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#41","title":"4.1. \u542f\u7528\u7ba1\u7406\u63d2\u4ef6","text":"<p>RabbitMQ \u63d0\u4f9b\u4e86\u4e00\u4e2a Web \u7ba1\u7406\u754c\u9762\uff0c\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u7ba1\u7406\u548c\u76d1\u63a7 RabbitMQ \u5b9e\u4f8b\u3002</p> <pre><code>sudo rabbitmq-plugins enable rabbitmq_management\n</code></pre> <p>\u542f\u7528\u540e\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://localhost:15672/</code>\uff0c\u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u662f <code>guest</code>\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#42","title":"4.2. \u521b\u5efa\u7528\u6237\u4e0e\u6743\u9650\u7ba1\u7406","text":"<p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7528\u6237\u5e76\u8d4b\u4e88\u5176\u6743\u9650\uff1a</p> <pre><code>sudo rabbitmqctl add_user myuser mypassword\nsudo rabbitmqctl set_user_tags myuser administrator\nsudo rabbitmqctl set_permissions -p / myuser \".*\" \".*\" \".*\"\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#43","title":"4.3. \u58f0\u660e\u961f\u5217","text":"<p>\u4f7f\u7528 RabbitMQ \u5ba2\u6237\u7aef\uff08\u5982 Python \u7684 <code>pika</code>\uff09\u58f0\u660e\u961f\u5217\uff1a</p> <pre><code>import pika\n\nconnection = pika.BlockingConnection(pika.ConnectionParameters('localhost'))\nchannel = connection.channel()\n\n# \u58f0\u660e\u4e00\u4e2a\u961f\u5217\nchannel.queue_declare(queue='hello')\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#44","title":"4.4. \u53d1\u9001\u6d88\u606f","text":"<pre><code>channel.basic_publish(exchange='',\n                      routing_key='hello',\n                      body='Hello RabbitMQ!')\nprint(\" [x] Sent 'Hello RabbitMQ!'\")\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#45","title":"4.5. \u63a5\u6536\u6d88\u606f","text":"<pre><code>def callback(ch, method, properties, body):\n    print(f\" [x] Received {body}\")\n\nchannel.basic_consume(queue='hello',\n                      on_message_callback=callback,\n                      auto_ack=True)\n\nprint(' [*] Waiting for messages. To exit press CTRL+C')\nchannel.start_consuming()\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#5","title":"5. \u9ad8\u7ea7\u4f7f\u7528","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#51","title":"5.1. \u4ea4\u6362\u673a\u4e0e\u7ed1\u5b9a","text":"<p>RabbitMQ \u901a\u8fc7\u4ea4\u6362\u673a\u548c\u7ed1\u5b9a\u5c06\u6d88\u606f\u8def\u7531\u5230\u6b63\u786e\u7684\u961f\u5217\u3002\u4e0b\u9762\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u4ea4\u6362\u673a\u7c7b\u578b\uff1a - Direct Exchange\uff1a\u6d88\u606f\u4f1a\u88ab\u8def\u7531\u5230\u7ed1\u5b9a\u4e86\u76f8\u540c\u8def\u7531\u952e\u7684\u961f\u5217\u3002 - Topic Exchange\uff1a\u57fa\u4e8e\u901a\u914d\u7b26\u7684\u8def\u7531\u952e\uff0c\u6d88\u606f\u53ef\u4ee5\u8def\u7531\u5230\u5339\u914d\u7684\u591a\u4e2a\u961f\u5217\u3002 - Fanout Exchange\uff1a\u5c06\u6d88\u606f\u5e7f\u64ad\u5230\u6240\u6709\u7ed1\u5b9a\u7684\u961f\u5217\u3002 - Headers Exchange\uff1a\u57fa\u4e8e\u6d88\u606f\u7684 headers \u5c5e\u6027\u6765\u8def\u7531\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#52","title":"5.2. \u6d88\u606f\u786e\u8ba4\u4e0e\u91cd\u8bd5","text":"<ul> <li>\u6d88\u606f\u786e\u8ba4\uff1aRabbitMQ \u652f\u6301\u6d88\u606f\u786e\u8ba4\u673a\u5236\uff0c\u786e\u4fdd\u6d88\u606f\u88ab\u6b63\u786e\u5904\u7406\u3002\u5982\u679c\u6d88\u606f\u672a\u88ab\u786e\u8ba4\uff0cRabbitMQ \u4f1a\u91cd\u65b0\u6295\u9012\u6d88\u606f\u3002</li> <li>\u91cd\u8bd5\u673a\u5236\uff1a\u901a\u8fc7 <code>Dead Letter Exchange (DLX)</code> \u548c <code>TTL</code>\uff08Time to Live\uff09\u53ef\u4ee5\u5b9e\u73b0\u6d88\u606f\u7684\u91cd\u8bd5\u903b\u8f91\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#53","title":"5.3. \u6d88\u606f\u6301\u4e45\u5316","text":"<p>\u961f\u5217\u548c\u6d88\u606f\u53ef\u4ee5\u914d\u7f6e\u4e3a\u6301\u4e45\u5316\uff0c\u4ee5\u9632\u6b62 RabbitMQ \u670d\u52a1\u5668\u91cd\u542f\u6216\u5d29\u6e83\u65f6\u6d88\u606f\u4e22\u5931\u3002\u6301\u4e45\u5316\u961f\u5217\uff1a</p> <pre><code>channel.queue_declare(queue='durable_queue', durable=True)\n</code></pre> <p>\u6301\u4e45\u5316\u6d88\u606f\uff1a</p> <pre><code>channel.basic_publish(exchange='',\n                      routing_key='durable_queue',\n                      body='Persistent message',\n                      properties=pika.BasicProperties(\n                          delivery_mode=2,  # make message persistent\n                      ))\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#6","title":"6. \u76d1\u63a7\u4e0e\u7ba1\u7406","text":"<p>RabbitMQ \u63d0\u4f9b\u4e86\u591a\u79cd\u76d1\u63a7\u548c\u7ba1\u7406\u5de5\u5177\uff0c\u5982\uff1a - rabbitmqctl\uff1a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u7ba1\u7406 RabbitMQ \u8282\u70b9\u3002 - Web \u7ba1\u7406\u754c\u9762\uff1a\u7528\u4e8e\u67e5\u770b\u961f\u5217\u72b6\u6001\u3001\u4ea4\u6362\u673a\u3001\u7ed1\u5b9a\u4ee5\u53ca\u6d88\u606f\u6d41\u91cf\u3002 - Prometheus \u4e0e Grafana\uff1a\u53ef\u4ee5\u7ed3\u5408\u4f7f\u7528\u76d1\u63a7 RabbitMQ \u7684\u5404\u9879\u6307\u6807\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#7","title":"7. \u96c6\u7fa4\u4e0e\u9ad8\u53ef\u7528\u6027","text":"<p>RabbitMQ \u652f\u6301\u96c6\u7fa4\u90e8\u7f72\uff0c\u901a\u8fc7\u591a\u4e2a\u8282\u70b9\u63d0\u9ad8\u7cfb\u7edf\u7684\u53ef\u7528\u6027\u548c\u6027\u80fd\u3002\u5e38\u89c1\u7684\u96c6\u7fa4\u6a21\u5f0f\u6709\uff1a - \u666e\u901a\u96c6\u7fa4\uff1a\u8282\u70b9\u4e4b\u95f4\u5171\u4eab\u6d88\u606f\u961f\u5217\u5143\u6570\u636e\uff0c\u4f46\u4e0d\u5171\u4eab\u6d88\u606f\u5185\u5bb9\u3002 - \u9ad8\u53ef\u7528\u961f\u5217\uff08HA\uff09\uff1a\u901a\u8fc7 <code>mirrored queues</code> \u673a\u5236\uff0c\u5c06\u961f\u5217\u955c\u50cf\u5230\u96c6\u7fa4\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\uff0c\u4ece\u800c\u5b9e\u73b0\u9ad8\u53ef\u7528\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/basic/#8","title":"8. \u5e38\u89c1\u95ee\u9898\u4e0e\u6545\u969c\u6392\u67e5","text":"<ul> <li>\u65e0\u6cd5\u8fde\u63a5 RabbitMQ\uff1a\u68c0\u67e5\u9632\u706b\u5899\u8bbe\u7f6e\uff0c\u786e\u4fdd 5672 \u548c 15672 \u7aef\u53e3\u5f00\u653e\u3002</li> <li>\u6d88\u606f\u5806\u79ef\uff1a\u68c0\u67e5\u6d88\u8d39\u8005\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\uff0c\u662f\u5426\u9700\u8981\u6269\u5c55\u6d88\u8d39\u8005\u7684\u6570\u91cf\u6216\u6027\u80fd\u3002</li> <li>\u5185\u5b58\u6216\u78c1\u76d8\u544a\u8b66\uff1aRabbitMQ \u5bf9\u5185\u5b58\u548c\u78c1\u76d8\u4f7f\u7528\u6709\u4e00\u5b9a\u9650\u5236\uff0c\u786e\u4fdd\u8282\u70b9\u6709\u8db3\u591f\u7684\u8d44\u6e90\uff0c\u6216\u8005\u8c03\u6574\u76f8\u5173\u914d\u7f6e\u3002</li> </ul> <p>\u4ee5\u4e0a\u662f RabbitMQ \u7684\u8be6\u7ec6\u4f7f\u7528\u6559\u7a0b\uff0c\u6db5\u76d6\u4e86\u4ece\u57fa\u7840\u6982\u5ff5\u3001\u5b89\u88c5\u914d\u7f6e\u5230\u9ad8\u7ea7\u4f7f\u7528\u7684\u5404\u4e2a\u65b9\u9762\uff0c\u5e0c\u671b\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff01</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/","title":"RabbitMQ \u9762\u8bd5","text":"<p>RabbitMQ \u9762\u8bd5\u516b\u80a1\u9898\u6574\u7406</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#rabbitmq_1","title":"RabbitMQ \u5de5\u4f5c\u4e2d\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u5728\u5de5\u4f5c\u4e2d\u4f7f\u7528 RabbitMQ \u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u7684\u4e3e\u4f8b\u53ca\u8be6\u7ec6\u89e3\u6790\uff1a</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#1","title":"1. \u6d88\u606f\u5806\u79ef","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u6d88\u606f\u961f\u5217\u4e2d\u7684\u6d88\u606f\u4e0d\u65ad\u5806\u79ef\uff0c\u672a\u80fd\u53ca\u65f6\u6d88\u8d39\uff0c\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\u6216\u670d\u52a1\u5ef6\u8fdf\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_2","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u6d88\u8d39\u7aef\u6027\u80fd\u4e0d\u8db3: \u6d88\u8d39\u8005\u5904\u7406\u6d88\u606f\u7684\u901f\u5ea6\u4f4e\u4e8e\u751f\u4ea7\u8005\u53d1\u5e03\u6d88\u606f\u7684\u901f\u5ea6\uff0c\u5bfc\u81f4\u6d88\u606f\u4e0d\u65ad\u5806\u79ef\u3002</li> <li>\u6d88\u8d39\u8005\u6570\u91cf\u4e0d\u8db3: \u6d88\u8d39\u8005\u6570\u91cf\u8f83\u5c11\uff0c\u65e0\u6cd5\u53ca\u65f6\u6d88\u8d39\u961f\u5217\u4e2d\u7684\u6d88\u606f\u3002</li> <li>\u7f51\u7edc\u5ef6\u8fdf\u6216\u6545\u969c: \u7f51\u7edc\u95ee\u9898\u5bfc\u81f4\u6d88\u8d39\u8005\u65e0\u6cd5\u53ca\u65f6\u63a5\u6536\u5230\u6d88\u606f\u6216\u4e0e RabbitMQ \u670d\u52a1\u5668\u901a\u4fe1\u5931\u8d25\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_3","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u589e\u52a0\u6d88\u8d39\u8005\u6570\u91cf: \u589e\u52a0\u6d88\u8d39\u8005\u5b9e\u4f8b\uff0c\u5206\u62c5\u6d88\u8d39\u538b\u529b\uff0c\u63d0\u9ad8\u6d88\u606f\u5904\u7406\u901f\u5ea6\u3002</li> <li>\u4f18\u5316\u6d88\u8d39\u8005\u6027\u80fd: \u5206\u6790\u5e76\u4f18\u5316\u6d88\u8d39\u8005\u7684\u5904\u7406\u903b\u8f91\uff0c\u51cf\u5c11\u5904\u7406\u65f6\u95f4\uff0c\u63d0\u9ad8\u6d88\u8d39\u6548\u7387\u3002</li> <li>\u9650\u6d41\u63a7\u5236: \u4f7f\u7528 RabbitMQ \u7684\u6d41\u63a7\u529f\u80fd\uff0c\u9650\u5236\u751f\u4ea7\u8005\u7684\u6d88\u606f\u53d1\u5e03\u901f\u5ea6\uff0c\u4f7f\u5176\u4e0e\u6d88\u8d39\u8005\u7684\u6d88\u8d39\u80fd\u529b\u5339\u914d\u3002</li> <li>\u6301\u4e45\u5316\u4e0e\u5907\u4efd: \u5bf9\u4e8e\u5806\u79ef\u7684\u6d88\u606f\uff0c\u5f00\u542f\u6d88\u606f\u6301\u4e45\u5316\u529f\u80fd\uff0c\u786e\u4fdd\u5728\u670d\u52a1\u6062\u590d\u540e\u4e0d\u4f1a\u4e22\u5931\u91cd\u8981\u6570\u636e\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#2","title":"2. \u6d88\u606f\u4e22\u5931","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_4","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u90e8\u5206\u6d88\u606f\u672a\u80fd\u88ab\u6d88\u8d39\u8005\u63a5\u6536\u5230\uff0c\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u6216\u4e1a\u52a1\u903b\u8f91\u4e0d\u5b8c\u6574\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_5","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u6d88\u606f\u672a\u6301\u4e45\u5316: RabbitMQ \u9ed8\u8ba4\u5c06\u6d88\u606f\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u82e5\u670d\u52a1\u5668\u53d1\u751f\u6545\u969c\uff0c\u672a\u6301\u4e45\u5316\u7684\u6d88\u606f\u4f1a\u4e22\u5931\u3002</li> <li>\u961f\u5217\u8bbe\u7f6e\u4e0d\u5f53: \u961f\u5217\u672a\u8bbe\u7f6e\u4e3a\u6301\u4e45\u5316\u961f\u5217\uff0c\u5bfc\u81f4\u961f\u5217\u91cd\u542f\u540e\u6d88\u606f\u4e22\u5931\u3002</li> <li>\u81ea\u52a8\u786e\u8ba4\u5f00\u542f: \u6d88\u8d39\u8005\u5728\u5904\u7406\u6d88\u606f\u524d\u81ea\u52a8\u786e\u8ba4\u6d88\u606f\uff0c\u5bfc\u81f4\u672a\u5904\u7406\u5b8c\u7684\u6d88\u606f\u88ab\u8ba4\u4e3a\u5df2\u5904\u7406\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_6","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u5f00\u542f\u6d88\u606f\u6301\u4e45\u5316: \u5728\u53d1\u5e03\u6d88\u606f\u65f6\uff0c\u5c06\u6d88\u606f\u8bbe\u7f6e\u4e3a\u6301\u4e45\u5316\u6d88\u606f\uff0c\u786e\u4fdd\u5176\u88ab\u4fdd\u5b58\u5230\u78c1\u76d8\u3002</li> <li>\u914d\u7f6e\u6301\u4e45\u5316\u961f\u5217: \u786e\u4fdd\u961f\u5217\u88ab\u8bbe\u7f6e\u4e3a\u6301\u4e45\u5316\u961f\u5217\uff0c\u907f\u514d\u670d\u52a1\u5668\u91cd\u542f\u5bfc\u81f4\u6d88\u606f\u4e22\u5931\u3002</li> <li>\u624b\u52a8\u786e\u8ba4\u673a\u5236: \u5173\u95ed\u81ea\u52a8\u786e\u8ba4\uff0c\u4f7f\u7528\u624b\u52a8\u786e\u8ba4\u673a\u5236 (<code>manual_ack</code>) \u4ee5\u786e\u4fdd\u6d88\u606f\u5728\u6210\u529f\u5904\u7406\u540e\u624d\u88ab\u786e\u8ba4\u3002</li> </ul> <p><code>python   channel.basic_ack(delivery_tag=method.delivery_tag)</code></p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#3","title":"3. \u8fde\u63a5\u6570\u8fc7\u591a","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_7","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>RabbitMQ \u670d\u52a1\u5668\u51fa\u73b0\u8fde\u63a5\u6570\u8fc7\u591a\u7684\u60c5\u51b5\uff0c\u5bfc\u81f4\u8d44\u6e90\u8017\u5c3d\uff0c\u5f71\u54cd\u6b63\u5e38\u670d\u52a1\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_8","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u957f\u8fde\u63a5\u672a\u91ca\u653e: \u5e94\u7528\u7a0b\u5e8f\u672a\u80fd\u53ca\u65f6\u91ca\u653e\u4e0e RabbitMQ \u7684\u8fde\u63a5\uff0c\u5bfc\u81f4\u8fde\u63a5\u6570\u4e0d\u65ad\u589e\u52a0\u3002</li> <li>\u9891\u7e41\u521b\u5efa\u8fde\u63a5: \u5e94\u7528\u7a0b\u5e8f\u9891\u7e41\u521b\u5efa\u65b0\u8fde\u63a5\uff0c\u672a\u590d\u7528\u73b0\u6709\u8fde\u63a5\uff0c\u589e\u52a0\u4e86\u670d\u52a1\u5668\u8d1f\u62c5\u3002</li> <li>\u8fde\u63a5\u6cc4\u6f0f: \u7a0b\u5e8f\u4e2d\u5b58\u5728\u8fde\u63a5\u6cc4\u6f0f\u95ee\u9898\uff0c\u5bfc\u81f4\u8fde\u63a5\u65e0\u6cd5\u88ab\u6b63\u5e38\u5173\u95ed\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_9","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u4f7f\u7528\u8fde\u63a5\u6c60: \u4f7f\u7528\u8fde\u63a5\u6c60\u7ba1\u7406 RabbitMQ \u8fde\u63a5\uff0c\u907f\u514d\u9891\u7e41\u521b\u5efa\u548c\u5173\u95ed\u8fde\u63a5\uff0c\u51cf\u5c11\u670d\u52a1\u5668\u8d1f\u62c5\u3002</li> <li>\u5b9a\u671f\u68c0\u67e5\u4e0e\u6e05\u7406: \u5b9a\u671f\u68c0\u67e5 RabbitMQ \u7684\u8fde\u63a5\u6570\uff0c\u8bc6\u522b\u5e76\u6e05\u7406\u957f\u65f6\u95f4\u672a\u6d3b\u52a8\u7684\u8fde\u63a5\u3002</li> <li>\u4f18\u5316\u4ee3\u7801\u903b\u8f91: \u68c0\u67e5\u5e76\u4f18\u5316\u4ee3\u7801\u903b\u8f91\uff0c\u786e\u4fdd\u8fde\u63a5\u80fd\u591f\u53ca\u65f6\u5173\u95ed\u548c\u91ca\u653e\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#4-rabbitmq","title":"4. RabbitMQ \u8282\u70b9\u5b95\u673a","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_10","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>RabbitMQ \u96c6\u7fa4\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u8282\u70b9\u5b95\u673a\uff0c\u5bfc\u81f4\u6d88\u606f\u961f\u5217\u670d\u52a1\u4e0d\u53ef\u7528\u6216\u6027\u80fd\u4e0b\u964d\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_11","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u786c\u4ef6\u6545\u969c: \u670d\u52a1\u5668\u786c\u4ef6\u6545\u969c\u5bfc\u81f4\u8282\u70b9\u5b95\u673a\uff0c\u5982\u78c1\u76d8\u635f\u574f\u3001\u5185\u5b58\u6545\u969c\u7b49\u3002</li> <li>\u7f51\u7edc\u95ee\u9898: \u7f51\u7edc\u4e0d\u7a33\u5b9a\u6216\u6545\u969c\u5bfc\u81f4\u8282\u70b9\u65e0\u6cd5\u6b63\u5e38\u4e0e\u5176\u4ed6\u8282\u70b9\u901a\u4fe1\uff0c\u6700\u7ec8\u5bfc\u81f4\u5b95\u673a\u3002</li> <li>\u8d1f\u8f7d\u8fc7\u9ad8: \u8282\u70b9\u8d1f\u8f7d\u8fc7\u9ad8\uff0c\u8d44\u6e90\u8017\u5c3d\uff0c\u6700\u7ec8\u5bfc\u81f4\u670d\u52a1\u5d29\u6e83\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_12","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u96c6\u7fa4\u5197\u4f59: \u4f7f\u7528 RabbitMQ \u96c6\u7fa4\u6a21\u5f0f\uff0c\u589e\u52a0\u8282\u70b9\u6570\u91cf\uff0c\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u3002\u786e\u4fdd\u5373\u4f7f\u4e00\u4e2a\u8282\u70b9\u5b95\u673a\uff0c\u5176\u4ed6\u8282\u70b9\u4ecd\u80fd\u63d0\u4f9b\u670d\u52a1\u3002</li> <li>\u76d1\u63a7\u4e0e\u62a5\u8b66: \u914d\u7f6e\u76d1\u63a7\u5de5\u5177\uff08\u5982 Prometheus \u548c Grafana\uff09\uff0c\u5b9e\u65f6\u76d1\u63a7\u8282\u70b9\u7684\u72b6\u6001\uff0c\u8bbe\u7f6e\u62a5\u8b66\u89c4\u5219\uff0c\u53ca\u65f6\u53d1\u73b0\u548c\u5904\u7406\u95ee\u9898\u3002</li> <li>\u81ea\u52a8\u6062\u590d\u673a\u5236: \u8bbe\u7f6e\u81ea\u52a8\u6062\u590d\u673a\u5236\uff0c\u786e\u4fdd\u8282\u70b9\u5b95\u673a\u540e\u80fd\u591f\u81ea\u52a8\u91cd\u65b0\u542f\u52a8\u548c\u52a0\u5165\u96c6\u7fa4\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#5","title":"5. \u6d88\u606f\u91cd\u590d\u6d88\u8d39","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_13","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u6d88\u8d39\u8005\u591a\u6b21\u63a5\u6536\u5230\u76f8\u540c\u7684\u6d88\u606f\uff0c\u5bfc\u81f4\u6d88\u606f\u88ab\u91cd\u590d\u5904\u7406\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5197\u4f59\u6216\u4e1a\u52a1\u903b\u8f91\u5f02\u5e38\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_14","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u6d88\u8d39\u8005\u672a\u6b63\u786e\u786e\u8ba4\u6d88\u606f: \u6d88\u8d39\u8005\u672a\u6b63\u786e\u786e\u8ba4\u6d88\u606f\uff0c\u5bfc\u81f4 RabbitMQ \u8ba4\u4e3a\u6d88\u606f\u672a\u88ab\u5904\u7406\uff0c\u518d\u6b21\u53d1\u9001\u8be5\u6d88\u606f\u3002</li> <li>\u7f51\u7edc\u6296\u52a8: \u7f51\u7edc\u6296\u52a8\u6216\u4e0d\u7a33\u5b9a\u5bfc\u81f4 RabbitMQ \u672a\u80fd\u63a5\u6536\u5230\u6d88\u8d39\u8005\u7684\u786e\u8ba4\u4fe1\u606f\uff0c\u8ba4\u4e3a\u6d88\u606f\u672a\u88ab\u5904\u7406\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_15","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u5e42\u7b49\u6027\u8bbe\u8ba1: \u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b9e\u73b0\u5e42\u7b49\u6027\u8bbe\u8ba1\uff0c\u5373\u4f7f\u540c\u4e00\u6d88\u606f\u88ab\u591a\u6b21\u5904\u7406\uff0c\u4e5f\u4e0d\u4f1a\u5bfc\u81f4\u6570\u636e\u9519\u8bef\u3002</li> <li>\u624b\u52a8\u786e\u8ba4\u673a\u5236: \u4f7f\u7528\u624b\u52a8\u786e\u8ba4\u673a\u5236\uff0c\u786e\u4fdd\u6d88\u606f\u5728\u6210\u529f\u5904\u7406\u540e\u624d\u88ab\u786e\u8ba4\uff0c\u907f\u514d\u91cd\u590d\u6d88\u8d39\u3002</li> </ul> <p><code>python   channel.basic_ack(delivery_tag=method.delivery_tag)</code></p> <ul> <li>\u91cd\u8bd5\u673a\u5236: \u5728\u6d88\u8d39\u8005\u4e2d\u5b9e\u73b0\u91cd\u8bd5\u673a\u5236\uff0c\u5bf9\u5904\u7406\u5931\u8d25\u7684\u6d88\u606f\u8fdb\u884c\u591a\u6b21\u91cd\u8bd5\uff0c\u51cf\u5c11\u91cd\u590d\u6d88\u8d39\u7684\u53ef\u80fd\u6027\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#6","title":"6. \u961f\u5217\u4e0d\u5747\u8861","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_16","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>RabbitMQ \u96c6\u7fa4\u4e2d\u5b58\u5728\u591a\u4e2a\u961f\u5217\uff0c\u4f46\u6d88\u606f\u5728\u4e0d\u540c\u961f\u5217\u4e4b\u95f4\u5206\u5e03\u4e0d\u5747\u8861\uff0c\u5bfc\u81f4\u90e8\u5206\u961f\u5217\u8d1f\u8f7d\u8fc7\u9ad8\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_17","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u6d88\u606f\u8def\u7531\u89c4\u5219\u4e0d\u5408\u7406: \u6d88\u606f\u8def\u7531\u89c4\u5219\u8bbe\u7f6e\u4e0d\u5f53\uff0c\u5bfc\u81f4\u6d88\u606f\u96c6\u4e2d\u5728\u67d0\u4e9b\u7279\u5b9a\u7684\u961f\u5217\u3002</li> <li>\u6d88\u8d39\u8005\u5904\u7406\u80fd\u529b\u4e0d\u5747\u8861: \u4e0d\u540c\u961f\u5217\u7684\u6d88\u8d39\u8005\u5904\u7406\u80fd\u529b\u4e0d\u540c\uff0c\u5bfc\u81f4\u90e8\u5206\u961f\u5217\u5904\u7406\u901f\u5ea6\u8f83\u6162\uff0c\u51fa\u73b0\u5806\u79ef\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq/interview/#_18","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u4f18\u5316\u6d88\u606f\u8def\u7531\u89c4\u5219: \u91cd\u65b0\u8bc4\u4f30\u5e76\u4f18\u5316\u6d88\u606f\u8def\u7531\u89c4\u5219\uff0c\u786e\u4fdd\u6d88\u606f\u80fd\u591f\u5747\u5300\u5206\u5e03\u5230\u5404\u4e2a\u961f\u5217\u3002</li> <li>\u52a8\u6001\u8c03\u6574\u6d88\u8d39\u8005: \u6839\u636e\u961f\u5217\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u52a8\u6001\u8c03\u6574\u6d88\u8d39\u8005\u7684\u6570\u91cf\u6216\u5904\u7406\u80fd\u529b\uff0c\u5e73\u8861\u5404\u961f\u5217\u7684\u8d1f\u8f7d\u3002</li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0a\u5e38\u89c1\u95ee\u9898\u7684\u4e3e\u4f8b\u4e0e\u8be6\u89e3\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5de5\u4f5c\u4e2d\u66f4\u597d\u5730\u5904\u7406 RabbitMQ \u7684\u8fd0\u7ef4\u4e0e\u4f18\u5316\u95ee\u9898\uff0c\u786e\u4fdd\u6d88\u606f\u961f\u5217\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u9ad8\u6548\u6027\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/","title":"zookeeper \u6559\u7a0b","text":"<p>Zookeeper \u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u534f\u8c03\u670d\u52a1\uff0c\u7528\u4e8e\u7ba1\u7406\u548c\u534f\u8c03\u5927\u578b\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u72b6\u6001\u4fe1\u606f\u3002\u4ee5\u4e0b\u662f Zookeeper \u7684\u8be6\u7ec6\u6559\u7a0b\uff0c\u6db5\u76d6\u4e86\u5176\u57fa\u672c\u6982\u5ff5\u3001\u5b89\u88c5\u914d\u7f6e\u3001\u57fa\u672c\u64cd\u4f5c\u4ee5\u53ca\u4f7f\u7528\u573a\u666f\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#1-zookeeper","title":"1. Zookeeper \u57fa\u672c\u6982\u5ff5","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#11-zookeeper","title":"1.1 Zookeeper \u662f\u4ec0\u4e48","text":"<p>Zookeeper \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5206\u5e03\u5f0f\u534f\u8c03\u670d\u52a1\uff0c\u6700\u521d\u7531 Yahoo \u5f00\u53d1\uff0c\u73b0\u5728\u7531 Apache \u7ef4\u62a4\u3002\u5b83\u4e3b\u8981\u7528\u4e8e\u7ba1\u7406\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u914d\u7f6e\u3001\u540c\u6b65\u6570\u636e\u548c\u547d\u540d\u670d\u52a1\u7b49\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#12-zookeeper","title":"1.2 Zookeeper \u7684\u7279\u70b9","text":"<ul> <li>\u4e00\u81f4\u6027: Zookeeper \u63d0\u4f9b\u4e86\u5f3a\u4e00\u81f4\u6027\u7684\u4fdd\u8bc1\uff0c\u5373\u4f7f\u5728\u9762\u5bf9\u7f51\u7edc\u5206\u533a\u6216\u8282\u70b9\u6545\u969c\u65f6\uff0c\u6570\u636e\u4e5f\u80fd\u4fdd\u6301\u4e00\u81f4\u3002</li> <li>\u9ad8\u53ef\u7528\u6027: \u901a\u8fc7\u90e8\u7f72\u591a\u4e2a Zookeeper \u8282\u70b9\uff0c\u96c6\u7fa4\u53ef\u4ee5\u5bb9\u5fcd\u4e00\u5b9a\u6570\u91cf\u7684\u8282\u70b9\u6545\u969c\u800c\u7ee7\u7eed\u8fd0\u884c\u3002</li> <li>\u987a\u5e8f\u6027: Zookeeper \u4fdd\u8bc1\u4e8b\u52a1\u987a\u5e8f\uff0c\u6240\u6709\u5199\u64cd\u4f5c\u90fd\u88ab\u987a\u5e8f\u6267\u884c\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#13-zookeeper","title":"1.3 Zookeeper \u7684\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>\u8282\u70b9\uff08ZNode\uff09: Zookeeper \u4e2d\u7684\u6bcf\u4e2a\u6570\u636e\u5355\u5143\u79f0\u4e3a ZNode\uff0c\u5b83\u53ef\u4ee5\u5b58\u50a8\u6570\u636e\u548c\u5b50\u8282\u70b9\u3002</li> <li>\u4f1a\u8bdd\uff08Session\uff09: \u5ba2\u6237\u7aef\u4e0e Zookeeper \u670d\u52a1\u5668\u4e4b\u95f4\u7684\u8fde\u63a5\u79f0\u4e3a\u4f1a\u8bdd\uff0c\u671f\u95f4\u53ef\u4ee5\u8fdb\u884c\u6570\u636e\u64cd\u4f5c\u3002</li> <li>\u4e34\u65f6\u8282\u70b9: \u4f1a\u8bdd\u7ed3\u675f\u65f6\uff0c\u4e34\u65f6\u8282\u70b9\u4f1a\u81ea\u52a8\u5220\u9664\u3002</li> <li>\u6301\u4e45\u8282\u70b9: \u8282\u70b9\u521b\u5efa\u540e\uff0c\u9664\u975e\u624b\u52a8\u5220\u9664\uff0c\u5426\u5219\u4f1a\u4e00\u76f4\u5b58\u5728\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#2-zookeeper","title":"2. Zookeeper \u5b89\u88c5\u4e0e\u914d\u7f6e","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#21-zookeeper","title":"2.1 \u5b89\u88c5 Zookeeper","text":"<ol> <li> <p>\u4e0b\u8f7d Zookeeper:    \u4ece Apache Zookeeper \u5b98\u7f51 \u4e0b\u8f7d\u6700\u65b0\u7248\u7684 Zookeeper\u3002</p> </li> <li> <p>\u89e3\u538b\u5b89\u88c5\u5305:    <code>bash    tar -zxf zookeeper-3.7.0.tar.gz    cd zookeeper-3.7.0</code></p> </li> <li> <p>\u914d\u7f6e Zookeeper:    \u5728 <code>conf</code> \u76ee\u5f55\u4e0b\u521b\u5efa <code>zoo.cfg</code> \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\uff1a    <code>bash    tickTime=2000    dataDir=/var/lib/zookeeper    clientPort=2181    initLimit=5    syncLimit=2    server.1=127.0.0.1:2888:3888</code></p> </li> <li> <p>\u542f\u52a8 Zookeeper:    \u5728 Zookeeper \u5b89\u88c5\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8 Zookeeper \u670d\u52a1\uff1a    <code>bash    bin/zkServer.sh start</code></p> </li> <li> <p>\u9a8c\u8bc1 Zookeeper \u8fd0\u884c\u72b6\u6001:    \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1 Zookeeper \u662f\u5426\u6210\u529f\u542f\u52a8\uff1a    <code>bash    bin/zkServer.sh status</code></p> </li> </ol>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#22-zookeeper","title":"2.2 Zookeeper \u96c6\u7fa4\u914d\u7f6e","text":"<p>Zookeeper \u96c6\u7fa4\u901a\u5e38\u7531\u5947\u6570\u4e2a\u670d\u52a1\u5668\u7ec4\u6210\uff0c\u4ee5\u907f\u514d\u8111\u88c2\u95ee\u9898\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u5178\u578b\u7684\u4e09\u8282\u70b9 Zookeeper \u96c6\u7fa4\u914d\u7f6e\u793a\u4f8b\uff1a</p> <ol> <li> <p>\u914d\u7f6e zoo.cfg \u6587\u4ef6:    \u6bcf\u4e2a Zookeeper \u8282\u70b9\u7684 <code>zoo.cfg</code> \u6587\u4ef6\u914d\u7f6e\u5982\u4e0b\uff1a    <code>bash    tickTime=2000    dataDir=/var/lib/zookeeper    clientPort=2181    initLimit=5    syncLimit=2    server.1=192.168.1.1:2888:3888    server.2=192.168.1.2:2888:3888    server.3=192.168.1.3:2888:3888</code></p> </li> <li> <p>\u914d\u7f6e myid \u6587\u4ef6:    \u6bcf\u4e2a\u8282\u70b9\u9700\u8981\u5728 <code>dataDir</code> \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>myid</code> \u7684\u6587\u4ef6\uff0c\u6587\u4ef6\u5185\u5bb9\u4e3a\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u7f16\u53f7\uff0c\u4f8b\u5982\uff1a    <code>bash    echo \"1\" &gt; /var/lib/zookeeper/myid  # \u5728 server.1 \u4e0a    echo \"2\" &gt; /var/lib/zookeeper/myid  # \u5728 server.2 \u4e0a    echo \"3\" &gt; /var/lib/zookeeper/myid  # \u5728 server.3 \u4e0a</code></p> </li> <li> <p>\u542f\u52a8\u96c6\u7fa4:    \u5728\u6bcf\u4e2a\u8282\u70b9\u4e0a\u542f\u52a8 Zookeeper\uff1a    <code>bash    bin/zkServer.sh start</code></p> </li> </ol>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#3-zookeeper","title":"3. Zookeeper \u57fa\u672c\u64cd\u4f5c","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#31-zookeeper","title":"3.1 \u8fde\u63a5 Zookeeper","text":"<p>\u4f7f\u7528 Zookeeper \u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff1a</p> <pre><code>bin/zkCli.sh -server 127.0.0.1:2181\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#32","title":"3.2 \u521b\u5efa\u8282\u70b9","text":"<p>\u5728 Zookeeper \u4e2d\u521b\u5efa\u4e00\u4e2a\u6301\u4e45\u8282\u70b9\uff1a</p> <pre><code>create /myNode \"myData\"\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#33","title":"3.3 \u83b7\u53d6\u8282\u70b9\u6570\u636e","text":"<p>\u83b7\u53d6\u8282\u70b9 <code>/myNode</code> \u7684\u6570\u636e\uff1a</p> <pre><code>get /myNode\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#34","title":"3.4 \u66f4\u65b0\u8282\u70b9\u6570\u636e","text":"<p>\u66f4\u65b0\u8282\u70b9 <code>/myNode</code> \u7684\u6570\u636e\uff1a</p> <pre><code>set /myNode \"newData\"\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#35","title":"3.5 \u5220\u9664\u8282\u70b9","text":"<p>\u5220\u9664\u8282\u70b9 <code>/myNode</code>\uff1a</p> <pre><code>delete /myNode\n</code></pre>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#36","title":"3.6 \u76d1\u63a7\u8282\u70b9","text":"<p>\u5bf9\u8282\u70b9\u8fdb\u884c\u76d1\u63a7\uff0c\u76d1\u542c\u8282\u70b9\u7684\u6570\u636e\u53d8\u5316\uff1a</p> <pre><code>get /myNode true\n</code></pre> <p>Zookeeper \u5ba2\u6237\u7aef\u4f1a\u5728\u8282\u70b9\u6570\u636e\u53d8\u5316\u65f6\u6536\u5230\u901a\u77e5\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#4-zookeeper","title":"4. Zookeeper \u4f7f\u7528\u573a\u666f","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#41","title":"4.1 \u914d\u7f6e\u7ba1\u7406","text":"<p>Zookeeper \u53ef\u7528\u4e8e\u5b58\u50a8\u548c\u7ba1\u7406\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u4f8b\u5982\u6570\u636e\u5e93\u8fde\u63a5\u4fe1\u606f\u3001\u670d\u52a1\u5730\u5740\u7b49\u3002\u591a\u4e2a\u5e94\u7528\u53ef\u4ee5\u5b9e\u65f6\u8bbf\u95ee\u548c\u66f4\u65b0\u8fd9\u4e9b\u914d\u7f6e\uff0c\u5e76\u5728\u914d\u7f6e\u53d8\u5316\u65f6\u6536\u5230\u901a\u77e5\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#42","title":"4.2 \u5206\u5e03\u5f0f\u9501","text":"<p>Zookeeper \u901a\u8fc7\u4e34\u65f6\u8282\u70b9\u548c\u987a\u5e8f\u8282\u70b9\u7684\u7279\u6027\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u673a\u5236\uff0c\u591a\u4e2a\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u7ade\u4e89\u521b\u5efa\u8282\u70b9\u7684\u65b9\u5f0f\u83b7\u5f97\u9501\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#43","title":"4.3 \u670d\u52a1\u6ce8\u518c\u4e0e\u53d1\u73b0","text":"<p>Zookeeper \u53ef\u4ee5\u7528\u4f5c\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\uff0c\u670d\u52a1\u542f\u52a8\u65f6\u5c06\u81ea\u5df1\u7684\u5730\u5740\u548c\u72b6\u6001\u4fe1\u606f\u6ce8\u518c\u5230 Zookeeper\uff0c\u5176\u4ed6\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2 Zookeeper \u83b7\u53d6\u670d\u52a1\u5730\u5740\uff0c\u5b9e\u73b0\u670d\u52a1\u53d1\u73b0\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#44-leader","title":"4.4 Leader \u9009\u4e3e","text":"<p>\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0cZookeeper \u53ef\u4ee5\u7528\u6765\u5b9e\u73b0 Leader \u9009\u4e3e\u673a\u5236\uff0c\u786e\u4fdd\u5728\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\u62c5\u4efb\u4e3b\u8282\u70b9\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#5-zookeeper","title":"5. Zookeeper \u6027\u80fd\u4f18\u5316","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#51","title":"5.1 \u914d\u7f6e\u4f18\u5316","text":"<ul> <li>\u589e\u52a0 tickTime: \u63d0\u9ad8 tickTime \u4ee5\u9002\u5e94\u7f51\u7edc\u5ef6\u8fdf\u8f83\u9ad8\u7684\u73af\u5883\u3002</li> <li>\u4f18\u5316 JVM \u53c2\u6570: \u6839\u636e\u673a\u5668\u7684\u5185\u5b58\u5927\u5c0f\u8c03\u6574 JVM \u5806\u5185\u5b58\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#52","title":"5.2 \u786c\u4ef6\u4f18\u5316","text":"<ul> <li>\u4f7f\u7528 SSD: Zookeeper \u7684\u6570\u636e\u76ee\u5f55\u5efa\u8bae\u4f7f\u7528 SSD \u5b58\u50a8\uff0c\u4ee5\u63d0\u9ad8\u8bfb\u5199\u6027\u80fd\u3002</li> <li>\u63d0\u9ad8\u7f51\u7edc\u5e26\u5bbd: \u786e\u4fdd Zookeeper \u8282\u70b9\u4e4b\u95f4\u6709\u8db3\u591f\u7684\u7f51\u7edc\u5e26\u5bbd\uff0c\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#53","title":"5.3 \u76d1\u63a7\u4e0e\u62a5\u8b66","text":"<ul> <li>\u76d1\u63a7\u8282\u70b9\u72b6\u6001: \u4f7f\u7528\u5de5\u5177\uff08\u5982 Prometheus\u3001Grafana\uff09\u76d1\u63a7 Zookeeper \u8282\u70b9\u7684\u5065\u5eb7\u72b6\u6001\u3002</li> <li>\u8bbe\u7f6e\u62a5\u8b66: \u5728 Zookeeper \u54cd\u5e94\u65f6\u95f4\u8fc7\u957f\u6216\u8282\u70b9\u51fa\u73b0\u6545\u969c\u65f6\u89e6\u53d1\u62a5\u8b66\uff0c\u53ca\u65f6\u5904\u7406\u95ee\u9898\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#6-zookeeper","title":"6. Zookeeper \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#61","title":"6.1 \u7f51\u7edc\u5206\u533a\u95ee\u9898","text":"<ul> <li>\u95ee\u9898\u63cf\u8ff0: \u5f53 Zookeeper \u8282\u70b9\u53d1\u751f\u7f51\u7edc\u5206\u533a\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u96c6\u7fa4\u4e0d\u53ef\u7528\u6216\u8111\u88c2\u95ee\u9898\u3002</li> <li>\u89e3\u51b3\u65b9\u6848: \u90e8\u7f72 Zookeeper \u8282\u70b9\u65f6\uff0c\u786e\u4fdd\u5728\u540c\u4e00\u6570\u636e\u4e2d\u5fc3\u5185\uff0c\u5e76\u4f7f\u7528\u7a33\u5b9a\u7684\u7f51\u7edc\u73af\u5883\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#62","title":"6.2 \u6027\u80fd\u74f6\u9888","text":"<ul> <li>\u95ee\u9898\u63cf\u8ff0: \u5728\u9ad8\u5e76\u53d1\u73af\u5883\u4e0b\uff0cZookeeper \u7684\u6027\u80fd\u53ef\u80fd\u6210\u4e3a\u7cfb\u7edf\u7684\u74f6\u9888\u3002</li> <li>\u89e3\u51b3\u65b9\u6848: \u4f18\u5316 Zookeeper \u914d\u7f6e\uff0c\u589e\u52a0\u8282\u70b9\u6570\u91cf\uff0c\u51cf\u5c11\u5355\u4e2a\u8282\u70b9\u7684\u8d1f\u8f7d\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/basic/#63","title":"6.3 \u6570\u636e\u4e0d\u4e00\u81f4","text":"<ul> <li>\u95ee\u9898\u63cf\u8ff0: \u5728\u96c6\u7fa4\u6545\u969c\u6216\u91cd\u542f\u540e\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002</li> <li>\u89e3\u51b3\u65b9\u6848: \u4f7f\u7528\u8f83\u9ad8\u7684\u540c\u6b65\u9650\u5236 (<code>syncLimit</code>) \u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\uff0c\u5e76\u5b9a\u671f\u5907\u4efd Zookeeper \u6570\u636e\u3002</li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0a\u6559\u7a0b\uff0c\u4f60\u53ef\u4ee5\u4e86\u89e3 Zookeeper \u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u4ee5\u53ca\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u5e94\u7528\u3002\u638c\u63e1\u8fd9\u4e9b\u77e5\u8bc6\u53ef\u4ee5\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7ba1\u7406\u548c\u4f18\u5316 Zookeeper \u96c6\u7fa4\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u548c\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/","title":"zookeeper \u9762\u8bd5","text":"<p>Zookeeper\u9762\u8bd5\u9898</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#zookeeper_1","title":"zookeeper \u5de5\u4f5c\u4e2d\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u5728\u5de5\u4f5c\u4e2d\u4f7f\u7528 Zookeeper \u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u7cfb\u5217\u95ee\u9898\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u7684\u4e3e\u4f8b\u53ca\u8be6\u7ec6\u89e3\u6790\uff1a</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#1-zookeeper","title":"1. Zookeeper \u8282\u70b9\u5b95\u673a","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>Zookeeper \u96c6\u7fa4\u4e2d\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u8282\u70b9\u5b95\u673a\uff0c\u5bfc\u81f4\u90e8\u5206\u5ba2\u6237\u7aef\u65e0\u6cd5\u8fde\u63a5\u6216\u51fa\u73b0\u670d\u52a1\u4e2d\u65ad\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_2","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u786c\u4ef6\u6545\u969c: \u78c1\u76d8\u6545\u969c\u3001\u5185\u5b58\u635f\u574f\u6216\u7f51\u7edc\u8fde\u63a5\u4e2d\u65ad\u7b49\u786c\u4ef6\u95ee\u9898\u5bfc\u81f4\u8282\u70b9\u5b95\u673a\u3002</li> <li>\u914d\u7f6e\u9519\u8bef: Zookeeper \u914d\u7f6e\u4e0d\u5f53\uff0c\u5bfc\u81f4\u5728\u9ad8\u8d1f\u8f7d\u6216\u957f\u65f6\u95f4\u8fd0\u884c\u540e\u8282\u70b9\u5d29\u6e83\u3002</li> <li>JVM \u5185\u5b58\u4e0d\u8db3: Zookeeper \u7684 JVM \u5185\u5b58\u914d\u7f6e\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u5904\u7406\u5927\u91cf\u7684\u8bf7\u6c42\u6216\u6570\u636e\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_3","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u786c\u4ef6\u5197\u4f59:</li> <li>\u4f7f\u7528\u5197\u4f59\u786c\u4ef6\uff08\u5982 RAID \u78c1\u76d8\u9635\u5217\uff09\u6765\u63d0\u9ad8\u786c\u4ef6\u6545\u969c\u7684\u5bb9\u9519\u80fd\u529b\u3002</li> <li> <p>\u5b9a\u671f\u68c0\u67e5\u786c\u4ef6\u72b6\u51b5\uff0c\u786e\u4fdd\u786c\u4ef6\u6027\u80fd\u7a33\u5b9a\u3002</p> </li> <li> <p>\u914d\u7f6e\u4f18\u5316:</p> </li> <li>\u8c03\u6574 Zookeeper \u7684 JVM \u5185\u5b58\u8bbe\u7f6e\uff0c\u786e\u4fdd\u5728\u9ad8\u8d1f\u8f7d\u4e0b\u4ecd\u80fd\u7a33\u5b9a\u8fd0\u884c\u3002</li> <li>\u589e\u52a0\u8282\u70b9\u6570\u91cf\u4ee5\u5206\u6563\u8d1f\u8f7d\uff0c\u51cf\u5c11\u5355\u4e2a\u8282\u70b9\u7684\u538b\u529b\u3002</li> <li> <p>\u8bbe\u7f6e\u5408\u7406\u7684 <code>tickTime</code>\u3001<code>initLimit</code> \u548c <code>syncLimit</code> \u53c2\u6570\uff0c\u4ee5\u9002\u5e94\u96c6\u7fa4\u7684\u7f51\u7edc\u5ef6\u8fdf\u548c\u8d1f\u8f7d\u3002</p> </li> <li> <p>\u76d1\u63a7\u4e0e\u62a5\u8b66:</p> </li> <li>\u4f7f\u7528\u76d1\u63a7\u5de5\u5177\uff08\u5982 Prometheus + Grafana\uff09\u76d1\u63a7 Zookeeper \u7684\u8fd0\u884c\u72b6\u51b5\uff0c\u8bbe\u7f6e\u62a5\u8b66\u89c4\u5219\uff0c\u53ca\u65f6\u53d1\u73b0\u548c\u5904\u7406\u95ee\u9898\u3002</li> <li>\u5b9a\u671f\u5907\u4efd Zookeeper \u7684\u6570\u636e\uff0c\u786e\u4fdd\u5728\u8282\u70b9\u5b95\u673a\u540e\u80fd\u591f\u5feb\u901f\u6062\u590d\u6570\u636e\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#2-zookeeper","title":"2. Zookeeper \u7f51\u7edc\u5206\u533a","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_4","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>Zookeeper \u96c6\u7fa4\u53d1\u751f\u7f51\u7edc\u5206\u533a\u65f6\uff0c\u96c6\u7fa4\u53ef\u80fd\u4f1a\u51fa\u73b0\u8111\u88c2\u95ee\u9898\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u670d\u52a1\u4e0d\u53ef\u7528\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_5","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u7f51\u7edc\u6545\u969c: \u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u7edc\u6545\u969c\u5bfc\u81f4 Zookeeper \u8282\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u4e2d\u65ad\uff0c\u65e0\u6cd5\u5f62\u6210 quorum\uff08\u6cd5\u5b9a\u4eba\u6570\uff09\u3002</li> <li>\u8282\u70b9\u90e8\u7f72\u4e0d\u5f53: Zookeeper \u8282\u70b9\u5206\u5e03\u5728\u4e0d\u540c\u7684\u6570\u636e\u4e2d\u5fc3\u6216\u7f51\u7edc\u533a\u57df\uff0c\u5bfc\u81f4\u7f51\u7edc\u5ef6\u8fdf\u548c\u5206\u533a\u95ee\u9898\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_6","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u4f18\u5316\u7f51\u7edc\u73af\u5883:</li> <li>\u786e\u4fdd Zookeeper \u8282\u70b9\u90e8\u7f72\u5728\u540c\u4e00\u6570\u636e\u4e2d\u5fc3\u6216\u5177\u6709\u4f4e\u5ef6\u8fdf\u3001\u9ad8\u5e26\u5bbd\u7684\u7f51\u7edc\u73af\u5883\u4e2d\u3002</li> <li> <p>\u4f7f\u7528\u7a33\u5b9a\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u51cf\u5c11\u7f51\u7edc\u6296\u52a8\u548c\u4e22\u5305\u73b0\u8c61\u3002</p> </li> <li> <p>\u589e\u52a0\u8282\u70b9\u6570\u91cf:</p> </li> <li>\u589e\u52a0 Zookeeper \u96c6\u7fa4\u7684\u8282\u70b9\u6570\u91cf\uff0c\u786e\u4fdd\u5728\u53d1\u751f\u7f51\u7edc\u5206\u533a\u65f6\u4ecd\u7136\u80fd\u4fdd\u6301 quorum\uff0c\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\u3002</li> <li> <p>\u96c6\u7fa4\u8282\u70b9\u6570\u91cf\u4e00\u822c\u5efa\u8bae\u4e3a\u5947\u6570\uff08\u4f8b\u5982 3 \u4e2a\u6216 5 \u4e2a\u8282\u70b9\uff09\uff0c\u4ee5\u9632\u6b62\u8111\u88c2\u95ee\u9898\u3002</p> </li> <li> <p>\u8bbe\u7f6e\u7f51\u7edc\u5206\u533a\u68c0\u6d4b:</p> </li> <li>\u4f7f\u7528\u7f51\u7edc\u76d1\u63a7\u5de5\u5177\uff0c\u5b9e\u65f6\u76d1\u63a7 Zookeeper \u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u72b6\u6001\uff0c\u53ca\u65f6\u53d1\u73b0\u548c\u89e3\u51b3\u7f51\u7edc\u5206\u533a\u95ee\u9898\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#3-zookeeper","title":"3. Zookeeper \u6027\u80fd\u74f6\u9888","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_7","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u5728\u9ad8\u5e76\u53d1\u7684\u5e94\u7528\u573a\u666f\u4e0b\uff0cZookeeper \u7684\u6027\u80fd\u53ef\u80fd\u6210\u4e3a\u7cfb\u7edf\u7684\u74f6\u9888\uff0c\u5bfc\u81f4\u8bf7\u6c42\u5ef6\u8fdf\u589e\u52a0\u6216\u670d\u52a1\u4e0d\u53ef\u7528\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_8","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u8bf7\u6c42\u91cf\u8fc7\u5927: \u77ed\u65f6\u95f4\u5185\u7684\u8bf7\u6c42\u91cf\u8d85\u8fc7\u4e86 Zookeeper \u5355\u4e2a\u8282\u70b9\u7684\u5904\u7406\u80fd\u529b\u3002</li> <li>\u786c\u4ef6\u8d44\u6e90\u4e0d\u8db3: Zookeeper \u6240\u5728\u670d\u52a1\u5668\u7684 CPU\u3001\u5185\u5b58\u6216\u78c1\u76d8 I/O \u6027\u80fd\u4e0d\u8db3\uff0c\u65e0\u6cd5\u652f\u6301\u9ad8\u5e76\u53d1\u64cd\u4f5c\u3002</li> <li>\u4f1a\u8bdd\u8fc7\u591a: \u5ba2\u6237\u7aef\u8fde\u63a5\u6570\u8fc7\u591a\uff0c\u5360\u7528\u4e86\u5927\u91cf\u8d44\u6e90\uff0c\u5f71\u54cd Zookeeper \u7684\u6027\u80fd\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_9","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u6269\u5c55 Zookeeper \u96c6\u7fa4:</li> <li> <p>\u589e\u52a0 Zookeeper \u8282\u70b9\u7684\u6570\u91cf\uff0c\u5206\u6563\u8bf7\u6c42\u8d1f\u8f7d\uff0c\u63d0\u5347\u96c6\u7fa4\u7684\u5904\u7406\u80fd\u529b\u3002</p> </li> <li> <p>\u4f18\u5316\u786c\u4ef6\u914d\u7f6e:</p> </li> <li>\u4f7f\u7528\u6027\u80fd\u66f4\u5f3a\u7684\u670d\u52a1\u5668\u90e8\u7f72 Zookeeper\uff0c\u5982\u66f4\u5feb\u7684 CPU\u3001\u66f4\u591a\u7684\u5185\u5b58\u548c SSD \u5b58\u50a8\u8bbe\u5907\u3002</li> <li> <p>\u63d0\u9ad8\u78c1\u76d8 I/O \u6027\u80fd\uff0c\u51cf\u5c11\u78c1\u76d8\u5199\u5165\u5ef6\u8fdf\u3002</p> </li> <li> <p>\u8bf7\u6c42\u4f18\u5316:</p> </li> <li>\u5408\u7406\u8bbe\u8ba1\u5ba2\u6237\u7aef\u5e94\u7528\uff0c\u51cf\u5c11\u5bf9 Zookeeper \u7684\u4e0d\u5fc5\u8981\u8bf7\u6c42\uff0c\u964d\u4f4e Zookeeper \u7684\u8d1f\u8f7d\u3002</li> <li>\u4f7f\u7528\u8fde\u63a5\u6c60\u6280\u672f\uff0c\u51cf\u5c11 Zookeeper \u7684\u4f1a\u8bdd\u6570\uff0c\u907f\u514d\u9891\u7e41\u7684\u8fde\u63a5\u5efa\u7acb\u548c\u65ad\u5f00\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#4-zookeeper","title":"4. Zookeeper \u6570\u636e\u4e0d\u4e00\u81f4","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_10","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>Zookeeper \u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u51fa\u73b0\u4e0d\u4e00\u81f4\uff0c\u53ef\u80fd\u5bfc\u81f4\u5ba2\u6237\u7aef\u83b7\u53d6\u5230\u8fc7\u65f6\u6216\u9519\u8bef\u7684\u6570\u636e\uff0c\u5f71\u54cd\u7cfb\u7edf\u7684\u6b63\u5e38\u8fd0\u884c\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_11","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u5199\u8bf7\u6c42\u5206\u5e03\u4e0d\u5747\u5300: \u5199\u8bf7\u6c42\u96c6\u4e2d\u5230\u67d0\u4e00\u4e2a\u8282\u70b9\uff0c\u5bfc\u81f4\u6570\u636e\u5728\u96c6\u7fa4\u4e2d\u7684\u540c\u6b65\u5ef6\u8fdf\u589e\u52a0\u3002</li> <li>\u8282\u70b9\u5b95\u673a\u6216\u7f51\u7edc\u5206\u533a: \u5728 Zookeeper \u8282\u70b9\u5b95\u673a\u6216\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u53ef\u80fd\u672a\u80fd\u53ca\u65f6\u540c\u6b65\u5230\u6240\u6709\u8282\u70b9\u3002</li> <li>\u8fc7\u671f\u4f1a\u8bdd\u5904\u7406\u4e0d\u5f53: \u4f1a\u8bdd\u8fc7\u671f\u540e\uff0c\u4e34\u65f6\u8282\u70b9\u672a\u80fd\u6b63\u786e\u5220\u9664\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_12","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u5747\u8861\u5199\u8bf7\u6c42:</li> <li> <p>\u5408\u7406\u914d\u7f6e\u5ba2\u6237\u7aef\uff0c\u4f7f\u5199\u8bf7\u6c42\u5c3d\u53ef\u80fd\u5747\u5300\u5730\u5206\u5e03\u5230\u4e0d\u540c\u7684 Zookeeper \u8282\u70b9\uff0c\u51cf\u5c11\u5355\u4e2a\u8282\u70b9\u7684\u538b\u529b\u3002</p> </li> <li> <p>\u589e\u52a0\u526f\u672c\u540c\u6b65\u901f\u5ea6:</p> </li> <li> <p>\u8c03\u6574 <code>syncLimit</code> \u53c2\u6570\uff0c\u786e\u4fdd\u5199\u5165\u6570\u636e\u80fd\u591f\u53ca\u65f6\u540c\u6b65\u5230\u5176\u4ed6\u8282\u70b9\uff0c\u51cf\u5c11\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u6982\u7387\u3002</p> </li> <li> <p>\u5b9a\u671f\u68c0\u67e5\u6570\u636e\u4e00\u81f4\u6027:</p> </li> <li>\u4f7f\u7528 Zookeeper \u63d0\u4f9b\u7684 <code>zkCli.sh</code> \u5de5\u5177\u6216\u81ea\u5b9a\u4e49\u811a\u672c\uff0c\u5b9a\u671f\u68c0\u67e5\u96c6\u7fa4\u4e2d\u5404\u8282\u70b9\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u53d1\u73b0\u95ee\u9898\u53ca\u65f6\u5904\u7406\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#5-zookeeper","title":"5. Zookeeper \u4f1a\u8bdd\u8fc7\u671f","text":""},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_13","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>Zookeeper \u5ba2\u6237\u7aef\u7684\u4f1a\u8bdd\u8fc7\u671f\u540e\uff0c\u76f8\u5173\u7684\u4e34\u65f6\u8282\u70b9\u88ab\u5220\u9664\uff0c\u53ef\u80fd\u5bfc\u81f4\u5e94\u7528\u7a0b\u5e8f\u72b6\u6001\u4e0d\u4e00\u81f4\u6216\u670d\u52a1\u4e2d\u65ad\u3002</p>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_14","title":"\u539f\u56e0\u5206\u6790","text":"<ul> <li>\u7f51\u7edc\u5ef6\u8fdf: \u5ba2\u6237\u7aef\u4e0e Zookeeper \u4e4b\u95f4\u7684\u7f51\u7edc\u5ef6\u8fdf\u8f83\u9ad8\uff0c\u5bfc\u81f4\u5fc3\u8df3\u5305\u65e0\u6cd5\u53ca\u65f6\u53d1\u9001\uff0c\u4f1a\u8bdd\u88ab\u8ba4\u4e3a\u8fc7\u671f\u3002</li> <li>\u5ba2\u6237\u7aef\u6545\u969c: \u5ba2\u6237\u7aef\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u6545\u969c\u6216\u5b95\u673a\uff0c\u672a\u80fd\u53ca\u65f6\u7eed\u7ea6\u4f1a\u8bdd\u3002</li> </ul>"},{"location":"%E4%B8%AD%E9%97%B4%E4%BB%B6/zookeeper/interview/#_15","title":"\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u4f18\u5316\u7f51\u7edc\u73af\u5883:</li> <li> <p>\u51cf\u5c11\u5ba2\u6237\u7aef\u4e0e Zookeeper \u4e4b\u95f4\u7684\u7f51\u7edc\u5ef6\u8fdf\uff0c\u786e\u4fdd\u5fc3\u8df3\u5305\u80fd\u591f\u53ca\u65f6\u53d1\u9001\u548c\u63a5\u6536\u3002</p> </li> <li> <p>\u589e\u52a0\u4f1a\u8bdd\u8d85\u65f6\u65f6\u95f4:</p> </li> <li>\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8c03\u6574\u5ba2\u6237\u7aef\u7684\u4f1a\u8bdd\u8d85\u65f6\u65f6\u95f4\uff08<code>sessionTimeout</code>\uff09\uff0c\u51cf\u5c11\u4f1a\u8bdd\u56e0\u7f51\u7edc\u6296\u52a8\u6216\u77ed\u6682\u6545\u969c\u800c\u8fc7\u671f\u7684\u53ef\u80fd\u6027\u3002</li> </ul> <p><code>bash   zk.setSessionTimeout(30000);  // \u5c06\u4f1a\u8bdd\u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u4e3a 30 \u79d2</code></p> <ul> <li>\u76d1\u63a7\u4f1a\u8bdd\u72b6\u6001:</li> <li>\u5b9e\u65f6\u76d1\u63a7\u5ba2\u6237\u7aef\u7684\u4f1a\u8bdd\u72b6\u6001\uff0c\u5982\u679c\u68c0\u6d4b\u5230\u4f1a\u8bdd\u5373\u5c06\u8fc7\u671f\uff0c\u63d0\u524d\u8fdb\u884c\u91cd\u65b0\u8fde\u63a5\u6216\u72b6\u6001\u6062\u590d\u3002</li> </ul> <p>\u901a\u8fc7\u8fd9\u4e9b\u5e38\u89c1\u95ee\u9898\u7684\u4e3e\u4f8b\u4e0e\u8be6\u89e3\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5de5\u4f5c\u4e2d\u66f4\u597d\u5730\u5904\u7406 Zookeeper \u96c6\u7fa4\u7684\u8fd0\u7ef4\u4e0e\u4f18\u5316\u95ee\u9898\uff0c\u786e\u4fdd\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u548c\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/","title":"Docker-\u57fa\u7840","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1","title":"1. \u6982\u8ff0","text":"<p>Docker \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5bb9\u5668\u5316\u5e73\u53f0\uff0c\u7528\u4e8e\u81ea\u52a8\u5316\u5e94\u7528\u7a0b\u5e8f\u7684\u90e8\u7f72\u3001\u6269\u5c55\u548c\u7ba1\u7406\u3002Docker \u901a\u8fc7\u5c06\u5e94\u7528\u7a0b\u5e8f\u53ca\u5176\u4f9d\u8d56\u6253\u5305\u5230\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5bb9\u5668\u4e2d\uff0c\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5728\u4efb\u4f55\u652f\u6301 Docker \u7684\u73af\u5883\u4e2d\u4e00\u81f4\u8fd0\u884c\u3002\u4e3b\u8981\u7528\u9014\u5305\u62ec\uff1a</p> <ul> <li>\u73af\u5883\u4e00\u81f4\u6027\uff1a \u5728\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u751f\u4ea7\u73af\u5883\u4e2d\u63d0\u4f9b\u4e00\u81f4\u7684\u8fd0\u884c\u73af\u5883\u3002</li> <li>\u8d44\u6e90\u9694\u79bb\uff1a \u901a\u8fc7\u5bb9\u5668\u6280\u672f\u9694\u79bb\u4e0d\u540c\u5e94\u7528\uff0c\u907f\u514d\u73af\u5883\u51b2\u7a81\u3002</li> <li>\u654f\u6377\u5f00\u53d1\uff1a \u52a0\u5feb\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u4ed8\u548c\u90e8\u7f72\u5468\u671f\u3002</li> <li>\u6269\u5c55\u6027\uff1a \u652f\u6301\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u5bb9\u5668\u7f16\u6392\u548c\u7ba1\u7406\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-docker","title":"2. Docker \u955c\u50cf\u548c\u5bb9\u5668","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#21-docker-image","title":"2.1 Docker \u955c\u50cf\uff08image\uff09","text":"<p>Docker \u955c\u50cf\u662fDocker\u5bb9\u5668\u7684\u57fa\u7840\uff0c\u7c7b\u4f3c\u4e8e\u865a\u62df\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\u955c\u50cf\u3002Docker \u955c\u50cf\u662f\u7531\u591a\u4e2a\u53ea\u8bfb\u5c42\uff08layer\uff09\u7ec4\u6210\u7684\uff0c\u6bcf\u4e00\u5c42\u90fd\u4ee3\u8868\u6587\u4ef6\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\u3002\u955c\u50cf\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u800c\u5bb9\u5668\u662f\u5728\u955c\u50cf\u7684\u57fa\u7840\u4e0a\u6dfb\u52a0\u4e00\u4e2a\u53ef\u5199\u5c42\u3002</p> <p>2.1.1. \u955c\u50cf\u7684\u7ed3\u6784</p> <p>Docker \u955c\u50cf\u7531\u4e00\u7cfb\u5217\u53ea\u8bfb\u5c42\u7ec4\u6210\uff0c\u6bcf\u4e00\u5c42\u5bf9\u5e94\u4e00\u6b21\u6587\u4ef6\u7cfb\u7edf\u7684\u4fee\u6539\u3002\u6240\u6709\u5c42\u90fd\u662f\u57fa\u4e8e\u4e0a\u4e00\u5c42\u6784\u5efa\u7684\uff0c\u8fd9\u79cd\u5206\u5c42\u7ed3\u6784\u4f7f\u5f97\u955c\u50cf\u5728\u4e0d\u540c\u5bb9\u5668\u4e4b\u95f4\u53ef\u4ee5\u5171\u4eab\uff0c\u4ece\u800c\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4\u548c\u52a0\u5feb\u90e8\u7f72\u901f\u5ea6\u3002</p> <ul> <li>\u57fa\u7840\u5c42\uff08Base Layer\uff09\uff1a\u6bcf\u4e2aDocker\u955c\u50cf\u901a\u5e38\u90fd\u4f1a\u6709\u4e00\u4e2a\u57fa\u7840\u5c42\uff0c\u5b83\u901a\u5e38\u662f\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e00\u4e2a\u6700\u5c0f\u5316\u7248\u672c\uff0c\u6bd4\u5982Ubuntu\u6216Alpine\u3002</li> <li>\u4e2d\u95f4\u5c42\uff08Intermediate Layer\uff09\uff1a\u5728\u57fa\u7840\u5c42\u4e4b\u4e0a\uff0cDockerfile\u4e2d\u7684\u6bcf\u4e00\u6761\u6307\u4ee4\uff08\u5982RUN\u3001COPY\u3001ADD\u7b49\uff09\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5c42\u3002</li> <li>\u9876\u5c42\uff08Top Layer\uff09\uff1a\u8fd9\u662f\u955c\u50cf\u7684\u6700\u540e\u4e00\u5c42\uff0c\u5305\u542b\u4e86\u955c\u50cf\u6784\u5efa\u8fc7\u7a0b\u7684\u6700\u7ec8\u72b6\u6001\u3002</li> </ul> <p>2.1.2. \u955c\u50cf\u7684\u521b\u5efa</p> <p>Docker\u955c\u50cf\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u521b\u5efa\uff1a</p> <ul> <li>Dockerfile\uff1a\u6700\u5e38\u89c1\u7684\u65b9\u6cd5\u662f\u901a\u8fc7\u7f16\u5199\u4e00\u4e2aDockerfile\uff0c\u5b9a\u4e49\u4ece\u57fa\u7840\u955c\u50cf\u5f00\u59cb\u9700\u8981\u6267\u884c\u7684\u6307\u4ee4\uff0c\u7136\u540e\u4f7f\u7528docker build\u547d\u4ee4\u6765\u6784\u5efa\u955c\u50cf\u3002</li> <li>\u4ece\u5bb9\u5668\u5bfc\u51fa\uff1a\u53ef\u4ee5\u4ece\u4e00\u4e2a\u5df2\u7ecf\u8fd0\u884c\u7684\u5bb9\u5668\u4e2d\u521b\u5efa\u955c\u50cf\uff0c\u4f7f\u7528docker commit\u547d\u4ee4\u4fdd\u5b58\u5bb9\u5668\u7684\u5f53\u524d\u72b6\u6001\u4e3a\u65b0\u7684\u955c\u50cf\u3002</li> </ul> <p>2.1.3. \u955c\u50cf\u7684\u7ba1\u7406</p> <p>\u5e38\u7528\u7684Docker\u955c\u50cf\u7ba1\u7406\u547d\u4ee4\u5305\u62ec\uff1a</p> <ul> <li>docker images\uff1a\u5217\u51fa\u672c\u5730\u5b58\u50a8\u7684\u6240\u6709Docker\u955c\u50cf\u3002</li> <li>docker pull \uff1a\u4eceDocker Hub\u6216\u5176\u4ed6\u955c\u50cf\u4ed3\u5e93\u62c9\u53d6\u955c\u50cf\u3002 <li>docker push \uff1a\u5c06\u672c\u5730\u955c\u50cf\u4e0a\u4f20\u5230Docker Hub\u6216\u79c1\u6709\u4ed3\u5e93\u3002 <li>docker rmi \uff1a\u5220\u9664\u672c\u5730\u7684Docker\u955c\u50cf\u3002 <p>2.1.4. \u955c\u50cf\u6807\u7b7e\uff08Tags\uff09</p> <p>\u6bcf\u4e2aDocker\u955c\u50cf\u901a\u5e38\u90fd\u4f1a\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\uff08tag\uff09\uff0c\u7528\u4e8e\u6807\u8bc6\u955c\u50cf\u7684\u4e0d\u540c\u7248\u672c\u3002\u4f8b\u5982\uff0cnginx:latest\u8868\u793anginx\u7684\u6700\u65b0\u7248\u672c\uff0cnginx:1.19\u8868\u793anginx\u76841.19\u7248\u672c\u3002\u6807\u7b7e\u4fbf\u4e8e\u5728\u540c\u4e00\u4e2a\u955c\u50cf\u4ed3\u5e93\u4e2d\u7ba1\u7406\u4e0d\u540c\u7684\u7248\u672c\u3002</p> <p>2.1.5 \u955c\u50cf\u7684\u4f18\u5316</p> <p>\u955c\u50cf\u7684\u4f53\u79ef\u548c\u6784\u5efa\u901f\u5ea6\u662f\u5f71\u54cd\u5bb9\u5668\u542f\u52a8\u548c\u90e8\u7f72\u7684\u5173\u952e\u56e0\u7d20\u3002\u4f18\u5316Docker\u955c\u50cf\u7684\u5e38\u7528\u65b9\u6cd5\u5305\u62ec\uff1a</p> <ul> <li>\u9009\u62e9\u5c0f\u578b\u57fa\u7840\u955c\u50cf\uff1a\u5982Alpine\uff0c\u6bd4\u6807\u51c6\u7684Ubuntu\u955c\u50cf\u4f53\u79ef\u5c0f\u3002</li> <li>\u51cf\u5c11\u955c\u50cf\u5c42\uff1a\u901a\u8fc7\u5408\u5e76Dockerfile\u4e2d\u7684\u6307\u4ee4\u6765\u51cf\u5c11\u4e2d\u95f4\u5c42\u3002</li> <li>\u6e05\u7406\u7f13\u5b58\u548c\u4e34\u65f6\u6587\u4ef6\uff1a\u5728\u955c\u50cf\u6784\u5efa\u8fc7\u7a0b\u4e2d\u6e05\u7406\u4e0d\u5fc5\u8981\u7684\u6587\u4ef6\uff0c\u51cf\u5c11\u955c\u50cf\u5927\u5c0f\u3002</li> </ul> <p>2.1.6 \u955c\u50cf\u4ed3\u5e93\uff08Registry\uff09</p> <p>Docker \u955c\u50cf\u901a\u5e38\u5b58\u50a8\u5728\u955c\u50cf\u4ed3\u5e93\u4e2d\uff0c\u53ef\u4ee5\u662f\u516c\u5171\u7684Docker Hub\uff0c\u4e5f\u53ef\u4ee5\u662f\u4f01\u4e1a\u5185\u90e8\u7684\u79c1\u6709\u4ed3\u5e93\u3002</p> <ul> <li>Docker Hub\uff1a\u9ed8\u8ba4\u7684\u516c\u5171\u955c\u50cf\u4ed3\u5e93\uff0c\u5168\u7403\u7528\u6237\u90fd\u53ef\u4ee5\u8bbf\u95ee\u3002</li> <li>\u79c1\u6709\u4ed3\u5e93\uff1a\u53ef\u4ee5\u4f7f\u7528Docker Registry\u642d\u5efa\u81ea\u5df1\u7684\u955c\u50cf\u4ed3\u5e93\uff0c\u7528\u4e8e\u4f01\u4e1a\u5185\u90e8\u7684\u955c\u50cf\u5b58\u50a8\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#22-docker-container","title":"2.2 Docker \u5bb9\u5668 \uff08container\uff09","text":"<p>Docker \u5bb9\u5668\u662fDocker\u6280\u672f\u7684\u6838\u5fc3\uff0c\u5b83\u5c06\u5e94\u7528\u7a0b\u5e8f\u53ca\u5176\u6240\u6709\u4f9d\u8d56\u9879\u5c01\u88c5\u5728\u4e00\u4e2a\u72ec\u7acb\u7684\u73af\u5883\u4e2d\uff0c\u4f7f\u5176\u80fd\u591f\u5728\u4efb\u4f55\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u800c\u4e0d\u4f1a\u53d7\u5230\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u7684\u5f71\u54cd\u3002Docker \u5bb9\u5668\u4e0e\u4f20\u7edf\u7684\u865a\u62df\u673a\u4e0d\u540c\uff0c\u5177\u6709\u8f7b\u91cf\u3001\u5feb\u901f\u542f\u52a8\u3001\u8d44\u6e90\u9ad8\u6548\u7b49\u7279\u70b9\u3002</p> <p>2.2.1 Docker \u5bb9\u5668\u7684\u6982\u5ff5</p> <p>Docker \u5bb9\u5668\u662f\u4eceDocker \u955c\u50cf\u542f\u52a8\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\u5bb9\u5668\u5305\u542b\u4e86\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u6240\u9700\u7684\u6240\u6709\u5185\u5bb9\uff0c\u5305\u62ec\u4ee3\u7801\u3001\u8fd0\u884c\u65f6\u73af\u5883\u3001\u7cfb\u7edf\u5de5\u5177\u3001\u5e93\u548c\u8bbe\u7f6e\u3002\u901a\u8fc7\u5bb9\u5668\u5316\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u786e\u4fdd\u5e94\u7528\u5728\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u884c\u4e3a\u4e00\u81f4\u3002</p> <p>2.2.2 \u5bb9\u5668\u7684\u5de5\u4f5c\u539f\u7406</p> <p>Docker \u5bb9\u5668\u57fa\u4e8e Linux \u7684\u540d\u5b57\u7a7a\u95f4\uff08Namespaces\uff09\u548c\u63a7\u5236\u7ec4\uff08Cgroups\uff09\u6280\u672f\uff0c\u5b9e\u73b0\u8fdb\u7a0b\u9694\u79bb\u548c\u8d44\u6e90\u9650\u5236\u3002\u6bcf\u4e2a\u5bb9\u5668\u5728\u81ea\u5df1\u7684\u540d\u5b57\u7a7a\u95f4\u4e2d\u8fd0\u884c\uff0c\u4e0e\u5176\u4ed6\u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u9694\u79bb\u5f00\u6765\uff0c\u540c\u65f6\u5171\u4eab\u5bbf\u4e3b\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3002</p> <ul> <li>\u540d\u5b57\u7a7a\u95f4\uff08Namespaces\uff09\uff1a\u540d\u5b57\u7a7a\u95f4\u63d0\u4f9b\u4e86\u8fdb\u7a0b\u9694\u79bb\uff0c\u786e\u4fdd\u6bcf\u4e2a\u5bb9\u5668\u53ea\u80fd\u770b\u5230\u81ea\u5df1\u7684\u6587\u4ef6\u7cfb\u7edf\u3001\u8fdb\u7a0b\u3001\u7f51\u7edc\u548c\u7528\u6237\u7a7a\u95f4\u3002</li> <li>\u63a7\u5236\u7ec4\uff08Cgroups\uff09\uff1a\u63a7\u5236\u7ec4\u5141\u8bb8Docker\u9650\u5236\u5bb9\u5668\u7684\u8d44\u6e90\u4f7f\u7528\uff0c\u5982CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8I/O\u7b49\u3002</li> </ul> <p>2.2.3 \u5bb9\u5668\u7684\u751f\u547d\u5468\u671f</p> <p>Docker \u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u6765\u5b9e\u73b0\uff1a</p> <ul> <li>\u521b\u5efa\u5bb9\u5668\uff1a\u4f7f\u7528docker create\u6216docker run\u547d\u4ee4\u4ece\u955c\u50cf\u521b\u5efa\u4e00\u4e2a\u5bb9\u5668\u3002</li> <li>\u542f\u52a8\u5bb9\u5668\uff1a\u4f7f\u7528docker start\u547d\u4ee4\u542f\u52a8\u4e00\u4e2a\u5df2\u521b\u5efa\u7684\u5bb9\u5668\u3002</li> <li>\u505c\u6b62\u5bb9\u5668\uff1a\u4f7f\u7528docker stop\u547d\u4ee4\u505c\u6b62\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002</li> <li>\u5220\u9664\u5bb9\u5668\uff1a\u4f7f\u7528docker rm\u547d\u4ee4\u5220\u9664\u4e00\u4e2a\u5df2\u505c\u6b62\u7684\u5bb9\u5668\u3002</li> <li>\u67e5\u770b\u5bb9\u5668\uff1a\u4f7f\u7528docker ps\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u4f7f\u7528docker ps -a\u67e5\u770b\u6240\u6709\u5bb9\u5668\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-dockerfile","title":"3. Dockerfile","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#31-dockerfile","title":"3.1 Dockerfile\u7b80\u4ecb","text":"<p>Dockerfile \u662f\u4e00\u4e2a\u5305\u542b\u4e86\u6307\u4ee4\u7684\u6587\u672c\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6307\u4ee4\u544a\u8bc9 Docker \u5982\u4f55\u6784\u5efa\u4e00\u4e2a\u955c\u50cf\u3002Docker \u4f1a\u6309\u987a\u5e8f\u8bfb\u53d6 Dockerfile \u4e2d\u7684\u6307\u4ee4\u5e76\u6267\u884c\u5b83\u4eec\uff0c\u6700\u7ec8\u751f\u6210\u4e00\u4e2a\u53ef\u8fd0\u884c\u7684\u955c\u50cf\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#32-web","title":"3.2 \u57fa\u7840\u6848\u4f8b\uff1a\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684Web\u670d\u52a1\u5668","text":"<p>3.2.1\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 HTML \u9875\u9762</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684HTML\u6587\u4ef6\uff0c\u7528\u4e8e\u5c55\u793a\u5728Web\u670d\u52a1\u5668\u4e0a\u3002</p> <pre><code>&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Hello Docker&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Hello from Docker!&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>3.2.2\u7f16\u5199 Dockerfile</p> <p>\u5728\u540c\u4e00\u4e2a\u76ee\u5f55\u4e2d\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a Dockerfile \u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code># \u4f7f\u7528\u5b98\u65b9\u7684 Nginx \u4f5c\u4e3a\u57fa\u7840\u955c\u50cf\nFROM nginx:alpine\n\n# \u7ef4\u62a4\u8005\u4fe1\u606f\nLABEL maintainer=\"youremail@example.com\"\n\n# \u590d\u5236\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 index.html \u6587\u4ef6\u5230 Nginx \u7684\u9ed8\u8ba4\u9875\u9762\u76ee\u5f55\nCOPY index.html /usr/share/nginx/html/\n\n# \u66b4\u9732\u7aef\u53e3 80\nEXPOSE 80\n\n# \u542f\u52a8 Nginx \u670d\u52a1\u5668\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n</code></pre> <p>3.2.3 \u6784\u5efa\u955c\u50cf</p> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6784\u5efa\u955c\u50cf\uff1a</p> <pre><code>docker build -t my-nginx .\n</code></pre> <pre><code>\u2022   -t my-nginx\uff1a\u4e3a\u955c\u50cf\u6307\u5b9a\u4e00\u4e2a\u6807\u7b7e\u540d\u79f0\u3002\n\u2022   .\uff1a\u8868\u793a\u5f53\u524d\u76ee\u5f55\u4e3a\u6784\u5efa\u4e0a\u4e0b\u6587\u3002\n</code></pre> <p>3.2.4 \u8fd0\u884c\u5bb9\u5668</p> <p>\u8fd0\u884c\u6784\u5efa\u597d\u7684\u955c\u50cf\uff1a</p> <pre><code>docker run -d -p 8080:80 my-nginx\n</code></pre> <pre><code>\u2022   -d\uff1a\u8ba9\u5bb9\u5668\u5728\u540e\u53f0\u8fd0\u884c\u3002\n\u2022   -p 8080:80\uff1a\u5c06\u5bbf\u4e3b\u673a\u76848080\u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u768480\u7aef\u53e3\u3002\n</code></pre> <p>\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee http://localhost:8080\uff0c\u4f60\u5c06\u770b\u5230\u201cHello from Docker!\u201d\u7684\u9875\u9762\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#33-python","title":"3.3 \u8fdb\u9636\u6848\u4f8b\uff1a\u6784\u5efa\u4e00\u4e2aPython\u5e94\u7528\u7a0b\u5e8f","text":"<p>3.3.1 \u51c6\u5907Python\u811a\u672c</p> <p>\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Python \u5e94\u7528\u7a0b\u5e8f\uff1a</p> <pre><code># app.py\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello():\n    return \"Hello, Docker!\"\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000)\n</code></pre> <p>3.3.2 \u521b\u5efaDockerfile</p> <p>\u5728\u540c\u4e00\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a Dockerfile \u6587\u4ef6\uff1a</p> <pre><code># \u4f7f\u7528\u5b98\u65b9\u7684 Python \u4f5c\u4e3a\u57fa\u7840\u955c\u50cf\nFROM python:3.9-slim\n\n# \u8bbe\u5b9a\u5de5\u4f5c\u76ee\u5f55\nWORKDIR /app\n\n# \u5c06\u5f53\u524d\u76ee\u5f55\u5185\u5bb9\u590d\u5236\u5230\u5bb9\u5668\u7684\u5de5\u4f5c\u76ee\u5f55\u4e2d\nCOPY . /app\n\n# \u5b89\u88c5 Python \u4f9d\u8d56\nRUN pip install flask\n\n# \u66b4\u9732\u7aef\u53e3 5000\nEXPOSE 5000\n\n# \u542f\u52a8\u5e94\u7528\nCMD [\"python\", \"app.py\"]\n</code></pre> <p>3.3.3 \u6784\u5efa\u955c\u50cf</p> <pre><code>docker build -t my-python-app .\n</code></pre> <p>3.3.4 \u8fd0\u884c\u5bb9\u5668</p> <p>\u8fd0\u884c\u6784\u5efa\u597d\u7684\u955c\u50cf\uff1a</p> <pre><code>docker run -d -p 5000:5000 my-python-app\n</code></pre> <p>\u8bbf\u95ee http://localhost:5000\uff0c\u4f60\u5c06\u770b\u5230\u201cHello, Docker!\u201d\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#34-dockerfile","title":"3.4 Dockerfile \u6307\u4ee4\u7684\u6df1\u5165\u7406\u89e3","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#341","title":"3.4.1 \u591a\u9636\u6bb5\u6784\u5efa","text":"<p>\u591a\u9636\u6bb5\u6784\u5efa\u7528\u4e8e\u51cf\u5c11\u955c\u50cf\u7684\u5927\u5c0f\u3002\u4e00\u4e2a\u5178\u578b\u7684\u573a\u666f\u662f\u6784\u5efa\u4e8c\u8fdb\u5236\u6587\u4ef6\u540e\u4ec5\u5c06\u5176\u590d\u5236\u5230\u6700\u7ec8\u955c\u50cf\u4e2d\u3002</p> <pre><code># \u7b2c\u4e00\u9636\u6bb5\uff1a\u6784\u5efa\u5e94\u7528\nFROM golang:alpine AS builder\nWORKDIR /app\nCOPY . .\nRUN go build -o myapp\n\n# \u7b2c\u4e8c\u9636\u6bb5\uff1a\u521b\u5efa\u8fd0\u884c\u73af\u5883\nFROM alpine\nWORKDIR /app\nCOPY --from=builder /app/myapp .\nCMD [\"./myapp\"]\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#342-arg-env","title":"3.4.2 \u4f7f\u7528 ARG \u548c ENV","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#arg","title":"ARG\u6307\u4ee4","text":"<p>1. \u5b9a\u4e49</p> <p>ARG \u7528\u4e8e\u5b9a\u4e49\u6784\u5efa\u65f6\u7684\u53d8\u91cf\u3002\u8fd9\u4e9b\u53d8\u91cf\u5728\u955c\u50cf\u6784\u5efa\u8fc7\u7a0b\u4e2d\u4f7f\u7528\uff0c\u53ef\u4ee5\u5728 RUN\u3001CMD\u3001ENTRYPOINT \u7b49\u6307\u4ee4\u4e2d\u4f7f\u7528\u3002</p> <p>2. \u4f5c\u7528\u8303\u56f4</p> <p>ARG \u53d8\u91cf\u7684\u4f5c\u7528\u8303\u56f4\u4ec5\u9650\u4e8e Dockerfile \u6784\u5efa\u8fc7\u7a0b\uff0c\u5373\u5728\u4f7f\u7528 docker build \u547d\u4ee4\u6784\u5efa\u955c\u50cf\u65f6\u6709\u6548\u3002\u6784\u5efa\u5b8c\u6210\u540e\uff0c\u8fd9\u4e9b\u53d8\u91cf\u4e0d\u4f1a\u4fdd\u7559\u5728\u6700\u7ec8\u7684\u955c\u50cf\u6216\u5bb9\u5668\u4e2d\u3002</p> <p>3. \u4f7f\u7528\u793a\u4f8b</p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u6784\u5efa\u65f6\u53d8\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a 1.0\nARG VERSION=1.0\n\n# \u4f7f\u7528\u8be5\u53d8\u91cf\nRUN echo \"Building version ${VERSION}\"\n\n# \u5982\u679c\u9700\u8981\u5c06 ARG \u7684\u503c\u4fdd\u5b58\u5230 ENV \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 ENV \u6307\u4ee4\nENV APP_VERSION=${VERSION}\n</code></pre> <p>4. \u4f20\u9012\u6784\u5efa\u65f6\u53c2\u6570</p> <p>\u5728\u4f7f\u7528 docker build \u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 --build-arg \u9009\u9879\u4f20\u9012\u6784\u5efa\u65f6\u53c2\u6570\u3002</p> <pre><code>docker build --build-arg VERSION=2.0 -t myapp:2.0 .\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u4f1a\u5c06 VERSION \u8bbe\u7f6e\u4e3a 2.0\uff0c\u8986\u76d6 Dockerfile \u4e2d\u7684\u9ed8\u8ba4\u503c 1.0\u3002</p> <p>5. \u4f5c\u7528\u8303\u56f4\u7684\u9650\u5236</p> <p>ARG \u5b9a\u4e49\u7684\u53d8\u91cf\u5728 FROM \u6307\u4ee4\u4e4b\u524d\u662f\u4e0d\u53ef\u7528\u7684\u3002\u56e0\u6b64\uff0c\u65e0\u6cd5\u5728 FROM \u6307\u4ee4\u4e2d\u4f7f\u7528 ARG \u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u9664\u975e\u5b83\u4eec\u88ab\u5b9a\u4e49\u5728 FROM \u4e4b\u540e\u6216\u591a\u9636\u6bb5\u6784\u5efa\u7684\u8fc7\u7a0b\u4e2d\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#env","title":"ENV\u6307\u4ee4","text":"<p>1. \u5b9a\u4e49</p> <p>ENV \u7528\u4e8e\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff0c\u8fd9\u4e9b\u53d8\u91cf\u4f1a\u5728\u955c\u50cf\u6784\u5efa\u8fc7\u7a0b\u4e2d\u548c\u5bb9\u5668\u8fd0\u884c\u65f6\u90fd\u53ef\u7528\u3002\u5b83\u4eec\u7684\u503c\u4f1a\u4fdd\u7559\u5728\u955c\u50cf\u548c\u5bb9\u5668\u4e2d\uff0c\u53ef\u4ee5\u88ab\u7a0b\u5e8f\u6216\u811a\u672c\u8bbf\u95ee\u3002</p> <p>2. \u4f5c\u7528\u8303\u56f4</p> <p>ENV \u53d8\u91cf\u5728\u6574\u4e2a\u955c\u50cf\u751f\u547d\u5468\u671f\u4e2d\u90fd\u662f\u6709\u6548\u7684\uff0c\u5305\u62ec\u955c\u50cf\u6784\u5efa\u8fc7\u7a0b\u548c\u5bb9\u5668\u8fd0\u884c\u65f6\u3002\u56e0\u6b64\uff0c\u8fd9\u4e9b\u53d8\u91cf\u53ef\u4ee5\u5728 Dockerfile \u7684\u4efb\u4f55\u5730\u65b9\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u5bb9\u5668\u5185\u88ab\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u3002</p> <p>3. \u4f7f\u7528\u793a\u4f8b</p> <pre><code># \u5b9a\u4e49\u73af\u5883\u53d8\u91cf\nENV APP_ENV=production\nENV APP_PORT=8080\n\n# \u4f7f\u7528\u73af\u5883\u53d8\u91cf\nRUN echo \"Running in ${APP_ENV} mode on port ${APP_PORT}\"\n\n# \u5bb9\u5668\u542f\u52a8\u65f6\u8bbf\u95ee\u73af\u5883\u53d8\u91cf\nCMD [\"sh\", \"-c\", \"echo The app is running in $APP_ENV mode on port $APP_PORT\"]\n</code></pre> <p>4. \u8986\u76d6\u73af\u5883\u53d8\u91cf</p> <p>\u5728\u542f\u52a8\u5bb9\u5668\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 docker run \u547d\u4ee4\u7684 -e \u9009\u9879\u8986\u76d6 ENV \u6307\u4ee4\u8bbe\u7f6e\u7684\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>docker run -e APP_ENV=development myapp\n</code></pre> <p>\u8fd9\u6837\uff0cAPP_ENV \u7684\u503c\u5728\u5bb9\u5668\u5185\u5c06\u4f1a\u662f development \u800c\u975e production\u3002</p> <p>\u603b\u7ed3</p> <ul> <li>ARG\uff1a\u7528\u4e8e\u5728\u6784\u5efa\u65f6\u5b9a\u4e49\u53d8\u91cf\uff0c\u8303\u56f4\u4ec5\u9650\u4e8e\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 --build-arg \u4f20\u9012\u4e0d\u540c\u7684\u503c\u3002\u8fd9\u4e9b\u53d8\u91cf\u5728\u955c\u50cf\u6784\u5efa\u5b8c\u6210\u540e\u4e0d\u518d\u4fdd\u7559\u3002</li> <li>ENV\uff1a\u7528\u4e8e\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff0c\u8303\u56f4\u8986\u76d6\u6574\u4e2a\u955c\u50cf\u548c\u5bb9\u5668\u751f\u547d\u5468\u671f\u3002\u8fd9\u4e9b\u53d8\u91cf\u53ef\u4ee5\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u548c\u5bb9\u5668\u8fd0\u884c\u65f6\u4f7f\u7528\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 docker run -e \u6765\u8986\u76d6\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#343-dockerfile","title":"3.4.3 Dockerfile\u6307\u4ee4\u8be6\u89e3","text":"<p>\u4ee5\u4e0b\u662f Dockerfile \u4e2d\u5e38\u7528\u6307\u4ee4\u7684\u8be6\u89e3\u8868\u683c\uff0c\u5305\u62ec\u6bcf\u4e2a\u6307\u4ee4\u7684\u7528\u9014\u3001\u793a\u4f8b\u548c\u8bf4\u660e\uff1a</p> \u6307\u4ee4 \u7528\u9014 \u793a\u4f8b \u8bf4\u660e <code>FROM</code> \u6307\u5b9a\u6784\u5efa\u955c\u50cf\u6240\u57fa\u4e8e\u7684\u57fa\u7840\u955c\u50cf <code>FROM ubuntu:20.04</code> \u6bcf\u4e2a Dockerfile \u5fc5\u987b\u4ee5 <code>FROM</code> \u6307\u4ee4\u5f00\u59cb\u3002\u53ef\u4ee5\u591a\u6b21\u4f7f\u7528\u4ee5\u5b9e\u73b0\u591a\u9636\u6bb5\u6784\u5efa\u3002 <code>LABEL</code> \u6dfb\u52a0\u5143\u6570\u636e\u5230\u955c\u50cf\u4e2d <code>LABEL maintainer=\"youremail@example.com\"</code> \u53ef\u4ee5\u7528\u6765\u6dfb\u52a0\u4f5c\u8005\u4fe1\u606f\u3001\u7248\u672c\u4fe1\u606f\u7b49\u5143\u6570\u636e\u3002 <code>RUN</code> \u5728\u955c\u50cf\u6784\u5efa\u65f6\u6267\u884c\u547d\u4ee4 <code>RUN apt-get update &amp;&amp; apt-get install -y curl</code> \u7528\u4e8e\u5b89\u88c5\u5305\u3001\u6267\u884c\u811a\u672c\u7b49\u3002\u6bcf\u4e2a <code>RUN</code> \u6307\u4ee4\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u955c\u50cf\u5c42\u3002 <code>CMD</code> \u6307\u5b9a\u5bb9\u5668\u542f\u52a8\u65f6\u8981\u6267\u884c\u7684\u9ed8\u8ba4\u547d\u4ee4 <code>CMD [\"nginx\", \"-g\", \"daemon off;\"]</code> \u6307\u5b9a\u5bb9\u5668\u542f\u52a8\u65f6\u6267\u884c\u7684\u547d\u4ee4\uff0c\u4f46\u53ef\u4ee5\u88ab <code>docker run</code> \u547d\u4ee4\u884c\u53c2\u6570\u8986\u76d6\u3002 <code>ENTRYPOINT</code> \u914d\u7f6e\u5bb9\u5668\u542f\u52a8\u65f6\u8fd0\u884c\u7684\u53ef\u6267\u884c\u6587\u4ef6 <code>ENTRYPOINT [\"python\", \"app.py\"]</code> \u8bbe\u7f6e\u4e00\u4e2a\u56fa\u5b9a\u7684\u547d\u4ee4\uff0c<code>CMD</code> \u4ec5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 <code>ENTRYPOINT</code>\u3002 <code>WORKDIR</code> \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55 <code>WORKDIR /app</code> \u5728\u5bb9\u5668\u5185\u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55\uff0c\u4e4b\u540e\u7684\u6240\u6709\u547d\u4ee4\u90fd\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6267\u884c\u3002 <code>COPY</code> \u5c06\u6587\u4ef6/\u76ee\u5f55\u4ece\u6784\u5efa\u4e0a\u4e0b\u6587\u590d\u5236\u5230\u955c\u50cf\u4e2d <code>COPY . /app</code> \u5c06\u6587\u4ef6\u6216\u76ee\u5f55\u4ece\u6784\u5efa\u4e0a\u4e0b\u6587\u590d\u5236\u5230\u5bb9\u5668\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002 <code>ADD</code> \u590d\u5236\u6587\u4ef6/\u76ee\u5f55\u5230\u955c\u50cf\u4e2d\uff0c\u652f\u6301 URL \u548c\u89e3\u538b\u5f52\u6863\u6587\u4ef6 <code>ADD https://example.com/file.tar.gz /app/</code> \u7c7b\u4f3c <code>COPY</code>\uff0c\u4f46\u529f\u80fd\u66f4\u5f3a\u5927\uff0c\u53ef\u4ee5\u81ea\u52a8\u89e3\u538b tar \u6587\u4ef6\u6216\u4e0b\u8f7d URL \u4e2d\u7684\u6587\u4ef6\u3002 <code>ENV</code> \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>ENV APP_ENV=production</code> \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u53ef\u4ee5\u5728 <code>RUN</code>\u3001<code>CMD</code>\u3001<code>ENTRYPOINT</code> \u7b49\u6307\u4ee4\u4e2d\u4f7f\u7528\u3002 <code>ARG</code> \u5b9a\u4e49\u6784\u5efa\u65f6\u53c2\u6570 <code>ARG VERSION=1.0</code> \u5b9a\u4e49\u5728\u6784\u5efa\u65f6\u4f7f\u7528\u7684\u53c2\u6570\uff0c\u53ef\u901a\u8fc7 <code>docker build --build-arg</code> \u4f20\u9012\u3002 <code>VOLUME</code> \u5b9a\u4e49\u533f\u540d\u6302\u8f7d\u70b9 <code>VOLUME [\"/data\"]</code> \u4e3a\u6301\u4e45\u5316\u6570\u636e\u5b9a\u4e49\u4e00\u4e2a\u6302\u8f7d\u70b9\uff0c\u8be5\u76ee\u5f55\u5728\u5bb9\u5668\u8fd0\u884c\u65f6\u4e0d\u4f1a\u6301\u4e45\u5316\u5230\u5bb9\u5668\u4e2d\u3002 <code>EXPOSE</code> \u58f0\u660e\u955c\u50cf\u8981\u76d1\u542c\u7684\u7aef\u53e3 <code>EXPOSE 80</code> \u58f0\u660e\u5bb9\u5668\u4f7f\u7528\u7684\u7aef\u53e3\uff0c\u4f46\u4e0d\u81ea\u52a8\u53d1\u5e03\u7aef\u53e3\u5230\u5bbf\u4e3b\u673a\u3002\u7528\u4e8e\u6587\u6863\u6216\u5bb9\u5668\u4e92\u8054\u3002 <code>USER</code> \u8bbe\u7f6e\u5bb9\u5668\u5185\u8fd0\u884c\u65f6\u7684\u7528\u6237 <code>USER nonrootuser</code> \u5207\u6362\u5230\u6307\u5b9a\u7528\u6237\u8fd0\u884c\u540e\u7eed\u547d\u4ee4\uff0c\u589e\u5f3a\u5bb9\u5668\u7684\u5b89\u5168\u6027\u3002 <code>HEALTHCHECK</code> \u68c0\u67e5\u5bb9\u5668\u7684\u8fd0\u884c\u72b6\u51b5 <code>HEALTHCHECK CMD curl --fail http://localhost:80 || exit 1</code> \u5b9a\u4e49\u5bb9\u5668\u5065\u5eb7\u68c0\u67e5\u547d\u4ee4\u548c\u9891\u7387\u3002\u5982\u679c\u5065\u5eb7\u68c0\u67e5\u5931\u8d25\uff0c\u5bb9\u5668\u72b6\u6001\u4f1a\u53d8\u4e3a<code>unhealthy</code>\u3002 <code>SHELL</code> \u6307\u5b9a\u8fd0\u884c\u811a\u672c\u65f6\u4f7f\u7528\u7684 shell <code>SHELL [\"/bin/bash\", \"-c\"]</code> \u6539\u53d8\u6267\u884c\u811a\u672c\u65f6\u7684\u9ed8\u8ba4 shell\uff0c\u9ed8\u8ba4\u662f <code>[\"/bin/sh\", \"-c\"]</code>\u3002 <code>STOPSIGNAL</code> \u8bbe\u7f6e\u505c\u6b62\u5bb9\u5668\u65f6\u53d1\u9001\u7684\u7cfb\u7edf\u8c03\u7528\u4fe1\u53f7 <code>STOPSIGNAL SIGKILL</code> \u5b9a\u4e49\u5728\u505c\u6b62\u5bb9\u5668\u65f6\u53d1\u9001\u7684\u4fe1\u53f7\uff0c\u9ed8\u8ba4\u662f <code>SIGTERM</code>\u3002 <code>ONBUILD</code> \u5b9a\u4e49\u5728\u672a\u6765\u955c\u50cf\u6784\u5efa\u65f6\u81ea\u52a8\u6267\u884c\u7684\u547d\u4ee4 <code>ONBUILD RUN echo \"This will run on children images\"</code> \u7528\u4e8e\u5b9a\u4e49\u7236\u955c\u50cf\u4e2d\u8981\u5728\u5b50\u955c\u50cf\u6784\u5efa\u65f6\u81ea\u52a8\u6267\u884c\u7684\u6307\u4ee4\u3002 <code>COPY --from</code> \u4ece\u4e00\u4e2a\u6784\u5efa\u9636\u6bb5\u590d\u5236\u6587\u4ef6\u5230\u53e6\u4e00\u4e2a\u9636\u6bb5 <code>COPY --from=builder /app/build /app/</code> \u5728\u591a\u9636\u6bb5\u6784\u5efa\u4e2d\uff0c\u4ece\u4e00\u4e2a\u6784\u5efa\u9636\u6bb5\u590d\u5236\u6587\u4ef6\u5230\u53e6\u4e00\u4e2a\u9636\u6bb5\u3002 <p>\u8bf4\u660e\uff1a - <code>FROM</code>\uff1a\u6bcf\u4e2a\u9636\u6bb5\u90fd\u5fc5\u987b\u4ee5 <code>FROM</code> \u5f00\u5934\uff0c\u53ef\u4ee5\u591a\u6b21\u4f7f\u7528\u4ee5\u5b9e\u73b0\u591a\u9636\u6bb5\u6784\u5efa\u3002 - <code>RUN</code> \u548c <code>CMD</code>\uff1a\u533a\u522b\u5728\u4e8e <code>RUN</code> \u7528\u4e8e\u6784\u5efa\u65f6\u6267\u884c\u547d\u4ee4\uff0c\u800c <code>CMD</code> \u7528\u4e8e\u5bb9\u5668\u542f\u52a8\u65f6\u7684\u9ed8\u8ba4\u547d\u4ee4\u3002 - <code>ENTRYPOINT</code> \u548c <code>CMD</code>\uff1a<code>ENTRYPOINT</code> \u66f4\u503e\u5411\u4e8e\u56fa\u5b9a\u6267\u884c\u7684\u547d\u4ee4\uff0c<code>CMD</code> \u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 <code>ENTRYPOINT</code>\u3002 - <code>COPY</code> \u548c <code>ADD</code>\uff1a<code>ADD</code> \u529f\u80fd\u66f4\u5f3a\u5927\uff0c\u4f46\u66f4\u63a8\u8350\u4f7f\u7528 <code>COPY</code>\uff0c\u9664\u975e\u9700\u8981\u89e3\u538b\u7f29\u6587\u4ef6\u6216\u4ece\u8fdc\u7a0bURL\u83b7\u53d6\u6587\u4ef6\u3002</p> <p>\u901a\u8fc7\u719f\u7ec3\u4f7f\u7528\u8fd9\u4e9b\u6307\u4ee4\uff0c\u4f60\u53ef\u4ee5\u7f16\u5199\u51fa\u66f4\u52a0\u9ad8\u6548\u3001\u7075\u6d3b\u7684Dockerfile\uff0c\u4ee5\u6ee1\u8db3\u5404\u79cd\u6784\u5efa\u548c\u90e8\u7f72\u9700\u6c42\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4","title":"4. \u7f51\u7edc\u6a21\u5f0f","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1_1","title":"1. \u7f51\u7edc\u6a21\u5f0f\u6982\u8ff0","text":"<p>Docker \u652f\u6301\u4ee5\u4e0b\u51e0\u79cd\u7f51\u7edc\u6a21\u5f0f\uff1a</p> <pre><code>1.  bridge \u7f51\u7edc\u6a21\u5f0f\n2.  host \u7f51\u7edc\u6a21\u5f0f\n3.  none \u7f51\u7edc\u6a21\u5f0f\n4.  container \u7f51\u7edc\u6a21\u5f0f\n5.  \u81ea\u5b9a\u4e49\u7f51\u7edc\u6a21\u5f0f\uff08overlay\u3001macvlan\uff09\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2","title":"2. \u7f51\u7edc\u6a21\u5f0f\u8be6\u89e3","text":"<p>1. bridge \u7f51\u7edc\u6a21\u5f0f</p> <p>\u63cf\u8ff0\uff1a</p> <ul> <li> <p>bridge \u6a21\u5f0f\u662f Docker \u9ed8\u8ba4\u7684\u7f51\u7edc\u6a21\u5f0f\u3002\u5f53\u521b\u5efa\u4e00\u4e2a\u65b0\u5bb9\u5668\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7f51\u7edc\u6a21\u5f0f\uff0c\u5bb9\u5668\u4f1a\u8fde\u63a5\u5230 Docker \u521b\u5efa\u7684\u9ed8\u8ba4 bridge \u7f51\u7edc\u4e2d\u3002</p> </li> <li> <p>\u6bcf\u4e2a\u5bb9\u5668\u4f1a\u88ab\u5206\u914d\u4e00\u4e2a\u72ec\u7acb\u7684 IP \u5730\u5740\uff0c\u4e0e\u5176\u4ed6\u5bb9\u5668\u548c\u4e3b\u673a\u901a\u8fc7\u6865\u63a5\u7f51\u7edc\u901a\u4fe1\u3002</p> </li> </ul> <p>\u4f7f\u7528\u573a\u666f\uff1a</p> <ul> <li>\u9002\u5408\u5728\u5355\u673a\u4e0a\u8fd0\u884c\u591a\u4e2a\u5bb9\u5668\uff0c\u5bb9\u5668\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7 IP \u5730\u5740\u8fdb\u884c\u901a\u4fe1\uff0c\u540c\u65f6\u53ef\u4ee5\u901a\u8fc7\u7aef\u53e3\u6620\u5c04\u5c06\u5bb9\u5668\u66b4\u9732\u7ed9\u5916\u90e8\u7f51\u7edc\u3002</li> </ul> <pre><code>docker run -d --name my-container --network bridge nginx\n</code></pre> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u5bb9\u5668\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7 IP \u5730\u5740\u901a\u4fe1\u3002</li> <li>\u53ef\u4ee5\u4f7f\u7528\u7aef\u53e3\u6620\u5c04\uff08-p \u53c2\u6570\uff09\u5c06\u5bb9\u5668\u7aef\u53e3\u66b4\u9732\u7ed9\u4e3b\u673a\u3002</li> </ul> <p>2. host \u7f51\u7edc\u6a21\u5f0f</p> <p>\u63cf\u8ff0\uff1a</p> <ul> <li>\u5728 host \u6a21\u5f0f\u4e0b\uff0c\u5bb9\u5668\u4e0e\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc\u6808\uff0c\u5bb9\u5668\u4e0d\u4f1a\u83b7\u5f97\u72ec\u7acb\u7684 IP \u5730\u5740\uff0c\u800c\u662f\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684 IP \u5730\u5740\u3002</li> <li>\u5bb9\u5668\u5185\u7684\u5e94\u7528\u7a0b\u5e8f\u76f4\u63a5\u66b4\u9732\u5728\u5bbf\u4e3b\u673a\u7684\u7f51\u7edc\u63a5\u53e3\u4e0a\u3002</li> </ul> <p>\u4f7f\u7528\u573a\u666f</p> <p>\u9002\u7528\u4e8e\u5bf9\u7f51\u7edc\u6027\u80fd\u8981\u6c42\u9ad8\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u6216\u9700\u8981\u8bbf\u95ee\u5bbf\u4e3b\u673a\u4e0a\u7f51\u7edc\u63a5\u53e3\u7684\u5e94\u7528\u3002</p> <pre><code>docker run -d --name my-container --network host nginx\n</code></pre> <p>\u7279\u70b9</p> <ul> <li>\u63d0\u4f9b\u66f4\u597d\u7684\u7f51\u7edc\u6027\u80fd\uff0c\u56e0\u4e3a\u6ca1\u6709\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08NAT\uff09\u3002</li> <li>\u5bb9\u5668\u76f4\u63a5\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684 IP \u5730\u5740\uff0c\u6240\u6709\u66b4\u9732\u7684\u7aef\u53e3\u5bf9\u5bbf\u4e3b\u673a\u5f00\u653e\u3002</li> </ul> <p>3. none \u7f51\u7edc\u6a21\u5f0f</p> <p>\u63cf\u8ff0\uff1a</p> <ul> <li>\u5728 none \u6a21\u5f0f\u4e0b\uff0c\u5bb9\u5668\u6ca1\u6709\u7f51\u7edc\u63a5\u53e3\uff0c\u5b8c\u5168\u9694\u79bb\u4e8e\u7f51\u7edc\u4e4b\u5916\u3002\u5bb9\u5668\u53ea\u6709\u4e00\u4e2a lo\uff08\u56de\u73af\uff09\u63a5\u53e3\u3002</li> <li>\u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0c\u5bb9\u5668\u65e0\u6cd5\u4e0e\u5176\u4ed6\u5bb9\u5668\u6216\u5916\u90e8\u7f51\u7edc\u901a\u4fe1\u3002</li> </ul> <p>\u4f7f\u7528\u573a\u666f</p> <p>\u9002\u5408\u5b8c\u5168\u9694\u79bb\u7684\u4efb\u52a1\uff0c\u6216\u8005\u9700\u8981\u81ea\u5b9a\u4e49\u7f51\u7edc\u6808\u7684\u573a\u666f\u3002</p> <pre><code>docker run -d --name my-container --network none nginx\n</code></pre> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u5bb9\u5668\u5b8c\u5168\u6ca1\u6709\u5916\u90e8\u7f51\u7edc\u8fde\u63a5\u3002</li> <li>\u9700\u8981\u901a\u8fc7\u81ea\u5b9a\u4e49\u7684\u7f51\u7edc\u914d\u7f6e\u6765\u5b9e\u73b0\u901a\u4fe1\uff08\u5982\u4f7f\u7528 ip link \u7b49\u547d\u4ee4\uff09\u3002</li> </ul> <p>4. container \u7f51\u7edc\u6a21\u5f0f</p> <p>\u63cf\u8ff0</p> <p>container \u6a21\u5f0f\u5141\u8bb8\u4e00\u4e2a\u5bb9\u5668\u5171\u4eab\u53e6\u4e00\u4e2a\u5bb9\u5668\u7684\u7f51\u7edc\u6808\u3002\u8fd9\u610f\u5473\u7740\u4e24\u4e2a\u5bb9\u5668\u5c06\u5171\u4eab\u540c\u4e00\u4e2a IP \u5730\u5740\u548c\u7aef\u53e3\u7a7a\u95f4\u3002</p> <p>\u4f7f\u7528\u573a\u666f</p> <p>\u9002\u7528\u4e8e\u9700\u8981\u591a\u4e2a\u5bb9\u5668\u5171\u4eab\u540c\u4e00\u4e2a\u7f51\u7edc\u63a5\u53e3\u6216\u4f9d\u8d56\u76f8\u540c\u7f51\u7edc\u6808\u7684\u5e94\u7528\u3002</p> <pre><code>docker run -d --name container1 nginx\ndocker run -d --name container2 --network container:container1 busybox\n</code></pre> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u5171\u4eab\u7f51\u7edc\u6808\u7684\u5bb9\u5668\u4f7f\u7528\u540c\u4e00\u4e2a IP \u5730\u5740\u3002</li> <li>\u5bb9\u5668\u95f4\u901a\u4fe1\u4f7f\u7528 localhost \u548c\u672c\u5730\u7aef\u53e3\u3002</li> </ul> <p>5. \u81ea\u5b9a\u4e49\u7f51\u7edc\u6a21\u5f0f</p> <p>overlay \u7f51\u7edc\u6a21\u5f0f</p> <pre><code>\u2022   \u63cf\u8ff0\uff1aoverlay \u7f51\u7edc\u6a21\u5f0f\u7528\u4e8e Docker Swarm \u96c6\u7fa4\u4e2d\u7684\u8de8\u4e3b\u673a\u901a\u4fe1\u3002\u5b83\u901a\u8fc7\u5728 Docker \u4e3b\u673a\u4e4b\u95f4\u521b\u5efa\u865a\u62df\u7f51\u7edc\u6765\u5b9e\u73b0\u5bb9\u5668\u7684\u8de8\u4e3b\u673a\u901a\u4fe1\u3002\n\n\u2022   \u4f7f\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u5e94\u7528\u6216\u5fae\u670d\u52a1\u67b6\u6784\u4e2d\u7684\u5bb9\u5668\u901a\u4fe1\u3002\n</code></pre> <pre><code>docker network create --driver overlay my-overlay-network\ndocker run -d --name my-container --network my-overlay-network nginx\n</code></pre> <p>macvlan \u7f51\u7edc\u6a21\u5f0f</p> <p>\u63cf\u8ff0\uff1amacvlan \u7f51\u7edc\u6a21\u5f0f\u5141\u8bb8\u6bcf\u4e2a\u5bb9\u5668\u83b7\u5f97\u4e00\u4e2a\u552f\u4e00\u7684 MAC \u5730\u5740\uff0c\u4f7f\u5bb9\u5668\u770b\u8d77\u6765\u50cf\u5bbf\u4e3b\u673a\u7f51\u7edc\u4e0a\u7684\u7269\u7406\u8bbe\u5907\u3002\u5bb9\u5668\u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u5230\u5bbf\u4e3b\u673a\u7684\u7269\u7406\u7f51\u7edc\u3002</p> <p>\u4f7f\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u9700\u8981\u5bb9\u5668\u76f4\u63a5\u53c2\u4e0e\u7269\u7406\u7f51\u7edc\u3001\u5177\u6709\u56fa\u5b9a IP \u5730\u5740\u7684\u573a\u666f\u3002</p> <pre><code>docker network create -d macvlan \\\n  --subnet=192.168.1.0/24 \\\n  --gateway=192.168.1.1 \\\n  -o parent=eth0 my-macvlan-network\ndocker run -d --name my-container --network my-macvlan-network nginx\n</code></pre> <p>\u603b\u7ed3</p> \u7f51\u7edc\u6a21\u5f0f \u63cf\u8ff0 \u4f7f\u7528\u573a\u666f <code>bridge</code> \u9ed8\u8ba4\u7f51\u7edc\u6a21\u5f0f\uff0c\u5bb9\u5668\u5728\u865a\u62df\u6865\u63a5\u7f51\u7edc\u4e2d\uff0c\u6709\u72ec\u7acb\u7684 IP \u5730\u5740\u3002 \u5355\u673a\u8fd0\u884c\u591a\u4e2a\u5bb9\u5668\uff0c\u5bb9\u5668\u95f4\u9700\u901a\u4fe1\u5e76\u4e0e\u5916\u90e8\u7f51\u7edc\u8fde\u63a5\u3002 <code>host</code> \u5bb9\u5668\u4e0e\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc\u6808\uff0c\u5bb9\u5668\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684 IP \u5730\u5740\u3002 \u5bf9\u7f51\u7edc\u6027\u80fd\u8981\u6c42\u9ad8\uff0c\u6216\u9700\u8981\u76f4\u63a5\u4f7f\u7528\u5bbf\u4e3b\u673a\u7f51\u7edc\u7684\u5e94\u7528\u3002 <code>none</code> \u5bb9\u5668\u6ca1\u6709\u7f51\u7edc\u63a5\u53e3\uff0c\u5b8c\u5168\u9694\u79bb\u4e8e\u7f51\u7edc\u4e4b\u5916\u3002 \u9700\u8981\u5b8c\u5168\u9694\u79bb\u7684\u4efb\u52a1\u6216\u81ea\u5b9a\u4e49\u7f51\u7edc\u914d\u7f6e\u3002 <code>container</code> \u5bb9\u5668\u5171\u4eab\u53e6\u4e00\u4e2a\u5bb9\u5668\u7684\u7f51\u7edc\u6808\uff0c\u4f7f\u7528\u540c\u4e00\u4e2a IP \u5730\u5740\u3002 \u591a\u4e2a\u5bb9\u5668\u9700\u8981\u5171\u4eab\u540c\u4e00\u7f51\u7edc\u63a5\u53e3\u6216\u4f9d\u8d56\u76f8\u540c\u7f51\u7edc\u6808\u3002 <code>overlay</code> \u8de8\u4e3b\u673a\u7684\u865a\u62df\u7f51\u7edc\uff0c\u7528\u4e8e Docker Swarm \u96c6\u7fa4\u4e2d\u3002 \u5206\u5e03\u5f0f\u5e94\u7528\u6216\u5fae\u670d\u52a1\u67b6\u6784\u4e2d\u7684\u5bb9\u5668\u901a\u4fe1\u3002 <code>macvlan</code> \u6bcf\u4e2a\u5bb9\u5668\u83b7\u5f97\u4e00\u4e2a\u552f\u4e00\u7684 MAC \u5730\u5740\uff0c\u5bb9\u5668\u50cf\u7269\u7406\u8bbe\u5907\u4e00\u6837\u76f4\u63a5\u8fde\u63a5\u5230\u5bbf\u4e3b\u673a\u7684\u7269\u7406\u7f51\u7edc\u3002 \u9700\u8981\u5bb9\u5668\u53c2\u4e0e\u7269\u7406\u7f51\u7edc\u3001\u5177\u6709\u56fa\u5b9a IP \u5730\u5740\u7684\u573a\u666f\u3002 <p>\u7406\u89e3\u5e76\u7075\u6d3b\u8fd0\u7528\u8fd9\u4e9b\u7f51\u7edc\u6a21\u5f0f\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u8bbe\u8ba1\u548c\u5b9e\u73b0\u66f4\u4e3a\u590d\u6742\u548c\u9ad8\u6548\u7684\u5bb9\u5668\u7f51\u7edc\u67b6\u6784\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#5","title":"5. \u6570\u636e\u6301\u4e45\u5316","text":"<p>Docker \u5bb9\u5668\u672c\u8d28\u4e0a\u662f\u77ed\u6682\u7684\u548c\u65e0\u72b6\u6001\u7684\uff0c\u8fd9\u610f\u5473\u7740\u5f53\u5bb9\u5668\u88ab\u5220\u9664\u6216\u91cd\u542f\u65f6\uff0c\u5bb9\u5668\u5185\u7684\u6570\u636e\u4f1a\u4e22\u5931\u3002\u7136\u800c\uff0c\u5f88\u591a\u5e94\u7528\u9700\u8981\u6570\u636e\u6301\u4e45\u5316\uff0c\u4ee5\u4fbf\u5728\u5bb9\u5668\u91cd\u542f\u6216\u5220\u9664\u540e\u6570\u636e\u4ecd\u7136\u5b58\u5728\u3002Docker \u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u6765\u5b9e\u73b0\u6301\u4e45\u5316\u5b58\u50a8\uff0c\u4e3b\u8981\u901a\u8fc7\u5377\uff08Volumes\uff09\u3001\u7ed1\u5b9a\u6302\u8f7d\uff08Bind Mounts\uff09\u548c tmpfs \u6302\u8f7d\u6765\u5b9e\u73b0\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker","title":"\u4e00\u3001Docker \u6570\u636e\u6301\u4e45\u5316\u65b9\u5f0f\u6982\u8ff0","text":"<ol> <li>Volumes\uff08\u5377\uff09\uff1a\u7531 Docker \u7ba1\u7406\u7684\u6302\u8f7d\u70b9\uff0c\u53ef\u4ee5\u5728\u5bb9\u5668\u95f4\u5171\u4eab\uff0c\u4e14\u4e0e\u5bbf\u4e3b\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\u9694\u79bb\u3002</li> <li>Bind Mounts\uff08\u7ed1\u5b9a\u6302\u8f7d\uff09\uff1a\u5c06\u5bbf\u4e3b\u673a\u7684\u76ee\u5f55\u6216\u6587\u4ef6\u76f4\u63a5\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\uff0c\u5bb9\u5668\u5bf9\u8be5\u76ee\u5f55\u6216\u6587\u4ef6\u7684\u64cd\u4f5c\u4f1a\u76f4\u63a5\u5f71\u54cd\u5bbf\u4e3b\u673a\u3002</li> <li>Tmpfs Mounts\uff08\u5185\u5b58\u6302\u8f7d\uff09\uff1a\u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u800c\u975e\u5bbf\u4e3b\u673a\u7684\u78c1\u76d8\u4e0a\uff0c\u9002\u7528\u4e8e\u9700\u8981\u9ad8\u6027\u80fd\u3001\u4f46\u6570\u636e\u65e0\u9700\u6301\u4e45\u5316\u7684\u573a\u666f\u3002</li> </ol>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker_1","title":"\u4e8c\u3001Docker \u6301\u4e45\u5316\u65b9\u5f0f\u8be6\u89e3","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-volumes","title":"1. Volumes\uff08\u5377\uff09","text":"<ul> <li>\u63cf\u8ff0\uff1a</li> <li>\u5377\u662f Docker \u63a8\u8350\u7684\u6570\u636e\u6301\u4e45\u5316\u65b9\u5f0f\u3002\u5377\u5b58\u50a8\u5728 Docker \u7ba1\u7406\u7684\u76ee\u5f55\u4e2d\uff08\u901a\u5e38\u5728 <code>/var/lib/docker/volumes/</code> \u4e0b\uff09\uff0c\u5e76\u4e14\u53ef\u4ee5\u88ab\u591a\u4e2a\u5bb9\u5668\u6302\u8f7d\u548c\u5171\u4eab\u3002</li> <li> <p>\u5377\u7684\u751f\u547d\u5468\u671f\u72ec\u7acb\u4e8e\u5bb9\u5668\uff0c\u53ef\u4ee5\u5728\u5bb9\u5668\u5220\u9664\u540e\u4fdd\u7559\u6570\u636e\u3002</p> </li> <li> <p>\u4f7f\u7528\u573a\u666f\uff1a</p> </li> <li> <p>\u9002\u7528\u4e8e\u9700\u8981\u6301\u4e45\u5316\u6570\u636e\u3001\u8de8\u591a\u4e2a\u5bb9\u5668\u5171\u4eab\u6570\u636e\u7684\u5e94\u7528\uff0c\u5982\u6570\u636e\u5e93\u3001\u6301\u4e45\u5316\u7f13\u5b58\u7b49\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li> <p>\u521b\u5efa\u5e76\u6302\u8f7d\u5377\uff1a     ```bash     # \u521b\u5efa\u5377     docker volume create my-volume</p> </li> <li> <p>\u5220\u9664\u5377\uff1a     <code>bash     # \u5220\u9664\u5377\uff08\u6ce8\u610f\uff1a\u5728\u5220\u9664\u524d\u9700\u786e\u4fdd\u6ca1\u6709\u5bb9\u5668\u5728\u4f7f\u7528\u6b64\u5377\uff09     docker volume rm my-volume</code></p> </li> <li> <p>\u7279\u70b9\uff1a</p> </li> <li>\u5377\u662f\u7531 Docker \u7ba1\u7406\u7684\uff0c\u4e0e\u5bbf\u4e3b\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\u9694\u79bb\u3002</li> <li>\u53ef\u4ee5\u901a\u8fc7\u5377\u8de8\u591a\u4e2a\u5bb9\u5668\u5171\u4eab\u6570\u636e\u3002</li> <li>\u5377\u53ef\u4ee5\u5728\u5bb9\u5668\u505c\u6b62\u6216\u5220\u9664\u540e\u7ee7\u7eed\u5b58\u5728\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_1","title":"\u8fd0\u884c\u5bb9\u5668\u5e76\u6302\u8f7d\u5377","text":"<p>docker run -d --name my-container -v my-volume:/data nginx ```</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-bind-mounts","title":"2. Bind Mounts\uff08\u7ed1\u5b9a\u6302\u8f7d\uff09","text":"<ul> <li>\u63cf\u8ff0\uff1a</li> <li> <p>Bind Mounts \u5141\u8bb8\u4f60\u5c06\u5bbf\u4e3b\u673a\u7684\u7279\u5b9a\u76ee\u5f55\u6216\u6587\u4ef6\u6302\u8f7d\u5230\u5bb9\u5668\u5185\u7684\u76ee\u5f55\u3002\u8fd9\u79cd\u65b9\u5f0f\u76f4\u63a5\u6620\u5c04\u5bbf\u4e3b\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5bb9\u5668\u5bf9\u6302\u8f7d\u76ee\u5f55\u6216\u6587\u4ef6\u7684\u64cd\u4f5c\u4f1a\u76f4\u63a5\u5f71\u54cd\u5bbf\u4e3b\u673a\u3002</p> </li> <li> <p>\u4f7f\u7528\u573a\u666f\uff1a</p> </li> <li> <p>\u9002\u7528\u4e8e\u9700\u8981\u5bb9\u5668\u8bbf\u95ee\u548c\u4f7f\u7528\u5bbf\u4e3b\u673a\u4e0a\u7684\u73b0\u6709\u6570\u636e\u7684\u573a\u666f\uff0c\u5982\u8bbf\u95ee\u914d\u7f6e\u6587\u4ef6\u3001\u65e5\u5fd7\u6587\u4ef6\u7b49\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li> <p>\u4f7f\u7528\u7ed1\u5b9a\u6302\u8f7d\uff1a     <code>bash     docker run -d --name my-container -v /path/on/host:/path/in/container nginx</code></p> </li> <li> <p>\u4f8b\u5982\uff0c\u5c06\u5bbf\u4e3b\u673a\u7684 <code>/var/log</code> \u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u7684 <code>/log</code> \u76ee\u5f55\uff1a     <code>bash     docker run -d --name my-container -v /var/log:/log nginx</code></p> </li> <li> <p>\u7279\u70b9\uff1a</p> </li> <li>Bind Mounts \u76f4\u63a5\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u56e0\u6b64\u5bf9\u6570\u636e\u7684\u66f4\u6539\u4f1a\u76f4\u63a5\u5f71\u54cd\u5bbf\u4e3b\u673a\u3002</li> <li>\u76f8\u6bd4\u5377\uff0c\u5b83\u66f4\u7075\u6d3b\uff0c\u4f46\u9700\u8981\u66f4\u5c0f\u5fc3\u7ba1\u7406\uff0c\u56e0\u4e3a\u9519\u8bef\u914d\u7f6e\u53ef\u80fd\u5bfc\u81f4\u5bbf\u4e3b\u673a\u6570\u636e\u88ab\u7834\u574f\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-tmpfs-mounts","title":"3. Tmpfs Mounts\uff08\u5185\u5b58\u6302\u8f7d\uff09","text":"<ul> <li>\u63cf\u8ff0\uff1a</li> <li> <p>Tmpfs Mounts \u5141\u8bb8\u4f60\u5c06\u5bb9\u5668\u5185\u7684\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u800c\u4e0d\u662f\u5bbf\u4e3b\u673a\u7684\u78c1\u76d8\u4e0a\u3002\u5b83\u4e0d\u9002\u5408\u6301\u4e45\u5316\u5b58\u50a8\uff0c\u4f46\u5728\u9700\u8981\u5feb\u901f\u8bbf\u95ee\u6570\u636e\u4e14\u6570\u636e\u4e0d\u9700\u8981\u6301\u4e45\u5316\u7684\u573a\u666f\u4e2d\u975e\u5e38\u6709\u7528\u3002</p> </li> <li> <p>\u4f7f\u7528\u573a\u666f\uff1a</p> </li> <li> <p>\u9002\u7528\u4e8e\u4e34\u65f6\u6570\u636e\u3001\u7f13\u5b58\u6587\u4ef6\u6216\u654f\u611f\u6570\u636e\u7684\u5b58\u50a8\uff0c\u6570\u636e\u5728\u5bb9\u5668\u505c\u6b62\u540e\u5373\u4e22\u5931\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li> <p>\u521b\u5efa Tmpfs \u6302\u8f7d\uff1a     <code>bash     docker run -d --name my-container --mount type=tmpfs,destination=/app/tmpfs tmpfs-size=64m nginx</code></p> </li> <li> <p>\u7279\u70b9\uff1a</p> </li> <li>\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u8bbf\u95ee\u901f\u5ea6\u5feb\u3002</li> <li>\u9002\u5408\u4e0d\u9700\u8981\u6301\u4e45\u5316\u7684\u6570\u636e\u5b58\u50a8\uff0c\u6570\u636e\u5728\u5bb9\u5668\u505c\u6b62\u540e\u4e22\u5931\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker_2","title":"\u4e09\u3001Docker \u6570\u636e\u6301\u4e45\u5316\u7684\u9ad8\u7ea7\u4f7f\u7528","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-named-volumes","title":"1. Named Volumes\uff08\u547d\u540d\u5377\uff09","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u547d\u540d\u5377\u662f\u6307\u4f7f\u7528\u7279\u5b9a\u540d\u79f0\u521b\u5efa\u548c\u7ba1\u7406\u7684\u5377\uff0c\u5141\u8bb8\u4f60\u660e\u786e\u5730\u6307\u5b9a\u548c\u7ba1\u7406\u5377\u7684\u751f\u547d\u5468\u671f\u3002</p> </li> <li> <p>\u4f7f\u7528\uff1a   <code>bash   docker volume create my-named-volume   docker run -d --name my-container -v my-named-volume:/data nginx</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-anonymous-volumes","title":"2. Anonymous Volumes\uff08\u533f\u540d\u5377\uff09","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u533f\u540d\u5377\u662f\u6ca1\u6709\u540d\u79f0\u7684\u5377\uff0c\u5f53\u4f60\u4f7f\u7528 <code>-v /path/in/container</code> \u683c\u5f0f\u6302\u8f7d\u5377\u65f6\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u533f\u540d\u5377\u3002</p> </li> <li> <p>\u7279\u70b9\uff1a\u5728\u5bb9\u5668\u5220\u9664\u65f6\uff0c\u533f\u540d\u5377\u4f1a\u5b64\u7acb\u5b58\u5728\uff0c\u9700\u624b\u52a8\u6e05\u7406\u3002</p> </li> <li> <p>\u4f7f\u7528\uff1a   <code>bash   docker run -d --name my-container -v /data nginx</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3","title":"3. \u6570\u636e\u5377\u5bb9\u5668","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u6570\u636e\u5377\u5bb9\u5668\u662f\u4e00\u79cd\u7528\u4e8e\u5171\u4eab\u5377\u7684\u5bb9\u5668\u3002\u4f60\u53ef\u4ee5\u5c06\u5377\u6302\u8f7d\u5230\u4e00\u4e2a\u5bb9\u5668\u4e0a\uff0c\u7136\u540e\u5728\u5176\u4ed6\u5bb9\u5668\u4e2d\u901a\u8fc7 <code>--volumes-from</code> \u9009\u9879\u4f7f\u7528\u8fd9\u4e9b\u5377\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a   ```bash   # \u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5377\u5bb9\u5668   docker create -v /data --name data-container busybox</p> </li> </ul> <p># \u5176\u4ed6\u5bb9\u5668\u53ef\u4ee5\u901a\u8fc7 --volumes-from \u5171\u4eab\u6570\u636e\u5377   docker run -d --name my-container --volumes-from data-container nginx   ```</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_2","title":"\u56db\u3001\u603b\u7ed3","text":"\u6301\u4e45\u5316\u65b9\u5f0f \u63cf\u8ff0 \u4f7f\u7528\u573a\u666f \u4f18\u70b9 \u7f3a\u70b9 Volumes \u7531 Docker \u7ba1\u7406\u7684\u5b58\u50a8\u5377\uff0c\u53ef\u5728\u5bb9\u5668\u95f4\u5171\u4eab\uff0c\u72ec\u7acb\u4e8e\u5bbf\u4e3b\u673a\u6587\u4ef6\u7cfb\u7edf\u3002 \u9700\u8981\u6301\u4e45\u5316\u6570\u636e\u3001\u8de8\u591a\u4e2a\u5bb9\u5668\u5171\u4eab\u6570\u636e\u7684\u573a\u666f\u3002 \u5377\u72ec\u7acb\u4e8e\u5bbf\u4e3b\u673a\u6587\u4ef6\u7cfb\u7edf\uff0c\u5b89\u5168\u4e14\u4fbf\u4e8e\u7ba1\u7406\u3002 \u4e0e\u5bbf\u4e3b\u673a\u6587\u4ef6\u7cfb\u7edf\u9694\u79bb\uff0c\u53ef\u80fd\u4e0d\u9002\u5408\u9700\u8981\u76f4\u63a5\u8bbf\u95ee\u5bbf\u4e3b\u673a\u6570\u636e\u7684\u573a\u666f\u3002 Bind Mounts \u76f4\u63a5\u5c06\u5bbf\u4e3b\u673a\u7684\u76ee\u5f55\u6216\u6587\u4ef6\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\uff0c\u5bb9\u5668\u5bf9\u6570\u636e\u7684\u66f4\u6539\u4f1a\u76f4\u63a5\u53cd\u6620\u5728\u5bbf\u4e3b\u673a\u4e0a\u3002 \u9700\u8981\u5bb9\u5668\u8bbf\u95ee\u548c\u4f7f\u7528\u5bbf\u4e3b\u673a\u4e0a\u7684\u73b0\u6709\u6570\u636e\u7684\u573a\u666f\u3002 \u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u548c\u64cd\u4f5c\u5bbf\u4e3b\u673a\u4e0a\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002 \u9700\u8981\u5c0f\u5fc3\u7ba1\u7406\uff0c\u9519\u8bef\u7684\u914d\u7f6e\u53ef\u80fd\u5bfc\u81f4\u5bbf\u4e3b\u673a\u6570\u636e\u635f\u574f\u3002 Tmpfs Mounts \u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5feb\u901f\u8bbf\u95ee\u4e14\u4e0d\u9700\u6301\u4e45\u5316\u7684\u6570\u636e\u3002 \u4e34\u65f6\u6570\u636e\u3001\u7f13\u5b58\u6216\u654f\u611f\u6570\u636e\u5b58\u50a8\uff0c\u6570\u636e\u5728\u5bb9\u5668\u505c\u6b62\u540e\u4e22\u5931\u3002 \u9ad8\u6027\u80fd\u7684\u6570\u636e\u8bbf\u95ee\uff0c\u56e0\u4e3a\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002 \u6570\u636e\u4e0d\u53ef\u6301\u4e45\u5316\uff0c\u5bb9\u5668\u505c\u6b62\u540e\u6570\u636e\u4e22\u5931\u3002 <p>\u9009\u62e9\u5408\u9002\u7684\u6301\u4e45\u5316\u65b9\u5f0f\u53d6\u51b3\u4e8e\u5177\u4f53\u7684\u5e94\u7528\u9700\u6c42\u3002\u5bf9\u4e8e\u9700\u8981\u957f\u671f\u4fdd\u5b58\u7684\u6570\u636e\uff0c\u5982\u6570\u636e\u5e93\u6570\u636e\uff0c\u4f7f\u7528 <code>Volumes</code> \u662f\u6700\u4f73\u9009\u62e9\uff1b\u5bf9\u4e8e\u9700\u8981\u76f4\u63a5\u64cd\u4f5c\u5bbf\u4e3b\u673a\u6587\u4ef6\u7684\u573a\u666f\uff0c<code>Bind Mounts</code> \u66f4\u4e3a\u5408\u9002\uff1b\u800c\u5bf9\u4e8e\u4e34\u65f6\u6027\u6216\u9ad8\u6027\u80fd\u6570\u636e\u9700\u6c42\uff0c<code>Tmpfs Mounts</code> \u5219\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#6-docker-compose","title":"6. Docker Compose","text":"<p>Docker Compose \u662f\u4e00\u4e2a\u7528\u4e8e\u5b9a\u4e49\u548c\u7ba1\u7406\u591a\u5bb9\u5668 Docker \u5e94\u7528\u7684\u5de5\u5177\u3002\u5b83\u5141\u8bb8\u4f60\u4f7f\u7528\u4e00\u4e2a YAML \u6587\u4ef6\u6765\u5b9a\u4e49\u5e94\u7528\u7684\u670d\u52a1\u3001\u7f51\u7edc\u3001\u5377\u7b49\u914d\u7f6e\uff0c\u5e76\u901a\u8fc7\u7b80\u5355\u7684\u547d\u4ee4\u6765\u7ba1\u7406\u8fd9\u4e9b\u670d\u52a1\u3002Docker Compose \u53ef\u4ee5\u6781\u5927\u5730\u7b80\u5316\u591a\u5bb9\u5668\u5e94\u7528\u7684\u90e8\u7f72\u548c\u7ba1\u7406\uff0c\u5c24\u5176\u662f\u5728\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u6301\u7eed\u96c6\u6210\u73af\u5883\u4e2d\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker-compose","title":"\u4e00\u3001Docker Compose \u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u670d\u52a1\uff08Services\uff09\uff1a\u670d\u52a1\u662f\u4e00\u4e2a\u8fd0\u884c\u5bb9\u5668\u7684\u5b9a\u4e49\uff0c\u901a\u5e38\u5bf9\u5e94\u4e00\u4e2a\u955c\u50cf\u3002\u4f60\u53ef\u4ee5\u5728 Docker Compose \u6587\u4ef6\u4e2d\u5b9a\u4e49\u591a\u4e2a\u670d\u52a1\uff0c\u6bcf\u4e2a\u670d\u52a1\u53ef\u4ee5\u8fd0\u884c\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u3002</li> <li>\u7f51\u7edc\uff08Networks\uff09\uff1aDocker Compose \u4e2d\u7684\u670d\u52a1\u9ed8\u8ba4\u4f1a\u8fde\u63a5\u5230\u4e00\u4e2a\u540d\u4e3a <code>default</code> \u7684\u7f51\u7edc\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728 YAML \u6587\u4ef6\u4e2d\u81ea\u5b9a\u4e49\u7f51\u7edc\u3002</li> <li>\u5377\uff08Volumes\uff09\uff1a\u7528\u4e8e\u6301\u4e45\u5316\u670d\u52a1\u6570\u636e\u6216\u5728\u670d\u52a1\u4e4b\u95f4\u5171\u4eab\u6570\u636e\uff0c\u53ef\u4ee5\u5728 YAML \u6587\u4ef6\u4e2d\u5b9a\u4e49\u548c\u914d\u7f6e\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker-compose_1","title":"\u4e8c\u3001Docker Compose \u6587\u4ef6\u7ed3\u6784","text":"<p>Docker Compose \u7684\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528 YAML \u683c\u5f0f\uff0c\u901a\u5e38\u547d\u540d\u4e3a <code>docker-compose.yml</code>\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u57fa\u672c\u7684 Docker Compose \u6587\u4ef6\u7ed3\u6784\uff1a</p> <pre><code>version: '3.8'  # \u6307\u5b9a Docker Compose \u6587\u4ef6\u7248\u672c\n\nservices:  # \u5b9a\u4e49\u5e94\u7528\u7684\u670d\u52a1\n  web:  # \u5b9a\u4e49\u4e00\u4e2a\u670d\u52a1\uff0c\u540d\u79f0\u4e3a web\n    image: nginx  # \u4f7f\u7528\u5b98\u65b9\u7684 nginx \u955c\u50cf\n    ports:  # \u6620\u5c04\u5bb9\u5668\u7684\u7aef\u53e3\u5230\u4e3b\u673a\n      - \"8080:80\"\n    volumes:  # \u5c06\u4e3b\u673a\u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\n      - ./html:/usr/share/nginx/html\n    networks:  # \u6307\u5b9a\u670d\u52a1\u4f7f\u7528\u7684\u7f51\u7edc\n      - frontend\n\n  db:  # \u5b9a\u4e49\u53e6\u4e00\u4e2a\u670d\u52a1\uff0c\u540d\u79f0\u4e3a db\n    image: mysql:5.7  # \u4f7f\u7528\u5b98\u65b9\u7684 MySQL \u955c\u50cf\n    environment:  # \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\n      MYSQL_ROOT_PASSWORD: example\n    volumes:  # \u5b9a\u4e49\u6570\u636e\u5377\n      - db-data:/var/lib/mysql\n    networks:  # \u6307\u5b9a\u670d\u52a1\u4f7f\u7528\u7684\u7f51\u7edc\n      - backend\n\nvolumes:  # \u5b9a\u4e49\u5e94\u7528\u4f7f\u7528\u7684\u6570\u636e\u5377\n  db-data:\n\nnetworks:  # \u5b9a\u4e49\u5e94\u7528\u4f7f\u7528\u7684\u7f51\u7edc\n  frontend:\n  backend:\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker-compose_2","title":"\u4e09\u3001Docker Compose \u6587\u4ef6\u8be6\u89e3","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-version","title":"1. <code>version</code>","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u6307\u5b9a Docker Compose \u6587\u4ef6\u7684\u7248\u672c\u3002\u4e0d\u540c\u7248\u672c\u652f\u6301\u7684\u529f\u80fd\u4e0d\u540c\uff0c\u76ee\u524d\u5e38\u7528\u7684\u662f <code>3.x</code> \u7cfb\u5217\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a   <code>yaml   version: '3.8'</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-services","title":"2. <code>services</code>","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u5b9a\u4e49\u5e94\u7528\u7684\u670d\u52a1\u3002\u6bcf\u4e2a\u670d\u52a1\u5bf9\u5e94\u4e00\u4e2a Docker \u5bb9\u5668\uff0c\u670d\u52a1\u53ef\u4ee5\u901a\u8fc7\u955c\u50cf\u6784\u5efa\uff0c\u4e5f\u53ef\u4ee5\u4ece Dockerfile \u6784\u5efa\u3002</p> </li> <li> <p>\u5173\u952e\u5b50\u9879\uff1a</p> </li> <li><code>image</code>\uff1a\u6307\u5b9a\u670d\u52a1\u4f7f\u7528\u7684\u955c\u50cf\u3002</li> <li><code>build</code>\uff1a\u5982\u679c\u6ca1\u6709\u955c\u50cf\uff0c\u53ef\u4ee5\u6307\u5b9a Dockerfile \u6765\u6784\u5efa\u955c\u50cf\u3002</li> <li><code>ports</code>\uff1a\u66b4\u9732\u5bb9\u5668\u7684\u7aef\u53e3\u3002</li> <li><code>volumes</code>\uff1a\u6302\u8f7d\u5377\u6216\u7ed1\u5b9a\u6302\u8f7d\u3002</li> <li><code>environment</code>\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002</li> <li> <p><code>networks</code>\uff1a\u6307\u5b9a\u670d\u52a1\u52a0\u5165\u7684\u7f51\u7edc\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a   <code>yaml   services:     web:       image: nginx       ports:         - \"8080:80\"       volumes:         - ./html:/usr/share/nginx/html       networks:         - frontend     db:       image: mysql:5.7       environment:         MYSQL_ROOT_PASSWORD: example       volumes:         - db-data:/var/lib/mysql       networks:         - backend</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-volumes","title":"3. <code>volumes</code>","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u5b9a\u4e49\u548c\u7ba1\u7406\u6570\u636e\u5377\u3002\u5377\u53ef\u4ee5\u7528\u4e8e\u6301\u4e45\u5316\u6570\u636e\u6216\u5728\u591a\u4e2a\u670d\u52a1\u4e4b\u95f4\u5171\u4eab\u6570\u636e\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a   <code>yaml   volumes:     db-data:</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4-networks","title":"4. <code>networks</code>","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u5b9a\u4e49\u548c\u7ba1\u7406\u670d\u52a1\u95f4\u7684\u7f51\u7edc\u3002\u4f60\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u81ea\u5b9a\u4e49\u7f51\u7edc\uff0c\u5e76\u5c06\u670d\u52a1\u8fde\u63a5\u5230\u8fd9\u4e9b\u7f51\u7edc\u4e2d\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a   <code>yaml   networks:     frontend:     backend:</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker-compose_3","title":"\u56db\u3001\u5e38\u7528 Docker Compose \u547d\u4ee4","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684 Docker Compose \u547d\u4ee4\uff1a</p> <ul> <li><code>docker-compose up</code>\uff1a\u542f\u52a8\u6240\u6709\u670d\u52a1\uff0c\u5e76\u5728\u524d\u53f0\u663e\u793a\u65e5\u5fd7\u3002\u5982\u679c\u4f7f\u7528 <code>-d</code> \u9009\u9879\uff0c\u670d\u52a1\u4f1a\u5728\u540e\u53f0\u8fd0\u884c\u3002</li> </ul> <p><code>bash   docker-compose up   docker-compose up -d  # \u540e\u53f0\u8fd0\u884c</code></p> <ul> <li><code>docker-compose down</code>\uff1a\u505c\u6b62\u5e76\u5220\u9664\u6240\u6709\u670d\u52a1\u5bb9\u5668\u3001\u7f51\u7edc\u548c\u6570\u636e\u5377\u3002</li> </ul> <p><code>bash   docker-compose down</code></p> <ul> <li><code>docker-compose ps</code>\uff1a\u67e5\u770b\u5f53\u524d\u8fd0\u884c\u7684\u670d\u52a1\u5bb9\u5668\u72b6\u6001\u3002</li> </ul> <p><code>bash   docker-compose ps</code></p> <ul> <li><code>docker-compose logs</code>\uff1a\u67e5\u770b\u670d\u52a1\u7684\u65e5\u5fd7\u8f93\u51fa\u3002</li> </ul> <p><code>bash   docker-compose logs   docker-compose logs -f  # \u5b9e\u65f6\u67e5\u770b\u65e5\u5fd7</code></p> <ul> <li><code>docker-compose exec</code>\uff1a\u5728\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u670d\u52a1\u5bb9\u5668\u5185\u6267\u884c\u547d\u4ee4\u3002</li> </ul> <p><code>bash   docker-compose exec web bash  # \u5728 web \u670d\u52a1\u7684\u5bb9\u5668\u4e2d\u6253\u5f00 Bash \u7ec8\u7aef</code></p> <ul> <li><code>docker-compose build</code>\uff1a\u6784\u5efa\u6216\u91cd\u65b0\u6784\u5efa\u670d\u52a1\u955c\u50cf\u3002</li> </ul> <p><code>bash   docker-compose build</code></p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#docker-compose_4","title":"\u4e94\u3001Docker Compose \u7684\u9ad8\u7ea7\u7279\u6027","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-override-files","title":"1. \u591a\u73af\u5883\u652f\u6301\uff08Override Files\uff09","text":"<ul> <li> <p>\u63cf\u8ff0\uff1aDocker Compose \u652f\u6301\u4f7f\u7528\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u4fbf\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e2d\u4f7f\u7528\u4e0d\u540c\u7684\u914d\u7f6e\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a <code>docker-compose.override.yml</code> \u6587\u4ef6\uff0c\u7528\u4e8e\u8986\u76d6\u6216\u6269\u5c55 <code>docker-compose.yml</code> \u4e2d\u7684\u914d\u7f6e\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a   <code>yaml   # docker-compose.override.yml   version: '3.8'   services:     web:       environment:         - DEBUG=true</code></p> </li> <li> <p>\u547d\u4ee4\uff1a   <code>bash   docker-compose -f docker-compose.yml -f docker-compose.override.yml up</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-env","title":"2. \u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff08<code>.env</code>\uff09","text":"<ul> <li> <p>\u63cf\u8ff0\uff1a\u53ef\u4ee5\u4f7f\u7528 <code>.env</code> \u6587\u4ef6\u6765\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff0cDocker Compose \u4f1a\u81ea\u52a8\u52a0\u8f7d\u8be5\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a   <code>bash   # .env \u6587\u4ef6   MYSQL_ROOT_PASSWORD=examplepassword</code></p> </li> </ul> <p>\u5728 <code>docker-compose.yml</code> \u4e2d\u4f7f\u7528\uff1a   <code>yaml   services:     db:       image: mysql:5.7       environment:         MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}</code></p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-swarm","title":"3. \u90e8\u7f72\u6a21\u5f0f\uff08Swarm \u6a21\u5f0f\uff09","text":"<ul> <li> <p>\u63cf\u8ff0\uff1aDocker Compose \u8fd8\u53ef\u4ee5\u7528\u4e8e Docker Swarm \u96c6\u7fa4\u7684\u90e8\u7f72\uff0c\u5229\u7528 <code>docker stack deploy</code> \u547d\u4ee4\u53ef\u4ee5\u5c06 Compose \u6587\u4ef6\u4f5c\u4e3a Swarm \u96c6\u7fa4\u7684\u670d\u52a1\u5b9a\u4e49\u3002</p> </li> <li> <p>\u547d\u4ee4\uff1a   <code>bash   docker stack deploy -c docker-compose.yml my_stack</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_3","title":"\u516d\u3001\u603b\u7ed3","text":"<p>Docker Compose \u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u4f46\u5f3a\u5927\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u548c\u7ba1\u7406\u591a\u5bb9\u5668\u5e94\u7528\u7684\u8fd0\u884c\u73af\u5883\u3002\u901a\u8fc7\u4e00\u4e2a YAML \u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5730\u5b9a\u4e49\u5e94\u7528\u7684\u5404\u4e2a\u670d\u52a1\u3001\u7f51\u7edc\u3001\u5377\u7b49\u914d\u7f6e\uff0c\u5e76\u901a\u8fc7\u7b80\u5355\u7684\u547d\u4ee4\u6765\u542f\u52a8\u3001\u505c\u6b62\u548c\u7ba1\u7406\u8fd9\u4e9b\u670d\u52a1\u3002\u8fd9\u4f7f\u5f97 Docker Compose \u6210\u4e3a\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u90e8\u7f72\u73af\u5883\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u5de5\u5177\u3002 </p> <p>\u638c\u63e1 Docker Compose \u7684\u57fa\u672c\u6982\u5ff5\u548c\u547d\u4ee4\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u5f00\u53d1\u548c\u8fd0\u7ef4\u7684\u6548\u7387\uff0c\u5c24\u5176\u662f\u5728\u7ba1\u7406\u590d\u6742\u7684\u591a\u5bb9\u5668\u5e94\u7528\u65f6\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#7-docker","title":"7. Docker\u547d\u4ee4\u5927\u5168","text":"<p>Docker \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5bb9\u5668\u7ba1\u7406\u5de5\u5177\uff0c\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u547d\u4ee4\u7528\u4e8e\u6784\u5efa\u3001\u8fd0\u884c\u3001\u7ba1\u7406\u548c\u76d1\u63a7\u5bb9\u5668\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684 Docker \u547d\u4ee4\u53ca\u5176\u8be6\u7ec6\u89e3\u91ca\uff1a</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_4","title":"\u4e00\u3001\u955c\u50cf\u7ba1\u7406\u547d\u4ee4","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-docker-pull","title":"1. <code>docker pull</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u4ece Docker \u4ed3\u5e93\u4e2d\u62c9\u53d6\u955c\u50cf\u5230\u672c\u5730\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker pull [OPTIONS] NAME[:TAG|@DIGEST]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker pull nginx:latest  # \u62c9\u53d6\u6700\u65b0\u7248\u672c\u7684 nginx \u955c\u50cf</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-docker-images","title":"2. <code>docker images</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5217\u51fa\u672c\u5730\u6240\u6709\u7684 Docker \u955c\u50cf\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker images [OPTIONS] [REPOSITORY[:TAG]]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker images  # \u67e5\u770b\u6240\u6709\u672c\u5730\u955c\u50cf</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-docker-rmi","title":"3. <code>docker rmi</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u672c\u5730\u955c\u50cf\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker rmi [OPTIONS] IMAGE [IMAGE...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker rmi nginx:latest  # \u5220\u9664\u6307\u5b9a\u7684 nginx \u955c\u50cf</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4-docker-build","title":"4. <code>docker build</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u901a\u8fc7 Dockerfile \u6784\u5efa\u955c\u50cf\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker build [OPTIONS] PATH | URL | -</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker build -t myapp:latest .  # \u4f7f\u7528\u5f53\u524d\u76ee\u5f55\u7684 Dockerfile \u6784\u5efa\u955c\u50cf\uff0c\u5e76\u547d\u540d\u4e3a myapp:latest</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_5","title":"\u4e8c\u3001\u5bb9\u5668\u7ba1\u7406\u547d\u4ee4","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-docker-run","title":"1. <code>docker run</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u521b\u5efa\u5e76\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u5bb9\u5668\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker run -d -p 80:80 nginx  # \u540e\u53f0\u8fd0\u884c\u4e00\u4e2a nginx \u5bb9\u5668\uff0c\u5e76\u5c06\u4e3b\u673a\u7684 80 \u7aef\u53e3\u6620\u5c04\u5230\u5bb9\u5668\u7684 80 \u7aef\u53e3</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-docker-ps","title":"2. <code>docker ps</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5217\u51fa\u5f53\u524d\u8fd0\u884c\u7684\u5bb9\u5668\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker ps [OPTIONS]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker ps  # \u5217\u51fa\u6240\u6709\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668   docker ps -a  # \u5217\u51fa\u6240\u6709\u5bb9\u5668\uff0c\u5305\u62ec\u5df2\u505c\u6b62\u7684</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-docker-stop","title":"3. <code>docker stop</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u505c\u6b62\u4e00\u4e2a\u6216\u591a\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker stop [OPTIONS] CONTAINER [CONTAINER...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker stop my-container  # \u505c\u6b62\u540d\u4e3a my-container \u7684\u5bb9\u5668</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4-docker-start","title":"4. <code>docker start</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u542f\u52a8\u4e00\u4e2a\u6216\u591a\u4e2a\u5df2\u505c\u6b62\u7684\u5bb9\u5668\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker start [OPTIONS] CONTAINER [CONTAINER...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker start my-container  # \u542f\u52a8\u540d\u4e3a my-container \u7684\u5bb9\u5668</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#5-docker-restart","title":"5. <code>docker restart</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u91cd\u542f\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker restart [OPTIONS] CONTAINER [CONTAINER...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker restart my-container  # \u91cd\u542f\u540d\u4e3a my-container \u7684\u5bb9\u5668</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#6-docker-rm","title":"6. <code>docker rm</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u5df2\u505c\u6b62\u7684\u5bb9\u5668\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker rm [OPTIONS] CONTAINER [CONTAINER...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker rm my-container  # \u5220\u9664\u540d\u4e3a my-container \u7684\u5bb9\u5668   docker rm $(docker ps -a -q)  # \u5220\u9664\u6240\u6709\u5df2\u505c\u6b62\u7684\u5bb9\u5668</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#7-docker-exec","title":"7. <code>docker exec</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5728\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\u5185\u6267\u884c\u547d\u4ee4\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker exec [OPTIONS] CONTAINER COMMAND [ARG...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker exec -it my-container /bin/bash  # \u8fdb\u5165\u540d\u4e3a my-container \u7684\u5bb9\u5668\u5e76\u6253\u5f00 Bash \u7ec8\u7aef</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_6","title":"\u4e09\u3001\u7f51\u7edc\u7ba1\u7406\u547d\u4ee4","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-docker-network-ls","title":"1. <code>docker network ls</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5217\u51fa\u6240\u6709\u7684 Docker \u7f51\u7edc\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker network ls</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker network ls  # \u5217\u51fa\u6240\u6709\u7f51\u7edc</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-docker-network-create","title":"2. <code>docker network create</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u7f51\u7edc\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker network create [OPTIONS] NETWORK</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker network create my-network  # \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a my-network \u7684\u7f51\u7edc</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-docker-network-inspect","title":"3. <code>docker network inspect</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u67e5\u770b\u4e00\u4e2a\u6216\u591a\u4e2a Docker \u7f51\u7edc\u7684\u8be6\u7ec6\u4fe1\u606f\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker network inspect [OPTIONS] NETWORK [NETWORK...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker network inspect my-network  # \u67e5\u770b my-network \u7684\u8be6\u7ec6\u4fe1\u606f</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4-docker-network-connect","title":"4. <code>docker network connect</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5c06\u4e00\u4e2a\u5bb9\u5668\u8fde\u63a5\u5230\u4e00\u4e2a\u7f51\u7edc\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker network connect [OPTIONS] NETWORK CONTAINER</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker network connect my-network my-container  # \u5c06 my-container \u5bb9\u5668\u8fde\u63a5\u5230 my-network \u7f51\u7edc</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#5-docker-network-disconnect","title":"5. <code>docker network disconnect</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5c06\u4e00\u4e2a\u5bb9\u5668\u4ece\u4e00\u4e2a\u7f51\u7edc\u4e2d\u65ad\u5f00\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker network disconnect [OPTIONS] NETWORK CONTAINER</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker network disconnect my-network my-container  # \u5c06 my-container \u5bb9\u5668\u4ece my-network \u7f51\u7edc\u4e2d\u65ad\u5f00</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_7","title":"\u56db\u3001\u5377\u7ba1\u7406\u547d\u4ee4","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-docker-volume-ls","title":"1. <code>docker volume ls</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5217\u51fa\u6240\u6709\u7684 Docker \u5377\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker volume ls</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker volume ls  # \u5217\u51fa\u6240\u6709\u5377</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-docker-volume-create","title":"2. <code>docker volume create</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u5377\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker volume create [OPTIONS] VOLUME</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker volume create my-volume  # \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a my-volume \u7684\u5377</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-docker-volume-inspect","title":"3. <code>docker volume inspect</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u67e5\u770b\u4e00\u4e2a\u6216\u591a\u4e2a Docker \u5377\u7684\u8be6\u7ec6\u4fe1\u606f\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker volume inspect [OPTIONS] VOLUME [VOLUME...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker volume inspect my-volume  # \u67e5\u770b my-volume \u7684\u8be6\u7ec6\u4fe1\u606f</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4-docker-volume-rm","title":"4. <code>docker volume rm</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a Docker \u5377\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker volume rm [OPTIONS] VOLUME [VOLUME...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker volume rm my-volume  # \u5220\u9664\u540d\u4e3a my-volume \u7684\u5377</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_8","title":"\u4e94\u3001\u5bb9\u5668\u76d1\u63a7\u548c\u7ba1\u7406\u547d\u4ee4","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-docker-logs","title":"1. <code>docker logs</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u67e5\u770b\u5bb9\u5668\u7684\u65e5\u5fd7\u8f93\u51fa\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker logs [OPTIONS] CONTAINER</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker logs my-container  # \u67e5\u770b\u540d\u4e3a my-container \u7684\u5bb9\u5668\u65e5\u5fd7   docker logs -f my-container  # \u5b9e\u65f6\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-docker-stats","title":"2. <code>docker stats</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5b9e\u65f6\u67e5\u770b\u5bb9\u5668\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker stats [OPTIONS] [CONTAINER...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker stats  # \u5b9e\u65f6\u67e5\u770b\u6240\u6709\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-docker-top","title":"3. <code>docker top</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u67e5\u770b\u5bb9\u5668\u4e2d\u8fd0\u884c\u7684\u8fdb\u7a0b\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker top CONTAINER [ps OPTIONS]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker top my-container  # \u67e5\u770b my-container \u5bb9\u5668\u4e2d\u8fd0\u884c\u7684\u8fdb\u7a0b</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4-docker-inspect","title":"4. <code>docker inspect</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u67e5\u770b Docker \u5bf9\u8c61\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5982\u5bb9\u5668\u3001\u955c\u50cf\u3001\u7f51\u7edc\u7b49\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker inspect [OPTIONS] NAME|ID [NAME|ID...]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker inspect my-container  # \u67e5\u770b my-container \u5bb9\u5668\u7684\u8be6\u7ec6\u4fe1\u606f</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_9","title":"\u516d\u3001\u5176\u4ed6\u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#1-docker-login","title":"1. <code>docker login</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u767b\u5f55\u5230 Docker \u4ed3\u5e93\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker login [OPTIONS] [SERVER]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker login  # \u767b\u5f55\u5230 Docker Hub</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#2-docker-tag","title":"2. <code>docker tag</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u4e3a\u955c\u50cf\u6253\u6807\u7b7e\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker tag my-image:latest my-repo/my-image:v1.0  # \u4e3a my-image \u955c\u50cf\u6253\u6807\u7b7e</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#3-docker-push","title":"3. <code>docker push</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u63a8\u9001\u955c\u50cf\u5230 Docker \u4ed3\u5e93</li> </ul> <p>\u3002 - \u8bed\u6cd5\uff1a<code>docker push [OPTIONS] NAME[:TAG]</code> - \u793a\u4f8b\uff1a   <code>bash   docker push my-repo/my-image:v1.0  # \u63a8\u9001 my-image \u955c\u50cf\u5230 Docker \u4ed3\u5e93</code></p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#4-docker-system-prune","title":"4. <code>docker system prune</code>","text":"<ul> <li>\u63cf\u8ff0\uff1a\u6e05\u7406\u672a\u4f7f\u7528\u7684\u5bb9\u5668\u3001\u955c\u50cf\u3001\u7f51\u7edc\u548c\u5377\u3002</li> <li>\u8bed\u6cd5\uff1a<code>docker system prune [OPTIONS]</code></li> <li>\u793a\u4f8b\uff1a   <code>bash   docker system prune -a  # \u5220\u9664\u6240\u6709\u672a\u4f7f\u7528\u7684\u5bb9\u5668\u3001\u955c\u50cf\u3001\u7f51\u7edc\u548c\u5377</code></li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/basic/#_10","title":"\u603b\u7ed3","text":"<p>\u8fd9\u4e9b\u547d\u4ee4\u6db5\u76d6\u4e86 Docker \u7684\u57fa\u672c\u64cd\u4f5c\uff0c\u5305\u62ec\u955c\u50cf\u7ba1\u7406\u3001\u5bb9\u5668\u7ba1\u7406\u3001\u7f51\u7edc\u7ba1\u7406\u3001\u5377\u7ba1\u7406\u4ee5\u53ca\u5bb9\u5668\u7684\u76d1\u63a7\u4e0e\u7ba1\u7406\u3002\u638c\u63e1\u8fd9\u4e9b\u547d\u4ee4\u53ef\u4ee5\u5e2e\u52a9\u4f60\u6709\u6548\u5730\u4f7f\u7528 Docker \u6765\u6784\u5efa\u3001\u8fd0\u884c\u548c\u7ba1\u7406\u5bb9\u5668\u5316\u5e94\u7528\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/docker/interview/","title":"Docker \u9762\u8bd5","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/","title":"kubernetes \u6559\u7a0b","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#1-kubernetes","title":"1. Kubernetes \u57fa\u7840\u6982\u5ff5","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#11-kubernetes","title":"1.1 \u4ec0\u4e48\u662f Kubernetes\uff1f","text":"<p>Kubernetes\uff08\u7b80\u79f0 K8s\uff09\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5bb9\u5668\u7f16\u6392\u5e73\u53f0\uff0c\u7528\u4e8e\u81ea\u52a8\u5316\u90e8\u7f72\u3001\u6269\u5c55\u548c\u7ba1\u7406\u5bb9\u5668\u5316\u5e94\u7528\u7a0b\u5e8f\u3002\u5b83\u7531 Google \u5f00\u53d1\uff0c\u540e\u6765\u6210\u4e3a CNCF\uff08Cloud Native Computing Foundation\uff09\u7684\u4e00\u90e8\u5206\u3002Kubernetes \u65e8\u5728\u7b80\u5316\u5bb9\u5668\u7684\u7ba1\u7406\uff0c\u4f7f\u5f97\u90e8\u7f72\u548c\u7ba1\u7406\u5927\u89c4\u6a21\u5bb9\u5668\u5316\u5e94\u7528\u53d8\u5f97\u66f4\u52a0\u9ad8\u6548\u548c\u53ef\u9760\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#12-kubernetes","title":"1.2 Kubernetes \u67b6\u6784","text":"<p>Kubernetes \u7684\u67b6\u6784\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1a\u63a7\u5236\u5e73\u9762 \u548c \u8282\u70b9\u3002</p> <ul> <li>\u63a7\u5236\u5e73\u9762\uff08Control Plane\uff09\uff1a\u8d1f\u8d23\u7ba1\u7406\u6574\u4e2a Kubernetes \u96c6\u7fa4\uff0c\u8c03\u5ea6 Pods \u548c\u7ba1\u7406\u96c6\u7fa4\u72b6\u6001\u3002\u63a7\u5236\u5e73\u9762\u901a\u5e38\u7531\u4ee5\u4e0b\u7ec4\u4ef6\u7ec4\u6210\uff1a</li> <li>API Server\uff1aKubernetes \u7684 API \u5165\u53e3\u70b9\uff0c\u6240\u6709\u5bf9\u96c6\u7fa4\u7684\u64cd\u4f5c\u90fd\u662f\u901a\u8fc7 API Server \u8fdb\u884c\u7684\u3002</li> <li>Controller Manager\uff1a\u76d1\u63a7\u96c6\u7fa4\u7684\u72b6\u6001\uff0c\u5e76\u8d1f\u8d23\u5904\u7406\u63a7\u5236\u5faa\u73af\uff0c\u5982\u786e\u4fdd Pods \u6570\u91cf\u7b26\u5408\u9884\u671f\u3002</li> <li>Scheduler\uff1a\u8d1f\u8d23\u5c06 Pods \u8c03\u5ea6\u5230\u5408\u9002\u7684\u8282\u70b9\u4e0a\u3002</li> <li> <p>etcd\uff1a\u5206\u5e03\u5f0f\u952e\u503c\u5b58\u50a8\uff0c\u7528\u4e8e\u4fdd\u5b58\u96c6\u7fa4\u72b6\u6001\u548c\u914d\u7f6e\u6570\u636e\u3002</p> </li> <li> <p>\u8282\u70b9\uff08Nodes\uff09\uff1a\u96c6\u7fa4\u4e2d\u7684\u5de5\u4f5c\u673a\u5668\uff0c\u6bcf\u4e2a\u8282\u70b9\u8fd0\u884c\u4e00\u4e2a\u6216\u591a\u4e2a Pods\u3002\u8282\u70b9\u4e3b\u8981\u5305\u62ec\uff1a</p> </li> <li>Kubelet\uff1a\u7ba1\u7406\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\uff0c\u786e\u4fdd\u5bb9\u5668\u6309\u9884\u671f\u8fd0\u884c\u3002</li> <li>Kube Proxy\uff1a\u7ef4\u62a4\u7f51\u7edc\u89c4\u5219\uff0c\u786e\u4fdd\u670d\u52a1\u7684\u7f51\u7edc\u901a\u4fe1\u3002</li> <li>Container Runtime\uff1a\u8fd0\u884c\u5bb9\u5668\u7684\u5de5\u5177\uff0c\u5982 Docker\u3001containerd \u7b49\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#13","title":"1.3 \u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>Pod\uff1aKubernetes \u4e2d\u7684\u57fa\u672c\u8fd0\u884c\u5355\u5143\uff0c\u4e00\u4e2a Pod \u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\uff0c\u5b83\u4eec\u5171\u4eab\u7f51\u7edc\u3001\u5b58\u50a8\u7b49\u8d44\u6e90\u3002</li> <li>Service\uff1a\u5b9a\u4e49\u8bbf\u95ee Pods \u7684\u65b9\u6cd5\uff0c\u63d0\u4f9b\u8d1f\u8f7d\u5747\u8861\u548c\u670d\u52a1\u53d1\u73b0\u529f\u80fd\u3002</li> <li>Deployment\uff1a\u7ba1\u7406 Pods \u548c ReplicaSets\uff0c\u5b9e\u73b0\u5e94\u7528\u7684\u90e8\u7f72\u548c\u6eda\u52a8\u66f4\u65b0\u3002</li> <li>ReplicaSet\uff1a\u786e\u4fdd\u6307\u5b9a\u6570\u91cf\u7684 Pods \u526f\u672c\u5728\u96c6\u7fa4\u4e2d\u8fd0\u884c\u3002</li> <li>Namespace\uff1a\u7528\u4e8e\u7ec4\u7ec7\u548c\u9694\u79bb\u96c6\u7fa4\u8d44\u6e90\uff0c\u652f\u6301\u591a\u79df\u6237\u73af\u5883\u3002</li> <li>ConfigMap\uff1a\u7ba1\u7406\u975e\u654f\u611f\u914d\u7f6e\u6570\u636e\u3002</li> <li>Secret\uff1a\u7ba1\u7406\u654f\u611f\u6570\u636e\uff0c\u5982\u5bc6\u7801\u548c\u5bc6\u94a5\u3002</li> <li>Volume\uff1a\u7528\u4e8e\u6301\u4e45\u5316\u6570\u636e\u5b58\u50a8\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#2-kubernetes","title":"2. Kubernetes \u6838\u5fc3\u5bf9\u8c61","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#21-pod","title":"2.1 Pod","text":"<p>Pod \u662f Kubernetes \u4e2d\u6700\u5c0f\u7684\u8c03\u5ea6\u5355\u5143\uff0c\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u3002\u8fd9\u4e9b\u5bb9\u5668\u5171\u4eab\u7f51\u7edc\u3001\u5b58\u50a8\u7b49\u8d44\u6e90\uff0c\u901a\u5e38\u4e00\u8d77\u90e8\u7f72\u548c\u7ba1\u7406\u3002</p> <p>Pod \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\n  labels:\n    app: my-app\nspec:\n  containers:\n  - name: my-container\n    image: nginx:latest\n    ports:\n    - containerPort: 80\n  restartPolicy: Always\n</code></pre> <ul> <li>metadata\uff1aPod \u7684\u5143\u6570\u636e\uff0c\u5305\u62ec\u540d\u79f0\u548c\u6807\u7b7e\u3002</li> <li>spec\uff1aPod \u7684\u89c4\u8303\uff0c\u5305\u62ec\u5bb9\u5668\u914d\u7f6e\u548c\u91cd\u542f\u7b56\u7565\u3002</li> <li>containers\uff1aPod \u4e2d\u7684\u5bb9\u5668\u5217\u8868\uff0c\u6bcf\u4e2a\u5bb9\u5668\u5305\u62ec\u540d\u79f0\u3001\u955c\u50cf\u3001\u66b4\u9732\u7684\u7aef\u53e3\u7b49\u4fe1\u606f\u3002</li> </ul> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f pod.yaml\nkubectl get pods\nkubectl describe pod my-pod\nkubectl delete pod my-pod\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#22-service","title":"2.2 Service","text":"<p>Service \u63d0\u4f9b\u7a33\u5b9a\u7684\u8bbf\u95ee\u70b9\u6765\u8bbf\u95ee\u4e00\u7ec4 Pods\uff0c\u652f\u6301\u8d1f\u8f7d\u5747\u8861\u548c\u670d\u52a1\u53d1\u73b0\u3002</p> <p>Service \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\nspec:\n  type: ClusterIP\n  selector:\n    app: my-app\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 80\n</code></pre> <ul> <li>type\uff1a\u6307\u5b9a Service \u7684\u7c7b\u578b\uff08ClusterIP\u3001NodePort\u3001LoadBalancer\u3001ExternalName\uff09\u3002</li> <li>selector\uff1a\u9009\u62e9\u4e0e Service \u5339\u914d\u7684 Pods\u3002</li> <li>ports\uff1a\u6307\u5b9a Service \u7684\u7aef\u53e3\u548c\u76ee\u6807\u7aef\u53e3\u3002</li> </ul> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f service.yaml\nkubectl get services\nkubectl describe service my-service\nkubectl delete service my-service\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#23-deployment","title":"2.3 Deployment","text":"<p>Deployment \u7528\u4e8e\u58f0\u660e\u5f0f\u5730\u7ba1\u7406 Pods \u548c ReplicaSets\uff0c\u5b9e\u73b0\u5e94\u7528\u7684\u90e8\u7f72\u548c\u66f4\u65b0\u3002</p> <p>Deployment \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: my-deployment\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n      - name: my-container\n        image: nginx:latest\n        ports:\n        - containerPort: 80\n</code></pre> <ul> <li>replicas\uff1a\u6307\u5b9a Pod \u526f\u672c\u7684\u6570\u91cf\u3002</li> <li>selector\uff1a\u9009\u62e9\u4e0e Deployment \u5339\u914d\u7684 Pods\u3002</li> <li>template\uff1aPod \u6a21\u677f\uff0c\u5305\u62ec Pod \u7684\u89c4\u8303\u3002</li> </ul> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f deployment.yaml\nkubectl get deployments\nkubectl describe deployment my-deployment\nkubectl rollout status deployment/my-deployment\nkubectl set image deployment/my-deployment my-container=nginx:latest\nkubectl rollout undo deployment/my-deployment\nkubectl delete deployment my-deployment\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#24-replicaset","title":"2.4 ReplicaSet","text":"<p>ReplicaSet \u786e\u4fdd\u6307\u5b9a\u6570\u91cf\u7684 Pod \u526f\u672c\u5728\u96c6\u7fa4\u4e2d\u8fd0\u884c\u3002\u901a\u5e38\u4e0d\u76f4\u63a5\u521b\u5efa ReplicaSet\uff0c\u800c\u662f\u901a\u8fc7 Deployment \u7ba1\u7406\u3002</p> <p>ReplicaSet \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: ReplicaSet\nmetadata:\n  name: my-replicaset\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n      - name: my-container\n        image: nginx:latest\n        ports:\n        - containerPort: 80\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f replicaset.yaml\nkubectl get replicasets\nkubectl describe replicaset my-replicaset\nkubectl delete replicaset my-replicaset\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#25-namespace","title":"2.5 Namespace","text":"<p>Namespace \u7528\u4e8e\u5c06\u96c6\u7fa4\u4e2d\u7684\u8d44\u6e90\u5206\u9694\u5230\u903b\u8f91\u4e0a\u4e0d\u540c\u7684\u533a\u57df\u4e2d\u3002</p> <p>Namespace \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: Namespace\nmetadata:\n  name: my-namespace\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f namespace.yaml\nkubectl get namespaces\nkubectl describe namespace my-namespace\nkubectl delete namespace my-namespace\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#26-configmap-secret","title":"2.6 ConfigMap \u548c Secret","text":"<p>ConfigMap \u548c Secret \u7528\u4e8e\u7ba1\u7406\u914d\u7f6e\u6570\u636e\u548c\u654f\u611f\u6570\u636e\u3002</p> <p>ConfigMap \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: my-config\ndata:\n  key1: value1\n  key2: value2\n</code></pre> <p>Secret \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: my-secret\ntype: Opaque\ndata:\n  password: cGFzc3dvcmQ=  # base64 \u7f16\u7801\u7684\u5bc6\u7801\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f configmap.yaml\nkubectl apply -f secret.yaml\nkubectl get configmaps\nkubectl get secrets\nkubectl describe configmap my-config\nkubectl describe secret my-secret\nkubectl delete configmap my-config\nkubectl delete secret my-secret\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#27-volume","title":"2.7 Volume","text":"<p>Volume \u7528\u4e8e\u5b58\u50a8\u6570\u636e\u5e76\u5728 Pod \u4e4b\u95f4\u5171\u4eab\u6570\u636e\u3002</p> <p>PersistentVolume \u548c PersistentVolumeClaim \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <p>PersistentVolume\uff1a</p> <pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: my-pv\nspec:\n  capacity:\n    storage: 10Gi\n  accessModes:\n    - ReadWriteOnce\n  hostPath:\n    path: /mnt/data\n</code></pre> <p>PersistentVolumeClaim\uff1a</p> <pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: my-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n</code></pre> <p>\u5728 Pod \u4e2d\u4f7f\u7528 PVC\uff1a</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\nspec:\n  containers:\n  - name: my-container\n    image: nginx:latest\n    volumeMounts:\n    - mountPath: /usr/share/nginx/html\n      name: my-storage\n  volumes:\n  - name: my-storage\n    persistentVolumeClaim:\n      claimName: my-pvc\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f pv.yaml\nkubectl apply -f pvc.yaml\nkubectl apply -f pod.yaml\nkubectl get persistentvolumes\nkubectl get persistentvolumeclaims\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#3","title":"3. \u9ad8\u7ea7\u914d\u7f6e","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#31","title":"3.1 \u7f51\u7edc\u914d\u7f6e","text":"<p>NetworkPolicy \u7528\u4e8e\u63a7\u5236 Pods \u4e4b\u95f4\u7684\u7f51\u7edc\u901a\u4fe1\u3002</p> <p>NetworkPolicy \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: my-network-policy\nspec:\n  podSelector:\n    matchLabels:\n      app: my-app\n  ingress:\n  - from:\n    - namespaceSelector:\n        matchLabels:\n          name: my-namespace\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f networkpolicy.yaml\nkubectl get networkpolicies\nkubectl describe networkpolicy my-network-policy\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#32-ingress","title":"3.2 Ingress","text":"<p>Ingress \u63d0\u4f9b HTTP \u548c HTTPS \u8bbf\u95ee\u5230\u96c6\u7fa4\u5185\u90e8\u7684\u670d\u52a1\uff0c\u5e76\u652f\u6301 URL \u8def\u5f84\u548c\u4e3b\u673a\u540d\u7684\u8def\u7531\u3002</p> <p>Ingress \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: my-ingress\nspec:\n  rules:\n  - host: my-app.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: my-service\n            port:\n              number: 80\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f ingress.yaml\nkubectl get ingress\nkubectl describe ingress my-ingress\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#33-horizontal-pod-autoscaler","title":"3.3 Horizontal Pod Autoscaler","text":"<p>Horizontal Pod Autoscaler \u6839\u636e CPU \u4f7f\u7528\u7387\u6216\u5176\u4ed6\u6307\u6807\u81ea\u52a8\u6269\u5c55 Pods\u3002</p> <p>Horizontal Pod Autoscaler \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: autoscaling/v1\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: my-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: my-deployment\n  minReplicas: 1\n  maxReplicas: 10\n  targetCPUUtilizationPercentage: 80\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f hpa.yaml\nkubectl get hpa\nkubectl describe hpa my-hpa\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#34-cluster-autoscaler","title":"3.4 Cluster Autoscaler","text":"<p>Cluster Autoscaler \u81ea\u52a8\u8c03\u6574\u96c6\u7fa4\u4e2d\u8282\u70b9\u7684\u6570\u91cf\u4ee5\u9002\u5e94\u8d1f\u8f7d\u9700\u6c42\u3002</p> <p>\u90e8\u7f72 Cluster Autoscaler \u7684\u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: cluster-autoscaler\n  namespace: kube-system\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: cluster-autoscaler\n  template:\n    metadata:\n      labels:\n        app: cluster-autoscaler\n    spec:\n      containers:\n      - name: cluster-autoscaler\n        image: k8s.gcr.io/cluster-autoscaler:v1.21.0\n        command:\n        - ./cluster-autoscaler\n        - --v=4\n        - --cloud-provider=aws\n        - --cluster-name=my-cluster\n        - --namespace=kube-system\n</code></pre> <p>\u64cd\u4f5c\u547d\u4ee4\uff1a</p> <pre><code>kubectl apply -f cluster-autoscaler.yaml\nkubectl get deployments -n kube-system\nkubectl describe deployment cluster-autoscaler -n kube-system\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#35","title":"3.5 \u76d1\u63a7\u548c\u65e5\u5fd7","text":"<ul> <li>Prometheus \u548c Grafana \u7528\u4e8e\u96c6\u7fa4\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u76d1\u63a7\u548c\u53ef\u89c6\u5316\u3002</li> </ul> <p>\u90e8\u7f72 Prometheus\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: prometheus\n  namespace: monitoring\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: prometheus\n  template:\n    metadata:\n      labels:\n        app: prometheus\n    spec:\n      containers:\n      - name: prometheus\n        image: prom/prometheus:latest\n        args:\n        - \"--config.file=/etc/prometheus/prometheus.yml\"\n        volumeMounts:\n        - name: config-volume\n          mountPath: /etc/prometheus\n      volumes:\n      - name: config-volume\n        configMap:\n          name: prometheus-config\n</code></pre> <p>\u90e8\u7f72 Grafana\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: monitoring\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      containers:\n      - name: grafana\n        image: grafana/grafana:latest\n        ports:\n        - containerPort: 3000\n</code></pre> <p>\u90e8\u7f72 ELK Stack\uff08Elasticsearch, Logstash, Kibana\uff09\u7528\u4e8e\u65e5\u5fd7\u7ba1\u7406\u548c\u5206\u6790\u3002</p> <p>\u90e8\u7f72 Elasticsearch\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: elasticsearch\n  namespace: logging\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: elasticsearch\n  template:\n    metadata:\n      labels:\n        app: elasticsearch\n    spec:\n      containers:\n      - name: elasticsearch\n        image: docker.elastic.co/elasticsearch/elasticsearch:7.10.1\n        env:\n        - name: discovery.type\n          value: single-node\n        ports:\n        - containerPort: 9200\n</code></pre> <p>\u597d\u7684\uff0c\u6211\u4eec\u7ee7\u7eed\u6df1\u5165\u63a2\u8ba8 Kubernetes \u7684\u66f4\u591a\u9ad8\u7ea7\u4e3b\u9898\uff0c\u5305\u62ec\u96c6\u7fa4\u7ba1\u7406\u3001\u8c03\u5ea6\u7b56\u7565\u3001\u7f51\u7edc\u63d2\u4ef6\u4ee5\u53ca\u4e00\u4e9b\u5b9e\u9645\u64cd\u4f5c\u793a\u4f8b\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#4-kubernetes","title":"4. Kubernetes \u9ad8\u7ea7\u4e3b\u9898","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#41-kubernetes","title":"4.1 Kubernetes \u8c03\u5ea6\u7b56\u7565","text":"<p>Kubernetes \u63d0\u4f9b\u4e86\u591a\u79cd\u8c03\u5ea6\u7b56\u7565\u6765\u7ba1\u7406 Pod \u7684\u8c03\u5ea6\u548c\u5206\u914d\u3002\u7406\u89e3\u8fd9\u4e9b\u7b56\u7565\u53ef\u4ee5\u5e2e\u52a9\u4f60\u4f18\u5316\u96c6\u7fa4\u7684\u8d44\u6e90\u5229\u7528\u548c\u6027\u80fd\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#411-pod","title":"4.1.1 Pod \u7684\u8c03\u5ea6","text":"<p>\u8c03\u5ea6\u662f Kubernetes \u5c06 Pod \u5206\u914d\u5230\u96c6\u7fa4\u4e2d\u9002\u5f53\u8282\u70b9\u4e0a\u7684\u8fc7\u7a0b\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cKubernetes \u4f1a\u9009\u62e9\u8d44\u6e90\u8db3\u591f\u4e14\u8d1f\u8f7d\u6700\u5c11\u7684\u8282\u70b9\u6765\u8fd0\u884c Pod\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u5f71\u54cd\u8c03\u5ea6\u7b56\u7565\uff1a</p> <ul> <li>\u8282\u70b9\u9009\u62e9\u5668\uff08Node Selector\uff09\uff1a\u901a\u8fc7\u6807\u7b7e\u9009\u62e9\u7279\u5b9a\u7684\u8282\u70b9\u6765\u8fd0\u884c Pod\u3002</li> <li>\u8282\u70b9\u4eb2\u548c\u6027\uff08Node Affinity\uff09\uff1a\u901a\u8fc7\u66f4\u590d\u6742\u7684\u89c4\u5219\u6307\u5b9a Pod \u5e94\u8be5\u6216\u5fc5\u987b\u8c03\u5ea6\u5230\u7684\u8282\u70b9\u3002</li> <li>Pod \u4eb2\u548c\u6027\u4e0e\u53cd\u4eb2\u548c\u6027\uff08Pod Affinity &amp; Anti-Affinity\uff09\uff1a\u63a7\u5236 Pod \u4e0e\u5176\u4ed6 Pods \u7684\u8c03\u5ea6\u5173\u7cfb\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#412","title":"4.1.2 \u8282\u70b9\u9009\u62e9\u5668","text":"<p>\u8282\u70b9\u9009\u62e9\u5668\u662f\u4e00\u79cd\u7b80\u5355\u7684\u8c03\u5ea6\u7b56\u7565\uff0c\u5141\u8bb8\u4f60\u6307\u5b9a Pod \u53ea\u80fd\u8c03\u5ea6\u5230\u5177\u6709\u7279\u5b9a\u6807\u7b7e\u7684\u8282\u70b9\u4e0a\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\nspec:\n  containers:\n  - name: my-container\n    image: nginx:latest\n  nodeSelector:\n    disktype: ssd\n</code></pre> <p>\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u7684 Pod \u53ea\u4f1a\u8c03\u5ea6\u5230\u5e26\u6709 <code>disktype=ssd</code> \u6807\u7b7e\u7684\u8282\u70b9\u4e0a\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#413","title":"4.1.3 \u8282\u70b9\u4eb2\u548c\u6027","text":"<p>\u8282\u70b9\u4eb2\u548c\u6027\u63d0\u4f9b\u4e86\u6bd4\u8282\u70b9\u9009\u62e9\u5668\u66f4\u7075\u6d3b\u7684\u8c03\u5ea6\u7b56\u7565\u3002\u5b83\u5141\u8bb8\u4f60\u6307\u5b9a\u8f6f\u6027\u548c\u786c\u6027\u8981\u6c42\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\nspec:\n  containers:\n  - name: my-container\n    image: nginx:latest\n  affinity:\n    nodeAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n        nodeSelectorTerms:\n        - matchExpressions:\n          - key: disktype\n            operator: In\n            values:\n            - ssd\n      preferredDuringSchedulingIgnoredDuringExecution:\n      - weight: 1\n        preference:\n          matchExpressions:\n          - key: region\n            operator: In\n            values:\n            - us-east-1\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0cPod \u5fc5\u987b\u8c03\u5ea6\u5230 <code>disktype=ssd</code> \u7684\u8282\u70b9\u4e0a\uff0c\u5e76\u4e14\u4f18\u5148\u9009\u62e9 <code>region=us-east-1</code> \u7684\u8282\u70b9\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#414-pod","title":"4.1.4 Pod \u4eb2\u548c\u6027\u4e0e\u53cd\u4eb2\u548c\u6027","text":"<p>Pod \u4eb2\u548c\u6027\u7528\u4e8e\u5c06\u4e00\u4e2a Pod \u8c03\u5ea6\u5230\u4e0e\u67d0\u4e9b\u6307\u5b9a Pod \u4f4d\u4e8e\u540c\u4e00\u8282\u70b9\u6216\u4e0d\u540c\u8282\u70b9\u4e0a\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\nspec:\n  containers:\n  - name: my-container\n    image: nginx:latest\n  affinity:\n    podAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n      - labelSelector:\n          matchExpressions:\n          - key: app\n            operator: In\n            values:\n            - my-app\n        topologyKey: \"kubernetes.io/hostname\"\n    podAntiAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n      - labelSelector:\n          matchExpressions:\n          - key: app\n            operator: In\n            values:\n            - another-app\n        topologyKey: \"kubernetes.io/hostname\"\n</code></pre> <p>\u8fd9\u4e2a\u793a\u4f8b\u8868\u793a Pod \u9700\u8981\u4e0e <code>app=my-app</code> \u7684 Pod \u4f4d\u4e8e\u540c\u4e00\u8282\u70b9\uff0c\u4f46\u4e0d\u4e0e <code>app=another-app</code> \u7684 Pod \u4f4d\u4e8e\u540c\u4e00\u8282\u70b9\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#42-kubernetes","title":"4.2 Kubernetes \u7f51\u7edc\u63d2\u4ef6","text":"<p>Kubernetes \u7f51\u7edc\u6a21\u578b\u5141\u8bb8\u6bcf\u4e2a Pod \u62e5\u6709\u4e00\u4e2a\u72ec\u7acb\u7684 IP \u5730\u5740\uff0c\u5e76\u4e14\u4e0d\u540c Pod \u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u901a\u4fe1\u3002\u7f51\u7edc\u63d2\u4ef6\uff08CNI \u63d2\u4ef6\uff09\u7528\u4e8e\u5b9e\u73b0\u8fd9\u79cd\u7f51\u7edc\u6a21\u578b\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u7f51\u7edc\u63d2\u4ef6\uff1a</p> <ul> <li>Flannel\uff1a\u4e00\u4e2a\u7b80\u5355\u7684\u7f51\u7edc\u63d2\u4ef6\uff0c\u9002\u5408\u5c0f\u578b\u96c6\u7fa4\uff0c\u63d0\u4f9b\u57fa\u672c\u7684\u7f51\u7edc\u529f\u80fd\u3002</li> <li>Calico\uff1a\u652f\u6301\u7f51\u7edc\u7b56\u7565\u3001BGP \u8def\u7531\u7b49\u9ad8\u7ea7\u529f\u80fd\uff0c\u9002\u5408\u5927\u89c4\u6a21\u96c6\u7fa4\u3002</li> <li>Weave\uff1a\u652f\u6301\u8de8\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u7edc\u901a\u4fe1\uff0c\u9002\u5408\u5206\u5e03\u5f0f\u96c6\u7fa4\u3002</li> <li>Cilium\uff1a\u57fa\u4e8e eBPF \u7684\u7f51\u7edc\u63d2\u4ef6\uff0c\u63d0\u4f9b\u9ad8\u6027\u80fd\u7684\u7f51\u7edc\u7b56\u7565\u548c\u5b89\u5168\u6027\u529f\u80fd\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#421-flannel","title":"4.2.1 Flannel","text":"<p>Flannel \u662f\u4e00\u4e2a\u7b80\u5355\u7684\u8986\u76d6\u7f51\u7edc\u63d2\u4ef6\uff0c\u9002\u5408\u5c0f\u578b\u96c6\u7fa4\u3002\u5b83\u901a\u8fc7 VXLAN \u6280\u672f\u5b9e\u73b0\u8de8\u8282\u70b9\u7684\u5bb9\u5668\u7f51\u7edc\u3002</p> <p>\u5b89\u88c5 Flannel\uff1a</p> <pre><code>kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#422-calico","title":"4.2.2 Calico","text":"<p>Calico \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u7f51\u7edc\u7b56\u7565\u548c\u5b89\u5168\u529f\u80fd\uff0c\u9002\u5408\u5927\u89c4\u6a21\u96c6\u7fa4\u3002</p> <p>\u5b89\u88c5 Calico\uff1a</p> <pre><code>kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#43-kubernetes","title":"4.3 Kubernetes \u5b58\u50a8","text":"<p>Kubernetes \u652f\u6301\u591a\u79cd\u5b58\u50a8\u65b9\u6848\uff0c\u6ee1\u8db3\u4e0d\u540c\u5e94\u7528\u7684\u6570\u636e\u6301\u4e45\u5316\u9700\u6c42\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u5b58\u50a8\u7c7b\u578b\uff1a</p> <ul> <li>PersistentVolume\uff08PV\uff09\u548c PersistentVolumeClaim\uff08PVC\uff09\uff1aPV \u662f\u96c6\u7fa4\u7ba1\u7406\u5458\u914d\u7f6e\u7684\u5b58\u50a8\u8d44\u6e90\uff0cPVC \u662f\u7528\u6237\u7533\u8bf7\u4f7f\u7528\u8fd9\u4e9b\u8d44\u6e90\u7684\u8bf7\u6c42\u3002PV \u4e0e PVC \u7684\u7ed1\u5b9a\u662f\u6301\u4e45\u5b58\u50a8\u7684\u57fa\u7840\u3002</li> <li>StorageClass\uff1a\u7528\u4e8e\u5b9a\u4e49\u52a8\u6001\u521b\u5efa PV \u7684\u7b56\u7565\uff0c\u652f\u6301\u4e0d\u540c\u7684\u5b58\u50a8\u540e\u7aef\uff0c\u5982 NFS\u3001Ceph\u3001AWS EBS \u7b49\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#431-persistentvolume-persistentvolumeclaim","title":"4.3.1 PersistentVolume \u548c PersistentVolumeClaim","text":"<p>PV \u662f\u96c6\u7fa4\u4e2d\u7684\u5b9e\u9645\u5b58\u50a8\u8d44\u6e90\uff0cPVC \u662f\u7528\u6237\u5bf9\u5b58\u50a8\u7684\u8bf7\u6c42\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u521b\u5efa PV \u548c PVC \u7684\u793a\u4f8b\uff1a</p> <p>PersistentVolume \u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: my-pv\nspec:\n  capacity:\n    storage: 10Gi\n  accessModes:\n    - ReadWriteOnce\n  nfs:\n    path: /mnt/data\n    server: nfs-server.example.com\n</code></pre> <p>PersistentVolumeClaim \u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: my-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#432-storageclass","title":"4.3.2 StorageClass","text":"<p>StorageClass \u5b9a\u4e49\u4e86\u52a8\u6001\u521b\u5efa PV \u7684\u5b58\u50a8\u7b56\u7565\u3002</p> <p>StorageClass \u793a\u4f8b\uff1a</p> <pre><code>apiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: fast\nprovisioner: kubernetes.io/aws-ebs\nparameters:\n  type: gp2\n  fsType: ext4\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#44-kubernetes","title":"4.4 Kubernetes \u5b89\u5168","text":"<p>\u5b89\u5168\u6027\u662f Kubernetes \u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\uff0c\u6d89\u53ca\u5230\u8ba4\u8bc1\u3001\u6388\u6743\u3001\u7f51\u7edc\u7b56\u7565\u7b49\u591a\u4e2a\u5c42\u9762\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#441","title":"4.4.1 \u8ba4\u8bc1\u4e0e\u6388\u6743","text":"<ul> <li>\u8ba4\u8bc1\uff08Authentication\uff09\uff1aKubernetes \u652f\u6301\u591a\u79cd\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u5305\u62ec X.509 \u5ba2\u6237\u7aef\u8bc1\u4e66\u3001Bearer Token\u3001OpenID Connect \u7b49\u3002</li> <li>\u6388\u6743\uff08Authorization\uff09\uff1aKubernetes \u4f7f\u7528 RBAC\uff08\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\uff09\u6765\u7ba1\u7406\u5bf9\u8d44\u6e90\u7684\u8bbf\u95ee\u6743\u9650\u3002</li> </ul> <p>RBAC \u793a\u4f8b\uff1a</p> <pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: default\n  name: pod-reader\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"watch\", \"list\"]\n</code></pre> <pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: read-pods\n  namespace: default\nsubjects:\n- kind: User\n  name: \"jane\"\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: pod-reader\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#442","title":"4.4.2 \u7f51\u7edc\u7b56\u7565","text":"<p>NetworkPolicy \u7528\u4e8e\u63a7\u5236 Pods \u4e4b\u95f4\u7684\u7f51\u7edc\u6d41\u91cf\u3002</p> <p>NetworkPolicy \u793a\u4f8b\uff1a</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-http\nspec:\n  podSelector:\n    matchLabels:\n      app: my-app\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          role: frontend\n    ports:\n    - protocol: TCP\n      port: 80\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#45-kubernetes","title":"4.5 Kubernetes \u65e5\u5fd7\u4e0e\u76d1\u63a7","text":"<p>\u76d1\u63a7\u548c\u65e5\u5fd7\u7ba1\u7406\u662f Kubernetes \u8fd0\u8425\u7684\u91cd\u8981\u90e8\u5206\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#451-prometheus-grafana","title":"4.5.1 Prometheus \u4e0e Grafana","text":"<p>Prometheus \u662f\u4e00\u4e2a\u7528\u4e8e\u76d1\u63a7\u548c\u62a5\u8b66\u7684\u7cfb\u7edf\uff0cGrafana \u662f\u4e00\u4e2a\u7528\u4e8e\u6570\u636e\u53ef\u89c6\u5316\u7684\u5de5\u5177\u3002\u4e8c\u8005\u7ed3\u5408\u53ef\u5b9e\u73b0\u5f3a\u5927\u7684\u76d1\u63a7\u548c\u53ef\u89c6\u5316\u529f\u80fd\u3002</p> <p>Prometheus \u90e8\u7f72\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-config\n  namespace: monitoring\ndata:\n  prometheus.yml: |\n    global:\n      scrape_interval: 15s\n    scrape_configs:\n      - job_name: 'kubernetes-apiservers'\n        kubernetes_sd_configs:\n          - role: endpoints\n</code></pre> <p>Grafana \u90e8\u7f72\u793a\u4f8b \uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: monitoring\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      containers:\n      - name: grafana\n        image: grafana/grafana:latest\n        ports:\n        - containerPort: 3000\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/basic/#452","title":"4.5.2 \u65e5\u5fd7\u7ba1\u7406","text":"<p>Kubernetes \u65e5\u5fd7\u7ba1\u7406\u901a\u5e38\u4f7f\u7528 ELK Stack\uff08Elasticsearch, Logstash, Kibana\uff09\u3002\u5b83\u53ef\u4ee5\u5b9e\u73b0\u96c6\u4e2d\u5f0f\u65e5\u5fd7\u7ba1\u7406\u548c\u5206\u6790\u3002</p> <p>Elasticsearch \u90e8\u7f72\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: elasticsearch\n  namespace: logging\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: elasticsearch\n  template:\n    metadata:\n      labels:\n        app: elasticsearch\n    spec:\n      containers:\n      - name: elasticsearch\n        image: docker.elastic.co/elasticsearch/elasticsearch:7.10.1\n        env:\n        - name: discovery.type\n          value: single-node\n        ports:\n        - containerPort: 9200\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/","title":"crictl \u6559\u7a0b","text":"<p><code>crictl</code> \u662f\u4e00\u4e2a\u7528\u4e8e\u4e0e\u5bb9\u5668\u8fd0\u884c\u65f6\uff08\u5982 containerd \u548c CRI-O\uff09\u76f4\u63a5\u4ea4\u4e92\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u975e\u5e38\u9002\u7528\u4e8e Kubernetes \u73af\u5883\u4e2d\u7684\u5bb9\u5668\u7ba1\u7406\u548c\u8c03\u8bd5\u3002\u4e0b\u9762\u662f <code>crictl</code> \u7684\u8be6\u7ec6\u4f7f\u7528\u6559\u7a0b\uff0c\u5305\u62ec\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u5e38\u7528\u547d\u4ee4\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#crictl_1","title":"\u4e00\u3001\u5b89\u88c5 <code>crictl</code>","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#1-crictl","title":"1. \u4e0b\u8f7d <code>crictl</code>","text":"<p>\u4f60\u53ef\u4ee5\u4ece <code>cri-tools</code> GitHub \u4ed3\u5e93\u4e0b\u8f7d <code>crictl</code> \u7684\u6700\u65b0\u7248\u672c\u3002\u9009\u62e9\u9002\u5408\u4f60\u64cd\u4f5c\u7cfb\u7edf\u7684\u7248\u672c\u8fdb\u884c\u4e0b\u8f7d\u3002</p> <pre><code>VERSION=\"v1.28.0\"\nwget https://github.com/kubernetes-sigs/cri-tools/releases/download/$VERSION/crictl-$VERSION-linux-amd64.tar.gz\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#2-crictl","title":"2. \u89e3\u538b\u5e76\u5b89\u88c5 <code>crictl</code>","text":"<p>\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u89e3\u538b\u5e76\u5c06 <code>crictl</code> \u4e8c\u8fdb\u5236\u6587\u4ef6\u79fb\u52a8\u5230 <code>/usr/local/bin</code> \u76ee\u5f55\u4e0b\uff0c\u786e\u4fdd\u5b83\u53ef\u4ee5\u5168\u5c40\u4f7f\u7528\u3002</p> <pre><code>tar zxvf crictl-$VERSION-linux-amd64.tar.gz\nsudo mv crictl /usr/local/bin/\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#crictl_2","title":"\u4e8c\u3001\u914d\u7f6e <code>crictl</code>","text":"<p>\u5728\u4f7f\u7528 <code>crictl</code> \u4e4b\u524d\uff0c\u9700\u8981\u914d\u7f6e\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u6765\u6307\u5b9a\u4f7f\u7528\u7684\u5bb9\u5668\u8fd0\u884c\u65f6\u3002<code>crictl</code> \u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u4e3a <code>/etc/crictl.yaml</code>\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#1","title":"1. \u521b\u5efa\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u57fa\u672c\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>sudo tee /etc/crictl.yaml &lt;&lt;EOF\nruntime-endpoint: unix:///run/containerd/containerd.sock\nEOF\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c<code>runtime-endpoint</code> \u53c2\u6570\u6307\u5b9a\u4e86\u5bb9\u5668\u8fd0\u884c\u65f6\u7684 socket \u6587\u4ef6\u8def\u5f84\u3002\u5bf9\u4e8e <code>containerd</code>\uff0c\u8def\u5f84\u901a\u5e38\u4e3a <code>/run/containerd/containerd.sock</code>\uff0c\u800c\u5bf9\u4e8e <code>CRI-O</code>\uff0c\u8def\u5f84\u901a\u5e38\u4e3a <code>/var/run/crio/crio.sock</code>\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#2","title":"2. \u9a8c\u8bc1\u914d\u7f6e","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 <code>crictl</code> \u662f\u5426\u6b63\u786e\u914d\u7f6e\u5e76\u8fde\u63a5\u5230\u5bb9\u5668\u8fd0\u884c\u65f6\uff1a</p> <pre><code>crictl info\n</code></pre> <p>\u5982\u679c\u914d\u7f6e\u6b63\u786e\uff0c\u5b83\u5c06\u8fd4\u56de\u6709\u5173\u8fd0\u884c\u65f6\u7684\u8be6\u7ec6\u4fe1\u606f\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#crictl_3","title":"\u4e09\u3001\u5e38\u7528 <code>crictl</code> \u547d\u4ee4","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#1_1","title":"1. \u5bb9\u5668\u7ba1\u7406","text":"<ul> <li> <p>\u5217\u51fa\u6240\u6709\u5bb9\u5668\uff1a   <code>bash   crictl ps</code>   \u9ed8\u8ba4\u53ea\u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u4f7f\u7528 <code>-a</code> \u53c2\u6570\u53ef\u4ee5\u663e\u793a\u6240\u6709\u5bb9\u5668\uff0c\u5305\u62ec\u5df2\u505c\u6b62\u7684\u3002</p> </li> <li> <p>\u542f\u52a8\u5bb9\u5668\uff1a   <code>bash   crictl start &lt;CONTAINER_ID&gt;</code></p> </li> <li> <p>\u505c\u6b62\u5bb9\u5668\uff1a   <code>bash   crictl stop &lt;CONTAINER_ID&gt;</code></p> </li> <li> <p>\u5220\u9664\u5bb9\u5668\uff1a   <code>bash   crictl rm &lt;CONTAINER_ID&gt;</code></p> </li> <li> <p>\u67e5\u770b\u5bb9\u5668\u8be6\u60c5\uff1a   <code>bash   crictl inspect &lt;CONTAINER_ID&gt;</code></p> </li> <li> <p>\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7\uff1a   <code>bash   crictl logs &lt;CONTAINER_ID&gt;</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#2_1","title":"2. \u955c\u50cf\u7ba1\u7406","text":"<ul> <li> <p>\u5217\u51fa\u6240\u6709\u955c\u50cf\uff1a   <code>bash   crictl images</code></p> </li> <li> <p>\u62c9\u53d6\u955c\u50cf\uff1a   <code>bash   crictl pull &lt;IMAGE_NAME&gt;</code></p> </li> <li> <p>\u5220\u9664\u955c\u50cf\uff1a   <code>bash   crictl rmi &lt;IMAGE_NAME&gt;</code></p> </li> <li> <p>\u68c0\u67e5\u955c\u50cf\u8be6\u60c5\uff1a   <code>bash   crictl inspecti &lt;IMAGE_ID&gt;</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#3-pod","title":"3. Pod \u7ba1\u7406","text":"<ul> <li> <p>\u5217\u51fa\u6240\u6709 Pod\uff1a   <code>bash   crictl pods</code></p> </li> <li> <p>\u67e5\u770b Pod \u8be6\u60c5\uff1a   <code>bash   crictl inspectp &lt;POD_ID&gt;</code></p> </li> <li> <p>\u5220\u9664 Pod\uff1a   <code>bash   crictl stopp &lt;POD_ID&gt;   crictl rmp &lt;POD_ID&gt;</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#kubernetes","title":"\u56db\u3001\u8c03\u8bd5 Kubernetes \u95ee\u9898","text":"<p><code>crictl</code> \u5bf9\u4e8e\u8c03\u8bd5 Kubernetes \u4e2d\u7684\u5bb9\u5668\u95ee\u9898\u975e\u5e38\u6709\u7528\u3002\u5f53 <code>kubectl</code> \u547d\u4ee4\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u65f6\uff0c<code>crictl</code> \u53ef\u4ee5\u76f4\u63a5\u4e0e\u5bb9\u5668\u8fd0\u884c\u65f6\u63a5\u53e3\u8fdb\u884c\u4ea4\u4e92\u3002</p> <ul> <li>\u68c0\u67e5\u5bb9\u5668\u65e5\u5fd7\uff1a\u5728 Pod \u65e0\u6cd5\u542f\u52a8\u6216\u5bb9\u5668\u5d29\u6e83\u65f6\uff0c\u4f7f\u7528 <code>crictl logs</code> \u67e5\u770b\u65e5\u5fd7\uff0c\u83b7\u53d6\u66f4\u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f\u3002</li> <li>\u68c0\u67e5\u5bb9\u5668\u72b6\u6001\uff1a\u4f7f\u7528 <code>crictl inspect</code> \u67e5\u770b\u5bb9\u5668\u7684\u8fd0\u884c\u72b6\u6001\u3001\u914d\u7f6e\u4fe1\u606f\u4ee5\u53ca\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u4e0e Kubernetes \u7684 <code>kubectl</code> \u914d\u5408\u4f7f\u7528\uff1a\u5f53 Pod \u72b6\u6001\u663e\u793a\u4e3a <code>CrashLoopBackOff</code> \u6216 <code>Error</code> \u65f6\uff0c\u4f7f\u7528 <code>kubectl describe</code> \u67e5\u770b Pod \u4e8b\u4ef6\uff0c\u7136\u540e\u4f7f\u7528 <code>crictl</code> \u67e5\u770b\u5bb9\u5668\u7684\u5177\u4f53\u65e5\u5fd7\u548c\u72b6\u6001\uff0c\u627e\u51fa\u95ee\u9898\u6240\u5728\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/crictl/#_1","title":"\u4e94\u3001\u603b\u7ed3","text":"<p><code>crictl</code> \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9 Kubernetes \u96c6\u7fa4\u7ba1\u7406\u5458\u66f4\u6df1\u5165\u5730\u4e86\u89e3\u548c\u7ba1\u7406\u5bb9\u5668\u8fd0\u884c\u65f6\u3002\u901a\u8fc7\u5b83\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u5728 Kubernetes \u73af\u5883\u4e2d\u5bf9\u5bb9\u5668\u8fdb\u884c\u7cbe\u7ec6\u7684\u7ba1\u7406\u548c\u8c03\u8bd5\uff0c\u786e\u4fdd\u96c6\u7fa4\u7684\u7a33\u5b9a\u8fd0\u884c\u3002</p> <p>\u5982\u679c\u4f60\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u95ee\u9898\uff0c\u53ef\u4ee5\u67e5\u770b <code>crictl</code> \u7684\u5e2e\u52a9\u6587\u6863\uff1a</p> <pre><code>crictl --help\n</code></pre> <p>\u8fd9\u6837\u53ef\u4ee5\u83b7\u5f97\u66f4\u591a\u7684\u547d\u4ee4\u9009\u9879\u548c\u7528\u6cd5\u793a\u4f8b\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/","title":"kubernetes \u5305\u7ba1\u7406\u5de5\u5177 helm","text":"<p>Helm \u662f Kubernetes \u7684\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u7c7b\u4f3c\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684 <code>apt</code> \u6216 <code>yum</code>\uff0c\u7528\u4e8e\u7b80\u5316 Kubernetes \u5e94\u7528\u7684\u90e8\u7f72\u548c\u7ba1\u7406\u3002Helm \u901a\u8fc7\u79f0\u4e3a\u201cCharts\u201d\u7684\u5305\u6765\u5b9a\u4e49\u3001\u5b89\u88c5\u548c\u7ba1\u7406 Kubernetes \u5e94\u7528\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u8be6\u7ec6\u8bb2\u89e3 Helm \u7684\u4f7f\u7528\uff0c\u5305\u62ec\u5176\u57fa\u672c\u6982\u5ff5\u3001\u5b89\u88c5\u6b65\u9aa4\u3001\u4e3b\u8981\u547d\u4ee4\u4ee5\u53ca\u5982\u4f55\u521b\u5efa\u548c\u7ba1\u7406\u81ea\u5df1\u7684 Helm Chart\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#1-helm","title":"1. Helm \u57fa\u672c\u6982\u5ff5","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#11-helm-chart","title":"1.1 Helm \u548c Chart","text":"<ul> <li>Helm\uff1aKubernetes \u7684\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u7528\u4e8e\u7ba1\u7406 Kubernetes \u5e94\u7528\u7a0b\u5e8f\u7684\u5b9a\u4e49\u3001\u5b89\u88c5\u548c\u5347\u7ea7\u3002</li> <li>Chart\uff1aHelm \u5305\u7684\u5355\u4f4d\uff0c\u662f\u63cf\u8ff0\u4e00\u4e2a Kubernetes \u5e94\u7528\u7684\u4e00\u7ec4\u6587\u4ef6\uff0c\u5305\u62ec Kubernetes \u8d44\u6e90\u7684\u5b9a\u4e49\u6587\u4ef6\u3001\u914d\u7f6e\u6587\u4ef6\u7b49\u3002</li> <li>Release\uff1a\u901a\u8fc7 Helm \u90e8\u7f72\u7684\u4e00\u4e2a Chart \u5b9e\u4f8b\u3002\u5728\u540c\u4e00\u4e2a\u96c6\u7fa4\u4e2d\uff0cChart \u53ef\u4ee5\u88ab\u591a\u6b21\u5b89\u88c5\uff0c\u6bcf\u6b21\u5b89\u88c5\u79f0\u4e3a\u4e00\u4e2a Release\uff0c\u6bcf\u4e2a Release \u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u540d\u79f0\u3002</li> <li>Repository\uff1a\u5b58\u653e Charts \u7684\u96c6\u5408\u3002Helm \u53ef\u4ee5\u4ece\u591a\u4e2a Repository \u4e2d\u83b7\u53d6 Charts\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#12-helm","title":"1.2 Helm \u7684\u5de5\u4f5c\u539f\u7406","text":"<p>Helm \u7684\u5de5\u4f5c\u5206\u4e3a\u5ba2\u6237\u7aef\uff08Helm CLI\uff09\u548c\u670d\u52a1\u7aef\uff08Tiller\uff09\u3002\u5728 Helm 3 \u4e2d\uff0cTiller \u5df2\u7ecf\u88ab\u79fb\u9664\uff0cHelm CLI \u76f4\u63a5\u4e0e Kubernetes API \u4ea4\u4e92\u3002</p> <ul> <li>\u5ba2\u6237\u7aef\uff1a\u7528\u4e8e\u5f00\u53d1\u3001\u7248\u672c\u7ba1\u7406\u3001\u914d\u7f6e\u548c Chart \u7684\u53d1\u5e03\u3002</li> <li>\u670d\u52a1\u7aef\uff1a\u63a5\u6536 Helm \u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5e76\u5728 Kubernetes \u96c6\u7fa4\u4e2d\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff08Helm 2 \u53ca\u4ee5\u524d\u4f7f\u7528 Tiller\uff0cHelm 3 \u79fb\u9664\u4e86 Tiller\uff09\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#2-helm","title":"2. Helm \u7684\u5b89\u88c5","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#21-helm","title":"2.1 \u5b89\u88c5 Helm","text":"<p>Helm \u7684\u5b89\u88c5\u65b9\u5f0f\u6709\u591a\u79cd\uff0c\u4ee5\u4e0b\u4ecb\u7ecd\u4f7f\u7528\u811a\u672c\u548c\u5305\u7ba1\u7406\u5de5\u5177\u7684\u65b9\u5f0f\uff1a</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#211","title":"2.1.1 \u4f7f\u7528\u811a\u672c\u5b89\u88c5","text":"<p>\u5728 Linux \u6216 macOS \u7cfb\u7edf\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5feb\u901f\u5b89\u88c5 Helm\uff1a</p> <pre><code>curl -fsSL https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#212","title":"2.1.2 \u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177\u5b89\u88c5","text":"<p>\u5728 macOS \u7cfb\u7edf\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 Homebrew \u5b89\u88c5 Helm\uff1a</p> <pre><code>brew install helm\n</code></pre> <p>\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u5982\u679c\u4f7f\u7528 <code>apt</code>\uff1a</p> <pre><code>sudo apt-get update\nsudo apt-get install -y helm\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>helm version</code> \u547d\u4ee4\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a</p> <pre><code>helm version\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#3-helm","title":"3. Helm \u7684\u57fa\u672c\u4f7f\u7528","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#31-chart","title":"3.1 \u6dfb\u52a0 Chart \u4ed3\u5e93","text":"<p>Helm \u7684 Chart \u901a\u5e38\u5b58\u653e\u5728\u4ed3\u5e93\u4e2d\u3002\u5b98\u65b9\u7684\u9ed8\u8ba4\u4ed3\u5e93\u662f <code>stable</code> \u4ed3\u5e93\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6dfb\u52a0\u5176\u4ed6\u4ed3\u5e93\uff1a</p> <pre><code>helm repo add stable https://charts.helm.sh/stable\nhelm repo add bitnami https://charts.bitnami.com/bitnami\n</code></pre> <p>\u901a\u8fc7 <code>helm repo list</code> \u53ef\u4ee5\u67e5\u770b\u5df2\u6dfb\u52a0\u7684\u4ed3\u5e93\uff1a</p> <pre><code>helm repo list\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#32-charts","title":"3.2 \u641c\u7d22\u548c\u67e5\u627e Charts","text":"<p>\u901a\u8fc7 <code>helm search</code> \u547d\u4ee4\u53ef\u4ee5\u5728\u4ed3\u5e93\u4e2d\u641c\u7d22 Charts\uff1a</p> <ul> <li> <p>\u641c\u7d22\u4ed3\u5e93\u4e2d\u7684 Chart\uff1a   <code>bash   helm search repo &lt;chart_name&gt;</code></p> </li> <li> <p>\u793a\u4f8b\uff1a\u67e5\u627e MySQL Chart\uff1a   <code>bash   helm search repo mysql</code></p> </li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#33-chart","title":"3.3 \u5b89\u88c5 Chart","text":"<p>\u4f7f\u7528 <code>helm install</code> \u547d\u4ee4\u5b89\u88c5 Chart\uff1a</p> <pre><code>helm install &lt;release_name&gt; &lt;chart_name&gt;\n</code></pre> <p>\u4f8b\u5982\uff0c\u5b89\u88c5 MySQL Chart\uff1a</p> <pre><code>helm install my-mysql stable/mysql\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#34-release","title":"3.4 \u67e5\u770b Release","text":"<p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>helm list</code> \u547d\u4ee4\u67e5\u770b\u5f53\u524d\u96c6\u7fa4\u4e2d\u6240\u6709\u7684 Release\uff1a</p> <pre><code>helm list\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#35-release","title":"3.5 \u5347\u7ea7 Release","text":"<p>\u5f53 Chart \u7248\u672c\u6216\u914d\u7f6e\u6587\u4ef6\u66f4\u65b0\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>helm upgrade</code> \u547d\u4ee4\u5347\u7ea7 Release\uff1a</p> <pre><code>helm upgrade &lt;release_name&gt; &lt;chart_name&gt;\n</code></pre> <p>\u4f8b\u5982\uff0c\u5347\u7ea7 MySQL Release\uff1a</p> <pre><code>helm upgrade my-mysql stable/mysql\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#36-release","title":"3.6 \u56de\u6eda Release","text":"<p>\u4f7f\u7528 <code>helm rollback</code> \u53ef\u4ee5\u5c06 Release \u56de\u6eda\u5230\u6307\u5b9a\u7684\u7248\u672c\uff1a</p> <pre><code>helm rollback &lt;release_name&gt; &lt;revision_number&gt;\n</code></pre> <p>\u67e5\u770b Release \u7684\u7248\u672c\u5386\u53f2\uff1a</p> <pre><code>helm history &lt;release_name&gt;\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#37-release","title":"3.7 \u5378\u8f7d Release","text":"<p>\u4f7f\u7528 <code>helm uninstall</code> \u547d\u4ee4\u53ef\u4ee5\u5378\u8f7d Release\uff1a</p> <pre><code>helm uninstall &lt;release_name&gt;\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#38-release","title":"3.8 \u67e5\u770b Release \u72b6\u6001","text":"<p>\u4f7f\u7528 <code>helm status</code> \u53ef\u4ee5\u67e5\u770b Release \u7684\u8be6\u7ec6\u72b6\u6001\u4fe1\u606f\uff1a</p> <pre><code>helm status &lt;release_name&gt;\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#4-helm-chart","title":"4. \u521b\u5efa\u548c\u7ba1\u7406 Helm Chart","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#41-chart","title":"4.1 \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Chart","text":"<p>\u4f7f\u7528 <code>helm create</code> \u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Helm Chart\uff1a</p> <pre><code>helm create mychart\n</code></pre> <p>\u8fd9\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u540d\u4e3a <code>mychart</code> \u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e9b\u9ed8\u8ba4\u7684\u6a21\u677f\u548c\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#42-chart","title":"4.2 Chart \u76ee\u5f55\u7ed3\u6784","text":"<p>\u4e00\u4e2a\u5178\u578b\u7684 Chart \u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>mychart/\n  Chart.yaml          # Chart \u7684\u5143\u6570\u636e\uff0c\u5982\u540d\u79f0\u3001\u7248\u672c\u7b49\n  values.yaml         # \u9ed8\u8ba4\u7684\u914d\u7f6e\u503c\n  templates/          # Kubernetes \u8d44\u6e90\u7684\u6a21\u677f\u6587\u4ef6\n    deployment.yaml\n    service.yaml\n    ...\n  charts/             # \u5b50 Charts\n  .helmignore         # \u5ffd\u7565\u6587\u4ef6\u5217\u8868\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#43","title":"4.3 \u81ea\u5b9a\u4e49\u6a21\u677f","text":"<p><code>templates/</code> \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u662f Kubernetes \u8d44\u6e90\u7684\u6a21\u677f\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528 Go \u6a21\u677f\u8bed\u6cd5\u6765\u5b9a\u4e49\u52a8\u6001\u7684\u914d\u7f6e\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#deploymentyaml","title":"\u793a\u4f8b\uff1a\u81ea\u5b9a\u4e49 <code>deployment.yaml</code>","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ .Release.Name }}-{{ .Values.app.name }}\nspec:\n  replicas: {{ .Values.replicas }}\n  selector:\n    matchLabels:\n      app: {{ .Values.app.name }}\n  template:\n    metadata:\n      labels:\n        app: {{ .Values.app.name }}\n    spec:\n      containers:\n      - name: {{ .Values.app.name }}\n        image: {{ .Values.image.repository }}:{{ .Values.image.tag }}\n        ports:\n        - containerPort: {{ .Values.service.port }}\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#44-values","title":"4.4 \u4f7f\u7528 Values \u6587\u4ef6\u8fdb\u884c\u914d\u7f6e","text":"<p><code>values.yaml</code> \u6587\u4ef6\u5305\u542b\u4e86 Chart \u7684\u9ed8\u8ba4\u914d\u7f6e\u503c\u3002\u4f60\u53ef\u4ee5\u5728\u5b89\u88c5 Chart \u65f6\u4f7f\u7528 <code>-f</code> \u9009\u9879\u6307\u5b9a\u81ea\u5b9a\u4e49\u7684 <code>values.yaml</code> \u6587\u4ef6\uff1a</p> <pre><code>helm install myapp ./mychart -f custom-values.yaml\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#45-chart","title":"4.5 \u6253\u5305\u548c\u53d1\u5e03 Chart","text":"<p>\u4f7f\u7528 <code>helm package</code> \u547d\u4ee4\u53ef\u4ee5\u5c06 Chart \u6253\u5305\u6210 <code>.tgz</code> \u6587\u4ef6\uff1a</p> <pre><code>helm package mychart\n</code></pre> <p>\u751f\u6210\u7684 <code>.tgz</code> \u6587\u4ef6\u53ef\u4ee5\u4e0a\u4f20\u5230\u4e00\u4e2a Chart \u4ed3\u5e93\uff0c\u4f9b\u5176\u4ed6\u7528\u6237\u4f7f\u7528\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#46-chart","title":"4.6 \u9a8c\u8bc1\u548c\u8c03\u8bd5 Chart","text":"<p>\u4f7f\u7528 <code>helm lint</code> \u547d\u4ee4\u53ef\u4ee5\u5bf9 Chart \u8fdb\u884c\u8bed\u6cd5\u548c\u7ed3\u6784\u7684\u68c0\u67e5\uff1a</p> <pre><code>helm lint mychart\n</code></pre> <p>\u4f7f\u7528 <code>helm template</code> \u547d\u4ee4\u53ef\u4ee5\u5728\u4e0d\u5b9e\u9645\u90e8\u7f72\u7684\u60c5\u51b5\u4e0b\uff0c\u751f\u6210 Kubernetes \u8d44\u6e90\u7684 YAML \u6587\u4ef6\uff0c\u7528\u4e8e\u8c03\u8bd5\uff1a</p> <pre><code>helm template mychart\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#5-helm","title":"5. Helm \u7684\u8fdb\u9636\u4f7f\u7528","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#51-helm-hooks","title":"5.1 Helm Hooks","text":"<p>Helm Hooks \u662f\u4e00\u7ec4\u7279\u6b8a\u7684\u6a21\u677f\uff0c\u53ef\u4ee5\u5728 Chart \u5b89\u88c5\u3001\u5347\u7ea7\u3001\u5220\u9664\u7684\u8fc7\u7a0b\u4e2d\u89e6\u53d1\u6267\u884c\uff0c\u7528\u4e8e\u81ea\u5b9a\u4e49\u64cd\u4f5c\uff0c\u5982\u6570\u636e\u8fc1\u79fb\u3001\u5907\u4efd\u7b49\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#52-chart","title":"5.2 \u5b50 Chart \u548c\u4f9d\u8d56\u7ba1\u7406","text":"<p><code>requirements.yaml</code> \u6587\u4ef6\u5b9a\u4e49\u4e86 Chart \u7684\u4f9d\u8d56\u5173\u7cfb\uff0cHelm \u4f1a\u81ea\u52a8\u4e0b\u8f7d\u5e76\u7ba1\u7406\u8fd9\u4e9b\u4f9d\u8d56\uff1a</p> <pre><code>dependencies:\n  - name: redis\n    version: \"&gt;=10.0.0\"\n    repository: \"https://charts.bitnami.com/bitnami\"\n</code></pre> <p>\u5b89\u88c5 Chart \u65f6\uff0cHelm \u4f1a\u81ea\u52a8\u4e0b\u8f7d\u5e76\u5b89\u88c5\u4f9d\u8d56\u7684\u5b50 Chart\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#53-helm","title":"5.3 Helm \u5b89\u5168\u6027","text":"<p>Helm 3 \u79fb\u9664\u4e86 Tiller\uff0c\u5b89\u5168\u6027\u5927\u5927\u63d0\u9ad8\u3002\u5bf9\u4e8e\u654f\u611f\u914d\u7f6e\uff08\u5982\u5bc6\u7801\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 Kubernetes Secret \u6765\u7ba1\u7406\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/helm/#6-helm-wordpress","title":"6. \u5b9e\u6218\u793a\u4f8b\uff1a\u4f7f\u7528 Helm \u90e8\u7f72 WordPress","text":"<p>\u4f7f\u7528 Helm \u4ece Bitnami \u4ed3\u5e93\u4e2d\u5b89\u88c5 WordPress\uff1a</p> <pre><code>helm repo add bitnami https://charts.bitnami.com/bitnami\nhelm install my-wordpress bitnami/wordpress\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f7f\u7528 <code>helm list</code> \u67e5\u770b Release\uff0c\u4f7f\u7528 <code>helm status</code> \u67e5\u770b WordPress \u7684\u8fd0\u884c\u72b6\u6001\u3002</p> <p>\u901a\u8fc7 NodePort \u6216 Ingress \u8bbf\u95ee WordPress \u5e94\u7528\uff0c\u8fdb\u4e00\u6b65\u914d\u7f6e\u548c\u4f7f\u7528\u3002</p> <p>\u4ee5\u4e0a\u662f Helm \u7684\u8be6\u7ec6\u6559\u7a0b\uff0c\u5305\u62ec\u57fa\u672c\u6982\u5ff5\u3001\u5b89\u88c5\u3001\u4e3b\u8981\u547d\u4ee4\u4ee5\u53ca\u5982\u4f55\u521b\u5efa\u548c\u7ba1\u7406\u81ea\u5df1\u7684 Helm Chart\u3002\u901a\u8fc7 Helm\uff0c\u4f60\u53ef\u4ee5\u7b80\u5316 Kubernetes \u5e94\u7528\u7684\u7ba1\u7406\uff0c\u63d0\u9ad8\u6548\u7387\u548c\u53ef\u7ef4\u62a4\u6027\u3002\u5982\u679c\u6709\u4efb\u4f55\u7591\u95ee\u6216\u9700\u8981\u66f4\u6df1\u5165\u7684\u89e3\u91ca\uff0c\u8bf7\u968f\u65f6\u63d0\u51fa\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/","title":"kubernetes \u9762\u8bd5\u624b\u518c","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b Kubernetes \u5927\u5382\u9762\u8bd5\u4e2d\u5e38\u89c1\u7684\u9762\u8bd5\u9898\u4ee5\u53ca\u8be6\u7ec6\u7684\u89e3\u7b54\uff0c\u6db5\u76d6\u4e86\u4ece\u57fa\u672c\u6982\u5ff5\u5230\u8fdb\u9636\u64cd\u4f5c\u7684\u591a\u4e2a\u5c42\u9762\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#1-kubernetes","title":"1. Kubernetes \u7684\u57fa\u672c\u67b6\u6784\u548c\u7ec4\u4ef6","text":"<p>\u95ee\u9898\uff1a\u8bf7\u8be6\u7ec6\u63cf\u8ff0 Kubernetes \u7684\u67b6\u6784\u53ca\u5176\u5404\u7ec4\u4ef6\u7684\u4f5c\u7528\u3002</p> <p>\u89e3\u7b54\uff1a Kubernetes \u662f\u4e00\u4e2a\u7528\u4e8e\u7ba1\u7406\u5bb9\u5668\u5316\u5e94\u7528\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u4e3b\u8981\u7531\u4ee5\u4e0b\u7ec4\u4ef6\u7ec4\u6210\uff1a - API Server\uff1aKubernetes \u63a7\u5236\u5e73\u9762\u7684\u6838\u5fc3\uff0c\u5904\u7406\u6240\u6709 REST \u64cd\u4f5c\u8bf7\u6c42\u5e76\u5c06\u5176\u5b58\u50a8\u5728 etcd \u4e2d\u3002\u5b83\u662f\u96c6\u7fa4\u7684\u7f51\u5173\uff0c\u7ba1\u7406\u548c\u8c03\u5ea6\u6240\u6709\u7684\u96c6\u7fa4\u64cd\u4f5c\u3002 - etcd\uff1a\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u952e\u503c\u5b58\u50a8\u7cfb\u7edf\uff0c\u7528\u4e8e\u5b58\u50a8 Kubernetes \u96c6\u7fa4\u7684\u6240\u6709\u6570\u636e\uff0c\u5982\u914d\u7f6e\u548c\u72b6\u6001\u4fe1\u606f\uff0c\u786e\u4fdd\u96c6\u7fa4\u7684\u4e00\u81f4\u6027\u3002 - Scheduler\uff1a\u8d1f\u8d23\u5c06\u65b0\u521b\u5efa\u7684 Pod \u5206\u914d\u5230\u9002\u5408\u7684\u5de5\u4f5c\u8282\u70b9\u4e0a\u3002Scheduler \u57fa\u4e8e\u8d44\u6e90\u8bf7\u6c42\u3001\u8282\u70b9\u7684\u8d1f\u8f7d\u60c5\u51b5\u3001\u8282\u70b9\u4eb2\u548c\u6027\u7b49\u8c03\u5ea6\u7b56\u7565\u8fdb\u884c\u5206\u914d\u3002 - Controller Manager\uff1a\u8fd0\u884c Kubernetes \u7684\u63a7\u5236\u5faa\u73af\uff0c\u5305\u62ec Node Controller\u3001Replication Controller \u7b49\uff0c\u786e\u4fdd\u5b9e\u9645\u72b6\u6001\u4e0e\u671f\u671b\u72b6\u6001\u4fdd\u6301\u4e00\u81f4\u3002 - Kubelet\uff1a\u8fd0\u884c\u5728\u6bcf\u4e2a\u5de5\u4f5c\u8282\u70b9\u4e0a\u7684\u4ee3\u7406\uff0c\u8d1f\u8d23\u7ba1\u7406 Pod \u7684\u751f\u547d\u5468\u671f\uff0c\u786e\u4fdd\u5bb9\u5668\u6309\u9884\u671f\u8fd0\u884c\u3002 - Kube-proxy\uff1a\u8d1f\u8d23\u7ef4\u62a4\u8282\u70b9\u4e0a\u7f51\u7edc\u89c4\u5219\uff0c\u5b9e\u73b0 Pod \u95f4\u548c Service \u95f4\u7684\u901a\u4fe1\u548c\u8d1f\u8f7d\u5747\u8861\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u8003\u5bdf\u5019\u9009\u4eba\u5bf9 Kubernetes \u67b6\u6784\u7684\u6574\u4f53\u7406\u89e3\u53ca\u5404\u7ec4\u4ef6\u7684\u5177\u4f53\u804c\u8d23\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#2-pod","title":"2. Pod \u7684\u751f\u547d\u5468\u671f\u548c\u7ba1\u7406","text":"<p>\u95ee\u9898\uff1a\u5982\u4f55\u5728 Kubernetes \u4e2d\u7ba1\u7406 Pod \u7684\u751f\u547d\u5468\u671f\uff1f\u5982\u4f55\u5904\u7406 Pod \u7684\u91cd\u542f\u548c\u56de\u6eda\uff1f</p> <p>\u89e3\u7b54\uff1a Pod \u662f Kubernetes \u4e2d\u6700\u5c0f\u7684\u90e8\u7f72\u5355\u5143\uff0c\u5176\u751f\u547d\u5468\u671f\u7ba1\u7406\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a - \u521b\u5efa\uff1a\u4f7f\u7528 <code>kubectl create</code> \u6216 <code>kubectl apply</code> \u547d\u4ee4\u4ece YAML \u914d\u7f6e\u6587\u4ef6\u4e2d\u521b\u5efa Pod\u3002 - \u5065\u5eb7\u68c0\u67e5\uff1a\u901a\u8fc7 Liveness Probe \u548c Readiness Probe \u786e\u4fdd Pod \u5904\u4e8e\u5065\u5eb7\u72b6\u6001\u3002Liveness Probe \u5b9a\u671f\u68c0\u67e5\u5bb9\u5668\u662f\u5426\u9700\u8981\u91cd\u542f\uff0cReadiness Probe \u5219\u5224\u65ad\u5bb9\u5668\u662f\u5426\u51c6\u5907\u597d\u63a5\u6536\u6d41\u91cf\u3002 - \u6eda\u52a8\u66f4\u65b0\uff1a\u901a\u8fc7 Deployment \u5b9e\u73b0\u6eda\u52a8\u66f4\u65b0\uff0c\u9010\u6b65\u7528\u65b0\u7248\u672c\u66ff\u6362\u65e7\u7248\u672c Pod\uff0c\u786e\u4fdd\u5e94\u7528\u7684\u96f6\u5b95\u673a\u5347\u7ea7\u3002 - \u56de\u6eda\uff1a\u5982\u66f4\u65b0\u51fa\u73b0\u95ee\u9898\uff0cKubernetes \u652f\u6301\u5feb\u901f\u56de\u6eda\u5230\u524d\u4e00\u4e2a\u7a33\u5b9a\u7248\u672c\uff0c\u4f7f\u7528 <code>kubectl rollout undo</code> \u547d\u4ee4\u5373\u53ef\u5b9e\u73b0\u3002 - \u5220\u9664\uff1a\u5f53 Pod \u4e0d\u518d\u9700\u8981\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>kubectl delete</code> \u547d\u4ee4\u5220\u9664\u5b83\u4eec\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9 Pod \u7ba1\u7406\u3001\u66f4\u65b0\u7b56\u7565\u53ca\u95ee\u9898\u6392\u67e5\u7684\u719f\u6089\u7a0b\u5ea6\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#3-service-ingress","title":"3. Service \u548c Ingress \u7684\u4f5c\u7528","text":"<p>\u95ee\u9898\uff1aKubernetes \u4e2d\u7684 Service \u548c Ingress \u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f\u5206\u522b\u9002\u7528\u4e8e\u54ea\u4e9b\u573a\u666f\uff1f</p> <p>\u89e3\u7b54\uff1a - Service\uff1aKubernetes \u4e2d\u7684 Service \u662f\u4e00\u4e2a\u62bd\u8c61\u5c42\uff0c\u7528\u4e8e\u5b9a\u4e49\u4e00\u7ec4 Pod \u7684\u903b\u8f91\u96c6\u5408\uff0c\u5e76\u63d0\u4f9b\u7a33\u5b9a\u7684\u8bbf\u95ee\u63a5\u53e3\u3002Service \u6709\u591a\u79cd\u7c7b\u578b\uff0c\u5305\u62ec\uff1a   - ClusterIP\uff1a\u9ed8\u8ba4\u7c7b\u578b\uff0c\u4ec5\u5728\u96c6\u7fa4\u5185\u90e8\u53ef\u8fbe\uff0c\u5e38\u7528\u4e8e\u96c6\u7fa4\u5185\u670d\u52a1\u95f4\u7684\u901a\u4fe1\u3002   - NodePort\uff1a\u5728\u6bcf\u4e2a\u8282\u70b9\u4e0a\u6253\u5f00\u4e00\u4e2a\u6307\u5b9a\u7aef\u53e3\uff0c\u5916\u90e8\u6d41\u91cf\u53ef\u4ee5\u901a\u8fc7\u8be5\u7aef\u53e3\u8bbf\u95ee\u670d\u52a1\u3002   - LoadBalancer\uff1a\u5728\u4e91\u63d0\u4f9b\u5546\u73af\u5883\u4e0b\uff0c\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u5916\u90e8\u8d1f\u8f7d\u5747\u8861\u5668\uff0c\u5206\u53d1\u5230 NodePort \u670d\u52a1\u4e0a\u3002   - ExternalName\uff1a\u5c06\u670d\u52a1\u6620\u5c04\u5230 DNS \u540d\u79f0\uff0c\u901a\u8fc7\u5916\u90e8 DNS \u89e3\u6790\u670d\u52a1\u5730\u5740\u3002</p> <ul> <li>Ingress\uff1aIngress \u63d0\u4f9b\u4e86\u4e00\u79cd\u57fa\u4e8e\u57df\u540d\u7684 HTTP/HTTPS \u8def\u7531\u89c4\u5219\uff0c\u5c06\u5916\u90e8\u6d41\u91cf\u5f15\u5bfc\u5230\u96c6\u7fa4\u5185\u90e8\u7684 Service \u4e2d\u3002\u5b83\u901a\u5e38\u7531 Ingress Controller \u5b9e\u73b0\uff0c\u652f\u6301\u591a\u79cd\u8def\u7531\u7b56\u7565\u548c SSL \u7ec8\u6b62\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1aService \u548c Ingress \u7684\u7406\u89e3\u548c\u4f7f\u7528\u573a\u666f\u7684\u8bc6\u522b\u80fd\u529b\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#4-configmap-secret","title":"4. ConfigMap \u548c Secret \u7ba1\u7406","text":"<p>\u95ee\u9898\uff1a\u5728 Kubernetes \u4e2d\u5982\u4f55\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u914d\u7f6e\u548c\u654f\u611f\u4fe1\u606f\uff1f</p> <p>\u89e3\u7b54\uff1a - ConfigMap\uff1a\u7528\u4e8e\u5b58\u50a8\u975e\u654f\u611f\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5982\u73af\u5883\u53d8\u91cf\u3001\u914d\u7f6e\u6587\u4ef6\u3002ConfigMap \u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u6216\u6302\u8f7d\u5377\u7684\u65b9\u5f0f\u63d0\u4f9b\u7ed9 Pod\u3002 - Secret\uff1a\u7528\u4e8e\u5b58\u50a8\u654f\u611f\u4fe1\u606f\uff0c\u5982\u5bc6\u7801\u3001OAuth \u4ee4\u724c\u3001SSH \u5bc6\u94a5\u3002Secret \u7684\u6570\u636e\u5728 etcd \u4e2d\u662f\u4ee5 base64 \u7f16\u7801\u5b58\u50a8\u7684\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 Volume \u6216\u73af\u5883\u53d8\u91cf\u6ce8\u5165\u5230 Pod \u4e2d\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9\u914d\u7f6e\u548c\u654f\u611f\u4fe1\u606f\u7ba1\u7406\u7684\u7406\u89e3\u53ca\u5176\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u7684\u4f7f\u7528\u65b9\u5f0f\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#5-kubernetes","title":"5. Kubernetes \u96c6\u7fa4\u7684\u76d1\u63a7\u548c\u65e5\u5fd7\u7ba1\u7406","text":"<p>\u95ee\u9898\uff1a\u5982\u4f55\u5728 Kubernetes \u4e2d\u5b9e\u73b0\u96c6\u7fa4\u76d1\u63a7\u548c\u65e5\u5fd7\u7ba1\u7406\uff1f\u6709\u54ea\u4e9b\u5de5\u5177\u53ef\u4ee5\u4f7f\u7528\uff1f</p> <p>\u89e3\u7b54\uff1a - \u76d1\u63a7\uff1aKubernetes \u5e38\u7528\u7684\u76d1\u63a7\u5de5\u5177\u662f Prometheus \u548c Grafana\u3002   - Prometheus\uff1a\u8d1f\u8d23\u91c7\u96c6\u548c\u5b58\u50a8\u65f6\u5e8f\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7 ServiceMonitor \u76d1\u63a7\u96c6\u7fa4\u5185\u7684\u5404\u79cd\u670d\u52a1\uff0c\u5e76\u901a\u8fc7 PromQL \u8fdb\u884c\u67e5\u8be2\u3002   - Grafana\uff1a\u63d0\u4f9b\u5f3a\u5927\u7684\u53ef\u89c6\u5316\u80fd\u529b\uff0c\u652f\u6301\u4ece Prometheus \u83b7\u53d6\u6570\u636e\u5e76\u5c55\u793a\u5728\u81ea\u5b9a\u4e49\u4eea\u8868\u76d8\u4e0a\u3002</p> <ul> <li>\u65e5\u5fd7\u7ba1\u7406\uff1a\u96c6\u4e2d\u5f0f\u65e5\u5fd7\u7ba1\u7406\u901a\u5e38\u7ed3\u5408 Fluentd\u3001Elasticsearch \u548c Kibana (EFK Stack) \u5b9e\u73b0\u3002</li> <li>Fluentd\uff1a\u8d1f\u8d23\u4ece\u8282\u70b9\u4e0a\u7684\u65e5\u5fd7\u6587\u4ef6\u4e2d\u6536\u96c6\u65e5\u5fd7\u5e76\u8f6c\u53d1\u5230 Elasticsearch\u3002</li> <li>Elasticsearch\uff1a\u7528\u4e8e\u5b58\u50a8\u548c\u7d22\u5f15\u65e5\u5fd7\u6570\u636e\u3002</li> <li>Kibana\uff1a\u63d0\u4f9b\u57fa\u4e8e Elasticsearch \u7684\u65e5\u5fd7\u641c\u7d22\u548c\u53ef\u89c6\u5316\u529f\u80fd\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9\u76d1\u63a7\u548c\u65e5\u5fd7\u7ba1\u7406\u7684\u7406\u89e3\u53ca\u5176\u5de5\u5177\u94fe\u7684\u914d\u7f6e\u548c\u4f7f\u7528\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#6-kubernetes","title":"6. Kubernetes \u7684\u7f51\u7edc\u7ba1\u7406","text":"<p>\u95ee\u9898\uff1aKubernetes \u7684\u7f51\u7edc\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f\u5982\u4f55\u5b9e\u73b0 Pod \u95f4\u7684\u901a\u4fe1\uff1f</p> <p>\u89e3\u7b54\uff1a Kubernetes \u7684\u7f51\u7edc\u6a21\u578b\u8981\u6c42\u96c6\u7fa4\u4e2d\u7684\u6bcf\u4e2a Pod \u90fd\u6709\u4e00\u4e2a\u72ec\u7acb\u7684 IP \u5730\u5740\uff0c\u5e76\u4e14\u6240\u6709 Pod \u4e4b\u95f4\u7684\u901a\u4fe1\u4e0d\u9700\u8981\u4f7f\u7528 NAT\u3002\u8fd9\u4e2a\u6a21\u578b\u7531 CNI (Container Network Interface) \u63d2\u4ef6\u5b9e\u73b0\uff0c\u5e38\u89c1\u7684\u63d2\u4ef6\u6709\uff1a - Flannel\uff1a\u4e00\u4e2a\u7b80\u5355\u7684\u8986\u76d6\u7f51\u7edc\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7 VXLAN \u6280\u672f\u5b9e\u73b0 Pod \u95f4\u901a\u4fe1\u3002 - Calico\uff1a\u9664\u4e86\u63d0\u4f9b\u7f51\u7edc\u8fde\u63a5\u5916\uff0c\u8fd8\u652f\u6301\u7f51\u7edc\u5b89\u5168\u7b56\u7565\uff0c\u901a\u8fc7 NetworkPolicy \u63a7\u5236 Pod \u95f4\u7684\u6d41\u91cf\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u7406\u89e3 Kubernetes \u7f51\u7edc\u7684\u57fa\u672c\u539f\u7406\u53ca CNI \u63d2\u4ef6\u7684\u4f7f\u7528\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#7-kubernetes","title":"7. Kubernetes \u4e2d\u7684\u81ea\u52a8\u6269\u7f29\u5bb9","text":"<p>\u95ee\u9898\uff1a\u5982\u4f55\u5728 Kubernetes \u4e2d\u5b9e\u73b0\u81ea\u52a8\u6269\u7f29\u5bb9\uff1f\u6709\u54ea\u4e9b\u7b56\u7565\uff1f</p> <p>\u89e3\u7b54\uff1a Kubernetes \u63d0\u4f9b\u4e86\u4e24\u79cd\u81ea\u52a8\u6269\u7f29\u5bb9\u673a\u5236\uff1a - Horizontal Pod Autoscaler (HPA)\uff1a\u57fa\u4e8e CPU \u4f7f\u7528\u7387\u6216\u81ea\u5b9a\u4e49\u7684\u6307\u6807\uff08\u5982\u5185\u5b58\u4f7f\u7528\u7387\uff09\u81ea\u52a8\u8c03\u6574 Deployment \u6216 ReplicaSet \u7684\u526f\u672c\u6570\u3002 - Cluster Autoscaler\uff1a\u5f53\u96c6\u7fa4\u4e2d\u7684\u8d44\u6e90\u4e0d\u8db3\u65f6\uff0cCluster Autoscaler \u53ef\u4ee5\u81ea\u52a8\u589e\u52a0\u8282\u70b9\u6570\u91cf\uff1b\u5f53\u8282\u70b9\u7a7a\u95f2\u65f6\uff0c\u5b83\u4e5f\u4f1a\u81ea\u52a8\u7f29\u51cf\u8282\u70b9\u6570\u91cf\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u7406\u89e3 Kubernetes \u7684\u6269\u7f29\u5bb9\u673a\u5236\u53ca\u5176\u914d\u7f6e\u548c\u8c03\u4f18\u65b9\u6cd5\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#8-kubernetes","title":"8. Kubernetes \u96c6\u7fa4\u7684\u5b89\u5168\u7ba1\u7406","text":"<p>\u95ee\u9898\uff1a\u5982\u4f55\u4fdd\u969c Kubernetes \u96c6\u7fa4\u7684\u5b89\u5168\u6027\uff1f</p> <p>\u89e3\u7b54\uff1a Kubernetes \u96c6\u7fa4\u7684\u5b89\u5168\u6027\u7ba1\u7406\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a - RBAC (Role-Based Access Control)\uff1a\u901a\u8fc7\u89d2\u8272\u548c\u89d2\u8272\u7ed1\u5b9a\u63a7\u5236\u7528\u6237\u5bf9 Kubernetes \u8d44\u6e90\u7684\u8bbf\u95ee\u6743\u9650\u3002 - NetworkPolicy\uff1a\u63a7\u5236 Pod \u95f4\u7684\u7f51\u7edc\u6d41\u91cf\uff0c\u786e\u4fdd\u53ea\u6709\u5fc5\u8981\u7684\u901a\u4fe1\u662f\u5141\u8bb8\u7684\u3002 - Pod Security Policy (PSP)\uff1a\u5b9a\u4e49 Pod \u7684\u5b89\u5168\u914d\u7f6e\uff0c\u5982\u8fd0\u884c\u7528\u6237\u3001\u7279\u6743\u6a21\u5f0f\u3001\u5377\u7c7b\u578b\u7b49\u3002 - \u52a0\u5bc6\uff1a\u4f7f\u7528\u52a0\u5bc6\u7684 etcd \u5b58\u50a8 Secret \u6570\u636e\uff0c\u5e76\u901a\u8fc7 TLS \u52a0\u5bc6\u96c6\u7fa4\u5185\u7684\u901a\u4fe1\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u8003\u5bdf\u5019\u9009\u4eba\u5bf9\u96c6\u7fa4\u5b89\u5168\u673a\u5236\u7684\u5168\u9762\u7406\u89e3\u53ca\u5176\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5e94\u7528\u3002</p> <p>\u4ee5\u4e0b\u662f\u66f4\u591a Kubernetes \u5927\u5382\u9762\u8bd5\u4e2d\u5e38\u89c1\u7684\u9898\u76ee\u53ca\u5176\u8be6\u89e3\uff0c\u6db5\u76d6\u4e86\u9ad8\u53ef\u7528\u6027\u3001\u6301\u4e45\u5316\u5b58\u50a8\u3001\u8c03\u5ea6\u7b56\u7565\u3001\u670d\u52a1\u7f51\u683c\u7b49\u66f4\u6df1\u5165\u7684\u4e3b\u9898\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#9-kubernetes","title":"9. Kubernetes \u7684\u9ad8\u53ef\u7528\u6027\u67b6\u6784","text":"<p>\u95ee\u9898\uff1a\u5982\u4f55\u8bbe\u8ba1\u548c\u90e8\u7f72\u4e00\u4e2a\u9ad8\u53ef\u7528\u6027\u7684 Kubernetes \u96c6\u7fa4\uff1f</p> <p>\u89e3\u7b54\uff1a \u9ad8\u53ef\u7528\u6027\uff08HA\uff09Kubernetes \u96c6\u7fa4\u901a\u5e38\u7531\u591a\u4e2a\u63a7\u5236\u5e73\u9762\u8282\u70b9\u548c\u5de5\u4f5c\u8282\u70b9\u7ec4\u6210\uff0c\u4ee5\u786e\u4fdd\u5728\u5355\u4e2a\u8282\u70b9\u6545\u969c\u65f6\u96c6\u7fa4\u4ecd\u7136\u80fd\u591f\u6b63\u5e38\u8fd0\u884c\u3002 - \u63a7\u5236\u5e73\u9762\u8282\u70b9\u9ad8\u53ef\u7528\u6027\uff1a   - API Server\uff1a\u591a\u4e2a API Server \u5b9e\u4f8b\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\uff0c\u5e76\u901a\u8fc7\u8d1f\u8f7d\u5747\u8861\u5668\u8fdb\u884c\u8bbf\u95ee\u3002\u8d1f\u8f7d\u5747\u8861\u5668\u53ef\u4ee5\u662f\u5916\u90e8\u7684\uff08\u5982 AWS ELB\uff09\u6216\u5185\u90e8\u7684\uff08\u5982 HAProxy\uff09\u3002   - etcd\uff1aetcd \u96c6\u7fa4\u901a\u5e38\u7531\u5947\u6570\u4e2a\u6210\u5458\u7ec4\u6210\uff0c\u4ee5\u4fdd\u8bc1 quorum \u5e76\u5b9e\u73b0\u4e00\u81f4\u6027\u3002\u5e94\u786e\u4fdd etcd \u6570\u636e\u5728\u6bcf\u4e2a\u6210\u5458\u4e4b\u95f4\u540c\u6b65\u3002   - Scheduler \u548c Controller Manager\uff1a\u8fd9\u4e9b\u7ec4\u4ef6\u53ef\u4ee5\u5728\u591a\u4e2a\u63a7\u5236\u5e73\u9762\u8282\u70b9\u4e0a\u8fd0\u884c\uff0c\u4f7f\u7528 Leader Election \u673a\u5236\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5728\u6d3b\u52a8\u72b6\u6001\u3002</p> <ul> <li>\u5de5\u4f5c\u8282\u70b9\u9ad8\u53ef\u7528\u6027\uff1a</li> <li>Pod \u5206\u5e03\uff1a\u786e\u4fdd\u5e94\u7528\u7684\u526f\u672c\u5206\u5e03\u5728\u4e0d\u540c\u7684\u5de5\u4f5c\u8282\u70b9\u4e0a\uff0c\u901a\u8fc7 Anti-Affinity \u7b56\u7565\u907f\u514d\u5355\u70b9\u6545\u969c\u3002</li> <li>\u6301\u4e45\u5316\u5b58\u50a8\uff1a\u4f7f\u7528\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\uff08\u5982 Ceph\u3001GlusterFS\uff09\u6216\u4e91\u5b58\u50a8\uff08\u5982 AWS EBS\u3001GCP Persistent Disk\uff09\u6765\u4fdd\u969c\u6570\u636e\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9\u9ad8\u53ef\u7528\u6027\u8bbe\u8ba1\u7684\u7406\u89e3\u53ca\u5176\u5728\u5b9e\u9645\u90e8\u7f72\u4e2d\u7684\u5b9e\u65bd\u80fd\u529b\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#10","title":"10. \u6301\u4e45\u5316\u5b58\u50a8\u7684\u5b9e\u73b0","text":"<p>\u95ee\u9898\uff1a\u5728 Kubernetes \u4e2d\u5982\u4f55\u5b9e\u73b0\u6301\u4e45\u5316\u5b58\u50a8\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\uff1f</p> <p>\u89e3\u7b54\uff1a Kubernetes \u652f\u6301\u591a\u79cd\u65b9\u5f0f\u5b9e\u73b0\u6301\u4e45\u5316\u5b58\u50a8\uff0c\u5e38\u89c1\u7684\u6709\uff1a - PersistentVolume (PV) \u548c PersistentVolumeClaim (PVC)\uff1aPV \u662f\u7ba1\u7406\u5458\u9884\u5148\u914d\u7f6e\u7684\u5b58\u50a8\u8d44\u6e90\uff0cPVC \u662f\u7528\u6237\u8bf7\u6c42\u7684\u5b58\u50a8\u8d44\u6e90\u3002\u901a\u8fc7 PVC \u4e0e PV \u7ed1\u5b9a\uff0cPod \u53ef\u4ee5\u6301\u4e45\u5316\u5b58\u50a8\u6570\u636e\u3002 - StorageClass\uff1a\u52a8\u6001\u521b\u5efa PV \u7684\u673a\u5236\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 PVC \u6307\u5b9a StorageClass\uff0cKubernetes \u4f1a\u6839\u636e\u5b9a\u4e49\u7684 StorageClass \u4f9b\u5e94 PV\u3002 - \u5e38\u89c1\u7684\u5b58\u50a8\u65b9\u6848\uff1a   - NFS\uff1a\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u652f\u6301\u8de8\u8282\u70b9\u7684\u5171\u4eab\u5b58\u50a8\u3002   - Ceph\uff1a\u5206\u5e03\u5f0f\u5b58\u50a8\u7cfb\u7edf\uff0c\u652f\u6301\u5757\u5b58\u50a8\u3001\u5bf9\u8c61\u5b58\u50a8\u548c\u6587\u4ef6\u5b58\u50a8\u3002   - \u4e91\u5b58\u50a8\uff1aAWS EBS\u3001GCP Persistent Disk\u3001Azure Disk \u7b49\uff0c\u5e38\u7528\u4e8e\u4e91\u539f\u751f\u73af\u5883\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9 Kubernetes \u5b58\u50a8\u673a\u5236\u7684\u7406\u89e3\u53ca\u5176\u5728\u4e0d\u540c\u573a\u666f\u4e2d\u7684\u5e94\u7528\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#11-kubernetes","title":"11. Kubernetes \u7684\u8c03\u5ea6\u7b56\u7565","text":"<p>\u95ee\u9898\uff1aKubernetes \u7684\u8c03\u5ea6\u5668\u5982\u4f55\u5de5\u4f5c\uff1f\u5982\u4f55\u81ea\u5b9a\u4e49\u8c03\u5ea6\u7b56\u7565\uff1f</p> <p>\u89e3\u7b54\uff1a Kubernetes \u8c03\u5ea6\u5668\uff08Scheduler\uff09\u8d1f\u8d23\u5c06\u672a\u7ed1\u5b9a\u8282\u70b9\u7684 Pod \u5206\u914d\u5230\u9002\u5408\u7684\u5de5\u4f5c\u8282\u70b9\u4e0a\u3002\u8c03\u5ea6\u5668\u7684\u5de5\u4f5c\u6d41\u7a0b\u5305\u62ec\u4ee5\u4e0b\u6b65\u9aa4\uff1a - \u8fc7\u6ee4\u8282\u70b9\uff1a\u57fa\u4e8e Pod \u7684\u8d44\u6e90\u9700\u6c42\u3001\u8282\u70b9\u7684\u5065\u5eb7\u72b6\u51b5\u3001\u8282\u70b9\u4eb2\u548c\u6027/\u53cd\u4eb2\u548c\u6027\u3001\u6c61\u70b9\u548c\u5bb9\u5fcd\u5ea6\u7b49\uff0c\u7b5b\u9009\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9\u3002 - \u4f18\u9009\u8282\u70b9\uff1a\u5bf9\u7b5b\u9009\u51fa\u7684\u8282\u70b9\u8fdb\u884c\u6253\u5206\uff0c\u9009\u62e9\u5f97\u5206\u6700\u9ad8\u7684\u8282\u70b9\u3002\u6253\u5206\u4f9d\u636e\u5305\u62ec\u8282\u70b9\u7684\u5269\u4f59\u8d44\u6e90\u3001Pod \u4eb2\u548c\u6027\u3001\u8282\u70b9\u7684\u4f18\u5148\u7ea7\u7b49\u3002 - \u81ea\u5b9a\u4e49\u8c03\u5ea6\u7b56\u7565\uff1a\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49 <code>PriorityClass</code> \u81ea\u5b9a\u4e49 Pod \u7684\u4f18\u5148\u7ea7\uff0c\u6216\u8005\u4f7f\u7528 <code>NodeSelector</code>\u3001<code>NodeAffinity</code> \u548c <code>PodAffinity</code> \u6765\u5f71\u54cd\u8c03\u5ea6\u51b3\u7b56\u3002\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u7f16\u5199\u81ea\u5b9a\u4e49\u8c03\u5ea6\u5668\u66ff\u4ee3\u9ed8\u8ba4\u8c03\u5ea6\u5668\uff0c\u6ee1\u8db3\u7279\u5b9a\u7684\u8c03\u5ea6\u9700\u6c42\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9\u8c03\u5ea6\u673a\u5236\u7684\u7406\u89e3\u53ca\u5176\u5728\u590d\u6742\u573a\u666f\u4e2d\u7684\u81ea\u5b9a\u4e49\u8c03\u5ea6\u80fd\u529b\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#12-service-mesh-kubernetes","title":"12. \u670d\u52a1\u7f51\u683c\uff08Service Mesh\uff09\u5728 Kubernetes \u4e2d\u7684\u5e94\u7528","text":"<p>\u95ee\u9898\uff1a\u4ec0\u4e48\u662f\u670d\u52a1\u7f51\u683c\uff1f\u5728 Kubernetes \u4e2d\u5982\u4f55\u5b9e\u73b0\u670d\u52a1\u7f51\u683c\uff1f</p> <p>\u89e3\u7b54\uff1a \u670d\u52a1\u7f51\u683c\u662f\u4e00\u79cd\u7528\u4e8e\u7ba1\u7406\u5fae\u670d\u52a1\u95f4\u901a\u4fe1\u7684\u57fa\u7840\u8bbe\u65bd\u5c42\uff0c\u63d0\u4f9b\u4e86\u6d41\u91cf\u7ba1\u7406\u3001\u670d\u52a1\u53d1\u73b0\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u6545\u969c\u6062\u590d\u3001\u6307\u6807\u76d1\u63a7\u548c\u5b89\u5168\u7b49\u529f\u80fd\u3002Kubernetes \u4e2d\u5e38\u7528\u7684\u670d\u52a1\u7f51\u683c\u5305\u62ec Istio\u3001Linkerd \u7b49\u3002 - Istio \u7684\u6838\u5fc3\u7ec4\u4ef6\uff1a   - Pilot\uff1a\u8d1f\u8d23\u670d\u52a1\u53d1\u73b0\u548c\u6d41\u91cf\u7ba1\u7406\uff0c\u914d\u7f6e Envoy \u4ee3\u7406\u3002   - Mixer\uff1a\u8d1f\u8d23\u7b56\u7565\u68c0\u67e5\u548c\u9065\u6d4b\u6570\u636e\u6536\u96c6\u3002   - Citadel\uff1a\u63d0\u4f9b\u670d\u52a1\u5230\u670d\u52a1\u7684\u5b89\u5168\u8ba4\u8bc1\u548c\u5bc6\u94a5\u7ba1\u7406\u3002   - Envoy\uff1a\u4f5c\u4e3a Sidecar \u4ee3\u7406\uff0c\u4e0e\u6bcf\u4e2a\u670d\u52a1\u4e00\u8d77\u90e8\u7f72\uff0c\u8d1f\u8d23\u5904\u7406\u670d\u52a1\u7684\u8fdb\u51fa\u6d41\u91cf\u3002</p> <ul> <li>\u529f\u80fd\uff1a</li> <li>\u6d41\u91cf\u63a7\u5236\uff1a\u53ef\u4ee5\u5b9e\u73b0 A/B \u6d4b\u8bd5\u3001\u91d1\u4e1d\u96c0\u53d1\u5e03\u3001\u6545\u969c\u6ce8\u5165\u7b49\u9ad8\u7ea7\u6d41\u91cf\u63a7\u5236\u7b56\u7565\u3002</li> <li>\u5b89\u5168\uff1a\u5b9e\u73b0\u670d\u52a1\u95f4\u7684 MTLS \u52a0\u5bc6\uff0c\u786e\u4fdd\u901a\u4fe1\u5b89\u5168\u3002</li> <li>\u76d1\u63a7\uff1a\u901a\u8fc7\u96c6\u6210 Prometheus\u3001Grafana \u548c Jaeger\uff0c\u5b9e\u73b0\u5bf9\u670d\u52a1\u7f51\u683c\u5185\u7684\u53ef\u89c6\u5316\u76d1\u63a7\u548c\u8ffd\u8e2a\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9\u670d\u52a1\u7f51\u683c\u6982\u5ff5\u7684\u7406\u89e3\u53ca\u5176\u5728 Kubernetes \u4e2d\u7684\u5b9e\u9645\u5e94\u7528\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#13-kubernetes","title":"13. Kubernetes \u7684\u7248\u672c\u5347\u7ea7","text":"<p>\u95ee\u9898\uff1a\u5982\u4f55\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u5b89\u5168\u5730\u8fdb\u884c Kubernetes \u96c6\u7fa4\u7684\u7248\u672c\u5347\u7ea7\uff1f</p> <p>\u89e3\u7b54\uff1a Kubernetes \u7684\u7248\u672c\u5347\u7ea7\u9700\u8981\u7279\u522b\u5c0f\u5fc3\uff0c\u4ee5\u907f\u514d\u5bf9\u6b63\u5728\u8fd0\u884c\u7684\u5e94\u7528\u9020\u6210\u5f71\u54cd\u3002\u5b89\u5168\u7684\u5347\u7ea7\u6b65\u9aa4\u901a\u5e38\u5305\u62ec\uff1a - \u89c4\u5212\u548c\u51c6\u5907\uff1a   - \u7248\u672c\u517c\u5bb9\u6027\u68c0\u67e5\uff1a\u9605\u8bfb Kubernetes \u5b98\u65b9\u5347\u7ea7\u6307\u5357\uff0c\u68c0\u67e5\u7ec4\u4ef6\u548c API \u7684\u517c\u5bb9\u6027\uff0c\u7279\u522b\u662f\u5373\u5c06\u5e9f\u5f03\u7684 API\u3002   - \u5907\u4efd\uff1a\u5bf9 etcd \u6570\u636e\u5e93\u548c\u5173\u952e\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u5907\u4efd\u3002   - \u6d4b\u8bd5\u73af\u5883\u6f14\u7ec3\uff1a\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u6a21\u62df\u5347\u7ea7\u8fc7\u7a0b\uff0c\u786e\u4fdd\u4e00\u5207\u6b63\u5e38\u3002</p> <ul> <li>\u63a7\u5236\u5e73\u9762\u5347\u7ea7\uff1a</li> <li>\u9010\u4e00\u5347\u7ea7\u63a7\u5236\u5e73\u9762\u7ec4\u4ef6\uff1a\u5148\u5347\u7ea7 API Server\uff0c\u518d\u5347\u7ea7 Controller Manager\u3001Scheduler \u548c etcd\u3002</li> <li> <p>\u786e\u4fdd\u96c6\u7fa4\u5065\u5eb7\uff1a\u6bcf\u5347\u7ea7\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u4f7f\u7528 <code>kubectl get componentstatuses</code> \u548c <code>kubectl get nodes</code> \u68c0\u67e5\u96c6\u7fa4\u72b6\u6001\u3002</p> </li> <li> <p>\u8282\u70b9\u5347\u7ea7\uff1a</p> </li> <li>\u8282\u70b9\u9010\u4e00\u5347\u7ea7\uff1a\u4f7f\u7528\u6eda\u52a8\u66f4\u65b0\u7b56\u7565\uff0c\u9010\u4e2a\u5c06\u8282\u70b9\u6807\u8bb0\u4e3a\u4e0d\u53ef\u8c03\u5ea6\uff0c\u9010\u6b65\u5347\u7ea7\u8282\u70b9\u4e0a\u7684 kubelet \u548c kube-proxy\u3002</li> <li>\u9a8c\u8bc1\u5e94\u7528\u6b63\u5e38\u8fd0\u884c\uff1a\u5347\u7ea7\u540e\u786e\u4fdd\u6240\u6709 Pod \u6b63\u5e38\u8fd0\u884c\uff0c\u670d\u52a1\u6ca1\u6709\u4e2d\u65ad\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9\u96c6\u7fa4\u7248\u672c\u5347\u7ea7\u7684\u7406\u89e3\u548c\u64cd\u4f5c\u7ecf\u9a8c\uff0c\u7279\u522b\u662f\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5b9e\u8df5\u80fd\u529b\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#14-kubernetes","title":"14. Kubernetes \u7684\u6743\u9650\u63a7\u5236","text":"<p>\u95ee\u9898\uff1aKubernetes \u4e2d\u5982\u4f55\u5b9e\u73b0\u7ec6\u7c92\u5ea6\u7684\u6743\u9650\u63a7\u5236\uff1f\u8bf7\u89e3\u91ca RBAC \u7684\u5de5\u4f5c\u539f\u7406\u3002</p> <p>\u89e3\u7b54\uff1a Kubernetes \u4e2d\u901a\u8fc7 RBAC\uff08\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\uff09\u5b9e\u73b0\u7ec6\u7c92\u5ea6\u7684\u6743\u9650\u63a7\u5236\u3002RBAC \u7684\u5de5\u4f5c\u539f\u7406\u5305\u62ec\u4ee5\u4e0b\u51e0\u70b9\uff1a - \u89d2\u8272 (Role) \u548c\u96c6\u7fa4\u89d2\u8272 (ClusterRole)\uff1a\u5b9a\u4e49\u4e00\u7ec4\u6743\u9650\uff0cRole \u5728\u547d\u540d\u7a7a\u95f4\u7ea7\u522b\u4f5c\u7528\uff0cClusterRole \u5728\u96c6\u7fa4\u7ea7\u522b\u4f5c\u7528\u3002\u6743\u9650\u53ef\u4ee5\u5305\u62ec\u5bf9\u8d44\u6e90\u7684 <code>get</code>\u3001<code>list</code>\u3001<code>create</code>\u3001<code>delete</code> \u7b49\u64cd\u4f5c\u3002 - \u89d2\u8272\u7ed1\u5b9a (RoleBinding) \u548c\u96c6\u7fa4\u89d2\u8272\u7ed1\u5b9a (ClusterRoleBinding)\uff1a\u5c06\u7528\u6237\u3001\u7528\u6237\u7ec4\u6216\u670d\u52a1\u8d26\u6237\u7ed1\u5b9a\u5230\u67d0\u4e2a Role \u6216 ClusterRole \u4e0a\uff0c\u4f7f\u5176\u5177\u5907\u76f8\u5e94\u7684\u6743\u9650\u3002 - \u670d\u52a1\u8d26\u6237\uff1aKubernetes \u4e2d\u7684 Pod \u53ef\u4ee5\u901a\u8fc7\u670d\u52a1\u8d26\u6237\u6765\u8bbf\u95ee API Server\uff0c\u7ed3\u5408 RBAC \u89c4\u5219\uff0c\u63a7\u5236 Pod \u5bf9\u8d44\u6e90\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9 Kubernetes \u6743\u9650\u7ba1\u7406\u7684\u7406\u89e3\u53ca\u5176\u5728\u591a\u79df\u6237\u73af\u5883\u4e2d\u7684\u5e94\u7528\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#15-kubernetes","title":"15. Kubernetes \u96c6\u7fa4\u6545\u969c\u6392\u67e5","text":"<p>\u95ee\u9898\uff1aKubernetes \u96c6\u7fa4\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u95ee\u9898\u65f6\uff0c\u5982\u4f55\u8fdb\u884c\u6545\u969c\u6392\u67e5\uff1f\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\u548c\u5de5\u5177\uff1f</p> <p>\u89e3\u7b54\uff1a Kubernetes \u96c6\u7fa4\u6545\u969c\u6392\u67e5\u901a\u5e38\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u8fdb\u884c\uff1a - \u8282\u70b9\u95ee\u9898\uff1a   - \u68c0\u67e5\u8282\u70b9\u72b6\u6001\uff1a\u4f7f\u7528 <code>kubectl get nodes</code> \u68c0\u67e5\u8282\u70b9\u662f\u5426\u5904\u4e8e <code>Ready</code> \u72b6\u6001\uff0c\u5982\u679c\u8282\u70b9\u4e0d\u53ef\u7528\uff0c\u8fdb\u4e00\u6b65\u4f7f\u7528 <code>kubectl describe node &lt;node-name&gt;</code> \u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\u3002   - \u7cfb\u7edf\u8d44\u6e90\u68c0\u67e5\uff1a\u767b\u5f55\u8282\u70b9\uff0c\u4f7f\u7528 <code>top</code>\u3001<code>df -h</code> \u7b49\u547d\u4ee4\u68c0\u67e5 CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3002</p> <ul> <li>Pod \u95ee\u9898\uff1a</li> <li>\u68c0\u67e5 Pod \u72b6\u6001\uff1a\u4f7f\u7528 <code>kubectl get pods</code> \u67e5\u770b Pod \u7684\u72b6\u6001\uff0c\u4f7f\u7528 <code>kubectl describe pod &lt;pod-name&gt;</code> \u67e5\u770b\u4e8b\u4ef6\u65e5\u5fd7\u3002</li> <li> <p>\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7\uff1a\u4f7f\u7528 <code>kubectl logs &lt;pod-name&gt;</code> \u67e5\u770b\u5bb9\u5668\u65e5\u5fd7\uff0c\u8bca\u65ad\u542f\u52a8\u6216\u8fd0\u884c\u95ee\u9898\u3002</p> </li> <li> <p>\u7f51\u7edc\u95ee\u9898\uff1a</p> </li> <li>\u68c0\u67e5 Service \u548c Ingress\uff1a\u4f7f\u7528 <code>kubectl get services</code> \u548c <code>kubectl get ingress</code> \u67e5\u770b Service \u548c Ingress \u7684\u72b6\u6001\uff0c\u68c0\u67e5\u662f\u5426\u914d\u7f6e\u6b63\u786e\u3002</li> <li> <p>\u8c03\u8bd5\u7f51\u7edc\u8fde\u63a5\uff1a\u4f7f\u7528 <code>kubectl exec &lt;pod-name&gt; -- curl &lt;service-url&gt;</code> \u7b49\u547d\u4ee4\u6d4b\u8bd5 Pod \u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u3002</p> </li> <li> <p>\u5e38\u7528\u5de5\u5177\uff1a</p> </li> <li>kubectl\uff1aKubernetes \u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u7ba1\u7406\u548c\u8c03\u8bd5\u96c6\u7fa4\u3002</li> <li>kube-state-metrics\uff1a\u63d0\u4f9b\u96c6\u7fa4\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u5e2e\u52a9\u76d1\u63a7\u548c\u8bca\u65ad\u95ee\u9898\u3002</li> <li>Prometheus \u548c Grafana\uff1a\u7528\u4e8e\u76d1\u63a7\u96c6\u7fa4\u548c\u5e94\u7528\u7684\u6027\u80fd\u6307\u6807\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5019\u9009\u4eba\u5bf9 Kubernetes \u6545\u969c\u6392\u67e5\u6d41\u7a0b\u7684\u7406\u89e3\u53ca\u5176\u4f7f\u7528\u5de5\u5177\u7684\u80fd\u529b\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#kubernetes_1","title":"kubernetes \u539f\u7406\u7bc7","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5927\u5382\u5e38\u89c1\u7684 Kubernetes \u539f\u7406\u9762\u8bd5\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff0c\u6db5\u76d6\u4e86\u96c6\u7fa4\u7ba1\u7406\u3001\u8d44\u6e90\u8c03\u5ea6\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u7b49\u65b9\u9762\u7684\u6df1\u5165\u7406\u89e3\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#1-kubernetes-pod","title":"1. Kubernetes \u7684\u8282\u70b9\u548c Pod \u751f\u547d\u5468\u671f","text":"<p>\u95ee\u9898\uff1aKubernetes \u662f\u5982\u4f55\u7ba1\u7406\u8282\u70b9\u548c Pod \u7684\u751f\u547d\u5468\u671f\u7684\uff1f\u8bf7\u63cf\u8ff0\u8282\u70b9\u548c Pod \u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\u53ca\u76f8\u5173\u7ec4\u4ef6\u7684\u4f5c\u7528\u3002</p> <p>\u89e3\u7b54\uff1a - \u8282\u70b9 (Node) \u751f\u547d\u5468\u671f\u7ba1\u7406\uff1a   - \u8282\u70b9\u6ce8\u518c\uff1a\u8282\u70b9\u5728\u542f\u52a8\u65f6\u901a\u8fc7 API Server \u6ce8\u518c\u5230\u96c6\u7fa4\uff0c\u5e76\u62a5\u544a\u5176\u72b6\u6001\uff08\u5982\u53ef\u7528\u8d44\u6e90\u3001\u6807\u7b7e\u3001\u6c61\u70b9\uff09\u3002   - \u5065\u5eb7\u68c0\u67e5\uff1aNode Controller \u76d1\u63a7\u8282\u70b9\u7684\u5065\u5eb7\u72b6\u51b5\u3002\u5982\u679c\u8282\u70b9\u957f\u65f6\u95f4\u4e0d\u53ef\u8054\u7cfb\u6216\u5931\u8d25\uff0cNode Controller \u5c06\u8282\u70b9\u6807\u8bb0\u4e3a\u4e0d\u53ef\u7528\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\uff08\u5982\u8fc1\u79fb Pod\uff09\u3002</p> <ul> <li>Pod \u751f\u547d\u5468\u671f\u7ba1\u7406\uff1a</li> <li>\u521b\u5efa\uff1a\u7528\u6237\u901a\u8fc7 Deployment\u3001ReplicaSet \u6216\u76f4\u63a5\u521b\u5efa Pod \u6765\u542f\u52a8\u65b0\u7684 Pod \u5b9e\u4f8b\u3002</li> <li>\u5065\u5eb7\u68c0\u67e5\uff1aKubelet \u901a\u8fc7 Liveness Probe \u548c Readiness Probe \u76d1\u63a7 Pod \u7684\u5065\u5eb7\u72b6\u51b5\u3002Liveness Probe \u7528\u4e8e\u68c0\u67e5 Pod \u662f\u5426\u4ecd\u7136\u8fd0\u884c\uff0cReadiness Probe \u7528\u4e8e\u68c0\u67e5 Pod \u662f\u5426\u51c6\u5907\u597d\u63a5\u53d7\u6d41\u91cf\u3002</li> <li>\u5220\u9664\uff1aPod \u53ef\u4ee5\u56e0\u7528\u6237\u8bf7\u6c42\u3001Deployment \u66f4\u65b0\u6216\u8282\u70b9\u6545\u969c\u7b49\u539f\u56e0\u88ab\u5220\u9664\u3002Kubernetes \u4f1a\u6839\u636e Pod \u7684\u7ec8\u6b62\u7b56\u7565\u548c\u63a7\u5236\u5668\u7684\u914d\u7f6e\u5904\u7406 Pod \u7684\u7ec8\u6b62\u548c\u5220\u9664\u8fc7\u7a0b\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5bf9\u8282\u70b9\u548c Pod \u751f\u547d\u5468\u671f\u7684\u7ba1\u7406\u8fc7\u7a0b\u3001\u76f8\u5173\u7ec4\u4ef6\u7684\u529f\u80fd\u4ee5\u53ca\u5982\u4f55\u786e\u4fdd\u7cfb\u7edf\u7684\u5065\u5eb7\u6027\u548c\u7a33\u5b9a\u6027\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#2-kubernetes-service","title":"2. Kubernetes \u7684 Service \u53d1\u73b0\u673a\u5236","text":"<p>\u95ee\u9898\uff1aKubernetes \u5982\u4f55\u5b9e\u73b0 Service \u7684\u53d1\u73b0\u548c\u8d1f\u8f7d\u5747\u8861\uff1f\u8bf7\u89e3\u91ca ClusterIP\u3001NodePort \u548c LoadBalancer \u7684\u5de5\u4f5c\u539f\u7406\u3002</p> <p>\u89e3\u7b54\uff1a - ClusterIP\uff1a\u9ed8\u8ba4\u7c7b\u578b\u7684 Service\uff0c\u63d0\u4f9b\u96c6\u7fa4\u5185\u90e8\u7684\u865a\u62df IP\u3002Pod \u53ef\u4ee5\u901a\u8fc7 Service \u7684\u540d\u79f0\u548c\u865a\u62df IP \u8bbf\u95ee\u5176\u4ed6 Pod\u3002ClusterIP \u7528\u4e8e\u96c6\u7fa4\u5185\u7684\u670d\u52a1\u53d1\u73b0\u548c\u8d1f\u8f7d\u5747\u8861\uff0ckube-proxy \u8d1f\u8d23\u5c06\u6d41\u91cf\u4ece\u865a\u62df IP \u8f6c\u53d1\u5230\u5b9e\u9645\u7684 Pod \u5b9e\u4f8b\u4e0a\u3002</p> <ul> <li> <p>NodePort\uff1a\u5728\u6bcf\u4e2a\u8282\u70b9\u4e0a\u6253\u5f00\u4e00\u4e2a\u56fa\u5b9a\u7aef\u53e3\uff0c\u5e76\u5c06\u6d41\u91cf\u8f6c\u53d1\u5230 ClusterIP Service\u3002\u9002\u7528\u4e8e\u96c6\u7fa4\u5916\u90e8\u8bbf\u95ee\u670d\u52a1\u3002NodePort \u4f7f\u5f97\u96c6\u7fa4\u5916\u90e8\u53ef\u4ee5\u901a\u8fc7\u8282\u70b9\u7684 IP \u548c NodePort \u8bbf\u95ee Service\u3002</p> </li> <li> <p>LoadBalancer\uff1a\u5728\u4e91\u73af\u5883\u4e2d\uff0cService \u8bf7\u6c42\u4e91\u63d0\u4f9b\u5546\u521b\u5efa\u4e00\u4e2a\u5916\u90e8\u8d1f\u8f7d\u5747\u8861\u5668\u3002\u8d1f\u8f7d\u5747\u8861\u5668\u5c06\u6d41\u91cf\u5206\u53d1\u5230 NodePort Service \u4e0a\uff0c\u63d0\u4f9b\u4e00\u4e2a\u5916\u90e8\u53ef\u8bbf\u95ee\u7684 IP \u5730\u5740\u3002</p> </li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5bf9 Kubernetes Service \u53d1\u73b0\u548c\u8d1f\u8f7d\u5747\u8861\u673a\u5236\u7684\u7406\u89e3\uff0c\u4ee5\u53ca\u5982\u4f55\u9009\u62e9\u9002\u5f53\u7684 Service \u7c7b\u578b\u6765\u6ee1\u8db3\u4e0d\u540c\u7684\u8bbf\u95ee\u9700\u6c42\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#3-kubernetes","title":"3. Kubernetes \u8c03\u5ea6\u5668\u7684\u8c03\u5ea6\u7b56\u7565","text":"<p>\u95ee\u9898\uff1aKubernetes \u8c03\u5ea6\u5668\u4f7f\u7528\u4e86\u54ea\u4e9b\u8c03\u5ea6\u7b56\u7565\u6765\u51b3\u5b9a Pod \u7684\u8c03\u5ea6\uff1f\u8bf7\u8be6\u7ec6\u8bf4\u660e\u5176\u8c03\u5ea6\u6d41\u7a0b\u548c\u7b56\u7565\u3002</p> <p>\u89e3\u7b54\uff1a - \u8c03\u5ea6\u7b56\u7565\uff1a   - \u8fc7\u6ee4\u9636\u6bb5\uff1a\u8c03\u5ea6\u5668\u9996\u5148\u8fc7\u6ee4\u6389\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9\u3002\u4f8b\u5982\uff0c\u68c0\u67e5\u8282\u70b9\u7684\u8d44\u6e90\u662f\u5426\u8db3\u591f\uff08CPU\u3001\u5185\u5b58\uff09\u3001\u8282\u70b9\u7684\u4eb2\u548c\u6027\uff08\u8282\u70b9\u6807\u7b7e\uff09\u3001\u6c61\u70b9\u548c\u5bb9\u5fcd\u5ea6\u3002   - \u4f18\u9009\u9636\u6bb5\uff1a\u5bf9\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9\u8fdb\u884c\u6253\u5206\u3002\u8c03\u5ea6\u5668\u6839\u636e\u8282\u70b9\u7684\u8d44\u6e90\u5229\u7528\u7387\u3001Pod \u7684\u5206\u5e03\u3001\u8282\u70b9\u7684\u5065\u5eb7\u72b6\u6001\u7b49\u56e0\u7d20\u5bf9\u8282\u70b9\u8fdb\u884c\u8bc4\u5206\u3002\u5e38\u89c1\u7684\u8bc4\u5206\u7b56\u7565\u5305\u62ec\u8d44\u6e90\u5229\u7528\u7387\u7684\u5747\u8861\u3001\u6570\u636e\u5c40\u90e8\u6027\u7b49\u3002   - \u9009\u62e9\u8282\u70b9\uff1a\u6839\u636e\u6253\u5206\u7ed3\u679c\u9009\u62e9\u5f97\u5206\u6700\u9ad8\u7684\u8282\u70b9\uff0c\u5c06 Pod \u8c03\u5ea6\u5230\u8be5\u8282\u70b9\u3002</p> <p>\u8003\u5bdf\u70b9\uff1a\u5bf9\u8c03\u5ea6\u5668\u7684\u8c03\u5ea6\u7b56\u7565\u3001\u8282\u70b9\u9009\u62e9\u6d41\u7a0b\u3001\u8bc4\u5206\u673a\u5236\u7684\u7406\u89e3\uff0c\u5982\u4f55\u4f18\u5316\u8c03\u5ea6\u51b3\u7b56\u4ee5\u5b9e\u73b0\u8d44\u6e90\u7684\u6709\u6548\u5229\u7528\u548c\u8d1f\u8f7d\u5747\u8861\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#4-kubernetes","title":"4. Kubernetes \u5b58\u50a8\u5377\u7684\u539f\u7406","text":"<p>\u95ee\u9898\uff1aKubernetes \u662f\u5982\u4f55\u7ba1\u7406\u6301\u4e45\u5316\u5b58\u50a8\u7684\uff1fPersistentVolume (PV)\u3001PersistentVolumeClaim (PVC) \u548c StorageClass \u7684\u5de5\u4f5c\u539f\u7406\u662f\u4ec0\u4e48\uff1f</p> <p>\u89e3\u7b54\uff1a - PersistentVolume (PV)\uff1aPV \u662f\u96c6\u7fa4\u4e2d\u4e00\u4e2a\u9884\u5148\u914d\u7f6e\u7684\u5b58\u50a8\u8d44\u6e90\uff0c\u8868\u793a\u4e00\u5757\u6301\u4e45\u5316\u5b58\u50a8\u3002PV \u7684\u751f\u547d\u5468\u671f\u72ec\u7acb\u4e8e Pod\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7 NFS\u3001iSCSI\u3001\u4e91\u5b58\u50a8\u7b49\u65b9\u5f0f\u63d0\u4f9b\u5b58\u50a8\u3002</p> <ul> <li> <p>PersistentVolumeClaim (PVC)\uff1aPVC \u662f\u7528\u6237\u5bf9\u5b58\u50a8\u7684\u8bf7\u6c42\u3002\u7528\u6237\u901a\u8fc7 PVC \u6307\u5b9a\u6240\u9700\u7684\u5b58\u50a8\u5bb9\u91cf\u3001\u8bbf\u95ee\u6a21\u5f0f\u7b49\u3002Kubernetes \u6839\u636e PVC \u7684\u8981\u6c42\u7ed1\u5b9a\u5230\u5408\u9002\u7684 PV \u4e0a\u3002</p> </li> <li> <p>StorageClass\uff1a\u5b9a\u4e49\u4e86\u5b58\u50a8\u7684\u52a8\u6001\u4f9b\u5e94\u89c4\u5219\u3002\u7528\u6237\u901a\u8fc7 PVC \u8bf7\u6c42\u7279\u5b9a\u7684 StorageClass\uff0cKubernetes \u6839\u636e StorageClass \u7684\u914d\u7f6e\u52a8\u6001\u521b\u5efa PV\u3002StorageClass \u53ef\u4ee5\u6307\u5b9a\u5b58\u50a8\u7684\u7c7b\u578b\u3001\u8bbf\u95ee\u6a21\u5f0f\u3001\u8c03\u5ea6\u7b56\u7565\u7b49\u3002</p> </li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5bf9 Kubernetes \u5b58\u50a8\u673a\u5236\u3001PV \u548c PVC \u7684\u5de5\u4f5c\u539f\u7406\u3001\u52a8\u6001\u4f9b\u5e94\u7684\u914d\u7f6e\u548c\u4f7f\u7528\u7684\u7406\u89e3\uff0c\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7 StorageClass \u7ba1\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u5b58\u50a8\u9700\u6c42\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#5-kubernetes_1","title":"5. Kubernetes \u7684\u7f51\u7edc\u6a21\u578b\u548c\u7f51\u7edc\u7b56\u7565","text":"<p>\u95ee\u9898\uff1aKubernetes \u7f51\u7edc\u6a21\u578b\u662f\u5982\u4f55\u8bbe\u8ba1\u7684\uff1fNetworkPolicy \u5982\u4f55\u63a7\u5236 Pod \u95f4\u7684\u7f51\u7edc\u6d41\u91cf\uff1f</p> <p>\u89e3\u7b54\uff1a - \u7f51\u7edc\u6a21\u578b\uff1a   - \u6bcf\u4e2a Pod \u6709\u552f\u4e00 IP\uff1a\u5728\u96c6\u7fa4\u5185\uff0c\u6bcf\u4e2a Pod \u62e5\u6709\u4e00\u4e2a\u552f\u4e00\u7684 IP \u5730\u5740\uff0cPod \u4e4b\u95f4\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 IP \u5730\u5740\u8fdb\u884c\u901a\u4fe1\u3002\u7f51\u7edc\u6a21\u578b\u57fa\u4e8e CNI \u63d2\u4ef6\uff0c\u5982 Flannel\u3001Calico\u3001Weave \u7b49\u3002   - Service \u673a\u5236\uff1aService \u63d0\u4f9b\u7a33\u5b9a\u7684\u865a\u62df IP \u548c\u670d\u52a1\u540d\u79f0\uff0c\u901a\u8fc7 kube-proxy \u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u548c\u6d41\u91cf\u8f6c\u53d1\u3002</p> <ul> <li>NetworkPolicy\uff1a</li> <li>\u6d41\u91cf\u63a7\u5236\uff1aNetworkPolicy \u7528\u4e8e\u5b9a\u4e49 Pod \u95f4\u7684\u6d41\u91cf\u89c4\u5219\uff0c\u63a7\u5236\u54ea\u4e9b Pod \u53ef\u4ee5\u4e0e\u5176\u4ed6 Pod \u901a\u4fe1\u3002\u53ef\u4ee5\u6307\u5b9a\u5141\u8bb8\u6216\u62d2\u7edd\u7684\u6d41\u91cf\u89c4\u5219\u3002</li> <li>\u9ed8\u8ba4\u7b56\u7565\uff1a\u5982\u679c\u6ca1\u6709\u5b9a\u4e49 NetworkPolicy\uff0c\u9ed8\u8ba4\u5141\u8bb8\u6240\u6709 Pod \u95f4\u7684\u6d41\u91cf\u3002\u5b9a\u4e49 NetworkPolicy \u540e\uff0c\u672a\u88ab\u5141\u8bb8\u7684\u6d41\u91cf\u5c06\u88ab\u62d2\u7edd\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5bf9 Kubernetes \u7f51\u7edc\u6a21\u578b\u3001CNI \u63d2\u4ef6\u3001Service \u548c NetworkPolicy \u7684\u7406\u89e3\uff0c\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7 NetworkPolicy \u5b9e\u73b0\u7f51\u7edc\u5b89\u5168\u548c\u6d41\u91cf\u63a7\u5236\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/interview/#6-kubernetes_1","title":"6. Kubernetes \u7684\u81ea\u6108\u80fd\u529b\u548c\u6545\u969c\u6062\u590d","text":"<p>\u95ee\u9898\uff1aKubernetes \u5982\u4f55\u5b9e\u73b0\u81ea\u6108\u548c\u6545\u969c\u6062\u590d\uff1f\u4f8b\u5982\uff0c\u5f53\u4e00\u4e2a Pod \u6216\u8282\u70b9\u5931\u8d25\u65f6\uff0cKubernetes \u5982\u4f55\u5904\u7406\uff1f</p> <p>\u89e3\u7b54\uff1a - Pod \u81ea\u6108\uff1a   - Liveness Probe\uff1a\u7528\u4e8e\u68c0\u67e5 Pod \u662f\u5426\u5904\u4e8e\u5065\u5eb7\u72b6\u6001\u3002\u5982\u679c Liveness Probe \u5931\u8d25\uff0cKubelet \u4f1a\u91cd\u542f Pod\u3002   - ReplicaSet\uff1a\u786e\u4fdd\u6307\u5b9a\u6570\u91cf\u7684 Pod \u526f\u672c\u59cb\u7ec8\u8fd0\u884c\u3002\u5982\u679c\u4e00\u4e2a Pod \u5931\u8d25\uff0cReplicaSet \u4f1a\u521b\u5efa\u65b0\u7684 Pod \u66ff\u4ee3\u5931\u8d25\u7684 Pod\u3002</p> <ul> <li>\u8282\u70b9\u6545\u969c\uff1a</li> <li> <p>Node Controller\uff1a\u76d1\u63a7\u8282\u70b9\u7684\u72b6\u6001\u3002\u5982\u679c\u8282\u70b9\u957f\u65f6\u95f4\u4e0d\u53ef\u7528\uff0cNode Controller \u4f1a\u5c06\u5176\u6807\u8bb0\u4e3a\u4e0d\u53ef\u7528\uff0c\u5e76\u5c06\u8282\u70b9\u4e0a\u7684 Pod \u8fc1\u79fb\u5230\u5176\u4ed6\u5065\u5eb7\u8282\u70b9\u3002</p> </li> <li> <p>\u6301\u4e45\u5316\u5b58\u50a8\uff1a</p> </li> <li>PersistentVolume\uff1a\u5373\u4f7f Pod \u5931\u8d25\u6216\u91cd\u65b0\u8c03\u5ea6\uff0c\u6570\u636e\u4ecd\u7136\u6301\u4e45\u5316\u5b58\u5728\u3002PVC \u548c PV \u63d0\u4f9b\u6570\u636e\u6301\u4e45\u5316\u4fdd\u969c\u3002</li> </ul> <p>\u8003\u5bdf\u70b9\uff1a\u5bf9 Kubernetes \u7684\u81ea\u6108\u80fd\u529b\u3001\u6545\u969c\u6062\u590d\u673a\u5236\u3001Pod \u548c\u8282\u70b9\u6545\u969c\u5904\u7406\u6d41\u7a0b\u7684\u7406\u89e3\u3002</p> <p>\u8fd9\u4e9b\u9898\u76ee\u65e8\u5728\u8003\u5bdf\u4f60\u5bf9 Kubernetes \u539f\u7406\u7684\u6df1\u523b\u7406\u89e3\u548c\u5e94\u7528\u80fd\u529b\uff0c\u5e0c\u671b\u5bf9\u4f60\u7684\u9762\u8bd5\u51c6\u5907\u6709\u6240\u5e2e\u52a9\uff01</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/","title":"kubernetes \u76d1\u63a7\u5e73\u53f0\u548c\u65e5\u5fd7\u7ba1\u7406","text":"<p>Kubernetes\uff08K8s\uff09\u7684\u76d1\u63a7\u548c\u65e5\u5fd7\u7ba1\u7406\u662f\u786e\u4fdd\u96c6\u7fa4\u7a33\u5b9a\u8fd0\u884c\u3001\u5feb\u901f\u8bca\u65ad\u95ee\u9898\u3001\u4f18\u5316\u8d44\u6e90\u5229\u7528\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u76d1\u63a7\u53ef\u4ee5\u5e2e\u52a9\u4f60\u4e86\u89e3\u96c6\u7fa4\u548c\u5e94\u7528\u7684\u8fd0\u884c\u72b6\u51b5\uff0c\u65e5\u5fd7\u7ba1\u7406\u5219\u662f\u5206\u6790\u548c\u6392\u67e5\u95ee\u9898\u7684\u5173\u952e\u624b\u6bb5\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8be6\u7ec6\u63a2\u8ba8 Kubernetes \u7684\u76d1\u63a7\u548c\u65e5\u5fd7\u7ba1\u7406\uff0c\u5305\u62ec\u5de5\u5177\u9009\u62e9\u3001\u90e8\u7f72\u793a\u4f8b\u53ca\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#1-kubernetes","title":"1. Kubernetes \u76d1\u63a7","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#11","title":"1.1 \u76d1\u63a7\u7684\u76ee\u6807","text":"<p>Kubernetes \u76d1\u63a7\u7684\u76ee\u6807\u5305\u62ec\uff1a - \u96c6\u7fa4\u76d1\u63a7\uff1a\u76d1\u63a7\u8282\u70b9\u3001Pod\u3001\u5bb9\u5668\u7684\u5065\u5eb7\u72b6\u6001\u548c\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff08CPU\u3001\u5185\u5b58\u3001\u7f51\u7edc\u7b49\uff09\u3002 - \u5e94\u7528\u76d1\u63a7\uff1a\u76d1\u63a7\u5e94\u7528\u7a0b\u5e8f\u7684\u6027\u80fd\u6307\u6807\uff0c\u5982\u8bf7\u6c42\u91cf\u3001\u54cd\u5e94\u65f6\u95f4\u3001\u9519\u8bef\u7387\u7b49\u3002 - \u65e5\u5fd7\u76d1\u63a7\uff1a\u6536\u96c6\u5e76\u5206\u6790\u65e5\u5fd7\uff0c\u4ee5\u5feb\u901f\u53d1\u73b0\u95ee\u9898\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#12","title":"1.2 \u76d1\u63a7\u5de5\u5177","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#121-prometheus","title":"1.2.1 Prometheus","text":"<p>Prometheus \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u76d1\u63a7\u7cfb\u7edf\uff0c\u4e13\u4e3a\u4e91\u539f\u751f\u5e94\u7528\u8bbe\u8ba1\u3002\u5b83\u4ee5\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u7684\u5f62\u5f0f\u6536\u96c6\u6307\u6807\uff0c\u5e76\u652f\u6301\u5f3a\u5927\u7684\u67e5\u8be2\u8bed\u8a00\uff08PromQL\uff09\u6765\u5206\u6790\u8fd9\u4e9b\u6570\u636e\u3002</p> <ul> <li>\u4f18\u70b9\uff1a</li> <li>\u5f3a\u5927\u7684\u67e5\u8be2\u529f\u80fd\u3002</li> <li>\u652f\u6301\u81ea\u52a8\u670d\u52a1\u53d1\u73b0\uff0c\u9002\u5408\u52a8\u6001\u73af\u5883\u3002</li> <li> <p>\u4e30\u5bcc\u7684\u751f\u6001\u7cfb\u7edf\uff0c\u5982 Alertmanager\u3001Grafana \u96c6\u6210\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u5b58\u50a8\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u7684\u6269\u5c55\u6027\u6709\u9650\uff0c\u9002\u5408\u77ed\u671f\u5b58\u50a8\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#122-grafana","title":"1.2.2 Grafana","text":"<p>Grafana \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u5e38\u4e0e Prometheus \u7ed3\u5408\u4f7f\u7528\uff0c\u7528\u4e8e\u6784\u5efa\u5b9e\u65f6\u7684\u76d1\u63a7\u4eea\u8868\u677f\u3002</p> <ul> <li>\u4f18\u70b9\uff1a</li> <li>\u4e30\u5bcc\u7684\u63d2\u4ef6\u652f\u6301\u591a\u79cd\u6570\u636e\u6e90\u3002</li> <li>\u53ef\u5b9a\u5236\u7684\u53ef\u89c6\u5316\u7ec4\u4ef6\u3002</li> <li> <p>\u5f3a\u5927\u7684\u6743\u9650\u7ba1\u7406\u548c\u7ec4\u7ec7\u529f\u80fd\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u521d\u59cb\u914d\u7f6e\u53ef\u80fd\u8f83\u4e3a\u590d\u6742\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#123-alertmanager","title":"1.2.3 Alertmanager","text":"<p>Alertmanager \u662f Prometheus \u751f\u6001\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\uff0c\u7528\u4e8e\u5904\u7406\u7531 Prometheus \u89e6\u53d1\u7684\u62a5\u8b66\u3002\u5b83\u53ef\u4ee5\u5206\u7ec4\u3001\u6291\u5236\u3001\u91cd\u5199\u548c\u8def\u7531\u8b66\u62a5\uff0c\u5e76\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u3001Slack\u3001PagerDuty \u7b49\u53d1\u9001\u901a\u77e5\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#13-prometheus-grafana","title":"1.3 \u90e8\u7f72 Prometheus \u548c Grafana","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#131-prometheus","title":"1.3.1 Prometheus \u90e8\u7f72","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u4e3a Prometheus \u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6 <code>prometheus-config.yaml</code>\uff0c\u5b9a\u4e49\u8981\u76d1\u63a7\u7684\u76ee\u6807\u548c\u5168\u5c40\u8bbe\u7f6e\u3002</p> <p>prometheus-config.yaml \u793a\u4f8b\uff1a</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-config\n  namespace: monitoring\ndata:\n  prometheus.yml: |\n    global:\n      scrape_interval: 15s\n    scrape_configs:\n      - job_name: 'kubernetes-apiservers'\n        kubernetes_sd_configs:\n        - role: endpoints\n      - job_name: 'kubernetes-nodes'\n        kubernetes_sd_configs:\n        - role: node\n      - job_name: 'kubernetes-pods'\n        kubernetes_sd_configs:\n        - role: pod\n</code></pre> <p>\u90e8\u7f72 Prometheus\uff1a</p> <pre><code>kubectl create namespace monitoring\nkubectl apply -f prometheus-config.yaml\n\nkubectl apply -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/master/bundle.yaml\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#132-grafana","title":"1.3.2 Grafana \u90e8\u7f72","text":"<p>Grafana \u7684\u90e8\u7f72\u6587\u4ef6 <code>grafana-deployment.yaml</code> \u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: monitoring\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      containers:\n      - name: grafana\n        image: grafana/grafana:latest\n        ports:\n        - containerPort: 3000\n</code></pre> <p>\u90e8\u7f72 Grafana\uff1a</p> <pre><code>kubectl apply -f grafana-deployment.yaml\n</code></pre> <p>\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 NodePort \u6216 Ingress \u8bbf\u95ee Grafana \u7684 web \u754c\u9762\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4e3a <code>3000</code>\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#14-prometheus-grafana","title":"1.4 \u914d\u7f6e Prometheus \u548c Grafana","text":"<ol> <li>\u6dfb\u52a0\u6570\u636e\u6e90\uff1a</li> <li>\u5728 Grafana \u4e2d\uff0c\u767b\u5f55\u540e\u5bfc\u822a\u81f3 \"Configuration\" -&gt; \"Data Sources\" -&gt; \"Add Data Source\"\u3002</li> <li> <p>\u9009\u62e9 Prometheus\uff0c\u586b\u5165 Prometheus \u670d\u52a1\u7684 URL\uff08\u5982 <code>http://prometheus-server.monitoring.svc:9090</code>\uff09\uff0c\u4fdd\u5b58\u3002</p> </li> <li> <p>\u521b\u5efa\u4eea\u8868\u677f\uff1a</p> </li> <li>\u5728 Grafana \u4e2d\u5bfc\u822a\u81f3 \"Create\" -&gt; \"Dashboard\"\u3002</li> <li> <p>\u6dfb\u52a0\u9762\u677f\u5e76\u4f7f\u7528 PromQL \u8fdb\u884c\u67e5\u8be2\uff0c\u5982 <code>sum(rate(http_requests_total[5m]))</code> \u76d1\u63a7 HTTP \u8bf7\u6c42\u901f\u7387\u3002</p> </li> <li> <p>\u8bbe\u7f6e\u62a5\u8b66\uff1a</p> </li> <li>\u5728 Prometheus \u914d\u7f6e\u4e2d\uff0c\u5b9a\u4e49\u62a5\u8b66\u89c4\u5219\u3002</li> <li>\u914d\u7f6e Alertmanager\uff0c\u5c06\u62a5\u8b66\u53d1\u9001\u5230\u6307\u5b9a\u7684\u6e20\u9053\uff0c\u5982\u7535\u5b50\u90ae\u4ef6\u3001Slack\u3002</li> </ol>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#2-kubernetes","title":"2. Kubernetes \u65e5\u5fd7\u7ba1\u7406","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#21","title":"2.1 \u65e5\u5fd7\u7ba1\u7406\u7684\u76ee\u6807","text":"<ul> <li>\u96c6\u4e2d\u5316\u7ba1\u7406\uff1a\u5c06\u5206\u5e03\u5728\u591a\u4e2a\u8282\u70b9\u548c\u5bb9\u5668\u7684\u65e5\u5fd7\u96c6\u4e2d\u5230\u4e00\u4e2a\u5730\u65b9\uff0c\u4fbf\u4e8e\u641c\u7d22\u548c\u5206\u6790\u3002</li> <li>\u5b9e\u65f6\u76d1\u63a7\uff1a\u5b9e\u65f6\u67e5\u770b\u65e5\u5fd7\uff0c\u5feb\u901f\u53d1\u73b0\u95ee\u9898\u3002</li> <li>\u6301\u4e45\u5316\u5b58\u50a8\uff1a\u65e5\u5fd7\u53ef\u4ee5\u957f\u671f\u4fdd\u5b58\u4ee5\u5907\u540e\u7eed\u5206\u6790\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#22","title":"2.2 \u65e5\u5fd7\u7ba1\u7406\u5de5\u5177","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#221-elk-stackelasticsearch-logstash-kibana","title":"2.2.1 ELK Stack\uff08Elasticsearch, Logstash, Kibana\uff09","text":"<p>ELK Stack \u662f\u4e00\u4e2a\u6d41\u884c\u7684\u65e5\u5fd7\u7ba1\u7406\u548c\u5206\u6790\u5e73\u53f0\uff1a - Elasticsearch\uff1a\u8d1f\u8d23\u5b58\u50a8\u548c\u641c\u7d22\u65e5\u5fd7\u6570\u636e\u3002 - Logstash\uff1a\u8d1f\u8d23\u4ece\u5404\u4e2a\u6e90\u6536\u96c6\u65e5\u5fd7\u5e76\u8fdb\u884c\u5904\u7406\u3002 - Kibana\uff1a\u63d0\u4f9b\u5f3a\u5927\u7684\u65e5\u5fd7\u53ef\u89c6\u5316\u548c\u67e5\u8be2\u754c\u9762\u3002</p>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#222-fluentd-fluent-bit","title":"2.2.2 Fluentd \u548c Fluent Bit","text":"<p>Fluentd \u548c Fluent Bit \u662f\u5f00\u6e90\u7684\u65e5\u5fd7\u6536\u96c6\u5668\uff0c\u901a\u5e38\u7528\u4e8e\u4ece Kubernetes \u96c6\u7fa4\u4e2d\u6536\u96c6\u65e5\u5fd7\uff0c\u5e76\u5c06\u5176\u53d1\u9001\u5230 Elasticsearch\u3001Kafka \u7b49\u540e\u7aef\u3002</p> <ul> <li>Fluent Bit\uff1a\u8f7b\u91cf\u7ea7\u65e5\u5fd7\u6536\u96c6\u5668\uff0c\u9002\u5408\u8d44\u6e90\u6709\u9650\u7684\u73af\u5883\u3002</li> <li>Fluentd\uff1a\u529f\u80fd\u66f4\u5f3a\u5927\uff0c\u652f\u6301\u66f4\u590d\u6742\u7684\u65e5\u5fd7\u5904\u7406\u3002</li> </ul>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#23-elk-stack","title":"2.3 \u90e8\u7f72 ELK Stack","text":""},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#231-elasticsearch","title":"2.3.1 \u90e8\u7f72 Elasticsearch","text":"<p>Elasticsearch \u90e8\u7f72\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: elasticsearch\n  namespace: logging\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: elasticsearch\n  template:\n    metadata:\n      labels:\n        app: elasticsearch\n    spec:\n      containers:\n      - name: elasticsearch\n        image: docker.elastic.co/elasticsearch/elasticsearch:7.10.1\n        env:\n        - name: discovery.type\n          value: single-node\n        ports:\n        - containerPort: 9200\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#232-logstash","title":"2.3.2 \u90e8\u7f72 Logstash","text":"<p>Logstash \u90e8\u7f72\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: logstash\n  namespace: logging\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: logstash\n  template:\n    metadata:\n      labels:\n        app: logstash\n    spec:\n      containers:\n      - name: logstash\n        image: docker.elastic.co/logstash/logstash:7.10.1\n        ports:\n        - containerPort: 5044\n        volumeMounts:\n        - name: config-volume\n          mountPath: /usr/share/logstash/pipeline\n      volumes:\n      - name: config-volume\n        configMap:\n          name: logstash-config\n</code></pre> <p>Logstash \u914d\u7f6e\u793a\u4f8b\uff08<code>logstash-config.yaml</code>\uff09\uff1a</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: logstash-config\n  namespace: logging\ndata:\n  logstash.conf: |\n    input {\n      beats {\n        port =&gt; 5044\n      }\n    }\n    output {\n      elasticsearch {\n        hosts =&gt; [\"elasticsearch.logging.svc:9200\"]\n        index =&gt; \"logstash-%{+YYYY.MM.dd}\"\n      }\n    }\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#233-kibana","title":"2.3.3 \u90e8\u7f72 Kibana","text":"<p>Kibana \u90e8\u7f72\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: kibana\n  namespace: logging\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: kibana\n  template:\n    metadata:\n      labels:\n        app: kibana\n    spec:\n      containers:\n      - name: kibana\n        image: docker.elastic.co/kibana/kibana:7.10.1\n        ports:\n        - containerPort: 5601\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#24-fluentd","title":"2.4 \u90e8\u7f72 Fluentd","text":"<p>Fluentd \u914d\u7f6e\u6587\u4ef6\u793a\u4f8b\uff08<code>fluentd-configmap.yaml</code>\uff09\uff1a</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: fluentd-config\n  namespace: logging\ndata:\n  fluent.conf: |\n    &lt;source&gt;\n      @type tail\n      path /var/log/containers/*.log\n      pos_file /var/log/fluentd-containers.log.pos\n      tag kube.*\n      &lt;parse&gt;\n        @type json\n      &lt;/parse&gt;\n    &lt;/source&gt;\n    &lt;match kube.**&gt;\n      @type elasticsearch\n      host elasticsearch.logging.svc\n      port 9200\n      logstash_format true\n    &lt;/match&gt;\n</code></pre> <p>Fluentd \u90e8\u7f72\u793a\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: fluentd\n  namespace: logging\nspec:\n  selector:\n    matchLabels:\n      app: fluentd\n  template:\n    metadata:\n      labels:\n        app: fluentd\n    spec:\n      containers:\n      - name: fluentd\n        image: fluent/fluentd:latest\n        volumeMounts:\n        - name: varlog\n          mountPath: /var/log\n        - name: config-volume\n          mountPath: /fluentd/etc\n      volumes:\n      - name: varlog\n        hostPath:\n          path: /var/log\n      - name: config-volume\n        configMap:\n          name: fluentd-config\n</code></pre>"},{"location":"%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/monitor/#25","title":"2.5 \u8bbf\u95ee\u548c\u5206\u6790\u65e5\u5fd7","text":"<ol> <li>\u8bbf\u95ee Kibana\uff1a</li> <li>Kibana \u7684 web \u754c\u9762\u53ef\u4ee5\u901a\u8fc7 NodePort \u6216 Ingress \u8bbf\u95ee\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4e3a <code>5601</code>\u3002</li> <li> <p>\u5728 Kibana \u4e2d\uff0c\u53ef\u4ee5\u521b\u5efa\u7d22\u5f15\u6a21\u5f0f\uff08Index Patterns\uff09\uff0c\u5982 <code>logstash-*</code>\uff0c\u7528\u4e8e\u641c\u7d22\u548c\u5206\u6790\u65e5\u5fd7\u3002</p> </li> <li> <p>\u67e5\u8be2\u65e5\u5fd7\uff1a</p> </li> <li>\u4f7f\u7528 Kibana \u7684 Discover \u529f\u80fd\uff0c\u53ef\u4ee5\u67e5\u8be2\u7279\u5b9a\u65f6\u95f4\u6bb5\u5185\u7684\u65e5\u5fd7\u3002</li> <li>\u4f7f\u7528 Kibana \u7684\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u53ef\u4ee5\u521b\u5efa\u81ea\u5b9a\u4e49\u4eea\u8868\u677f\uff0c\u76d1\u63a7\u4e0d\u540c\u7684\u65e5\u5fd7\u6307\u6807\u3002</li> </ol> <p>\u901a\u8fc7\u4ee5\u4e0a\u7684\u76d1\u63a7\u548c\u65e5\u5fd7\u7ba1\u7406\u8bbe\u7f6e\uff0c\u4f60\u53ef\u4ee5\u5168\u9762\u4e86\u89e3 Kubernetes \u96c6\u7fa4\u7684\u8fd0\u884c\u72b6\u51b5\uff0c\u5e76\u5feb\u901f\u8bca\u65ad\u548c\u89e3\u51b3\u95ee\u9898\u3002\u5982\u679c\u9700\u8981\u66f4\u6df1\u5165\u7684\u793a\u4f8b\u6216\u89e3\u91ca\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8ba8\u8bba\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/","title":"AI \u6559\u7a0b","text":"<p>\u4eba\u5de5\u667a\u80fd\uff08AI\uff09\u5f00\u53d1\u6d89\u53ca\u4ece\u6784\u601d\u5230\u90e8\u7f72\u548c\u7ef4\u62a4\u7684\u5168\u8fc7\u7a0b\uff0c\u5305\u62ec\u6a21\u578b\u9009\u62e9\u3001\u6570\u636e\u51c6\u5907\u3001\u8bad\u7ec3\u3001\u8bc4\u4f30\u548c\u4f18\u5316\u3002\u4ee5\u4e0b\u662f\u4eba\u5de5\u667a\u80fd\u5f00\u53d1\u7684\u8be6\u7ec6\u6b65\u9aa4\u548c\u5173\u952e\u6982\u5ff5\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#1-ai","title":"1. AI \u5f00\u53d1\u7684\u4e3b\u8981\u6b65\u9aa4","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#11","title":"1.1. \u95ee\u9898\u5b9a\u4e49","text":"<p>\u5728\u5f00\u59cb\u5f00\u53d1\u4e4b\u524d\uff0c\u9700\u8981\u660e\u786e\u8981\u89e3\u51b3\u7684\u95ee\u9898\u6216\u5b9e\u73b0\u7684\u76ee\u6807\u3002\u8fd9\u4e00\u6b65\u9aa4\u5305\u62ec\uff1a</p> <ul> <li>\u9700\u6c42\u5206\u6790\uff1a\u660e\u786e\u4e1a\u52a1\u9700\u6c42\u6216\u6280\u672f\u76ee\u6807\u3002</li> <li>\u4efb\u52a1\u5b9a\u4e49\uff1a\u5b9a\u4e49\u5177\u4f53\u7684 AI \u4efb\u52a1\uff0c\u4f8b\u5982\u5206\u7c7b\u3001\u56de\u5f52\u3001\u751f\u6210\u3001\u68c0\u6d4b\u7b49\u3002</li> <li>\u6210\u529f\u6807\u51c6\uff1a\u786e\u5b9a\u8861\u91cf\u6a21\u578b\u6027\u80fd\u7684\u6807\u51c6\uff0c\u4f8b\u5982\u51c6\u786e\u7387\u3001\u53ec\u56de\u7387\u3001F1 \u5206\u6570\u7b49\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#12","title":"1.2. \u6570\u636e\u6536\u96c6","text":"<p>\u6570\u636e\u662f AI \u6a21\u578b\u8bad\u7ec3\u7684\u57fa\u7840\u3002\u6570\u636e\u6536\u96c6\u6b65\u9aa4\u5305\u62ec\uff1a</p> <ul> <li>\u6570\u636e\u6765\u6e90\uff1a\u83b7\u53d6\u6570\u636e\u7684\u9014\u5f84\u53ef\u4ee5\u662f\u516c\u5f00\u6570\u636e\u96c6\u3001\u4f01\u4e1a\u5185\u90e8\u6570\u636e\u3001\u7f51\u7edc\u6293\u53d6\u7b49\u3002</li> <li>\u6570\u636e\u8d28\u91cf\uff1a\u786e\u4fdd\u6570\u636e\u7684\u51c6\u786e\u6027\u3001\u5b8c\u6574\u6027\u548c\u4ee3\u8868\u6027\u3002</li> <li>\u6570\u636e\u9690\u79c1\uff1a\u5904\u7406\u654f\u611f\u6570\u636e\u65f6\uff0c\u9700\u8981\u9075\u5b88\u6570\u636e\u9690\u79c1\u6cd5\u89c4\uff0c\u5982 GDPR\u3001CCPA \u7b49\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#13","title":"1.3. \u6570\u636e\u9884\u5904\u7406","text":"<p>\u6570\u636e\u9884\u5904\u7406\u662f\u6570\u636e\u79d1\u5b66\u548c\u673a\u5668\u5b66\u4e60\u4e2d\u7684\u5173\u952e\u6b65\u9aa4\u3002\u4e3b\u8981\u5305\u62ec\uff1a</p> <ul> <li>\u6e05\u6d17\u6570\u636e\uff1a\u5904\u7406\u7f3a\u5931\u503c\u3001\u91cd\u590d\u6570\u636e\u548c\u5f02\u5e38\u503c\u3002</li> <li>\u6570\u636e\u8f6c\u6362\uff1a\u8fdb\u884c\u7279\u5f81\u7f29\u653e\u3001\u7f16\u7801\u548c\u6807\u51c6\u5316\u3002</li> <li>\u7279\u5f81\u5de5\u7a0b\uff1a\u9009\u62e9\u548c\u521b\u5efa\u5f71\u54cd\u6a21\u578b\u6027\u80fd\u7684\u7279\u5f81\uff0c\u4f8b\u5982\u7279\u5f81\u9009\u62e9\u3001\u7279\u5f81\u63d0\u53d6\u548c\u7279\u5f81\u6784\u5efa\u3002</li> <li>\u6570\u636e\u62c6\u5206\uff1a\u5c06\u6570\u636e\u62c6\u5206\u4e3a\u8bad\u7ec3\u96c6\u3001\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#14","title":"1.4. \u6a21\u578b\u9009\u62e9","text":"<p>\u6839\u636e\u4efb\u52a1\u7c7b\u578b\u548c\u6570\u636e\u7279\u70b9\u9009\u62e9\u5408\u9002\u7684\u6a21\u578b\u3002\u5e38\u89c1\u7684\u6a21\u578b\u5305\u62ec\uff1a</p> <ul> <li>\u76d1\u7763\u5b66\u4e60\uff1a</li> <li>\u5206\u7c7b\u6a21\u578b\uff1a\u5982 Logistic Regression\u3001SVM\u3001\u51b3\u7b56\u6811\u3001\u968f\u673a\u68ee\u6797\u3001XGBoost\u3001\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u7b49\u3002</li> <li>\u56de\u5f52\u6a21\u578b\uff1a\u5982\u7ebf\u6027\u56de\u5f52\u3001\u5cad\u56de\u5f52\u3001Lasso \u56de\u5f52\u7b49\u3002</li> <li>\u65e0\u76d1\u7763\u5b66\u4e60\uff1a</li> <li>\u805a\u7c7b\u6a21\u578b\uff1a\u5982 K-means\u3001DBSCAN\u3001\u5c42\u6b21\u805a\u7c7b\u7b49\u3002</li> <li>\u964d\u7ef4\u6a21\u578b\uff1a\u5982 PCA\u3001t-SNE\u3001UMAP \u7b49\u3002</li> <li>\u6df1\u5ea6\u5b66\u4e60\uff1a</li> <li>\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\uff08CNN\uff09\uff1a\u7528\u4e8e\u56fe\u50cf\u5904\u7406\u3002</li> <li>\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08RNN\uff09\uff1a\u7528\u4e8e\u5e8f\u5217\u6570\u636e\u5904\u7406\u3002</li> <li>\u751f\u6210\u5bf9\u6297\u7f51\u7edc\uff08GAN\uff09\uff1a\u7528\u4e8e\u751f\u6210\u6570\u636e\u3002</li> <li>Transformer\uff1a\u7528\u4e8e\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#15","title":"1.5. \u6a21\u578b\u8bad\u7ec3","text":"<p>\u8bad\u7ec3\u6a21\u578b\u5305\u62ec\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ul> <li>\u9009\u62e9\u635f\u5931\u51fd\u6570\uff1a\u6839\u636e\u4efb\u52a1\u9009\u62e9\u5408\u9002\u7684\u635f\u5931\u51fd\u6570\uff0c\u5982\u4ea4\u53c9\u71b5\u635f\u5931\u3001\u5747\u65b9\u8bef\u5dee\u7b49\u3002</li> <li>\u9009\u62e9\u4f18\u5316\u5668\uff1a\u9009\u62e9\u4f18\u5316\u5668\u5982 SGD\u3001Adam\u3001RMSprop \u7b49\u3002</li> <li>\u8bbe\u7f6e\u8d85\u53c2\u6570\uff1a\u786e\u5b9a\u5b66\u4e60\u7387\u3001\u6279\u91cf\u5927\u5c0f\u3001\u8bad\u7ec3\u8f6e\u6570\u7b49\u8d85\u53c2\u6570\u3002</li> <li>\u8bad\u7ec3\u8fc7\u7a0b\uff1a\u4f7f\u7528\u8bad\u7ec3\u6570\u636e\u8fdb\u884c\u6a21\u578b\u8bad\u7ec3\uff0c\u5e76\u5728\u9a8c\u8bc1\u96c6\u4e0a\u8fdb\u884c\u8c03\u4f18\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#16","title":"1.6. \u6a21\u578b\u8bc4\u4f30","text":"<p>\u8bc4\u4f30\u6a21\u578b\u7684\u6027\u80fd\u662f\u786e\u4fdd\u5176\u6709\u6548\u6027\u7684\u5173\u952e\u6b65\u9aa4\u3002\u4e3b\u8981\u5305\u62ec\uff1a</p> <ul> <li>\u6027\u80fd\u6307\u6807\uff1a\u4f7f\u7528\u51c6\u786e\u7387\u3001\u7cbe\u786e\u7387\u3001\u53ec\u56de\u7387\u3001F1 \u5206\u6570\u3001AUC-ROC \u66f2\u7ebf\u7b49\u6307\u6807\u8bc4\u4f30\u6a21\u578b\u6027\u80fd\u3002</li> <li>\u8fc7\u62df\u5408\u548c\u6b20\u62df\u5408\uff1a\u68c0\u67e5\u6a21\u578b\u662f\u5426\u8fc7\u62df\u5408\u6216\u6b20\u62df\u5408\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u8c03\u6574\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#17","title":"1.7. \u6a21\u578b\u4f18\u5316","text":"<p>\u6a21\u578b\u4f18\u5316\u5305\u62ec\u4ee5\u4e0b\u7b56\u7565\uff1a</p> <ul> <li>\u8c03\u6574\u8d85\u53c2\u6570\uff1a\u4f7f\u7528\u7f51\u683c\u641c\u7d22\u3001\u968f\u673a\u641c\u7d22\u3001\u8d1d\u53f6\u65af\u4f18\u5316\u7b49\u65b9\u6cd5\u8c03\u6574\u8d85\u53c2\u6570\u3002</li> <li>\u6b63\u5219\u5316\uff1a\u5982 L1\u3001L2 \u6b63\u5219\u5316\u3001Dropout \u7b49\uff0c\u9632\u6b62\u8fc7\u62df\u5408\u3002</li> <li>\u7279\u5f81\u9009\u62e9\uff1a\u4f18\u5316\u7279\u5f81\u96c6\uff0c\u63d0\u9ad8\u6a21\u578b\u7684\u6027\u80fd\u548c\u53ef\u89e3\u91ca\u6027\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#18","title":"1.8. \u90e8\u7f72\u4e0e\u7ef4\u62a4","text":"<p>\u5c06\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5e76\u8fdb\u884c\u7ef4\u62a4\uff1a</p> <ul> <li>\u90e8\u7f72\u65b9\u5f0f\uff1a\u9009\u62e9\u5408\u9002\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5982\u672c\u5730\u90e8\u7f72\u3001\u4e91\u670d\u52a1\u3001\u8fb9\u7f18\u8ba1\u7b97\u7b49\u3002</li> <li>\u6a21\u578b\u76d1\u63a7\uff1a\u5b9e\u65f6\u76d1\u63a7\u6a21\u578b\u7684\u6027\u80fd\uff0c\u786e\u4fdd\u5176\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8868\u73b0\u7a33\u5b9a\u3002</li> <li>\u66f4\u65b0\u4e0e\u8fed\u4ee3\uff1a\u5b9a\u671f\u66f4\u65b0\u6a21\u578b\uff0c\u5904\u7406\u65b0\u6570\u636e\uff0c\u8fdb\u884c\u8fed\u4ee3\u4f18\u5316\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#2","title":"2. \u5f00\u53d1\u5de5\u5177\u548c\u6846\u67b6","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684 AI \u5f00\u53d1\u5de5\u5177\u548c\u6846\u67b6\uff1a</p> <ul> <li>\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff1a</li> <li>TensorFlow\uff1a\u4e00\u4e2a\u5f00\u6e90\u7684\u673a\u5668\u5b66\u4e60\u6846\u67b6\uff0c\u652f\u6301\u6df1\u5ea6\u5b66\u4e60\u548c\u4f20\u7edf\u673a\u5668\u5b66\u4e60\u4efb\u52a1\u3002</li> <li>PyTorch\uff1a\u4e00\u4e2a\u7075\u6d3b\u7684\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5e7f\u6cdb\u7528\u4e8e\u7814\u7a76\u548c\u751f\u4ea7\u3002</li> <li>Keras\uff1a\u4e00\u4e2a\u9ad8\u5c42\u6b21\u7684\u795e\u7ecf\u7f51\u7edc API\uff0c\u80fd\u591f\u8fd0\u884c\u5728 TensorFlow \u4e4b\u4e0a\u3002</li> <li>\u6570\u636e\u5904\u7406\u5e93\uff1a</li> <li>Pandas\uff1a\u7528\u4e8e\u6570\u636e\u5904\u7406\u548c\u5206\u6790\u7684\u5e93\u3002</li> <li>NumPy\uff1a\u7528\u4e8e\u79d1\u5b66\u8ba1\u7b97\u7684\u5e93\u3002</li> <li>Scikit-learn\uff1a\u7528\u4e8e\u4f20\u7edf\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5e93\u3002</li> <li>\u6570\u636e\u96c6\uff1a</li> <li>ImageNet\u3001COCO\u3001MNIST\uff1a\u7528\u4e8e\u56fe\u50cf\u8bc6\u522b\u548c\u5206\u7c7b\u3002</li> <li>GLUE\u3001SQuAD\u3001Wikipedia\uff1a\u7528\u4e8e\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4efb\u52a1\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#3-ai","title":"3. AI \u5f00\u53d1\u7684\u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>\u6570\u636e\u7ba1\u7406\uff1a\u786e\u4fdd\u6570\u636e\u7684\u8d28\u91cf\u548c\u4ee3\u8868\u6027\uff0c\u5904\u7406\u6570\u636e\u9690\u79c1\u95ee\u9898\u3002</li> <li>\u6a21\u578b\u9009\u62e9\uff1a\u9009\u62e9\u9002\u5408\u7684\u6a21\u578b\u548c\u7b97\u6cd5\uff0c\u907f\u514d\u8fc7\u62df\u5408\u3002</li> <li>\u6587\u6863\u8bb0\u5f55\uff1a\u8bb0\u5f55\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u7684\u6bcf\u4e00\u6b65\uff0c\u5305\u62ec\u6a21\u578b\u9009\u62e9\u3001\u8d85\u53c2\u6570\u8bbe\u7f6e\u3001\u8bad\u7ec3\u8fc7\u7a0b\u7b49\u3002</li> <li>\u4ee3\u7801\u7ba1\u7406\uff1a\u4f7f\u7528\u7248\u672c\u63a7\u5236\u5de5\u5177\u5982 Git \u6765\u7ba1\u7406\u4ee3\u7801\u3002</li> <li>\u56e2\u961f\u534f\u4f5c\uff1a\u4e0e\u56e2\u961f\u6210\u5458\u6c9f\u901a\uff0c\u786e\u4fdd\u5f00\u53d1\u8fc7\u7a0b\u7684\u987a\u5229\u8fdb\u884c\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#4-ai","title":"4. AI \u5f00\u53d1\u4e2d\u7684\u6311\u6218","text":"<ul> <li>\u6570\u636e\u9690\u79c1\uff1a\u5904\u7406\u7528\u6237\u6570\u636e\u65f6\u5fc5\u987b\u9075\u5faa\u9690\u79c1\u4fdd\u62a4\u6cd5\u89c4\u3002</li> <li>\u6a21\u578b\u89e3\u91ca\u6027\uff1a\u786e\u4fdd\u6a21\u578b\u7684\u51b3\u7b56\u8fc7\u7a0b\u53ef\u89e3\u91ca\uff0c\u589e\u52a0\u900f\u660e\u5ea6\u3002</li> <li>\u4f26\u7406\u95ee\u9898\uff1a\u907f\u514d\u6a21\u578b\u4ea7\u751f\u504f\u89c1\uff0c\u5904\u7406 AI \u7684\u4f26\u7406\u548c\u793e\u4f1a\u5f71\u54cd\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI/#5","title":"5. \u8fdb\u4e00\u6b65\u5b66\u4e60\u8d44\u6e90","text":"<ul> <li>\u5728\u7ebf\u8bfe\u7a0b\uff1aCoursera\u3001edX\u3001Udacity \u7b49\u5e73\u53f0\u4e0a\u7684 AI \u548c\u673a\u5668\u5b66\u4e60\u8bfe\u7a0b\u3002</li> <li>\u4e66\u7c4d\uff1a\u5982\u300aDeep Learning\u300b by Ian Goodfellow\u3001\u300aPattern Recognition and Machine Learning\u300b by Christopher Bishop\u3002</li> <li>\u7814\u7a76\u8bba\u6587\uff1a\u9605\u8bfb\u6700\u65b0\u7684 AI \u7814\u7a76\u8bba\u6587\u548c\u6280\u672f\u6587\u6863\uff0c\u4e86\u89e3\u524d\u6cbf\u6280\u672f\u3002</li> </ul> <p>\u4eba\u5de5\u667a\u80fd\u5f00\u53d1\u662f\u4e00\u4e2a\u590d\u6742\u800c\u5e7f\u6cdb\u7684\u9886\u57df\uff0c\u6d89\u53ca\u4ece\u6570\u636e\u5904\u7406\u5230\u6a21\u578b\u90e8\u7f72\u7684\u5168\u8fc7\u7a0b\u3002\u4e86\u89e3\u548c\u638c\u63e1\u8fd9\u4e9b\u5173\u952e\u6b65\u9aa4\u548c\u6700\u4f73\u5b9e\u8df5\uff0c\u6709\u52a9\u4e8e\u6210\u529f\u5f00\u53d1\u9ad8\u6548\u548c\u53ef\u9760\u7684 AI \u5e94\u7528\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/","title":"Transformers \u6559\u7a0b","text":"<p>Hugging Face \u662f\u4e00\u5bb6\u4e13\u6ce8\u4e8e\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff08NLP\uff09\u6280\u672f\u7684\u516c\u53f8\uff0c\u540c\u65f6\u4e5f\u662f\u4e00\u4e2a\u5f00\u6e90\u793e\u533a\u548c\u5e73\u53f0\u3002\u5b83\u4ee5\u5f00\u53d1\u548c\u63a8\u5e7f\u5404\u79cd\u7528\u4e8e NLP \u4efb\u52a1\u7684\u5de5\u5177\u548c\u6a21\u578b\u800c\u95fb\u540d\u3002Hugging Face \u7684\u4ea7\u54c1\u548c\u670d\u52a1\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5b66\u672f\u7814\u7a76\u3001\u5de5\u4e1a\u5e94\u7528\u548c\u4e2a\u4eba\u9879\u76ee\u4e2d\uff0c\u6781\u5927\u5730\u63a8\u52a8\u4e86 NLP \u7684\u53d1\u5c55\u548c\u666e\u53ca\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#1-hugging-face","title":"1. Hugging Face \u7684\u4e3b\u8981\u4ea7\u54c1\u548c\u670d\u52a1","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#11-transformers","title":"1.1 Transformers \u5e93","text":"<ul> <li>\u7b80\u4ecb\uff1aTransformers \u662f Hugging Face \u63d0\u4f9b\u7684\u4e00\u4e2a\u5f00\u6e90\u5e93\uff0c\u5305\u542b\u4e86\u5927\u91cf\u9884\u8bad\u7ec3\u7684 NLP \u6a21\u578b\uff0c\u8fd9\u4e9b\u6a21\u578b\u4f7f\u7528\u4e86\u6700\u65b0\u7684\u6df1\u5ea6\u5b66\u4e60\u6280\u672f\uff0c\u5982 BERT\u3001GPT\u3001T5 \u7b49\u3002</li> <li>\u529f\u80fd\uff1aTransformers \u5e93\u652f\u6301\u6587\u672c\u5206\u7c7b\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u6587\u672c\u751f\u6210\u3001\u7ffb\u8bd1\u7b49\u591a\u79cd NLP \u4efb\u52a1\u3002</li> <li>\u7279\u70b9\uff1a</li> <li>\u652f\u6301\u6570\u767e\u79cd\u9884\u8bad\u7ec3\u6a21\u578b\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u4e8e\u63a8\u7406\u6216\u8fdb\u4e00\u6b65\u5fae\u8c03\u3002</li> <li>\u517c\u5bb9\u591a\u4e2a\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5982 TensorFlow \u548c PyTorch\u3002</li> <li>\u6613\u4e8e\u6269\u5c55\u548c\u81ea\u5b9a\u4e49\uff0c\u9002\u5408\u5b66\u672f\u7814\u7a76\u548c\u5de5\u4e1a\u5e94\u7528\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#12-datasets","title":"1.2 Datasets \u5e93","text":"<ul> <li>\u7b80\u4ecb\uff1aDatasets \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u6570\u636e\u96c6\u5904\u7406\u5e93\uff0c\u4e13\u95e8\u7528\u4e8e NLP \u4efb\u52a1\u3002</li> <li>\u529f\u80fd\uff1a\u63d0\u4f9b\u4e86\u8d85\u8fc7 1,000 \u4e2a\u5f00\u6e90\u7684\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u52a0\u8f7d\u3001\u9884\u5904\u7406\u548c\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002</li> <li>\u7279\u70b9\uff1a</li> <li>\u9ad8\u6548\u7684\u6570\u636e\u52a0\u8f7d\u548c\u5904\u7406\uff0c\u652f\u6301\u591a\u79cd\u683c\u5f0f\u3002</li> <li>\u4e0e Transformers \u5e93\u65e0\u7f1d\u96c6\u6210\uff0c\u4fbf\u4e8e\u6a21\u578b\u8bad\u7ec3\u548c\u8bc4\u4f30\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#13-hugging-face-hub","title":"1.3 Hugging Face Hub","text":"<ul> <li>\u7b80\u4ecb\uff1aHub \u662f\u4e00\u4e2a\u6258\u7ba1\u5e73\u53f0\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u5728\u6b64\u5206\u4eab\u3001\u67e5\u627e\u548c\u4f7f\u7528 NLP \u6a21\u578b\u548c\u6570\u636e\u96c6\u3002</li> <li>\u529f\u80fd\uff1a\u652f\u6301\u6a21\u578b\u7684\u4e0a\u4f20\u3001\u4e0b\u8f7d\u548c\u7248\u672c\u63a7\u5236\uff0c\u4fc3\u8fdb\u4e86\u793e\u533a\u7684\u77e5\u8bc6\u5171\u4eab\u548c\u534f\u4f5c\u3002</li> <li>\u7279\u70b9\uff1a</li> <li>\u63d0\u4f9b\u4e86\u6d4f\u89c8\u3001\u641c\u7d22\u548c\u6bd4\u8f83\u6a21\u578b\u7684\u529f\u80fd\u3002</li> <li>\u652f\u6301\u81ea\u52a8\u5316\u90e8\u7f72\u548c\u96c6\u6210\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u5c06\u6a21\u578b\u5e94\u7528\u4e8e\u5b9e\u9645\u9879\u76ee\u4e2d\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#2-hugging-face","title":"2. Hugging Face \u7684\u793e\u533a\u548c\u751f\u6001\u7cfb\u7edf","text":"<p>Hugging Face \u7684\u793e\u533a\u975e\u5e38\u6d3b\u8dc3\uff0c\u5168\u7403\u7684\u7814\u7a76\u4eba\u5458\u3001\u5de5\u7a0b\u5e08\u548c\u6570\u636e\u79d1\u5b66\u5bb6\u90fd\u5728\u4f7f\u7528\u548c\u8d21\u732e\u5176\u5de5\u5177\u3002\u793e\u533a\u7684\u5408\u4f5c\u4f7f\u5f97 Hugging Face \u80fd\u591f\u5feb\u901f\u8fed\u4ee3\u548c\u521b\u65b0\uff0c\u4e3a NLP \u9886\u57df\u5e26\u6765\u4e86\u8bb8\u591a\u524d\u6cbf\u7684\u6280\u672f\u548c\u5e94\u7528\u3002</p> <ul> <li>\u5f00\u6e90\u9879\u76ee\uff1aHugging Face \u7684\u6240\u6709\u6838\u5fc3\u5e93\u90fd\u662f\u5f00\u6e90\u7684\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u8bbf\u95ee\u3001\u4fee\u6539\u548c\u8d21\u732e\u4ee3\u7801\u3002</li> <li>\u6559\u80b2\u8d44\u6e90\uff1aHugging Face \u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u6559\u7a0b\u3001\u6587\u6863\u548c\u8bfe\u7a0b\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u5730\u7406\u89e3\u548c\u5e94\u7528 NLP \u6280\u672f\u3002</li> <li>\u6311\u6218\u4e0e\u7ade\u8d5b\uff1aHugging Face \u7ecf\u5e38\u7ec4\u7ec7\u4e0e NLP \u76f8\u5173\u7684\u6311\u6218\u548c\u7ade\u8d5b\uff0c\u6fc0\u52b1\u5f00\u53d1\u8005\u5c1d\u8bd5\u65b0\u7684\u60f3\u6cd5\u548c\u6280\u672f\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#3-hugging-face","title":"3. Hugging Face \u7684\u5e94\u7528\u9886\u57df","text":"<p>Hugging Face \u7684\u6280\u672f\u5e7f\u6cdb\u5e94\u7528\u4e8e\u4ee5\u4e0b\u9886\u57df\uff1a</p> <ul> <li>\u5bf9\u8bdd\u7cfb\u7edf\uff1a\u7528\u4e8e\u6784\u5efa\u667a\u80fd\u804a\u5929\u673a\u5668\u4eba\u548c\u865a\u62df\u52a9\u7406\uff0c\u5982\u5bf9\u8bdd\u751f\u6210\u548c\u610f\u56fe\u8bc6\u522b\u3002</li> <li>\u6587\u672c\u5206\u6790\uff1a\u5305\u62ec\u60c5\u611f\u5206\u6790\u3001\u4e3b\u9898\u5206\u7c7b\u548c\u8206\u60c5\u76d1\u6d4b\u3002</li> <li>\u7ffb\u8bd1\u4e0e\u6458\u8981\uff1a\u7528\u4e8e\u81ea\u52a8\u5316\u7684\u6587\u672c\u7ffb\u8bd1\u548c\u6587\u6863\u6458\u8981\u751f\u6210\u3002</li> <li>\u4fe1\u606f\u68c0\u7d22\uff1a\u7528\u4e8e\u641c\u7d22\u5f15\u64ce\u3001\u95ee\u7b54\u7cfb\u7edf\u548c\u63a8\u8350\u7cfb\u7edf\u4e2d\u7684\u6587\u672c\u7406\u89e3\u548c\u5339\u914d\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#4-hugging-face","title":"4. Hugging Face \u7684\u5f71\u54cd\u529b","text":"<p>Hugging Face \u5728 NLP \u9886\u57df\u5177\u6709\u5e7f\u6cdb\u7684\u5f71\u54cd\u529b\uff0c\u5176\u5de5\u5177\u548c\u6a21\u578b\u88ab\u5168\u7403\u5404\u5927\u79d1\u6280\u516c\u53f8\u3001\u7814\u7a76\u673a\u6784\u548c\u521d\u521b\u4f01\u4e1a\u5e7f\u6cdb\u91c7\u7528\u3002\u5b83\u4e0d\u4ec5\u7b80\u5316\u4e86 NLP \u7684\u5f00\u53d1\u6d41\u7a0b\uff0c\u8fd8\u4fc3\u8fdb\u4e86\u5b66\u672f\u7814\u7a76\u548c\u5de5\u4e1a\u5e94\u7528\u4e4b\u95f4\u7684\u77e5\u8bc6\u8f6c\u5316\u3002</p> <p>\u603b\u7ed3\u6765\u8bf4\uff0cHugging Face \u662f\u4e00\u4e2a\u96c6\u5de5\u5177\u3001\u5e73\u53f0\u548c\u793e\u533a\u4e8e\u4e00\u4f53\u7684\u751f\u6001\u7cfb\u7edf\uff0c\u4e3a\u81ea\u7136\u8bed\u8a00\u5904\u7406\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u652f\u6301\u548c\u63a8\u52a8\u529b\u3002\u65e0\u8bba\u4f60\u662f\u7814\u7a76\u4eba\u5458\u3001\u5f00\u53d1\u8005\uff0c\u8fd8\u662f\u6570\u636e\u79d1\u5b66\u5bb6\uff0cHugging Face \u90fd\u80fd\u4e3a\u4f60\u63d0\u4f9b\u6709\u529b\u7684\u5de5\u5177\u548c\u8d44\u6e90\u6765\u52a0\u901f\u4f60\u7684 NLP \u9879\u76ee\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#transformers_1","title":"Transformers \u4f7f\u7528\u6559\u7a0b","text":"<p>Hugging Face \u7684 Transformers \u5e93\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff08NLP\uff09\u4efb\u52a1\u3002\u5b83\u63d0\u4f9b\u4e86\u8bb8\u591a\u9884\u8bad\u7ec3\u7684\u6a21\u578b\uff0c\u652f\u6301\u591a\u79cd\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5982 TensorFlow \u548c PyTorch\u3002\u4ee5\u4e0b\u662f Transformers \u5e93\u7684\u8be6\u7ec6\u6559\u7a0b\uff0c\u6db5\u76d6\u5176\u4e3b\u8981\u529f\u80fd\u548c\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#1-transformers","title":"1. \u5b89\u88c5 Transformers \u5e93","text":"<p>\u8981\u5f00\u59cb\u4f7f\u7528 Transformers \u5e93\uff0c\u9996\u5148\u9700\u8981\u5b89\u88c5\u5b83\u3002\u53ef\u4ee5\u4f7f\u7528 pip \u8fdb\u884c\u5b89\u88c5\uff1a</p> <pre><code>pip install transformers\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#2","title":"2. \u4e3b\u8981\u529f\u80fd\u548c\u7528\u6cd5","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#21","title":"2.1. \u52a0\u8f7d\u9884\u8bad\u7ec3\u6a21\u578b","text":"<p>Transformers \u5e93\u63d0\u4f9b\u4e86\u5927\u91cf\u9884\u8bad\u7ec3\u7684\u6a21\u578b\uff0c\u652f\u6301\u4e0d\u540c\u7684 NLP \u4efb\u52a1\u3002\u4ee5\u4e0b\u662f\u5982\u4f55\u52a0\u8f7d\u548c\u4f7f\u7528\u8fd9\u4e9b\u6a21\u578b\u7684\u57fa\u672c\u793a\u4f8b\uff1a</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#211","title":"2.1.1. \u6587\u672c\u5206\u7c7b","text":"<p>\u4f7f\u7528\u9884\u8bad\u7ec3\u6a21\u578b\u8fdb\u884c\u6587\u672c\u5206\u7c7b\uff0c\u5982\u60c5\u611f\u5206\u6790\uff1a</p> <pre><code>from transformers import pipeline\n\n# \u52a0\u8f7d\u60c5\u611f\u5206\u6790\u6a21\u578b\nclassifier = pipeline(\"sentiment-analysis\")\n\n# \u8fdb\u884c\u63a8\u7406\nresult = classifier(\"I love using Hugging Face!\")\nprint(result)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#212","title":"2.1.2. \u6587\u672c\u751f\u6210","text":"<p>\u4f7f\u7528 GPT-2 \u6a21\u578b\u8fdb\u884c\u6587\u672c\u751f\u6210\uff1a</p> <pre><code>from transformers import GPT2LMHeadModel, GPT2Tokenizer\n\n# \u52a0\u8f7d\u9884\u8bad\u7ec3\u7684 GPT-2 \u6a21\u578b\u548c tokenizer\nmodel_name = \"gpt2\"\nmodel = GPT2LMHeadModel.from_pretrained(model_name)\ntokenizer = GPT2Tokenizer.from_pretrained(model_name)\n\n# \u7f16\u7801\u8f93\u5165\u6587\u672c\ninput_text = \"Once upon a time\"\ninput_ids = tokenizer.encode(input_text, return_tensors=\"pt\")\n\n# \u751f\u6210\u6587\u672c\noutput = model.generate(input_ids, max_length=50, num_return_sequences=1)\ngenerated_text = tokenizer.decode(output[0], skip_special_tokens=True)\nprint(generated_text)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#213-ner","title":"2.1.3. \u547d\u540d\u5b9e\u4f53\u8bc6\u522b\uff08NER\uff09","text":"<p>\u4f7f\u7528 BERT \u6a21\u578b\u8fdb\u884c\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\uff1a</p> <pre><code>from transformers import pipeline\n\n# \u52a0\u8f7d\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u6a21\u578b\nner = pipeline(\"ner\", aggregation_strategy=\"simple\")\n\n# \u8fdb\u884c\u63a8\u7406\nresult = ner(\"Hugging Face is creating a tool that democratizes AI.\")\nprint(result)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#22","title":"2.2. \u5fae\u8c03\u9884\u8bad\u7ec3\u6a21\u578b","text":"<p>Transformers \u5e93\u652f\u6301\u5728\u81ea\u5b9a\u4e49\u6570\u636e\u96c6\u4e0a\u5fae\u8c03\u9884\u8bad\u7ec3\u6a21\u578b\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5fae\u8c03\u793a\u4f8b\uff1a</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#221","title":"2.2.1. \u51c6\u5907\u6570\u636e","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u7528\u4e8e\u6587\u672c\u5206\u7c7b\u7684\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u4f7f\u7528 Datasets \u5e93\u6765\u52a0\u8f7d\u548c\u5904\u7406\u6570\u636e\uff1a</p> <pre><code>from datasets import load_dataset\n\n# \u52a0\u8f7d\u6570\u636e\u96c6\ndataset = load_dataset(\"imdb\")\n\n# \u9884\u5904\u7406\u6570\u636e\ndef preprocess_function(examples):\n    return tokenizer(examples['text'], truncation=True, padding=True)\n\nencoded_dataset = dataset.map(preprocess_function, batched=True)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#222","title":"2.2.2. \u8bbe\u7f6e\u8bad\u7ec3\u53c2\u6570","text":"<pre><code>from transformers import TrainingArguments\n\ntraining_args = TrainingArguments(\n    output_dir=\"./results\",\n    evaluation_strategy=\"epoch\",\n    learning_rate=2e-5,\n    per_device_train_batch_size=8,\n    per_device_eval_batch_size=8,\n    num_train_epochs=3,\n    weight_decay=0.01,\n)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#223","title":"2.2.3. \u8bad\u7ec3\u6a21\u578b","text":"<pre><code>from transformers import Trainer\n\ntrainer = Trainer(\n    model=model,\n    args=training_args,\n    train_dataset=encoded_dataset[\"train\"],\n    eval_dataset=encoded_dataset[\"test\"],\n)\n\ntrainer.train()\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#23","title":"2.3. \u4fdd\u5b58\u548c\u52a0\u8f7d\u6a21\u578b","text":"<p>\u5728\u8bad\u7ec3\u6216\u5fae\u8c03\u6a21\u578b\u540e\uff0c\u53ef\u4ee5\u5c06\u6a21\u578b\u4fdd\u5b58\u5230\u78c1\u76d8\uff0c\u5e76\u5728\u9700\u8981\u65f6\u52a0\u8f7d\u5b83\uff1a</p> <pre><code># \u4fdd\u5b58\u6a21\u578b\nmodel.save_pretrained(\"./my_model\")\ntokenizer.save_pretrained(\"./my_model\")\n\n# \u52a0\u8f7d\u6a21\u578b\nfrom transformers import AutoModelForSequenceClassification, AutoTokenizer\n\nmodel = AutoModelForSequenceClassification.from_pretrained(\"./my_model\")\ntokenizer = AutoTokenizer.from_pretrained(\"./my_model\")\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#24-transformers-hub","title":"2.4. \u4f7f\u7528 Transformers Hub","text":"<p>Hugging Face Hub \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5e73\u53f0\u6765\u5206\u4eab\u548c\u4e0b\u8f7d\u6a21\u578b\uff1a</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#241","title":"2.4.1. \u4e0a\u4f20\u6a21\u578b","text":"<pre><code>huggingface-cli login\nhuggingface-cli repo create my-awesome-model\n</code></pre> <pre><code># \u5728 Python \u4e2d\u4e0a\u4f20\u6a21\u578b\nmodel.push_to_hub(\"username/my-awesome-model\")\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#242","title":"2.4.2. \u4e0b\u8f7d\u6a21\u578b","text":"<pre><code>from transformers import AutoModel, AutoTokenizer\n\nmodel = AutoModel.from_pretrained(\"username/my-awesome-model\")\ntokenizer = AutoTokenizer.from_pretrained(\"username/my-awesome-model\")\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#3","title":"3. \u8fdb\u9636\u4f7f\u7528","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#31","title":"3.1. \u81ea\u5b9a\u4e49\u6a21\u578b","text":"<p>Transformers \u5e93\u5141\u8bb8\u7528\u6237\u5b9a\u4e49\u81ea\u5df1\u7684\u6a21\u578b\u67b6\u6784\uff0c\u53ef\u4ee5\u7ee7\u627f\u5e93\u4e2d\u7684\u57fa\u7840\u7c7b\u5e76\u8fdb\u884c\u81ea\u5b9a\u4e49\uff1a</p> <pre><code>from transformers import BertModel, BertPreTrainedModel\nimport torch.nn as nn\n\nclass MyModel(BertPreTrainedModel):\n    def __init__(self, config):\n        super().__init__(config)\n        self.bert = BertModel(config)\n        self.classifier = nn.Linear(config.hidden_size, 2)\n\n    def forward(self, input_ids, attention_mask=None, labels=None):\n        outputs = self.bert(input_ids, attention_mask=attention_mask)\n        logits = self.classifier(outputs.pooler_output)\n        return logits\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#32","title":"3.2. \u6a21\u578b\u89e3\u91ca","text":"<p>Transformers \u5e93\u53ef\u4ee5\u4e0e SHAP\u3001LIME \u7b49\u5de5\u5177\u7ed3\u5408\uff0c\u8fdb\u884c\u6a21\u578b\u89e3\u91ca\u548c\u53ef\u89c6\u5316\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Transformers/#4","title":"4. \u6587\u6863\u548c\u8d44\u6e90","text":"<ul> <li>Transformers \u6587\u6863\uff1a\u8be6\u7ec6\u7684 API \u53c2\u8003\u548c\u4f7f\u7528\u8bf4\u660e\u3002</li> <li>Hugging Face \u8bba\u575b\uff1a\u4e0e\u793e\u533a\u8ba8\u8bba\u95ee\u9898\u548c\u83b7\u53d6\u5e2e\u52a9\u3002</li> <li>\u793a\u4f8b\u4ee3\u7801\uff1a\u63d0\u4f9b\u4e86\u5404\u79cd\u4efb\u52a1\u7684\u5b9e\u73b0\u793a\u4f8b\u3002</li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0a\u6559\u7a0b\uff0c\u4f60\u53ef\u4ee5\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 Transformers \u5e93\u8fdb\u884c\u5404\u79cd NLP \u4efb\u52a1\uff0c\u5e76\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u81ea\u5b9a\u4e49\u548c\u6269\u5c55\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/","title":"LLM \u8fdb\u9636\u6559\u7a0b","text":"<p>\u4ee5\u4e0b\u662f\u5173\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u8fdb\u9636\u6559\u7a0b\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u6db5\u76d6\u66f4\u590d\u6742\u7684\u7528\u4f8b\u548c\u6280\u672f\uff0c\u5305\u62ec\u6a21\u578b\u5fae\u8c03\u3001\u81ea\u5b9a\u4e49\u8bad\u7ec3\u3001\u96c6\u6210\u5230\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\u7b49\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#fine-tuning","title":"\u4e00\u3001\u6a21\u578b\u5fae\u8c03\uff08Fine-tuning\uff09","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#11","title":"1.1 \u5fae\u8c03\u7684\u6982\u5ff5","text":"<ul> <li>\u5b9a\u4e49\uff1a\u5fae\u8c03\u662f\u6307\u5728\u5df2\u6709\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u57fa\u7840\u4e0a\uff0c\u4f7f\u7528\u7279\u5b9a\u4efb\u52a1\u7684\u6570\u636e\u8fdb\u884c\u518d\u8bad\u7ec3\uff0c\u4ee5\u63d0\u9ad8\u6a21\u578b\u5728\u7279\u5b9a\u4efb\u52a1\u4e0a\u7684\u6027\u80fd\u3002</li> <li>\u7528\u9014\uff1a\u5fae\u8c03\u53ef\u4ee5\u5e2e\u52a9\u6a21\u578b\u66f4\u597d\u5730\u9002\u5e94\u7279\u5b9a\u9886\u57df\u6216\u4efb\u52a1\uff0c\u5982\u91d1\u878d\u6587\u6863\u5206\u6790\u3001\u533b\u5b66\u95ee\u7b54\u7b49\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#12-gpt","title":"1.2 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u5bf9 GPT \u6a21\u578b\u8fdb\u884c\u5fae\u8c03\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u4f7f\u7528\u81ea\u5df1\u7684\u6570\u636e\u5bf9 GPT-3 \u6a21\u578b\u8fdb\u884c\u5fae\u8c03\uff0c\u4ee5\u4fbf\u5728\u7279\u5b9a\u9886\u57df\uff08\u5982\u6cd5\u5f8b\u6587\u4e66\uff09\u751f\u6210\u6587\u672c\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u51c6\u5907\u6570\u636e\uff1a\u6536\u96c6\u5e76\u683c\u5f0f\u5316\u7528\u4e8e\u5fae\u8c03\u7684\u6570\u636e\u96c6\uff0c\u901a\u5e38\u662f\u5bf9\u8bdd\u6216\u6587\u672c\u5bf9\u3002</li> <li>\u8bad\u7ec3\u811a\u672c\uff1a\u4f7f\u7528 OpenAI \u63d0\u4f9b\u7684\u5de5\u5177\u6216\u5176\u4ed6\u5fae\u8c03\u5de5\u5177\u8fdb\u884c\u8bad\u7ec3\u3002</li> <li>\u8bc4\u4f30\u548c\u8c03\u6574\uff1a\u8bc4\u4f30\u5fae\u8c03\u540e\u7684\u6a21\u578b\u6027\u80fd\uff0c\u5e76\u8fdb\u884c\u5fc5\u8981\u7684\u8c03\u6574\u3002</li> </ol> </li> </ul> <pre><code># \u5047\u8bbe\u4f7f\u7528 OpenAI \u7684\u5fae\u8c03 API\nimport openai\n\nopenai.api_key = \"your-api-key\"\n\n# \u5fae\u8c03\u6a21\u578b\nresponse = openai.FineTunes.create(\n    training_file=\"path/to/your/training_data.jsonl\",\n    model=\"text-davinci-003\",\n    n_epochs=4\n)\n\nprint(response)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#_1","title":"\u4e8c\u3001\u81ea\u5b9a\u4e49\u8bad\u7ec3\u6570\u636e","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#21","title":"2.1 \u81ea\u5b9a\u4e49\u6570\u636e\u7684\u5904\u7406","text":"<ul> <li>\u5b9a\u4e49\uff1a\u81ea\u5b9a\u4e49\u6570\u636e\u6307\u7684\u662f\u5728\u7279\u5b9a\u9886\u57df\u6216\u4efb\u52a1\u4e2d\u4f7f\u7528\u7684\u4e13\u7528\u6570\u636e\u96c6\uff0c\u4ee5\u4fbf\u8bad\u7ec3\u51fa\u66f4\u7b26\u5408\u5b9e\u9645\u9700\u6c42\u7684\u6a21\u578b\u3002</li> <li>\u7528\u9014\uff1a\u63d0\u5347\u6a21\u578b\u5728\u7279\u5b9a\u9886\u57df\uff08\u5982\u533b\u7597\u3001\u6cd5\u5f8b\uff09\u7684\u6027\u80fd\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#22","title":"2.2 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u51c6\u5907\u548c\u4f7f\u7528\u81ea\u5b9a\u4e49\u8bad\u7ec3\u6570\u636e\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u5c06\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6cd5\u5f8b\u95ee\u7b54\u6570\u636e\u96c6\u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u6570\u636e\u51c6\u5907\uff1a\u5c06\u6570\u636e\u96c6\u683c\u5f0f\u5316\u4e3a\u6a21\u578b\u63a5\u53d7\u7684\u683c\u5f0f\uff08\u4f8b\u5982 JSONL\uff09\u3002</li> <li>\u8bad\u7ec3\uff1a\u4f7f\u7528\u81ea\u5b9a\u4e49\u6570\u636e\u8bad\u7ec3\u6a21\u578b\u3002</li> </ol> </li> </ul> <pre><code>[\n  {\"prompt\": \"What is a contract?\", \"completion\": \"A contract is a legally binding agreement between two or more parties.\"},\n  {\"prompt\": \"What is breach of contract?\", \"completion\": \"Breach of contract occurs when one party fails to fulfill their obligations under the contract.\"}\n]\n</code></pre> <pre><code># \u4f7f\u7528\u81ea\u5b9a\u4e49\u6570\u636e\u8fdb\u884c\u8bad\u7ec3\nresponse = openai.FineTunes.create(\n    training_file=\"path/to/legal_data.jsonl\",\n    model=\"text-davinci-003\",\n    n_epochs=5\n)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#_2","title":"\u4e09\u3001\u6a21\u578b\u96c6\u6210","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#31","title":"3.1 \u96c6\u6210\u5230\u5e94\u7528\u7a0b\u5e8f\u4e2d","text":"<ul> <li>\u5b9a\u4e49\uff1a\u5c06\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u96c6\u6210\u5230\u5b9e\u9645\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4ee5\u5b9e\u73b0\u529f\u80fd\uff0c\u4f8b\u5982\u804a\u5929\u673a\u5668\u4eba\u3001\u667a\u80fd\u5ba2\u670d\u7b49\u3002</li> <li>\u7528\u9014\uff1a\u4f7f\u6a21\u578b\u53ef\u4ee5\u5728\u5b9e\u9645\u7684\u4e1a\u52a1\u6d41\u7a0b\u4e2d\u8fdb\u884c\u5b9e\u65f6\u5e94\u7528\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#32-llm-flask","title":"3.2 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u5c06 LLM \u96c6\u6210\u5230\u4e00\u4e2a Flask \u5e94\u7528\u4e2d\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u5c06 GPT-3 \u96c6\u6210\u5230\u4e00\u4e2a Flask \u5e94\u7528\u4e2d\uff0c\u4ee5\u5b9e\u73b0\u95ee\u7b54\u529f\u80fd\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u521b\u5efa Flask \u5e94\u7528\uff1a\u5b9a\u4e49 API \u8def\u7531\u3002</li> <li>\u8c03\u7528 LLM\uff1a\u5728 API \u8def\u7531\u4e2d\u8c03\u7528 LLM \u63a5\u53e3\u3002</li> </ol> </li> </ul> <pre><code>from flask import Flask, request, jsonify\nimport openai\n\napp = Flask(__name__)\nopenai.api_key = \"your-api-key\"\n\n@app.route('/ask', methods=['POST'])\ndef ask():\n    data = request.json\n    question = data['question']\n    response = openai.Completion.create(\n        engine=\"text-davinci-003\",\n        prompt=question,\n        max_tokens=100\n    )\n    return jsonify({\"answer\": response.choices[0].text.strip()})\n\nif __name__ == '__main__':\n    app.run(port=5000)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#_3","title":"\u56db\u3001\u6a21\u578b\u6027\u80fd\u4f18\u5316","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#41","title":"4.1 \u4f18\u5316\u6a21\u578b\u6027\u80fd","text":"<ul> <li>\u5b9a\u4e49\uff1a\u4f18\u5316\u6a21\u578b\u6027\u80fd\u6307\u7684\u662f\u901a\u8fc7\u5404\u79cd\u624b\u6bb5\u63d0\u9ad8\u6a21\u578b\u5728\u7279\u5b9a\u4efb\u52a1\u4e0a\u7684\u51c6\u786e\u6027\u548c\u6548\u7387\u3002</li> <li>\u7528\u9014\uff1a\u63d0\u5347\u6a21\u578b\u7684\u54cd\u5e94\u901f\u5ea6\u548c\u51c6\u786e\u7387\uff0c\u4ee5\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#42-llm","title":"4.2 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u4f18\u5316 LLM \u7684\u54cd\u5e94\u65f6\u95f4\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u901a\u8fc7\u8c03\u6574\u53c2\u6570\u6765\u4f18\u5316 GPT \u6a21\u578b\u7684\u54cd\u5e94\u65f6\u95f4\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u8c03\u6574 <code>max_tokens</code>\uff1a\u63a7\u5236\u751f\u6210\u5185\u5bb9\u7684\u957f\u5ea6\u3002</li> <li>\u8c03\u6574 <code>temperature</code>\uff1a\u63a7\u5236\u751f\u6210\u5185\u5bb9\u7684\u968f\u673a\u6027\u3002</li> <li>\u7f13\u5b58\u673a\u5236\uff1a\u5bf9\u4e8e\u91cd\u590d\u8bf7\u6c42\uff0c\u53ef\u4ee5\u4f7f\u7528\u7f13\u5b58\u673a\u5236\u51cf\u5c11\u8c03\u7528\u6b21\u6570\u3002</li> </ol> </li> </ul> <pre><code>response = openai.Completion.create(\n    engine=\"text-davinci-003\",\n    prompt=\"Explain quantum computing in simple terms.\",\n    max_tokens=50,  # \u9650\u5236\u54cd\u5e94\u957f\u5ea6\n    temperature=0.5  # \u964d\u4f4e\u751f\u6210\u7684\u968f\u673a\u6027\n)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#_4","title":"\u4e94\u3001\u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#51","title":"5.1 \u81ea\u5b9a\u4e49\u751f\u6210\u7b56\u7565","text":"<ul> <li>\u5b9a\u4e49\uff1a\u81ea\u5b9a\u4e49\u751f\u6210\u7b56\u7565\u662f\u6307\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8c03\u6574\u6a21\u578b\u751f\u6210\u5185\u5bb9\u7684\u7b56\u7565\u3002</li> <li>\u7528\u9014\uff1a\u751f\u6210\u66f4\u7b26\u5408\u4e1a\u52a1\u9700\u6c42\u7684\u6587\u672c\uff0c\u4f8b\u5982\u5b9a\u5236\u5316\u7684\u5185\u5bb9\u98ce\u683c\u6216\u683c\u5f0f\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#52","title":"5.2 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u751f\u6210\u7b56\u7565\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u8bbe\u7f6e\u4e00\u4e2a\u751f\u6210\u5177\u6709\u7279\u5b9a\u98ce\u683c\u7684\u6587\u672c\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u8bbe\u8ba1\u63d0\u793a\u8bcd\uff1a\u901a\u8fc7\u63d0\u793a\u8bcd\u5f15\u5bfc\u6a21\u578b\u751f\u6210\u7279\u5b9a\u98ce\u683c\u7684\u6587\u672c\u3002</li> <li>\u8bbe\u7f6e <code>temperature</code> \u548c <code>top_p</code>\uff1a\u63a7\u5236\u751f\u6210\u7684\u591a\u6837\u6027\u548c\u98ce\u683c\u3002</li> </ol> </li> </ul> <pre><code>response = openai.Completion.create(\n    engine=\"text-davinci-003\",\n    prompt=\"Write a humorous story about a robot.\",\n    max_tokens=150,\n    temperature=0.9,  # \u63d0\u9ad8\u968f\u673a\u6027\uff0c\u751f\u6210\u66f4\u591a\u521b\u610f\u5185\u5bb9\n    top_p=0.95  # \u91c7\u6837\u7b56\u7565\n)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#_5","title":"\u516d\u3001\u6a21\u578b\u8bc4\u4f30\u4e0e\u76d1\u63a7","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#61","title":"6.1 \u8bc4\u4f30\u6a21\u578b\u6027\u80fd","text":"<ul> <li>\u5b9a\u4e49\uff1a\u8bc4\u4f30\u6a21\u578b\u6027\u80fd\u662f\u6307\u4f7f\u7528\u5404\u79cd\u6307\u6807\u6765\u8861\u91cf\u6a21\u578b\u7684\u6709\u6548\u6027\u548c\u51c6\u786e\u6027\u3002</li> <li>\u7528\u9014\uff1a\u786e\u4fdd\u6a21\u578b\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u7684\u8868\u73b0\u7b26\u5408\u9884\u671f\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/advance/#62-llm","title":"6.2 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u8bc4\u4f30 LLM \u7684\u751f\u6210\u8d28\u91cf\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u4f7f\u7528\u4eba\u5de5\u8bc4\u4f30\u548c\u81ea\u52a8\u8bc4\u4f30\u65b9\u6cd5\u6765\u8bc4\u4ef7 GPT \u751f\u6210\u7684\u6587\u672c\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u4eba\u5de5\u8bc4\u4f30\uff1a\u9080\u8bf7\u9886\u57df\u4e13\u5bb6\u5bf9\u751f\u6210\u6587\u672c\u8fdb\u884c\u8bc4\u5206\u3002</li> <li>\u81ea\u52a8\u8bc4\u4f30\uff1a\u4f7f\u7528 BLEU\u3001ROUGE \u7b49\u6307\u6807\u5bf9\u751f\u6210\u6587\u672c\u8fdb\u884c\u91cf\u5316\u8bc4\u4f30\u3002</li> </ul> <pre><code># \u8bc4\u4f30\u751f\u6210\u7684\u6587\u672c\uff08\u5047\u8bbe\u6709\u53c2\u8003\u7b54\u6848\uff09\nfrom nltk.translate.bleu_score import sentence_bleu\n\nreference = [\"The robot had a funny adventure.\"]\ncandidate = [\"The robot went on a hilarious journey.\"]\n\nscore = sentence_bleu([reference], candidate)\nprint(f\"BLEU score: {score:.4f}\")\n</code></pre> <p>\u8fd9\u4e9b\u8fdb\u9636\u5185\u5bb9\u6db5\u76d6\u4e86\u4ece\u5fae\u8c03\u6a21\u578b\u3001\u81ea\u5b9a\u4e49\u8bad\u7ec3\u6570\u636e\uff0c\u5230\u96c6\u6210\u5e94\u7528\u7a0b\u5e8f\u3001\u6027\u80fd\u4f18\u5316\u7684\u5404\u4e2a\u65b9\u9762\u3002\u901a\u8fc7\u8fd9\u4e9b\u793a\u4f8b\uff0c\u4f60\u53ef\u4ee5\u66f4\u6df1\u5165\u5730\u4e86\u89e3\u5982\u4f55\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u5e94\u7528\u5927\u8bed\u8a00\u6a21\u578b\uff0c\u63d0\u5347\u6a21\u578b\u7684\u6027\u80fd\u548c\u5b9e\u7528\u6027\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/","title":"AI  \u6982\u5ff5","text":"<p>\u4eba\u5de5\u667a\u80fd\uff08AI\uff09\u662f\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u81f4\u529b\u4e8e\u6a21\u62df\u548c\u5b9e\u73b0\u4eba\u7c7b\u667a\u80fd\u7684\u673a\u5668\u548c\u7cfb\u7edf\u3002\u5b83\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u4e2a\u9886\u57df\uff0c\u4ece\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5230\u8ba1\u7b97\u673a\u89c6\u89c9\uff0c\u6539\u53d8\u4e86\u8bb8\u591a\u884c\u4e1a\u7684\u5de5\u4f5c\u65b9\u5f0f\u3002\u4ee5\u4e0b\u662f\u5173\u4e8e\u4eba\u5de5\u667a\u80fd\u7684\u8be6\u7ec6\u6982\u8ff0\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#1","title":"1. \u4eba\u5de5\u667a\u80fd\u7684\u5b9a\u4e49","text":"<p>\u4eba\u5de5\u667a\u80fd\u662f\u4e00\u79cd\u8ba9\u8ba1\u7b97\u673a\u7cfb\u7edf\u6216\u673a\u5668\u80fd\u591f\u6267\u884c\u901a\u5e38\u9700\u8981\u4eba\u7c7b\u667a\u80fd\u624d\u80fd\u5b8c\u6210\u7684\u4efb\u52a1\u7684\u6280\u672f\u3002\u8fd9\u4e9b\u4efb\u52a1\u5305\u62ec\uff1a</p> <ul> <li>\u5b66\u4e60\uff1a\u673a\u5668\u901a\u8fc7\u7ecf\u9a8c\uff08\u6570\u636e\uff09\u4e0d\u65ad\u6539\u8fdb\u81ea\u5df1\u7684\u8868\u73b0\u3002</li> <li>\u63a8\u7406\uff1a\u673a\u5668\u6839\u636e\u5df2\u6709\u7684\u4fe1\u606f\u4f5c\u51fa\u51b3\u7b56\u6216\u63a8\u65ad\u3002</li> <li>\u95ee\u9898\u89e3\u51b3\uff1a\u673a\u5668\u80fd\u591f\u89e3\u51b3\u590d\u6742\u7684\u95ee\u9898\uff0c\u5e76\u6839\u636e\u4e0d\u540c\u60c5\u51b5\u9009\u62e9\u6700\u4f73\u65b9\u6848\u3002</li> <li>\u611f\u77e5\uff1a\u673a\u5668\u901a\u8fc7\u6444\u50cf\u5934\u3001\u9ea6\u514b\u98ce\u7b49\u4f20\u611f\u5668\u83b7\u53d6\u5916\u754c\u4fe1\u606f\u3002</li> <li>\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff1a\u673a\u5668\u7406\u89e3\u3001\u89e3\u91ca\u548c\u751f\u6210\u4eba\u7c7b\u8bed\u8a00\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#2","title":"2. \u4eba\u5de5\u667a\u80fd\u7684\u5206\u7c7b","text":"<p>\u4eba\u5de5\u667a\u80fd\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#21-ani","title":"2.1. \u72ed\u4e49\u4eba\u5de5\u667a\u80fd\uff08ANI\uff09","text":"<p>\u72ed\u4e49\u4eba\u5de5\u667a\u80fd\uff0c\u53c8\u79f0\u4e3a\u5f31\u4eba\u5de5\u667a\u80fd\uff0c\u662f\u6307\u5728\u7279\u5b9a\u4efb\u52a1\u4e0a\u8868\u73b0\u51fa\u8272\u7684\u7cfb\u7edf\u3002\u8fd9\u7c7b\u7cfb\u7edf\u53ea\u80fd\u5728\u6709\u9650\u7684\u73af\u5883\u4e2d\u6267\u884c\u7279\u5b9a\u7684\u4efb\u52a1\uff0c\u5982\u8bed\u97f3\u8bc6\u522b\u3001\u56fe\u50cf\u8bc6\u522b\u7b49\u3002\u4f8b\u5982\uff0c\u8bed\u97f3\u52a9\u624b\uff08\u5982Siri\u3001Alexa\uff09\u5c31\u662f\u72ed\u4e49\u4eba\u5de5\u667a\u80fd\u7684\u5178\u578b\u4f8b\u5b50\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#22-agi","title":"2.2. \u5e7f\u4e49\u4eba\u5de5\u667a\u80fd\uff08AGI\uff09","text":"<p>\u5e7f\u4e49\u4eba\u5de5\u667a\u80fd\uff0c\u4e5f\u79f0\u4e3a\u5f3a\u4eba\u5de5\u667a\u80fd\uff0c\u662f\u6307\u5177\u6709\u7c7b\u4f3c\u4eba\u7c7b\u667a\u80fd\u7684\u7cfb\u7edf\u3002\u8fd9\u7c7b\u7cfb\u7edf\u53ef\u4ee5\u7406\u89e3\u3001\u5b66\u4e60\u548c\u9002\u5e94\u5404\u79cd\u4e0d\u540c\u4efb\u52a1\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u7279\u5b9a\u9886\u57df\u7684\u4efb\u52a1\u3002\u5e7f\u4e49\u4eba\u5de5\u667a\u80fd\u76ee\u524d\u4ecd\u5904\u4e8e\u7406\u8bba\u9636\u6bb5\uff0c\u5c1a\u672a\u5b9e\u73b0\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#23-asi","title":"2.3. \u8d85\u4eba\u5de5\u667a\u80fd\uff08ASI\uff09","text":"<p>\u8d85\u4eba\u5de5\u667a\u80fd\u662f\u6307\u8d85\u8fc7\u4eba\u7c7b\u667a\u80fd\u7684\u4eba\u5de5\u667a\u80fd\u7cfb\u7edf\u3002\u8fd9\u7c7b\u7cfb\u7edf\u80fd\u591f\u5728\u6240\u6709\u9886\u57df\u8d85\u8d8a\u4eba\u7c7b\uff0c\u5e76\u53ef\u80fd\u5e26\u6765\u65e0\u6cd5\u9884\u4f30\u7684\u6280\u672f\u548c\u793e\u4f1a\u53d8\u9769\u3002\u8d85\u4eba\u5de5\u667a\u80fd\u4e5f\u662f\u76ee\u524d\u7814\u7a76\u548c\u8ba8\u8bba\u7684\u524d\u6cbf\u8bfe\u9898\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#3","title":"3. \u4eba\u5de5\u667a\u80fd\u7684\u5173\u952e\u6280\u672f","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#31-machine-learning","title":"3.1. \u673a\u5668\u5b66\u4e60\uff08Machine Learning\uff09","text":"<p>\u673a\u5668\u5b66\u4e60\u662f\u4eba\u5de5\u667a\u80fd\u7684\u6838\u5fc3\u6280\u672f\u4e4b\u4e00\u3002\u5b83\u4f7f\u673a\u5668\u80fd\u591f\u5728\u6ca1\u6709\u660e\u786e\u7f16\u7a0b\u7684\u60c5\u51b5\u4e0b\uff0c\u4ece\u6570\u636e\u4e2d\u5b66\u4e60\u3002\u673a\u5668\u5b66\u4e60\u7684\u4e3b\u8981\u7c7b\u578b\u5305\u62ec\uff1a</p> <ul> <li>\u76d1\u7763\u5b66\u4e60\uff1a\u673a\u5668\u4ece\u6807\u8bb0\u6570\u636e\u4e2d\u5b66\u4e60\uff0c\u6a21\u578b\u8f93\u51fa\u4e0e\u9884\u671f\u7ed3\u679c\u8fdb\u884c\u6bd4\u8f83\uff0c\u5e76\u4e0d\u65ad\u4f18\u5316\u3002</li> <li>\u65e0\u76d1\u7763\u5b66\u4e60\uff1a\u673a\u5668\u4ece\u672a\u6807\u8bb0\u7684\u6570\u636e\u4e2d\u5b66\u4e60\uff0c\u5c1d\u8bd5\u53d1\u73b0\u6570\u636e\u4e2d\u7684\u6a21\u5f0f\u548c\u7ed3\u6784\u3002</li> <li>\u5f3a\u5316\u5b66\u4e60\uff1a\u673a\u5668\u901a\u8fc7\u4e0e\u73af\u5883\u4ea4\u4e92\uff0c\u4ece\u53cd\u9988\u4e2d\u5b66\u4e60\uff0c\u5e76\u4e0d\u65ad\u8c03\u6574\u7b56\u7565\u4ee5\u6700\u5927\u5316\u5956\u52b1\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#32-deep-learning","title":"3.2. \u6df1\u5ea6\u5b66\u4e60\uff08Deep Learning\uff09","text":"<p>\u6df1\u5ea6\u5b66\u4e60\u662f\u673a\u5668\u5b66\u4e60\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u57fa\u4e8e\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u591a\u5c42\u7ed3\u6784\u3002\u5b83\u5728\u5904\u7406\u590d\u6742\u6570\u636e\uff08\u5982\u56fe\u50cf\u3001\u8bed\u97f3\u3001\u6587\u672c\uff09\u65b9\u9762\u8868\u73b0\u51fa\u8272\u3002\u6df1\u5ea6\u5b66\u4e60\u7684\u6838\u5fc3\u6982\u5ff5\u5305\u62ec\uff1a</p> <ul> <li>\u795e\u7ecf\u7f51\u7edc\uff1a\u4eff\u7167\u4eba\u7c7b\u5927\u8111\u7684\u7ed3\u6784\uff0c\u7531\u591a\u4e2a\u201c\u795e\u7ecf\u5143\u201d\u8282\u70b9\u7ec4\u6210\uff0c\u7528\u4e8e\u5904\u7406\u548c\u4f20\u9012\u4fe1\u606f\u3002</li> <li>\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\uff08CNN\uff09\uff1a\u4e3b\u8981\u7528\u4e8e\u56fe\u50cf\u5904\u7406\uff0c\u901a\u8fc7\u5377\u79ef\u5c42\u63d0\u53d6\u56fe\u50cf\u7279\u5f81\u3002</li> <li>\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08RNN\uff09\uff1a\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u5e8f\u5217\u6570\u636e\uff0c\u5982\u65f6\u95f4\u5e8f\u5217\u3001\u8bed\u8a00\u6a21\u578b\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#33-natural-language-processing-nlp","title":"3.3. \u81ea\u7136\u8bed\u8a00\u5904\u7406\uff08Natural Language Processing, NLP\uff09","text":"<p>\u81ea\u7136\u8bed\u8a00\u5904\u7406\u662f\u4eba\u5de5\u667a\u80fd\u7684\u91cd\u8981\u5206\u652f\uff0c\u65e8\u5728\u4f7f\u673a\u5668\u7406\u89e3\u3001\u751f\u6210\u548c\u4e0e\u4eba\u7c7b\u8bed\u8a00\u4e92\u52a8\u3002NLP \u7684\u4e3b\u8981\u5e94\u7528\u5305\u62ec\uff1a</p> <ul> <li>\u6587\u672c\u5206\u7c7b\uff1a\u5982\u5783\u573e\u90ae\u4ef6\u68c0\u6d4b\u3001\u60c5\u611f\u5206\u6790\u7b49\u3002</li> <li>\u673a\u5668\u7ffb\u8bd1\uff1a\u5982 Google Translate \u7b49\u5de5\u5177\u3002</li> <li>\u8bed\u8a00\u751f\u6210\uff1a\u5982\u6587\u672c\u81ea\u52a8\u751f\u6210\u3001\u5bf9\u8bdd\u7cfb\u7edf\uff08\u804a\u5929\u673a\u5668\u4eba\uff09\u7b49\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#34-computer-vision","title":"3.4. \u8ba1\u7b97\u673a\u89c6\u89c9\uff08Computer Vision\uff09","text":"<p>\u8ba1\u7b97\u673a\u89c6\u89c9\u662f\u8ba9\u673a\u5668\u201c\u770b\u89c1\u201d\u548c\u7406\u89e3\u89c6\u89c9\u4fe1\u606f\uff08\u5982\u56fe\u50cf\u3001\u89c6\u9891\uff09\u7684\u6280\u672f\u3002\u5e94\u7528\u5305\u62ec\uff1a</p> <ul> <li>\u56fe\u50cf\u8bc6\u522b\uff1a\u5982\u9762\u90e8\u8bc6\u522b\u3001\u7269\u4f53\u68c0\u6d4b\u7b49\u3002</li> <li>\u89c6\u9891\u5206\u6790\uff1a\u5982\u89c6\u9891\u76d1\u63a7\u3001\u8fd0\u52a8\u68c0\u6d4b\u7b49\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#35","title":"3.5. \u8bed\u97f3\u8bc6\u522b\u4e0e\u751f\u6210","text":"<p>\u8bed\u97f3\u8bc6\u522b\u6280\u672f\u4f7f\u673a\u5668\u80fd\u591f\u7406\u89e3\u548c\u5904\u7406\u4eba\u7c7b\u7684\u53e3\u8bed\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u667a\u80fd\u52a9\u624b\u548c\u8bed\u97f3\u63a7\u5236\u8bbe\u5907\u4e2d\u3002\u8bed\u97f3\u751f\u6210\u6280\u672f\u5219\u7528\u4e8e\u5408\u6210\u81ea\u7136\u7684\u8bed\u97f3\u8f93\u51fa\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#4","title":"4. \u4eba\u5de5\u667a\u80fd\u7684\u5e94\u7528","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#41","title":"4.1. \u533b\u7597","text":"<p>\u4eba\u5de5\u667a\u80fd\u5728\u533b\u7597\u9886\u57df\u7684\u5e94\u7528\u5305\u62ec\uff1a</p> <ul> <li>\u75be\u75c5\u8bca\u65ad\uff1a\u901a\u8fc7\u56fe\u50cf\u5206\u6790\u3001\u57fa\u56e0\u6570\u636e\u5904\u7406\u7b49\uff0c\u8f85\u52a9\u533b\u751f\u8fdb\u884c\u8bca\u65ad\u3002</li> <li>\u4e2a\u6027\u5316\u533b\u7597\uff1a\u57fa\u4e8e\u60a3\u8005\u7684\u75c5\u53f2\u3001\u57fa\u56e0\u6570\u636e\u7b49\uff0c\u63d0\u4f9b\u4e2a\u6027\u5316\u6cbb\u7597\u65b9\u6848\u3002</li> <li>\u836f\u7269\u53d1\u73b0\uff1a\u52a0\u901f\u65b0\u836f\u7814\u53d1\u8fc7\u7a0b\uff0c\u6a21\u62df\u836f\u7269\u5206\u5b50\u4e0e\u9776\u70b9\u7684\u76f8\u4e92\u4f5c\u7528\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#42","title":"4.2. \u91d1\u878d","text":"<p>\u5728\u91d1\u878d\u9886\u57df\uff0c\u4eba\u5de5\u667a\u80fd\u7528\u4e8e\uff1a</p> <ul> <li>\u98ce\u9669\u7ba1\u7406\uff1a\u901a\u8fc7\u5206\u6790\u5386\u53f2\u6570\u636e\u548c\u5e02\u573a\u8d8b\u52bf\uff0c\u9884\u6d4b\u91d1\u878d\u98ce\u9669\u3002</li> <li>\u7b97\u6cd5\u4ea4\u6613\uff1a\u5229\u7528\u673a\u5668\u5b66\u4e60\u6a21\u578b\u8fdb\u884c\u81ea\u52a8\u5316\u7684\u80a1\u7968\u548c\u8bc1\u5238\u4ea4\u6613\u3002</li> <li>\u6b3a\u8bc8\u68c0\u6d4b\uff1a\u8bc6\u522b\u548c\u9884\u9632\u4fe1\u7528\u5361\u6b3a\u8bc8\u7b49\u91d1\u878d\u72af\u7f6a\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#43","title":"4.3. \u5236\u9020\u4e1a","text":"<p>\u4eba\u5de5\u667a\u80fd\u5728\u5236\u9020\u4e1a\u7684\u5e94\u7528\u5305\u62ec\uff1a</p> <ul> <li>\u9884\u6d4b\u6027\u7ef4\u62a4\uff1a\u901a\u8fc7\u4f20\u611f\u5668\u6570\u636e\u5206\u6790\uff0c\u9884\u6d4b\u8bbe\u5907\u6545\u969c\uff0c\u51cf\u5c11\u505c\u673a\u65f6\u95f4\u3002</li> <li>\u81ea\u52a8\u5316\u751f\u4ea7\uff1a\u4f7f\u7528\u673a\u5668\u4eba\u548c\u81ea\u52a8\u5316\u7cfb\u7edf\uff0c\u63d0\u9ad8\u751f\u4ea7\u6548\u7387\u548c\u8d28\u91cf\u3002</li> <li>\u4f9b\u5e94\u94fe\u4f18\u5316\uff1a\u901a\u8fc7\u6570\u636e\u5206\u6790\u4f18\u5316\u4f9b\u5e94\u94fe\u7ba1\u7406\uff0c\u964d\u4f4e\u6210\u672c\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#44","title":"4.4. \u4ea4\u901a","text":"<p>\u5728\u4ea4\u901a\u9886\u57df\uff0c\u4eba\u5de5\u667a\u80fd\u5e94\u7528\u5e7f\u6cdb\uff1a</p> <ul> <li>\u81ea\u52a8\u9a7e\u9a76\uff1a\u901a\u8fc7\u4f20\u611f\u5668\u3001\u8ba1\u7b97\u673a\u89c6\u89c9\u548c\u6df1\u5ea6\u5b66\u4e60\uff0c\u5f00\u53d1\u81ea\u52a8\u9a7e\u9a76\u6c7d\u8f66\u3002</li> <li>\u4ea4\u901a\u7ba1\u7406\uff1a\u5229\u7528 AI \u5206\u6790\u4ea4\u901a\u6d41\u91cf\uff0c\u4f18\u5316\u4ea4\u901a\u4fe1\u53f7\u63a7\u5236\uff0c\u51cf\u5c11\u62e5\u5835\u3002</li> <li>\u4e58\u5ba2\u4f53\u9a8c\uff1a\u901a\u8fc7\u4e2a\u6027\u5316\u63a8\u8350\u548c\u8bed\u97f3\u52a9\u624b\u63d0\u9ad8\u4e58\u5ba2\u7684\u51fa\u884c\u4f53\u9a8c\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#45","title":"4.5. \u96f6\u552e","text":"<p>\u4eba\u5de5\u667a\u80fd\u5728\u96f6\u552e\u4e1a\u7684\u5e94\u7528\uff1a</p> <ul> <li>\u63a8\u8350\u7cfb\u7edf\uff1a\u901a\u8fc7\u5206\u6790\u7528\u6237\u884c\u4e3a\uff0c\u63d0\u4f9b\u4e2a\u6027\u5316\u5546\u54c1\u63a8\u8350\u3002</li> <li>\u5e93\u5b58\u7ba1\u7406\uff1a\u901a\u8fc7\u9884\u6d4b\u6a21\u578b\u4f18\u5316\u5e93\u5b58\uff0c\u51cf\u5c11\u8fc7\u5269\u548c\u7f3a\u8d27\u3002</li> <li>\u5ba2\u6237\u670d\u52a1\uff1a\u4f7f\u7528\u804a\u5929\u673a\u5668\u4eba\u548c\u8bed\u97f3\u52a9\u624b\uff0c\u63d0\u9ad8\u5ba2\u6237\u670d\u52a1\u6548\u7387\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#5","title":"5. \u4eba\u5de5\u667a\u80fd\u7684\u6311\u6218\u4e0e\u672a\u6765","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#51","title":"5.1. \u6570\u636e\u9690\u79c1\u4e0e\u5b89\u5168","text":"<p>\u968f\u7740\u4eba\u5de5\u667a\u80fd\u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u6570\u636e\u9690\u79c1\u95ee\u9898\u53d8\u5f97\u8d8a\u6765\u8d8a\u91cd\u8981\u3002\u5982\u4f55\u4fdd\u62a4\u4e2a\u4eba\u9690\u79c1\uff0c\u9632\u6b62\u6570\u636e\u6cc4\u9732\uff0c\u662f\u4eba\u5de5\u667a\u80fd\u5f00\u53d1\u4e2d\u7684\u5173\u952e\u6311\u6218\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#52","title":"5.2. \u6a21\u578b\u89e3\u91ca\u6027","text":"<p>\u8bb8\u591a AI \u6a21\u578b\uff08\u5c24\u5176\u662f\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\uff09\u662f\u201c\u9ed1\u7bb1\u201d\u6a21\u578b\uff0c\u5176\u51b3\u7b56\u8fc7\u7a0b\u4e0d\u6613\u7406\u89e3\u3002\u63d0\u9ad8\u6a21\u578b\u7684\u89e3\u91ca\u6027\u5bf9\u4e8e\u589e\u52a0\u4fe1\u4efb\u548c\u900f\u660e\u5ea6\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#53","title":"5.3. \u4f26\u7406\u4e0e\u793e\u4f1a\u5f71\u54cd","text":"<p>\u4eba\u5de5\u667a\u80fd\u7684\u5e94\u7528\u53ef\u80fd\u5e26\u6765\u4f26\u7406\u95ee\u9898\uff0c\u5982\u504f\u89c1\u3001\u6b67\u89c6\u548c\u5c31\u4e1a\u5f71\u54cd\u3002\u5982\u4f55\u5728\u786e\u4fdd\u516c\u5e73\u548c\u6b63\u4e49\u7684\u57fa\u7840\u4e0a\u5f00\u53d1\u548c\u90e8\u7f72 AI \u6280\u672f\uff0c\u662f\u672a\u6765\u7814\u7a76\u7684\u91cd\u8981\u65b9\u5411\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#54","title":"5.4. \u672a\u6765\u53d1\u5c55\u8d8b\u52bf","text":"<ul> <li>AGI \u7684\u63a2\u7d22\uff1a\u5411\u5e7f\u4e49\u4eba\u5de5\u667a\u80fd\u7684\u8fc8\u8fdb\uff0c\u5f00\u53d1\u51fa\u80fd\u591f\u9002\u5e94\u591a\u79cd\u4efb\u52a1\u7684\u901a\u7528 AI \u7cfb\u7edf\u3002</li> <li>\u91cf\u5b50\u8ba1\u7b97\u4e0e AI \u7684\u7ed3\u5408\uff1a\u5229\u7528\u91cf\u5b50\u8ba1\u7b97\u7684\u5f3a\u5927\u8ba1\u7b97\u80fd\u529b\uff0c\u52a0\u901f AI \u7b97\u6cd5\u7684\u53d1\u5c55\u3002</li> <li>\u8fb9\u7f18 AI\uff1a\u5c06 AI \u7b97\u6cd5\u90e8\u7f72\u5728\u8fb9\u7f18\u8bbe\u5907\u4e0a\uff0c\u5b9e\u73b0\u66f4\u4f4e\u7684\u5ef6\u8fdf\u548c\u66f4\u9ad8\u7684\u9690\u79c1\u4fdd\u62a4\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/ai-basic/#6","title":"6. \u5b66\u4e60\u548c\u7814\u7a76\u4eba\u5de5\u667a\u80fd\u7684\u8d44\u6e90","text":"<ul> <li>\u5728\u7ebf\u8bfe\u7a0b\uff1a\u5982 Coursera\u3001edX\u3001Udacity \u63d0\u4f9b\u7684 AI \u548c\u673a\u5668\u5b66\u4e60\u8bfe\u7a0b\u3002</li> <li>\u5b66\u672f\u8bba\u6587\uff1a\u9605\u8bfb\u6700\u65b0\u7684 AI \u7814\u7a76\u8bba\u6587\uff08\u5982 arXiv \u4e0a\u7684\u8bba\u6587\uff09\u3002</li> <li>\u5f00\u6e90\u9879\u76ee\uff1a\u53c2\u4e0e GitHub \u4e0a\u7684 AI \u5f00\u6e90\u9879\u76ee\uff0c\u5b9e\u8df5\u5e76\u63d0\u5347\u6280\u80fd\u3002</li> </ul> <p>\u4eba\u5de5\u667a\u80fd\u662f\u4e00\u4e2a\u5145\u6ee1\u6f5c\u529b\u548c\u6311\u6218\u7684\u9886\u57df\uff0c\u5176\u53d1\u5c55\u5c06\u7ee7\u7eed\u63a8\u52a8\u5404\u4e2a\u884c\u4e1a\u7684\u521b\u65b0\u548c\u53d8\u9769\u3002\u5b66\u4e60\u548c\u638c\u63e1 AI \u6280\u672f\uff0c\u5c06\u4e3a\u4e2a\u4eba\u548c\u4f01\u4e1a\u5e26\u6765\u5de8\u5927\u7684\u673a\u4f1a\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/","title":"\u57fa\u7840\u6559\u7a0b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5173\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u7684\u57fa\u7840\u6559\u7a0b\uff0c\u7ed3\u5408\u4e86\u4e00\u4e9b\u5b9e\u9645\u7684\u5e94\u7528\u573a\u666f\u548c\u4ee3\u7801\u793a\u4f8b\uff0c\u5e2e\u52a9\u4f60\u7406\u89e3 LLM \u7684\u57fa\u672c\u6982\u5ff5\u548c\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#llm","title":"\u4e00\u3001LLM \u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#11-llm","title":"1.1 \u4ec0\u4e48\u662f\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\uff1f","text":"<ul> <li>\u5b9a\u4e49\uff1a\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM, Large Language Model\uff09\u662f\u901a\u8fc7\u6df1\u5ea6\u5b66\u4e60\u6280\u672f\u8bad\u7ec3\u7684\u6a21\u578b\uff0c\u901a\u5e38\u5305\u542b\u6570\u5341\u4ebf\u5230\u6570\u5343\u4ebf\u4e2a\u53c2\u6570\uff0c\u80fd\u591f\u7406\u89e3\u548c\u751f\u6210\u81ea\u7136\u8bed\u8a00\u3002\u5b83\u4eec\u7684\u6838\u5fc3\u80fd\u529b\u5728\u4e8e\u5904\u7406\u6587\u672c\u6570\u636e\uff0c\u8fdb\u884c\u6587\u672c\u751f\u6210\u3001\u5206\u7c7b\u3001\u7ffb\u8bd1\u3001\u95ee\u7b54\u7b49\u4efb\u52a1\u3002</li> <li>\u793a\u4f8b\u6a21\u578b\uff1aOpenAI \u7684 GPT \u7cfb\u5217\u3001Google \u7684 BERT \u7cfb\u5217\u3001Meta \u7684 LLaMA \u7cfb\u5217\u7b49\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#12-llm","title":"1.2 LLM \u7684\u4f18\u52bf\u548c\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u4f18\u52bf\uff1a</li> <li>\u5e7f\u6cdb\u7684\u77e5\u8bc6\u57fa\u7840\uff1aLLM \u901a\u5e38\u7ecf\u8fc7\u6d77\u91cf\u6570\u636e\u8bad\u7ec3\uff0c\u5177\u5907\u5e7f\u6cdb\u7684\u77e5\u8bc6\u548c\u8bed\u8a00\u7406\u89e3\u80fd\u529b\u3002</li> <li>\u591a\u4efb\u52a1\u5904\u7406\uff1aLLM \u80fd\u591f\u5904\u7406\u591a\u79cd\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4efb\u52a1\uff0c\u5982\u6587\u672c\u751f\u6210\u3001\u6587\u672c\u5206\u7c7b\u3001\u4fe1\u606f\u68c0\u7d22\u7b49\u3002</li> <li> <p>\u96f6\u6837\u672c\u5b66\u4e60\uff1aLLM \u53ef\u4ee5\u5728\u6ca1\u6709\u660e\u786e\u6837\u672c\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u63a8\u7406\u548c\u751f\u6210\uff0c\u8868\u73b0\u51fa\u4e00\u5b9a\u7684\u901a\u7528\u667a\u80fd\u3002</p> </li> <li> <p>\u5e94\u7528\u573a\u666f\uff1a</p> </li> <li>\u6587\u672c\u751f\u6210\uff1a\u81ea\u52a8\u751f\u6210\u6587\u7ae0\u3001\u5bf9\u8bdd\u56de\u590d\u3001\u4ee3\u7801\u7b49\u3002</li> <li>\u95ee\u7b54\u7cfb\u7edf\uff1a\u6839\u636e\u95ee\u9898\u751f\u6210\u51c6\u786e\u7684\u7b54\u6848\u3002</li> <li>\u7ffb\u8bd1\uff1a\u5c06\u6587\u672c\u4ece\u4e00\u79cd\u8bed\u8a00\u7ffb\u8bd1\u4e3a\u53e6\u4e00\u79cd\u8bed\u8a00\u3002</li> <li>\u6458\u8981\u751f\u6210\uff1a\u4ece\u957f\u6587\u672c\u4e2d\u63d0\u53d6\u6838\u5fc3\u5185\u5bb9\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#llm_1","title":"\u4e8c\u3001\u4f7f\u7528 LLM \u8fdb\u884c\u6587\u672c\u751f\u6210","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#21-llm","title":"2.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u4f7f\u7528 LLM \u8fdb\u884c\u6587\u672c\u751f\u6210\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u4f7f\u7528 GPT \u6a21\u578b\u751f\u6210\u4e00\u6bb5\u63cf\u8ff0\u67d0\u4e2a\u4e3b\u9898\u7684\u6587\u5b57\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1a\u6587\u672c\u751f\u6210\u662f LLM \u7684\u6838\u5fc3\u529f\u80fd\u4e4b\u4e00\uff0c\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u7684 API \u8c03\u7528\u751f\u6210\u5185\u5bb9\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u8c03\u7528 API\uff1a\u4f7f\u7528 OpenAI \u63d0\u4f9b\u7684 GPT-3 API \u751f\u6210\u6587\u672c\u3002</li> </ul> </li> </ul> <pre><code>import openai\n\n# \u4f7f\u7528 OpenAI API \u5bc6\u94a5\nopenai.api_key = \"your-api-key\"\n\n# \u751f\u6210\u6587\u672c\nresponse = openai.Completion.create(\n  engine=\"text-davinci-003\",  # \u9009\u62e9 GPT-3 \u6a21\u578b\n  prompt=\"Describe the impact of AI on modern education.\",\n  max_tokens=100\n)\n\nprint(response.choices[0].text.strip())\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#22","title":"2.2 \u4f18\u5316\u751f\u6210\u5185\u5bb9","text":"<ul> <li>\u95ee\u9898\u5206\u6790\uff1a\u751f\u6210\u7684\u6587\u672c\u53ef\u80fd\u5e76\u4e0d\u603b\u662f\u5b8c\u7f8e\uff0c\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574\u53c2\u6570\u6216\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u63d0\u793a\u8bcd\uff08prompt\uff09\u6765\u4f18\u5316\u7ed3\u679c\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a</li> <li>\u4f18\u5316 Prompt\uff1a\u63d0\u4f9b\u66f4\u591a\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002</li> <li>\u8c03\u6574\u53c2\u6570\uff1a\u8c03\u6574 <code>max_tokens</code>\u3001<code>temperature</code> \u7b49\u53c2\u6570\u6765\u63a7\u5236\u751f\u6210\u5185\u5bb9\u7684\u957f\u5ea6\u548c\u521b\u9020\u6027\u3002</li> </ul> <pre><code>response = openai.Completion.create(\n  engine=\"text-davinci-003\",\n  prompt=\"In a few sentences, explain how artificial intelligence is transforming the healthcare industry. Focus on the benefits and challenges.\",\n  max_tokens=150,\n  temperature=0.7  # \u63a7\u5236\u751f\u6210\u7684\u968f\u673a\u6027\n)\n\nprint(response.choices[0].text.strip())\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#_2","title":"\u4e09\u3001\u6587\u672c\u5206\u7c7b\u4efb\u52a1","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#31-llm","title":"3.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u4f7f\u7528 LLM \u8fdb\u884c\u6587\u672c\u5206\u7c7b\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u4f7f\u7528 GPT \u6a21\u578b\u5bf9\u4e00\u6bb5\u6587\u672c\u8fdb\u884c\u60c5\u611f\u5206\u6790\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1aLLM \u53ef\u4ee5\u6839\u636e\u7ed9\u5b9a\u7684\u6587\u672c\u9884\u6d4b\u60c5\u611f\u7c7b\u522b\uff0c\u4f8b\u5982\u6b63\u9762\u3001\u8d1f\u9762\u6216\u4e2d\u6027\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u60c5\u611f\u5206\u6790 Prompt\uff1a\u6784\u5efa\u4e00\u4e2a\u5408\u9002\u7684\u63d0\u793a\u8bcd\uff0c\u8981\u6c42\u6a21\u578b\u5224\u65ad\u60c5\u611f\u3002</li> </ul> </li> </ul> <pre><code>response = openai.Completion.create(\n  engine=\"text-davinci-003\",\n  prompt=\"Determine the sentiment of the following text: 'I love the new features in this product, but it still has some bugs.'\\nSentiment:\",\n  max_tokens=1\n)\n\nprint(response.choices[0].text.strip())  # \u8f93\u51fa\uff1a\u6b63\u9762\u3001\u4e2d\u6027\u6216\u8d1f\u9762\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#_3","title":"\u56db\u3001\u95ee\u7b54\u7cfb\u7edf","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#41-llm","title":"4.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u4f7f\u7528 LLM \u6784\u5efa\u95ee\u7b54\u7cfb\u7edf\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u4f7f\u7528 GPT \u6a21\u578b\u56de\u7b54\u7528\u6237\u7684\u95ee\u9898\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1a\u95ee\u7b54\u7cfb\u7edf\u8981\u6c42\u6a21\u578b\u6839\u636e\u4e0a\u4e0b\u6587\u6216\u5df2\u77e5\u4fe1\u606f\u751f\u6210\u51c6\u786e\u7684\u7b54\u6848\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u7b80\u5355\u95ee\u7b54\uff1a\u76f4\u63a5\u63d0\u95ee\uff0c\u5e76\u8ba9\u6a21\u578b\u751f\u6210\u7b54\u6848\u3002</li> </ul> </li> </ul> <pre><code>response = openai.Completion.create(\n  engine=\"text-davinci-003\",\n  prompt=\"What is the capital of France?\",\n  max_tokens=10\n)\n\nprint(response.choices[0].text.strip())  # \u8f93\u51fa\uff1aParis\n</code></pre> <ul> <li>\u590d\u6742\u95ee\u7b54\uff1a\u4e3a\u6a21\u578b\u63d0\u4f9b\u66f4\u591a\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u4ee5\u4fbf\u751f\u6210\u66f4\u51c6\u786e\u7684\u7b54\u6848\u3002</li> </ul> <pre><code>context = \"\"\"\nFrance is a country in Western Europe. It has a rich history, with many cultural landmarks and cities of historical importance. The capital city of France is Paris, which is also its largest city.\n\"\"\"\n\nresponse = openai.Completion.create(\n  engine=\"text-davinci-003\",\n  prompt=f\"Based on the following context, answer the question: {context}\\n\\nWhat is the capital of France?\",\n  max_tokens=10\n)\n\nprint(response.choices[0].text.strip())  # \u8f93\u51fa\uff1aParis\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#_4","title":"\u4e94\u3001\u6570\u636e\u589e\u5f3a\u548c\u8bad\u7ec3\u4f18\u5316","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#51-llm","title":"5.1 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5982\u4f55\u4f7f\u7528 LLM \u8fdb\u884c\u6570\u636e\u589e\u5f3a\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u4f7f\u7528 GPT \u6a21\u578b\u751f\u6210\u66f4\u591a\u7684\u8bad\u7ec3\u6570\u636e\uff1f</li> <li>\u8be6\u7ec6\u89e3\u7b54\uff1a</li> <li>\u95ee\u9898\u5206\u6790\uff1a\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u66f4\u591a\u7684\u6570\u636e\u53ef\u4ee5\u63d0\u5347\u6a21\u578b\u7684\u6027\u80fd\u3002\u53ef\u4ee5\u4f7f\u7528 LLM \u6765\u751f\u6210\u7c7b\u4f3c\u4e8e\u73b0\u6709\u6570\u636e\u7684\u6269\u5c55\u6570\u636e\u96c6\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a<ul> <li>\u6570\u636e\u751f\u6210\uff1a\u4f7f\u7528 LLM \u751f\u6210\u4e0e\u73b0\u6709\u6837\u672c\u76f8\u4f3c\u7684\u65b0\u6570\u636e\u3002</li> </ul> </li> </ul> <pre><code># \u751f\u6210\u65b0\u6570\u636e\nresponse = openai.Completion.create(\n  engine=\"text-davinci-003\",\n  prompt=\"Generate five new sentences similar to: 'The cat sat on the mat.'\",\n  max_tokens=50\n)\n\nprint(response.choices[0].text.strip())  # \u8f93\u51fa\u4e94\u4e2a\u7c7b\u4f3c\u7684\u53e5\u5b50\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#llm_2","title":"\u516d\u3001LLM \u7684\u90e8\u7f72\u548c\u6269\u5c55","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/basic/#61-llm","title":"6.1 \u5982\u4f55\u90e8\u7f72 LLM \u5230\u751f\u4ea7\u73af\u5883\uff1f","text":"<ul> <li>\u95ee\u9898\u5206\u6790\uff1a\u5927\u6a21\u578b\u901a\u5e38\u8d44\u6e90\u6d88\u8017\u8f83\u5927\uff0c\u9700\u8981\u5408\u7406\u7684\u90e8\u7f72\u7b56\u7565\u3002</li> <li>\u5904\u7406\u65b9\u6cd5\uff1a</li> <li>\u4e91\u670d\u52a1\u90e8\u7f72\uff1a\u5229\u7528\u4e91\u670d\u52a1\uff08\u5982 AWS\u3001GCP\uff09\u63d0\u4f9b\u7684\u9884\u8bad\u7ec3\u6a21\u578b API\u3002</li> <li>\u8fb9\u7f18\u90e8\u7f72\uff1a\u5c06\u6a21\u578b\u4f18\u5316\u540e\u90e8\u7f72\u5230\u8fb9\u7f18\u8bbe\u5907\uff0c\u51cf\u5c11\u5ef6\u8fdf\u548c\u6210\u672c\u3002</li> </ul> <pre><code># \u4f7f\u7528 Uvicorn \u90e8\u7f72 FastAPI \u5e94\u7528\uff0c\u5c01\u88c5 LLM \u63a5\u53e3\nuvicorn myapp:app --host 0.0.0.0 --port 8000\n</code></pre> <p>\u901a\u8fc7\u4ee5\u4e0a\u8fd9\u4e9b\u4f8b\u5b50\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u5982\u4f55\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u4f7f\u7528 LLM \u8fdb\u884c\u6587\u672c\u751f\u6210\u3001\u5206\u7c7b\u3001\u95ee\u7b54\u548c\u6570\u636e\u589e\u5f3a\u7b49\u4efb\u52a1\u3002\u6bcf\u4e2a\u4f8b\u5b50\u90fd\u63d0\u4f9b\u4e86\u5b9e\u9645\u7684\u4ee3\u7801\u793a\u4f8b\uff0c\u5e2e\u52a9\u4f60\u638c\u63e1 LLM \u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/","title":"LLM \u9762\u8bd5\u624b\u518c","text":"<p>\u5728\u5927\u5382\u9762\u8bd5\u4e2d\uff0c\u5173\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u7684\u516b\u80a1\u6587\u901a\u5e38\u6d89\u53ca\u57fa\u672c\u6982\u5ff5\u3001\u5e94\u7528\u573a\u666f\u3001\u6280\u672f\u7ec6\u8282\u3001\u5b9e\u9645\u5e94\u7528\u548c\u4f18\u5316\u7b56\u7565\u7b49\u65b9\u9762\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u9762\u8bd5\u9898\u76ee\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff0c\u5e2e\u52a9\u4f60\u51c6\u5907 LLM \u76f8\u5173\u7684\u9762\u8bd5\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_1","title":"\u4e00\u3001\u57fa\u7840\u6982\u5ff5\u4e0e\u539f\u7406","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#11-transformer","title":"1.1 \u4ec0\u4e48\u662f Transformer \u67b6\u6784\uff1f","text":"<ul> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>Transformer \u662f\u4e00\u79cd\u57fa\u4e8e\u81ea\u6ce8\u610f\u529b\u673a\u5236\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u67b6\u6784\uff0c\u7531 Vaswani \u7b49\u4eba\u5728 2017 \u5e74\u63d0\u51fa\u3002\u5b83\u4e3b\u8981\u7531\u7f16\u7801\u5668\uff08Encoder\uff09\u548c\u89e3\u7801\u5668\uff08Decoder\uff09\u7ec4\u6210\u3002\u7f16\u7801\u5668\u8d1f\u8d23\u5c06\u8f93\u5165\u5e8f\u5217\u6620\u5c04\u5230\u4e0a\u4e0b\u6587\u8868\u793a\uff0c\u89e3\u7801\u5668\u5219\u6839\u636e\u4e0a\u4e0b\u6587\u751f\u6210\u8f93\u51fa\u5e8f\u5217\u3002Transformer \u7684\u6838\u5fc3\u673a\u5236\u662f\u81ea\u6ce8\u610f\u529b\uff08Self-Attention\uff09\uff0c\u5b83\u5141\u8bb8\u6a21\u578b\u5728\u5904\u7406\u5e8f\u5217\u65f6\u5173\u6ce8\u8f93\u5165\u7684\u4e0d\u540c\u90e8\u5206\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#12-bert-gpt","title":"1.2 \u4ec0\u4e48\u662f BERT \u548c GPT \u7684\u4e3b\u8981\u533a\u522b\uff1f","text":"<ul> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>BERT (Bidirectional Encoder Representations from Transformers)\uff1a\u4e3b\u8981\u7528\u4e8e\u6587\u672c\u7406\u89e3\u4efb\u52a1\uff0c\u5982\u6587\u672c\u5206\u7c7b\u3001\u95ee\u7b54\u548c\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3002\u5b83\u4f7f\u7528\u53cc\u5411\u7f16\u7801\u5668\u6765\u6355\u83b7\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u5373\u5728\u5904\u7406\u6bcf\u4e2a\u8bcd\u65f6\u8003\u8651\u5176\u5de6\u53f3\u4e24\u4fa7\u7684\u8bcd\u3002</li> <li>GPT (Generative Pre-trained Transformer)\uff1a\u4e3b\u8981\u7528\u4e8e\u6587\u672c\u751f\u6210\u4efb\u52a1\u3002\u5b83\u4f7f\u7528\u5355\u5411\uff08\u4ece\u5de6\u5230\u53f3\uff09\u89e3\u7801\u5668\u6765\u751f\u6210\u6587\u672c\uff0c\u5148\u901a\u8fc7\u5927\u89c4\u6a21\u9884\u8bad\u7ec3\u6765\u6355\u6349\u8bed\u8a00\u6a21\u578b\uff0c\u7136\u540e\u5728\u7279\u5b9a\u4efb\u52a1\u4e0a\u8fdb\u884c\u5fae\u8c03\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_2","title":"\u4e8c\u3001\u6a21\u578b\u8bad\u7ec3\u4e0e\u5fae\u8c03","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#21","title":"2.1 \u5982\u4f55\u8fdb\u884c\u6a21\u578b\u5fae\u8c03\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528\u9884\u8bad\u7ec3\u7684 BERT \u6a21\u578b\u8fdb\u884c\u6587\u672c\u5206\u7c7b\u4efb\u52a1\u7684\u5fae\u8c03\u3002</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u5fae\u8c03 BERT \u6a21\u578b\u7684\u6b65\u9aa4\u5305\u62ec\uff1a<ol> <li>\u51c6\u5907\u6570\u636e\uff1a\u5c06\u6570\u636e\u96c6\u683c\u5f0f\u5316\u4e3a BERT \u6240\u9700\u7684\u8f93\u5165\u683c\u5f0f\uff08\u5982 <code>input_ids</code>\u3001<code>attention_mask</code> \u548c <code>token_type_ids</code>\uff09\u3002</li> <li>\u8bbe\u7f6e\u6a21\u578b\uff1a\u52a0\u8f7d\u9884\u8bad\u7ec3\u7684 BERT \u6a21\u578b\uff0c\u5e76\u6839\u636e\u5177\u4f53\u4efb\u52a1\u6dfb\u52a0\u5206\u7c7b\u5c42\u3002</li> <li>\u8bad\u7ec3\uff1a\u4f7f\u7528\u6807\u6ce8\u6570\u636e\u8fdb\u884c\u8bad\u7ec3\u3002</li> <li>\u8bc4\u4f30\uff1a\u8bc4\u4f30\u6a21\u578b\u5728\u9a8c\u8bc1\u96c6\u4e0a\u7684\u6027\u80fd\u3002</li> </ol> </li> </ul> <p>```python   from transformers import BertTokenizer, BertForSequenceClassification, Trainer, TrainingArguments</p> <p>tokenizer = BertTokenizer.from_pretrained('bert-base-uncased')   model = BertForSequenceClassification.from_pretrained('bert-base-uncased', num_labels=2)</p> <p>train_encodings = tokenizer(train_texts, truncation=True, padding=True)   train_dataset = CustomDataset(train_encodings, train_labels)</p> <p>training_args = TrainingArguments(       output_dir='./results',       num_train_epochs=3,       per_device_train_batch_size=8,       per_device_eval_batch_size=8,       evaluation_strategy='epoch',       logging_dir='./logs'   )</p> <p>trainer = Trainer(       model=model,       args=training_args,       train_dataset=train_dataset   )</p> <p>trainer.train()   ```</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_3","title":"\u4e09\u3001\u5e94\u7528\u573a\u666f","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#31-llm","title":"3.1 LLM \u53ef\u4ee5\u5e94\u7528\u4e8e\u54ea\u4e9b\u5b9e\u9645\u573a\u666f\uff1f","text":"<ul> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u6587\u672c\u751f\u6210\uff1a\u81ea\u52a8\u751f\u6210\u6587\u7ae0\u3001\u535a\u5ba2\u3001\u6545\u4e8b\u7b49\u3002</li> <li>\u95ee\u7b54\u7cfb\u7edf\uff1a\u6839\u636e\u95ee\u9898\u751f\u6210\u76f8\u5173\u7684\u7b54\u6848\u3002</li> <li>\u5bf9\u8bdd\u7cfb\u7edf\uff1a\u5b9e\u73b0\u667a\u80fd\u5ba2\u670d\u3001\u804a\u5929\u673a\u5668\u4eba\u7b49\u3002</li> <li>\u673a\u5668\u7ffb\u8bd1\uff1a\u5c06\u6587\u672c\u4ece\u4e00\u79cd\u8bed\u8a00\u7ffb\u8bd1\u4e3a\u53e6\u4e00\u79cd\u8bed\u8a00\u3002</li> <li>\u60c5\u611f\u5206\u6790\uff1a\u5206\u6790\u6587\u672c\u7684\u60c5\u611f\u503e\u5411\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#32-llm","title":"3.2 \u5982\u4f55\u4f7f\u7528 LLM \u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u5bf9\u8bdd\u7cfb\u7edf\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528 GPT \u6a21\u578b\u521b\u5efa\u4e00\u4e2a\u57fa\u672c\u7684\u804a\u5929\u673a\u5668\u4eba\u3002</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u901a\u8fc7 OpenAI \u7684 GPT API \u8fdb\u884c\u5bf9\u8bdd\u751f\u6210\uff1a</li> </ul> <p>```python   import openai</p> <p>openai.api_key = \"your-api-key\"</p> <p>def chat_with_bot(prompt):       response = openai.Completion.create(         engine=\"text-davinci-003\",         prompt=prompt,         max_tokens=150,         temperature=0.7       )       return response.choices[0].text.strip()</p> <p>user_input = \"Hello, how are you?\"   print(chat_with_bot(user_input))   ```</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_4","title":"\u56db\u3001\u6a21\u578b\u4f18\u5316\u4e0e\u90e8\u7f72","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#41-llm","title":"4.1 \u5982\u4f55\u4f18\u5316 LLM \u7684\u6027\u80fd\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u63cf\u8ff0\u5982\u4f55\u901a\u8fc7\u8c03\u6574\u6a21\u578b\u53c2\u6570\u4f18\u5316 GPT \u6a21\u578b\u7684\u751f\u6210\u8d28\u91cf\u3002</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u53c2\u6570\u8c03\u6574\uff1a<ul> <li><code>temperature</code>\uff1a\u63a7\u5236\u751f\u6210\u7684\u968f\u673a\u6027\u3002\u8f83\u4f4e\u7684\u503c\uff08\u5982 0.2\uff09\u4f7f\u751f\u6210\u5185\u5bb9\u66f4\u786e\u5b9a\uff0c\u800c\u8f83\u9ad8\u7684\u503c\uff08\u5982 0.8\uff09\u5219\u4f7f\u5185\u5bb9\u66f4\u6709\u521b\u610f\u3002</li> <li><code>max_tokens</code>\uff1a\u8bbe\u7f6e\u751f\u6210\u6587\u672c\u7684\u6700\u5927\u957f\u5ea6\u3002</li> <li><code>top_p</code>\uff1a\u8bbe\u7f6e\u91c7\u6837\u7684\u6982\u7387\u9608\u503c\uff0c\u8f83\u9ad8\u7684\u503c\uff08\u5982 0.9\uff09\u5141\u8bb8\u66f4\u591a\u7684\u8bcd\u6c47\u88ab\u91c7\u6837\uff0c\u589e\u52a0\u6587\u672c\u7684\u591a\u6837\u6027\u3002</li> </ul> </li> </ul> <p><code>python   response = openai.Completion.create(     engine=\"text-davinci-003\",     prompt=\"Explain quantum computing.\",     max_tokens=100,     temperature=0.5,     top_p=0.9   )</code></p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#42-llm","title":"4.2 \u5982\u4f55\u5c06 LLM \u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u4e2d\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u5c06\u4e00\u4e2a\u8bad\u7ec3\u597d\u7684 LLM \u90e8\u7f72\u4e3a Web \u670d\u52a1\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u9009\u62e9\u90e8\u7f72\u5e73\u53f0\uff1a\u5982 AWS\u3001Azure \u6216\u672c\u5730\u670d\u52a1\u5668\u3002</li> <li>\u6784\u5efa API\uff1a\u4f7f\u7528\u6846\u67b6\u5982 Flask \u6216 FastAPI \u521b\u5efa API \u670d\u52a1\u3002</li> <li>\u4f18\u5316\u548c\u76d1\u63a7\uff1a\u8bbe\u7f6e\u8d1f\u8f7d\u5747\u8861\u3001\u7f13\u5b58\u673a\u5236\uff0c\u5e76\u76d1\u63a7\u6a21\u578b\u7684\u6027\u80fd\u3002</li> </ol> </li> </ul> <p>```python   from flask import Flask, request, jsonify   import openai</p> <p>app = Flask(name)   openai.api_key = \"your-api-key\"</p> <p>@app.route('/generate', methods=['POST'])   def generate_text():       data = request.json       prompt = data['prompt']       response = openai.Completion.create(         engine=\"text-davinci-003\",         prompt=prompt,         max_tokens=100       )       return jsonify({\"text\": response.choices[0].text.strip()})</p> <p>if name == 'main':       app.run(port=5000)   ```</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_5","title":"\u4e94\u3001\u5e38\u89c1\u95ee\u9898\u4e0e\u6311\u6218","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#51-llm","title":"5.1 LLM \u5728\u5904\u7406\u957f\u6587\u672c\u65f6\u9047\u5230\u4ec0\u4e48\u6311\u6218\uff1f","text":"<ul> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u6311\u6218\uff1a<ul> <li>\u4e0a\u4e0b\u6587\u4e22\u5931\uff1a\u6a21\u578b\u53ef\u80fd\u4f1a\u4e22\u5931\u957f\u6587\u672c\u4e2d\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002</li> <li>\u8ba1\u7b97\u8d44\u6e90\uff1a\u5904\u7406\u957f\u6587\u672c\u9700\u8981\u5927\u91cf\u8ba1\u7b97\u8d44\u6e90\u548c\u5185\u5b58\u3002</li> <li>\u751f\u6210\u4e00\u81f4\u6027\uff1a\u957f\u6587\u672c\u751f\u6210\u65f6\u53ef\u80fd\u51fa\u73b0\u4e00\u81f4\u6027\u95ee\u9898\uff0c\u5185\u5bb9\u7684\u8fde\u8d2f\u6027\u53ef\u80fd\u53d7\u5230\u5f71\u54cd\u3002</li> </ul> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#52-llm","title":"5.2 \u5982\u4f55\u89e3\u51b3 LLM \u7684\u504f\u89c1\u95ee\u9898\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u63cf\u8ff0\u5982\u4f55\u5e94\u5bf9\u548c\u51cf\u5c11 LLM \u6a21\u578b\u7684\u504f\u89c1\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u7b56\u7565\uff1a<ul> <li>\u6570\u636e\u5ba1\u67e5\uff1a\u5ba1\u67e5\u548c\u6e05\u6d17\u8bad\u7ec3\u6570\u636e\uff0c\u4ee5\u51cf\u5c11\u504f\u89c1\u3002</li> <li>\u6a21\u578b\u76d1\u63a7\uff1a\u5728\u751f\u6210\u5185\u5bb9\u65f6\u8fdb\u884c\u5b9e\u65f6\u76d1\u63a7\uff0c\u68c0\u6d4b\u548c\u8fc7\u6ee4\u6709\u504f\u89c1\u7684\u8f93\u51fa\u3002</li> <li>\u7528\u6237\u53cd\u9988\uff1a\u6536\u96c6\u7528\u6237\u53cd\u9988\uff0c\u6301\u7eed\u6539\u8fdb\u6a21\u578b\u3002</li> </ul> </li> </ul> <p>\u8fd9\u4e9b\u95ee\u9898\u548c\u7b54\u6848\u6db5\u76d6\u4e86\u5927\u8bed\u8a00\u6a21\u578b\u7684\u6838\u5fc3\u6982\u5ff5\u3001\u5e94\u7528\u3001\u4f18\u5316\u548c\u5b9e\u9645\u6311\u6218\uff0c\u6709\u52a9\u4e8e\u4f60\u5728\u5927\u5382\u9762\u8bd5\u4e2d\u5c55\u793a\u5bf9 LLM \u7684\u6df1\u523b\u7406\u89e3\u548c\u5b9e\u9645\u64cd\u4f5c\u80fd\u529b\u3002</p> <p>\u4ee5\u4e0b\u662f\u66f4\u591a\u5173\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u7684\u9762\u8bd5\u9898\u76ee\uff0c\u6db5\u76d6\u4e86\u66f4\u5e7f\u6cdb\u7684\u4e3b\u9898\u548c\u590d\u6742\u7684\u5e94\u7528\u573a\u666f\uff0c\u5305\u62ec\u6a21\u578b\u8c03\u4f18\u3001\u5b9e\u9645\u95ee\u9898\u5904\u7406\u3001\u4e0e\u5176\u4ed6\u6280\u672f\u7684\u96c6\u6210\u7b49\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_6","title":"\u516d\u3001\u6a21\u578b\u8bad\u7ec3\u4e0e\u8c03\u4f18","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#61-llm","title":"6.1 \u5982\u4f55\u9009\u62e9\u5408\u9002\u7684\u8d85\u53c2\u6570\u6765\u8bad\u7ec3 LLM\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u54ea\u4e9b\u8d85\u53c2\u6570\u5bf9\u8bad\u7ec3\u5927\u8bed\u8a00\u6a21\u578b\u6700\u91cd\u8981\uff1f\u5982\u4f55\u9009\u62e9\u5408\u9002\u7684\u503c\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u8d85\u53c2\u6570\uff1a<ul> <li>\u5b66\u4e60\u7387\uff08Learning Rate\uff09\uff1a\u5f71\u54cd\u6a21\u578b\u7684\u8bad\u7ec3\u901f\u5ea6\u548c\u7a33\u5b9a\u6027\u3002\u9700\u8981\u5728\u8bad\u7ec3\u5f00\u59cb\u65f6\u9009\u62e9\u5408\u9002\u7684\u5b66\u4e60\u7387\uff0c\u5e76\u901a\u8fc7\u5b66\u4e60\u7387\u8c03\u5ea6\u5668\u6765\u52a8\u6001\u8c03\u6574\u3002</li> <li>\u6279\u91cf\u5927\u5c0f\uff08Batch Size\uff09\uff1a\u5f71\u54cd\u8bad\u7ec3\u7684\u7a33\u5b9a\u6027\u548c\u6548\u7387\u3002\u8f83\u5927\u7684\u6279\u91cf\u5927\u5c0f\u53ef\u4ee5\u52a0\u901f\u8bad\u7ec3\uff0c\u4f46\u9700\u8981\u66f4\u591a\u7684\u5185\u5b58\u3002</li> <li>\u8bad\u7ec3\u5468\u671f\uff08Epochs\uff09\uff1a\u51b3\u5b9a\u6a21\u578b\u7684\u8bad\u7ec3\u6b21\u6570\u3002\u9700\u8981\u6839\u636e\u8bad\u7ec3\u6570\u636e\u7684\u5927\u5c0f\u548c\u590d\u6742\u6027\u6765\u8bbe\u7f6e\u5408\u9002\u7684\u5468\u671f\u6570\u3002</li> <li>\u4f18\u5316\u5668\uff08Optimizer\uff09\uff1a\u5982 Adam\u3001AdamW\uff0c\u5f71\u54cd\u8bad\u7ec3\u7684\u6548\u679c\u548c\u6536\u655b\u901f\u5ea6\u3002</li> </ul> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#62","title":"6.2 \u5982\u4f55\u8bc4\u4f30\u5927\u8bed\u8a00\u6a21\u578b\u7684\u751f\u6210\u8d28\u91cf\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u6709\u54ea\u4e9b\u6307\u6807\u53ef\u4ee5\u7528\u6765\u8bc4\u4f30\u751f\u6210\u6587\u672c\u7684\u8d28\u91cf\uff1f\u5982\u4f55\u8ba1\u7b97\u8fd9\u4e9b\u6307\u6807\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u5e38\u89c1\u6307\u6807\uff1a<ul> <li>BLEU\uff1a\u7528\u4e8e\u673a\u5668\u7ffb\u8bd1\u4efb\u52a1\uff0c\u8bc4\u4f30\u751f\u6210\u6587\u672c\u4e0e\u53c2\u8003\u6587\u672c\u4e4b\u95f4\u7684\u91cd\u53e0\u3002</li> <li>ROUGE\uff1a\u7528\u4e8e\u6587\u672c\u6458\u8981\u4efb\u52a1\uff0c\u8bc4\u4f30\u751f\u6210\u6587\u672c\u4e0e\u53c2\u8003\u6587\u672c\u4e4b\u95f4\u7684\u91cd\u53e0\u3002</li> <li>METEOR\uff1a\u7efc\u5408\u8003\u8651\u8bcd\u5f62\u53d8\u5316\u548c\u540c\u4e49\u8bcd\uff0c\u8bc4\u4f30\u751f\u6210\u6587\u672c\u7684\u8d28\u91cf\u3002</li> <li>Perplexity\uff1a\u6d4b\u91cf\u6a21\u578b\u5bf9\u7ed9\u5b9a\u6587\u672c\u7684\u56f0\u60d1\u5ea6\uff0c\u8f83\u4f4e\u7684\u56f0\u60d1\u5ea6\u8868\u793a\u6a21\u578b\u751f\u6210\u7684\u6587\u672c\u66f4\u6709\u53ef\u80fd\u3002</li> </ul> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_7","title":"\u4e03\u3001\u6a21\u578b\u96c6\u6210\u4e0e\u5e94\u7528","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#71-llm","title":"7.1 \u5982\u4f55\u5c06 LLM \u96c6\u6210\u5230\u73b0\u6709\u7684\u4ea7\u54c1\u4e2d\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u63cf\u8ff0\u5982\u4f55\u5c06 GPT \u6a21\u578b\u96c6\u6210\u5230\u4e00\u4e2a\u73b0\u6709\u7684\u5ba2\u670d\u7cfb\u7edf\u4e2d\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u5b9a\u4e49 API\uff1a\u521b\u5efa API \u63a5\u53e3\uff0c\u4ee5\u4fbf\u4ece\u5ba2\u670d\u7cfb\u7edf\u4e2d\u8c03\u7528 GPT \u6a21\u578b\u8fdb\u884c\u6587\u672c\u751f\u6210\u3002</li> <li>\u5904\u7406\u7528\u6237\u8f93\u5165\uff1a\u5c06\u7528\u6237\u7684\u67e5\u8be2\u53d1\u9001\u5230 GPT \u6a21\u578b\uff0c\u5e76\u83b7\u53d6\u54cd\u5e94\u3002</li> <li>\u96c6\u6210\u5230\u524d\u7aef\uff1a\u5c06\u751f\u6210\u7684\u54cd\u5e94\u5c55\u793a\u7ed9\u7528\u6237\u3002</li> <li>\u76d1\u63a7\u548c\u4f18\u5316\uff1a\u6839\u636e\u7528\u6237\u53cd\u9988\u548c\u7cfb\u7edf\u65e5\u5fd7\u8fdb\u884c\u4f18\u5316\u3002</li> </ol> </li> </ul> <p>```python   from flask import Flask, request, jsonify   import openai</p> <p>app = Flask(name)   openai.api_key = \"your-api-key\"</p> <p>@app.route('/respond', methods=['POST'])   def respond():       data = request.json       user_input = data['input']       response = openai.Completion.create(         engine=\"text-davinci-003\",         prompt=user_input,         max_tokens=150       )       return jsonify({\"response\": response.choices[0].text.strip()})</p> <p>if name == 'main':       app.run(port=5000)   ```</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#72-llm","title":"7.2 \u5982\u4f55\u5904\u7406 LLM \u5728\u4e0d\u540c\u8bed\u8a00\u4e2d\u7684\u8868\u73b0\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5927\u8bed\u8a00\u6a21\u578b\u5728\u5904\u7406\u975e\u82f1\u8bed\u8bed\u8a00\u65f6\u53ef\u80fd\u9047\u5230\u54ea\u4e9b\u6311\u6218\uff1f\u5982\u4f55\u63d0\u9ad8\u591a\u8bed\u8a00\u652f\u6301\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u6311\u6218\uff1a<ul> <li>\u8bed\u8a00\u6570\u636e\u4e0d\u5747\u8861\uff1a\u67d0\u4e9b\u8bed\u8a00\u7684\u8bad\u7ec3\u6570\u636e\u53ef\u80fd\u6bd4\u5176\u4ed6\u8bed\u8a00\u7a00\u7f3a\u3002</li> <li>\u8bed\u6cd5\u548c\u6587\u5316\u5dee\u5f02\uff1a\u4e0d\u540c\u8bed\u8a00\u6709\u4e0d\u540c\u7684\u8bed\u6cd5\u89c4\u5219\u548c\u6587\u5316\u80cc\u666f\u3002</li> </ul> </li> <li>\u63d0\u9ad8\u591a\u8bed\u8a00\u652f\u6301\uff1a<ul> <li>\u591a\u8bed\u8a00\u9884\u8bad\u7ec3\uff1a\u4f7f\u7528\u591a\u8bed\u8a00\u6570\u636e\u8fdb\u884c\u9884\u8bad\u7ec3\uff0c\u5982 mBERT \u548c XLM-R\u3002</li> <li>\u6570\u636e\u6269\u5145\uff1a\u589e\u52a0\u975e\u82f1\u8bed\u8bed\u8a00\u7684\u8bad\u7ec3\u6570\u636e\u3002</li> <li>\u8de8\u8bed\u8a00\u8fc1\u79fb\u5b66\u4e60\uff1a\u5c06\u82f1\u8bed\u8bad\u7ec3\u5f97\u5230\u7684\u77e5\u8bc6\u8fc1\u79fb\u5230\u5176\u4ed6\u8bed\u8a00\u3002</li> </ul> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_8","title":"\u516b\u3001\u6a21\u578b\u6027\u80fd\u4e0e\u4f18\u5316","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#81-llm","title":"8.1 \u5982\u4f55\u51cf\u5c11 LLM \u7684\u8ba1\u7b97\u5f00\u9500\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u6709\u54ea\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u51cf\u5c11\u5927\u8bed\u8a00\u6a21\u578b\u5728\u63a8\u7406\u8fc7\u7a0b\u4e2d\u7684\u8ba1\u7b97\u5f00\u9500\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u65b9\u6cd5\uff1a<ul> <li>\u6a21\u578b\u538b\u7f29\uff1a\u901a\u8fc7\u91cf\u5316\u3001\u526a\u679d\u7b49\u6280\u672f\u51cf\u5c11\u6a21\u578b\u7684\u5927\u5c0f\u3002</li> <li>\u77e5\u8bc6\u84b8\u998f\uff1a\u4f7f\u7528\u5c0f\u6a21\u578b\u6765\u6a21\u4eff\u5927\u6a21\u578b\u7684\u884c\u4e3a\uff0c\u51cf\u5c11\u8ba1\u7b97\u9700\u6c42\u3002</li> <li>\u7f13\u5b58\u673a\u5236\uff1a\u5bf9\u4e8e\u91cd\u590d\u7684\u67e5\u8be2\u7ed3\u679c\u4f7f\u7528\u7f13\u5b58\uff0c\u4ee5\u51cf\u5c11\u8ba1\u7b97\u5f00\u9500\u3002</li> <li>\u4f18\u5316\u63a8\u7406\u5f15\u64ce\uff1a\u4f7f\u7528\u9ad8\u6548\u7684\u63a8\u7406\u6846\u67b6\uff0c\u5982 TensorRT \u6216 ONNX Runtime\u3002</li> </ul> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#82-llm","title":"8.2 \u5982\u4f55\u5904\u7406 LLM \u7684\u751f\u6210\u6587\u672c\u4e2d\u7684\u6b67\u89c6\u6216\u4e0d\u5f53\u5185\u5bb9\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5728\u751f\u6210\u6587\u672c\u65f6\u5982\u4f55\u907f\u514d\u4e0d\u5f53\u5185\u5bb9\u6216\u6b67\u89c6\u6027\u8a00\u8bba\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u7b56\u7565\uff1a<ul> <li>\u5185\u5bb9\u8fc7\u6ee4\uff1a\u4f7f\u7528\u9884\u5904\u7406\u548c\u540e\u5904\u7406\u6280\u672f\u8fc7\u6ee4\u4e0d\u5f53\u5185\u5bb9\u3002</li> <li>\u6a21\u578b\u8bad\u7ec3\uff1a\u5728\u8bad\u7ec3\u6570\u636e\u4e2d\u52a0\u5165\u53cd\u6b67\u89c6\u7684\u793a\u4f8b\uff0c\u51cf\u5c11\u6a21\u578b\u751f\u6210\u4e0d\u5f53\u5185\u5bb9\u7684\u53ef\u80fd\u6027\u3002</li> <li>\u7528\u6237\u53cd\u9988\uff1a\u5efa\u7acb\u53cd\u9988\u673a\u5236\uff0c\u6839\u636e\u7528\u6237\u53cd\u9988\u8fdb\u884c\u6a21\u578b\u8c03\u6574\u3002</li> <li>\u89c4\u5219\u5f15\u64ce\uff1a\u7ed3\u5408\u89c4\u5219\u5f15\u64ce\u6765\u68c0\u6d4b\u548c\u8fc7\u6ee4\u751f\u6210\u7684\u5185\u5bb9\u3002</li> </ul> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_9","title":"\u4e5d\u3001\u5b9e\u9645\u95ee\u9898\u89e3\u51b3","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#91-llm","title":"9.1 \u5982\u4f55\u4f7f\u7528 LLM \u8fdb\u884c\u77e5\u8bc6\u62bd\u53d6\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528 LLM \u4ece\u6587\u6863\u4e2d\u62bd\u53d6\u5173\u952e\u4fe1\u606f\u3002</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u6b65\u9aa4\uff1a<ol> <li>\u5b9a\u4e49\u4efb\u52a1\uff1a\u660e\u786e\u9700\u8981\u62bd\u53d6\u7684\u4fe1\u606f\u7c7b\u578b\uff0c\u5982\u5b9e\u4f53\u3001\u5173\u7cfb\u6216\u4e8b\u4ef6\u3002</li> <li>\u6784\u9020\u63d0\u793a\uff1a\u8bbe\u8ba1\u5408\u9002\u7684\u63d0\u793a\u8bcd\u6765\u5f15\u5bfc\u6a21\u578b\u8fdb\u884c\u4fe1\u606f\u62bd\u53d6\u3002</li> <li>\u5904\u7406\u8f93\u51fa\uff1a\u89e3\u6790\u6a21\u578b\u751f\u6210\u7684\u6587\u672c\uff0c\u4ece\u4e2d\u63d0\u53d6\u6240\u9700\u7684\u4fe1\u606f\u3002</li> </ol> </li> </ul> <p><code>python   prompt = \"Extract the key points from the following text: [Text to be analyzed]\"   response = openai.Completion.create(     engine=\"text-davinci-003\",     prompt=prompt,     max_tokens=200   )   extracted_info = response.choices[0].text.strip()</code></p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#92-llm","title":"9.2 \u5982\u4f55\u5728 LLM \u4e2d\u5b9e\u73b0\u8de8\u9886\u57df\u77e5\u8bc6\u8fc1\u79fb\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u5982\u4f55\u8ba9\u4e00\u4e2a\u9886\u57df\u4e13\u7528\u7684\u6a21\u578b\u5e94\u7528\u4e8e\u53e6\u4e00\u4e2a\u9886\u57df\uff1f</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u65b9\u6cd5\uff1a<ol> <li>\u8fc1\u79fb\u5b66\u4e60\uff1a\u5728\u7279\u5b9a\u9886\u57df\u9884\u8bad\u7ec3\u7684\u6a21\u578b\u57fa\u7840\u4e0a\u8fdb\u884c\u5fae\u8c03\uff0c\u9002\u5e94\u65b0\u7684\u9886\u57df\u3002</li> <li>\u9886\u57df\u9002\u914d\uff1a\u901a\u8fc7\u589e\u52a0\u65b0\u9886\u57df\u7684\u6570\u636e\u6765\u8c03\u6574\u6a21\u578b\uff0c\u4f7f\u5176\u9002\u5e94\u65b0\u9886\u57df\u7684\u9700\u6c42\u3002</li> <li>\u591a\u4efb\u52a1\u5b66\u4e60\uff1a\u8bad\u7ec3\u6a21\u578b\u540c\u65f6\u5904\u7406\u591a\u4e2a\u9886\u57df\u7684\u4efb\u52a1\uff0c\u63d0\u9ad8\u8de8\u9886\u57df\u7684\u9002\u5e94\u80fd\u529b\u3002</li> </ol> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#_10","title":"\u5341\u3001\u6280\u672f\u524d\u6cbf\u4e0e\u672a\u6765\u8d8b\u52bf","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#101","title":"10.1 \u672a\u6765\u5927\u8bed\u8a00\u6a21\u578b\u7684\u53d1\u5c55\u65b9\u5411\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u8ba8\u8bba\u672a\u6765 LLM \u53ef\u80fd\u7684\u53d1\u5c55\u65b9\u5411\u548c\u8d8b\u52bf\u3002</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u8d8b\u52bf\uff1a<ul> <li>\u6a21\u578b\u89c4\u6a21\u7684\u589e\u957f\uff1a\u6a21\u578b\u53c2\u6570\u89c4\u6a21\u53ef\u80fd\u7ee7\u7eed\u6269\u5927\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002</li> <li>\u591a\u6a21\u6001\u6a21\u578b\uff1a\u96c6\u6210\u56fe\u50cf\u3001\u89c6\u9891\u548c\u6587\u672c\u7b49\u591a\u79cd\u6a21\u6001\u7684\u6570\u636e\u5904\u7406\u80fd\u529b\u3002</li> <li>\u66f4\u9ad8\u7684\u6548\u80fd\uff1a\u4f18\u5316\u8ba1\u7b97\u6548\u7387\uff0c\u51cf\u5c11\u8bad\u7ec3\u548c\u63a8\u7406\u7684\u8d44\u6e90\u6d88\u8017\u3002</li> <li>\u66f4\u5f3a\u7684\u89e3\u91ca\u80fd\u529b\uff1a\u6539\u8fdb\u6a21\u578b\u7684\u89e3\u91ca\u80fd\u529b\uff0c\u63d0\u4f9b\u66f4\u6e05\u6670\u7684\u51b3\u7b56\u4f9d\u636e\u3002</li> </ul> </li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/interview/#102-llm","title":"10.2 \u5982\u4f55\u770b\u5f85 LLM \u7684\u4f26\u7406\u95ee\u9898\u548c\u793e\u4f1a\u5f71\u54cd\uff1f","text":"<ul> <li>\u793a\u4f8b\u95ee\u9898\uff1a\u8ba8\u8bba LLM \u5728\u4f26\u7406\u548c\u793e\u4f1a\u5c42\u9762\u7684\u5f71\u54cd\u4ee5\u53ca\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\u3002</li> <li>\u793a\u4f8b\u7b54\u6848\uff1a</li> <li>\u4f26\u7406\u95ee\u9898\uff1a<ul> <li>\u504f\u89c1\u548c\u6b67\u89c6\uff1a\u6a21\u578b\u53ef\u80fd\u4f1a\u53cd\u6620\u8bad\u7ec3\u6570\u636e\u4e2d\u7684\u504f\u89c1\u3002</li> <li>\u9690\u79c1\u95ee\u9898\uff1a\u5904\u7406\u654f\u611f\u6570\u636e\u65f6\u9700\u8981\u786e\u4fdd\u9690\u79c1\u4fdd\u62a4\u3002</li> </ul> </li> <li>\u89e3\u51b3\u65b9\u6848\uff1a<ul> <li>\u516c\u5e73\u6027\u5ba1\u67e5\uff1a\u5b9a\u671f\u5ba1\u67e5\u548c\u8c03\u6574\u6a21\u578b\uff0c\u51cf\u5c11\u504f\u89c1\u3002</li> <li>\u9690\u79c1\u4fdd\u62a4\uff1a\u9075\u5faa\u6570\u636e\u9690\u79c1\u6cd5\u89c4\uff0c\u5b9e\u65bd\u6570\u636e\u52a0\u5bc6\u548c\u533f\u540d\u5316\u5904\u7406\u3002</li> </ul> </li> </ul> <p>\u8fd9\u4e9b\u95ee\u9898\u548c\u7b54\u6848\u6db5\u76d6\u4e86\u5927\u8bed\u8a00\u6a21\u578b\u9762\u8bd5\u4e2d\u7684\u5404\u4e2a\u65b9\u9762\uff0c\u5e2e\u52a9\u4f60\u5728\u9762\u8bd5\u4e2d\u5168\u9762\u5c55\u793a\u5bf9 LLM \u7684\u7406\u89e3\u548c\u5e94\u7528\u80fd\u529b\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/","title":"LangChain \u6559\u7a0b","text":"<p>LangChain \u662f\u4e00\u4e2a\u56f4\u7ed5\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u6784\u5efa\u7684\u5f3a\u5927\u6846\u67b6\uff0c\u4e13\u4e3a\u6784\u5efa\u3001\u7ba1\u7406\u548c\u90e8\u7f72\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5e94\u7528\u7a0b\u5e8f\u800c\u8bbe\u8ba1\u3002\u968f\u7740 2024 \u5e74\u7684\u65b0\u7248\u672c\u53d1\u5e03\uff0cLangChain \u5728\u529f\u80fd\u6027\u548c\u6a21\u5757\u5316\u65b9\u9762\u90fd\u8fdb\u884c\u4e86\u663e\u8457\u7684\u589e\u5f3a\uff0c\u4f7f\u5f97\u5b83\u5728\u5904\u7406\u590d\u6742\u8bed\u8a00\u4efb\u52a1\u65b9\u9762\u66f4\u4e3a\u7075\u6d3b\u548c\u9ad8\u6548\u3002\u4ee5\u4e0b\u662f LangChain \u6846\u67b6\u7684\u8be6\u7ec6\u89e3\u6790\uff0c\u5305\u62ec\u5176\u6700\u65b0\u529f\u80fd\u3001\u6838\u5fc3\u7ec4\u4ef6\u548c\u5b9e\u9645\u5e94\u7528\u573a\u666f\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#1-langchain","title":"1. LangChain \u6846\u67b6\u7684\u65b0\u7279\u6027","text":"<p>2024 \u5e74\u7684 LangChain \u7248\u672c\u5f15\u5165\u4e86\u4e00\u4e9b\u5173\u952e\u7684\u65b0\u7279\u6027\uff0c\u65e8\u5728\u589e\u5f3a\u5176\u7075\u6d3b\u6027\u3001\u53ef\u6269\u5c55\u6027\u548c\u6613\u7528\u6027\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#11","title":"1.1 \u6a21\u578b\u7075\u6d3b\u6027\u548c\u591a\u5e73\u53f0\u652f\u6301","text":"<p>LangChain \u8fdb\u4e00\u6b65\u589e\u5f3a\u4e86\u5bf9\u591a\u79cd LLM \u5e73\u53f0\u7684\u652f\u6301\uff0c\u4e0d\u4ec5\u80fd\u591f\u65e0\u7f1d\u96c6\u6210 OpenAI \u7684 GPT \u7cfb\u5217\uff0c\u8fd8\u53ef\u4ee5\u96c6\u6210\u65b0\u5174\u7684 LLM \u5e73\u53f0\uff0c\u5982 Google \u7684 Bard\u3001Mistral\uff0c\u4ee5\u53ca\u5176\u4ed6\u4e13\u6709\u6a21\u578b\u3002\u6846\u67b6\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684 API \u63a5\u53e3\uff0c\u7b80\u5316\u4e86\u4e0d\u540c\u6a21\u578b\u4e4b\u95f4\u7684\u5207\u6362\u548c\u96c6\u6210\u3002</p> <ul> <li>\u591a\u6a21\u578b\u8c03\u5ea6\uff1a\u5141\u8bb8\u540c\u65f6\u914d\u7f6e\u548c\u8c03\u7528\u591a\u4e2a\u6a21\u578b\uff0c\u6839\u636e\u4efb\u52a1\u9700\u6c42\u52a8\u6001\u9009\u62e9\u6700\u4f73\u6a21\u578b\u3002</li> <li>\u6a21\u578b\u9002\u914d\u5668\uff1a\u5f15\u5165\u6a21\u578b\u9002\u914d\u5668\u6a21\u5757\uff0c\u4f7f\u5f97\u4e0d\u540c LLM \u4e4b\u95f4\u7684\u5207\u6362\u66f4\u52a0\u6d41\u7545\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#12-agents","title":"1.2 \u5f3a\u5316\u7684\u667a\u80fd\u4f53\uff08Agents\uff09","text":"<p>2024 \u5e74\u7684 LangChain \u5f15\u5165\u4e86\u66f4\u667a\u80fd\u7684 Agents\uff0c\u8fd9\u4e9b\u667a\u80fd\u4f53\u4e0d\u4ec5\u53ef\u4ee5\u6267\u884c\u591a\u6b65\u9aa4\u4efb\u52a1\uff0c\u8fd8\u5177\u5907\u4e86\u66f4\u5f3a\u7684\u4e0a\u4e0b\u6587\u7406\u89e3\u548c\u52a8\u6001\u51b3\u7b56\u80fd\u529b\u3002</p> <ul> <li>\u81ea\u9002\u5e94\u667a\u80fd\u4f53\uff1a\u80fd\u591f\u6839\u636e\u5b9e\u65f6\u8f93\u5165\u52a8\u6001\u8c03\u6574\u4efb\u52a1\u6d41\u7a0b\uff0c\u9002\u5e94\u591a\u6837\u5316\u7684\u4efb\u52a1\u9700\u6c42\u3002</li> <li>\u589e\u5f3a\u7684\u591a\u4efb\u52a1\u5904\u7406\uff1a\u652f\u6301\u66f4\u590d\u6742\u7684\u5e76\u884c\u4efb\u52a1\u5904\u7406\uff0c\u9002\u5408\u5927\u89c4\u6a21\u81ea\u52a8\u5316\u5de5\u4f5c\u6d41\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#13","title":"1.3 \u589e\u5f3a\u7684\u8bb0\u5fc6\u6a21\u5757","text":"<p>\u65b0\u7684\u8bb0\u5fc6\u6a21\u5757\u4e0d\u4ec5\u652f\u6301\u77ed\u671f\u548c\u957f\u671f\u8bb0\u5fc6\uff0c\u8fd8\u5f15\u5165\u4e86\u8de8\u4f1a\u8bdd\u8bb0\u5fc6\uff08Cross-Session Memory\uff09\uff0c\u4f7f\u5f97\u667a\u80fd\u4f53\u80fd\u591f\u5728\u591a\u4e2a\u72ec\u7acb\u7684\u4f1a\u8bdd\u4e2d\u4fdd\u6301\u4e0a\u4e0b\u6587\u7684\u8fde\u8d2f\u6027\u3002</p> <ul> <li>\u6301\u4e45\u5316\u5b58\u50a8\uff1a\u8bb0\u5fc6\u6a21\u5757\u652f\u6301\u5c06\u91cd\u8981\u7684\u4e0a\u4e0b\u6587\u6570\u636e\u6301\u4e45\u5316\uff0c\u4f9b\u672a\u6765\u4f1a\u8bdd\u8c03\u7528\u3002</li> <li>\u667a\u80fd\u4e0a\u4e0b\u6587\u6062\u590d\uff1a\u7cfb\u7edf\u5728\u65b0\u4f1a\u8bdd\u5f00\u59cb\u65f6\u53ef\u4ee5\u81ea\u52a8\u6062\u590d\u76f8\u5173\u7684\u5386\u53f2\u8bb0\u5fc6\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#2-langchain","title":"2. LangChain \u7684\u6838\u5fc3\u7ec4\u4ef6","text":"<p>LangChain \u7531\u591a\u4e2a\u6838\u5fc3\u7ec4\u4ef6\u7ec4\u6210\uff0c\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u53ef\u4ee5\u72ec\u7acb\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u7ec4\u5408\u8d77\u6765\u5f62\u6210\u5f3a\u5927\u7684\u8bed\u8a00\u5904\u7406\u7cfb\u7edf\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#21-llms","title":"2.1 LLMs\uff08\u5927\u8bed\u8a00\u6a21\u578b\uff09","text":"<p>\u5927\u8bed\u8a00\u6a21\u578b\u662f LangChain \u7684\u6838\u5fc3\uff0c\u7528\u4e8e\u5904\u7406\u548c\u751f\u6210\u81ea\u7136\u8bed\u8a00\u6587\u672c\u3002LangChain \u63d0\u4f9b\u4e86\u5bf9\u591a\u79cd LLM \u7684\u652f\u6301\uff0c\u5e76\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u7b80\u5316\u4e86\u4e0e\u8fd9\u4e9b\u6a21\u578b\u7684\u4ea4\u4e92\u3002</p> <ul> <li>\u7edf\u4e00\u63a5\u53e3\uff1a\u7b80\u5316\u4e86\u4e0d\u540c LLM \u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u4f7f\u5f00\u53d1\u8005\u53ef\u4ee5\u8f7b\u677e\u5207\u6362\u548c\u914d\u7f6e\u4e0d\u540c\u7684\u6a21\u578b\u3002</li> <li>\u81ea\u5b9a\u4e49\u63d0\u793a\uff08Prompts\uff09\uff1a\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7 PromptTemplates \u5b9a\u5236\u63d0\u793a\u8f93\u5165\uff0c\u4f18\u5316\u6a21\u578b\u54cd\u5e94\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#22-prompttemplates","title":"2.2 PromptTemplates\uff08\u63d0\u793a\u6a21\u677f\uff09","text":"<p>\u63d0\u793a\u6a21\u677f\u662f\u7528\u4e8e\u751f\u6210\u548c\u7ba1\u7406\u6a21\u578b\u8f93\u5165\u7684\u7ed3\u6784\u5316\u5de5\u5177\u3002LangChain \u63d0\u4f9b\u4e86\u7075\u6d3b\u7684\u6a21\u677f\u673a\u5236\uff0c\u652f\u6301\u52a8\u6001\u53d8\u91cf\u63d2\u503c\u548c\u4e0a\u4e0b\u6587\u8c03\u6574\uff0c\u4f7f\u5f97\u751f\u6210\u7684\u63d0\u793a\u66f4\u5177\u9488\u5bf9\u6027\u548c\u8fde\u8d2f\u6027\u3002</p> <ul> <li>\u52a8\u6001\u6a21\u677f\uff1a\u652f\u6301\u6839\u636e\u4e0a\u4e0b\u6587\u6216\u7528\u6237\u8f93\u5165\u52a8\u6001\u751f\u6210\u63d0\u793a\u5185\u5bb9\u3002</li> <li>\u53d8\u91cf\u63d2\u503c\uff1a\u5141\u8bb8\u5f00\u53d1\u8005\u5728\u6a21\u677f\u4e2d\u63d2\u5165\u53d8\u91cf\uff0c\u5b9e\u73b0\u66f4\u52a0\u7075\u6d3b\u7684\u63d0\u793a\u751f\u6210\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#23-chains","title":"2.3 Chains\uff08\u94fe\uff09","text":"<p>Chains \u662f LangChain \u4e2d\u7528\u4e8e\u4e32\u8054\u591a\u4e2a\u4efb\u52a1\u6216\u6a21\u578b\u8c03\u7528\u7684\u673a\u5236\u3002\u901a\u8fc7 Chains\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u5c06\u7b80\u5355\u7684\u4efb\u52a1\u7ec4\u5408\u6210\u590d\u6742\u7684\u5de5\u4f5c\u6d41\uff0c\u81ea\u52a8\u5316\u5730\u5904\u7406\u8f93\u5165\u548c\u8f93\u51fa\u3002</p> <ul> <li>\u987a\u5e8f\u94fe\uff1a\u5c06\u591a\u4e2a\u4efb\u52a1\u6309\u987a\u5e8f\u6267\u884c\uff0c\u6bcf\u4e2a\u4efb\u52a1\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u4efb\u52a1\u7684\u8f93\u5165\u3002</li> <li>\u5e76\u884c\u94fe\uff1a\u652f\u6301\u540c\u65f6\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u63d0\u5347\u5904\u7406\u6548\u7387\u3002</li> <li>\u6761\u4ef6\u94fe\uff1a\u6839\u636e\u7279\u5b9a\u6761\u4ef6\u52a8\u6001\u9009\u62e9\u4e0d\u540c\u7684\u4efb\u52a1\u8def\u5f84\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#24-agents","title":"2.4 Agents\uff08\u667a\u80fd\u4f53\uff09","text":"<p>\u667a\u80fd\u4f53\u5728 LangChain \u4e2d\u8d1f\u8d23\u4efb\u52a1\u7684\u52a8\u6001\u51b3\u7b56\u548c\u6267\u884c\u3002\u5b83\u4eec\u80fd\u591f\u6839\u636e\u5b9e\u65f6\u8f93\u5165\u548c\u4efb\u52a1\u9700\u6c42\uff0c\u81ea\u4e3b\u9009\u62e9\u548c\u8c03\u7528\u9002\u5f53\u7684\u6a21\u578b\u6216\u94fe\u6765\u5b8c\u6210\u590d\u6742\u4efb\u52a1\u3002</p> <ul> <li>\u51b3\u7b56\u667a\u80fd\u4f53\uff1a\u80fd\u591f\u6839\u636e\u4efb\u52a1\u9700\u6c42\u548c\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u52a8\u6001\u8c03\u6574\u4efb\u52a1\u6267\u884c\u8def\u5f84\u3002</li> <li>\u591a\u4efb\u52a1\u667a\u80fd\u4f53\uff1a\u652f\u6301\u5728\u540c\u4e00\u4f1a\u8bdd\u4e2d\u5904\u7406\u591a\u9879\u72ec\u7acb\u4efb\u52a1\uff0c\u5e76\u80fd\u591f\u5b9e\u65f6\u5207\u6362\u548c\u7ba1\u7406\u8fd9\u4e9b\u4efb\u52a1\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#25-memory","title":"2.5 Memory\uff08\u8bb0\u5fc6\u6a21\u5757\uff09","text":"<p>\u8bb0\u5fc6\u6a21\u5757\u4e3a\u667a\u80fd\u4f53\u63d0\u4f9b\u4e86\u4e0a\u4e0b\u6587\u8bb0\u5fc6\u529f\u80fd\uff0c\u4f7f\u5f97\u7cfb\u7edf\u53ef\u4ee5\u5728\u4efb\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u4fdd\u5b58\u5e76\u8c03\u7528\u5386\u53f2\u4fe1\u606f\u3002LangChain \u7684\u8bb0\u5fc6\u6a21\u5757\u652f\u6301\u77ed\u671f\u8bb0\u5fc6\u3001\u957f\u671f\u8bb0\u5fc6\u548c\u8de8\u4f1a\u8bdd\u8bb0\u5fc6\u3002</p> <ul> <li>\u8de8\u4f1a\u8bdd\u8bb0\u5fc6\uff1a\u5141\u8bb8\u5728\u591a\u4e2a\u72ec\u7acb\u4f1a\u8bdd\u4e2d\u5171\u4eab\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u4fdd\u6301\u4efb\u52a1\u7684\u8fde\u8d2f\u6027\u3002</li> <li>\u667a\u80fd\u8bb0\u5fc6\u7ba1\u7406\uff1a\u81ea\u52a8\u7ba1\u7406\u8bb0\u5fc6\u7684\u4fdd\u5b58\u3001\u66f4\u65b0\u548c\u8c03\u7528\u8fc7\u7a0b\u3002</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#3","title":"3. \u5e94\u7528\u573a\u666f\u4e0e\u5b9e\u8df5","text":"<p>LangChain \u53ef\u4ee5\u5e7f\u6cdb\u5e94\u7528\u4e8e\u591a\u4e2a\u9886\u57df\uff0c\u5c24\u5176\u662f\u5728\u9700\u8981\u5904\u7406\u590d\u6742\u81ea\u7136\u8bed\u8a00\u4efb\u52a1\u7684\u573a\u666f\u4e2d\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5178\u578b\u7684\u5e94\u7528\u573a\u666f\uff1a</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#31","title":"3.1 \u9ad8\u7ea7\u5bf9\u8bdd\u7cfb\u7edf","text":"<p>\u5229\u7528 LangChain \u7684 LLMs\u3001Agents \u548c Memory \u7ec4\u4ef6\uff0c\u53ef\u4ee5\u6784\u5efa\u4e00\u4e2a\u5177\u6709\u4e0a\u4e0b\u6587\u8bb0\u5fc6\u548c\u591a\u8f6e\u5bf9\u8bdd\u80fd\u529b\u7684\u667a\u80fd\u5ba2\u670d\u7cfb\u7edf\u3002\u8be5\u7cfb\u7edf\u80fd\u591f\u6301\u7eed\u8bb0\u4f4f\u7528\u6237\u7684\u5386\u53f2\u95ee\u9898\uff0c\u63d0\u4f9b\u66f4\u52a0\u4e2a\u6027\u5316\u548c\u8fde\u8d2f\u7684\u670d\u52a1\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#32","title":"3.2 \u6587\u672c\u751f\u6210\u4e0e\u5206\u6790","text":"<p>\u901a\u8fc7 PromptTemplates \u548c Chains\uff0cLangChain \u53ef\u4ee5\u7528\u4e8e\u590d\u6742\u7684\u6587\u672c\u751f\u6210\u4efb\u52a1\uff0c\u5982\u81ea\u52a8\u751f\u6210\u6587\u7ae0\u3001\u7f16\u5199\u4ea7\u54c1\u63cf\u8ff0\u3001\u521b\u5efa\u4e2a\u6027\u5316\u90ae\u4ef6\u7b49\u3002\u7ed3\u5408 Agents \u7684\u667a\u80fd\u51b3\u7b56\u529f\u80fd\uff0c\u7cfb\u7edf\u80fd\u591f\u6839\u636e\u7279\u5b9a\u9700\u6c42\u751f\u6210\u9ad8\u8d28\u91cf\u7684\u5185\u5bb9\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#33","title":"3.3 \u81ea\u52a8\u5316\u6570\u636e\u5904\u7406\u6d41\u6c34\u7ebf","text":"<p>LangChain \u7684 Chains \u548c Agents \u7ec4\u4ef6\u53ef\u4ee5\u7528\u6765\u6784\u5efa\u81ea\u52a8\u5316\u7684\u6570\u636e\u5904\u7406\u6d41\u6c34\u7ebf\uff0c\u4ece\u6570\u636e\u6e05\u6d17\u5230\u5206\u6790\uff0c\u518d\u5230\u62a5\u544a\u751f\u6210\uff0c\u6240\u6709\u6b65\u9aa4\u90fd\u53ef\u4ee5\u5728\u7cfb\u7edf\u5185\u90e8\u81ea\u52a8\u5316\u5b8c\u6210\uff0c\u5e76\u6839\u636e\u8f93\u5165\u6570\u636e\u7c7b\u578b\u52a8\u6001\u8c03\u6574\u5904\u7406\u6d41\u7a0b\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#4","title":"4. \u603b\u7ed3","text":"<p>2024 \u5e74\u7684 LangChain \u7248\u672c\u901a\u8fc7\u4e00\u7cfb\u5217\u589e\u5f3a\u529f\u80fd\u548c\u65b0\u7279\u6027\uff0c\u4f7f\u5f97\u57fa\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\u7684\u5e94\u7528\u5f00\u53d1\u66f4\u52a0\u7075\u6d3b\u3001\u9ad8\u6548\u3002\u7406\u89e3\u8fd9\u4e9b\u6838\u5fc3\u6982\u5ff5\u548c\u7ec4\u4ef6\uff0c\u80fd\u591f\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u5730\u5229\u7528 LangChain \u6784\u5efa\u5f3a\u5927\u800c\u667a\u80fd\u7684\u8bed\u8a00\u5904\u7406\u7cfb\u7edf\u3002\u65e0\u8bba\u662f\u5728\u667a\u80fd\u5bf9\u8bdd\u3001\u81ea\u52a8\u5316\u6587\u672c\u751f\u6210\u8fd8\u662f\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u4efb\u52a1\u4e2d\uff0cLangChain \u90fd\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5de5\u5177\u548c\u6846\u67b6\u652f\u6301\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#4-langchain","title":"4 LangChain \u4f7f\u7528\u6559\u7a0b","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#langchain-20","title":"LangChain 2.0 \u6559\u7a0b\u8be6\u89e3","text":"<p>LangChain 2.0 \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa\u3001\u7ba1\u7406\u548c\u90e8\u7f72\u57fa\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u6846\u67b6\u3002\u5b83\u652f\u6301\u4ece\u6a21\u578b\u8c03\u7528\u5230\u4efb\u52a1\u94fe\u7ba1\u7406\u3001\u8bb0\u5fc6\u5904\u7406\u7684\u5168\u65b9\u4f4d\u529f\u80fd\u3002\u4ee5\u4e0b\u662f LangChain 2.0 \u7684\u66f4\u8be6\u7ec6\u6559\u7a0b\uff0c\u6db5\u76d6\u5b89\u88c5\u3001\u6838\u5fc3\u6982\u5ff5\u3001\u8be6\u7ec6\u793a\u4f8b\u548c\u5b9e\u9645\u5e94\u7528\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#1-langchain-20","title":"1. \u5b89\u88c5 LangChain 2.0","text":"<p>\u8981\u4f7f\u7528 LangChain 2.0\uff0c\u9996\u5148\u9700\u8981\u5b89\u88c5\u5b83\u3002\u53ef\u4ee5\u901a\u8fc7 Python \u7684 <code>pip</code> \u547d\u4ee4\u6765\u5b8c\u6210\uff1a</p> <pre><code>pip install langchain\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#2","title":"2. \u6838\u5fc3\u7ec4\u4ef6\u4ecb\u7ecd","text":"<p>LangChain 2.0 \u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u6838\u5fc3\u7ec4\u4ef6\uff1a</p> <ol> <li>\u5927\u8bed\u8a00\u6a21\u578b\uff08LLMs\uff09\uff1a\u8d1f\u8d23\u81ea\u7136\u8bed\u8a00\u5904\u7406\u548c\u751f\u6210\u3002</li> <li>\u63d0\u793a\u6a21\u677f\uff08PromptTemplates\uff09\uff1a\u7528\u4e8e\u751f\u6210\u8f93\u5165\u63d0\u793a\u3002</li> <li>\u4efb\u52a1\u94fe\uff08Chains\uff09\uff1a\u5c06\u591a\u4e2a\u4efb\u52a1\u6216\u6a21\u578b\u8c03\u7528\u4e32\u8054\u5728\u4e00\u8d77\u3002</li> <li>\u667a\u80fd\u4f53\uff08Agents\uff09\uff1a\u52a8\u6001\u51b3\u7b56\u548c\u4efb\u52a1\u7ba1\u7406\u3002</li> <li>\u8bb0\u5fc6\u6a21\u5757\uff08Memory\uff09\uff1a\u4e0a\u4e0b\u6587\u5b58\u50a8\u548c\u6062\u590d\u3002</li> </ol>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#3_1","title":"3. \u8be6\u7ec6\u793a\u4f8b","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#31-llms","title":"3.1 \u8c03\u7528\u5927\u8bed\u8a00\u6a21\u578b\uff08LLMs\uff09","text":"<p>\u8c03\u7528\u5927\u8bed\u8a00\u6a21\u578b\u662f LangChain \u7684\u57fa\u7840\u529f\u80fd\u3002\u4e0b\u9762\u7684\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 LangChain \u8c03\u7528\u4e00\u4e2a\u5927\u8bed\u8a00\u6a21\u578b\u751f\u6210\u6587\u672c\u3002</p> <pre><code>from langchain.llms import OpenAI\n\n# \u521b\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u4f8b\nllm = OpenAI(api_key='YOUR_API_KEY')\n\n# \u751f\u6210\u6587\u672c\nresponse = llm(\"\u63cf\u8ff0\u4e00\u4e0b\u91cf\u5b50\u8ba1\u7b97\u7684\u57fa\u672c\u6982\u5ff5\u3002\")\nprint(response)\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>OpenAI</code> \u662f\u4e00\u4e2a\u652f\u6301\u591a\u79cd\u5927\u8bed\u8a00\u6a21\u578b\u7684\u7c7b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 OpenAI \u7684 GPT \u7cfb\u5217\u6a21\u578b\u8fdb\u884c\u6587\u672c\u751f\u6210\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#32-prompttemplates","title":"3.2 \u4f7f\u7528\u63d0\u793a\u6a21\u677f\uff08PromptTemplates\uff09","text":"<p>\u63d0\u793a\u6a21\u677f\u7528\u4e8e\u6784\u5efa\u548c\u683c\u5f0f\u5316\u6a21\u578b\u7684\u8f93\u5165\u3002\u4ee5\u4e0b\u662f\u5b9a\u4e49\u548c\u4f7f\u7528\u63d0\u793a\u6a21\u677f\u7684\u8be6\u7ec6\u793a\u4f8b\uff1a</p> <pre><code>from langchain.prompts import PromptTemplate\n\n# \u521b\u5efa\u63d0\u793a\u6a21\u677f\ntemplate = PromptTemplate(\n    template=\"\u8bf7\u4ecb\u7ecd\u4e00\u4e0b {subject} \u7684\u80cc\u666f\u3002\",\n    input_variables=[\"subject\"]\n)\n\n# \u751f\u6210\u63d0\u793a\nprompt = template.format(subject=\"\u673a\u5668\u5b66\u4e60\")\nprint(prompt)\n</code></pre> <p>\u63d0\u793a\u6a21\u677f\u4f7f\u5f97\u751f\u6210\u7684\u63d0\u793a\u6587\u672c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u6c42\u52a8\u6001\u53d8\u5316\uff0c\u63d0\u9ad8\u4e86\u63d0\u793a\u7684\u7075\u6d3b\u6027\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#33-chains","title":"3.3 \u4f7f\u7528\u4efb\u52a1\u94fe\uff08Chains\uff09","text":"<p>Chains \u7528\u4e8e\u5c06\u591a\u4e2a\u4efb\u52a1\u4e32\u8054\u8d77\u6765\uff0c\u5f62\u6210\u590d\u6742\u7684\u5de5\u4f5c\u6d41\u3002\u4ee5\u4e0b\u662f\u4f7f\u7528 Chains \u7684\u793a\u4f8b\uff1a</p> <pre><code>from langchain.chains import SequentialChain\nfrom langchain.llms import OpenAI\nfrom langchain.prompts import PromptTemplate\n\n# \u521b\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u4f8b\nllm = OpenAI(api_key='YOUR_API_KEY')\n\n# \u5b9a\u4e49\u63d0\u793a\u6a21\u677f\ntemplate1 = PromptTemplate(template=\"\u6982\u8ff0\u4e00\u4e0b {topic} \u7684\u91cd\u8981\u6027\u3002\", input_variables=[\"topic\"])\ntemplate2 = PromptTemplate(template=\"\u89e3\u91ca {description} \u7684\u8be6\u7ec6\u5185\u5bb9\u3002\", input_variables=[\"description\"])\n\n# \u521b\u5efa\u4efb\u52a1\u94fe\nchain = SequentialChain(\n    chains=[\n        llm(template1.format(topic=\"\u4eba\u5de5\u667a\u80fd\")),\n        llm(template2.format(description=\"\u4eba\u5de5\u667a\u80fd\u7684\u5f71\u54cd\u548c\u5e94\u7528\"))\n    ]\n)\n\n# \u6267\u884c\u94fe\nresponse = chain()\nprint(response)\n</code></pre> <p>\u4efb\u52a1\u94fe\u652f\u6301\u987a\u5e8f\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u5c06\u524d\u4e00\u4e2a\u4efb\u52a1\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u4efb\u52a1\u7684\u8f93\u5165\uff0c\u9002\u7528\u4e8e\u5904\u7406\u590d\u6742\u7684\u5de5\u4f5c\u6d41\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#34-agents","title":"3.4 \u4f7f\u7528\u667a\u80fd\u4f53\uff08Agents\uff09","text":"<p>\u667a\u80fd\u4f53\u80fd\u591f\u6839\u636e\u4e0a\u4e0b\u6587\u548c\u8f93\u5165\u52a8\u6001\u51b3\u7b56\uff0c\u9009\u62e9\u9002\u5f53\u7684\u4efb\u52a1\u8def\u5f84\u3002\u4ee5\u4e0b\u662f\u667a\u80fd\u4f53\u7684\u793a\u4f8b\uff1a</p> <pre><code>from langchain.agents import SimpleAgent\nfrom langchain.llms import OpenAI\n\n# \u521b\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u4f8b\nllm = OpenAI(api_key='YOUR_API_KEY')\n\n# \u521b\u5efa\u667a\u80fd\u4f53\nagent = SimpleAgent(\n    model=llm,\n    decision_function=lambda input_text: \"\u751f\u6210\u76f8\u5173\u4fe1\u606f\"\n)\n\n# \u6267\u884c\u667a\u80fd\u4f53\nresponse = agent(\"\u6211\u9700\u8981\u4e86\u89e3\u91cf\u5b50\u8ba1\u7b97\u7684\u6700\u65b0\u7814\u7a76\u3002\")\nprint(response)\n</code></pre> <p>\u667a\u80fd\u4f53\u7684\u6838\u5fc3\u529f\u80fd\u662f\u6839\u636e\u8f93\u5165\u548c\u4e0a\u4e0b\u6587\u505a\u51fa\u5b9e\u65f6\u51b3\u7b56\uff0c\u63d0\u4f9b\u667a\u80fd\u5316\u7684\u4efb\u52a1\u5904\u7406\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#35-memory","title":"3.5 \u4f7f\u7528\u8bb0\u5fc6\u6a21\u5757\uff08Memory\uff09","text":"<p>\u8bb0\u5fc6\u6a21\u5757\u5141\u8bb8\u5728\u4f1a\u8bdd\u4e4b\u95f4\u4fdd\u5b58\u548c\u6062\u590d\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\u4ee5\u4e0b\u662f\u8bb0\u5fc6\u6a21\u5757\u7684\u4f7f\u7528\u793a\u4f8b\uff1a</p> <pre><code>from langchain.memory import SimpleMemory\nfrom langchain.llms import OpenAI\n\n# \u521b\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u4f8b\nllm = OpenAI(api_key='YOUR_API_KEY')\n\n# \u521b\u5efa\u8bb0\u5fc6\u6a21\u5757\nmemory = SimpleMemory()\n\n# \u4fdd\u5b58\u4fe1\u606f\nmemory.save(\"user_name\", \"Alice\")\n\n# \u8bfb\u53d6\u4fe1\u606f\nuser_name = memory.retrieve(\"user_name\")\nprint(f\"\u7528\u6237\u540d\u5b57\u662f: {user_name}\")\n\n# \u4f7f\u7528\u8bb0\u5fc6\nresponse = llm(f\"\u4f60\u597d, {user_name}! \u4f60\u9700\u8981\u4ec0\u4e48\u5e2e\u52a9\uff1f\")\nprint(response)\n</code></pre> <p>\u8bb0\u5fc6\u6a21\u5757\u7528\u4e8e\u5b58\u50a8\u548c\u68c0\u7d22\u4f1a\u8bdd\u4fe1\u606f\uff0c\u4ece\u800c\u4f7f\u7cfb\u7edf\u80fd\u591f\u5728\u540e\u7eed\u7684\u4ea4\u4e92\u4e2d\u4fdd\u6301\u4e0a\u4e0b\u6587\u7684\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#4_1","title":"4. \u5b9e\u9645\u5e94\u7528\u573a\u666f","text":""},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#41","title":"4.1 \u667a\u80fd\u5ba2\u670d\u7cfb\u7edf","text":"<p>\u53ef\u4ee5\u4f7f\u7528 LangChain \u7684 LLMs\u3001Agents \u548c Memory \u7ec4\u4ef6\u6784\u5efa\u4e00\u4e2a\u667a\u80fd\u5ba2\u670d\u7cfb\u7edf\uff0c\u8be5\u7cfb\u7edf\u80fd\u591f\u5904\u7406\u7528\u6237\u7684\u81ea\u7136\u8bed\u8a00\u95ee\u9898\uff0c\u5e76\u4fdd\u6301\u4f1a\u8bdd\u7684\u4e0a\u4e0b\u6587\u3002</p> <pre><code>from langchain.llms import OpenAI\nfrom langchain.memory import SimpleMemory\nfrom langchain.agents import SimpleAgent\n\n# \u521b\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u4f8b\nllm = OpenAI(api_key='YOUR_API_KEY')\n\n# \u521b\u5efa\u8bb0\u5fc6\u6a21\u5757\nmemory = SimpleMemory()\n\n# \u521b\u5efa\u667a\u80fd\u4f53\nagent = SimpleAgent(\n    model=llm,\n    decision_function=lambda input_text: \"\u5904\u7406\u7528\u6237\u8bf7\u6c42\"\n)\n\n# \u804a\u5929\u529f\u80fd\ndef chat(user_input):\n    # \u5904\u7406\u7528\u6237\u8f93\u5165\n    response = agent(user_input)\n    # \u66f4\u65b0\u8bb0\u5fc6\n    memory.save(\"last_message\", user_input)\n    return response\n\nprint(chat(\"\u6211\u60f3\u4e86\u89e3\u4f60\u4eec\u7684\u4ea7\u54c1\u3002\"))\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#42","title":"4.2 \u81ea\u52a8\u5316\u5185\u5bb9\u751f\u6210","text":"<p>LangChain \u53ef\u4ee5\u7528\u4e8e\u81ea\u52a8\u751f\u6210\u5185\u5bb9\uff0c\u5982\u535a\u5ba2\u6587\u7ae0\u3001\u4ea7\u54c1\u63cf\u8ff0\u7b49\u3002\u901a\u8fc7 PromptTemplates \u548c Chains \u53ef\u4ee5\u8bbe\u8ba1\u590d\u6742\u7684\u5185\u5bb9\u751f\u6210\u6d41\u7a0b\u3002</p> <pre><code>from langchain.chains import SequentialChain\nfrom langchain.llms import OpenAI\nfrom langchain.prompts import PromptTemplate\n\n# \u521b\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u4f8b\nllm = OpenAI(api_key='YOUR_API_KEY')\n\n# \u5b9a\u4e49\u5185\u5bb9\u751f\u6210\u94fe\nchain = SequentialChain(\n    chains=[\n        llm(PromptTemplate(template=\"\u5199\u4e00\u7bc7\u5173\u4e8e {topic} \u7684\u4ecb\u7ecd\u3002\", input_variables=[\"topic\"]).format(topic=\"\u91cf\u5b50\u8ba1\u7b97\")),\n        llm(PromptTemplate(template=\"\u8fdb\u4e00\u6b65\u8be6\u7ec6\u8bf4\u660e {summary} \u7684\u5404\u4e2a\u65b9\u9762\u3002\", input_variables=[\"summary\"]).format(summary=\"\u91cf\u5b50\u8ba1\u7b97\u7684\u57fa\u672c\u539f\u7406\u548c\u5e94\u7528\"))\n    ]\n)\n\n# \u751f\u6210\u5185\u5bb9\nresponse = chain()\nprint(response)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#43","title":"4.3 \u81ea\u52a8\u5316\u6570\u636e\u5904\u7406","text":"<p>LangChain \u53ef\u4ee5\u7528\u6765\u6784\u5efa\u81ea\u52a8\u5316\u7684\u6570\u636e\u5904\u7406\u6d41\u6c34\u7ebf\uff0c\u5305\u62ec\u6570\u636e\u6e05\u6d17\u3001\u5206\u6790\u548c\u62a5\u544a\u751f\u6210\u3002</p> <pre><code>from langchain.chains import SequentialChain\nfrom langchain.llms import OpenAI\nfrom langchain.prompts import PromptTemplate\n\n# \u521b\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u4f8b\nllm = OpenAI(api_key='YOUR_API_KEY')\n\n# \u5b9a\u4e49\u6570\u636e\u5904\u7406\u94fe\nchain = SequentialChain(\n    chains=[\n        llm(PromptTemplate(template=\"\u8bf7\u6574\u7406\u4e00\u4e0b\u8fd9\u4e9b\u6570\u636e\uff1a{data}\", input_variables=[\"data\"]).format(data=\"\u6570\u636e1, \u6570\u636e2, \u6570\u636e3\")),\n        llm(PromptTemplate(template=\"\u6839\u636e\u6574\u7406\u540e\u7684\u6570\u636e\u751f\u6210\u62a5\u544a\uff1a{report}\", input_variables=[\"report\"]).format(report=\"\u6570\u636e\u5206\u6790\u62a5\u544a\"))\n    ]\n)\n\n# \u5904\u7406\u6570\u636e\nresponse = chain()\nprint(response)\n</code></pre>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/langchain/#5","title":"5. \u603b\u7ed3","text":"<p>LangChain 2.0 \u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u6784\u5efa\u57fa\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u901a\u8fc7\u638c\u63e1 LangChain \u7684\u6838\u5fc3\u7ec4\u4ef6\uff0c\u5982\u5927\u8bed\u8a00\u6a21\u578b\u3001\u63d0\u793a\u6a21\u677f\u3001\u4efb\u52a1\u94fe\u3001\u667a\u80fd\u4f53\u548c\u8bb0\u5fc6\u6a21\u5757\uff0c\u53ef\u4ee5\u7075\u6d3b\u5730\u521b\u5efa\u667a\u80fd\u5bf9\u8bdd\u7cfb\u7edf\u3001\u81ea\u52a8\u5316\u5185\u5bb9\u751f\u6210\u548c\u6570\u636e\u5904\u7406\u6d41\u6c34\u7ebf\u7b49\u5e94\u7528\u573a\u666f\u3002\u6df1\u5165\u7406\u89e3\u8fd9\u4e9b\u7ec4\u4ef6\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u5c06\u5e2e\u52a9\u4f60\u5145\u5206\u53d1\u6325 LangChain 2.0 \u7684\u6f5c\u529b\uff0c\u5b9e\u73b0\u9ad8\u6548\u548c\u667a\u80fd\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/","title":"git \u547d\u4ee4","text":"<p>Git \u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u7528\u4e8e\u8ddf\u8e2a\u6587\u4ef6\u7684\u66f4\u6539\uff0c\u5e76\u5141\u8bb8\u591a\u4e2a\u5f00\u53d1\u8005\u534f\u540c\u5de5\u4f5c\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684 Git \u547d\u4ee4\u53ca\u5176\u8be6\u7ec6\u89e3\u91ca\uff1a</p>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#1","title":"1. \u914d\u7f6e\u7c7b\u547d\u4ee4","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-config","title":"<code>git config</code>","text":"<ul> <li>\u4f5c\u7528: \u914d\u7f6e Git \u7684\u8bbe\u7f6e\uff0c\u6bd4\u5982\u7528\u6237\u540d\u3001\u90ae\u7bb1\u7b49\u3002</li> <li>\u793a\u4f8b:   <code>bash   git config --global user.name \"Your Name\"   git config --global user.email \"you@example.com\"</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u8bbe\u7f6e\u5168\u5c40\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u4f1a\u9644\u52a0\u5230\u6bcf\u6b21\u63d0\u4ea4\u4e2d\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#2","title":"2. \u521b\u5efa\u548c\u514b\u9686\u4ed3\u5e93","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-init","title":"<code>git init</code>","text":"<ul> <li>\u4f5c\u7528: \u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684 Git \u4ed3\u5e93\u3002</li> <li>\u793a\u4f8b:   <code>bash   git init</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a <code>.git</code> \u76ee\u5f55\uff0c\u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684 Git \u4ed3\u5e93\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-clone","title":"<code>git clone</code>","text":"<ul> <li>\u4f5c\u7528: \u514b\u9686\u4e00\u4e2a\u8fdc\u7a0b\u4ed3\u5e93\u5230\u672c\u5730\u3002</li> <li>\u793a\u4f8b:   <code>bash   git clone https://github.com/user/repository.git</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u4e0b\u8f7d\u6307\u5b9a\u7684\u4ed3\u5e93\u5230\u5f53\u524d\u76ee\u5f55\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u5173\u8054\u7684\u672c\u5730\u4ed3\u5e93\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#3","title":"3. \u57fa\u672c\u64cd\u4f5c\u547d\u4ee4","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-add","title":"<code>git add</code>","text":"<ul> <li>\u4f5c\u7528: \u5c06\u6587\u4ef6\u7684\u66f4\u6539\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff08Staging Area\uff09\u3002</li> <li>\u793a\u4f8b:   <code>bash   git add filename   git add .</code> <code>git add filename</code> \u5c06\u6307\u5b9a\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff0c<code>git add .</code> \u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u66f4\u6539\u6dfb\u52a0\u5230\u6682\u5b58\u533a\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-commit","title":"<code>git commit</code>","text":"<ul> <li>\u4f5c\u7528: \u5c06\u6682\u5b58\u533a\u7684\u5185\u5bb9\u63d0\u4ea4\u5230\u672c\u5730\u4ed3\u5e93\u3002</li> <li>\u793a\u4f8b:   <code>bash   git commit -m \"Commit message\"</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5c06\u6682\u5b58\u533a\u7684\u6240\u6709\u5185\u5bb9\u63d0\u4ea4\uff0c\u5e76\u9644\u5e26\u4e00\u6761\u63d0\u4ea4\u4fe1\u606f\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-status","title":"<code>git status</code>","text":"<ul> <li>\u4f5c\u7528: \u67e5\u770b\u5de5\u4f5c\u533a\u3001\u6682\u5b58\u533a\u7684\u72b6\u6001\uff0c\u5305\u62ec\u54ea\u4e9b\u6587\u4ef6\u53d1\u751f\u4e86\u4fee\u6539\uff0c\u54ea\u4e9b\u6587\u4ef6\u5df2\u88ab\u6682\u5b58\u3002</li> <li>\u793a\u4f8b:   <code>bash   git status</code></li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-log","title":"<code>git log</code>","text":"<ul> <li>\u4f5c\u7528: \u67e5\u770b\u4ed3\u5e93\u7684\u63d0\u4ea4\u5386\u53f2\u3002</li> <li>\u793a\u4f8b:   <code>bash   git log</code>   \u53ef\u4ee5\u770b\u5230\u6240\u6709\u7684\u63d0\u4ea4\u8bb0\u5f55\uff0c\u5305\u62ec\u63d0\u4ea4\u7684\u54c8\u5e0c\u503c\u3001\u4f5c\u8005\u3001\u65e5\u671f\u548c\u63d0\u4ea4\u4fe1\u606f\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-diff","title":"<code>git diff</code>","text":"<ul> <li>\u4f5c\u7528: \u663e\u793a\u6587\u4ef6\u7684\u66f4\u6539\u5185\u5bb9\u3002</li> <li>\u793a\u4f8b:   <code>bash   git diff</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u663e\u793a\u5f53\u524d\u5de5\u4f5c\u533a\u4e0e\u6682\u5b58\u533a\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u5982\u679c\u4f7f\u7528 <code>git diff HEAD</code>\uff0c\u5219\u663e\u793a\u5de5\u4f5c\u533a\u4e0e\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#4","title":"4. \u5206\u652f\u7ba1\u7406","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-branch","title":"<code>git branch</code>","text":"<ul> <li>\u4f5c\u7528: \u7ba1\u7406\u5206\u652f\u3002</li> <li>\u793a\u4f8b:   <code>bash   git branch  # \u5217\u51fa\u6240\u6709\u672c\u5730\u5206\u652f   git branch new-branch  # \u521b\u5efa\u65b0\u5206\u652f</code></li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-checkout","title":"<code>git checkout</code>","text":"<ul> <li>\u4f5c\u7528: \u5207\u6362\u5230\u6307\u5b9a\u5206\u652f\u6216\u6062\u590d\u5de5\u4f5c\u533a\u6587\u4ef6\u3002</li> <li>\u793a\u4f8b:   <code>bash   git checkout branch-name  # \u5207\u6362\u5230\u67d0\u4e2a\u5206\u652f   git checkout -b new-branch  # \u521b\u5efa\u5e76\u5207\u6362\u5230\u65b0\u5206\u652f</code></li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-merge","title":"<code>git merge</code>","text":"<ul> <li>\u4f5c\u7528: \u5408\u5e76\u5206\u652f\u3002</li> <li>\u793a\u4f8b:   <code>bash   git merge branch-name</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5c06\u6307\u5b9a\u5206\u652f\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#5","title":"5. \u8fdc\u7a0b\u64cd\u4f5c","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-remote","title":"<code>git remote</code>","text":"<ul> <li>\u4f5c\u7528: \u7ba1\u7406\u8fdc\u7a0b\u4ed3\u5e93\u3002</li> <li>\u793a\u4f8b:   <code>bash   git remote -v  # \u67e5\u770b\u5f53\u524d\u914d\u7f6e\u7684\u8fdc\u7a0b\u4ed3\u5e93   git remote add origin https://github.com/user/repository.git  # \u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93</code></li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-fetch","title":"<code>git fetch</code>","text":"<ul> <li>\u4f5c\u7528: \u4ece\u8fdc\u7a0b\u4ed3\u5e93\u83b7\u53d6\u6700\u65b0\u7684\u66f4\u65b0\uff0c\u4e0d\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u3002</li> <li>\u793a\u4f8b:   <code>bash   git fetch origin</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u4e0b\u8f7d\u6700\u65b0\u7684\u5185\u5bb9\uff0c\u4f46\u662f\u4e0d\u4f1a\u81ea\u52a8\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-pull","title":"<code>git pull</code>","text":"<ul> <li>\u4f5c\u7528: \u4ece\u8fdc\u7a0b\u4ed3\u5e93\u83b7\u53d6\u66f4\u65b0\u5e76\u81ea\u52a8\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u3002</li> <li>\u793a\u4f8b:   <code>bash   git pull origin branch-name</code>   \u76f8\u5f53\u4e8e\u6267\u884c\u4e86 <code>git fetch</code> \u548c <code>git merge</code>\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-push","title":"<code>git push</code>","text":"<ul> <li>\u4f5c\u7528: \u5c06\u672c\u5730\u5206\u652f\u7684\u63d0\u4ea4\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\u3002</li> <li>\u793a\u4f8b:   <code>bash   git push origin branch-name</code>   \u5c06\u5f53\u524d\u5206\u652f\u7684\u63d0\u4ea4\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6307\u5b9a\u5206\u652f\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#6","title":"6. \u64a4\u9500\u64cd\u4f5c","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-reset","title":"<code>git reset</code>","text":"<ul> <li>\u4f5c\u7528: \u56de\u6eda\u5230\u67d0\u4e2a\u63d0\u4ea4\uff0c\u53ef\u4ee5\u4fee\u6539\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\u7684\u5185\u5bb9\u3002</li> <li>\u793a\u4f8b:   <code>bash   git reset --soft HEAD~1  # \u56de\u6eda\u5230\u4e0a\u4e00\u4e2a\u63d0\u4ea4\uff0c\u4fdd\u7559\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\u7684\u4fee\u6539   git reset --hard HEAD~1  # \u56de\u6eda\u5230\u4e0a\u4e00\u4e2a\u63d0\u4ea4\uff0c\u4e22\u5f03\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\u7684\u4fee\u6539</code></li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-revert","title":"<code>git revert</code>","text":"<ul> <li>\u4f5c\u7528: \u64a4\u9500\u67d0\u6b21\u63d0\u4ea4\uff0c\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\u3002</li> <li>\u793a\u4f8b:   <code>bash   git revert commit-id</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\uff0c\u5185\u5bb9\u662f\u5bf9\u6307\u5b9a\u63d0\u4ea4\u7684\u64a4\u9500\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#7","title":"7. \u6807\u7b7e\u7ba1\u7406","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#git-tag","title":"<code>git tag</code>","text":"<ul> <li>\u4f5c\u7528: \u7ed9\u67d0\u6b21\u63d0\u4ea4\u6253\u6807\u7b7e\u3002</li> <li>\u793a\u4f8b:   <code>bash   git tag v1.0  # \u7ed9\u5f53\u524d\u63d0\u4ea4\u6253\u6807\u7b7e   git tag -a v1.0 -m \"Version 1.0\"  # \u521b\u5efa\u5e26\u6ce8\u91ca\u7684\u6807\u7b7e   git push origin v1.0  # \u63a8\u9001\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93</code></li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#_1","title":"\u603b\u7ed3","text":"<p>Git \u547d\u4ee4\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u529f\u80fd\u6765\u7ba1\u7406\u4ee3\u7801\u7684\u7248\u672c\u63a7\u5236\uff0c\u4ece\u57fa\u672c\u7684\u63d0\u4ea4\u3001\u5206\u652f\u7ba1\u7406\u5230\u8fdc\u7a0b\u64cd\u4f5c\u548c\u64a4\u9500\u64cd\u4f5c\u3002\u901a\u8fc7\u8fd9\u4e9b\u547d\u4ee4\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u9ad8\u6548\u5730\u8ddf\u8e2a\u4ee3\u7801\u53d8\u5316\u3001\u534f\u540c\u5de5\u4f5c\u5e76\u7ef4\u62a4\u4ee3\u7801\u7684\u5386\u53f2\u8bb0\u5f55\u3002</p>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#8","title":"8. \u53d8\u57fa","text":"<p><code>git rebase</code> \u662f Git \u4e2d\u4e00\u4e2a\u5f3a\u5927\u7684\u547d\u4ee4\uff0c\u7528\u4e8e\u91cd\u65b0\u5e94\u7528\u4e00\u7cfb\u5217\u63d0\u4ea4\u3002\u4e0e <code>git merge</code> \u4e0d\u540c\uff0c<code>git rebase</code> \u53ef\u4ee5\u901a\u8fc7\u5c06\u63d0\u4ea4\u7684\u57fa\u5e95\uff08base\uff09\u6539\u53d8\u5230\u53e6\u4e00\u5206\u652f\u4e0a\uff0c\u4ece\u800c\u4f7f\u63d0\u4ea4\u5386\u53f2\u66f4\u52a0\u7ebf\u6027\u548c\u5e72\u51c0\u3002\u4e0b\u9762\u662f\u5bf9 <code>git rebase</code> \u7684\u8be6\u7ec6\u8bb2\u89e3\uff0c\u5305\u62ec\u5e38\u89c1\u7528\u6cd5\u548c\u4e00\u4e9b\u91cd\u8981\u6982\u5ff5\u3002</p>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#1_1","title":"1. \u57fa\u672c\u6982\u5ff5","text":"<ul> <li>Rebase \u7684\u57fa\u672c\u601d\u8def: \u5c06\u4e00\u7cfb\u5217\u63d0\u4ea4\u201c\u79fb\u52a8\u201d\u5230\u53e6\u4e00\u5206\u652f\u7684\u9876\u90e8\u3002\u8fd9\u6837\uff0c\u4f60\u7684\u63d0\u4ea4\u5386\u53f2\u5c31\u50cf\u662f\u5728\u76ee\u6807\u5206\u652f\u4e0a\u91cd\u65b0\u751f\u6210\u7684\u3002</li> <li>\u76ee\u6807: \u901a\u8fc7 <code>rebase</code>\uff0c\u4f60\u53ef\u4ee5\u4fdd\u6301\u9879\u76ee\u5386\u53f2\u7684\u7ebf\u6027\uff0c\u907f\u514d\u5728\u5386\u53f2\u4e2d\u5f15\u5165\u8fc7\u591a\u7684\u5408\u5e76\u63d0\u4ea4\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#2_1","title":"2. \u57fa\u672c\u7528\u6cd5","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#1-rebase","title":"1. \u57fa\u7840 Rebase","text":"<ul> <li>\u547d\u4ee4: <code>git rebase &lt;base-branch&gt;</code></li> <li>\u7528\u9014: \u5c06\u5f53\u524d\u5206\u652f\u7684\u63d0\u4ea4\u201c\u91cd\u65b0\u5e94\u7528\u201d\u5230 <code>&lt;base-branch&gt;</code> \u7684\u6700\u65b0\u63d0\u4ea4\u4e0a\u3002</li> <li>\u793a\u4f8b:   <code>bash   git checkout feature-branch   git rebase main</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5c06 <code>feature-branch</code> \u4e0a\u7684\u6240\u6709\u63d0\u4ea4\u5e94\u7528\u5230 <code>main</code> \u5206\u652f\u7684\u6700\u65b0\u63d0\u4ea4\u4e0a\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#2-rebase","title":"2. \u4ea4\u4e92\u5f0f Rebase","text":"<ul> <li>\u547d\u4ee4: <code>git rebase -i &lt;commit&gt;</code></li> <li>\u7528\u9014: \u5141\u8bb8\u4f60\u5bf9\u63d0\u4ea4\u8fdb\u884c\u66f4\u8be6\u7ec6\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u91cd\u6392\u5e8f\u3001\u4fee\u6539\u3001\u5408\u5e76\u63d0\u4ea4\u7b49\u3002</li> <li>\u793a\u4f8b:   <code>bash   git rebase -i HEAD~3</code>   \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u6253\u5f00\u4e00\u4e2a\u7f16\u8f91\u5668\uff0c\u8ba9\u4f60\u53ef\u4ee5\u67e5\u770b\u5e76\u4fee\u6539\u6700\u8fd1\u7684 3 \u4e2a\u63d0\u4ea4\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#3_1","title":"3. \u5904\u7406\u51b2\u7a81","text":"<p>\u5728 Rebase \u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u9047\u5230\u51b2\u7a81\uff0cGit \u4f1a\u6682\u505c\u5e76\u8981\u6c42\u4f60\u89e3\u51b3\u8fd9\u4e9b\u51b2\u7a81\u3002</p> <ul> <li> <p>\u67e5\u770b\u51b2\u7a81:   <code>bash   git status</code></p> </li> <li> <p>\u89e3\u51b3\u51b2\u7a81: \u624b\u52a8\u7f16\u8f91\u6587\u4ef6\u89e3\u51b3\u51b2\u7a81\uff0c\u7136\u540e\u4f7f\u7528 <code>git add</code> \u6dfb\u52a0\u89e3\u51b3\u540e\u7684\u6587\u4ef6\u3002</p> </li> <li> <p>\u7ee7\u7eed Rebase:   <code>bash   git rebase --continue</code></p> </li> <li> <p>\u4e2d\u6b62 Rebase:   \u5982\u679c\u4f60\u51b3\u5b9a\u4e2d\u6b62 Rebase\uff0c\u53ef\u4ee5\u4f7f\u7528:   <code>bash   git rebase --abort</code></p> </li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#4_1","title":"4. \u5e38\u89c1\u9009\u9879","text":"<ul> <li><code>-i</code> \u6216 <code>--interactive</code>: \u8fdb\u884c\u4ea4\u4e92\u5f0f Rebase\uff0c\u5141\u8bb8\u4f60\u4fee\u6539\u63d0\u4ea4\u3002</li> <li><code>--onto &lt;newbase&gt;</code>: \u91cd\u65b0\u57fa\u4e8e\u65b0\u7684\u57fa\u5e95\u8fdb\u884c Rebase\u3002</li> <li><code>--continue</code>: \u7ee7\u7eed Rebase \u8fc7\u7a0b\u4e2d\u7684\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002</li> <li><code>--abort</code>: \u4e2d\u6b62 Rebase \u5e76\u6062\u590d\u5230 Rebase \u4e4b\u524d\u7684\u72b6\u6001\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#5_1","title":"5. \u793a\u4f8b","text":""},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#1-feature-master","title":"1. \u5c06 feature \u5206\u652f\u7684\u63d0\u4ea4\u5e94\u7528\u5230 master \u5206\u652f","text":"<p>\u5047\u8bbe\u4f60\u5728 <code>feature</code> \u5206\u652f\u4e0a\u8fdb\u884c\u4e86\u4e00\u4e9b\u63d0\u4ea4\uff0c\u73b0\u5728\u4f60\u60f3\u5c06\u8fd9\u4e9b\u63d0\u4ea4\u79fb\u52a8\u5230 <code>master</code> \u5206\u652f\u4e0a\uff1a</p> <pre><code>git checkout feature\ngit rebase master\n</code></pre> <p>\u8fd9\u6837\u4f1a\u628a <code>feature</code> \u5206\u652f\u7684\u63d0\u4ea4\u91cd\u65b0\u5e94\u7528\u5230 <code>master</code> \u5206\u652f\u7684\u9876\u90e8\u3002</p>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#2-rebase_1","title":"2. \u4ea4\u4e92\u5f0f Rebase \u6765\u6574\u7406\u63d0\u4ea4","text":"<p>\u5047\u8bbe\u4f60\u60f3\u8981\u6574\u7406\u6700\u8fd1\u7684 5 \u4e2a\u63d0\u4ea4\uff1a</p> <pre><code>git rebase -i HEAD~5\n</code></pre> <p>\u5728\u6253\u5f00\u7684\u7f16\u8f91\u5668\u4e2d\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4ee5\u4e0b\u64cd\u4f5c\uff1a - <code>pick</code>: \u4fdd\u6301\u63d0\u4ea4 - <code>reword</code>: \u4fee\u6539\u63d0\u4ea4\u4fe1\u606f - <code>edit</code>: \u4fee\u6539\u63d0\u4ea4\u5185\u5bb9 - <code>squash</code>: \u5408\u5e76\u63d0\u4ea4 - <code>fixup</code>: \u5408\u5e76\u63d0\u4ea4\u5e76\u4e22\u5f03\u63d0\u4ea4\u4fe1\u606f - <code>drop</code>: \u5220\u9664\u63d0\u4ea4</p>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#6_1","title":"6. \u4f18\u7f3a\u70b9","text":"<ul> <li>\u4f18\u70b9:</li> <li>\u7ebf\u6027\u5386\u53f2: Rebase \u53ef\u4ee5\u4f7f\u63d0\u4ea4\u5386\u53f2\u4fdd\u6301\u7ebf\u6027\uff0c\u4fbf\u4e8e\u7406\u89e3\u3002</li> <li> <p>\u6e05\u6670\u7684\u5386\u53f2: \u901a\u8fc7 Rebase \u6574\u7406\u63d0\u4ea4\uff0c\u53ef\u4ee5\u4f7f\u5386\u53f2\u8bb0\u5f55\u66f4\u52a0\u5e72\u51c0\u548c\u6709\u5e8f\u3002</p> </li> <li> <p>\u7f3a\u70b9:</p> </li> <li>\u98ce\u9669: \u5982\u679c\u5728\u516c\u5171\u5206\u652f\u4e0a\u6267\u884c Rebase\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5176\u4ed6\u5f00\u53d1\u8005\u7684\u5386\u53f2\u53d8\u5f97\u590d\u6742\u3002\u6700\u597d\u53ea\u5bf9\u81ea\u5df1\u7684\u79c1\u6709\u5206\u652f\u6267\u884c Rebase\u3002</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E7%AF%87/git/#_2","title":"\u603b\u7ed3","text":"<p><code>git rebase</code> \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u91cd\u5199\u63d0\u4ea4\u5386\u53f2\u548c\u7ef4\u62a4\u7ebf\u6027\u5386\u53f2\u3002\u901a\u8fc7\u638c\u63e1 <code>git rebase</code> \u7684\u4f7f\u7528\uff0c\u4f60\u53ef\u4ee5\u66f4\u52a0\u7075\u6d3b\u5730\u7ba1\u7406 Git \u4ed3\u5e93\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u5e76\u4e14\u4fdd\u6301\u4ee3\u7801\u5e93\u7684\u6574\u6d01\u3002\u5728\u4f7f\u7528 <code>rebase</code> \u65f6\u8981\u7279\u522b\u6ce8\u610f\u5904\u7406\u51b2\u7a81\u548c\u4e86\u89e3\u5b83\u5bf9\u5386\u53f2\u7684\u5f71\u54cd\uff0c\u4ee5\u907f\u514d\u6f5c\u5728\u7684\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/","title":"ElastciSearch \u8fdb\u9636\u6559\u7a0b","text":"<p>\u4ee5\u4e0b\u662f Elasticsearch \u8fdb\u9636\u6559\u7a0b\u7684\u8be6\u89e3\uff0c\u5185\u5bb9\u6db5\u76d6\u4e86\u96c6\u7fa4\u7ba1\u7406\u3001\u6027\u80fd\u8c03\u4f18\u3001\u6269\u5c55\u6027\u3001\u6570\u636e\u5efa\u6a21\u3001\u811a\u672c\u4e0e\u63d2\u4ef6\u5f00\u53d1\u7b49\u9ad8\u7ea7\u4e3b\u9898\uff0c\u5e2e\u52a9\u4f60\u6df1\u5165\u638c\u63e1 Elasticsearch\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#1-elasticsearch","title":"1. Elasticsearch \u96c6\u7fa4\u7ba1\u7406","text":"<p>1.1 \u96c6\u7fa4\u67b6\u6784\u8bbe\u8ba1</p> <ul> <li>\u5206\u7247\u548c\u526f\u672c\u8bbe\u8ba1\uff1a</li> <li>\u4e3b\u5206\u7247\uff08Primary Shard\uff09\uff1a\u63a7\u5236\u5206\u7247\u7684\u6570\u91cf\u5bf9\u96c6\u7fa4\u7684\u6027\u80fd\u548c\u6269\u5c55\u6027\u6709\u91cd\u5927\u5f71\u54cd\u3002\u4e00\u822c\u5efa\u8bae\u5728\u521d\u59cb\u8bbe\u7f6e\u65f6\u5408\u7406\u89c4\u5212\uff0c\u4ee5\u4fbf\u672a\u6765\u6269\u5c55\u65f6\u907f\u514d\u9700\u8981\u91cd\u65b0\u5206\u7247\u3002</li> <li> <p>\u526f\u672c\uff08Replica\uff09\uff1a\u589e\u52a0\u526f\u672c\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u548c\u5bb9\u707e\u80fd\u529b\uff0c\u4f46\u526f\u672c\u8fc7\u591a\u4f1a\u589e\u52a0\u5199\u5165\u5ef6\u8fdf\u3002</p> </li> <li> <p>\u8de8\u6570\u636e\u4e2d\u5fc3\u90e8\u7f72\uff1a</p> </li> <li>\u591a\u96c6\u7fa4\u540c\u6b65\uff1a\u5728\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u4f7f\u7528 Cross Cluster Search (CCS) \u6216 Cross Cluster Replication (CCR) \u5b9e\u73b0\u6570\u636e\u540c\u6b65\u548c\u67e5\u8be2\u3002</li> <li>\u5f02\u5730\u707e\u5907\uff1a\u901a\u8fc7\u5feb\u7167\u548c\u6062\u590d\u673a\u5236\u5b9a\u671f\u5907\u4efd\u6570\u636e\uff0c\u5e76\u5728\u9700\u8981\u65f6\u5c06\u5176\u6062\u590d\u5230\u5f02\u5730\u6570\u636e\u4e2d\u5fc3\u3002</li> </ul> <p>1.2 \u8282\u70b9\u7c7b\u578b\u548c\u804c\u8d23\u5206\u914d</p> <ul> <li>\u4e3b\u8282\u70b9\uff08Master Node\uff09\uff1a</li> <li> <p>\u8d1f\u8d23\u96c6\u7fa4\u7ba1\u7406\u4efb\u52a1\uff0c\u5982\u521b\u5efa/\u5220\u9664\u7d22\u5f15\u3001\u8ddf\u8e2a\u8282\u70b9\u72b6\u6001\u3001\u5206\u7247\u5206\u914d\u7b49\u3002\u5efa\u8bae\u5728\u5927\u578b\u96c6\u7fa4\u4e2d\u81f3\u5c11\u8bbe\u7f6e\u4e09\u4e2a\u4e3b\u8282\u70b9\u4ee5\u786e\u4fdd\u9ad8\u53ef\u7528\u6027\u3002</p> </li> <li> <p>\u6570\u636e\u8282\u70b9\uff08Data Node\uff09\uff1a</p> </li> <li> <p>\u4e3b\u8981\u8d1f\u8d23\u5b58\u50a8\u548c\u5904\u7406\u6570\u636e\u3002\u589e\u52a0\u6570\u636e\u8282\u70b9\u53ef\u4ee5\u63d0\u9ad8\u5b58\u50a8\u5bb9\u91cf\u548c\u67e5\u8be2\u5904\u7406\u80fd\u529b\u3002</p> </li> <li> <p>\u534f\u8c03\u8282\u70b9\uff08Coordinating Node\uff09\uff1a</p> </li> <li> <p>\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5c06\u67e5\u8be2\u8bf7\u6c42\u5206\u53d1\u5230\u5176\u4ed6\u6570\u636e\u8282\u70b9\uff0c\u5e76\u5728\u6240\u6709\u8282\u70b9\u6536\u96c6\u7ed3\u679c\u540e\u8fdb\u884c\u6c47\u603b\u3002\u534f\u8c03\u8282\u70b9\u901a\u5e38\u4e0d\u5b58\u50a8\u6570\u636e\u3002</p> </li> <li> <p>\u4e13\u7528\u8282\u70b9\uff1a</p> </li> <li>\u70ed\u8282\u70b9\uff08Hot Node\uff09\uff1a\u5904\u7406\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u3002</li> <li>\u51b7\u8282\u70b9\uff08Cold Node\uff09\uff1a\u5b58\u50a8\u5386\u53f2\u6570\u636e\uff0c\u8bbf\u95ee\u9891\u7387\u4f4e\uff0c\u901a\u5e38\u914d\u5907\u8f83\u4f4e\u6027\u80fd\u7684\u786c\u4ef6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#2","title":"2. \u6027\u80fd\u8c03\u4f18","text":"<p>2.1 \u7d22\u5f15\u6027\u80fd\u4f18\u5316</p> <ul> <li>\u6279\u91cf\u7d22\u5f15\uff08Bulk Indexing\uff09\uff1a</li> <li> <p>\u4f7f\u7528 <code>_bulk</code> API \u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u5927\u89c4\u6a21\u6570\u636e\u5199\u5165\u7684\u6027\u80fd\uff0c\u907f\u514d\u9010\u6761\u63d2\u5165\u9020\u6210\u7684\u5f00\u9500\u3002</p> </li> <li> <p>\u5237\u65b0\u95f4\u9694\uff08Refresh Interval\uff09\uff1a</p> </li> <li> <p>\u901a\u8fc7\u589e\u52a0\u5237\u65b0\u95f4\u9694\uff08<code>index.refresh_interval</code>\uff09\uff0c\u51cf\u5c11\u5199\u5165\u65f6\u7684\u5f00\u9500\uff0c\u9002\u7528\u4e8e\u5927\u6279\u91cf\u6570\u636e\u5bfc\u5165\u7684\u573a\u666f\u3002\u5199\u5165\u5b8c\u6210\u540e\u53ef\u4ee5\u624b\u52a8\u5237\u65b0\u3002</p> </li> <li> <p>\u5408\u5e76\u7b56\u7565\uff08Merge Policy\uff09\uff1a</p> </li> <li>\u8c03\u6574\u5408\u5e76\u7b56\u7565\uff08<code>index.merge.policy</code>\uff09\u53ef\u4ee5\u63a7\u5236\u6bb5\u5408\u5e76\u7684\u884c\u4e3a\uff0c\u4f18\u5316\u5b58\u50a8\u548c\u8bfb\u53d6\u6027\u80fd\u3002</li> </ul> <p>2.2 \u67e5\u8be2\u6027\u80fd\u4f18\u5316</p> <ul> <li>\u67e5\u8be2\u7f13\u5b58\uff08Query Cache\uff09\uff1a</li> <li> <p>\u5229\u7528\u67e5\u8be2\u7f13\u5b58\u63d0\u9ad8\u91cd\u590d\u67e5\u8be2\u7684\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5728\u67e5\u8be2\u7ed3\u679c\u53d8\u5316\u4e0d\u9891\u7e41\u7684\u573a\u666f\u4e2d\u3002</p> </li> <li> <p>\u8fc7\u6ee4\u5668\u7f13\u5b58\uff08Filter Cache\uff09\uff1a</p> </li> <li> <p>\u8fc7\u6ee4\u5668\u901a\u5e38\u7528\u4e8e\u56fa\u5b9a\u7684\u6761\u4ef6\u67e5\u8be2\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f13\u5b58\u6765\u51cf\u5c11\u8ba1\u7b97\u5f00\u9500\u3002</p> </li> <li> <p>\u5b57\u6bb5\u6570\u636e\u7f13\u5b58\uff08Field Data Cache\uff09\uff1a</p> </li> <li> <p>\u5bf9\u4e8e\u9700\u8981\u6392\u5e8f\u3001\u805a\u5408\u7684\u5b57\u6bb5\uff0c\u53ef\u4ee5\u5c06\u5176\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002\u4f46\u9700\u8981\u6ce8\u610f\u5185\u5b58\u4f7f\u7528\u91cf\u3002</p> </li> <li> <p>\u5206\u9875\u67e5\u8be2\u4f18\u5316\uff1a</p> </li> <li>\u907f\u514d\u4f7f\u7528\u6df1\u5ea6\u5206\u9875\uff08large offset\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>search_after</code> \u6216 <code>scroll</code> \u6765\u5904\u7406\u5927\u7ed3\u679c\u96c6\u7684\u5206\u9875\u67e5\u8be2\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#3","title":"3. \u6269\u5c55\u6027\u548c\u9ad8\u53ef\u7528\u6027","text":"<p>3.1 \u5782\u76f4\u6269\u5c55 vs. \u6c34\u5e73\u6269\u5c55</p> <ul> <li> <p>\u5782\u76f4\u6269\u5c55\uff1a\u901a\u8fc7\u589e\u52a0\u8282\u70b9\u7684\u8ba1\u7b97\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u7b49\uff09\u63d0\u5347\u5355\u8282\u70b9\u7684\u6027\u80fd\uff0c\u9002\u7528\u4e8e\u8f83\u5c0f\u89c4\u6a21\u7684\u96c6\u7fa4\u3002</p> </li> <li> <p>\u6c34\u5e73\u6269\u5c55\uff1a\u901a\u8fc7\u589e\u52a0\u8282\u70b9\u6570\u91cf\u6765\u5206\u62c5\u8d1f\u8f7d\uff0c\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u96c6\u7fa4\u3002Elasticsearch \u539f\u751f\u652f\u6301\u6c34\u5e73\u6269\u5c55\uff0c\u589e\u52a0\u8282\u70b9\u53ef\u4ee5\u7ebf\u6027\u63d0\u9ad8\u5904\u7406\u80fd\u529b\u3002</p> </li> </ul> <p>3.2 \u5206\u7247\u91cd\u5206\u914d\u548c\u5747\u8861</p> <ul> <li>\u81ea\u52a8\u5206\u7247\u5747\u8861\uff1a</li> <li> <p>Elasticsearch \u4f1a\u81ea\u52a8\u5728\u96c6\u7fa4\u5185\u5747\u8861\u5206\u7247\uff0c\u786e\u4fdd\u6bcf\u4e2a\u8282\u70b9\u8d1f\u8f7d\u5747\u8861\u3002\u5982\u679c\u9700\u8981\u624b\u52a8\u5e72\u9884\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>/_cluster/reroute</code> API\u3002</p> </li> <li> <p>\u5206\u7247\u5206\u914d\u89c4\u5219\uff1a</p> </li> <li>\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e <code>index.routing.allocation</code> \u89c4\u5219\u6765\u63a7\u5236\u5206\u7247\u5728\u54ea\u4e9b\u8282\u70b9\u4e0a\u5206\u914d\uff0c\u4f8b\u5982\u6307\u5b9a\u7279\u5b9a\u7684\u8282\u70b9\u6807\u7b7e\u6216\u78c1\u76d8\u4f7f\u7528\u7387\u3002</li> </ul> <p>3.3 \u5f39\u6027\u7f29\u51cf</p> <ul> <li>\u8282\u70b9\u79fb\u9664\uff1a</li> <li> <p>\u5728\u8ba1\u5212\u79fb\u9664\u8282\u70b9\u65f6\uff0c\u9996\u5148\u8981\u5c06\u5206\u7247\u8fc1\u79fb\u5230\u5176\u4ed6\u8282\u70b9\uff0c\u786e\u4fdd\u6570\u636e\u5b89\u5168\u3002\u53ef\u4ee5\u901a\u8fc7 <code>/_cluster/reroute</code> \u6307\u5b9a\u76ee\u6807\u8282\u70b9\u8fdb\u884c\u5206\u7247\u8fc1\u79fb\u3002</p> </li> <li> <p>\u5206\u7247\u5408\u5e76\uff1a</p> </li> <li>\u5f53\u6570\u636e\u91cf\u51cf\u5c11\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5206\u7247\u5408\u5e76\u6765\u51cf\u5c11\u5206\u7247\u6570\u91cf\uff0c\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#4","title":"4. \u6570\u636e\u5efa\u6a21\u4e0e\u6620\u5c04","text":"<p>4.1 \u9759\u6001\u6620\u5c04 vs. \u52a8\u6001\u6620\u5c04</p> <ul> <li>\u9759\u6001\u6620\u5c04\uff1a</li> <li> <p>\u624b\u52a8\u5b9a\u4e49\u5b57\u6bb5\u7c7b\u578b\u548c\u8bbe\u7f6e\uff0c\u786e\u4fdd\u5b57\u6bb5\u6620\u5c04\u7684\u7cbe\u786e\u6027\uff0c\u9002\u7528\u4e8e\u751f\u4ea7\u73af\u5883\u3002</p> </li> <li> <p>\u52a8\u6001\u6620\u5c04\uff1a</p> </li> <li>Elasticsearch \u81ea\u52a8\u68c0\u6d4b\u65b0\u5b57\u6bb5\u5e76\u5206\u914d\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u5f00\u53d1\u9636\u6bb5\u6216\u4e0d\u786e\u5b9a\u5b57\u6bb5\u7c7b\u578b\u7684\u573a\u666f\u3002\u751f\u4ea7\u73af\u5883\u4e2d\u5efa\u8bae\u7981\u7528\u6216\u4e25\u683c\u63a7\u5236\u52a8\u6001\u6620\u5c04\u3002</li> </ul> <p>4.2 \u5d4c\u5957\u5bf9\u8c61\u4e0e\u7236\u5b50\u5173\u7cfb</p> <ul> <li>\u5d4c\u5957\u5bf9\u8c61\uff08Nested Objects\uff09\uff1a</li> <li> <p>\u7528\u4e8e\u5b58\u50a8\u590d\u6742\u7684\u5bf9\u8c61\u7ed3\u6784\uff0c\u9002\u5408\u591a\u5c42\u5d4c\u5957\u7684\u6587\u6863\u7ed3\u6784\u3002\u67e5\u8be2\u65f6\u53ef\u4ee5\u9488\u5bf9\u5d4c\u5957\u5b57\u6bb5\u6267\u884c\u72ec\u7acb\u67e5\u8be2\u3002</p> </li> <li> <p>\u7236\u5b50\u5173\u7cfb\uff08Parent-Child Relationship\uff09\uff1a</p> </li> <li>\u9002\u5408\u9700\u8981\u7ef4\u62a4\u6587\u6863\u4e4b\u95f4\u5173\u7cfb\u7684\u573a\u666f\uff0c\u4f8b\u5982\u8ba2\u5355\u548c\u8ba2\u5355\u9879\u3002\u53ef\u4ee5\u4f7f\u7528 <code>has_parent</code> \u6216 <code>has_child</code> \u67e5\u8be2\u6765\u83b7\u53d6\u5173\u8054\u6570\u636e\u3002</li> </ul> <p>4.3 \u6570\u636e\u53bb\u89c4\u8303\u5316</p> <ul> <li>\u53bb\u89c4\u8303\u5316\u4f18\u70b9\uff1a</li> <li> <p>\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u51cf\u5c11\u591a\u8868\u67e5\u8be2\u7684\u590d\u6742\u6027\u3002\u5728 Elasticsearch \u4e2d\uff0c\u5e38\u5c06\u76f8\u5173\u6570\u636e\u5b58\u50a8\u5728\u540c\u4e00\u4e2a\u6587\u6863\u4e2d\uff0c\u901a\u8fc7\u51cf\u5c11\u67e5\u8be2\u6b21\u6570\u6765\u4f18\u5316\u6027\u80fd\u3002</p> </li> <li> <p>\u53bb\u89c4\u8303\u5316\u7684\u6311\u6218\uff1a</p> </li> <li>\u6570\u636e\u5197\u4f59\u589e\u52a0\uff0c\u6570\u636e\u66f4\u65b0\u65f6\u53ef\u80fd\u9700\u8981\u540c\u6b65\u591a\u4e2a\u6587\u6863\uff0c\u589e\u52a0\u590d\u6742\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#5","title":"5. \u811a\u672c\u4e0e\u63d2\u4ef6\u5f00\u53d1","text":"<p>5.1 \u81ea\u5b9a\u4e49\u811a\u672c</p> <ul> <li>Painless \u811a\u672c\u8bed\u8a00\uff1a</li> <li> <p>Elasticsearch \u5185\u7f6e\u7684\u8f7b\u91cf\u7ea7\u811a\u672c\u8bed\u8a00\uff0cPainless \u6027\u80fd\u8f83\u9ad8\u4e14\u5b89\u5168\u3002\u9002\u7528\u4e8e\u5728\u67e5\u8be2\u3001\u66f4\u65b0\u3001\u8bc4\u5206\u7b49\u64cd\u4f5c\u4e2d\u8fdb\u884c\u81ea\u5b9a\u4e49\u8ba1\u7b97\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a\u6839\u636e\u8bc4\u5206\u8fdb\u884c\u6392\u5e8f\u3002     <code>bash     GET /my-index/_search     {       \"query\": {         \"function_score\": {           \"script_score\": {             \"script\": {               \"source\": \"doc['price'].value * params.factor\",               \"params\": {                 \"factor\": 1.2               }             }           }         }       }     }</code></p> </li> </ul> <p>5.2 \u63d2\u4ef6\u5f00\u53d1</p> <ul> <li>\u63d2\u4ef6\u7ed3\u6784\uff1a</li> <li> <p>Elasticsearch \u63d2\u4ef6\u53ef\u4ee5\u6269\u5c55\u529f\u80fd\uff0c\u4f8b\u5982\u81ea\u5b9a\u4e49\u5206\u6790\u5668\u3001\u67e5\u8be2 DSL\u3001REST API\u3001\u96c6\u7fa4\u7ba1\u7406\u5de5\u5177\u7b49\u3002\u63d2\u4ef6\u5f00\u53d1\u9700\u8981\u5177\u5907 Java \u7f16\u7a0b\u57fa\u7840\u3002</p> </li> <li> <p>\u5f00\u53d1\u6d41\u7a0b\uff1a</p> </li> <li>\u73af\u5883\u642d\u5efa\uff1a\u4f7f\u7528 Elasticsearch \u63d0\u4f9b\u7684 Maven \u5de5\u5177\u751f\u6210\u63d2\u4ef6\u9879\u76ee\u7ed3\u6784\u3002</li> <li>\u5f00\u53d1\uff1a\u7f16\u5199\u81ea\u5b9a\u4e49\u903b\u8f91\uff0c\u5e76\u96c6\u6210\u5230 Elasticsearch \u8fd0\u884c\u65f6\u73af\u5883\u4e2d\u3002</li> <li>\u6d4b\u8bd5\u4e0e\u90e8\u7f72\uff1a\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u548c\u96c6\u6210\u6d4b\u8bd5\u786e\u4fdd\u63d2\u4ef6\u529f\u80fd\u7684\u6b63\u786e\u6027\uff0c\u5e76\u5c06\u63d2\u4ef6\u90e8\u7f72\u5230\u96c6\u7fa4\u4e2d\u3002</li> </ul> <p>5.3 \u5e38\u89c1\u7684\u7b2c\u4e09\u65b9\u63d2\u4ef6</p> <ul> <li>Ingest Attachment Processor\uff1a\u7528\u4e8e\u5904\u7406\u6587\u4ef6\u9644\u4ef6\uff08\u5982 PDF\u3001Office \u6587\u6863\u7b49\uff09\u5e76\u5c06\u5185\u5bb9\u7d22\u5f15\u5230 Elasticsearch \u4e2d\u3002</li> <li>SQL \u63d2\u4ef6\uff1a\u5141\u8bb8\u4f7f\u7528 SQL \u67e5\u8be2 Elasticsearch \u6570\u636e\uff0c\u9002\u5408\u6709 SQL \u80cc\u666f\u7684\u5f00\u53d1\u4eba\u5458\u3002</li> <li>Kibana \u63d2\u4ef6\uff1a\u7528\u4e8e\u6269\u5c55 Kibana \u529f\u80fd\uff0c\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684\u53ef\u89c6\u5316\u7ec4\u4ef6\u548c\u6570\u636e\u5206\u6790\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#6","title":"6. \u65e5\u5fd7\u5206\u6790\u4e0e\u76d1\u63a7","text":"<p>6.1 \u4f7f\u7528 Elasticsearch \u8fdb\u884c\u65e5\u5fd7\u5206\u6790</p> <ul> <li>ELK Stack\uff1a</li> <li> <p>\u7ecf\u5178\u7684\u65e5\u5fd7\u5206\u6790\u67b6\u6784\uff1aElasticsearch\uff08\u5b58\u50a8\u548c\u641c\u7d22\uff09+ Logstash\uff08\u6570\u636e\u6536\u96c6\u548c\u5904\u7406\uff09+ Kibana\uff08\u6570\u636e\u53ef\u89c6\u5316\uff09\u3002\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 Beats \u5de5\u5177\u6536\u96c6\u5404\u79cd\u7c7b\u578b\u7684\u65e5\u5fd7\u6570\u636e\u3002</p> </li> <li> <p>\u4f18\u5316\u65e5\u5fd7\u7d22\u5f15\uff1a</p> </li> <li>\u4f7f\u7528\u65f6\u95f4\u5e8f\u5217\u7d22\u5f15\uff08\u5982\u6bcf\u5929/\u6bcf\u5468\u4e00\u4e2a\u7d22\u5f15\uff09\u7ba1\u7406\u65e5\u5fd7\u6570\u636e\uff0c\u907f\u514d\u5355\u4e2a\u7d22\u5f15\u8fc7\u5927\u5f71\u54cd\u6027\u80fd\u3002</li> <li>\u914d\u7f6e ILM\uff08Index Lifecycle Management\uff09\u7b56\u7565\uff0c\u81ea\u52a8\u7ba1\u7406\u65e5\u5fd7\u7d22\u5f15\u7684\u751f\u547d\u5468\u671f\uff0c\u5982\u5f52\u6863\u548c\u5220\u9664\u65e7\u6570\u636e\u3002</li> </ul> <p>6.2 \u96c6\u7fa4\u76d1\u63a7\u4e0e\u544a\u8b66</p> <ul> <li>\u76d1\u63a7\u5de5\u5177\uff1a</li> <li>Kibana\uff1a\u5185\u7f6e\u7684\u76d1\u63a7\u529f\u80fd\u6a21\u5757\uff0c\u53ef\u4ee5\u76d1\u63a7 Elasticsearch \u96c6\u7fa4\u7684\u5065\u5eb7\u72b6\u6001\u3001\u8282\u70b9\u6027\u80fd\u3001\u7d22\u5f15\u4f7f\u7528\u60c5\u51b5\u7b49\u3002</li> <li> <p>Elasticsearch Monitor\uff1a\u7b2c\u4e09\u65b9\u76d1\u63a7\u5de5\u5177\uff0c\u63d0\u4f9b\u8be6\u7ec6\u7684\u96c6\u7fa4\u5206\u6790\u548c\u6027\u80fd\u62a5\u544a\u3002</p> </li> <li> <p>\u544a\u8b66\u914d\u7f6e\uff1a</p> </li> <li>Watcher \u63d2\u4ef6\uff1aElasticsearch \u81ea\u5e26\u7684\u544a\u8b66\u7cfb\u7edf\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u6761\u4ef6\u544a\u8b66\u3002\u4f8b\u5982\uff0c\u5f53\u96c6\u7fa4\u8282\u70b9\u6570\u91cf\u51cf\u5c11\u6216\u7d22\u5f15\u5927\u5c0f\u5f02\u5e38\u589e\u957f\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1\u544a\u8b66\u901a\u77e5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#7","title":"7. \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":"<p>7.1 \u5206\u7247\u672a\u5206\u914d</p> <ul> <li> <p>\u95ee\u9898\uff1a\u67d0\u4e9b\u5206\u7247\u65e0\u6cd5\u5206\u914d\u5230\u96c6\u7fa4\u4e2d\u7684\u4efb\u4f55\u8282\u70b9\u4e0a\uff0c\u53ef\u80fd\u5bfc\u81f4\u96c6\u7fa4\u5904\u4e8e\u9ec4\u6216\u7ea2\u72b6\u6001\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u8282\u70b9\u78c1\u76d8\u7a7a\u95f4\u662f\u5426\u5145\u8db3\u3002</li> <li>\u4f7f\u7528 <code>_cluster/reroute</code> \u624b\u52a8\u5206\u914d\u5206\u7247\uff0c\u6216\u8c03\u6574\u5206\u7247\u5206\u914d\u89c4\u5219\uff08\u5982 <code>index.routing.allocation</code>\uff09\u3002</li> </ul> <p>7.2 \u641c\u7d22\u901f\u5ea6\u6162</p> <ul> <li> <p>\u95ee\u9898\uff1a\u590d\u6742\u67e5\u8be2\u6216\u6df1\u5ea6\u5206\u9875\u53ef\u80fd\u5bfc\u81f4\u641c\u7d22\u901f\u5ea6\u6162\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff0c\u907f\u514d\u4f7f\u7528\u4e0d\u5fc5\u8981\u7684\u811a\u672c\u548c\u805a\u5408\u3002</li> <li>\u4f7f\u7528\u7d22\u5f15\u6a21\u677f\u4f18\u5316\u5b57\u6bb5\u7c7b\u578b\uff0c\u51cf\u5c11\u975e\u5fc5\u8981\u5b57\u6bb5\u7684\u5206\u6790\u3002</li> <li>\u8c03\u6574\u5206\u7247\u548c\u526f\u672c\u7b56\u7565\uff0c\u589e\u52a0\u67e5\u8be2\u6027\u80fd\u3002</li> </ul> <p>7.3 \u96c6\u7fa4\u8282\u70b9\u6545\u969c</p> <ul> <li> <p>\u95ee\u9898\uff1a\u8282\u70b9\u6545\u969c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u53ef\u7528\u6216\u96c6\u7fa4\u6027\u80fd\u4e0b\u964d\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u8bbe\u7f6e\u5408\u9002\u7684\u526f\u672c\u6570\u91cf\u4ee5\u63d0\u9ad8\u5bb9\u707e\u80fd\u529b\u3002</li> <li>\u5b9a\u671f\u76d1\u63a7\u8282\u70b9\u5065\u5eb7\u72b6\u51b5\uff0c\u53ca\u65f6\u53d1\u73b0\u5e76\u4fee\u590d\u786c\u4ef6\u95ee\u9898\u3002</li> <li>\u4f7f\u7528\u5feb\u7167\u529f\u80fd\u5b9a\u671f\u5907\u4efd\u6570\u636e\uff0c\u786e\u4fdd\u6570\u636e\u5b89\u5168\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#8","title":"8. \u6df1\u5165\u5b66\u4e60\u4e0e\u8d44\u6e90","text":"<ul> <li> <p>Elasticsearch \u5b98\u65b9\u6587\u6863\uff1a\u6df1\u5165\u7406\u89e3 Elasticsearch \u5185\u90e8\u5de5\u4f5c\u673a\u5236\u7684\u6700\u4f73\u8d44\u6e90\u3002</p> </li> <li> <p>\u793e\u533a\u4e0e\u8bba\u575b\uff1a\u53c2\u4e0e Elasticsearch \u793e\u533a\uff0c\u53ef\u4ee5\u83b7\u5f97\u6700\u65b0\u7684\u6280\u672f\u652f\u6301\u548c\u95ee\u9898\u89e3\u7b54\u3002</p> </li> <li> <p>\u9ad8\u7ea7\u8bfe\u7a0b\u4e0e\u57f9\u8bad\uff1a\u53c2\u52a0 Elasticsearch \u5b98\u65b9\u6216\u7b2c\u4e09\u65b9\u63d0\u4f9b\u7684\u9ad8\u7ea7\u8bfe\u7a0b\uff0c\u5b66\u4e60\u66f4\u6df1\u5165\u7684\u4f18\u5316\u6280\u5de7\u548c\u5e94\u7528\u5b9e\u8df5\u3002</p> </li> </ul> <p>\u5728\u7ee7\u7eed\u6df1\u5165 Elasticsearch \u7684\u5185\u5bb9\u4e4b\u524d\uff0c\u6211\u5c06\u4e3a\u4f60\u8fdb\u4e00\u6b65\u4ecb\u7ecd\u4e00\u4e9b\u9ad8\u7ea7\u4e3b\u9898\u548c\u5b9e\u6218\u5e94\u7528\u573a\u666f\u3002\u8fd9\u4e9b\u5185\u5bb9\u5c06\u5e2e\u52a9\u4f60\u5728\u66f4\u590d\u6742\u7684\u73af\u5883\u4e2d\u4f7f\u7528\u548c\u4f18\u5316 Elasticsearch\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#9-elasticsearch","title":"9. Elasticsearch \u6570\u636e\u6cbb\u7406","text":"<p>9.1 \u6570\u636e\u751f\u547d\u5468\u671f\u7ba1\u7406\uff08ILM\uff09</p> <ul> <li> <p>\u6982\u5ff5\uff1aIndex Lifecycle Management (ILM) \u5141\u8bb8\u4f60\u6839\u636e\u9884\u5b9a\u4e49\u7684\u7b56\u7565\u81ea\u52a8\u7ba1\u7406\u7d22\u5f15\u7684\u751f\u547d\u5468\u671f\uff0c\u5305\u62ec\u521b\u5efa\u3001\u70ed\u6570\u636e\u3001\u51b7\u6570\u636e\u3001\u5220\u9664\u7b49\u9636\u6bb5\u3002</p> </li> <li> <p>\u5b9e\u73b0\uff1a</p> </li> <li>\u7b56\u7565\u5b9a\u4e49\uff1a\u901a\u8fc7 Kibana \u6216 API \u5b9a\u4e49 ILM \u7b56\u7565\uff0c\u5305\u62ec\u5404\u4e2a\u9636\u6bb5\u7684\u64cd\u4f5c\uff08\u5982\u6eda\u52a8\u7d22\u5f15\u3001\u5220\u9664\u65e7\u6570\u636e\u7b49\uff09\u3002</li> <li> <p>\u81ea\u52a8\u6267\u884c\uff1a\u5c06 ILM \u7b56\u7565\u5e94\u7528\u5230\u7d22\u5f15\u6a21\u5f0f\u4e0a\uff0cElasticsearch \u4f1a\u6839\u636e\u7b56\u7565\u81ea\u52a8\u5904\u7406\u7d22\u5f15\u3002</p> </li> <li> <p>\u5b9e\u6218\u5e94\u7528\uff1a\u4f7f\u7528 ILM \u7ba1\u7406\u65e5\u5fd7\u6570\u636e\uff0c\u786e\u4fdd\u65e7\u6570\u636e\u5728\u4e0d\u518d\u9700\u8981\u65f6\u81ea\u52a8\u5f52\u6863\u6216\u5220\u9664\uff0c\u51cf\u8f7b\u5b58\u50a8\u538b\u529b\u3002</p> </li> </ul> <p>9.2 \u6570\u636e\u5b89\u5168\u4e0e\u5408\u89c4</p> <ul> <li>\u52a0\u5bc6\u901a\u4fe1\uff1a</li> <li>\u4f7f\u7528 SSL/TLS \u52a0\u5bc6 Elasticsearch \u96c6\u7fa4\u5185\u90e8\u548c\u5916\u90e8\u7684\u901a\u4fe1\uff0c\u786e\u4fdd\u6570\u636e\u4f20\u8f93\u5b89\u5168\u3002</li> <li> <p>\u901a\u8fc7\u914d\u7f6e X-Pack \u5b89\u5168\u6027\u6a21\u5757\uff0c\u542f\u7528 HTTPS \u5e76\u7ba1\u7406\u8bc1\u4e66\u3002</p> </li> <li> <p>\u6570\u636e\u4fdd\u62a4\uff1a</p> </li> <li>\u5229\u7528 Elasticsearch \u7684\u89d2\u8272\u548c\u6743\u9650\u63a7\u5236\u529f\u80fd\uff0c\u9650\u5236\u7528\u6237\u8bbf\u95ee\u654f\u611f\u6570\u636e\u3002</li> <li> <p>\u5b9e\u65bd\u5b57\u6bb5\u7ea7\u522b\u5b89\u5168\uff08Field Level Security\uff09\u548c\u6587\u6863\u7ea7\u522b\u5b89\u5168\uff08Document Level Security\uff09\u6765\u63a7\u5236\u5bf9\u7279\u5b9a\u6570\u636e\u7684\u8bbf\u95ee\u3002</p> </li> <li> <p>\u5408\u89c4\u5ba1\u8ba1\uff1a</p> </li> <li>\u901a\u8fc7\u542f\u7528\u5ba1\u8ba1\u65e5\u5fd7\u8bb0\u5f55\u7528\u6237\u64cd\u4f5c\uff0c\u786e\u4fdd\u6ee1\u8db3\u5408\u89c4\u6027\u8981\u6c42\u3002\u4f8b\u5982\uff0cGDPR \u5408\u89c4\u53ef\u80fd\u8981\u6c42\u8bb0\u5f55\u6570\u636e\u8bbf\u95ee\u548c\u4fee\u6539\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#10","title":"10. \u590d\u6742\u6570\u636e\u5efa\u6a21\u4e0e\u67e5\u8be2","text":"<p>10.1 \u591a\u7d22\u5f15\u67e5\u8be2\u4e0e\u8054\u5408\u67e5\u8be2</p> <ul> <li>\u8de8\u7d22\u5f15\u67e5\u8be2\uff1a</li> <li> <p>Elasticsearch \u652f\u6301\u8de8\u591a\u4e2a\u7d22\u5f15\u8fdb\u884c\u67e5\u8be2\uff0c\u53ef\u4ee5\u5728\u67e5\u8be2\u65f6\u6307\u5b9a\u591a\u4e2a\u7d22\u5f15\u6216\u4f7f\u7528\u901a\u914d\u7b26\u6765\u5339\u914d\u7d22\u5f15\u540d\u79f0\u3002</p> </li> <li> <p>\u8054\u5408\u67e5\u8be2\uff1a</p> </li> <li>\u5229\u7528 <code>join</code>\u3001<code>has_parent</code>\u3001<code>has_child</code> \u7b49\u67e5\u8be2\u529f\u80fd\uff0c\u5728\u7236\u5b50\u6587\u6863\u4e4b\u95f4\u6267\u884c\u590d\u6742\u5173\u8054\u67e5\u8be2\u3002</li> </ul> <p>10.2 \u590d\u6742\u5d4c\u5957\u67e5\u8be2</p> <ul> <li>\u5d4c\u5957\u5bf9\u8c61\u67e5\u8be2\uff1a</li> <li> <p>\u9488\u5bf9\u5d4c\u5957\u5bf9\u8c61\uff08Nested Objects\uff09\u7684\u7cbe\u786e\u67e5\u8be2\uff0c\u907f\u514d\u8de8\u5d4c\u5957\u6587\u6863\u9519\u8bef\u5339\u914d\u3002\u4f8b\u5982\uff0c\u67e5\u8be2\u5305\u542b\u7279\u5b9a\u5c5e\u6027\u7ec4\u5408\u7684\u5bf9\u8c61\u5217\u8868\u3002</p> </li> <li> <p>\u6761\u4ef6\u67e5\u8be2\u4f18\u5316\uff1a</p> </li> <li>\u901a\u8fc7\u4f7f\u7528 <code>must</code>\u3001<code>should</code>\u3001<code>filter</code> \u7b49\u6761\u4ef6\u7ec4\u5408\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002<code>filter</code> \u4e0d\u8ba1\u7b97\u76f8\u5173\u6027\uff0c\u4e14\u652f\u6301\u7f13\u5b58\uff0c\u9002\u5408\u9891\u7e41\u6267\u884c\u7684\u67e5\u8be2\u6761\u4ef6\u3002</li> </ul> <p>10.3 \u81ea\u5b9a\u4e49\u8bc4\u5206\u673a\u5236</p> <ul> <li>\u81ea\u5b9a\u4e49\u8bc4\u5206\uff1a</li> <li> <p>\u4f7f\u7528 <code>function_score</code> \u67e5\u8be2\u5b9e\u73b0\u57fa\u4e8e\u5b57\u6bb5\u503c\u7684\u52a8\u6001\u8bc4\u5206\u3002\u901a\u8fc7\u7f16\u5199\u811a\u672c\u6216\u4f7f\u7528\u9884\u5b9a\u4e49\u7684\u8bc4\u5206\u51fd\u6570\uff0c\u5b9a\u5236\u6587\u6863\u7684\u6392\u5e8f\u903b\u8f91\u3002</p> </li> <li> <p>\u5b9e\u8df5\u6848\u4f8b\uff1a\u5728\u7535\u5546\u5e73\u53f0\u4e2d\uff0c\u6839\u636e\u4ea7\u54c1\u7684\u9500\u91cf\u3001\u8bc4\u5206\u548c\u5e93\u5b58\u60c5\u51b5\u52a8\u6001\u8c03\u6574\u4ea7\u54c1\u7684\u641c\u7d22\u7ed3\u679c\u6392\u540d\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#11","title":"11. \u5b9e\u65f6\u6570\u636e\u5904\u7406\u4e0e\u5206\u6790","text":"<p>11.1 \u4f7f\u7528 Elasticsearch \u5904\u7406\u5b9e\u65f6\u6570\u636e\u6d41</p> <ul> <li>\u5b9e\u65f6\u7d22\u5f15\uff1a</li> <li> <p>\u4f7f\u7528 Logstash\u3001Beats \u6216 Kafka \u5c06\u5b9e\u65f6\u6570\u636e\u6d41\u5bfc\u5165 Elasticsearch\u3002\u9002\u5408\u76d1\u63a7\u3001\u65e5\u5fd7\u5206\u6790\u3001\u7269\u8054\u7f51\u6570\u636e\u5904\u7406\u7b49\u573a\u666f\u3002</p> </li> <li> <p>\u5b9e\u65f6\u5206\u6790\uff1a</p> </li> <li> <p>\u901a\u8fc7 Kibana \u5b9e\u65f6\u53ef\u89c6\u5316\u6570\u636e\u53d8\u5316\uff0c\u5e2e\u52a9\u56e2\u961f\u5feb\u901f\u54cd\u5e94\u7cfb\u7edf\u4e8b\u4ef6\u6216\u4e1a\u52a1\u6307\u6807\u7684\u6ce2\u52a8\u3002</p> </li> <li> <p>\u4f18\u5316\u7b56\u7565\uff1a</p> </li> <li>\u4f18\u5316\u5237\u65b0\u95f4\u9694\uff08Refresh Interval\uff09\u4ee5\u51cf\u5c11\u5199\u5165\u5ef6\u8fdf\u3002\u6839\u636e\u9700\u6c42\u5728\u6027\u80fd\u4e0e\u5b9e\u65f6\u6027\u4e4b\u95f4\u8fdb\u884c\u5e73\u8861\u3002</li> </ul> <p>11.2 \u4f7f\u7528 Ingest \u7ba1\u9053\u8fdb\u884c\u9884\u5904\u7406</p> <ul> <li> <p>\u6982\u5ff5\uff1aIngest \u7ba1\u9053\u5141\u8bb8\u5728\u6570\u636e\u5199\u5165 Elasticsearch \u524d\u8fdb\u884c\u9884\u5904\u7406\uff0c\u5305\u62ec\u6570\u636e\u683c\u5f0f\u8f6c\u6362\u3001\u5b57\u6bb5\u63d0\u53d6\u3001\u5730\u7406\u4f4d\u7f6e\u89e3\u6790\u7b49\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a\u5728\u65e5\u5fd7\u6570\u636e\u7d22\u5f15\u524d\uff0c\u4f7f\u7528 Ingest \u7ba1\u9053\u5c06 IP \u5730\u5740\u8f6c\u6362\u4e3a\u5730\u7406\u4f4d\u7f6e\u6570\u636e\uff0c\u4fbf\u4e8e\u540e\u7eed\u67e5\u8be2\u548c\u5206\u6790\u3002</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u5904\u7406\u5668\uff1a\u5982\u679c\u5185\u7f6e\u5904\u7406\u5668\u65e0\u6cd5\u6ee1\u8db3\u9700\u6c42\uff0c\u53ef\u4ee5\u7f16\u5199\u81ea\u5b9a\u4e49\u5904\u7406\u5668\uff0c\u6269\u5c55 Ingest \u7ba1\u9053\u7684\u529f\u80fd\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#12","title":"12. \u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u4e0e\u4f18\u5316","text":"<p>12.1 \u65f6\u95f4\u5e8f\u5217\u6570\u636e\u4f18\u5316</p> <ul> <li> <p>\u65f6\u95f4\u5e8f\u5217\u7d22\u5f15\uff1a\u5bf9\u4e8e\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff08\u5982\u65e5\u5fd7\u3001\u76d1\u63a7\u6570\u636e\uff09\uff0c\u4f7f\u7528\u57fa\u4e8e\u65f6\u95f4\u7684\u7d22\u5f15\u7ba1\u7406\u7b56\u7565\uff0c\u5c06\u6570\u636e\u5206\u9694\u5230\u4e0d\u540c\u7684\u7d22\u5f15\u4e2d\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</p> </li> <li> <p>\u57fa\u4e8e\u65f6\u95f4\u7684\u5f52\u6863\uff1a\u5b9a\u671f\u5f52\u6863\u6216\u5220\u9664\u8fc7\u671f\u6570\u636e\uff0c\u91ca\u653e\u5b58\u50a8\u7a7a\u95f4\u3002\u4f8b\u5982\uff0c\u901a\u8fc7 ILM \u7b56\u7565\u5c06\u65e7\u7684\u65e5\u5fd7\u6570\u636e\u8f6c\u79fb\u5230\u51b7\u5b58\u50a8\u6216\u5220\u9664\u3002</p> </li> <li> <p>\u538b\u7f29\u548c\u4f18\u5316\uff1a</p> </li> <li>\u901a\u8fc7\u914d\u7f6e <code>index.codec</code> \u4f7f\u7528\u66f4\u9ad8\u6548\u7684\u538b\u7f29\u683c\u5f0f\uff0c\u51cf\u5c11\u78c1\u76d8\u7a7a\u95f4\u5360\u7528\u3002</li> <li>\u4f7f\u7528 <code>forcemerge</code> \u4f18\u5316\u6bb5\u5408\u5e76\uff0c\u51cf\u5c11\u7d22\u5f15\u788e\u7247\uff0c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</li> </ul> <p>12.2 \u5927\u6570\u636e\u91cf\u7684\u5904\u7406</p> <ul> <li>\u5206\u533a\u4e0e\u5206\u7247\u7ba1\u7406\uff1a</li> <li> <p>\u901a\u8fc7\u5408\u7406\u914d\u7f6e\u5206\u7247\u6570\u91cf\u548c\u5206\u533a\u7b56\u7565\uff0c\u5206\u6563\u5927\u6570\u636e\u91cf\u7684\u5b58\u50a8\u548c\u5904\u7406\u538b\u529b\u3002\u4f8b\u5982\uff0c\u6309\u7528\u6237\u6216\u5730\u7406\u533a\u57df\u8fdb\u884c\u5206\u533a\u3002</p> </li> <li> <p>\u5199\u5165\u4f18\u5316\uff1a</p> </li> <li> <p>\u6279\u91cf\u5bfc\u5165\u6570\u636e\uff0c\u51cf\u5c11\u7d22\u5f15\u5237\u65b0\u9891\u7387\u3002\u4f7f\u7528 <code>_bulk</code> API \u8fdb\u884c\u6279\u91cf\u5199\u5165\uff0c\u907f\u514d\u5355\u6761\u6570\u636e\u7684\u9891\u7e41\u7d22\u5f15\u64cd\u4f5c\u3002</p> </li> <li> <p>\u67e5\u8be2\u6027\u80fd\u8c03\u4f18\uff1a</p> </li> <li>\u4f7f\u7528\u805a\u5408\u67e5\u8be2\u5206\u6790\u6d77\u91cf\u6570\u636e\uff0c\u907f\u514d\u5168\u91cf\u626b\u63cf\u3002\u7ed3\u5408 <code>filter</code> \u67e5\u8be2\u548c <code>search_after</code> \u5b9e\u73b0\u9ad8\u6548\u7684\u5206\u9875\u67e5\u8be2\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#13-elasticsearch","title":"13. Elasticsearch \u96c6\u7fa4\u76d1\u63a7\u4e0e\u7ef4\u62a4","text":"<p>13.1 \u96c6\u7fa4\u5065\u5eb7\u76d1\u63a7</p> <ul> <li> <p>Kibana \u76d1\u63a7\uff1a\u901a\u8fc7 Kibana \u7684\u96c6\u7fa4\u76d1\u63a7\u9762\u677f\uff0c\u5b9e\u65f6\u76d1\u63a7\u8282\u70b9\u7684 CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3001GC \u72b6\u6001\u7b49\u5173\u952e\u6307\u6807\u3002</p> </li> <li> <p>\u544a\u8b66\u914d\u7f6e\uff1a\u914d\u7f6e Watcher \u8fdb\u884c\u96c6\u7fa4\u5065\u5eb7\u544a\u8b66\uff0c\u5f53\u8282\u70b9\u5f02\u5e38\u3001\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u6216\u67e5\u8be2\u6027\u80fd\u4e0b\u964d\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1\u544a\u8b66\u901a\u77e5\u3002</p> </li> </ul> <p>13.2 \u81ea\u52a8\u5316\u96c6\u7fa4\u7ef4\u62a4</p> <ul> <li> <p>\u81ea\u52a8\u6269\u5c55\uff1a\u5728\u4e91\u73af\u5883\u4e2d\uff0c\u901a\u8fc7\u81ea\u52a8\u5316\u811a\u672c\u6216 Kubernetes Operator \u5b9e\u73b0 Elasticsearch \u96c6\u7fa4\u7684\u81ea\u52a8\u6269\u5c55\u6216\u7f29\u51cf\uff0c\u6839\u636e\u8d1f\u8f7d\u52a8\u6001\u8c03\u6574\u96c6\u7fa4\u89c4\u6a21\u3002</p> </li> <li> <p>\u5feb\u7167\u4e0e\u6062\u590d\uff1a</p> </li> <li>\u5b9a\u671f\u5bf9\u96c6\u7fa4\u6570\u636e\u8fdb\u884c\u5feb\u7167\u5907\u4efd\uff0c\u5c24\u5176\u662f\u4e1a\u52a1\u5173\u952e\u6570\u636e\u3002</li> <li> <p>\u7ed3\u5408 ILM \u7b56\u7565\u548c\u5feb\u7167\u529f\u80fd\uff0c\u81ea\u52a8\u5f52\u6863\u5e76\u6e05\u7406\u65e7\u6570\u636e\u3002</p> </li> <li> <p>\u8282\u70b9\u5347\u7ea7\u4e0e\u7ef4\u62a4\uff1a</p> </li> <li>\u5728\u6267\u884c\u8282\u70b9\u5347\u7ea7\u6216\u7ef4\u62a4\u65f6\uff0c\u786e\u4fdd\u526f\u672c\u6570\u91cf\u8db3\u591f\uff0c\u4ee5\u9632\u6b62\u6570\u636e\u4e22\u5931\u3002\u4f7f\u7528 <code>/_cluster/reroute</code> \u63a7\u5236\u5206\u7247\u8fc1\u79fb\uff0c\u786e\u4fdd\u7ef4\u62a4\u671f\u95f4\u96c6\u7fa4\u7a33\u5b9a\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#14-elasticsearch","title":"14. Elasticsearch \u5728\u4e0d\u540c\u573a\u666f\u4e2d\u7684\u5e94\u7528","text":"<p>14.1 \u5927\u89c4\u6a21\u65e5\u5fd7\u7ba1\u7406</p> <ul> <li>ELK/EFK Stack\uff1a</li> <li> <p>\u901a\u8fc7 Elasticsearch\u3001Logstash/Filebeat \u548c Kibana \u7ec4\u6210\u7684\u65e5\u5fd7\u7ba1\u7406\u7cfb\u7edf\uff0c\u5b9e\u73b0\u5927\u89c4\u6a21\u65e5\u5fd7\u7684\u5b9e\u65f6\u6536\u96c6\u3001\u5b58\u50a8\u3001\u641c\u7d22\u4e0e\u5206\u6790\u3002</p> </li> <li> <p>\u4f18\u5316\u5efa\u8bae\uff1a</p> </li> <li>\u4f7f\u7528\u65f6\u95f4\u5e8f\u5217\u7d22\u5f15\u5206\u914d\u65e5\u5fd7\u6570\u636e\uff0c\u907f\u514d\u5355\u4e00\u7d22\u5f15\u8fc7\u5927\u3002</li> <li>\u914d\u7f6e Ingest \u7ba1\u9053\u5bf9\u65e5\u5fd7\u8fdb\u884c\u9884\u5904\u7406\uff0c\u5982\u53bb\u91cd\u3001\u89e3\u6790 JSON \u5b57\u6bb5\u3002</li> </ul> <p>14.2 \u5b9e\u65f6\u7528\u6237\u884c\u4e3a\u5206\u6790</p> <ul> <li> <p>\u7535\u5546\u5e73\u53f0\uff1a\u5728\u7535\u5546\u7f51\u7ad9\u4e2d\u4f7f\u7528 Elasticsearch \u5b9e\u65f6\u8ddf\u8e2a\u548c\u5206\u6790\u7528\u6237\u884c\u4e3a\u6570\u636e\uff0c\u5982\u70b9\u51fb\u3001\u641c\u7d22\u3001\u8d2d\u7269\u8f66\u64cd\u4f5c\u7b49\uff0c\u751f\u6210\u5b9e\u65f6\u7684\u63a8\u8350\u548c\u8425\u9500\u7b56\u7565\u3002</p> </li> <li> <p>\u793e\u4ea4\u5e73\u53f0\uff1a\u5206\u6790\u7528\u6237\u7684\u793e\u4ea4\u4e92\u52a8\u6570\u636e\uff0c\u8bc6\u522b\u5173\u952e\u610f\u89c1\u9886\u8896\uff0c\u4f18\u5316\u7528\u6237\u4f53\u9a8c\u3002</p> </li> <li> <p>\u5b9e\u65bd\u5efa\u8bae\uff1a</p> </li> <li>\u4f7f\u7528 Kafka \u4f5c\u4e3a\u6570\u636e\u4e2d\u95f4\u4ef6\uff0c\u5b9e\u73b0\u6570\u636e\u7684\u5b9e\u65f6\u6d41\u5f0f\u5904\u7406\u3002</li> <li>\u914d\u7f6e\u805a\u5408\u67e5\u8be2\uff0c\u5bf9\u7528\u6237\u884c\u4e3a\u8fdb\u884c\u5b9e\u65f6\u7edf\u8ba1\u548c\u8d8b\u52bf\u5206\u6790\u3002</li> </ul> <p>14.3 \u4e2a\u6027\u5316\u63a8\u8350\u7cfb\u7edf</p> <ul> <li>\u5b9e\u73b0\u65b9\u6cd5\uff1a</li> <li> <p>\u7ed3\u5408\u7528\u6237\u753b\u50cf\u548c\u884c\u4e3a\u6570\u636e\uff0c\u5728 Elasticsearch \u4e2d\u6784\u5efa\u4e2a\u6027\u5316\u63a8\u8350\u6a21\u578b\u3002\u5229\u7528\u811a\u672c\u67e5\u8be2\u548c\u81ea\u5b9a\u4e49\u8bc4\u5206\u89c4\u5219\uff0c\u52a8\u6001\u8c03\u6574\u641c\u7d22\u7ed3\u679c\u7684\u6392\u5e8f\u3002</p> </li> <li> <p>\u6848\u4f8b\u5206\u6790\uff1a\u67d0\u7535\u5546\u5e73\u53f0\u6839\u636e\u7528\u6237\u6d4f\u89c8\u5386\u53f2\u548c\u76f8\u4f3c\u7528\u6237\u7684\u8d2d\u4e70\u884c\u4e3a\uff0c\u5b9e\u65f6\u8c03\u6574\u63a8\u8350\u5546\u54c1\uff0c\u63d0\u9ad8\u8f6c\u5316\u7387\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#15-elasticsearch","title":"15. Elasticsearch \u6700\u4f73\u5b9e\u8df5\u4e0e\u6ce8\u610f\u4e8b\u9879","text":"<p>15.1 \u7d22\u5f15\u8bbe\u8ba1</p> <ul> <li> <p>\u5b57\u6bb5\u547d\u540d\u4e0e\u7c7b\u578b\u9009\u62e9\uff1a\u5408\u7406\u547d\u540d\u5b57\u6bb5\u5e76\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7c7b\u578b\uff0c\u907f\u514d\u4f7f\u7528 <code>text</code> \u7c7b\u578b\u5b58\u50a8\u4e0d\u5fc5\u8981\u7684\u5168\u6587\u7d22\u5f15\u5b57\u6bb5\uff0c\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4\u3002</p> </li> <li> <p>\u907f\u514d\u6df1\u5ea6\u5d4c\u5957\uff1a\u5c3d\u91cf\u51cf\u5c11\u5d4c\u5957\u5bf9\u8c61\u5c42\u7ea7\uff0c\u8fc7\u5ea6\u5d4c\u5957\u53ef\u80fd\u5bfc\u81f4\u67e5\u8be2\u6027\u80fd\u4e0b\u964d\u3002</p> </li> </ul> <p>15.2 \u96c6\u7fa4\u89c4\u5212</p> <ul> <li> <p>\u8282\u70b9\u89c4\u6a21\u4e0e\u5206\u7247\u7b56\u7565\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u89c4\u5212\u8282\u70b9\u89c4\u6a21\uff0c\u5408\u7406\u8bbe\u7f6e\u5206\u7247\u6570\u91cf\uff0c\u786e\u4fdd\u96c6\u7fa4\u7684\u6269\u5c55\u6027\u4e0e\u6027\u80fd\u3002</p> </li> <li> <p>\u8d44\u6e90\u76d1\u63a7\u4e0e\u4f18\u5316\uff1a\u5b9a\u671f\u68c0\u67e5\u8282\u70b9\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u4f18\u5316 JVM \u5806\u5185\u5b58\u914d\u7f6e\uff0c\u786e\u4fdd\u96c6\u7fa4\u7a33\u5b9a\u8fd0\u884c\u3002</p> </li> </ul> <p>15.3 \u5b89\u5168\u6027\u4e0e\u5408\u89c4\u6027</p> <ul> <li> <p>\u8eab\u4efd\u8ba4\u8bc1\u4e0e\u8bbf\u95ee\u63a7\u5236\uff1a\u4f7f\u7528 X-Pack \u7684\u5b89\u5168\u6a21\u5757\u5bf9\u96c6\u7fa4\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u4e0e\u8bbf\u95ee\u63a7\u5236\uff0c\u786e\u4fdd\u53ea\u6709\u6388\u6743\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee\u654f\u611f\u6570\u636e\u3002</p> </li> <li> <p>\u6570\u636e\u52a0\u5bc6\u4e0e\u5ba1\u8ba1\uff1a\u542f\u7528\u4f20\u8f93\u5c42\u52a0\u5bc6\uff08SSL/TLS\uff09\u548c\u5ba1\u8ba1\u65e5\u5fd7\uff0c\u786e\u4fdd\u6570\u636e\u4f20\u8f93\u5b89\u5168\u548c\u5408\u89c4\u6027\u8981\u6c42\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/advance/#_1","title":"\u7ed3\u8bed","text":"<p>\u901a\u8fc7\u672c\u6b21\u8be6\u89e3\u7684 Elasticsearch \u8fdb\u9636\u6559\u7a0b\uff0c\u4f60\u53ef\u4ee5\u6df1\u5165\u4e86\u89e3\u5982\u4f55\u5728\u590d\u6742\u573a\u666f\u4e2d\u5e94\u7528\u548c\u4f18\u5316 Elasticsearch\u3002\u65e0\u8bba\u662f\u65e5\u5fd7\u7ba1\u7406\u3001\u7528\u6237\u884c\u4e3a\u5206\u6790\uff0c\u8fd8\u662f\u4e2a\u6027\u5316\u63a8\u8350\u7cfb\u7edf\uff0c\u8fd9\u4e9b\u6280\u672f\u90fd\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u53d1\u6325 Elasticsearch \u7684\u6700\u5927\u6f5c\u529b\u3002\u5982\u679c\u6709\u5176\u4ed6\u5177\u4f53\u7684\u7591\u95ee\u6216\u9700\u8981\u8fdb\u4e00\u6b65\u7684\u6280\u672f\u652f\u6301\uff0c\u6b22\u8fce\u968f\u65f6\u63d0\u95ee\uff01</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/","title":"ElasticSearch \u57fa\u672c\u6559\u7a0b","text":"<p>\u4ee5\u4e0b\u662f Elasticsearch \u57fa\u7840\u6559\u7a0b\u7684\u6982\u5ff5\u548c\u64cd\u4f5c\u8be6\u89e3\uff0c\u5e2e\u52a9\u4f60\u4e86\u89e3\u548c\u638c\u63e1 Elasticsearch \u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#1-elasticsearch","title":"1. Elasticsearch \u7b80\u4ecb","text":"<p>1.1 \u4ec0\u4e48\u662f Elasticsearch</p> <ul> <li> <p>\u5b9a\u4e49\uff1aElasticsearch \u662f\u4e00\u4e2a\u5f00\u6e90\u3001\u5206\u5e03\u5f0f\u7684\u641c\u7d22\u548c\u6570\u636e\u5206\u6790\u5f15\u64ce\uff0c\u57fa\u4e8e Apache Lucene \u6784\u5efa\u3002\u5b83\u63d0\u4f9b\u4e86\u5b9e\u65f6\u7684\u5168\u6587\u641c\u7d22\u3001\u6570\u636e\u5206\u6790\u548c\u6570\u636e\u5b58\u50a8\u529f\u80fd\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u65e5\u5fd7\u5206\u6790\u3001\u7f51\u7ad9\u641c\u7d22\u3001\u76d1\u63a7\u7cfb\u7edf\u7b49\u573a\u666f\u3002</p> </li> <li> <p>\u7528\u9014\uff1a</p> </li> <li>\u5168\u6587\u641c\u7d22\uff1a\u5728\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u8fdb\u884c\u5feb\u901f\u7684\u5168\u6587\u641c\u7d22\u3002</li> <li>\u65e5\u5fd7\u548c\u4e8b\u4ef6\u6570\u636e\u5206\u6790\uff1a\u5904\u7406\u548c\u5206\u6790\u6765\u81ea\u5e94\u7528\u7a0b\u5e8f\u3001\u670d\u52a1\u5668\u548c\u7f51\u7edc\u8bbe\u5907\u7684\u65e5\u5fd7\u6570\u636e\u3002</li> <li>\u5b9e\u65f6\u6570\u636e\u76d1\u63a7\uff1a\u76d1\u63a7\u548c\u5206\u6790\u5b9e\u65f6\u6570\u636e\uff0c\u751f\u6210\u56fe\u8868\u548c\u62a5\u544a\u3002</li> </ul> <p>1.2 \u6838\u5fc3\u6982\u5ff5</p> <ul> <li> <p>Cluster\uff08\u96c6\u7fa4\uff09\uff1a\u4e00\u4e2a\u96c6\u7fa4\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u8282\u70b9\u7ec4\u6210\u7684\u96c6\u5408\uff0c\u8fd9\u4e9b\u8282\u70b9\u5171\u540c\u5de5\u4f5c\u6765\u5b58\u50a8\u6570\u636e\u5e76\u63d0\u4f9b\u641c\u7d22\u548c\u7d22\u5f15\u529f\u80fd\u3002\u6bcf\u4e2a\u96c6\u7fa4\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u540d\u79f0\u3002</p> </li> <li> <p>Node\uff08\u8282\u70b9\uff09\uff1a\u8282\u70b9\u662f Elasticsearch \u96c6\u7fa4\u4e2d\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\u6bcf\u4e2a\u8282\u70b9\u5b58\u50a8\u6570\u636e\u5e76\u53c2\u4e0e\u96c6\u7fa4\u7684\u7d22\u5f15\u548c\u641c\u7d22\u64cd\u4f5c\u3002\u8282\u70b9\u53ef\u4ee5\u662f\u7269\u7406\u670d\u52a1\u5668\u3001\u865a\u62df\u673a\u6216\u5bb9\u5668\u3002</p> </li> <li> <p>Index\uff08\u7d22\u5f15\uff09\uff1a\u7d22\u5f15\u662f\u5b58\u50a8\u5728 Elasticsearch \u4e2d\u7684\u6587\u6863\u96c6\u5408\uff0c\u76f8\u5f53\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u7684\u8868\u3002\u4e00\u4e2a\u7d22\u5f15\u5305\u542b\u591a\u4e2a\u6587\u6863\uff0c\u8fd9\u4e9b\u6587\u6863\u662f\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d\u3002</p> </li> <li> <p>Document\uff08\u6587\u6863\uff09\uff1a\u6587\u6863\u662f Elasticsearch \u4e2d\u7684\u6570\u636e\u57fa\u672c\u5355\u5143\uff0c\u5b58\u50a8\u4e3a JSON \u683c\u5f0f\u3002\u6bcf\u4e2a\u6587\u6863\u5c5e\u4e8e\u4e00\u4e2a\u7d22\u5f15\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u884c\u6570\u636e\u3002</p> </li> <li> <p>Shard\uff08\u5206\u7247\uff09\uff1a\u7d22\u5f15\u7684\u6570\u636e\u5206\u5e03\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u5206\u7247\u4e2d\u3002\u5206\u7247\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u641c\u7d22\u5f15\u64ce\u5b9e\u4f8b\uff0c\u5206\u7247\u4f7f\u5f97\u6570\u636e\u53ef\u4ee5\u6a2a\u5411\u6269\u5c55\u5230\u591a\u4e2a\u8282\u70b9\u3002</p> </li> <li> <p>Replica\uff08\u526f\u672c\uff09\uff1a\u526f\u672c\u662f\u5206\u7247\u7684\u62f7\u8d1d\uff0c\u7528\u4e8e\u63d0\u9ad8\u6570\u636e\u7684\u5197\u4f59\u6027\u548c\u53ef\u7528\u6027\u3002\u5982\u679c\u4e3b\u5206\u7247\uff08Primary Shard\uff09\u51fa\u73b0\u6545\u969c\uff0c\u526f\u672c\u5206\u7247\uff08Replica Shard\uff09\u53ef\u4ee5\u63a5\u66ff\u5b83\u7684\u5de5\u4f5c\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#2","title":"2. \u5b89\u88c5\u4e0e\u914d\u7f6e","text":"<p>2.1 \u5b89\u88c5 Elasticsearch</p> <ul> <li> <p>\u4e0b\u8f7d\u548c\u89e3\u538b\uff1a   <code>bash   wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.0-linux-x86_64.tar.gz   tar -xzf elasticsearch-7.10.0-linux-x86_64.tar.gz   cd elasticsearch-7.10.0/</code></p> </li> <li> <p>\u542f\u52a8 Elasticsearch\uff1a   <code>bash   ./bin/elasticsearch</code></p> </li> <li> <p>\u9a8c\u8bc1\u5b89\u88c5\uff1a\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee <code>http://localhost:9200</code>\uff0c\u4f60\u5e94\u8be5\u770b\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u7684 JSON \u54cd\u5e94\uff0c\u8868\u793a Elasticsearch \u5df2\u6210\u529f\u542f\u52a8\uff1a   <code>json   {     \"name\" : \"node-1\",     \"cluster_name\" : \"elasticsearch\",     \"cluster_uuid\" : \"pXBrl5K8RTOSrZ8JcZYuRg\",     \"version\" : {       \"number\" : \"7.10.0\",       \"build_flavor\" : \"default\",       \"build_type\" : \"tar\",       \"build_hash\" : \"f9293d6\",       \"build_date\" : \"2020-11-09T21:30:33.964949Z\",       \"build_snapshot\" : false,       \"lucene_version\" : \"8.7.0\",       \"minimum_wire_compatibility_version\" : \"6.8.0\",       \"minimum_index_compatibility_version\" : \"6.0.0-beta1\"     },     \"tagline\" : \"You Know, for Search\"   }</code></p> </li> </ul> <p>2.2 \u914d\u7f6e Elasticsearch</p> <ul> <li> <p>\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff1a<code>elasticsearch.yml</code> \u6587\u4ef6\u4f4d\u4e8e <code>config/</code> \u76ee\u5f55\u4e0b\uff0c\u5305\u542b\u4e86\u96c6\u7fa4\u8bbe\u7f6e\u3001\u8def\u5f84\u8bbe\u7f6e\u3001\u7f51\u7edc\u8bbe\u7f6e\u7b49\u3002</p> </li> <li> <p>\u5e38\u89c1\u914d\u7f6e\u9009\u9879\uff1a</p> </li> <li>\u96c6\u7fa4\u540d\u79f0\uff1a     <code>yaml     cluster.name: my-cluster</code></li> <li>\u8282\u70b9\u540d\u79f0\uff1a     <code>yaml     node.name: my-node</code></li> <li>\u6570\u636e\u548c\u65e5\u5fd7\u8def\u5f84\uff1a     <code>yaml     path.data: /var/lib/elasticsearch     path.logs: /var/log/elasticsearch</code></li> <li>\u7f51\u7edc\u7ed1\u5b9a\uff1a     <code>yaml     network.host: 0.0.0.0     http.port: 9200</code></li> <li>\u96c6\u7fa4\u53d1\u73b0\uff08\u591a\u8282\u70b9\u96c6\u7fa4\uff09\uff1a     <code>yaml     discovery.seed_hosts: [\"node1\", \"node2\"]     cluster.initial_master_nodes: [\"node-1\", \"node-2\"]</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#3-elasticsearch","title":"3. Elasticsearch \u57fa\u672c\u64cd\u4f5c","text":"<p>3.1 \u7d22\u5f15\u64cd\u4f5c</p> <ul> <li>\u521b\u5efa\u7d22\u5f15\uff1a   <code>bash   PUT /my-index</code></li> <li> <p>\u5e26\u8bbe\u7f6e\u7684\u521b\u5efa\u7d22\u5f15\uff1a     <code>bash     PUT /my-index     {       \"settings\": {         \"number_of_shards\": 3,         \"number_of_replicas\": 2       }     }</code></p> </li> <li> <p>\u5220\u9664\u7d22\u5f15\uff1a   <code>bash   DELETE /my-index</code></p> </li> <li> <p>\u67e5\u770b\u7d22\u5f15\u4fe1\u606f\uff1a   <code>bash   GET /my-index</code></p> </li> </ul> <p>3.2 \u6587\u6863\u64cd\u4f5c</p> <ul> <li> <p>\u6dfb\u52a0\u6587\u6863\uff1a   <code>bash   POST /my-index/_doc/1   {     \"name\": \"John Doe\",     \"age\": 30,     \"occupation\": \"Software Engineer\"   }</code></p> </li> <li> <p>\u83b7\u53d6\u6587\u6863\uff1a   <code>bash   GET /my-index/_doc/1</code></p> </li> <li> <p>\u66f4\u65b0\u6587\u6863\uff1a   <code>bash   POST /my-index/_doc/1/_update   {     \"doc\": {       \"occupation\": \"Senior Software Engineer\"     }   }</code></p> </li> <li> <p>\u5220\u9664\u6587\u6863\uff1a   <code>bash   DELETE /my-index/_doc/1</code></p> </li> </ul> <p>3.3 \u641c\u7d22\u64cd\u4f5c</p> <ul> <li> <p>\u57fa\u672c\u641c\u7d22\uff1a   <code>bash   GET /my-index/_search?q=occupation:Engineer</code></p> </li> <li> <p>\u590d\u6742\u641c\u7d22\uff1a   <code>bash   GET /my-index/_search   {     \"query\": {       \"bool\": {         \"must\": [           { \"match\": { \"occupation\": \"Engineer\" } }         ],         \"filter\": [           { \"term\": { \"age\": 30 } }         ]       }     }   }</code></p> </li> <li> <p>\u5206\u9875\u548c\u6392\u5e8f\uff1a   <code>bash   GET /my-index/_search   {     \"query\": {       \"match_all\": {}     },     \"sort\": [       { \"age\": \"asc\" }     ],     \"from\": 0,     \"size\": 10   }</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#4","title":"4. \u6620\u5c04\u548c\u5206\u6790","text":"<p>4.1 \u6620\u5c04\uff08Mapping\uff09</p> <ul> <li> <p>\u5b9a\u4e49\u5b57\u6bb5\u7c7b\u578b\uff1a   <code>bash   PUT /my-index   {     \"mappings\": {       \"properties\": {         \"name\": { \"type\": \"text\" },         \"age\": { \"type\": \"integer\" },         \"occupation\": { \"type\": \"text\" }       }     }   }</code></p> </li> <li> <p>\u67e5\u770b\u7d22\u5f15\u6620\u5c04\uff1a   <code>bash   GET /my-index/_mapping</code></p> </li> </ul> <p>4.2 \u5206\u6790\u5668\uff08Analyzer\uff09</p> <ul> <li>\u81ea\u5b9a\u4e49\u5206\u6790\u5668\uff1a   <code>bash   PUT /my-index   {     \"settings\": {       \"analysis\": {         \"analyzer\": {           \"my_custom_analyzer\": {             \"type\": \"custom\",             \"tokenizer\": \"standard\",             \"filter\": [\"lowercase\", \"stop\"]           }         }       }     },     \"mappings\": {       \"properties\": {         \"content\": {           \"type\": \"text\",           \"analyzer\": \"my_custom_analyzer\"         }       }     }   }</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#5","title":"5. \u76d1\u63a7\u4e0e\u7ba1\u7406","text":"<p>5.1 \u96c6\u7fa4\u5065\u5eb7\u72b6\u6001</p> <ul> <li> <p>\u67e5\u770b\u96c6\u7fa4\u5065\u5eb7\uff1a   <code>bash   GET /_cluster/health</code></p> </li> <li> <p>\u96c6\u7fa4\u72b6\u6001\u89e3\u91ca\uff1a</p> </li> <li>green\uff1a\u6240\u6709\u4e3b\u5206\u7247\u548c\u526f\u672c\u5206\u7247\u90fd\u53ef\u7528\u3002</li> <li>yellow\uff1a\u6240\u6709\u4e3b\u5206\u7247\u53ef\u7528\uff0c\u4f46\u90e8\u5206\u526f\u672c\u5206\u7247\u4e0d\u53ef\u7528\u3002</li> <li>red\uff1a\u90e8\u5206\u4e3b\u5206\u7247\u4e0d\u53ef\u7528\u3002</li> </ul> <p>5.2 \u7d22\u5f15\u7ba1\u7406</p> <ul> <li> <p>\u67e5\u770b\u6240\u6709\u7d22\u5f15\uff1a   <code>bash   GET /_cat/indices?v</code></p> </li> <li> <p>\u4f18\u5316\u7d22\u5f15\uff1a   <code>bash   POST /my-index/_forcemerge?max_num_segments=1</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#6","title":"6. \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":"<p>6.1 \u6570\u636e\u91cf\u5927\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d</p> <ul> <li> <p>\u95ee\u9898\uff1a\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u52a0\uff0c\u67e5\u8be2\u548c\u7d22\u5f15\u6027\u80fd\u4e0b\u964d\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f7f\u7528\u5408\u9002\u7684\u5206\u7247\u6570\u548c\u526f\u672c\u6570\uff1a\u6839\u636e\u6570\u636e\u91cf\u548c\u67e5\u8be2\u8d1f\u8f7d\u8c03\u6574\u5206\u7247\u548c\u526f\u672c\u6570\u91cf\u3002</li> <li>\u4f18\u5316\u67e5\u8be2\u548c\u7d22\u5f15\uff1a\u4f7f\u7528\u67e5\u8be2\u8fc7\u6ee4\u3001\u5206\u7247\u8def\u7531\u7b49\u624b\u6bb5\u4f18\u5316\u6027\u80fd\u3002</li> <li>\u4f7f\u7528\u51b7\u6570\u636e\u5b58\u50a8\uff1a\u5c06\u4e0d\u5e38\u8bbf\u95ee\u7684\u6570\u636e\u8f6c\u79fb\u5230\u51b7\u6570\u636e\u8282\u70b9\uff0c\u964d\u4f4e\u4e3b\u96c6\u7fa4\u7684\u8d1f\u8f7d\u3002</li> </ul> <p>6.2 \u5185\u5b58\u6ea2\u51fa</p> <ul> <li> <p>\u95ee\u9898\uff1aElasticsearch \u5728\u5904\u7406\u5927\u6570\u636e\u91cf\u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u5185\u5b58\u6ea2\u51fa\u95ee\u9898\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u8c03\u6574 JVM \u5185\u5b58\u914d\u7f6e\uff1a\u589e\u52a0 JVM \u5806\u5185\u5b58\uff0c\u4f46\u4e0d\u8981\u8d85\u8fc7\u670d\u52a1\u5668\u7269\u7406\u5185\u5b58\u7684 50%\u3002</li> <li>\u4f18\u5316\u6570\u636e\u6a21\u578b\uff1a\u907f\u514d\u5b58\u50a8\u8fc7\u591a\u5197\u4f59\u6570\u636e\uff0c\u51cf\u5c11\u5355\u4e2a\u6587\u6863\u7684\u5927\u5c0f\u3002</li> <li>\u4f7f\u7528\u6279\u91cf\u7d22\u5f15\uff1a\u5c06\u6570\u636e\u5206\u6279\u6b21\u7d22\u5f15\uff0c\u907f\u514d\u4e00\u6b21\u6027\u5904\u7406\u8fc7\u591a\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#7","title":"7. \u5b66\u4e60\u8d44\u6e90","text":"<ul> <li>\u5b98\u65b9\u6587\u6863\uff1aElasticsearch \u5b98\u65b9\u6587\u6863\u63d0\u4f9b\u4e86\u8be6\u7ec6\u7684\u6307\u5357\u548c API \u53c2\u8003\u3002</li> <li>\u793e\u533a\u652f\u6301\uff1aElasticsearch \u62e5\u6709\u6d3b\u8dc3\u7684\u793e\u533a\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b98\u65b9\u8bba\u575b\u3001Stack Overflow \u83b7\u53d6\u5e2e\u52a9\u3002</li> <li>\u5728\u7ebf\u8bfe\u7a0b\uff1a\u591a\u4e2a\u5e73\u53f0\u63d0\u4f9b Elasticsearch \u7684\u5728\u7ebf\u8bfe\u7a0b\uff0c\u5982 Coursera\u3001Udemy\u3002</li> </ul> <p>\u4e3a\u4e86\u66f4\u6df1\u5165\u5730\u7406\u89e3 Elasticsearch\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63a2\u8ba8\u4ee5\u4e0b\u9ad8\u7ea7\u4e3b\u9898\u548c\u5b9e\u8df5\uff0c\u8fd9\u4e9b\u5185\u5bb9\u80fd\u591f\u5e2e\u52a9\u4f60\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u66f4\u597d\u5730\u5e94\u7528\u548c\u4f18\u5316 Elasticsearch\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#8-elasticsearch","title":"8. Elasticsearch \u9ad8\u7ea7\u67e5\u8be2","text":"<p>8.1 \u591a\u6761\u4ef6\u67e5\u8be2\uff08Boolean Queries\uff09</p> <ul> <li>\u793a\u4f8b\uff1a\u7ec4\u5408\u591a\u79cd\u67e5\u8be2\u6761\u4ef6\uff08\u5982 <code>must</code>\u3001<code>should</code> \u548c <code>must_not</code>\uff09\uff0c\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u67e5\u8be2\u903b\u8f91\u3002   <code>bash   GET /my-index/_search   {     \"query\": {       \"bool\": {         \"must\": [           { \"match\": { \"occupation\": \"Engineer\" } }         ],         \"filter\": [           { \"term\": { \"age\": 30 } }         ],         \"must_not\": [           { \"term\": { \"status\": \"retired\" } }         ]       }     }   }</code></li> </ul> <p>8.2 \u805a\u5408\u67e5\u8be2\uff08Aggregations\uff09</p> <ul> <li> <p>\u6982\u5ff5\uff1a\u805a\u5408\u5141\u8bb8\u4f60\u5728\u67e5\u8be2\u6570\u636e\u7684\u540c\u65f6\u8ba1\u7b97\u7edf\u8ba1\u4fe1\u606f\uff0c\u6bd4\u5982\u8ba1\u6570\u3001\u6c42\u548c\u3001\u5e73\u5747\u503c\u7b49\u3002\u5e38\u7528\u4e8e\u5206\u6790\u548c\u62a5\u544a\u751f\u6210\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a\u6309\u804c\u4e1a\u5206\u7ec4\u7edf\u8ba1\u5458\u5de5\u6570\u91cf\u3002   <code>bash   GET /my-index/_search   {     \"size\": 0,     \"aggs\": {       \"by_occupation\": {         \"terms\": {           \"field\": \"occupation.keyword\"         }       }     }   }</code></p> </li> </ul> <p>8.3 \u811a\u672c\u67e5\u8be2\uff08Scripting Queries\uff09</p> <ul> <li> <p>\u6982\u5ff5\uff1a\u5728\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u811a\u672c\u8ba1\u7b97\u81ea\u5b9a\u4e49\u7684\u6761\u4ef6\u6216\u64cd\u4f5c\uff0c\u6bd4\u5982\u57fa\u4e8e\u5b57\u6bb5\u7684\u52a8\u6001\u8ba1\u7b97\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a\u57fa\u4e8e\u5e74\u9f84\u6bb5\u7b5b\u9009\u5458\u5de5\u3002   <code>bash   GET /my-index/_search   {     \"query\": {       \"script\": {         \"script\": \"doc['age'].value &gt; 30\"       }     }   }</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#9-elasticsearch","title":"9. Elasticsearch \u6027\u80fd\u4f18\u5316","text":"<p>9.1 \u5206\u7247\u548c\u526f\u672c\u7684\u5408\u7406\u8bbe\u7f6e</p> <ul> <li> <p>\u6982\u5ff5\uff1a\u5206\u7247\u548c\u526f\u672c\u7684\u6570\u91cf\u76f4\u63a5\u5f71\u54cd\u96c6\u7fa4\u7684\u6027\u80fd\u548c\u53ef\u7528\u6027\u3002\u5408\u7406\u7684\u5206\u7247\u8bbe\u7f6e\u53ef\u4ee5\u63d0\u9ad8\u5e76\u53d1\u5904\u7406\u80fd\u529b\uff0c\u800c\u9002\u5f53\u7684\u526f\u672c\u6570\u91cf\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u5197\u4f59\u6027\u548c\u67e5\u8be2\u6027\u80fd\u3002</p> </li> <li> <p>\u6700\u4f73\u5b9e\u8df5\uff1a</p> </li> <li>\u5bf9\u4e8e\u8f83\u5c0f\u7684\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u51cf\u5c11\u5206\u7247\u6570\u91cf\u4ee5\u907f\u514d\u8d44\u6e90\u6d6a\u8d39\u3002</li> <li>\u5bf9\u4e8e\u67e5\u8be2\u5bc6\u96c6\u7684\u73af\u5883\uff0c\u53ef\u4ee5\u589e\u52a0\u526f\u672c\u6570\u91cf\u6765\u5206\u6563\u67e5\u8be2\u8d1f\u8f7d\u3002</li> </ul> <p>9.2 \u7d22\u5f15\u6a21\u677f\u548c\u52a8\u6001\u6620\u5c04</p> <ul> <li> <p>\u7d22\u5f15\u6a21\u677f\uff1a\u5b9a\u4e49\u4e00\u7ec4\u7d22\u5f15\u8bbe\u7f6e\u548c\u6620\u5c04\u6a21\u677f\uff0c\u5728\u521b\u5efa\u65b0\u7d22\u5f15\u65f6\u81ea\u52a8\u5e94\u7528\u3002\u7d22\u5f15\u6a21\u677f\u53ef\u4ee5\u786e\u4fdd\u6240\u6709\u7d22\u5f15\u7684\u4e00\u81f4\u6027\uff0c\u5c24\u5176\u662f\u5728\u5927\u89c4\u6a21\u6570\u636e\u7ba1\u7406\u4e2d\u3002</p> </li> <li> <p>\u52a8\u6001\u6620\u5c04\uff1aElasticsearch \u81ea\u52a8\u4e3a\u65b0\u5b57\u6bb5\u751f\u6210\u6620\u5c04\uff0c\u4f46\u5728\u5927\u578b\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5efa\u8bae\u7981\u7528\u6216\u63a7\u5236\u52a8\u6001\u6620\u5c04\uff0c\u4ee5\u907f\u514d\u751f\u6210\u4e0d\u5fc5\u8981\u7684\u5b57\u6bb5\u3002</p> </li> </ul> <p>9.3 \u641c\u7d22\u548c\u7d22\u5f15\u7684\u4f18\u5316</p> <ul> <li> <p>\u6279\u91cf\u7d22\u5f15\uff1a\u4f7f\u7528\u6279\u91cf API \u8fdb\u884c\u6570\u636e\u5199\u5165\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u7d22\u5f15\u6027\u80fd\uff0c\u907f\u514d\u4e00\u6b21\u6027\u5199\u5165\u8fc7\u591a\u6570\u636e\u5bfc\u81f4\u8d44\u6e90\u7d27\u5f20\u3002</p> </li> <li> <p>\u67e5\u8be2\u7f13\u5b58\uff1aElasticsearch \u652f\u6301\u67e5\u8be2\u7f13\u5b58\u529f\u80fd\uff0c\u53ef\u4ee5\u5728\u9ad8\u9891\u67e5\u8be2\u4e2d\u663e\u8457\u63d0\u9ad8\u6027\u80fd\u3002\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u8bbe\u7f6e\u7f13\u5b58\u7b56\u7565\u3002</p> </li> <li> <p>\u5408\u7406\u7684\u5206\u9875\u7b56\u7565\uff1a\u907f\u514d\u4f7f\u7528\u6df1\u5ea6\u5206\u9875\uff08large offset\uff09\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u5bfc\u81f4\u67e5\u8be2\u6027\u80fd\u4e0b\u964d\u3002\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 <code>search_after</code> \u6216 <code>scroll</code> \u6765\u4f18\u5316\u5206\u9875\u67e5\u8be2\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#10-elasticsearch","title":"10. Elasticsearch \u6570\u636e\u5efa\u6a21","text":"<p>10.1 \u6570\u636e\u89c4\u8303\u5316 vs. \u53bb\u89c4\u8303\u5316</p> <ul> <li> <p>\u89c4\u8303\u5316\uff1a\u5c06\u6570\u636e\u62c6\u5206\u4e3a\u591a\u4e2a\u7d22\u5f15\u6216\u7c7b\u578b\uff0c\u51cf\u5c11\u5197\u4f59\u3002\u9002\u5408\u6570\u636e\u4e00\u81f4\u6027\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u4f46\u67e5\u8be2\u65f6\u9700\u8981\u4f7f\u7528 <code>join</code> \u7b49\u64cd\u4f5c\uff0c\u6027\u80fd\u8f83\u4f4e\u3002</p> </li> <li> <p>\u53bb\u89c4\u8303\u5316\uff1a\u5c06\u76f8\u5173\u6570\u636e\u5b58\u50a8\u5728\u4e00\u4e2a\u7d22\u5f15\u4e2d\uff0c\u589e\u52a0\u5197\u4f59\u4ee5\u6362\u53d6\u66f4\u9ad8\u7684\u67e5\u8be2\u6027\u80fd\u3002\u9002\u5408\u8bfb\u64cd\u4f5c\u9891\u7e41\u7684\u573a\u666f\u3002</p> </li> </ul> <p>10.2 \u5d4c\u5957\u5bf9\u8c61\u548c\u7236\u5b50\u5173\u7cfb</p> <ul> <li> <p>\u5d4c\u5957\u5bf9\u8c61\uff08Nested Objects\uff09\uff1a\u5728\u6587\u6863\u4e2d\u5d4c\u5165\u590d\u6742\u7684\u5bf9\u8c61\u7ed3\u6784\uff0c\u5141\u8bb8\u5bf9\u5d4c\u5957\u6570\u636e\u8fdb\u884c\u7cbe\u786e\u7684\u67e5\u8be2\u548c\u8fc7\u6ee4\u3002</p> </li> <li> <p>\u7236\u5b50\u5173\u7cfb\uff08Parent-Child Relationship\uff09\uff1a\u901a\u8fc7\u7236\u5b50\u5173\u7cfb\u5b9e\u73b0\u7c7b\u4f3c\u6570\u636e\u5e93\u4e2d\u7684\u5916\u952e\u5f15\u7528\uff0c\u4f46\u4e0d\u6539\u53d8\u6570\u636e\u7684\u7269\u7406\u5b58\u50a8\u7ed3\u6784\u3002\u9002\u7528\u4e8e\u9700\u8981\u8de8\u6587\u6863\u8fdb\u884c\u590d\u6742\u5173\u8054\u67e5\u8be2\u7684\u573a\u666f\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#11-elasticsearch","title":"11. Elasticsearch \u5b89\u5168\u4e0e\u6743\u9650\u7ba1\u7406","text":"<p>11.1 \u7528\u6237\u8ba4\u8bc1\u4e0e\u6743\u9650\u63a7\u5236</p> <ul> <li> <p>X-Pack \u5b89\u5168\u6027\uff1aElasticsearch \u63d0\u4f9b X-Pack \u63d2\u4ef6\uff0c\u7528\u4e8e\u5b9e\u73b0\u8eab\u4efd\u9a8c\u8bc1\u3001\u89d2\u8272\u7ba1\u7406\u548c\u6743\u9650\u63a7\u5236\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u4e0d\u540c\u7684\u89d2\u8272\u6765\u9650\u5236\u5bf9\u7d22\u5f15\u548c\u96c6\u7fa4\u64cd\u4f5c\u7684\u8bbf\u95ee\u3002</p> </li> <li> <p>\u5b89\u5168\u4f20\u8f93\uff1a\u542f\u7528 HTTPS \u548c\u52a0\u5bc6\u901a\u4fe1\uff0c\u786e\u4fdd\u6570\u636e\u5728\u7f51\u7edc\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u88ab\u622a\u83b7\u6216\u7be1\u6539\u3002</p> </li> </ul> <p>11.2 \u5ba1\u8ba1\u65e5\u5fd7</p> <ul> <li>\u5ba1\u8ba1\u65e5\u5fd7\uff1a\u8bb0\u5f55\u7528\u6237\u5728 Elasticsearch \u4e2d\u7684\u64cd\u4f5c\uff0c\u7528\u4e8e\u5ba1\u8ba1\u548c\u76d1\u63a7\u3002\u53ef\u4ee5\u5e2e\u52a9\u7ba1\u7406\u5458\u8ddf\u8e2a\u6f5c\u5728\u7684\u5b89\u5168\u95ee\u9898\u548c\u975e\u6cd5\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#12-elasticsearch","title":"12. Elasticsearch \u96c6\u7fa4\u7ba1\u7406\u4e0e\u76d1\u63a7","text":"<p>12.1 \u96c6\u7fa4\u7ba1\u7406\u5de5\u5177</p> <ul> <li> <p>Kibana\uff1a\u4e0e Elasticsearch \u65e0\u7f1d\u96c6\u6210\u7684\u7528\u6237\u754c\u9762\u5de5\u5177\uff0c\u7528\u4e8e\u6570\u636e\u53ef\u89c6\u5316\u3001\u76d1\u63a7\u548c\u7ba1\u7406\u96c6\u7fa4\u3002</p> </li> <li> <p>Elasticsearch API\uff1a\u901a\u8fc7 RESTful API \u76f4\u63a5\u7ba1\u7406\u96c6\u7fa4\u3001\u8282\u70b9\u3001\u7d22\u5f15\u548c\u6587\u6863\uff0c\u6267\u884c\u4f8b\u5982\u5206\u7247\u91cd\u5206\u914d\u3001\u7d22\u5f15\u538b\u7f29\u7b49\u64cd\u4f5c\u3002</p> </li> </ul> <p>12.2 \u76d1\u63a7\u4e0e\u544a\u8b66</p> <ul> <li> <p>Elasticsearch \u7684\u76d1\u63a7\u6307\u6807\uff1a\u76d1\u63a7\u96c6\u7fa4\u7684 CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u4f7f\u7528\u7387\u3001GC \u7edf\u8ba1\u3001\u5206\u7247\u72b6\u6001\u7b49\u3002\u53ef\u4ee5\u901a\u8fc7 Kibana \u6216\u5176\u4ed6\u76d1\u63a7\u5de5\u5177\uff08\u5982 Prometheus\u3001Grafana\uff09\u8fdb\u884c\u53ef\u89c6\u5316\u3002</p> </li> <li> <p>\u8bbe\u7f6e\u544a\u8b66\uff1a\u4f7f\u7528 Watcher \u63d2\u4ef6\u6216\u5916\u90e8\u544a\u8b66\u7cfb\u7edf\u8bbe\u7f6e\u9608\u503c\u544a\u8b66\uff0c\u5f53\u7cfb\u7edf\u8d44\u6e90\u6216\u6027\u80fd\u8fbe\u5230\u9884\u8bbe\u6761\u4ef6\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1\u901a\u77e5\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#13-elasticsearch","title":"13. Elasticsearch \u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u7684\u5e94\u7528","text":"<p>13.1 \u65e5\u5fd7\u5206\u6790\u7cfb\u7edf</p> <ul> <li> <p>\u5178\u578b\u67b6\u6784\uff1aLogstash/Beats \u6536\u96c6\u65e5\u5fd7 -&gt; Elasticsearch \u5b58\u50a8\u548c\u5206\u6790 -&gt; Kibana \u53ef\u89c6\u5316\u3002</p> </li> <li> <p>\u4f18\u5316\u5efa\u8bae\uff1a\u4f7f\u7528 ILM\uff08Index Lifecycle Management\uff09\u7b56\u7565\u7ba1\u7406\u65e5\u5fd7\u7d22\u5f15\u7684\u751f\u547d\u5468\u671f\uff0c\u81ea\u52a8\u5c06\u65e7\u6570\u636e\u5f52\u6863\u6216\u5220\u9664\u3002</p> </li> </ul> <p>13.2 \u4ea7\u54c1\u641c\u7d22\u529f\u80fd</p> <ul> <li> <p>\u4f7f\u7528\u5efa\u8bae\uff1a\u5229\u7528 Elasticsearch \u7684\u5168\u6587\u641c\u7d22\u548c\u6743\u91cd\u8c03\u8282\u529f\u80fd\uff08\u5982 <code>boost</code> \u53c2\u6570\uff09\uff0c\u5b9e\u73b0\u9ad8\u6548\u7684\u4ea7\u54c1\u641c\u7d22\u548c\u6392\u5e8f\u529f\u80fd\u3002</p> </li> <li> <p>\u4e2a\u6027\u5316\u641c\u7d22\uff1a\u901a\u8fc7\u81ea\u5b9a\u4e49\u8bc4\u5206\u673a\u5236\u548c\u7528\u6237\u884c\u4e3a\u5206\u6790\uff0c\u63d0\u4f9b\u4e2a\u6027\u5316\u641c\u7d22\u7ed3\u679c\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#14-elasticsearch","title":"14. Elasticsearch \u7684\u5e38\u89c1\u95ee\u9898\u6392\u67e5","text":"<p>14.1 \u96c6\u7fa4\u7ea2\u9ec4\u72b6\u6001</p> <ul> <li> <p>\u5e38\u89c1\u539f\u56e0\uff1a\u8282\u70b9\u4e0d\u53ef\u7528\u3001\u5206\u7247\u5206\u914d\u5931\u8d25\u3001\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u68c0\u67e5\u8282\u70b9\u72b6\u6001\uff0c\u786e\u4fdd\u6240\u6709\u5206\u7247\u5df2\u6210\u529f\u5206\u914d\u3002\u8c03\u6574\u5206\u7247\u6570\u6216\u526f\u672c\u6570\u4ee5\u6062\u590d\u6b63\u5e38\u72b6\u6001\u3002</p> </li> </ul> <p>14.2 \u5185\u5b58\u6ea2\u51fa\uff08OutOfMemoryError\uff09</p> <ul> <li> <p>\u539f\u56e0\uff1a\u6570\u636e\u91cf\u8fc7\u5927\u3001\u67e5\u8be2\u8fc7\u4e8e\u590d\u6742\u3001JVM \u5806\u5185\u5b58\u8bbe\u7f6e\u4e0d\u8db3\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u8c03\u6574 JVM \u5806\u5185\u5b58\u8bbe\u7f6e\u3001\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\u3001\u4f7f\u7528\u6279\u91cf\u5904\u7406\u548c\u5206\u9875\u7b49\u65b9\u6cd5\u3002</p> </li> </ul> <p>14.3 \u6162\u67e5\u8be2\u95ee\u9898</p> <ul> <li> <p>\u539f\u56e0\uff1a\u7d22\u5f15\u6216\u5206\u7247\u8bbe\u8ba1\u4e0d\u5f53\u3001\u672a\u547d\u4e2d\u7f13\u5b58\u3001\u786c\u4ef6\u8d44\u6e90\u74f6\u9888\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u901a\u8fc7 Profiler \u5206\u6790\u67e5\u8be2\u6027\u80fd\uff0c\u4f18\u5316\u7d22\u5f15\u7ed3\u6784\u548c\u5206\u7247\u914d\u7f6e\uff0c\u589e\u52a0\u7f13\u5b58\u547d\u4e2d\u7387\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/basic/#15","title":"15. \u5b66\u4e60\u8d44\u6e90\u548c\u793e\u533a\u652f\u6301","text":"<ul> <li> <p>Elasticsearch \u5b98\u65b9\u6587\u6863\uff1a\u6df1\u5165\u4e86\u89e3 Elasticsearch \u5404\u9879\u529f\u80fd\u7684\u6743\u5a01\u6307\u5357\u3002</p> </li> <li> <p>Elasticsearch \u5b98\u65b9\u535a\u5ba2\u548c\u8bba\u575b\uff1a\u83b7\u53d6\u6700\u65b0\u7684\u7248\u672c\u66f4\u65b0\u3001\u529f\u80fd\u4ecb\u7ecd\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> </li> <li> <p>\u5f00\u6e90\u793e\u533a\uff1a\u5728 GitHub\u3001Stack Overflow \u7b49\u5e73\u53f0\u53c2\u4e0e\u8ba8\u8bba\u548c\u8d21\u732e\uff0c\u83b7\u5f97\u66f4\u591a\u5b9e\u6218\u7ecf\u9a8c\u548c\u89e3\u51b3\u65b9\u6848\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/","title":"ElasticSearch \u9762\u8bd5\u624b\u518c","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5927\u5382\u5728\u9762\u8bd5\u4e2d\u5e38\u89c1\u7684 Elasticsearch \u76f8\u5173\u95ee\u9898\u53ca\u5176\u8be6\u89e3\u3002\u8fd9\u4e9b\u95ee\u9898\u6db5\u76d6\u4e86\u57fa\u7840\u77e5\u8bc6\u3001\u8fdb\u9636\u5e94\u7528\u4ee5\u53ca\u5b9e\u9645\u5de5\u4f5c\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u6311\u6218\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#1-elasticsearch","title":"1. Elasticsearch \u7684\u57fa\u672c\u6982\u5ff5","text":"<p>1.1 Elasticsearch \u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u56de\u7b54\uff1aElasticsearch \u662f\u4e00\u4e2a\u57fa\u4e8e Lucene \u7684\u5f00\u6e90\u641c\u7d22\u5f15\u64ce\uff0c\u63d0\u4f9b\u5206\u5e03\u5f0f\u3001\u591a\u79df\u6237\u7684\u5168\u6587\u641c\u7d22\u5f15\u64ce\uff0c\u5177\u6709 RESTful \u98ce\u683c\u7684\u63a5\u53e3\u3002\u5b83\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5b9e\u65f6\u641c\u7d22\u3001\u65e5\u5fd7\u5206\u6790\u3001\u5927\u6570\u636e\u5b58\u50a8\u7b49\u573a\u666f\u3002</li> </ul> <p>1.2 Elasticsearch \u4e0e\u4f20\u7edf\u6570\u636e\u5e93\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u56de\u7b54\uff1aElasticsearch \u662f\u4e3a\u641c\u7d22\u548c\u5206\u6790\u4f18\u5316\u7684\uff0c\u800c\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u5982 MySQL\uff09\u4e3b\u8981\u4e3a\u4e8b\u52a1\u5904\u7406\u4f18\u5316\u3002Elasticsearch \u63d0\u4f9b\u4e86\u5168\u6587\u641c\u7d22\u3001\u5206\u5e03\u5f0f\u67b6\u6784\u548c\u8fd1\u5b9e\u65f6\u6570\u636e\u5904\u7406\u80fd\u529b\uff0c\u800c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5219\u64c5\u957f\u4e8e\u4e25\u683c\u7684\u4e8b\u52a1\u7ba1\u7406\u548c\u590d\u6742\u7684\u8868\u95f4\u5173\u8054\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#2-elasticsearch","title":"2. Elasticsearch \u67b6\u6784\u4e0e\u8bbe\u8ba1","text":"<p>2.1 \u4ec0\u4e48\u662f\u7d22\u5f15(Index)\u3001\u7c7b\u578b(Type) \u548c\u6587\u6863(Document)\uff1f</p> <ul> <li>\u56de\u7b54\uff1a\u7d22\u5f15\u662f\u7c7b\u4f3c\u4e8e\u6570\u636e\u5e93\u7684\u903b\u8f91\u96c6\u5408\uff0c\u5305\u542b\u591a\u4e2a\u6587\u6863\uff1b\u7c7b\u578b\u662f\u7d22\u5f15\u7684\u903b\u8f91\u5206\u7ec4\uff086.x \u4ee5\u540e\u88ab\u5f03\u7528\uff09\uff0c\u7c7b\u4f3c\u4e8e\u8868\uff1b\u6587\u6863\u662f Elasticsearch \u4e2d\u7684\u57fa\u672c\u6570\u636e\u5355\u4f4d\uff0c\u5b58\u50a8\u4e3a JSON \u683c\u5f0f\u3002</li> </ul> <p>2.2 \u5206\u7247(Shard) \u548c\u526f\u672c(Replica) \u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u5206\u7247\uff1a\u5c06\u7d22\u5f15\u6570\u636e\u6c34\u5e73\u62c6\u5206\u6210\u591a\u4e2a\u5206\u7247\uff0c\u5141\u8bb8\u6570\u636e\u5b58\u50a8\u548c\u641c\u7d22\u5728\u591a\u8282\u70b9\u95f4\u5206\u5e03\uff0c\u63d0\u9ad8\u6027\u80fd\u548c\u6269\u5c55\u6027\u3002</li> <li>\u526f\u672c\uff1a\u5206\u7247\u7684\u590d\u5236\uff0c\u7528\u4e8e\u5bb9\u9519\u548c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u5f53\u4e00\u4e2a\u8282\u70b9\u5b95\u673a\u65f6\uff0c\u526f\u672c\u53ef\u4ee5\u63d0\u4f9b\u6570\u636e\u7684\u5197\u4f59\u526f\u672c\u3002</li> </ul> <p>2.3 \u89e3\u91ca\u4e00\u4e0b Elasticsearch \u7684\u96c6\u7fa4(Cluster)\u3001\u8282\u70b9(Node) \u548c\u5206\u7247(Shard) \u4e4b\u95f4\u7684\u5173\u7cfb\uff1f</p> <ul> <li>\u56de\u7b54\uff1a\u96c6\u7fa4\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u8282\u70b9\u7ec4\u6210\u7684\u96c6\u5408\uff0c\u7ba1\u7406\u548c\u534f\u8c03\u6240\u6709\u5206\u7247\u3002\u8282\u70b9\u662f\u96c6\u7fa4\u4e2d\u7684\u5355\u4e2a\u5b9e\u4f8b\uff0c\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\u5e76\u53c2\u4e0e\u7d22\u5f15\u548c\u641c\u7d22\u64cd\u4f5c\u3002\u6bcf\u4e2a\u7d22\u5f15\u7531\u591a\u4e2a\u5206\u7247\u7ec4\u6210\uff0c\u8fd9\u4e9b\u5206\u7247\u5206\u5e03\u5728\u96c6\u7fa4\u7684\u4e0d\u540c\u8282\u70b9\u4e0a\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#3-elasticsearch","title":"3. Elasticsearch \u67e5\u8be2\u4e0e\u7d22\u5f15","text":"<p>3.1 \u4ec0\u4e48\u662f\u5012\u6392\u7d22\u5f15\uff1f</p> <ul> <li>\u56de\u7b54\uff1a\u5012\u6392\u7d22\u5f15\u662f\u4e00\u79cd\u7528\u4e8e\u5feb\u901f\u5168\u6587\u641c\u7d22\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5c06\u6587\u6863\u4e2d\u7684\u6bcf\u4e2a\u5355\u8bcd\u6620\u5c04\u5230\u5305\u542b\u8fd9\u4e9b\u5355\u8bcd\u7684\u6587\u6863\u5217\u8868\u3002\u5b83\u5141\u8bb8\u5feb\u901f\u67e5\u627e\u5305\u542b\u7279\u5b9a\u5355\u8bcd\u7684\u6587\u6863\u96c6\u3002</li> </ul> <p>3.2 Elasticsearch \u4e2d\u7684\u8fc7\u6ee4\u5668(Filter) \u548c\u67e5\u8be2(Query) \u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u67e5\u8be2\uff1a\u8ba1\u7b97\u6587\u6863\u7684\u76f8\u5173\u6027\u5f97\u5206\uff08relevance score\uff09\uff0c\u7528\u4e8e\u5168\u6587\u641c\u7d22\u548c\u6392\u5e8f\u3002</li> <li>\u8fc7\u6ee4\u5668\uff1a\u4e0d\u8ba1\u7b97\u5f97\u5206\uff0c\u4ec5\u7528\u4e8e\u7b5b\u9009\u6570\u636e\uff0c\u6548\u7387\u66f4\u9ad8\uff0c\u4e14\u53ef\u4ee5\u7f13\u5b58\u7ed3\u679c\u3002\u9002\u5408\u7528\u4e8e\u9891\u7e41\u6267\u884c\u7684\u6761\u4ef6\u7b5b\u9009\u3002</li> </ul> <p>3.3 \u89e3\u91ca\u4e00\u4e0b\u590d\u5408\u67e5\u8be2(Compound Query)\uff1f</p> <ul> <li>\u56de\u7b54\uff1a\u590d\u5408\u67e5\u8be2\u5141\u8bb8\u4f60\u5c06\u591a\u4e2a\u67e5\u8be2\u7ec4\u5408\u5728\u4e00\u8d77\u3002\u5e38\u89c1\u7684\u590d\u5408\u67e5\u8be2\u6709 <code>bool</code> \u67e5\u8be2\uff08\u5305\u62ec <code>must</code>\u3001<code>should</code>\u3001<code>must_not</code>\u3001<code>filter</code> \u7b49\u5b50\u53e5\uff09\u3001<code>function_score</code> \u67e5\u8be2\uff08\u7528\u4e8e\u81ea\u5b9a\u4e49\u8bc4\u5206\uff09\u7b49\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#4-elasticsearch","title":"4. Elasticsearch \u6027\u80fd\u4f18\u5316","text":"<p>4.1 \u5982\u4f55\u4f18\u5316 Elasticsearch \u7684\u67e5\u8be2\u6027\u80fd\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4f7f\u7528 <code>filter</code> \u67e5\u8be2\u6765\u4ee3\u66ff <code>query</code> \u67e5\u8be2\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u76f8\u5173\u6027\u8ba1\u7b97\u3002</li> <li>\u5408\u7406\u8bbe\u8ba1\u7d22\u5f15\u7ed3\u6784\uff0c\u4f7f\u7528\u9002\u5f53\u7684\u5206\u7247\u6570\u91cf\u548c\u526f\u672c\u6570\u91cf\u3002</li> <li>\u5229\u7528\u7f13\u5b58\u673a\u5236\uff0c\u5982 <code>filter</code> \u7f13\u5b58\u548c <code>index.query.default_field</code> \u7f13\u5b58\u3002</li> <li>\u8c03\u6574 <code>refresh_interval</code> \u53c2\u6570\uff0c\u51cf\u5c11\u7d22\u5f15\u5237\u65b0\u9891\u7387\uff0c\u63d0\u5347\u6279\u91cf\u5199\u5165\u6027\u80fd\u3002</li> </ul> <p>4.2 \u5982\u4f55\u5904\u7406 Elasticsearch \u7684\u6df1\u5ea6\u5206\u9875\u95ee\u9898\uff1f</p> <ul> <li>\u56de\u7b54\uff1a\u6df1\u5ea6\u5206\u9875\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\uff0c\u56e0\u4e3a Elasticsearch \u9700\u8981\u904d\u5386\u5927\u91cf\u6570\u636e\u3002\u53ef\u4ee5\u4f7f\u7528 <code>search_after</code> \u6216 <code>scroll</code> API \u5b9e\u73b0\u66f4\u9ad8\u6548\u7684\u6df1\u5ea6\u5206\u9875\uff0c\u6216\u4f7f\u7528 <code>from</code> \u548c <code>size</code> \u8fdb\u884c\u5206\u9875\u65f6\u63a7\u5236\u8fd4\u56de\u7684\u6570\u636e\u91cf\u3002</li> </ul> <p>4.3 \u5982\u4f55\u8bbe\u8ba1\u9ad8\u6548\u7684\u7d22\u5f15\u7b56\u7565\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7c7b\u578b\uff1a\u907f\u514d\u4f7f\u7528 <code>text</code> \u7c7b\u578b\u5b58\u50a8\u975e\u5fc5\u8981\u7684\u5168\u6587\u5b57\u6bb5\uff0c\u5c3d\u91cf\u4f7f\u7528 <code>keyword</code>\u3001<code>numeric</code> \u7b49\u5177\u4f53\u7c7b\u578b\u3002</li> <li>\u5b9a\u4e49\u5408\u7406\u7684\u5206\u7247\u7b56\u7565\uff1a\u6839\u636e\u6570\u636e\u91cf\u548c\u67e5\u8be2\u9700\u6c42\uff0c\u5408\u7406\u8bbe\u7f6e\u5206\u7247\u548c\u526f\u672c\u6570\u91cf\u3002</li> <li>\u4f7f\u7528\u7d22\u5f15\u6a21\u677f\uff1a\u901a\u8fc7\u6a21\u677f\u5b9a\u4e49\u7d22\u5f15\u7684\u6620\u5c04\u548c\u8bbe\u7f6e\uff0c\u786e\u4fdd\u4e00\u81f4\u6027\u548c\u4f18\u5316\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#5-elasticsearch","title":"5. Elasticsearch \u96c6\u7fa4\u7ba1\u7406","text":"<p>5.1 Elasticsearch \u96c6\u7fa4\u7684\u8282\u70b9\u7c7b\u578b\u6709\u54ea\u4e9b\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4e3b\u8282\u70b9\uff08Master Node\uff09\uff1a\u8d1f\u8d23\u7ba1\u7406\u96c6\u7fa4\u5143\u6570\u636e\uff0c\u534f\u8c03\u8282\u70b9\u7684\u52a0\u5165\u3001\u79bb\u5f00\u3001\u5206\u7247\u5206\u914d\u7b49\u64cd\u4f5c\u3002</li> <li>\u6570\u636e\u8282\u70b9\uff08Data Node\uff09\uff1a\u5b58\u50a8\u6570\u636e\u5e76\u5904\u7406\u4e0e\u6570\u636e\u76f8\u5173\u7684 CRUD\u3001\u641c\u7d22\u548c\u805a\u5408\u64cd\u4f5c\u3002</li> <li>\u534f\u8c03\u8282\u70b9\uff08Coordinating Node\uff09\uff1a\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u53ea\u8d1f\u8d23\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u534f\u8c03\u5176\u4ed6\u8282\u70b9\u8fd4\u56de\u7684\u7ed3\u679c\u3002</li> <li>\u4e13\u7528\u4e3b\u8282\u70b9\uff08Dedicated Master Node\uff09\uff1a\u4e13\u95e8\u4f5c\u4e3a\u4e3b\u8282\u70b9\u4f7f\u7528\uff0c\u907f\u514d\u56e0\u6570\u636e\u5904\u7406\u8d1f\u8f7d\u5f71\u54cd\u96c6\u7fa4\u7ba1\u7406\u3002</li> <li>\u673a\u5668\u5b66\u4e60\u8282\u70b9\uff08ML Node\uff09\uff1a\u7528\u4e8e\u6267\u884c\u673a\u5668\u5b66\u4e60\u4efb\u52a1\uff0c\u63d0\u5347\u6027\u80fd\u3002</li> </ul> <p>5.2 \u5982\u4f55\u6392\u67e5 Elasticsearch \u96c6\u7fa4\u4e2d\u7684\u5e38\u89c1\u95ee\u9898\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u5206\u7247\u672a\u5206\u914d\uff1a\u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\u3001\u5185\u5b58\u3001\u7f51\u7edc\u7b49\u8d44\u6e90\u662f\u5426\u5145\u8db3\uff0c\u6216\u4f7f\u7528 <code>_cluster/reroute</code> \u624b\u52a8\u5206\u914d\u5206\u7247\u3002</li> <li>\u67e5\u8be2\u6162\uff1a\u68c0\u67e5\u67e5\u8be2\u8bed\u53e5\u662f\u5426\u5408\u7406\uff0c\u907f\u514d\u4f7f\u7528\u4f4e\u6548\u7684\u811a\u672c\u6216\u5d4c\u5957\u67e5\u8be2\uff0c\u4f7f\u7528\u9002\u5f53\u7684\u5206\u7247\u548c\u526f\u672c\u7b56\u7565\u3002</li> <li>\u8282\u70b9\u5b95\u673a\uff1a\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\uff0c\u68c0\u67e5\u8282\u70b9\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u786e\u4fdd JVM \u914d\u7f6e\u5408\u7406\uff0c\u5e76\u53ca\u65f6\u6062\u590d\u526f\u672c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#6","title":"6. \u9ad8\u7ea7\u95ee\u9898\u4e0e\u5b9e\u9645\u5e94\u7528","text":"<p>6.1 Elasticsearch \u5982\u4f55\u5b9e\u73b0\u6570\u636e\u7684\u8fd1\u5b9e\u65f6\u641c\u7d22\uff1f</p> <ul> <li>\u56de\u7b54\uff1aElasticsearch \u9ed8\u8ba4\u6bcf\u79d2\u5237\u65b0\u7d22\u5f15\uff08<code>refresh_interval</code> \u8bbe\u7f6e\u4e3a1s\uff09\uff0c\u5c06\u65b0\u6570\u636e\u63d0\u4ea4\u5230\u78c1\u76d8\u5e76\u4f7f\u5176\u53ef\u641c\u7d22\uff0c\u4ece\u800c\u5b9e\u73b0\u8fd1\u5b9e\u65f6\u641c\u7d22\u3002\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574 <code>refresh_interval</code> \u63d0\u9ad8\u7d22\u5f15\u7684\u5b9e\u65f6\u6027\u6216\u5199\u5165\u6027\u80fd\u3002</li> </ul> <p>6.2 \u5728\u591a\u79df\u6237\u73af\u5883\u4e2d\uff0c\u5982\u4f55\u786e\u4fdd Elasticsearch \u7684\u6570\u636e\u9694\u79bb\u548c\u5b89\u5168\u6027\uff1f</p> <ul> <li>\u56de\u7b54\uff1a\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u6570\u636e\u9694\u79bb\u548c\u5b89\u5168\u6027\uff1a</li> <li>\u4f7f\u7528\u4e0d\u540c\u7684\u7d22\u5f15\u6216\u7d22\u5f15\u524d\u7f00\u4e3a\u4e0d\u540c\u79df\u6237\u9694\u79bb\u6570\u636e\u3002</li> <li>\u914d\u7f6e\u89d2\u8272\u548c\u6743\u9650\u63a7\u5236\uff0c\u9650\u5236\u6bcf\u4e2a\u79df\u6237\u5bf9\u5176\u7d22\u5f15\u7684\u8bbf\u95ee\u3002</li> <li>\u542f\u7528 X-Pack \u7684\u5b89\u5168\u6027\u6a21\u5757\uff0c\u5b9e\u73b0\u7528\u6237\u8ba4\u8bc1\u548c\u7d22\u5f15\u7ea7\u522b\u7684\u8bbf\u95ee\u63a7\u5236\u3002</li> </ul> <p>6.3 \u5982\u4f55\u5b9e\u73b0 Elasticsearch \u7684\u8de8\u96c6\u7fa4\u641c\u7d22\uff08Cross Cluster Search, CCS\uff09\uff1f</p> <ul> <li>\u56de\u7b54\uff1a\u8de8\u96c6\u7fa4\u641c\u7d22\u5141\u8bb8\u5728\u4e00\u4e2a\u96c6\u7fa4\u4e2d\u641c\u7d22\u53e6\u4e00\u4e2a\u96c6\u7fa4\u7684\u6570\u636e\u3002\u901a\u8fc7\u5728\u96c6\u7fa4\u914d\u7f6e\u4e2d\u6dfb\u52a0\u8fdc\u7a0b\u96c6\u7fa4\u7684\u8fde\u63a5\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528 CCS \u8fdb\u884c\u8de8\u96c6\u7fa4\u641c\u7d22\u3002\u8fd9\u5728\u5206\u5e03\u5f0f\u73af\u5883\u6216\u591a\u5730\u57df\u90e8\u7f72\u4e2d\u975e\u5e38\u6709\u7528\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#7-elasticsearch","title":"7. Elasticsearch \u6570\u636e\u5efa\u6a21\u4e0e\u8bbe\u8ba1","text":"<p>7.1 \u5982\u4f55\u8bbe\u8ba1\u9ad8\u6548\u7684 Elasticsearch \u7d22\u5f15\u6620\u5c04\uff08Mapping\uff09\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u5b57\u6bb5\u7c7b\u578b\u9009\u62e9\uff1a\u6839\u636e\u6570\u636e\u6027\u8d28\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u7c7b\u578b\u3002\u4f8b\u5982\uff0c\u7cbe\u786e\u5339\u914d\u7684\u6570\u636e\u5e94\u4f7f\u7528 <code>keyword</code> \u7c7b\u578b\uff0c\u6570\u503c\u6570\u636e\u5e94\u4f7f\u7528 <code>integer</code>\u3001<code>float</code> \u7b49\u7c7b\u578b\u3002</li> <li>\u7981\u7528\u4e0d\u5fc5\u8981\u7684\u5b57\u6bb5\uff1a\u5982\u679c\u67d0\u4e9b\u5b57\u6bb5\u4e0d\u9700\u8981\u88ab\u641c\u7d22\u6216\u805a\u5408\uff0c\u53ef\u4ee5\u8bbe\u7f6e <code>\"index\": \"false\"</code>\uff0c\u4ee5\u51cf\u5c11\u7d22\u5f15\u5927\u5c0f\u548c\u63d0\u5347\u6027\u80fd\u3002</li> <li>\u5b57\u6bb5\u5408\u5e76\uff1a\u5c3d\u91cf\u51cf\u5c11\u5b57\u6bb5\u6570\u91cf\uff0c\u907f\u514d\u5927\u91cf\u5c0f\u5b57\u6bb5\u9020\u6210\u7684\u5185\u5b58\u548c\u5b58\u50a8\u5f00\u9500\u3002</li> </ul> <p>7.2 \u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u9002\u5e94\u4e0d\u65ad\u589e\u957f\u7684\u6570\u636e\u91cf\u7684\u7d22\u5f15\u7b56\u7565\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u65f6\u95f4\u5206\u533a\u7d22\u5f15\uff1a\u5bf9\u4e8e\u65e5\u5fd7\u7b49\u6309\u65f6\u95f4\u5e8f\u5217\u589e\u957f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528\u65f6\u95f4\u5206\u533a\uff08\u5982\u6bcf\u5929\u4e00\u4e2a\u7d22\u5f15\uff09\uff0c\u5b9a\u671f\u5220\u9664\u65e7\u7d22\u5f15\u4ee5\u63a7\u5236\u7d22\u5f15\u603b\u91cf\u3002</li> <li>\u52a8\u6001\u7d22\u5f15\u6a21\u677f\uff1a\u4f7f\u7528\u6a21\u677f\u81ea\u52a8\u4e3a\u65b0\u7d22\u5f15\u8bbe\u7f6e\u6620\u5c04\u548c\u5206\u7247\u914d\u7f6e\uff0c\u786e\u4fdd\u6570\u636e\u6a21\u578b\u7684\u4e00\u81f4\u6027\u548c\u6269\u5c55\u6027\u3002</li> <li>\u6eda\u52a8\u7d22\u5f15\uff1a\u91c7\u7528 <code>index rollover</code> \u529f\u80fd\uff0c\u81ea\u52a8\u521b\u5efa\u65b0\u7d22\u5f15\u5e76\u5c06\u6570\u636e\u6eda\u52a8\u5230\u65b0\u7d22\u5f15\u4e2d\uff0c\u907f\u514d\u5355\u4e00\u7d22\u5f15\u8fc7\u5927\u3002</li> </ul> <p>7.3 \u5982\u4f55\u8bbe\u8ba1\u652f\u6301\u591a\u8bed\u8a00\u641c\u7d22\u7684 Elasticsearch \u7d22\u5f15\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u591a\u5b57\u6bb5\u6a21\u5f0f\uff1a\u4e3a\u4e0d\u540c\u8bed\u8a00\u4f7f\u7528\u4e0d\u540c\u7684 <code>analyzer</code>\uff0c\u5e76\u5c06\u6bcf\u79cd\u8bed\u8a00\u7684\u6587\u672c\u5b58\u50a8\u5728\u72ec\u7acb\u7684\u5b57\u6bb5\u4e2d\u3002</li> <li>\u591a\u8bed\u8a00\u5206\u6790\u5668\uff1a\u5229\u7528 Elasticsearch \u7684 <code>language analyzers</code>\uff0c\u9488\u5bf9\u7279\u5b9a\u8bed\u8a00\u8fdb\u884c\u5206\u8bcd\u548c\u8bcd\u5f62\u8fd8\u539f\uff0c\u5982\u4f7f\u7528 <code>english</code>\u3001<code>french</code> \u7b49\u5206\u6790\u5668\u3002</li> <li>\u8054\u5408\u7d22\u5f15\u7b56\u7565\uff1a\u5c06\u591a\u8bed\u8a00\u6587\u672c\u7d22\u5f15\u5230\u540c\u4e00\u5b57\u6bb5\uff0c\u5e76\u4f7f\u7528\u591a\u5206\u6790\u5668 (<code>multi-field</code>) \u8fdb\u884c\u5206\u8bcd\u5904\u7406\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#8-elasticsearch","title":"8. Elasticsearch \u6570\u636e\u5904\u7406\u4e0e\u5206\u6790","text":"<p>8.1 \u5982\u4f55\u5728 Elasticsearch \u4e2d\u6267\u884c\u590d\u6742\u7684\u805a\u5408\u64cd\u4f5c\uff1f</p> <ul> <li>\u56de\u7b54\uff1aElasticsearch \u63d0\u4f9b\u4e86\u591a\u79cd\u805a\u5408\u529f\u80fd\uff0c\u53ef\u4ee5\u6267\u884c\u7c7b\u4f3c SQL \u7684 <code>GROUP BY</code> \u64cd\u4f5c\uff1a</li> <li>\u6876\u805a\u5408\uff08Bucket Aggregations\uff09\uff1a\u5c06\u6587\u6863\u5206\u7ec4\uff0c\u5982 <code>terms</code> \u805a\u5408\u6309\u5b57\u6bb5\u503c\u5206\u7ec4\uff0c<code>date_histogram</code> \u805a\u5408\u6309\u65e5\u671f\u533a\u95f4\u5206\u7ec4\u3002</li> <li>\u5ea6\u91cf\u805a\u5408\uff08Metric Aggregations\uff09\uff1a\u5bf9\u6876\u5185\u7684\u6587\u6863\u6267\u884c\u7edf\u8ba1\u8ba1\u7b97\uff0c\u5982 <code>avg</code>\u3001<code>sum</code>\u3001<code>max</code>\u3001<code>min</code> \u7b49\u3002</li> <li>\u7ba1\u9053\u805a\u5408\uff08Pipeline Aggregations\uff09\uff1a\u5728\u5176\u4ed6\u805a\u5408\u7684\u7ed3\u679c\u57fa\u7840\u4e0a\u8fdb\u884c\u4e8c\u6b21\u8ba1\u7b97\uff0c\u5982 <code>moving_avg</code> \u5b9e\u73b0\u79fb\u52a8\u5e73\u5747\u8ba1\u7b97\u3002</li> </ul> <p>8.2 \u5982\u4f55\u5728 Elasticsearch \u4e2d\u5904\u7406\u5b9e\u65f6\u6570\u636e\u5206\u6790\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u5b9e\u65f6\u7d22\u5f15\u5237\u65b0\uff1a\u8c03\u6574 <code>refresh_interval</code> \u53c2\u6570\uff0c\u63a7\u5236\u7d22\u5f15\u5237\u65b0\u9891\u7387\u4ee5\u9002\u5e94\u5b9e\u65f6\u6570\u636e\u5199\u5165\u9700\u6c42\u3002</li> <li>\u6eda\u52a8\u7d22\u5f15\u548c\u81ea\u52a8\u7ba1\u7406\uff1a\u4f7f\u7528 <code>index lifecycle management</code> (ILM) \u7b56\u7565\uff0c\u81ea\u52a8\u7ba1\u7406\u7d22\u5f15\u751f\u547d\u5468\u671f\uff0c\u5b9a\u671f\u8fdb\u884c\u6eda\u52a8\u548c\u6e05\u7406\u3002</li> <li>Stream Processing \u96c6\u6210\uff1a\u901a\u8fc7\u4e0e Apache Kafka \u6216 Logstash \u7b49\u5de5\u5177\u96c6\u6210\uff0c\u5b9e\u73b0\u6570\u636e\u7684\u5b9e\u65f6\u6d41\u5904\u7406\u548c\u5206\u6790\u3002</li> </ul> <p>8.3 \u5982\u4f55\u4f7f\u7528 Elasticsearch \u5b9e\u73b0\u5730\u7406\u4f4d\u7f6e\u6570\u636e\u7684\u67e5\u8be2\u4e0e\u5206\u6790\uff1f</p> <ul> <li>\u56de\u7b54\uff1aElasticsearch \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5730\u7406\u4f4d\u7f6e\u6570\u636e\u652f\u6301\uff1a</li> <li>\u5730\u7406\u5b57\u6bb5\u7c7b\u578b\uff1a\u4f7f\u7528 <code>geo_point</code> \u7c7b\u578b\u5b58\u50a8\u5730\u7406\u5750\u6807\uff0c\u652f\u6301\u57fa\u4e8e\u5730\u7406\u4f4d\u7f6e\u7684\u8ddd\u79bb\u3001\u533a\u57df\u67e5\u8be2\u3002</li> <li>\u5730\u7406\u67e5\u8be2\uff1a\u4f7f\u7528 <code>geo_distance</code> \u67e5\u8be2\u7279\u5b9a\u70b9\u5468\u56f4\u7684\u6587\u6863\uff0c\u6216\u4f7f\u7528 <code>geo_bounding_box</code> \u67e5\u8be2\u7279\u5b9a\u5730\u7406\u533a\u57df\u5185\u7684\u6587\u6863\u3002</li> <li>\u5730\u7406\u805a\u5408\uff1a\u5229\u7528 <code>geohash_grid</code> \u805a\u5408\u5b9e\u73b0\u57fa\u4e8e\u5730\u7406\u7f51\u683c\u7684\u5206\u5e03\u5206\u6790\uff0c\u6216 <code>geo_centroid</code> \u805a\u5408\u8ba1\u7b97\u5730\u7406\u4e2d\u5fc3\u70b9\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#9-elasticsearch","title":"9. Elasticsearch \u7684\u6269\u5c55\u4e0e\u4f18\u5316","text":"<p>9.1 \u5982\u4f55\u5904\u7406 Elasticsearch \u96c6\u7fa4\u6269\u5c55\u65f6\u7684\u5e38\u89c1\u95ee\u9898\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u6570\u636e\u518d\u5206\u7247\uff1a\u5f53\u96c6\u7fa4\u6269\u5c55\u65f6\uff0c\u53ef\u80fd\u9700\u8981\u8c03\u6574\u7d22\u5f15\u7684\u5206\u7247\u6570\u91cf\u3002\u53ef\u4ee5\u4f7f\u7528 <code>reindex</code> API \u6216 <code>split</code> API \u521b\u5efa\u65b0\u7684\u7d22\u5f15\uff0c\u6216\u4f7f\u7528 <code>shrink</code> API \u51cf\u5c11\u5206\u7247\u6570\u91cf\u3002</li> <li>\u8282\u70b9\u7c7b\u578b\u8c03\u6574\uff1a\u6839\u636e\u8d1f\u8f7d\u5206\u5e03\u548c\u6269\u5c55\u9700\u6c42\uff0c\u8c03\u6574\u8282\u70b9\u7684\u89d2\u8272\uff0c\u4f8b\u5982\u6dfb\u52a0\u66f4\u591a\u7684\u4e13\u7528\u6570\u636e\u8282\u70b9\u6216\u534f\u8c03\u8282\u70b9\u3002</li> <li>\u8de8\u96c6\u7fa4\u590d\u5236\uff08Cross Cluster Replication, CCR\uff09\uff1a\u7528\u4e8e\u96c6\u7fa4\u95f4\u6570\u636e\u540c\u6b65\uff0c\u7279\u522b\u662f\u8de8\u6570\u636e\u4e2d\u5fc3\u7684\u707e\u5907\u573a\u666f\u3002</li> </ul> <p>9.2 \u5982\u4f55\u4f18\u5316 Elasticsearch \u7684\u5b58\u50a8\u548c\u67e5\u8be2\u6027\u80fd\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u51cf\u5c11\u7d22\u5f15\u5927\u5c0f\uff1a\u4f7f\u7528 <code>index.codec</code> \u8bbe\u7f6e\u4e3a <code>best_compression</code>\uff0c\u542f\u7528\u538b\u7f29\u529f\u80fd\uff0c\u51cf\u5c11\u7d22\u5f15\u7684\u78c1\u76d8\u5360\u7528\u3002</li> <li>\u7f13\u5b58\u673a\u5236\uff1a\u5229\u7528 <code>query cache</code> \u548c <code>request cache</code> \u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u3002</li> <li>\u5408\u7406\u4f7f\u7528\u786c\u4ef6\u8d44\u6e90\uff1a\u4f18\u5316 JVM \u5806\u5185\u5b58\u8bbe\u7f6e\uff0c\u4f7f\u7528 SSD \u63d0\u9ad8\u78c1\u76d8 I/O \u6027\u80fd\uff0c\u786e\u4fdd\u7f51\u7edc\u5e26\u5bbd\u6ee1\u8db3\u9ad8\u5e76\u53d1\u8981\u6c42\u3002</li> </ul> <p>9.3 \u5982\u4f55\u5728 Elasticsearch \u4e2d\u8fdb\u884c\u5b89\u5168\u914d\u7f6e\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u542f\u7528 TLS/SSL\uff1a\u5728\u96c6\u7fa4\u8282\u70b9\u95f4\u548c\u5ba2\u6237\u7aef\u8bbf\u95ee\u65f6\u542f\u7528 TLS/SSL \u52a0\u5bc6\uff0c\u786e\u4fdd\u6570\u636e\u4f20\u8f93\u5b89\u5168\u3002</li> <li>\u7528\u6237\u8ba4\u8bc1\u4e0e\u89d2\u8272\u7ba1\u7406\uff1a\u4f7f\u7528 X-Pack \u7684 Security \u6a21\u5757\u6216\u5176\u4ed6\u8ba4\u8bc1\u63d2\u4ef6\uff0c\u914d\u7f6e\u7528\u6237\u6743\u9650\u548c\u89d2\u8272\uff0c\u786e\u4fdd\u6570\u636e\u8bbf\u95ee\u63a7\u5236\u3002</li> <li>\u5ba1\u8ba1\u65e5\u5fd7\uff1a\u542f\u7528\u5ba1\u8ba1\u65e5\u5fd7\u529f\u80fd\uff0c\u8ddf\u8e2a\u548c\u8bb0\u5f55\u6240\u6709\u8bbf\u95ee\u64cd\u4f5c\uff0c\u786e\u4fdd\u7b26\u5408\u5b89\u5168\u548c\u5408\u89c4\u6027\u8981\u6c42\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#10-elasticsearch","title":"10. Elasticsearch \u4e0e\u5176\u4ed6\u5de5\u5177\u7684\u96c6\u6210","text":"<p>10.1 \u5982\u4f55\u4f7f\u7528 Logstash \u5c06\u6570\u636e\u5bfc\u5165 Elasticsearch\uff1f</p> <ul> <li>\u56de\u7b54\uff1aLogstash \u662f\u4e00\u4e2a\u6570\u636e\u5904\u7406\u7ba1\u9053\u5de5\u5177\uff0c\u53ef\u4ee5\u4ece\u591a\u79cd\u6570\u636e\u6e90\u91c7\u96c6\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u6d41\u5f0f\u4f20\u8f93\u5230 Elasticsearch\uff1a</li> <li>\u914d\u7f6e\u8f93\u5165\u63d2\u4ef6\uff1a\u5b9a\u4e49\u6570\u636e\u6e90\uff08\u5982\u6587\u4ef6\u3001\u6570\u636e\u5e93\u3001Kafka\uff09\uff0c\u5e76\u914d\u7f6e\u76f8\u5e94\u7684\u8f93\u5165\u63d2\u4ef6\u3002</li> <li>\u8fc7\u6ee4\u6570\u636e\uff1a\u4f7f\u7528 Logstash \u7684 <code>filter</code> \u63d2\u4ef6\uff08\u5982 <code>grok</code>\u3001<code>mutate</code> \u7b49\uff09\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u6790\u548c\u8f6c\u6362\u3002</li> <li>\u914d\u7f6e\u8f93\u51fa\u63d2\u4ef6\uff1a\u5c06\u5904\u7406\u540e\u7684\u6570\u636e\u53d1\u9001\u5230 Elasticsearch \u7d22\u5f15\uff0c\u652f\u6301\u6279\u91cf\u5199\u5165\u548c\u81ea\u52a8\u521b\u5efa\u7d22\u5f15\u3002</li> </ul> <p>10.2 \u5982\u4f55\u4f7f\u7528 Kibana \u8fdb\u884c\u6570\u636e\u53ef\u89c6\u5316\uff1f</p> <ul> <li>\u56de\u7b54\uff1aKibana \u662f Elasticsearch \u7684\u5b98\u65b9 UI \u5de5\u5177\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6570\u636e\u53ef\u89c6\u5316\u529f\u80fd\uff1a</li> <li>\u521b\u5efa\u4eea\u8868\u76d8\uff1a\u901a\u8fc7 Kibana \u7684 <code>Dashboard</code> \u529f\u80fd\uff0c\u5c06\u591a\u4e2a\u53ef\u89c6\u5316\u56fe\u8868\u6574\u5408\u5230\u4e00\u4e2a\u4eea\u8868\u76d8\u4e2d\uff0c\u5b9e\u65f6\u76d1\u63a7\u6570\u636e\u3002</li> <li>\u6784\u5efa\u53ef\u89c6\u5316\uff1a\u4f7f\u7528 <code>Visualize</code> \u529f\u80fd\u521b\u5efa\u5404\u79cd\u56fe\u8868\uff08\u5982\u6298\u7ebf\u56fe\u3001\u67f1\u72b6\u56fe\u3001\u997c\u56fe\u3001\u5730\u7406\u56fe\u7b49\uff09\uff0c\u5e76\u5e94\u7528\u6570\u636e\u8fc7\u6ee4\u548c\u805a\u5408\u3002</li> <li>\u6570\u636e\u63a2\u7d22\uff1a\u4f7f\u7528 <code>Discover</code> \u529f\u80fd\u63a2\u7d22\u548c\u67e5\u8be2 Elasticsearch \u7d22\u5f15\u4e2d\u7684\u539f\u59cb\u6570\u636e\uff0c\u652f\u6301\u5b9e\u65f6\u641c\u7d22\u548c\u7b5b\u9009\u3002</li> </ul> <p>10.3 \u5982\u4f55\u96c6\u6210 Elasticsearch \u4e0e Hadoop\u3001Spark \u7b49\u5927\u6570\u636e\u5de5\u5177\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>Elasticsearch-Hadoop \u96c6\u6210\uff1a\u5229\u7528 <code>elasticsearch-hadoop</code> \u63d2\u4ef6\uff0c\u5c06 Elasticsearch \u4f5c\u4e3a Hadoop \u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u6e90\u6216\u76ee\u6807\uff0c\u652f\u6301 Spark\u3001Hive\u3001Pig \u7b49\u5de5\u5177\u7684\u8bfb\u5199\u64cd\u4f5c\u3002</li> <li>Spark \u4e0e Elasticsearch\uff1a\u901a\u8fc7 <code>Elasticsearch for Apache Spark</code>\uff08\u4e5f\u79f0\u4e3a <code>ES-Hadoop</code>\uff09\uff0c\u76f4\u63a5\u4ece Spark \u6267\u884c\u5206\u5e03\u5f0f\u6570\u636e\u5904\u7406\u4efb\u52a1\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165 Elasticsearch \u7d22\u5f15\u4e2d\u3002</li> <li>\u6279\u91cf\u5904\u7406\u4e0e\u5b9e\u65f6\u5206\u6790\uff1a\u5c06 Hadoop \u6216 Spark \u7684\u6279\u5904\u7406\u80fd\u529b\u4e0e Elasticsearch \u7684\u5b9e\u65f6\u641c\u7d22\u80fd\u529b\u7ed3\u5408\uff0c\u6784\u5efa\u6df7\u5408\u578b\u5927\u6570\u636e\u89e3\u51b3\u65b9\u6848\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#11-elasticsearch","title":"11. Elasticsearch \u5e38\u89c1\u95ee\u9898\u53ca\u5176\u89e3\u51b3\u65b9\u6848","text":"<p>11.1 \u5982\u4f55\u5904\u7406 Elasticsearch \u7d22\u5f15\u7684\"\u5206\u7247\u5206\u914d\u5931\u8d25\"\u95ee\u9898\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\uff1a\u786e\u4fdd\u6240\u6709\u6570\u636e\u8282\u70b9\u7684\u78c1\u76d8\u7a7a\u95f4\u5145\u8db3\u3002\u5982\u679c\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0cElasticsearch \u4f1a\u505c\u6b62\u5206\u7247\u5206\u914d\u3002</li> <li>\u5206\u914d\u5931\u8d25\u7684\u539f\u56e0\u6392\u67e5\uff1a\u4f7f\u7528 <code>_cluster/allocation/explain</code> API \u67e5\u770b\u5206\u7247\u5206\u914d\u5931\u8d25\u7684\u5177\u4f53\u539f\u56e0\uff0c\u4f8b\u5982\u5185\u5b58\u4e0d\u8db3\u3001\u96c6\u7fa4\u72b6\u6001\u4e0d\u7a33\u5b9a\u7b49\u3002</li> <li>\u624b\u52a8\u5206\u914d\u5206\u7247\uff1a\u5982\u679c\u662f\u56e0\u4e3a\u67d0\u4e9b\u8282\u70b9\u5f02\u5e38\u5bfc\u81f4\u5206\u7247\u65e0\u6cd5\u5206\u914d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>_cluster/reroute</code> API \u624b\u52a8\u5206\u914d\u5206\u7247\u5230\u6307\u5b9a\u8282\u70b9\u3002</li> </ul> <p>11.2 \u5982\u4f55\u4fee\u590d Elasticsearch \u96c6\u7fa4\u7684\u201c\u9ec4\u201d\u72b6\u6001\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u9ec4\u72b6\u6001\u539f\u56e0\uff1a\u96c6\u7fa4\u5904\u4e8e\u201c\u9ec4\u201d\u72b6\u6001\u901a\u5e38\u610f\u5473\u7740\u4e00\u4e9b\u7d22\u5f15\u7684\u526f\u672c\u5206\u7247\uff08replica shard\uff09\u672a\u80fd\u5206\u914d\uff0c\u4f46\u4e3b\u5206\u7247\uff08primary shard\uff09\u662f\u5065\u5eb7\u7684\u3002</li> <li>\u6dfb\u52a0\u66f4\u591a\u8282\u70b9\uff1a\u589e\u52a0\u6570\u636e\u8282\u70b9\u53ef\u4ee5\u5e2e\u52a9\u5206\u914d\u672a\u5206\u914d\u7684\u526f\u672c\u5206\u7247\uff0c\u6062\u590d\u96c6\u7fa4\u7684\u201c\u7eff\u201d\u72b6\u6001\u3002</li> <li>\u68c0\u67e5\u5206\u7247\u8bbe\u7f6e\uff1a\u5982\u679c\u96c6\u7fa4\u8d44\u6e90\u4e0d\u8db3\uff0c\u53ef\u4ee5\u8c03\u6574\u7d22\u5f15\u7684\u526f\u672c\u6570\u91cf\uff0c\u6216\u8005\u51cf\u5c11\u5206\u7247\u6570\u91cf\u3002</li> </ul> <p>11.3 \u5982\u4f55\u907f\u514d Elasticsearch \u7684\u201c\u96c6\u7fa4\u72b6\u6001\u4e3a\u7ea2\u201d\u7684\u60c5\u51b5\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u96c6\u7fa4\u72b6\u6001\u4e3a\u7ea2\u7684\u542b\u4e49\uff1a\u5f53\u4e00\u4e2a\u6216\u591a\u4e2a\u4e3b\u5206\u7247\u4e0d\u53ef\u7528\u65f6\uff0c\u96c6\u7fa4\u72b6\u6001\u4f1a\u53d8\u4e3a\u7ea2\u8272\uff0c\u610f\u5473\u7740\u6709\u6570\u636e\u4e22\u5931\u6216\u4e0d\u53ef\u8bbf\u95ee\u3002</li> <li>\u9632\u8303\u63aa\u65bd\uff1a\u5b9a\u671f\u76d1\u63a7\u96c6\u7fa4\u5065\u5eb7\u72b6\u6001\uff0c\u786e\u4fdd\u6240\u6709\u5206\u7247\u6b63\u786e\u5206\u914d\u3002\u542f\u7528\u5206\u7247\u81ea\u52a8\u6062\u590d\u673a\u5236\uff0c\u8bbe\u7f6e\u5408\u7406\u7684\u5feb\u7167\u7b56\u7565\uff0c\u5b9a\u671f\u5907\u4efd\u6570\u636e\u3002</li> <li>\u5feb\u901f\u4fee\u590d\uff1a\u5982\u679c\u96c6\u7fa4\u72b6\u6001\u4e3a\u7ea2\uff0c\u9996\u5148\u68c0\u67e5\u54ea\u4e9b\u5206\u7247\u672a\u5206\u914d\uff0c\u5c1d\u8bd5\u901a\u8fc7\u624b\u52a8\u5206\u914d\u6216\u91cd\u65b0\u542f\u52a8\u76f8\u5173\u8282\u70b9\u6765\u6062\u590d\u96c6\u7fa4\u72b6\u6001\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#12-elasticsearch","title":"12. Elasticsearch \u65e5\u5e38\u8fd0\u7ef4","text":"<p>12.1 \u5982\u4f55\u7ba1\u7406 Elasticsearch \u7d22\u5f15\u7684\u751f\u547d\u5468\u671f\uff08Index Lifecycle Management, ILM\uff09\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>ILM \u6982\u5ff5\uff1aILM \u5141\u8bb8\u4f60\u81ea\u52a8\u7ba1\u7406\u7d22\u5f15\u7684\u751f\u547d\u5468\u671f\uff0c\u5305\u62ec\u521b\u5efa\u3001\u6eda\u52a8\u3001\u5173\u95ed\u3001\u5220\u9664\u7b49\u64cd\u4f5c\u3002\u901a\u8fc7\u914d\u7f6e\u7b56\u7565\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u9636\u6bb5\u5bf9\u7d22\u5f15\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\u3002</li> <li>\u914d\u7f6e ILM \u7b56\u7565\uff1a\u521b\u5efa ILM \u7b56\u7565\u5b9a\u4e49\u5404\u4e2a\u9636\u6bb5\uff08\u5982\u70ed\u3001\u6e29\u3001\u51b7\u3001\u5220\u9664\uff09\u7684\u64cd\u4f5c\uff0c\u5982\u5728\u201c\u70ed\u201d\u9636\u6bb5\u9891\u7e41\u8bfb\u5199\uff0c\u5728\u201c\u51b7\u201d\u9636\u6bb5\u5c06\u7d22\u5f15\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\uff0c\u5e76\u6700\u7ec8\u5220\u9664\u65e7\u6570\u636e\u3002</li> <li>\u5e94\u7528 ILM \u7b56\u7565\uff1a\u5c06 ILM \u7b56\u7565\u5e94\u7528\u5230\u7d22\u5f15\u6a21\u677f\u6216\u5177\u4f53\u7684\u7d22\u5f15\u4e0a\uff0c\u81ea\u52a8\u7ba1\u7406\u7d22\u5f15\u7684\u751f\u547d\u5468\u671f\u3002</li> </ul> <p>12.2 \u5982\u4f55\u5728 Elasticsearch \u4e2d\u8fdb\u884c\u7d22\u5f15\u7684\u5feb\u7167\u548c\u6062\u590d\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u5feb\u7167\u673a\u5236\uff1aElasticsearch \u7684\u5feb\u7167\u529f\u80fd\u53ef\u4ee5\u5907\u4efd\u7d22\u5f15\u6216\u6574\u4e2a\u96c6\u7fa4\u6570\u636e\u5230\u5916\u90e8\u5b58\u50a8\uff08\u5982 S3\u3001HDFS\u3001\u5171\u4eab\u6587\u4ef6\u7cfb\u7edf\uff09\u3002\u5feb\u7167\u662f\u589e\u91cf\u7684\uff0c\u53ea\u4f1a\u5907\u4efd\u81ea\u4e0a\u6b21\u5feb\u7167\u4ee5\u6765\u53d8\u5316\u7684\u6570\u636e\u3002</li> <li>\u521b\u5efa\u5feb\u7167\uff1a\u4f7f\u7528 <code>_snapshot</code> API \u521b\u5efa\u5feb\u7167\u5e93\uff08repository\uff09\uff0c\u5e76\u5bf9\u7d22\u5f15\u6216\u96c6\u7fa4\u6267\u884c\u5feb\u7167\u64cd\u4f5c\u3002\u53ef\u4ee5\u624b\u52a8\u6267\u884c\u6216\u5b9a\u671f\u6267\u884c\u81ea\u52a8\u5feb\u7167\u3002</li> <li>\u6062\u590d\u6570\u636e\uff1a\u5728\u9700\u8981\u65f6\uff0c\u53ef\u4ee5\u4ece\u5feb\u7167\u6062\u590d\u7d22\u5f15\u6216\u6574\u4e2a\u96c6\u7fa4\uff0c\u786e\u4fdd\u5728\u6570\u636e\u4e22\u5931\u6216\u707e\u96be\u6062\u590d\u65f6\u80fd\u591f\u5feb\u901f\u6062\u590d\u670d\u52a1\u3002</li> </ul> <p>12.3 \u5982\u4f55\u8fdb\u884c Elasticsearch \u7684\u96c6\u7fa4\u5347\u7ea7\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u5347\u7ea7\u524d\u51c6\u5907\uff1a\u5728\u5347\u7ea7\u4e4b\u524d\uff0c\u786e\u4fdd\u96c6\u7fa4\u7684\u6240\u6709\u6570\u636e\u90fd\u5df2\u5907\u4efd\uff0c\u96c6\u7fa4\u5065\u5eb7\u72b6\u6001\u4e3a\u7eff\u8272\uff0c\u5e76\u4e14\u6240\u6709\u8282\u70b9\u7684\u7248\u672c\u517c\u5bb9\u3002</li> <li>\u6eda\u52a8\u5347\u7ea7\uff1a\u5728\u4e0d\u4e2d\u65ad\u96c6\u7fa4\u670d\u52a1\u7684\u60c5\u51b5\u4e0b\uff0c\u9010\u4e2a\u8282\u70b9\u5347\u7ea7\u3002\u5728\u5347\u7ea7\u8fc7\u7a0b\u4e2d\uff0c\u5148\u5347\u7ea7\u975e\u4e3b\u8282\u70b9\uff0c\u6700\u540e\u5347\u7ea7\u4e3b\u8282\u70b9\u3002\u6eda\u52a8\u5347\u7ea7\u9002\u5408\u5c0f\u7248\u672c\u5347\u7ea7\u3002</li> <li>\u91cd\u65b0\u542f\u52a8\u5347\u7ea7\uff1a\u9002\u7528\u4e8e\u5927\u7248\u672c\u5347\u7ea7\uff0c\u901a\u5e38\u9700\u8981\u505c\u6b62\u6574\u4e2a\u96c6\u7fa4\uff0c\u5347\u7ea7\u6240\u6709\u8282\u70b9\u540e\u518d\u91cd\u65b0\u542f\u52a8\u96c6\u7fa4\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u670d\u52a1\u4e2d\u65ad\uff0c\u9700\u63d0\u524d\u505a\u597d\u51c6\u5907\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#13-elasticsearch","title":"13. Elasticsearch \u6027\u80fd\u8c03\u4f18","text":"<p>13.1 \u5982\u4f55\u4f18\u5316 Elasticsearch \u7684 JVM \u8bbe\u7f6e\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>JVM \u5806\u5185\u5b58\u8bbe\u7f6e\uff1a\u786e\u4fdd JVM \u5806\u5185\u5b58\u8bbe\u7f6e\u5408\u7406\uff0c\u901a\u5e38\u5efa\u8bae\u4e0d\u8d85\u8fc7\u53ef\u7528\u5185\u5b58\u7684 50%\uff0c\u4e14\u6700\u5927\u4e0d\u8d85\u8fc7 32GB\u3002\u8f83\u5927\u7684\u5806\u5185\u5b58\u6709\u52a9\u4e8e\u51cf\u5c11\u5783\u573e\u56de\u6536\u9891\u7387\uff0c\u4f46\u8fc7\u5927\u53ef\u80fd\u5bfc\u81f4 GC \u6682\u505c\u65f6\u95f4\u5ef6\u957f\u3002</li> <li>\u5783\u573e\u56de\u6536\u673a\u5236\uff1aElasticsearch \u9ed8\u8ba4\u4f7f\u7528 G1 \u5783\u573e\u56de\u6536\u5668\uff0c\u9002\u7528\u4e8e\u4f4e\u5ef6\u8fdf\u9700\u6c42\u7684\u573a\u666f\u3002\u53ef\u4ee5\u901a\u8fc7\u76d1\u63a7 GC \u65e5\u5fd7\u6765\u8c03\u6574 GC \u53c2\u6570\uff0c\u4f18\u5316\u5185\u5b58\u4f7f\u7528\u3002</li> <li>\u76f4\u63a5\u5185\u5b58\u8bbe\u7f6e\uff1a\u786e\u4fdd\u6709\u8db3\u591f\u7684\u76f4\u63a5\u5185\u5b58\uff08off-heap memory\uff09\u7528\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7f13\u5b58\uff0c\u63d0\u9ad8\u6587\u4ef6 I/O \u6027\u80fd\u3002</li> </ul> <p>13.2 \u5982\u4f55\u901a\u8fc7\u8c03\u6574\u7d22\u5f15\u8bbe\u7f6e\u63d0\u5347\u5199\u5165\u6027\u80fd\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u7981\u7528\u5237\u65b0\uff08Refresh\uff09\uff1a\u5728\u8fdb\u884c\u5927\u91cf\u6570\u636e\u5bfc\u5165\u65f6\uff0c\u53ef\u4ee5\u6682\u65f6\u7981\u7528\u81ea\u52a8\u5237\u65b0\uff08\u5c06 <code>refresh_interval</code> \u8bbe\u7f6e\u4e3a <code>-1</code>\uff09\uff0c\u63d0\u9ad8\u6279\u91cf\u5199\u5165\u6027\u80fd\u3002\u5bfc\u5165\u5b8c\u6210\u540e\u518d\u624b\u52a8\u5237\u65b0\u7d22\u5f15\u3002</li> <li>\u6279\u91cf\u5904\u7406\uff1a\u4f7f\u7528\u6279\u91cf API \uff08Bulk API\uff09\u8fdb\u884c\u6279\u91cf\u5199\u5165\u64cd\u4f5c\uff0c\u51cf\u5c11\u6bcf\u6b21\u8bf7\u6c42\u7684\u5f00\u9500\uff0c\u63d0\u9ad8\u5199\u5165\u6548\u7387\u3002\u5efa\u8bae\u6bcf\u6279\u6b21\u5927\u5c0f\u5728 5MB \u5230 15MB \u4e4b\u95f4\u3002</li> <li>\u8c03\u6574\u526f\u672c\u6570\u91cf\uff1a\u5728\u6279\u91cf\u5199\u5165\u65f6\uff0c\u53ef\u4ee5\u4e34\u65f6\u5c06\u526f\u672c\u6570\u91cf\u8bbe\u7f6e\u4e3a 0\uff0c\u4ee5\u51cf\u5c11\u5199\u5165\u8fc7\u7a0b\u4e2d\u526f\u672c\u540c\u6b65\u7684\u5f00\u9500\u3002\u5199\u5165\u5b8c\u6210\u540e\u518d\u6062\u590d\u526f\u672c\u8bbe\u7f6e\u3002</li> </ul> <p>13.3 \u5982\u4f55\u4f18\u5316 Elasticsearch \u7684\u641c\u7d22\u6027\u80fd\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u7d22\u5f15\u5b57\u6bb5\u5b58\u50a8\u4f18\u5316\uff1a\u5bf9\u4e0d\u9700\u8981\u53c2\u4e0e\u641c\u7d22\u6216\u805a\u5408\u7684\u5b57\u6bb5\u7981\u7528\u7d22\u5f15\uff0c\u51cf\u5c11\u7d22\u5f15\u6570\u636e\u91cf\u3002\u540c\u65f6\uff0c\u4f18\u5316 <code>store</code> \u8bbe\u7f6e\uff0c\u53ea\u5b58\u50a8\u5fc5\u8981\u7684\u5b57\u6bb5\u3002</li> <li>\u9884\u70ed\u641c\u7d22\u8bf7\u6c42\uff1a\u901a\u8fc7 <code>search_template</code> API \u9884\u70ed\u5e38\u7528\u641c\u7d22\u8bf7\u6c42\uff0c\u51cf\u5c11\u9996\u6b21\u67e5\u8be2\u7684\u5f00\u9500\u3002\u5229\u7528 <code>query cache</code> \u63d0\u5347\u91cd\u590d\u67e5\u8be2\u7684\u6027\u80fd\u3002</li> <li>\u51cf\u5c11\u6df1\u5ea6\u5206\u9875\uff1a\u907f\u514d\u6df1\u5ea6\u5206\u9875\uff08\u5373\u5927\u91cf\u4f7f\u7528 <code>from</code> \u548c <code>size</code>\uff09\uff0c\u4f7f\u7528 <code>scroll</code> \u6216 <code>search_after</code> \u5b9e\u73b0\u9ad8\u6548\u5206\u9875\uff0c\u907f\u514d\u6df1\u5ea6\u5206\u9875\u5bfc\u81f4\u7684\u6027\u80fd\u74f6\u9888\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#14-elasticsearch","title":"14. Elasticsearch \u5b89\u5168\u4e0e\u5408\u89c4","text":"<p>14.1 \u5982\u4f55\u914d\u7f6e Elasticsearch \u7684\u7528\u6237\u8ba4\u8bc1\u4e0e\u6743\u9650\u7ba1\u7406\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u542f\u7528 X-Pack Security\uff1a\u4f7f\u7528 X-Pack Security \u6a21\u5757\uff0c\u4e3a\u96c6\u7fa4\u6dfb\u52a0\u7528\u6237\u8ba4\u8bc1\u3001\u89d2\u8272\u6743\u9650\u7ba1\u7406\u7b49\u529f\u80fd\u3002\u914d\u7f6e\u7528\u6237\u76ee\u5f55\uff08\u5982 LDAP\u3001AD\uff09\u548c\u89d2\u8272\uff0c\u7ec6\u7c92\u5ea6\u63a7\u5236\u7528\u6237\u8bbf\u95ee\u6743\u9650\u3002</li> <li>API \u8bbf\u95ee\u63a7\u5236\uff1a\u4e3a\u4e0d\u540c\u7684 API \u64cd\u4f5c\u8bbe\u7f6e\u4e0d\u540c\u7684\u6743\u9650\uff0c\u786e\u4fdd\u7528\u6237\u53ea\u80fd\u8bbf\u95ee\u548c\u64cd\u4f5c\u5176\u6743\u9650\u8303\u56f4\u5185\u7684\u6570\u636e\u3002</li> <li>\u5ba1\u8ba1\u65e5\u5fd7\uff1a\u542f\u7528\u5ba1\u8ba1\u65e5\u5fd7\u529f\u80fd\uff0c\u8bb0\u5f55\u6240\u6709\u7684\u7528\u6237\u64cd\u4f5c\u548c\u8bbf\u95ee\u4e8b\u4ef6\uff0c\u4ee5\u4fbf\u5ba1\u8ba1\u548c\u5408\u89c4\u6027\u68c0\u67e5\u3002</li> </ul> <p>14.2 \u5982\u4f55\u5b9e\u73b0 Elasticsearch \u7684\u52a0\u5bc6\u901a\u4fe1\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u914d\u7f6e TLS/SSL\uff1a\u4e3a\u8282\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u914d\u7f6e TLS/SSL\uff0c\u52a0\u5bc6\u6240\u6709\u7684\u4f20\u8f93\u6570\u636e\u3002\u8fd8\u53ef\u4ee5\u914d\u7f6e HTTPS \u8bbf\u95ee REST API\uff0c\u786e\u4fdd\u6240\u6709\u5ba2\u6237\u7aef\u5230\u96c6\u7fa4\u7684\u901a\u4fe1\u90fd\u662f\u52a0\u5bc6\u7684\u3002</li> <li>\u8bc1\u4e66\u7ba1\u7406\uff1a\u4f7f\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\u6216\u901a\u8fc7\u53d7\u4fe1\u4efb\u7684 CA \u9881\u53d1\u7684\u8bc1\u4e66\u7ba1\u7406\u8282\u70b9\u548c\u5ba2\u6237\u7aef\u7684\u8ba4\u8bc1\uff0c\u9632\u6b62\u4e2d\u95f4\u4eba\u653b\u51fb\u3002</li> <li>\u52a0\u5bc6\u9759\u6001\u6570\u636e\uff1a\u901a\u8fc7\u78c1\u76d8\u52a0\u5bc6\uff08\u5982 LUKS\uff09\u4fdd\u62a4 Elasticsearch \u8282\u70b9\u4e0a\u7684\u9759\u6001\u6570\u636e\uff0c\u9632\u6b62\u6570\u636e\u6cc4\u9732\u3002</li> </ul> <p>14.3 \u5982\u4f55\u6ee1\u8db3 Elasticsearch \u7684\u5408\u89c4\u6027\u8981\u6c42\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u6570\u636e\u4fdd\u7559\u7b56\u7565\uff1a\u914d\u7f6e ILM \u7b56\u7565\uff0c\u6ee1\u8db3\u4e0d\u540c\u6570\u636e\u7684\u4fdd\u7559\u8981\u6c42\u3002\u5bf9\u4e8e\u9700\u8981\u957f\u671f\u4fdd\u5b58\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u914d\u7f6e\u9002\u5f53\u7684\u51b7\u5b58\u50a8\u6216\u5f52\u6863\u7b56\u7565\u3002</li> <li>\u9690\u79c1\u4fdd\u62a4\uff1a\u5728 Elasticsearch \u4e2d\u5bf9\u654f\u611f\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u5b58\u50a8\u6216\u5c4f\u853d\uff0c\u4f7f\u7528 <code>tokenization</code> \u6216 <code>pseudonymization</code> \u5904\u7406\u4e2a\u4eba\u6570\u636e\uff0c\u786e\u4fdd\u7b26\u5408 GDPR \u7b49\u6cd5\u89c4\u7684\u8981\u6c42\u3002</li> <li>\u65e5\u5fd7\u5ba1\u8ba1\uff1a\u5b9a\u671f\u68c0\u67e5\u548c\u4fdd\u5b58\u5ba1\u8ba1\u65e5\u5fd7\uff0c\u786e\u4fdd\u6240\u6709\u8bbf\u95ee\u548c\u64cd\u4f5c\u90fd\u6709\u8bb0\u5f55\uff0c\u5e76\u7b26\u5408\u4f01\u4e1a\u6216\u6cd5\u5f8b\u7684\u5ba1\u8ba1\u8981\u6c42\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#15-elasticsearch","title":"15. Elasticsearch \u672a\u6765\u8d8b\u52bf\u4e0e\u53d1\u5c55","text":"<p>15.1 Elasticsearch \u5728\u5927\u6570\u636e\u751f\u6001\u4e2d\u7684\u53d1\u5c55\u65b9\u5411\u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u56de\u7b54\uff1aElasticsearch \u6b63\u9010\u6b65\u6269\u5c55\u5176\u5728\u5927\u6570\u636e\u751f\u6001\u4e2d\u7684\u89d2\u8272\uff0c\u9664\u4e86\u4f20\u7edf\u7684\u641c\u7d22\u5f15\u64ce\u529f\u80fd\uff0c\u8fd8\u5411\u5b9e\u65f6\u5206\u6790\u5e73\u53f0\u53d1\u5c55\u3002\u672a\u6765\u53ef\u80fd\u4f1a\u5728\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u5411\u8fdb\u4e00\u6b65\u589e\u5f3a\uff1a</li> <li>\u96c6\u6210\u673a\u5668\u5b66\u4e60\uff1a\u968f\u7740 Elasticsearch \u7684\u673a\u5668\u5b66\u4e60\u529f\u80fd\uff08\u5982\u5f02\u5e38\u68c0\u6d4b\u3001\u9884\u6d4b\u5206\u6790\uff09\u4e0d\u65ad\u589e\u5f3a\uff0c\u5b83\u5c06\u5728\u66f4\u591a\u573a\u666f\u4e0b\u66ff\u4ee3\u4f20\u7edf\u7684\u590d\u6742\u5206\u6790\u7cfb\u7edf\u3002</li> <li>\u5927\u89c4\u6a21\u6570\u636e\u5904\u7406\uff1a\u901a\u8fc7\u4e0e Hadoop\u3001Spark \u7b49\u5927\u6570\u636e\u5e73\u53f0\u7684\u6df1\u5ea6\u96c6\u6210\uff0cElasticsearch \u5c06\u5728\u6d77\u91cf\u6570\u636e\u7684\u5b9e\u65f6\u5904\u7406\u548c\u5206\u6790\u4e2d\u53d1\u6325\u66f4\u5927\u7684\u4f5c\u7528\u3002</li> <li>\u8de8\u4e91\u96c6\u7fa4\u7ba1\u7406\uff1a\u968f\u7740\u4e91\u8ba1\u7b97\u7684\u53d1\u5c55\uff0cElasticsearch \u5c06\u52a0\u5f3a\u5bf9\u591a\u4e91\u73af\u5883\u7684\u652f\u6301\uff0c\u63d0\u4f9b\u66f4\u7075\u6d3b\u7684\u8de8\u4e91\u96c6\u7fa4\u7ba1\u7406\u548c\u6570\u636e\u540c\u6b65\u80fd\u529b\u3002</li> </ul> <p>15.2 \u5982\u4f55\u770b\u5f85 Elasticsearch \u4e0e\u5176\u4ed6\u641c\u7d22\u5f15\u64ce\u6280\u672f\u7684\u5bf9\u6bd4\u548c\u672a\u6765\u7ade\u4e89\uff1f</p> <ul> <li>\u56de\u7b54\uff1aElasticsearch \u4e0e\u5176\u4ed6\u641c\u7d22\u5f15\u64ce\u6280\u672f\uff08\u5982 Solr\u3001Splunk \u7b49\uff09\u7684\u7ade\u4e89\u4e3b\u8981\u96c6\u4e2d\u5728\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</li> <li>\u5f00\u6e90\u793e\u533a\u4e0e\u751f\u6001\u7cfb\u7edf\uff1aElasticsearch \u62e5\u6709\u5f3a\u5927\u7684\u5f00\u6e90\u793e\u533a\u548c\u4e30\u5bcc\u7684\u751f\u6001\u7cfb\u7edf\uff0c\u672a\u6765\u5c06\u7ee7\u7eed\u901a\u8fc7\u793e\u533a\u8d21\u732e\u548c\u5546\u4e1a\u652f\u6301\u4fdd\u6301\u5176\u7ade\u4e89\u4f18\u52bf\u3002</li> <li>\u6613\u7528\u6027\u4e0e\u53ef\u6269\u5c55\u6027\uff1aElasticsearch \u5728\u6613\u7528\u6027\u548c\u53ef\u6269\u5c55\u6027\u4e0a\u8868\u73b0\u51fa\u8272\uff0c\u672a\u6765\u5c06\u8fdb\u4e00\u6b65\u4f18\u5316\u96c6\u7fa4\u7ba1\u7406\u548c\u6570\u636e\u5904\u7406\u80fd\u529b\uff0c\u4f7f\u5176\u66f4\u9002\u5408\u5404\u79cd\u89c4\u6a21\u7684\u4f01\u4e1a\u4f7f\u7528\u3002</li> <li>\u529f\u80fd\u5dee\u5f02\u5316\uff1a\u968f\u7740 Elasticsearch \u4e0d\u65ad\u6269\u5c55\u5176\u529f\u80fd\uff08\u5982\u673a\u5668\u5b66\u4e60\u3001\u6570\u636e\u6d41\u5904\u7406\uff09\uff0c\u5b83\u5c06\u4e0e\u5176\u4ed6\u641c\u7d22\u5f15\u64ce\u5f62\u6210\u66f4\u660e\u663e\u7684\u529f\u80fd\u5dee\u5f02\u5316\uff0c\u6ee1\u8db3\u4e0d\u540c\u7528\u6237\u7684\u9700\u6c42\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#16-elasticsearch","title":"16. Elasticsearch \u6570\u636e\u5efa\u6a21\u4e0e\u7d22\u5f15\u7ba1\u7406","text":"<p>16.1 \u5982\u4f55\u8bbe\u8ba1\u9002\u5408 Elasticsearch \u7684\u6570\u636e\u5efa\u6a21\u65b9\u6848\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u6241\u5e73\u5316\u6570\u636e\u7ed3\u6784\uff1aElasticsearch \u66f4\u9002\u5408\u6241\u5e73\u5316\u7684\u6570\u636e\u7ed3\u6784\uff0c\u907f\u514d\u6df1\u5c42\u5d4c\u5957\u4ee5\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002\u5bf9\u4e8e\u5d4c\u5957\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>nested</code> \u7c7b\u578b\u5b57\u6bb5\u3002</li> <li>\u5408\u7406\u9009\u62e9\u6570\u636e\u7c7b\u578b\uff1a\u4e3a\u5b57\u6bb5\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7c7b\u578b\uff08\u5982 <code>keyword</code>\u3001<code>text</code>\u3001<code>date</code>\u3001<code>geo_point</code> \u7b49\uff09\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\u5f00\u9500\u3002</li> <li>\u4f18\u5316\u7d22\u5f15\u7ed3\u6784\uff1a\u4f7f\u7528\u5408\u9002\u7684\u5206\u7247\u548c\u526f\u672c\u8bbe\u7f6e\uff0c\u6839\u636e\u6570\u636e\u89c4\u6a21\u548c\u8bbf\u95ee\u6a21\u5f0f\u6765\u786e\u5b9a\u5206\u7247\u6570\u91cf\uff0c\u907f\u514d\u8fc7\u5ea6\u5206\u7247\u6216\u5206\u7247\u4e0d\u8db3\u3002</li> </ul> <p>16.2 \u5982\u4f55\u5904\u7406 Elasticsearch \u4e2d\u7684\u5927\u89c4\u6a21\u6570\u636e\u5bfc\u5165\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4f7f\u7528\u6279\u91cf\u5bfc\u5165 API\uff1a\u4f7f\u7528 <code>Bulk API</code> \u5206\u6279\u6b21\u5bfc\u5165\u6570\u636e\uff0c\u51cf\u5c11\u5355\u6b21\u8bf7\u6c42\u7684\u8d1f\u8f7d\u3002\u6bcf\u4e2a\u6279\u6b21\u6570\u636e\u91cf\u5efa\u8bae\u63a7\u5236\u5728 5MB \u81f3 15MB \u4e4b\u95f4\u3002</li> <li>\u7981\u7528\u5237\u65b0\u548c\u526f\u672c\uff1a\u5728\u5bfc\u5165\u6570\u636e\u671f\u95f4\uff0c\u4e34\u65f6\u7981\u7528\u7d22\u5f15\u7684\u81ea\u52a8\u5237\u65b0\uff08<code>refresh_interval: -1</code>\uff09\u548c\u526f\u672c\uff08\u5c06\u526f\u672c\u6570\u91cf\u8bbe\u7f6e\u4e3a 0\uff09\uff0c\u5bfc\u5165\u5b8c\u6210\u540e\u518d\u6062\u590d\u9ed8\u8ba4\u8bbe\u7f6e\u3002</li> <li>\u5206\u6279\u6b21\u5bfc\u5165\uff1a\u5c06\u5927\u6570\u636e\u96c6\u5206\u4e3a\u591a\u4e2a\u6279\u6b21\uff0c\u9010\u6b65\u5bfc\u5165\uff0c\u907f\u514d\u4e00\u6b21\u6027\u5bfc\u5165\u5bfc\u81f4\u7684\u5185\u5b58\u548c CPU \u8fc7\u8f7d\u3002</li> </ul> <p>16.3 \u5982\u4f55\u5728 Elasticsearch \u4e2d\u5904\u7406\u591a\u79df\u6237\u573a\u666f\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u7d22\u5f15\u522b\u540d\u4e0e\u8def\u7531\uff1a\u4f7f\u7528\u7d22\u5f15\u522b\u540d\uff08index alias\uff09\u548c\u8def\u7531\uff08routing\uff09\u6765\u9694\u79bb\u4e0d\u540c\u79df\u6237\u7684\u6570\u636e\uff0c\u786e\u4fdd\u6570\u636e\u9694\u79bb\u6027\u548c\u67e5\u8be2\u6027\u80fd\u3002</li> <li>\u72ec\u7acb\u7d22\u5f15\uff1a\u4e3a\u6bcf\u4e2a\u79df\u6237\u521b\u5efa\u72ec\u7acb\u7684\u7d22\u5f15\uff0c\u9002\u7528\u4e8e\u6570\u636e\u91cf\u8f83\u5927\u6216\u8bbf\u95ee\u6a21\u5f0f\u6709\u660e\u663e\u5dee\u5f02\u7684\u573a\u666f\uff0c\u4f46\u4f1a\u589e\u52a0\u7d22\u5f15\u7ba1\u7406\u7684\u590d\u6742\u5ea6\u3002</li> <li>\u5171\u4eab\u7d22\u5f15\u4e0e\u8fc7\u6ee4\u5668\uff1a\u5bf9\u4e8e\u6570\u636e\u91cf\u5c0f\u7684\u79df\u6237\uff0c\u53ef\u4ee5\u5c06\u591a\u4e2a\u79df\u6237\u7684\u6570\u636e\u5b58\u50a8\u5728\u540c\u4e00\u4e2a\u7d22\u5f15\u4e2d\uff0c\u5e76\u901a\u8fc7\u8fc7\u6ee4\u5668\u786e\u4fdd\u6bcf\u4e2a\u79df\u6237\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#17-elasticsearch","title":"17. Elasticsearch \u96c6\u7fa4\u7ba1\u7406\u4e0e\u76d1\u63a7","text":"<p>17.1 \u5982\u4f55\u76d1\u63a7 Elasticsearch \u96c6\u7fa4\u7684\u5065\u5eb7\u72b6\u6001\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4f7f\u7528 Kibana \u7684 Monitoring \u63d2\u4ef6\uff1aKibana \u63d0\u4f9b\u4e86 <code>Monitoring</code> \u63d2\u4ef6\uff0c\u5b9e\u65f6\u76d1\u63a7\u96c6\u7fa4\u3001\u8282\u70b9\u3001\u7d22\u5f15\u7684\u5065\u5eb7\u72b6\u6001\u3001\u6027\u80fd\u6307\u6807\u7b49\u3002</li> <li>\u8bbe\u7f6e\u544a\u8b66\uff1a\u901a\u8fc7 Watcher \u63d2\u4ef6\u6216\u5916\u90e8\u5de5\u5177\uff08\u5982 Prometheus\u3001Grafana\uff09\uff0c\u8bbe\u7f6e\u96c6\u7fa4\u5065\u5eb7\u3001\u8282\u70b9\u72b6\u6001\u3001\u7d22\u5f15\u6027\u80fd\u7b49\u544a\u8b66\uff0c\u53ca\u65f6\u53d1\u73b0\u548c\u5904\u7406\u95ee\u9898\u3002</li> <li>\u5b9a\u671f\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff1a\u4f7f\u7528 <code>_cluster/health</code> \u548c <code>_cat/nodes</code> API \u5b9a\u671f\u68c0\u67e5\u96c6\u7fa4\u72b6\u6001\uff0c\u786e\u4fdd\u6240\u6709\u5206\u7247\u6b63\u5e38\u5206\u914d\uff0c\u8282\u70b9\u8d44\u6e90\u4f7f\u7528\u5408\u7406\u3002</li> </ul> <p>17.2 \u5982\u4f55\u5728 Elasticsearch \u96c6\u7fa4\u4e2d\u5904\u7406\u6545\u969c\u8282\u70b9\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u6545\u969c\u8282\u70b9\u6392\u67e5\uff1a\u9996\u5148\u68c0\u67e5\u6545\u969c\u8282\u70b9\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u627e\u51fa\u53ef\u80fd\u7684\u539f\u56e0\uff08\u5982\u5185\u5b58\u4e0d\u8db3\u3001\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u3001\u7f51\u7edc\u95ee\u9898\u7b49\uff09\u3002</li> <li>\u624b\u52a8\u5206\u7247\u91cd\u65b0\u5206\u914d\uff1a\u5982\u679c\u8282\u70b9\u6545\u969c\u5bfc\u81f4\u5206\u7247\u672a\u80fd\u5206\u914d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>_cluster/reroute</code> API \u624b\u52a8\u5206\u914d\u5206\u7247\u5230\u5176\u4ed6\u5065\u5eb7\u8282\u70b9\u3002</li> <li>\u8282\u70b9\u91cd\u542f\u4e0e\u6062\u590d\uff1a\u4fee\u590d\u8282\u70b9\u6545\u969c\u540e\uff0c\u91cd\u65b0\u542f\u52a8\u8282\u70b9\uff0c\u89c2\u5bdf\u5176\u662f\u5426\u80fd\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4\u3002\u5982\u679c\u65e0\u6cd5\u6062\u590d\uff0c\u8003\u8651\u4f7f\u7528 <code>shard allocation</code> \u8bbe\u7f6e\u5c06\u5206\u7247\u5206\u914d\u5230\u5176\u4ed6\u8282\u70b9\u3002</li> </ul> <p>17.3 \u5982\u4f55\u7ba1\u7406 Elasticsearch \u7684\u7d22\u5f15\u751f\u547d\u5468\u671f\uff08ILM\uff09\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u914d\u7f6e ILM \u7b56\u7565\uff1a\u5b9a\u4e49\u7d22\u5f15\u7684\u751f\u547d\u5468\u671f\u7b56\u7565\uff08\u5982\u70ed\u3001\u6e29\u3001\u51b7\u3001\u5220\u9664\u9636\u6bb5\uff09\uff0c\u5e76\u5e94\u7528\u5230\u7d22\u5f15\u6a21\u677f\u4e2d\uff0c\u81ea\u52a8\u7ba1\u7406\u7d22\u5f15\u7684\u521b\u5efa\u3001\u6eda\u52a8\u3001\u5173\u95ed\u548c\u5220\u9664\u3002</li> <li>\u76d1\u63a7 ILM \u72b6\u6001\uff1a\u4f7f\u7528 Kibana \u7684 ILM \u7ba1\u7406\u754c\u9762\u6216 <code>_ilm/explain</code> API \u67e5\u770b\u7d22\u5f15\u7684 ILM \u72b6\u6001\uff0c\u786e\u4fdd\u7d22\u5f15\u6309\u9884\u671f\u7b56\u7565\u8fdb\u884c\u7ba1\u7406\u3002</li> <li>\u8c03\u6574 ILM \u7b56\u7565\uff1a\u6839\u636e\u6570\u636e\u589e\u957f\u60c5\u51b5\u548c\u4e1a\u52a1\u9700\u6c42\uff0c\u5b9a\u671f\u8c03\u6574 ILM \u7b56\u7565\uff08\u5982\u7f29\u77ed\u6216\u5ef6\u957f\u67d0\u9636\u6bb5\u7684\u65f6\u95f4\uff09\uff0c\u4ee5\u4f18\u5316\u5b58\u50a8\u548c\u8bbf\u95ee\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#18-elasticsearch","title":"18. Elasticsearch \u7d22\u5f15\u4e0e\u641c\u7d22\u4f18\u5316","text":"<p>18.1 \u5982\u4f55\u63d0\u9ad8 Elasticsearch \u7684\u641c\u7d22\u6027\u80fd\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4f7f\u7528\u9002\u5f53\u7684\u5206\u7247\u6570\u91cf\uff1a\u5206\u7247\u8fc7\u591a\u4f1a\u589e\u52a0\u96c6\u7fa4\u7ba1\u7406\u5f00\u9500\uff0c\u5206\u7247\u8fc7\u5c11\u4f1a\u5f71\u54cd\u5e76\u884c\u67e5\u8be2\u6027\u80fd\u3002\u6839\u636e\u6570\u636e\u89c4\u6a21\u548c\u8282\u70b9\u6570\u91cf\uff0c\u5408\u7406\u8bbe\u7f6e\u5206\u7247\u6570\u91cf\u3002</li> <li>\u9884\u70ed\u67e5\u8be2\uff1a\u5bf9\u4e8e\u9891\u7e41\u6267\u884c\u7684\u590d\u6742\u67e5\u8be2\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>search template</code> \u9884\u70ed\u67e5\u8be2\uff0c\u63d0\u9ad8\u9996\u6b21\u67e5\u8be2\u7684\u54cd\u5e94\u901f\u5ea6\u3002</li> <li>\u51cf\u5c11\u6df1\u5ea6\u5206\u9875\uff1a\u907f\u514d\u4f7f\u7528\u5927\u91cf\u7684 <code>from</code> \u548c <code>size</code> \u53c2\u6570\u8fdb\u884c\u6df1\u5ea6\u5206\u9875\u67e5\u8be2\uff0c\u6539\u7528 <code>scroll</code> \u6216 <code>search_after</code> \u65b9\u5f0f\u8fdb\u884c\u9ad8\u6548\u5206\u9875\u3002</li> </ul> <p>18.2 \u5982\u4f55\u4f18\u5316 Elasticsearch \u7684\u7d22\u5f15\u901f\u5ea6\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u6279\u91cf\u7d22\u5f15\uff1a\u901a\u8fc7 <code>Bulk API</code> \u6279\u91cf\u5199\u5165\u6570\u636e\uff0c\u51cf\u5c11\u5355\u6b21\u5199\u64cd\u4f5c\u7684\u5f00\u9500\uff0c\u63d0\u9ad8\u7d22\u5f15\u901f\u5ea6\u3002</li> <li>\u8c03\u6574\u5237\u65b0\u95f4\u9694\uff1a\u4e34\u65f6\u8bbe\u7f6e <code>refresh_interval</code> \u4e3a <code>-1</code> \u7981\u7528\u81ea\u52a8\u5237\u65b0\uff0c\u6279\u91cf\u5bfc\u5165\u6570\u636e\u540e\u518d\u624b\u52a8\u5237\u65b0\u7d22\u5f15\u3002</li> <li>\u63a7\u5236\u526f\u672c\u6570\u91cf\uff1a\u5728\u6279\u91cf\u5bfc\u5165\u671f\u95f4\u5c06\u526f\u672c\u6570\u91cf\u8bbe\u7f6e\u4e3a 0\uff0c\u51cf\u5c11\u526f\u672c\u540c\u6b65\u5f00\u9500\uff0c\u5bfc\u5165\u5b8c\u6210\u540e\u6062\u590d\u9ed8\u8ba4\u526f\u672c\u6570\u91cf\u3002</li> </ul> <p>18.3 \u5982\u4f55\u4f7f\u7528 Elasticsearch \u7684\u5206\u8bcd\u5668\u63d0\u9ad8\u641c\u7d22\u51c6\u786e\u6027\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u9009\u62e9\u5408\u9002\u7684\u5206\u8bcd\u5668\uff1a\u6839\u636e\u8bed\u8a00\u548c\u6570\u636e\u7279\u70b9\u9009\u62e9\u9002\u5f53\u7684\u5206\u8bcd\u5668\uff08\u5982 <code>standard</code>\u3001<code>whitespace</code>\u3001<code>ngram</code>\u3001<code>edge_ngram</code> \u7b49\uff09\uff0c\u63d0\u9ad8\u641c\u7d22\u7ed3\u679c\u7684\u76f8\u5173\u6027\u3002</li> <li>\u81ea\u5b9a\u4e49\u5206\u8bcd\u5668\uff1a\u901a\u8fc7\u81ea\u5b9a\u4e49\u5206\u6790\u5668\u914d\u7f6e\uff0c\u5982\u505c\u7528\u8bcd\u3001\u540c\u4e49\u8bcd\u8fc7\u6ee4\u5668\uff0c\u4f18\u5316\u5206\u8bcd\u6548\u679c\uff0c\u63d0\u5347\u641c\u7d22\u51c6\u786e\u6027\u3002</li> <li>\u591a\u5b57\u6bb5\u641c\u7d22\uff1a\u5bf9\u4e8e\u9700\u8981\u652f\u6301\u4e0d\u540c\u5206\u8bcd\u65b9\u5f0f\u7684\u5b57\u6bb5\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>multi-field</code> \u5c06\u4e00\u4e2a\u5b57\u6bb5\u7d22\u5f15\u4e3a\u591a\u4e2a\u4e0d\u540c\u7684\u5b57\u6bb5\uff0c\u5e76\u5206\u522b\u914d\u7f6e\u4e0d\u540c\u7684\u5206\u8bcd\u5668\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#19-elasticsearch","title":"19. Elasticsearch \u4e0e\u5927\u6570\u636e\u751f\u6001\u7cfb\u7edf\u96c6\u6210","text":"<p>19.1 \u5982\u4f55\u5c06 Elasticsearch \u4e0e Kafka \u96c6\u6210\u8fdb\u884c\u5b9e\u65f6\u6570\u636e\u5904\u7406\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4f7f\u7528 Logstash\uff1a\u901a\u8fc7 Logstash \u7684 <code>kafka</code> \u8f93\u5165\u63d2\u4ef6\uff0c\u4ece Kafka \u8bfb\u53d6\u5b9e\u65f6\u6570\u636e\uff0c\u5e76\u901a\u8fc7 <code>elasticsearch</code> \u8f93\u51fa\u63d2\u4ef6\u5c06\u6570\u636e\u5199\u5165 Elasticsearch\u3002</li> <li>\u4f7f\u7528 Kafka Connect\uff1aKafka Connect \u63d0\u4f9b\u4e86 <code>Elasticsearch Sink Connector</code>\uff0c\u76f4\u63a5\u5c06 Kafka \u4e3b\u9898\u4e2d\u7684\u6570\u636e\u540c\u6b65\u5230 Elasticsearch \u7d22\u5f15\u3002</li> <li>\u5b9e\u65f6\u6570\u636e\u6d41\u5904\u7406\uff1a\u7ed3\u5408 Kafka Streams \u6216 Apache Flink \u7b49\u6d41\u5904\u7406\u6846\u67b6\uff0c\u5bf9 Kafka \u4e2d\u7684\u6570\u636e\u8fdb\u884c\u5b9e\u65f6\u5904\u7406\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165 Elasticsearch\u3002</li> </ul> <p>19.2 \u5982\u4f55\u901a\u8fc7 Hadoop \u5c06\u5927\u6570\u636e\u6279\u91cf\u5bfc\u5165 Elasticsearch\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4f7f\u7528 Elasticsearch-Hadoop \u63d2\u4ef6\uff1a\u901a\u8fc7 <code>elasticsearch-hadoop</code> \u63d2\u4ef6\uff0c\u76f4\u63a5\u4ece Hadoop \u96c6\u7fa4\u4e2d\u7684 HDFS \u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u6279\u91cf\u5bfc\u5165\u5230 Elasticsearch \u7d22\u5f15\u4e2d\u3002</li> <li>Spark \u4e0e Elasticsearch \u96c6\u6210\uff1a\u4f7f\u7528 <code>ES-Hadoop</code> \u5728 Spark \u4e2d\u8bfb\u53d6 HDFS \u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u5e76\u5c06\u5904\u7406\u7ed3\u679c\u5199\u5165 Elasticsearch\uff0c\u652f\u6301\u5927\u89c4\u6a21\u6570\u636e\u7684\u6279\u5904\u7406\u548c\u5206\u6790\u3002</li> <li>Hive \u4e0e Elasticsearch\uff1a\u901a\u8fc7 Hive \u5916\u90e8\u8868\uff0c\u5c06 Hive \u67e5\u8be2\u7ed3\u679c\u5199\u5165 Elasticsearch\uff0c\u5b9e\u73b0\u5927\u6570\u636e\u7684\u6279\u91cf\u5bfc\u5165\u548c\u7ed3\u6784\u5316\u6570\u636e\u7684\u7d22\u5f15\u3002</li> </ul> <p>19.3 \u5982\u4f55\u7ed3\u5408 Elasticsearch \u4e0e Spark \u8fdb\u884c\u5b9e\u65f6\u5206\u6790\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>Spark Streaming \u96c6\u6210\uff1a\u4f7f\u7528 Spark Streaming \u5904\u7406\u5b9e\u65f6\u6570\u636e\u6d41\uff0c\u5e76\u5c06\u5206\u6790\u7ed3\u679c\u5b9e\u65f6\u5199\u5165 Elasticsearch\uff0c\u6784\u5efa\u5b9e\u65f6\u5206\u6790\u5e73\u53f0\u3002</li> <li>Elasticsearch \u7d22\u5f15\u4e0e\u641c\u7d22\uff1a\u5229\u7528 Elasticsearch \u7684\u5f3a\u5927\u641c\u7d22\u548c\u5206\u6790\u529f\u80fd\uff0c\u5bf9 Spark \u5904\u7406\u7684\u6570\u636e\u8fdb\u884c\u7d22\u5f15\uff0c\u652f\u6301\u5b9e\u65f6\u67e5\u8be2\u548c\u53ef\u89c6\u5316\u3002</li> <li>\u6027\u80fd\u4f18\u5316\uff1a\u901a\u8fc7\u4f18\u5316 Spark \u7684\u4efb\u52a1\u8c03\u5ea6\u548c Elasticsearch \u7684\u7d22\u5f15\u7ed3\u6784\uff0c\u786e\u4fdd\u5b9e\u65f6\u5206\u6790\u7cfb\u7edf\u7684\u9ad8\u6027\u80fd\u548c\u4f4e\u5ef6\u8fdf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#20-elasticsearch","title":"20. Elasticsearch \u7684\u65b0\u7279\u6027\u4e0e\u672a\u6765\u53d1\u5c55","text":"<p>20.1 Elasticsearch 7.x \u7cfb\u5217\u7684\u65b0\u7279\u6027\u6709\u54ea\u4e9b\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u66f4\u5feb\u7684\u7d22\u5f15\u548c\u641c\u7d22\u6027\u80fd\uff1aElasticsearch 7.x \u5bf9 Lucene \u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u63d0\u9ad8\u4e86\u7d22\u5f15\u548c\u641c\u7d22\u7684\u901f\u5ea6\uff0c\u51cf\u5c11\u4e86\u5ef6\u8fdf\u3002</li> <li>\u81ea\u52a8\u5206\u7247\u7ba1\u7406\uff1a7.x \u5f15\u5165\u4e86\u81ea\u52a8\u5206\u7247\u7ba1\u7406\u529f\u80fd\uff0c\u7b80\u5316\u4e86\u5206\u7247\u6570\u91cf\u7684\u914d\u7f6e\uff0c\u81ea\u52a8\u6839\u636e\u6570\u636e\u89c4\u6a21\u8c03\u6574\u5206\u7247\u6570\u3002</li> <li>\u8de8\u96c6\u7fa4\u590d\u5236\uff08CCR\uff09\uff1a\u652f\u6301\u8de8\u96c6\u7fa4\u590d\u5236\uff0c\u5141\u8bb8\u5728\u4e0d\u540c\u7684 Elasticsearch \u96c6\u7fa4\u4e4b\u95f4\u5b9e\u73b0\u6570\u636e\u7684\u5b9e\u65f6\u590d\u5236\uff0c\u589e\u5f3a\u707e\u96be\u6062\u590d\u80fd\u529b\u3002</li> </ul> <p>20.2 \u5982\u4f55\u5229\u7528 Elasticsearch 7.x \u7684\u65b0\u7279\u6027\u63d0\u5347\u5e94\u7528\u6027\u80fd\uff1f</p> <ul> <li>\u56de\u7b54\uff1a</li> <li>\u4f7f\u7528\u81ea\u52a8\u5206\u7247\u7ba1\u7406\uff1a\u7b80\u5316\u7d22\u5f15\u914d\u7f6e\uff0c\u901a\u8fc7\u81ea\u52a8\u5206\u7247\u7ba1\u7406\uff0c\u6839\u636e\u6570\u636e\u589e\u957f\u81ea\u52a8\u8c03\u6574\u5206\u7247\u6570\u91cf\uff0c\u63d0\u5347\u96c6\u7fa4\u7ba1\u7406\u6548\u7387\u3002</li> <li>\u8de8\u96c6\u7fa4\u590d\u5236\uff1a\u914d\u7f6e\u8de8\u96c6\u7fa4\u590d\u5236\uff0c\u589e\u5f3a\u6570\u636e\u7684\u9ad8\u53ef\u7528\u6027\u548c\u707e\u96be\u6062\u590d\u80fd\u529b\uff0c\u7279\u522b\u9002\u7528\u4e8e\u591a\u6570\u636e\u4e2d\u5fc3\u7684\u4f01\u4e1a\u5e94\u7528\u3002</li> <li>\u4f18\u5316\u67e5\u8be2\u6027\u80fd\uff1a\u5229\u7528 7.x \u63d0\u4f9b\u7684\u589e\u5f3a\u578b\u67e5\u8be2\u5f15\u64ce\u548c\u4f18\u5316\u7684\u67e5\u8be2\u8def\u5f84\uff0c\u51cf\u5c11\u590d\u6742\u67e5\u8be2\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/interview/#_1","title":"\u8865\u5145\u9898\u76ee","text":"<p>ElasticSearch\u8865\u5145\u9898\u76ee</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/","title":"ElasticSearch \u5de5\u4f5c\u4e2d\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u5728\u5de5\u4f5c\u4e2d\uff0c\u4f7f\u7528 Elasticsearch \u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u95ee\u9898\u53ca\u5176\u89e3\u51b3\u65b9\u6848\u7684\u8be6\u89e3\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#1","title":"1. \u96c6\u7fa4\u5065\u5eb7\u72b6\u6001\u4e0d\u4f73","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a Elasticsearch \u96c6\u7fa4\u5904\u4e8e\u9ec4\uff08yellow\uff09\u6216\u7ea2\uff08red\uff09\u72b6\u6001\uff0c\u53ef\u80fd\u5bfc\u81f4\u90e8\u5206\u6216\u5168\u90e8\u6570\u636e\u4e0d\u53ef\u7528\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u9ec4\u72b6\u6001\uff08yellow\uff09\uff1a\u901a\u5e38\u610f\u5473\u7740\u526f\u672c\u5206\u7247\uff08replica shard\uff09\u672a\u80fd\u5206\u914d\u3002   - \u68c0\u67e5\u96c6\u7fa4\u4e2d\u662f\u5426\u6709\u8db3\u591f\u7684\u8282\u70b9\u6765\u5206\u914d\u526f\u672c\u5206\u7247\u3002   - \u589e\u52a0\u8282\u70b9\u6570\u91cf\uff0c\u6216\u8005\u51cf\u5c11\u7d22\u5f15\u7684\u526f\u672c\u6570\u3002   - \u5982\u679c\u4e0d\u9700\u8981\u9ad8\u53ef\u7528\u6027\uff0c\u53ef\u4ee5\u6682\u65f6\u5ffd\u7565\u9ec4\u72b6\u6001\u3002</p> <ul> <li>\u7ea2\u72b6\u6001\uff08red\uff09\uff1a\u8868\u793a\u4e3b\u5206\u7247\uff08primary shard\uff09\u672a\u80fd\u5206\u914d\uff0c\u6570\u636e\u53ef\u80fd\u4e22\u5931\u6216\u4e0d\u53ef\u7528\u3002</li> <li>\u68c0\u67e5\u8282\u70b9\u662f\u5426\u56e0\u786c\u4ef6\u6545\u969c\u6216\u5176\u4ed6\u95ee\u9898\u4e0b\u7ebf\uff0c\u5c1d\u8bd5\u4fee\u590d\u5e76\u91cd\u65b0\u542f\u52a8\u8282\u70b9\u3002</li> <li>\u4f7f\u7528 <code>_cluster/reroute</code> API \u624b\u52a8\u91cd\u65b0\u5206\u914d\u672a\u5206\u914d\u7684\u5206\u7247\u3002</li> <li>\u68c0\u67e5\u662f\u5426\u6709\u914d\u7f6e\u9519\u8bef\uff08\u5982\u4e0d\u6b63\u786e\u7684\u5206\u7247\u6570\u91cf\u8bbe\u7f6e\uff09\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#2-gc","title":"2. \u8282\u70b9\u5185\u5b58\u6ea2\u51fa\u6216 GC\uff08\u5783\u573e\u56de\u6536\uff09\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u8282\u70b9\u7531\u4e8e\u5185\u5b58\u6ea2\u51fa\uff08Out of Memory, OOM\uff09\u6216\u9891\u7e41\u7684\u5783\u573e\u56de\u6536\uff08Garbage Collection, GC\uff09\u800c\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u6216\u8282\u70b9\u5d29\u6e83\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316 JVM \u5185\u5b58\u8bbe\u7f6e\uff1a   - \u5c06 JVM \u5806\u5185\u5b58\u8bbe\u7f6e\u4e3a\u7cfb\u7edf\u5185\u5b58\u7684 50%\uff0c\u4f46\u4e0d\u8d85\u8fc7 32GB\u3002   - \u76d1\u63a7\u5e76\u8c03\u6574 GC \u53c2\u6570\uff0c\u5982\u4f7f\u7528 G1 GC \u4ee5\u51cf\u5c11\u5783\u573e\u56de\u6536\u6682\u505c\u65f6\u95f4\u3002</p> <ul> <li>\u51cf\u5c11\u7d22\u5f15/\u67e5\u8be2\u7684\u5185\u5b58\u5360\u7528\uff1a</li> <li>\u4f18\u5316\u7d22\u5f15\u6620\u5c04\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5b57\u6bb5\u548c\u7d22\u5f15\u3002</li> <li>\u63a7\u5236\u67e5\u8be2\u7684\u590d\u6742\u5ea6\uff0c\u907f\u514d\u5927\u91cf <code>terms</code> \u67e5\u8be2\u6216\u6df1\u5ea6\u5206\u9875\u3002</li> <li>\u4f7f\u7528 <code>doc_values</code> \u4ee3\u66ff <code>fielddata</code>\uff0c\u964d\u4f4e\u5185\u5b58\u4f7f\u7528\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#3","title":"3. \u5206\u7247\u5206\u914d\u5931\u8d25","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u67d0\u4e9b\u5206\u7247\u672a\u80fd\u5206\u914d\uff0c\u5bfc\u81f4\u7d22\u5f15\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff1a\u786e\u4fdd\u8282\u70b9\u6709\u8db3\u591f\u7684\u78c1\u76d8\u7a7a\u95f4\u3002\u5982\u679c\u78c1\u76d8\u4f7f\u7528\u7387\u8fc7\u9ad8\uff0cElasticsearch \u4f1a\u505c\u6b62\u5206\u7247\u5206\u914d\u3002 - \u8282\u70b9\u8d44\u6e90\u4e0d\u8db3\uff1a\u68c0\u67e5\u8282\u70b9\u7684 CPU\u3001\u5185\u5b58\u7b49\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u5982\u679c\u8d44\u6e90\u4e0d\u8db3\uff0c\u8003\u8651\u589e\u52a0\u8282\u70b9\u6216\u5347\u7ea7\u786c\u4ef6\u3002 - \u5206\u914d\u9650\u5236\uff1a\u68c0\u67e5\u5e76\u8c03\u6574\u5206\u7247\u5206\u914d\u8bbe\u7f6e\uff0c\u5982 <code>cluster.routing.allocation.*</code> \u8bbe\u7f6e\uff0c\u4ee5\u786e\u4fdd\u5206\u7247\u80fd\u591f\u6b63\u786e\u5206\u914d\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#4","title":"4. \u67e5\u8be2\u6027\u80fd\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u8fc7\u957f\uff0c\u53ef\u80fd\u5bfc\u81f4\u7528\u6237\u4f53\u9a8c\u4e0b\u964d\u6216\u7cfb\u7edf\u8d85\u65f6\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a   - \u907f\u514d\u4f7f\u7528 <code>wildcard</code> \u67e5\u8be2\uff0c\u6539\u7528 <code>prefix</code> \u6216 <code>regexp</code> \u67e5\u8be2\u3002   - \u51cf\u5c11\u590d\u6742\u7684\u5d4c\u5957\u67e5\u8be2\u6216\u5927\u8303\u56f4\u7684 <code>range</code> \u67e5\u8be2\u3002   - \u4f7f\u7528 <code>search template</code> \u7f13\u5b58\u5e38\u7528\u67e5\u8be2\uff0c\u51cf\u5c11\u67e5\u8be2\u89e3\u6790\u65f6\u95f4\u3002</p> <ul> <li>\u4f7f\u7528\u5408\u9002\u7684\u7d22\u5f15\u8bbe\u7f6e\uff1a</li> <li>\u4e3a\u5e38\u7528\u67e5\u8be2\u5b57\u6bb5\u542f\u7528 <code>doc_values</code> \u4ee5\u52a0\u5feb\u805a\u5408\u67e5\u8be2\u3002</li> <li> <p>\u4f7f\u7528 <code>index sorting</code> \u9884\u5148\u6392\u5e8f\u7d22\u5f15\uff0c\u63d0\u9ad8\u6392\u5e8f\u67e5\u8be2\u6027\u80fd\u3002</p> </li> <li> <p>\u51cf\u5c11\u6df1\u5ea6\u5206\u9875\uff1a</p> </li> <li>\u6539\u7528 <code>scroll</code> \u6216 <code>search_after</code> \u8fdb\u884c\u6df1\u5ea6\u5206\u9875\u67e5\u8be2\uff0c\u907f\u514d\u4f7f\u7528\u5927\u91cf\u7684 <code>from</code> \u548c <code>size</code> \u53c2\u6570\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#5","title":"5. \u7d22\u5f15\u6027\u80fd\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u6570\u636e\u5199\u5165\u901f\u5ea6\u6162\uff0c\u53ef\u80fd\u5bfc\u81f4\u5ef6\u8fdf\u6216\u963b\u585e\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u6279\u91cf\u7d22\u5f15\uff1a\u4f7f\u7528 <code>Bulk API</code> \u6279\u91cf\u5199\u5165\u6570\u636e\uff0c\u51cf\u5c11\u6bcf\u6b21\u5199\u64cd\u4f5c\u7684\u5f00\u9500\u3002 - \u8c03\u6574\u5237\u65b0\u95f4\u9694\uff1a\u4e34\u65f6\u8bbe\u7f6e <code>refresh_interval</code> \u4e3a <code>-1</code> \u7981\u7528\u81ea\u52a8\u5237\u65b0\uff0c\u5bfc\u5165\u6570\u636e\u540e\u518d\u624b\u52a8\u5237\u65b0\u3002 - \u51cf\u5c11\u526f\u672c\u6570\u91cf\uff1a\u5728\u5927\u91cf\u5199\u5165\u671f\u95f4\uff0c\u5c06\u526f\u672c\u6570\u91cf\u8bbe\u7f6e\u4e3a 0\uff0c\u5199\u5165\u5b8c\u6210\u540e\u518d\u6062\u590d\u9ed8\u8ba4\u526f\u672c\u6570\u91cf\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#6-elasticsearch","title":"6. Elasticsearch \u96c6\u7fa4\u6269\u5c55\u56f0\u96be","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u968f\u7740\u6570\u636e\u91cf\u589e\u52a0\uff0c\u96c6\u7fa4\u6027\u80fd\u4e0b\u964d\uff0c\u6269\u5c55\u8282\u70b9\u540e\u6548\u679c\u4e0d\u660e\u663e\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u6c34\u5e73\u6269\u5c55\uff1a\u901a\u8fc7\u589e\u52a0\u66f4\u591a\u7684\u6570\u636e\u8282\u70b9\u6765\u5206\u62c5\u8d1f\u8f7d\uff0c\u786e\u4fdd\u6bcf\u4e2a\u8282\u70b9\u7684\u5206\u7247\u6570\u91cf\u5408\u7406\u5206\u5e03\u3002 - \u5206\u7247\u6570\u91cf\u4f18\u5316\uff1a\u6839\u636e\u6570\u636e\u89c4\u6a21\u548c\u67e5\u8be2\u9700\u6c42\uff0c\u5408\u7406\u8bbe\u7f6e\u5206\u7247\u6570\u91cf\uff0c\u907f\u514d\u8fc7\u5ea6\u5206\u7247\u6216\u5206\u7247\u4e0d\u8db3\u3002 - \u70ed/\u51b7\u96c6\u7fa4\u67b6\u6784\uff1a\u5c06\u4e0d\u540c\u4f7f\u7528\u9891\u7387\u7684\u6570\u636e\u5206\u914d\u5230\u70ed\u8282\u70b9\uff08\u9ad8\u6027\u80fd\u786c\u4ef6\uff09\u548c\u51b7\u8282\u70b9\uff08\u4f4e\u6210\u672c\u5b58\u50a8\uff09\u4e0a\uff0c\u4f18\u5316\u8d44\u6e90\u4f7f\u7528\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#7","title":"7. \u6570\u636e\u4e22\u5931\u6216\u65e0\u6cd5\u8bbf\u95ee","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u96c6\u7fa4\u4e2d\u7684\u67d0\u4e9b\u6570\u636e\u4e22\u5931\u6216\u65e0\u6cd5\u8bbf\u95ee\uff0c\u53ef\u80fd\u7531\u4e8e\u5206\u7247\u4e22\u5931\u6216\u8282\u70b9\u6545\u969c\u5bfc\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5b9a\u671f\u5907\u4efd\uff1a\u4f7f\u7528 Elasticsearch \u7684\u5feb\u7167\u529f\u80fd\u5b9a\u671f\u5907\u4efd\u6570\u636e\uff0c\u4ee5\u9632\u6b62\u6570\u636e\u4e22\u5931\u3002 - \u5206\u7247\u81ea\u52a8\u6062\u590d\uff1a\u542f\u7528\u5206\u7247\u81ea\u52a8\u6062\u590d\u8bbe\u7f6e\uff0c\u786e\u4fdd\u5728\u8282\u70b9\u6545\u969c\u65f6\u80fd\u591f\u81ea\u52a8\u6062\u590d\u6570\u636e\u3002 - \u624b\u52a8\u6062\u590d\uff1a\u5982\u679c\u5feb\u7167\u6570\u636e\u53ef\u7528\uff0c\u4f7f\u7528\u5feb\u7167\u529f\u80fd\u624b\u52a8\u6062\u590d\u4e22\u5931\u7684\u6570\u636e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#8","title":"8. \u78c1\u76d8\u4f7f\u7528\u7387\u8fc7\u9ad8","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u8282\u70b9\u78c1\u76d8\u4f7f\u7528\u7387\u8fc7\u9ad8\uff0c\u53ef\u80fd\u5bfc\u81f4\u5199\u5165\u5931\u8d25\u6216\u96c6\u7fa4\u4e0d\u53ef\u7528\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u6570\u636e\u6e05\u7406\uff1a\u5b9a\u671f\u5220\u9664\u65e7\u7d22\u5f15\u6216\u4e0d\u518d\u9700\u8981\u7684\u6570\u636e\uff0c\u91ca\u653e\u78c1\u76d8\u7a7a\u95f4\u3002 - \u8c03\u6574\u5206\u7247\u6570\u91cf\uff1a\u51cf\u5c11\u5206\u7247\u6570\u91cf\uff0c\u964d\u4f4e\u78c1\u76d8\u5360\u7528\u3002\u5bf9\u4e8e\u51b7\u6570\u636e\uff0c\u53ef\u4ee5\u5408\u5e76\u5206\u7247\u6216\u5c06\u6570\u636e\u5f52\u6863\u5230\u5916\u90e8\u5b58\u50a8\u3002 - \u78c1\u76d8\u6269\u5c55\uff1a\u5982\u679c\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u8003\u8651\u589e\u52a0\u8282\u70b9\u6216\u6269\u5c55\u73b0\u6709\u8282\u70b9\u7684\u5b58\u50a8\u5bb9\u91cf\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#9-elasticsearch","title":"9. Elasticsearch \u5ba2\u6237\u7aef\u8d85\u65f6","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5ba2\u6237\u7aef\u67e5\u8be2\u6216\u5199\u5165\u64cd\u4f5c\u8d85\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u8bf7\u6c42\u5931\u8d25\u6216\u670d\u52a1\u4e2d\u65ad\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u589e\u52a0\u8d85\u65f6\u65f6\u95f4\uff1a\u6839\u636e\u7f51\u7edc\u72b6\u51b5\u548c\u67e5\u8be2\u590d\u6742\u5ea6\uff0c\u9002\u5f53\u589e\u52a0\u5ba2\u6237\u7aef\u7684\u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u3002 - \u4f18\u5316\u67e5\u8be2/\u5199\u5165\u903b\u8f91\uff1a\u51cf\u5c11\u4e00\u6b21\u6027\u64cd\u4f5c\u7684\u6570\u636e\u91cf\uff0c\u5206\u6279\u6b21\u8fdb\u884c\u5927\u6570\u636e\u91cf\u7684\u67e5\u8be2\u6216\u5199\u5165\u3002 - \u4f7f\u7528\u5f02\u6b65\u64cd\u4f5c\uff1a\u5bf9\u4e8e\u9700\u8981\u8f83\u957f\u65f6\u95f4\u7684\u64cd\u4f5c\uff0c\u4f7f\u7528\u5f02\u6b65\u8bf7\u6c42\u6216\u56de\u8c03\u51fd\u6570\uff0c\u907f\u514d\u963b\u585e\u5ba2\u6237\u7aef\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#10","title":"10. \u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a Elasticsearch \u751f\u6210\u7684\u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927\uff0c\u5360\u7528\u5927\u91cf\u78c1\u76d8\u7a7a\u95f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u8c03\u6574\u65e5\u5fd7\u7ea7\u522b\uff1a\u5c06\u65e5\u5fd7\u7ea7\u522b\u4ece <code>DEBUG</code> \u6216 <code>INFO</code> \u8c03\u6574\u4e3a <code>WARN</code> \u6216 <code>ERROR</code>\uff0c\u51cf\u5c11\u65e5\u5fd7\u8f93\u51fa\u91cf\u3002 - \u65e5\u5fd7\u8f6e\u8f6c\u4e0e\u6e05\u7406\uff1a\u914d\u7f6e\u65e5\u5fd7\u8f6e\u8f6c\u7b56\u7565\uff0c\u5b9a\u671f\u538b\u7f29\u548c\u6e05\u7406\u65e7\u65e5\u5fd7\u6587\u4ef6\uff0c\u9632\u6b62\u65e5\u5fd7\u6587\u4ef6\u5360\u7528\u8fc7\u591a\u78c1\u76d8\u7a7a\u95f4\u3002 - \u5916\u90e8\u65e5\u5fd7\u7ba1\u7406\uff1a\u4f7f\u7528\u5916\u90e8\u5de5\u5177\uff08\u5982 Logstash \u6216 Filebeat\uff09\u96c6\u4e2d\u7ba1\u7406\u548c\u5206\u6790 Elasticsearch \u65e5\u5fd7\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#11-elasticsearch","title":"11. Elasticsearch \u7d22\u5f15\u81a8\u80c0","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u7d22\u5f15\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u8fdc\u5927\u4e8e\u539f\u59cb\u6570\u636e\u7684\u5927\u5c0f\uff0c\u5bfc\u81f4\u78c1\u76d8\u7a7a\u95f4\u8fc5\u901f\u8017\u5c3d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5220\u9664\u4e0d\u5fc5\u8981\u7684\u5b57\u6bb5\uff1a\u5728\u6620\u5c04\u4e2d\u907f\u514d\u7d22\u5f15\u4e0d\u9700\u8981\u641c\u7d22\u7684\u5b57\u6bb5\uff0c\u5c24\u5176\u662f\u5927\u6587\u672c\u5b57\u6bb5\u6216\u4e8c\u8fdb\u5236\u6570\u636e\u3002 - \u538b\u7f29\u5b58\u50a8\uff1a\u542f\u7528 Elasticsearch \u7684\u538b\u7f29\u5b58\u50a8\u9009\u9879\uff08\u5982 <code>best_compression</code>\uff09\uff0c\u53ef\u4ee5\u51cf\u5c11\u7d22\u5f15\u5b58\u50a8\u7a7a\u95f4\u3002 - \u6e05\u7406\u65e7\u7d22\u5f15\uff1a\u5b9a\u671f\u5220\u9664\u4e0d\u518d\u9700\u8981\u7684\u65e7\u7d22\u5f15\uff0c\u4f7f\u7528\u7d22\u5f15\u751f\u547d\u5468\u671f\u7ba1\u7406\uff08ILM\uff09\u81ea\u52a8\u6e05\u7406\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#12","title":"12. \u6620\u5c04\u51b2\u7a81\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u7d22\u5f15\u6620\u5c04\uff08mapping\uff09\u51b2\u7a81\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5199\u5165\u5931\u8d25\uff0c\u6216\u5f15\u53d1\u67e5\u8be2\u9519\u8bef\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528\u52a8\u6001\u6620\u5c04\u6a21\u677f\uff1a\u901a\u8fc7\u5b9a\u4e49\u52a8\u6001\u6620\u5c04\u6a21\u677f\u6765\u63a7\u5236\u5b57\u6bb5\u7c7b\u578b\uff0c\u9632\u6b62 Elasticsearch \u81ea\u52a8\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u751f\u6210\u9519\u8bef\u7684\u6620\u5c04\u3002 - \u624b\u52a8\u6620\u5c04\u7ba1\u7406\uff1a\u5728\u7d22\u5f15\u521b\u5efa\u65f6\u624b\u52a8\u5b9a\u4e49\u6620\u5c04\uff0c\u660e\u786e\u6307\u5b9a\u6bcf\u4e2a\u5b57\u6bb5\u7684\u7c7b\u578b\uff0c\u907f\u514d\u51b2\u7a81\u3002 - \u7248\u672c\u63a7\u5236\uff1a\u4f7f\u7528\u7248\u672c\u53f7\u6216\u65e5\u671f\u4f5c\u4e3a\u7d22\u5f15\u540d\u79f0\u7684\u4e00\u90e8\u5206\uff0c\u5f53\u9700\u8981\u66f4\u6539\u6620\u5c04\u65f6\u521b\u5efa\u65b0\u7d22\u5f15\u5e76\u8fc1\u79fb\u6570\u636e\uff0c\u907f\u514d\u76f4\u63a5\u4fee\u6539\u73b0\u6709\u6620\u5c04\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#13","title":"13. \u805a\u5408\u6027\u80fd\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5927\u89c4\u6a21\u6570\u636e\u4e0a\u7684\u805a\u5408\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u8fc7\u957f\uff0c\u5bfc\u81f4\u5e94\u7528\u6027\u80fd\u4e0b\u964d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u51cf\u5c11\u6570\u636e\u91cf\uff1a\u4f7f\u7528\u9884\u8fc7\u6ee4\uff08\u5982 <code>filter</code> \u805a\u5408\uff09\u51cf\u5c11\u53c2\u4e0e\u805a\u5408\u7684\u6570\u636e\u91cf\uff0c\u63d0\u9ad8\u805a\u5408\u901f\u5ea6\u3002 - \u4f18\u5316\u805a\u5408\u7c7b\u578b\uff1a\u5c3d\u91cf\u4f7f\u7528\u8f7b\u91cf\u7ea7\u805a\u5408\uff0c\u5982 <code>terms</code> \u805a\u5408\uff0c\u907f\u514d\u4f7f\u7528 <code>scripted metric</code> \u7b49\u6d88\u8017\u8d44\u6e90\u7684\u805a\u5408\u3002 - \u7f13\u5b58\u805a\u5408\u7ed3\u679c\uff1a\u5bf9\u4e8e\u91cd\u590d\u6267\u884c\u7684\u805a\u5408\u67e5\u8be2\uff0c\u8003\u8651\u4f7f\u7528 Elasticsearch \u7684\u67e5\u8be2\u7f13\u5b58\u529f\u80fd\uff0c\u4ee5\u51cf\u5c11\u8ba1\u7b97\u5f00\u9500\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#14","title":"14. \u5206\u7247\u4e0d\u5747\u5300\u5206\u5e03","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u96c6\u7fa4\u4e2d\uff0c\u90e8\u5206\u8282\u70b9\u7684\u5206\u7247\u6570\u91cf\u8fdc\u591a\u4e8e\u5176\u4ed6\u8282\u70b9\uff0c\u5bfc\u81f4\u8fd9\u4e9b\u8282\u70b9\u8d44\u6e90\u8fc7\u8f7d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u624b\u52a8\u5206\u7247\u91cd\u65b0\u5206\u914d\uff1a\u4f7f\u7528 <code>_cluster/reroute</code> API \u624b\u52a8\u5c06\u5206\u7247\u91cd\u65b0\u5206\u914d\u5230\u8f83\u7a7a\u95f2\u7684\u8282\u70b9\u4e0a\uff0c\u5747\u8861\u5206\u7247\u5206\u5e03\u3002 - \u8c03\u6574\u96c6\u7fa4\u8bbe\u7f6e\uff1a\u4fee\u6539 <code>cluster.routing.allocation</code> \u76f8\u5173\u8bbe\u7f6e\uff0c\u5982 <code>balance.shard</code> \u548c <code>balance.index</code>\uff0c\u4ee5\u786e\u4fdd\u5206\u7247\u5747\u5300\u5206\u914d\u3002 - \u5347\u7ea7 Elasticsearch\uff1a\u90e8\u5206\u7248\u672c\u7684 Elasticsearch \u53ef\u80fd\u5728\u5206\u7247\u5206\u914d\u4e0a\u5b58\u5728\u95ee\u9898\uff0c\u5347\u7ea7\u5230\u8f83\u65b0\u7248\u672c\u53ef\u80fd\u89e3\u51b3\u6b64\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#15","title":"15. \u65f6\u95f4\u5e8f\u5217\u6570\u636e\u7684\u7d22\u5f15\u7ba1\u7406","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5bf9\u4e8e\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff0c\u5982\u65e5\u5fd7\u6216\u76d1\u63a7\u6570\u636e\uff0c\u7d22\u5f15\u6570\u91cf\u968f\u7740\u65f6\u95f4\u63a8\u79fb\u8fc5\u901f\u589e\u52a0\uff0c\u7ba1\u7406\u53d8\u5f97\u590d\u6742\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528\u7d22\u5f15\u751f\u547d\u5468\u671f\u7ba1\u7406\uff08ILM\uff09\uff1a\u914d\u7f6e ILM \u7b56\u7565\u81ea\u52a8\u7ba1\u7406\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u7684\u7d22\u5f15\u751f\u547d\u5468\u671f\uff0c\u81ea\u52a8\u521b\u5efa\u3001\u6eda\u52a8\u3001\u5173\u95ed\u3001\u5220\u9664\u7d22\u5f15\u3002 - \u6309\u65f6\u95f4\u6bb5\u5212\u5206\u7d22\u5f15\uff1a\u5c06\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u6309\u5929\u3001\u5468\u6216\u6708\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u7d22\u5f15\uff0c\u4ee5\u4fbf\u4e8e\u7ba1\u7406\u548c\u67e5\u8be2\u3002 - \u538b\u7f29\u548c\u5f52\u6863\u65e7\u6570\u636e\uff1a\u5c06\u5386\u53f2\u6570\u636e\u8fc1\u79fb\u5230\u51b7\u5b58\u50a8\u6216\u5f52\u6863\uff0c\u4f7f\u7528\u538b\u7f29\u683c\u5f0f\u51cf\u5c11\u5b58\u50a8\u5360\u7528\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#16","title":"16. \u8de8\u96c6\u7fa4\u641c\u7d22\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u8de8\u96c6\u7fa4\u641c\u7d22\u65f6\uff0c\u67e5\u8be2\u6027\u80fd\u8f83\u4f4e\uff0c\u6216\u8005\u6570\u636e\u540c\u6b65\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u96c6\u7fa4\u8fde\u63a5\uff1a\u786e\u4fdd\u8de8\u96c6\u7fa4\u8fde\u63a5\u7684\u7f51\u7edc\u5ef6\u8fdf\u548c\u5e26\u5bbd\u6ee1\u8db3\u8981\u6c42\uff0c\u5c3d\u91cf\u5c06\u96c6\u7fa4\u90e8\u7f72\u5728\u4f4e\u5ef6\u8fdf\u7684\u7f51\u7edc\u73af\u5883\u4e2d\u3002 - \u5f02\u6b65\u67e5\u8be2\uff1a\u4f7f\u7528\u5f02\u6b65\u67e5\u8be2\u6216\u4efb\u52a1\u7ba1\u7406 API \u5904\u7406\u5927\u89c4\u6a21\u8de8\u96c6\u7fa4\u67e5\u8be2\uff0c\u907f\u514d\u963b\u585e\u96c6\u7fa4\u3002 - \u8de8\u96c6\u7fa4\u590d\u5236\uff1a\u5bf9\u4e8e\u9700\u8981\u5b9e\u65f6\u6570\u636e\u540c\u6b65\u7684\u573a\u666f\uff0c\u4f7f\u7528 Elasticsearch \u7684\u8de8\u96c6\u7fa4\u590d\u5236\uff08CCR\uff09\u529f\u80fd\uff0c\u5c06\u6570\u636e\u4ece\u4e00\u4e2a\u96c6\u7fa4\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u96c6\u7fa4\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#17","title":"17. \u8282\u70b9\u95f4\u901a\u4fe1\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u8282\u70b9\u95f4\u901a\u4fe1\u5931\u8d25\uff0c\u5bfc\u81f4\u96c6\u7fa4\u4e0d\u7a33\u5b9a\u6216\u5206\u7247\u672a\u80fd\u5206\u914d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u68c0\u67e5\u7f51\u7edc\u914d\u7f6e\uff1a\u786e\u4fdd\u6240\u6709\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u7a33\u5b9a\uff0c\u7279\u522b\u662f\u5728\u4f7f\u7528\u4e91\u73af\u5883\u65f6\uff0c\u68c0\u67e5\u9632\u706b\u5899\u548c\u5b89\u5168\u7ec4\u914d\u7f6e\u3002 - \u8c03\u6574\u8282\u70b9\u95f4\u8d85\u65f6\u8bbe\u7f6e\uff1a\u5982\u679c\u7f51\u7edc\u5ef6\u8fdf\u8f83\u9ad8\uff0c\u53ef\u4ee5\u9002\u5f53\u589e\u52a0\u8282\u70b9\u95f4\u901a\u4fe1\u7684\u8d85\u65f6\u65f6\u95f4\uff08\u5982 <code>discovery.zen.fd.ping_timeout</code>\uff09\u3002 - \u65e5\u5fd7\u6392\u67e5\uff1a\u68c0\u67e5 Elasticsearch \u65e5\u5fd7\u6587\u4ef6\uff0c\u67e5\u627e\u5e76\u4fee\u590d\u53ef\u80fd\u7684\u7f51\u7edc\u95ee\u9898\u6216\u8282\u70b9\u914d\u7f6e\u9519\u8bef\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#18","title":"18. \u7d22\u5f15\u6a21\u677f\u5e94\u7528\u5931\u8d25","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u65b0\u5efa\u7d22\u5f15\u65f6\u672a\u80fd\u6b63\u786e\u5e94\u7528\u9884\u5b9a\u4e49\u7684\u7d22\u5f15\u6a21\u677f\uff0c\u5bfc\u81f4\u6620\u5c04\u9519\u8bef\u6216\u8bbe\u7f6e\u4e22\u5931\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u68c0\u67e5\u6a21\u677f\u4f18\u5148\u7ea7\uff1a\u786e\u4fdd\u6b63\u786e\u8bbe\u7f6e\u7d22\u5f15\u6a21\u677f\u7684\u4f18\u5148\u7ea7\uff08<code>order</code>\uff09\uff0c\u907f\u514d\u591a\u4e2a\u6a21\u677f\u51b2\u7a81\u3002 - \u6a21\u677f\u5339\u914d\u89c4\u5219\uff1a\u6838\u5b9e\u6a21\u677f\u7684\u5339\u914d\u89c4\u5219\uff08\u5982 <code>index_patterns</code>\uff09\uff0c\u786e\u4fdd\u65b0\u5efa\u7d22\u5f15\u7684\u540d\u79f0\u80fd\u591f\u6b63\u786e\u5339\u914d\u6a21\u677f\u3002 - \u624b\u52a8\u5e94\u7528\u6a21\u677f\uff1a\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u624b\u52a8\u5e94\u7528\u6a21\u677f\u5230\u5df2\u6709\u7d22\u5f15\uff0c\u4f7f\u7528 <code>_template/apply</code> API\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#19","title":"19. \u6570\u636e\u8fc1\u79fb\u548c\u7248\u672c\u5347\u7ea7","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a Elasticsearch \u5347\u7ea7\u6216\u96c6\u7fa4\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u6570\u636e\u53ef\u80fd\u4e22\u5931\u6216\u65e0\u6cd5\u6b63\u5e38\u8fc1\u79fb\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u6eda\u52a8\u5347\u7ea7\uff1a\u5728\u5347\u7ea7 Elasticsearch \u65f6\uff0c\u4f7f\u7528\u6eda\u52a8\u5347\u7ea7\u7684\u65b9\u5f0f\uff0c\u4e00\u6b21\u5347\u7ea7\u4e00\u4e2a\u8282\u70b9\uff0c\u786e\u4fdd\u96c6\u7fa4\u59cb\u7ec8\u53ef\u7528\u3002 - \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d\uff1a\u5728\u5347\u7ea7\u6216\u8fc1\u79fb\u524d\uff0c\u4f7f\u7528\u5feb\u7167\u529f\u80fd\u5907\u4efd\u6570\u636e\uff0c\u4ee5\u4fbf\u5728\u51fa\u73b0\u95ee\u9898\u65f6\u5feb\u901f\u6062\u590d\u3002 - \u8de8\u96c6\u7fa4\u8fc1\u79fb\uff1a\u5bf9\u4e8e\u8de8\u96c6\u7fa4\u8fc1\u79fb\uff0c\u8003\u8651\u4f7f\u7528\u8de8\u96c6\u7fa4\u590d\u5236\uff08CCR\uff09\u6216\u8de8\u96c6\u7fa4\u641c\u7d22\uff08CCS\uff09\u5b9e\u73b0\u65e0\u7f1d\u6570\u636e\u8fc1\u79fb\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Elastic/questions/#20-elasticsearch","title":"20. Elasticsearch \u5b89\u5168\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u672a\u542f\u7528\u5b89\u5168\u673a\u5236\u7684 Elasticsearch \u96c6\u7fa4\u5bb9\u6613\u53d7\u5230\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u6216\u653b\u51fb\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u542f\u7528 X-Pack \u5b89\u5168\uff1a\u4f7f\u7528 Elasticsearch \u7684 X-Pack \u5b89\u5168\u529f\u80fd\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\u3001\u89d2\u8272\u7ba1\u7406\u548c\u52a0\u5bc6\u901a\u4fe1\u3002 - \u8bbf\u95ee\u63a7\u5236\uff1a\u901a\u8fc7\u89d2\u8272\u548c\u6743\u9650\u63a7\u5236\u4e0d\u540c\u7528\u6237\u5bf9\u7d22\u5f15\u548c\u6570\u636e\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u9632\u6b62\u6570\u636e\u6cc4\u9732\u3002 - \u65e5\u5fd7\u548c\u5ba1\u8ba1\uff1a\u542f\u7528\u5ba1\u8ba1\u65e5\u5fd7\u529f\u80fd\uff0c\u76d1\u63a7\u5e76\u8bb0\u5f55\u6240\u6709\u8bbf\u95ee\u548c\u64cd\u4f5c\uff0c\u53ca\u65f6\u53d1\u73b0\u5e76\u5904\u7406\u5b89\u5168\u5a01\u80c1\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/","title":"MongoDB \u8fdb\u9636\u6559\u7a0b","text":"<p>\u4e0b\u9762\u662f MongoDB \u8fdb\u9636\u6559\u7a0b\u7684\u8be6\u7ec6\u89e3\u8bfb\uff0c\u6db5\u76d6\u4e86 MongoDB \u7684\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\u548c\u4f7f\u7528\u6280\u5de7\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#1","title":"1. \u7d22\u5f15\u4f18\u5316","text":"<p>1.1 \u5355\u5b57\u6bb5\u7d22\u5f15 \u5728\u5355\u4e2a\u5b57\u6bb5\u4e0a\u521b\u5efa\u7d22\u5f15\uff0c\u4ee5\u52a0\u5feb\u8be5\u5b57\u6bb5\u7684\u67e5\u8be2\u901f\u5ea6\u3002</p> <pre><code>db.collection.createIndex({ fieldName: 1 }) // 1 \u4e3a\u5347\u5e8f\uff0c-1 \u4e3a\u964d\u5e8f\n</code></pre> <p>1.2 \u590d\u5408\u7d22\u5f15 \u5728\u591a\u4e2a\u5b57\u6bb5\u4e0a\u521b\u5efa\u7d22\u5f15\uff0c\u7528\u4e8e\u4f18\u5316\u6d89\u53ca\u591a\u4e2a\u5b57\u6bb5\u7684\u67e5\u8be2\u3002</p> <pre><code>db.collection.createIndex({ field1: 1, field2: -1 })\n</code></pre> <p>1.3 \u591a\u952e\u7d22\u5f15 \u7528\u4e8e\u7d22\u5f15\u6570\u7ec4\u5b57\u6bb5\u7684\u6bcf\u4e2a\u5143\u7d20\u3002</p> <pre><code>db.collection.createIndex({ arrayField: 1 })\n</code></pre> <p>1.4 \u5730\u7406\u7a7a\u95f4\u7d22\u5f15 \u7528\u4e8e\u5904\u7406\u5730\u7406\u6570\u636e\uff0c\u652f\u6301\u5730\u7403\u8868\u9762\u4e0a\u7684\u70b9\u3001\u7ebf\u3001\u9762\u7b49\u6570\u636e\u3002 - 2dsphere \u7d22\u5f15\uff1a</p> <pre><code>db.collection.createIndex({ location: \"2dsphere\" })\n</code></pre> <ul> <li>2d \u7d22\u5f15\uff1a</li> </ul> <pre><code>db.collection.createIndex({ location: \"2d\" })\n</code></pre> <p>1.5 \u5168\u6587\u7d22\u5f15 \u7528\u4e8e\u5168\u6587\u641c\u7d22\uff0c\u652f\u6301\u5bf9\u6587\u672c\u5b57\u6bb5\u8fdb\u884c\u590d\u6742\u7684\u67e5\u8be2\u3002</p> <pre><code>db.collection.createIndex({ textField: \"text\" })\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#2","title":"2. \u805a\u5408\u6846\u67b6","text":"<p>2.1 \u7ba1\u9053\u64cd\u4f5c\u7b26 - $match\uff1a\u8fc7\u6ee4\u6570\u636e\u3002 - $group\uff1a\u5206\u7ec4\u6570\u636e\u5e76\u8ba1\u7b97\u805a\u5408\u7ed3\u679c\u3002 - $sort\uff1a\u6392\u5e8f\u7ed3\u679c\u3002 - $project\uff1a\u9009\u62e9\u5b57\u6bb5\u3002 - $lookup\uff1a\u8fdb\u884c\u5173\u8054\u67e5\u8be2\u3002</p> <p>2.2 \u805a\u5408\u793a\u4f8b</p> <pre><code>db.collection.aggregate([\n  { $match: { status: 'A' } },\n  { $group: { _id: \"$age\", total: { $sum: 1 } } },\n  { $sort: { total: -1 } }\n])\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#3","title":"3. \u590d\u5236\u96c6","text":"<p>3.1 \u914d\u7f6e \u590d\u5236\u96c6\u7531\u591a\u4e2a\u526f\u672c\u8282\u70b9\u7ec4\u6210\uff0c\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u4e3b\u8282\u70b9\u548c\u4e00\u4e2a\u6216\u591a\u4e2a\u4ece\u8282\u70b9\u3002</p> <p>3.2 \u5e38\u7528\u64cd\u4f5c - \u67e5\u770b\u72b6\u6001\uff1a<code>rs.status()</code> - \u6dfb\u52a0\u8282\u70b9\uff1a<code>rs.add(\"hostname:port\")</code> - \u79fb\u9664\u8282\u70b9\uff1a<code>rs.remove(\"hostname:port\")</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#4","title":"4. \u5206\u7247","text":"<p>4.1 \u6982\u5ff5 \u5206\u7247\u5c06\u6570\u636e\u5206\u5e03\u5230\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u4ee5\u6269\u5c55\u5b58\u50a8\u548c\u5904\u7406\u80fd\u529b\u3002</p> <p>4.2 \u914d\u7f6e - \u542f\u7528\u5206\u7247\uff1a<code>sh.enableSharding(\"databaseName\")</code> - \u521b\u5efa\u7d22\u5f15\uff1a</p> <pre><code>db.collection.createIndex({ shardKey: 1 })\n</code></pre> <ul> <li>\u5206\u7247\u96c6\u5408\uff1a</li> </ul> <pre><code>sh.shardCollection(\"databaseName.collectionName\", { shardKey: 1 })\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#5","title":"5. \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d","text":"<p>5.1 \u5907\u4efd\u5de5\u5177 - <code>mongodump</code>\uff1a\u5907\u4efd\u6570\u636e\u5230 BSON \u6587\u4ef6\u3002</p> <pre><code>mongodump --out /backup/directory\n</code></pre> <ul> <li><code>mongorestore</code>\uff1a\u4ece BSON \u6587\u4ef6\u6062\u590d\u6570\u636e\u3002</li> </ul> <pre><code>mongorestore /backup/directory\n</code></pre> <p>5.2 Cloud \u5907\u4efd MongoDB Atlas \u63d0\u4f9b\u81ea\u52a8\u5907\u4efd\u529f\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#6","title":"6. \u6027\u80fd\u76d1\u63a7\u4e0e\u4f18\u5316","text":"<p>6.1 \u76d1\u63a7\u5de5\u5177 - MongoDB Monitoring Service (MMS)\uff1a\u63d0\u4f9b\u8be6\u7ec6\u7684\u6027\u80fd\u548c\u5065\u5eb7\u72b6\u6001\u76d1\u63a7\u3002 - <code>mongostat</code>\uff1a\u663e\u793a\u5b9e\u65f6\u7edf\u8ba1\u4fe1\u606f\u3002</p> <pre><code>mongostat\n</code></pre> <ul> <li><code>mongotop</code>\uff1a\u663e\u793a\u96c6\u5408\u7684\u8bfb\u5199\u64cd\u4f5c\u65f6\u95f4\u3002</li> </ul> <pre><code>mongotop\n</code></pre> <p>6.2 \u6027\u80fd\u4f18\u5316 - \u67e5\u8be2\u4f18\u5316\uff1a\u4f7f\u7528\u7d22\u5f15\u548c\u67e5\u8be2\u91cd\u5199\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002 - \u5185\u5b58\u4f18\u5316\uff1a\u8c03\u6574 <code>wiredTiger</code> \u7f13\u5b58\u5927\u5c0f\u4ee5\u4f18\u5316\u5185\u5b58\u4f7f\u7528\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#7","title":"7. \u5b89\u5168\u6027\u914d\u7f6e","text":"<p>7.1 \u8eab\u4efd\u9a8c\u8bc1 - \u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff1a\u5728 MongoDB \u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e <code>security.authorization: enabled</code>\u3002 - \u521b\u5efa\u7528\u6237\u5e76\u6388\u4e88\u89d2\u8272\uff1a</p> <pre><code>db.createUser({\n  user: \"username\",\n  pwd: \"password\",\n  roles: [\"readWrite\", \"dbAdmin\"]\n})\n</code></pre> <p>7.2 \u52a0\u5bc6 - \u6570\u636e\u52a0\u5bc6\uff1a\u4f7f\u7528 MongoDB Enterprise \u63d0\u4f9b\u7684\u52a0\u5bc6\u529f\u80fd\u3002 - \u4f20\u8f93\u52a0\u5bc6\uff1a\u4f7f\u7528 SSL/TLS \u52a0\u5bc6\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#8","title":"8. \u4e8b\u52a1\u5904\u7406","text":"<p>8.1 \u4f7f\u7528\u4e8b\u52a1 MongoDB \u652f\u6301\u8de8\u591a\u4e2a\u64cd\u4f5c\u7684\u591a\u6587\u6863\u4e8b\u52a1\u3002</p> <p>8.2 \u4e8b\u52a1\u793a\u4f8b</p> <pre><code>const session = db.getMongo().startSession();\nsession.startTransaction();\ntry {\n  db.collection1.insertOne({ field: \"value\" }, { session });\n  db.collection2.updateOne({ field: \"value\" }, { $set: { field: \"newValue\" } }, { session });\n  session.commitTransaction();\n} catch (e) {\n  session.abortTransaction();\n  throw e;\n} finally {\n  session.endSession();\n}\n</code></pre> <p>\u5f53\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u6df1\u5165\u63a2\u8ba8 MongoDB \u7684\u66f4\u591a\u8fdb\u9636\u5185\u5bb9\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#9","title":"9. \u6570\u636e\u5efa\u6a21","text":"<p>9.1 \u5d4c\u5957\u6587\u6863\u4e0e\u5f15\u7528</p> <ul> <li>\u5d4c\u5957\u6587\u6863\uff1a\u9002\u5408\u5177\u6709\u4e00\u5bf9\u591a\u5173\u7cfb\u7684\u573a\u666f\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u7528\u6237\u6587\u6863\u4e2d\u53ef\u4ee5\u5d4c\u5957\u5730\u5740\u4fe1\u606f\u3002   <code>javascript   {     name: \"John Doe\",     address: {       street: \"123 Main St\",       city: \"Anytown\",       zip: \"12345\"     }   }</code></li> <li>\u5f15\u7528\uff1a\u9002\u5408\u9700\u8981\u9891\u7e41\u66f4\u65b0\u7684\u573a\u666f\u3002\u901a\u8fc7\u5f15\u7528\u5176\u4ed6\u6587\u6863\u7684 <code>_id</code> \u5b57\u6bb5\u6765\u5efa\u7acb\u5173\u7cfb\u3002   ```javascript   // \u7528\u6237\u6587\u6863   {     _id: ObjectId(\"user_id\"),     name: \"John Doe\"   }</li> </ul> <p>// \u8ba2\u5355\u6587\u6863   {     _id: ObjectId(\"order_id\"),     user_id: ObjectId(\"user_id\"),     total: 100   }   ```</p> <p>9.2 \u6570\u636e\u5f52\u6863</p> <p>\u5c06\u4e0d\u518d\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u4ece\u4e3b\u6570\u636e\u5e93\u4e2d\u79fb\u5230\u5f52\u6863\u6570\u636e\u5e93\uff0c\u4ee5\u51cf\u5c11\u4e3b\u6570\u636e\u5e93\u7684\u8d1f\u62c5\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#10","title":"10. \u590d\u6742\u67e5\u8be2","text":"<p>10.1 \u805a\u5408\u64cd\u4f5c\u7b26</p> <ul> <li> <p>$lookup\uff1a\u8fdb\u884c\u8de8\u96c6\u5408\u7684\u8054\u63a5\u67e5\u8be2\u3002   <code>javascript   db.orders.aggregate([     {       $lookup: {         from: \"products\",         localField: \"productId\",         foreignField: \"_id\",         as: \"productDetails\"       }     }   ])</code></p> </li> <li> <p>$unwind\uff1a\u5c06\u6570\u7ec4\u5b57\u6bb5\u62c6\u5206\u4e3a\u591a\u6761\u6587\u6863\u3002   <code>javascript   db.orders.aggregate([     { $unwind: \"$items\" }   ])</code></p> </li> <li> <p>$facet\uff1a\u5728\u540c\u4e00\u805a\u5408\u7ba1\u9053\u4e2d\u8fdb\u884c\u591a\u4e2a\u5e76\u884c\u64cd\u4f5c\u3002   <code>javascript   db.orders.aggregate([     {       $facet: {         \"totalOrders\": [{ $count: \"count\" }],         \"orderByStatus\": [{ $group: { _id: \"$status\", total: { $sum: 1 } } }]       }     }   ])</code></p> </li> </ul> <p>10.2 $expr \u8fd0\u7b97\u7b26</p> <p>\u5141\u8bb8\u5728\u67e5\u8be2\u4e2d\u4f7f\u7528\u805a\u5408\u8868\u8fbe\u5f0f\u8fdb\u884c\u66f4\u590d\u6742\u7684\u67e5\u8be2\u903b\u8f91\u3002</p> <pre><code>db.orders.find({\n  $expr: { $gt: [{ $subtract: [\"$totalAmount\", \"$paidAmount\"] }, 100] }\n})\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#11","title":"11. \u6027\u80fd\u8c03\u4f18","text":"<p>11.1 \u8bfb\u5199\u5206\u79bb</p> <p>\u5728\u4e3b\u4ece\u590d\u5236\u96c6\u914d\u7f6e\u4e2d\uff0c\u53ef\u4ee5\u5c06\u8bfb\u64cd\u4f5c\u5206\u53d1\u5230\u4ece\u8282\u70b9\uff0c\u4ee5\u51cf\u8f7b\u4e3b\u8282\u70b9\u7684\u8d1f\u62c5\u3002\u914d\u7f6e\u8bfb\u504f\u597d\uff08Read Preference\uff09\u6765\u5b9e\u73b0\uff1a</p> <pre><code>db.collection.find().readPref('secondaryPreferred')\n</code></pre> <p>11.2 Write Concern \u548c Read Concern</p> <ul> <li> <p>Write Concern\uff1a\u5b9a\u4e49\u5199\u64cd\u4f5c\u7684\u786e\u8ba4\u7ea7\u522b\u3002   <code>javascript   db.collection.insertOne({ name: \"John\" }, { writeConcern: { w: \"majority\", wtimeout: 5000 } })</code></p> </li> <li> <p>Read Concern\uff1a\u5b9a\u4e49\u8bfb\u53d6\u6570\u636e\u7684\u9694\u79bb\u7ea7\u522b\u3002   <code>javascript   db.collection.find({}).readConcern('majority')</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#12","title":"12. \u9ad8\u7ea7\u6570\u636e\u64cd\u4f5c","text":"<p>12.1 Change Streams</p> <p>\u5b9e\u65f6\u76d1\u63a7\u6570\u636e\u53d8\u66f4\u3002\u9002\u7528\u4e8e\u9700\u8981\u5b9e\u65f6\u66f4\u65b0\u7684\u5e94\u7528\u573a\u666f\u3002</p> <pre><code>const changeStream = db.collection.watch();\nchangeStream.on('change', (change) =&gt; {\n  console.log(change);\n});\n</code></pre> <p>12.2 GridFS</p> <p>\u7528\u4e8e\u5b58\u50a8\u548c\u68c0\u7d22\u5927\u6587\u4ef6\uff08\u5982\u56fe\u7247\u3001\u89c6\u9891\uff09\u3002GridFS \u5c06\u6587\u4ef6\u5206\u5272\u6210\u591a\u4e2a\u5757\u5b58\u50a8\u3002</p> <pre><code>// \u4e0a\u4f20\u6587\u4ef6\nconst fs = require('fs');\nconst gridfs = require('gridfs-stream');\nconst gfs = gridfs(db, mongoose.mongo);\nconst writestream = gfs.createWriteStream({ filename: 'example.jpg' });\nfs.createReadStream('/path/to/example.jpg').pipe(writestream);\n\n// \u4e0b\u8f7d\u6587\u4ef6\nconst readstream = gfs.createReadStream({ filename: 'example.jpg' });\nreadstream.pipe(fs.createWriteStream('/path/to/output.jpg'));\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#13","title":"13. \u914d\u7f6e\u548c\u7ba1\u7406","text":"<p>13.1 \u8d44\u6e90\u9650\u5236</p> <ul> <li> <p>\u6700\u5927\u8fde\u63a5\u6570\uff1a\u914d\u7f6e MongoDB \u5b9e\u4f8b\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002   <code>bash   mongod --maxConns=1000</code></p> </li> <li> <p>\u65e5\u5fd7\u7ea7\u522b\uff1a\u8c03\u6574\u65e5\u5fd7\u8bb0\u5f55\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002   <code>javascript   db.setLogLevel(2)</code></p> </li> </ul> <p>13.2 \u5907\u4efd\u548c\u6062\u590d\u7b56\u7565</p> <ul> <li>\u589e\u91cf\u5907\u4efd\uff1a\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code> \u7684\u589e\u91cf\u5907\u4efd\u529f\u80fd\u3002</li> <li>\u5feb\u7167\u5907\u4efd\uff1a\u7ed3\u5408\u6587\u4ef6\u7cfb\u7edf\u5feb\u7167\u6280\u672f\u8fdb\u884c\u5907\u4efd\uff0c\u4ee5\u63d0\u9ad8\u5907\u4efd\u901f\u5ea6\u548c\u53ef\u9760\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#14-mongodb-atlas","title":"14. MongoDB Atlas","text":"<p>MongoDB Atlas \u662f MongoDB \u63d0\u4f9b\u7684\u4e91\u6570\u636e\u5e93\u670d\u52a1\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u529f\u80fd\uff1a</p> <p>14.1 \u81ea\u52a8\u5907\u4efd MongoDB Atlas \u63d0\u4f9b\u81ea\u52a8\u5316\u5907\u4efd\u548c\u6062\u590d\u529f\u80fd\uff0c\u65e0\u9700\u624b\u52a8\u64cd\u4f5c\u3002</p> <p>14.2 \u81ea\u52a8\u6269\u5c55 \u6839\u636e\u5e94\u7528\u8d1f\u8f7d\u81ea\u52a8\u8c03\u6574\u96c6\u7fa4\u89c4\u6a21\uff0c\u786e\u4fdd\u6027\u80fd\u7a33\u5b9a\u3002</p> <p>14.3 \u9ad8\u53ef\u7528\u6027 \u63d0\u4f9b\u8de8\u533a\u57df\u590d\u5236\u548c\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u529f\u80fd\uff0c\u4ee5\u786e\u4fdd\u9ad8\u53ef\u7528\u6027\u3002</p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63a2\u8ba8 MongoDB \u7684\u66f4\u9ad8\u7ea7\u529f\u80fd\u548c\u6700\u4f73\u5b9e\u8df5\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#15","title":"15. \u6570\u636e\u4e00\u81f4\u6027\u548c\u4e8b\u52a1","text":"<p>15.1 \u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b</p> <p>MongoDB \u652f\u6301\u591a\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u7684\u5e94\u7528\u9700\u6c42\uff1a</p> <ul> <li>Read Uncommitted\uff1a\u5141\u8bb8\u8bfb\u53d6\u672a\u63d0\u4ea4\u7684\u6570\u636e\u3002</li> <li>Read Committed\uff1a\u53ea\u8bfb\u53d6\u5df2\u63d0\u4ea4\u7684\u6570\u636e\uff08MongoDB \u9ed8\u8ba4\u7684\u9694\u79bb\u7ea7\u522b\uff09\u3002</li> <li>Repeatable Read\uff1a\u5728\u4e8b\u52a1\u4e2d\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6570\u636e\uff0c\u7ed3\u679c\u4e00\u81f4\u3002</li> <li>Serializable\uff1a\u63d0\u4f9b\u6700\u9ad8\u7ea7\u522b\u7684\u9694\u79bb\uff0c\u4fdd\u8bc1\u4e8b\u52a1\u7ed3\u679c\u7684\u7edd\u5bf9\u4e00\u81f4\u6027\u3002</li> </ul> <p>15.2 \u591a\u6587\u6863\u4e8b\u52a1</p> <ul> <li> <p>\u542f\u52a8\u4e8b\u52a1\uff1a   <code>javascript   const session = db.getMongo().startSession();   session.startTransaction();</code></p> </li> <li> <p>\u63d0\u4ea4\u4e8b\u52a1\uff1a   <code>javascript   session.commitTransaction();</code></p> </li> <li> <p>\u4e2d\u6b62\u4e8b\u52a1\uff1a   <code>javascript   session.abortTransaction();</code></p> </li> </ul> <p>15.3 \u4e8b\u52a1\u7684\u5d4c\u5957</p> <p>MongoDB \u652f\u6301\u5d4c\u5957\u4e8b\u52a1\u3002\u53ef\u4ee5\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u542f\u52a8\u53e6\u4e00\u4e2a\u4e8b\u52a1\uff0cMongoDB \u4f1a\u5904\u7406\u5d4c\u5957\u4e8b\u52a1\u7684\u63d0\u4ea4\u548c\u56de\u6eda\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#16","title":"16. \u9ad8\u6027\u80fd\u67e5\u8be2\u4f18\u5316","text":"<p>16.1 \u67e5\u8be2\u8ba1\u5212\u5206\u6790</p> <p>\u4f7f\u7528 <code>explain()</code> \u65b9\u6cd5\u6765\u5206\u6790\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u5e76\u4f18\u5316\u67e5\u8be2\u3002</p> <pre><code>db.collection.find({ field: \"value\" }).explain(\"executionStats\")\n</code></pre> <p>16.2 \u7d22\u5f15\u8986\u76d6</p> <p>\u786e\u4fdd\u67e5\u8be2\u64cd\u4f5c\u53ef\u4ee5\u5b8c\u5168\u901a\u8fc7\u7d22\u5f15\u6765\u5b8c\u6210\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u8bfb\u53d6\u6570\u636e\u6587\u6863\uff0c\u4ece\u800c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</p> <p>16.3 \u7d22\u5f15\u5408\u5e76</p> <p>MongoDB \u53ef\u4ee5\u5c06\u591a\u4e2a\u7d22\u5f15\u5408\u5e76\u4f7f\u7528\uff0c\u4ee5\u6ee1\u8db3\u590d\u6742\u7684\u67e5\u8be2\u9700\u6c42\u3002\u786e\u4fdd\u5bf9\u591a\u4e2a\u5b57\u6bb5\u7684\u67e5\u8be2\u6709\u5408\u9002\u7684\u7d22\u5f15\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#17-sharding","title":"17. Sharding\uff08\u5206\u7247\uff09","text":"<p>17.1 \u5206\u7247\u7b56\u7565</p> <ul> <li> <p>\u54c8\u5e0c\u5206\u7247\uff1a\u6839\u636e\u54c8\u5e0c\u503c\u5c06\u6570\u636e\u5747\u5300\u5206\u5e03\u5230\u4e0d\u540c\u7684\u5206\u7247\u3002   <code>javascript   sh.shardCollection(\"databaseName.collectionName\", { shardKey: \"hashed\" })</code></p> </li> <li> <p>\u8303\u56f4\u5206\u7247\uff1a\u6839\u636e\u8303\u56f4\u5c06\u6570\u636e\u5206\u5e03\u5230\u4e0d\u540c\u7684\u5206\u7247\u3002\u9002\u7528\u4e8e\u5177\u6709\u6392\u5e8f\u9700\u6c42\u7684\u67e5\u8be2\u3002   <code>javascript   sh.shardCollection(\"databaseName.collectionName\", { shardKey: 1 })</code></p> </li> </ul> <p>17.2 \u5206\u7247\u7ba1\u7406</p> <ul> <li> <p>\u67e5\u770b\u5206\u7247\u72b6\u6001\uff1a   <code>javascript   sh.status()</code></p> </li> <li> <p>\u91cd\u65b0\u5e73\u8861\u5206\u7247\uff1a\u81ea\u52a8\u5e73\u8861\u6570\u636e\u7684\u8d1f\u8f7d\u3002   <code>javascript   sh.balanceCollection(\"databaseName.collectionName\")</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#18","title":"18. \u6570\u636e\u52a0\u5bc6","text":"<p>18.1 \u6570\u636e\u52a0\u5bc6 at-rest</p> <p>MongoDB Enterprise \u63d0\u4f9b\u4e86\u5185\u7f6e\u7684\u6570\u636e\u52a0\u5bc6\u529f\u80fd\uff0c\u786e\u4fdd\u6570\u636e\u5728\u5b58\u50a8\u65f6\u52a0\u5bc6\u3002</p> <pre><code>storage:\n  dbPath: /var/lib/mongodb\n  encryption:\n    keyFile: /path/to/keyfile\n</code></pre> <p>18.2 \u6570\u636e\u52a0\u5bc6 in-transit</p> <p>\u901a\u8fc7\u914d\u7f6e SSL/TLS \u4fdd\u62a4\u6570\u636e\u5728\u7f51\u7edc\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u5b89\u5168\u3002</p> <pre><code>net:\n  ssl:\n    mode: requireSSL\n    PEMKeyFile: /path/to/server.pem\n    CAFile: /path/to/ca.pem\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#19","title":"19. \u6570\u636e\u5907\u4efd\u548c\u6062\u590d","text":"<p>19.1 \u6301\u7eed\u5907\u4efd</p> <p>MongoDB Atlas \u63d0\u4f9b\u6301\u7eed\u5907\u4efd\u529f\u80fd\uff0c\u80fd\u591f\u5b9e\u65f6\u5907\u4efd\u6570\u636e\u5e76\u652f\u6301 Point-in-Time \u6062\u590d\u3002</p> <p>19.2 \u589e\u91cf\u5907\u4efd</p> <ul> <li> <p><code>mongodump</code> \u589e\u91cf\u5907\u4efd\uff1a   \u4f7f\u7528 <code>--oplog</code> \u9009\u9879\u6765\u5907\u4efd oplog\uff0c\u4ee5\u652f\u6301\u589e\u91cf\u6062\u590d\u3002   <code>bash   mongodump --oplog --out /backup/directory</code></p> </li> <li> <p><code>mongorestore</code> \u589e\u91cf\u6062\u590d\uff1a   <code>bash   mongorestore --oplogReplay /backup/directory</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#20","title":"20. \u6570\u636e\u8fc1\u79fb\u548c\u540c\u6b65","text":"<p>20.1 \u6570\u636e\u8fc1\u79fb</p> <ul> <li>MongoDB \u6570\u636e\u8fc1\u79fb\u5de5\u5177\uff1a\u4f7f\u7528 <code>mongomirror</code> \u5de5\u5177\u5c06\u6570\u636e\u4ece\u4e00\u4e2a MongoDB \u96c6\u7fa4\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\u96c6\u7fa4\u3002</li> <li>\u5728\u7ebf\u8fc1\u79fb\uff1a\u901a\u8fc7\u914d\u7f6e\u540c\u6b65\u96c6\u7fa4\uff0c\u9010\u6b65\u8fc1\u79fb\u6570\u636e\uff0c\u786e\u4fdd\u670d\u52a1\u4e0d\u4e2d\u65ad\u3002</li> </ul> <p>20.2 \u6570\u636e\u540c\u6b65</p> <ul> <li>MongoDB Atlas Data Lake\uff1a\u652f\u6301\u5c06\u6570\u636e\u4ece MongoDB \u96c6\u7fa4\u540c\u6b65\u5230\u6570\u636e\u6e56\uff0c\u4ee5\u8fdb\u884c\u5206\u6790\u548c\u5b58\u50a8\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#21","title":"21. \u5e94\u7528\u7a0b\u5e8f\u96c6\u6210","text":"<p>21.1 \u4f7f\u7528 ODM\uff08\u5bf9\u8c61\u6587\u6863\u6620\u5c04\uff09</p> <ul> <li> <p>Mongoose\uff1a\u6d41\u884c\u7684 Node.js ODM \u5e93\uff0c\u63d0\u4f9b\u4e86\u6a21\u578b\u548c\u9a8c\u8bc1\u529f\u80fd\u3002   <code>javascript   const mongoose = require('mongoose');   const UserSchema = new mongoose.Schema({ name: String });   const User = mongoose.model('User', UserSchema);</code></p> </li> <li> <p>Morphia\uff1aJava \u7684 ODM \u5e93\uff0c\u7528\u4e8e\u7b80\u5316\u4e0e MongoDB \u7684\u4ea4\u4e92\u3002   <code>java   @Entity   public class User {     @Id     private String id;     private String name;   }</code></p> </li> </ul> <p>21.2 MongoDB \u9a71\u52a8</p> <ul> <li>\u5b98\u65b9\u9a71\u52a8\uff1aMongoDB \u63d0\u4f9b\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\u7684\u5b98\u65b9\u9a71\u52a8\uff0c\u5982 Python\u3001Java\u3001C++ \u7b49\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/advance/#22","title":"22. \u76d1\u63a7\u548c\u8bca\u65ad","text":"<p>22.1 MongoDB Profiler</p> <p>MongoDB Profiler \u5141\u8bb8\u4f60\u8bb0\u5f55\u548c\u5206\u6790\u6162\u67e5\u8be2\u3002</p> <pre><code>db.setProfilingLevel(2, { slowms: 100 })\n</code></pre> <p>22.2 \u65e5\u5fd7\u5206\u6790</p> <ul> <li>\u65e5\u5fd7\u7ba1\u7406\uff1a\u5b9a\u671f\u5206\u6790 MongoDB \u65e5\u5fd7\uff0c\u8bc6\u522b\u6f5c\u5728\u95ee\u9898\u3002</li> <li>\u65e5\u5fd7\u805a\u5408\uff1a\u4f7f\u7528 ELK \u5806\u6808\uff08Elasticsearch, Logstash, Kibana\uff09\u805a\u5408\u548c\u53ef\u89c6\u5316 MongoDB \u65e5\u5fd7\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/","title":"MongoDB \u57fa\u7840\u6559\u7a0b","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#mongodb_1","title":"MongoDB \u6559\u7a0b\uff1a\u6982\u5ff5\u548c\u64cd\u4f5c\u8be6\u89e3","text":"<p>MongoDB \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 NoSQL \u6570\u636e\u5e93\uff0c\u91c7\u7528\u6587\u6863\u5b58\u50a8\u65b9\u5f0f\uff0c\u4f7f\u7528 BSON\uff08Binary JSON\uff09\u683c\u5f0f\u6765\u5b58\u50a8\u6570\u636e\u3002MongoDB \u4ee5\u5176\u7075\u6d3b\u7684\u6570\u636e\u6a21\u578b\u3001\u9ad8\u6027\u80fd\u548c\u6c34\u5e73\u6269\u5c55\u6027\u800c\u53d7\u5230\u5e7f\u6cdb\u4f7f\u7528\u3002\u4e0b\u9762\u5c06\u8be6\u7ec6\u8bb2\u89e3 MongoDB \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u57fa\u672c\u64cd\u4f5c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#1-mongodb","title":"1. MongoDB \u7684\u6838\u5fc3\u6982\u5ff5","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#11-document","title":"1.1 \u6587\u6863\uff08Document\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aMongoDB \u4e2d\u7684\u6587\u6863\u662f\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u884c\u8bb0\u5f55\u3002\u6587\u6863\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u7ec4\u7ec7\uff0c\u652f\u6301\u5d4c\u5957\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u5305\u542b\u6570\u7ec4\u548c\u5b50\u6587\u6863\u3002</li> <li>\u793a\u4f8b\uff1a   <code>json   {       \"_id\": ObjectId(\"507f1f77bcf86cd799439011\"),       \"name\": \"Alice\",       \"age\": 25,       \"address\": {           \"street\": \"123 Main St\",           \"city\": \"New York\"       },       \"hobbies\": [\"reading\", \"travelling\"]   }</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#12-collection","title":"1.2 \u96c6\u5408\uff08Collection\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u96c6\u5408\u662f\u6587\u6863\u7684\u5bb9\u5668\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u8868\u3002\u4e00\u4e2a\u96c6\u5408\u53ef\u4ee5\u5b58\u50a8\u591a\u4e2a\u6587\u6863\uff0c\u4e14\u6587\u6863\u7684\u7ed3\u6784\u53ef\u4ee5\u4e0d\u540c\u3002</li> <li>\u64cd\u4f5c\uff1a   <code>javascript   db.createCollection(\"users\")  // \u521b\u5efa\u96c6\u5408</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#13-database","title":"1.3 \u6570\u636e\u5e93\uff08Database\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aMongoDB \u5b9e\u4f8b\u4e2d\u5305\u542b\u591a\u4e2a\u6570\u636e\u5e93\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u96c6\u5408\u3002\u6570\u636e\u5e93\u901a\u8fc7\u540d\u79f0\u6765\u6807\u8bc6\u3002</li> <li>\u64cd\u4f5c\uff1a   <code>javascript   use mydatabase  // \u5207\u6362\u6216\u521b\u5efa\u6570\u636e\u5e93   show dbs        // \u67e5\u770b\u6240\u6709\u6570\u636e\u5e93</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#14-bsonbinary-json","title":"1.4 BSON\uff08Binary JSON\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aBSON \u662f\u4e00\u79cd\u4e8c\u8fdb\u5236\u5e8f\u5217\u5316\u683c\u5f0f\uff0cMongoDB \u4f7f\u7528\u5b83\u6765\u5b58\u50a8\u6587\u6863\u6570\u636e\u3002BSON \u5177\u6709\u6269\u5c55\u6027\uff0c\u652f\u6301\u66f4\u591a\u7684\u6570\u636e\u7c7b\u578b\uff08\u5982\u65e5\u671f\u3001\u5d4c\u5957\u6587\u6863\uff09\u4ee5\u53ca\u9ad8\u6548\u7684\u67e5\u8be2\u548c\u7d22\u5f15\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#15-index","title":"1.5 \u7d22\u5f15\uff08Index\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u7d22\u5f15\u7528\u4e8e\u52a0\u901f\u67e5\u8be2\u64cd\u4f5c\uff0c\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u7d22\u5f15\u3002MongoDB \u652f\u6301\u591a\u79cd\u7c7b\u578b\u7684\u7d22\u5f15\uff0c\u5982\u5355\u5b57\u6bb5\u7d22\u5f15\u3001\u590d\u5408\u7d22\u5f15\u3001\u5730\u7406\u7a7a\u95f4\u7d22\u5f15\u7b49\u3002</li> <li>\u64cd\u4f5c\uff1a   <code>javascript   db.users.createIndex({ \"name\": 1 })  // \u4e3aname\u5b57\u6bb5\u521b\u5efa\u5347\u5e8f\u7d22\u5f15</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#16-replica-set","title":"1.6 \u526f\u672c\u96c6\uff08Replica Set\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u526f\u672c\u96c6\u662f MongoDB \u63d0\u4f9b\u7684\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u5197\u4f59\u673a\u5236\uff0c\u901a\u8fc7\u591a\u8282\u70b9\u90e8\u7f72\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u6027\u3002\u526f\u672c\u96c6\u4e2d\u4e00\u4e2a\u8282\u70b9\u4e3a\u4e3b\u8282\u70b9\uff08Primary\uff09\uff0c\u5176\u4f59\u4e3a\u4ece\u8282\u70b9\uff08Secondary\uff09\u3002</li> <li>\u64cd\u4f5c\uff1a   <code>javascript   rs.initiate()  // \u521d\u59cb\u5316\u526f\u672c\u96c6</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#17-sharding","title":"1.7 \u5206\u7247\uff08Sharding\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u5206\u7247\u662f MongoDB \u7684\u6c34\u5e73\u6269\u5c55\u673a\u5236\uff0c\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u4fbf\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u96c6\u548c\u9ad8\u541e\u5410\u91cf\u7684\u64cd\u4f5c\u3002\u6bcf\u4e2a\u5206\u7247\u8d1f\u8d23\u90e8\u5206\u6570\u636e\u7684\u5b58\u50a8\u548c\u67e5\u8be2\u3002</li> <li>\u64cd\u4f5c\uff1a   <code>javascript   sh.enableSharding(\"mydatabase\")  // \u542f\u7528\u5206\u7247</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#2-mongodb","title":"2. MongoDB \u7684\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#21","title":"2.1 \u63d2\u5165\u6587\u6863","text":"<ul> <li>\u5355\u6761\u63d2\u5165\uff1a   <code>javascript   db.users.insertOne({ \"name\": \"Alice\", \"age\": 25, \"city\": \"New York\" })</code></li> <li>\u591a\u6761\u63d2\u5165\uff1a   <code>javascript   db.users.insertMany([{ \"name\": \"Bob\", \"age\": 30 }, { \"name\": \"Charlie\", \"age\": 35 }])</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#22","title":"2.2 \u67e5\u8be2\u6587\u6863","text":"<ul> <li>\u67e5\u8be2\u6240\u6709\u6587\u6863\uff1a   <code>javascript   db.users.find()</code></li> <li>\u5e26\u6761\u4ef6\u67e5\u8be2\uff1a   <code>javascript   db.users.find({ \"age\": { \"$gt\": 25 } })  // \u67e5\u8be2\u5e74\u9f84\u5927\u4e8e25\u7684\u6587\u6863</code></li> <li>\u6295\u5f71\uff1a   <code>javascript   db.users.find({ \"name\": \"Alice\" }, { \"name\": 1, \"city\": 1, \"_id\": 0 })  // \u4ec5\u8fd4\u56dename\u548ccity\u5b57\u6bb5</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#23","title":"2.3 \u66f4\u65b0\u6587\u6863","text":"<ul> <li>\u66f4\u65b0\u5355\u4e2a\u6587\u6863\uff1a   <code>javascript   db.users.updateOne({ \"name\": \"Alice\" }, { \"$set\": { \"age\": 26 } })</code></li> <li>\u66f4\u65b0\u591a\u4e2a\u6587\u6863\uff1a   <code>javascript   db.users.updateMany({ \"city\": \"New York\" }, { \"$set\": { \"city\": \"San Francisco\" } })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#24","title":"2.4 \u5220\u9664\u6587\u6863","text":"<ul> <li>\u5220\u9664\u5355\u4e2a\u6587\u6863\uff1a   <code>javascript   db.users.deleteOne({ \"name\": \"Alice\" })</code></li> <li>\u5220\u9664\u591a\u4e2a\u6587\u6863\uff1a   <code>javascript   db.users.deleteMany({ \"age\": { \"$lt\": 30 } })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#25","title":"2.5 \u7d22\u5f15\u64cd\u4f5c","text":"<ul> <li>\u521b\u5efa\u7d22\u5f15\uff1a   <code>javascript   db.users.createIndex({ \"age\": 1 })  // \u4e3aage\u5b57\u6bb5\u521b\u5efa\u5347\u5e8f\u7d22\u5f15</code></li> <li>\u67e5\u770b\u73b0\u6709\u7d22\u5f15\uff1a   <code>javascript   db.users.getIndexes()</code></li> <li>\u5220\u9664\u7d22\u5f15\uff1a   <code>javascript   db.users.dropIndex(\"age_1\")</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#3","title":"3. \u9ad8\u7ea7\u64cd\u4f5c","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#31","title":"3.1 \u805a\u5408\u64cd\u4f5c","text":"<p>MongoDB \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u805a\u5408\u6846\u67b6\uff0c\u7528\u4e8e\u5bf9\u6587\u6863\u8fdb\u884c\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u3002 - \u793a\u4f8b\uff1a\u8ba1\u7b97\u5404\u57ce\u5e02\u7684\u7528\u6237\u5e73\u5747\u5e74\u9f84\uff1a   <code>javascript   db.users.aggregate([       { \"$group\": { \"_id\": \"$city\", \"averageAge\": { \"$avg\": \"$age\" } } }   ])</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#32","title":"3.2 \u526f\u672c\u96c6\u914d\u7f6e","text":"<ul> <li>\u521d\u59cb\u5316\u526f\u672c\u96c6\uff1a   <code>javascript   rs.initiate()</code></li> <li>\u6dfb\u52a0\u4ece\u8282\u70b9\uff1a   <code>javascript   rs.add(\"mongodb2.example.net:27017\")</code></li> <li>\u67e5\u770b\u526f\u672c\u96c6\u72b6\u6001\uff1a   <code>javascript   rs.status()</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#33","title":"3.3 \u5206\u7247\u914d\u7f6e","text":"<ul> <li>\u542f\u7528\u5206\u7247\uff1a   <code>javascript   sh.enableSharding(\"mydatabase\")</code></li> <li>\u4e3a\u96c6\u5408\u521b\u5efa\u5206\u7247\u952e\uff1a   <code>javascript   sh.shardCollection(\"mydatabase.users\", { \"_id\": 1 })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#4","title":"4. \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#41","title":"4.1 \u5907\u4efd\u6570\u636e","text":"<ul> <li>\u4f7f\u7528 <code>mongodump</code> \u5907\u4efd\uff1a   <code>bash   mongodump --db mydatabase --out /backup/mongodb/</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#42","title":"4.2 \u6062\u590d\u6570\u636e","text":"<ul> <li>\u4f7f\u7528 <code>mongorestore</code> \u6062\u590d\uff1a   <code>bash   mongorestore --db mydatabase /backup/mongodb/mydatabase</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#5","title":"5. \u5b89\u5168\u4e0e\u7528\u6237\u7ba1\u7406","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#51","title":"5.1 \u7528\u6237\u7ba1\u7406","text":"<ul> <li>\u521b\u5efa\u7ba1\u7406\u5458\u7528\u6237\uff1a   <code>javascript   use admin   db.createUser({       user: \"admin\",       pwd: \"password\",       roles: [{ role: \"userAdminAnyDatabase\", db: \"admin\" }]   })</code></li> <li>\u521b\u5efa\u666e\u901a\u7528\u6237\uff1a   <code>javascript   use mydatabase   db.createUser({       user: \"myuser\",       pwd: \"mypassword\",       roles: [{ role: \"readWrite\", db: \"mydatabase\" }]   })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#52","title":"5.2 \u542f\u7528\u8eab\u4efd\u9a8c\u8bc1","text":"<ul> <li>\u914d\u7f6e\u6587\u4ef6\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\uff1a   \u5728 <code>mongod.conf</code> \u4e2d\u542f\u7528\uff1a   <code>yaml   security:     authorization: \"enabled\"</code></li> <li>\u4f7f\u7528\u8eab\u4efd\u9a8c\u8bc1\u8fde\u63a5\uff1a   <code>bash   mongo -u \"admin\" -p \"password\" --authenticationDatabase \"admin\"</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#6-mongodb","title":"6. MongoDB \u9ad8\u7ea7\u7279\u6027\u8be6\u89e3","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#61","title":"6.1 \u6570\u636e\u6a21\u578b\u8bbe\u8ba1","text":"<p>\u5728 MongoDB \u4e2d\uff0c\u6570\u636e\u6a21\u578b\u8bbe\u8ba1\u9700\u8981\u6839\u636e\u5e94\u7528\u573a\u666f\u548c\u67e5\u8be2\u9700\u6c42\u8fdb\u884c\u4f18\u5316\u3002\u4ee5\u4e0b\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff1a</p> <ul> <li> <p>\u5d4c\u5957\u6587\u6863\uff1a\u9002\u7528\u4e8e\u4e00\u5bf9\u591a\u6216\u591a\u5bf9\u591a\u5173\u7cfb\uff0c\u5d4c\u5957\u6587\u6863\u80fd\u5c06\u76f8\u5173\u6570\u636e\u5b58\u50a8\u5728\u4e00\u8d77\uff0c\u51cf\u5c11\u67e5\u8be2\u6b21\u6570\u3002   <code>json   {       \"_id\": 1,       \"name\": \"Bookstore\",       \"books\": [           { \"title\": \"Book A\", \"author\": \"Author X\" },           { \"title\": \"Book B\", \"author\": \"Author Y\" }       ]   }</code></p> </li> <li> <p>\u5f15\u7528\uff08References\uff09\uff1a\u5f53\u6570\u636e\u91cf\u8f83\u5927\u6216\u9700\u8981\u72ec\u7acb\u67e5\u8be2\u65f6\uff0c\u4f7f\u7528\u5f15\u7528\u6a21\u5f0f\uff0c\u901a\u8fc7\u5916\u952e\u8fdb\u884c\u5173\u8054\u3002   <code>json   {       \"_id\": 1,       \"name\": \"Author X\"   }</code> <code>json   {       \"_id\": 101,       \"title\": \"Book A\",       \"author_id\": 1   }</code></p> </li> <li> <p>\u5f52\u6863\u6a21\u5f0f\uff1a\u5bf9\u4e8e\u5927\u91cf\u5386\u53f2\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u65f6\u95f4\u6233\u6216\u5176\u4ed6\u6761\u4ef6\u5c06\u65e7\u6570\u636e\u5f52\u6863\u81f3\u72ec\u7acb\u7684\u96c6\u5408\u6216\u6570\u636e\u5e93\uff0c\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#62-mongodb","title":"6.2 MongoDB \u7684\u5206\u7247\u7b56\u7565","text":"<p>MongoDB \u7684\u5206\u7247\u673a\u5236\u80fd\u591f\u6709\u6548\u5730\u7ba1\u7406\u6d77\u91cf\u6570\u636e\uff0c\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u5206\u7247\u7b56\u7565\uff1a</p> <ul> <li> <p>\u54c8\u5e0c\u5206\u7247\uff08Hashed Sharding\uff09\uff1a\u6839\u636e\u6587\u6863\u952e\u7684\u54c8\u5e0c\u503c\u8fdb\u884c\u5206\u7247\uff0c\u9002\u5408\u5747\u5300\u5206\u5e03\u7684\u5199\u64cd\u4f5c\u3002   <code>javascript   sh.shardCollection(\"mydatabase.users\", { \"_id\": \"hashed\" })</code></p> </li> <li> <p>\u8303\u56f4\u5206\u7247\uff08Range Sharding\uff09\uff1a\u6839\u636e\u6587\u6863\u952e\u7684\u8303\u56f4\u8fdb\u884c\u5206\u7247\uff0c\u9002\u5408\u6709\u5e8f\u6570\u636e\u7684\u67e5\u8be2\u3002   <code>javascript   sh.shardCollection(\"mydatabase.orders\", { \"order_date\": 1 })</code></p> </li> <li> <p>\u6807\u7b7e\u5206\u7247\uff08Tag Aware Sharding\uff09\uff1a\u4e3a\u5206\u7247\u6dfb\u52a0\u6807\u7b7e\uff0c\u5206\u914d\u6570\u636e\u5230\u7279\u5b9a\u7684\u6570\u636e\u4e2d\u5fc3\u6216\u533a\u57df\uff0c\u9002\u5408\u5730\u7406\u5206\u5e03\u7684\u6570\u636e\u7ba1\u7406\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#63-mongodb","title":"6.3 MongoDB \u805a\u5408\u6846\u67b6\u6df1\u5165\u89e3\u6790","text":"<p>MongoDB \u805a\u5408\u6846\u67b6\u7528\u4e8e\u5bf9\u96c6\u5408\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u548c\u5206\u6790\u64cd\u4f5c\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u805a\u5408\u64cd\u4f5c\uff1a</p> <ul> <li> <p><code>$match</code>\uff1a\u7528\u4e8e\u8fc7\u6ee4\u6587\u6863\uff0c\u7c7b\u4f3c\u4e8e SQL \u7684 WHERE \u5b50\u53e5\u3002   <code>javascript   db.orders.aggregate([       { \"$match\": { \"status\": \"shipped\" } }   ])</code></p> </li> <li> <p><code>$group</code>\uff1a\u7528\u4e8e\u5bf9\u6587\u6863\u8fdb\u884c\u5206\u7ec4\uff0c\u5e76\u53ef\u4ee5\u5bf9\u6bcf\u7ec4\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\uff0c\u7c7b\u4f3c\u4e8e SQL \u7684 GROUP BY\u3002   <code>javascript   db.orders.aggregate([       { \"$group\": { \"_id\": \"$customerId\", \"totalAmount\": { \"$sum\": \"$amount\" } } }   ])</code></p> </li> <li> <p><code>$lookup</code>\uff1a\u7528\u4e8e\u5728\u4e0d\u540c\u96c6\u5408\u4e4b\u95f4\u8fdb\u884c\u8054\u8868\u67e5\u8be2\uff0c\u7c7b\u4f3c\u4e8e SQL \u7684 JOIN\u3002   <code>javascript   db.orders.aggregate([       {           \"$lookup\": {               \"from\": \"customers\",               \"localField\": \"customerId\",               \"foreignField\": \"_id\",               \"as\": \"customerDetails\"           }       }   ])</code></p> </li> <li> <p><code>$unwind</code>\uff1a\u7528\u4e8e\u5c06\u6570\u7ec4\u5b57\u6bb5\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u89e3\u6784\u4e3a\u5355\u72ec\u7684\u6587\u6863\u3002   <code>javascript   db.orders.aggregate([       { \"$unwind\": \"$items\" }   ])</code></p> </li> <li> <p><code>$project</code>\uff1a\u7528\u4e8e\u9009\u62e9\u6587\u6863\u4e2d\u7684\u7279\u5b9a\u5b57\u6bb5\uff0c\u5e76\u5bf9\u8fd9\u4e9b\u5b57\u6bb5\u8fdb\u884c\u91cd\u547d\u540d\u6216\u8ba1\u7b97\u3002   <code>javascript   db.orders.aggregate([       { \"$project\": { \"customerId\": 1, \"totalAmount\": { \"$sum\": \"$items.price\" } } }   ])</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#64","title":"6.4 \u526f\u672c\u96c6\u9ad8\u53ef\u7528\u6027\u914d\u7f6e","text":"<p>\u526f\u672c\u96c6\u662f MongoDB \u63d0\u4f9b\u7684\u5bb9\u9519\u673a\u5236\uff0c\u901a\u8fc7\u591a\u8282\u70b9\u90e8\u7f72\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u9ad8\u53ef\u7528\u6027\u548c\u53ef\u9760\u6027\u3002</p> <ul> <li> <p>\u914d\u7f6e\u4ef2\u88c1\u8282\u70b9\uff1a\u4ef2\u88c1\u8282\u70b9\uff08Arbiter\uff09\u7528\u4e8e\u9009\u4e3e\u4e3b\u8282\u70b9\uff0c\u4f46\u4e0d\u5b58\u50a8\u6570\u636e\u3002   <code>javascript   rs.addArb(\"arbiter.example.net:27017\")</code></p> </li> <li> <p>\u66f4\u6539\u4f18\u5148\u7ea7\uff1a\u8c03\u6574\u4ece\u8282\u70b9\u7684\u4f18\u5148\u7ea7\uff0c\u4f7f\u5176\u5728\u4e3b\u8282\u70b9\u6545\u969c\u65f6\u80fd\u591f\u66f4\u5feb\u6210\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\u3002   <code>javascript   rs.reconfig({       _id: \"rs0\",       members: [           { _id: 0, host: \"mongodb1.example.net:27017\", priority: 2 },           { _id: 1, host: \"mongodb2.example.net:27017\", priority: 0.5 }       ]   })</code></p> </li> <li> <p>\u8bbe\u7f6e\u5ef6\u8fdf\u540c\u6b65\uff1a\u914d\u7f6e\u67d0\u4e9b\u4ece\u8282\u70b9\u5ef6\u8fdf\u540c\u6b65\u6570\u636e\uff0c\u4ee5\u5907\u5728\u8bef\u5220\u9664\u6570\u636e\u65f6\u8fdb\u884c\u6570\u636e\u6062\u590d\u3002   <code>javascript   rs.add({       host: \"mongodb3.example.net:27017\",       priority: 0,       slaveDelay: 3600  // \u5ef6\u8fdf1\u5c0f\u65f6\u540c\u6b65   })</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#65","title":"6.5 \u6027\u80fd\u4f18\u5316","text":"<p>MongoDB \u7684\u6027\u80fd\u4f18\u5316\u6d89\u53ca\u591a\u4e2a\u65b9\u9762\uff0c\u4ece\u786c\u4ef6\u914d\u7f6e\u5230\u67e5\u8be2\u4f18\u5316\u3002</p> <ul> <li>\u67e5\u8be2\u4f18\u5316\uff1a</li> <li>\u4f7f\u7528\u7d22\u5f15\uff1a\u786e\u4fdd\u5e38\u7528\u7684\u67e5\u8be2\u5b57\u6bb5\u6709\u7d22\u5f15\u652f\u6301\u3002     <code>javascript     db.users.createIndex({ \"email\": 1 })</code></li> <li> <p>\u907f\u514d\u626b\u63cf\u6574\u4e2a\u96c6\u5408\uff1a\u4f7f\u7528 <code>limit</code> \u9650\u5236\u8fd4\u56de\u7684\u6587\u6863\u6570\u91cf\uff0c\u51cf\u5c11\u5185\u5b58\u4f7f\u7528\u3002     <code>javascript     db.orders.find().limit(100)</code></p> </li> <li> <p>\u786c\u4ef6\u914d\u7f6e\uff1a</p> </li> <li>\u589e\u52a0 RAM\uff1aMongoDB \u4f1a\u5c3d\u91cf\u5c06\u5e38\u7528\u6570\u636e\u653e\u5165\u5185\u5b58\uff0c\u589e\u52a0 RAM \u53ef\u4ee5\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002</li> <li> <p>\u4f7f\u7528 SSD\uff1a\u9ad8 IOPS \u7684 SSD \u53ef\u4ee5\u663e\u8457\u63d0\u5347\u5199\u64cd\u4f5c\u7684\u6027\u80fd\u3002</p> </li> <li> <p>\u5206\u7247\u96c6\u7fa4\u8c03\u4f18\uff1a</p> </li> <li>\u5408\u7406\u5206\u7247\u952e\uff1a\u9009\u62e9\u80fd\u5747\u5300\u5206\u5e03\u5199\u64cd\u4f5c\u7684\u5206\u7247\u952e\u3002</li> <li>\u76d1\u63a7\u548c\u8c03\u6574\u5206\u7247\uff1a\u5b9a\u671f\u76d1\u63a7\u5206\u7247\u7684\u8d1f\u8f7d\uff0c\u5fc5\u8981\u65f6\u624b\u52a8\u5747\u8861\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#66","title":"6.6 \u5b89\u5168\u6027\u914d\u7f6e","text":"<p>MongoDB \u7684\u5b89\u5168\u6027\u914d\u7f6e\u81f3\u5173\u91cd\u8981\uff0c\u5c24\u5176\u662f\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u3002</p> <ul> <li> <p>\u542f\u7528\u8ba4\u8bc1\uff1a   \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5fc5\u987b\u542f\u7528\u7528\u6237\u8ba4\u8bc1\uff0c\u9632\u6b62\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u3002   <code>yaml   security:     authorization: enabled</code></p> </li> <li> <p>\u542f\u7528 SSL/TLS\uff1a   \u4f7f\u7528 SSL/TLS \u52a0\u5bc6\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u4fdd\u62a4\u654f\u611f\u6570\u636e\u3002   <code>yaml   net:     ssl:       mode: requireSSL       PEMKeyFile: /path/to/ssl/mongodb.pem</code></p> </li> <li> <p>\u8bbe\u7f6e\u9632\u706b\u5899\uff1a   \u53ea\u5141\u8bb8\u53ef\u4fe1 IP \u5730\u5740\u8bbf\u95ee MongoDB \u5b9e\u4f8b\uff0c\u914d\u7f6e\u670d\u52a1\u5668\u7684\u9632\u706b\u5899\u4ee5\u9650\u5236\u8bbf\u95ee\u3002</p> </li> <li> <p>\u5907\u4efd\u4e0e\u6062\u590d\u7684\u5b89\u5168\u6027\uff1a   \u786e\u4fdd\u5907\u4efd\u6587\u4ef6\u7684\u5b89\u5168\u6027\uff0c\u4f7f\u7528\u52a0\u5bc6\u7684\u5907\u4efd\u5b58\u50a8\uff0c\u5e76\u5b9a\u671f\u6d4b\u8bd5\u6062\u590d\u6d41\u7a0b\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#7-mongodb","title":"7. MongoDB \u9ad8\u7ea7\u64cd\u4f5c\u4e0e\u5de5\u5177","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#71","title":"7.1 \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d","text":"<p>\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5b9a\u671f\u5907\u4efd\u6570\u636e\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002MongoDB \u63d0\u4f9b\u4e86\u591a\u79cd\u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d\u7684\u65b9\u5f0f\u3002</p> <ul> <li><code>mongodump</code> \u548c <code>mongorestore</code>\uff1a<code>mongodump</code> \u7528\u4e8e\u5907\u4efd\u6570\u636e\u5e93\uff0c<code>mongorestore</code> \u7528\u4e8e\u4ece\u5907\u4efd\u4e2d\u6062\u590d\u6570\u636e\u3002</li> </ul> <p><code>bash   mongodump --db mydatabase --out /backup/mongodump/   mongorestore --db mydatabase /backup/mongodump/mydatabase/</code></p> <ul> <li>Oplog \u5907\u4efd\uff1a\u5bf9\u4e8e\u526f\u672c\u96c6\uff0c\u9664\u4e86\u5e38\u89c4\u5907\u4efd\uff0c\u8fd8\u53ef\u4ee5\u5907\u4efd Oplog\uff08\u64cd\u4f5c\u65e5\u5fd7\uff09\uff0c\u5b9e\u73b0\u589e\u91cf\u5907\u4efd\u3002</li> </ul> <p><code>bash   mongodump --oplog --db mydatabase --out /backup/oplogdump/   mongorestore --oplogReplay --db mydatabase /backup/oplogdump/</code></p> <ul> <li>\u5feb\u7167\u5907\u4efd\uff1a\u4f7f\u7528\u6587\u4ef6\u7cfb\u7edf\u7684\u5feb\u7167\u529f\u80fd\uff0c\u53ef\u4ee5\u5728\u4e0d\u505c\u6b62 MongoDB \u670d\u52a1\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5907\u4efd\u3002\u9002\u7528\u4e8e\u6709\u9ad8\u53ef\u7528\u6027\u8981\u6c42\u7684\u751f\u4ea7\u73af\u5883\u3002</li> </ul> <p><code>bash   lvcreate --size 10G --snapshot --name mdb_backup /dev/vg0/mongodb</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#72","title":"7.2 \u6027\u80fd\u76d1\u63a7\u4e0e\u5206\u6790","text":"<p>\u5bf9 MongoDB \u7684\u6027\u80fd\u76d1\u63a7\u6709\u52a9\u4e8e\u63d0\u524d\u53d1\u73b0\u6f5c\u5728\u95ee\u9898\uff0c\u5e76\u4f18\u5316\u6570\u636e\u5e93\u914d\u7f6e\u3002</p> <ul> <li><code>mongostat</code>\uff1a\u5b9e\u65f6\u67e5\u770b MongoDB \u7684\u5173\u952e\u6027\u80fd\u6307\u6807\uff0c\u5982\u67e5\u8be2\u3001\u63d2\u5165\u3001\u66f4\u65b0\u3001\u5220\u9664\u7684\u901f\u7387\u7b49\u3002</li> </ul> <p><code>bash   mongostat --host mongodb.example.net --port 27017</code></p> <ul> <li><code>mongotop</code>\uff1a\u5b9e\u65f6\u67e5\u770b MongoDB \u5404\u96c6\u5408\u7684\u8bfb\u5199\u64cd\u4f5c\u8017\u65f6\uff0c\u5e2e\u52a9\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u3002</li> </ul> <p><code>bash   mongotop 5</code></p> <ul> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a\u914d\u7f6e MongoDB \u8bb0\u5f55\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u5e2e\u52a9\u5206\u6790\u548c\u4f18\u5316\u6162\u67e5\u8be2\u3002</li> </ul> <p><code>yaml   operationProfiling:     slowOpThresholdMs: 100  # \u8bb0\u5f55\u8d85\u8fc7 100 \u6beb\u79d2\u7684\u67e5\u8be2     mode: all</code></p> <ul> <li>\u76d1\u63a7\u5de5\u5177\uff1a\u4f7f\u7528\u5916\u90e8\u76d1\u63a7\u5de5\u5177\uff08\u5982 MongoDB Atlas\u3001Prometheus\u3001Grafana \u7b49\uff09\u6765\u76d1\u63a7 MongoDB \u7684\u6027\u80fd\u548c\u8d44\u6e90\u4f7f\u7528\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#73","title":"7.3 \u6570\u636e\u8fc1\u79fb\u4e0e\u5bfc\u5165\u5bfc\u51fa","text":"<p>\u5728\u5b9e\u9645\u573a\u666f\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u5c06\u6570\u636e\u4ece\u4e00\u4e2a MongoDB \u5b9e\u4f8b\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6216\u8005\u4ece\u5176\u4ed6\u6570\u636e\u5e93\u5bfc\u5165\u6570\u636e\u3002</p> <ul> <li><code>mongoimport</code> \u548c <code>mongoexport</code>\uff1a\u7528\u4e8e\u5c06 JSON \u6216 CSV \u683c\u5f0f\u7684\u6570\u636e\u5bfc\u5165\u5230 MongoDB\uff0c\u6216\u4ece MongoDB \u5bfc\u51fa\u6570\u636e\u3002</li> </ul> <p><code>bash   mongoexport --db mydatabase --collection mycollection --out /backup/export.json   mongoimport --db newdatabase --collection newcollection --file /backup/export.json</code></p> <ul> <li><code>mongorestore</code> \u8de8\u7248\u672c\u8fc1\u79fb\uff1a\u5728 MongoDB \u7684\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u65f6\uff0c\u5efa\u8bae\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code> \u8fdb\u884c\u8fc1\u79fb\uff0c\u786e\u4fdd\u6570\u636e\u517c\u5bb9\u6027\u3002</li> </ul> <p><code>bash   mongodump --uri \"mongodb://oldserver:27017\" --archive=/backup/dump.archive   mongorestore --uri \"mongodb://newserver:27017\" --archive=/backup/dump.archive</code></p> <ul> <li>\u6570\u636e\u540c\u6b65\u5de5\u5177\uff1a\u4f7f\u7528 <code>mongo-sync</code> \u7b49\u5de5\u5177\uff0c\u81ea\u52a8\u540c\u6b65\u4e24\u4e2a MongoDB \u5b9e\u4f8b\u7684\u6570\u636e\uff0c\u9002\u7528\u4e8e\u6301\u7eed\u6570\u636e\u8fc1\u79fb\u6216\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7684\u540c\u6b65\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#74","title":"7.4 \u914d\u7f6e\u4e0e\u7ba1\u7406\u5de5\u5177","text":"<p>MongoDB \u63d0\u4f9b\u4e86\u591a\u79cd\u5de5\u5177\u548c\u547d\u4ee4\u6765\u914d\u7f6e\u548c\u7ba1\u7406\u6570\u636e\u5e93\u3002</p> <ul> <li><code>mongo</code> shell\uff1aMongoDB \u7684\u4ea4\u4e92\u5f0f shell\uff0c\u652f\u6301 JavaScript \u8bed\u6cd5\uff0c\u5e38\u7528\u4e8e\u76f4\u63a5\u7ba1\u7406\u6570\u636e\u5e93\u3002</li> </ul> <p><code>javascript   // \u8fde\u63a5\u6570\u636e\u5e93   mongo --host mongodb.example.net --port 27017   // \u76f4\u63a5\u6267\u884c\u67e5\u8be2   db.users.find({ age: { $gt: 18 } })</code></p> <ul> <li> <p>MongoDB Atlas\uff1aMongoDB \u5b98\u65b9\u63d0\u4f9b\u7684\u4e91\u670d\u52a1\u5e73\u53f0\uff0c\u652f\u6301\u81ea\u52a8\u5316\u7684\u6570\u636e\u5e93\u90e8\u7f72\u3001\u7ba1\u7406\u548c\u76d1\u63a7\u3002\u9002\u5408\u4e0d\u60f3\u81ea\u884c\u7ba1\u7406\u6570\u636e\u5e93\u7684\u5f00\u53d1\u56e2\u961f\u3002</p> </li> <li> <p><code>mongos</code>\uff1a\u7528\u4e8e\u5206\u7247\u96c6\u7fa4\u7684\u8def\u7531\u670d\u52a1\uff0c<code>mongos</code> \u5b9e\u4f8b\u8d1f\u8d23\u5c06\u67e5\u8be2\u8bf7\u6c42\u8def\u7531\u5230\u6b63\u786e\u7684\u5206\u7247\u3002</p> </li> </ul> <p><code>bash   mongos --configdb configReplSet/host1:27019,host2:27019,host3:27019 --bind_ip 0.0.0.0</code></p> <ul> <li><code>mongo-express</code>\uff1a\u4e00\u4e2a\u57fa\u4e8e web \u7684 MongoDB \u7ba1\u7406\u5de5\u5177\uff0c\u63d0\u4f9b\u56fe\u5f62\u5316\u754c\u9762\u6765\u67e5\u770b\u548c\u7ba1\u7406\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u3002</li> </ul> <p><code>bash   docker run -it --rm -p 8081:8081 -e ME_CONFIG_MONGODB_ADMINUSERNAME=admin -e ME_CONFIG_MONGODB_ADMINPASSWORD=password mongo-express</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#75","title":"7.5 \u81ea\u52a8\u5316\u811a\u672c\u4e0e\u8c03\u5ea6","text":"<p>\u5728\u5927\u89c4\u6a21\u7684\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u81ea\u52a8\u5316\u811a\u672c\u548c\u8c03\u5ea6\u4efb\u52a1\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li>Cron Jobs\uff1a\u5229\u7528 Linux \u7684 cron \u6765\u5b9a\u671f\u6267\u884c MongoDB \u5907\u4efd\u3001\u6e05\u7406\u6216\u5176\u4ed6\u7ba1\u7406\u4efb\u52a1\u3002</li> </ul> <p><code>bash   0 3 * * * /usr/bin/mongodump --db mydatabase --out /backup/mongodump/</code></p> <ul> <li>\u81ea\u5b9a\u4e49\u811a\u672c\uff1a\u7f16\u5199\u81ea\u5b9a\u4e49\u7684 Python\u3001Shell \u7b49\u811a\u672c\u6765\u6279\u91cf\u7ba1\u7406 MongoDB \u6570\u636e\u5e93\uff0c\u4f8b\u5982\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u6570\u636e\u6216\u5408\u5e76\u96c6\u5408\u3002</li> </ul> <p><code>python   # \u793a\u4f8b\uff1a\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u7684 session \u6570\u636e   from pymongo import MongoClient   client = MongoClient('mongodb://localhost:27017/')   db = client.mydatabase   result = db.sessions.delete_many({\"expireAt\": {\"$lt\": datetime.utcnow()}})</code></p> <ul> <li>Ansible \u7b49\u81ea\u52a8\u5316\u5de5\u5177\uff1a\u4f7f\u7528 Ansible \u7b49\u914d\u7f6e\u7ba1\u7406\u5de5\u5177\u81ea\u52a8\u5316\u90e8\u7f72\u548c\u7ba1\u7406 MongoDB \u96c6\u7fa4\u3002</li> </ul> <p><code>yaml   - name: Install MongoDB     apt:       name: mongodb-org       state: present</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#76","title":"7.6 \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":"<p>\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u4f60\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u8fde\u63a5\u95ee\u9898\uff1a\u5982\u679c\u65e0\u6cd5\u8fde\u63a5\u5230 MongoDB \u5b9e\u4f8b\uff0c\u68c0\u67e5\u9632\u706b\u5899\u8bbe\u7f6e\u3001MongoDB \u670d\u52a1\u72b6\u6001\u4ee5\u53ca\u7f51\u7edc\u914d\u7f6e\u3002</li> </ul> <p><code>bash   sudo ufw allow 27017  # \u5141\u8bb8 MongoDB \u9ed8\u8ba4\u7aef\u53e3</code></p> <ul> <li>\u6027\u80fd\u4e0b\u964d\uff1a\u5f53 MongoDB \u6027\u80fd\u4e0b\u964d\u65f6\uff0c\u68c0\u67e5\u7d22\u5f15\u662f\u5426\u5408\u7406\u914d\u7f6e\uff0c\u662f\u5426\u6709\u6162\u67e5\u8be2\uff0c\u78c1\u76d8\u662f\u5426\u8fbe\u5230\u74f6\u9888\u3002</li> </ul> <p><code>bash   iostat -dx 5  # \u67e5\u770b\u78c1\u76d8 I/O \u6027\u80fd</code></p> <ul> <li>\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\uff1a\u5f53 MongoDB \u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u65f6\uff0c\u68c0\u67e5\u5185\u5b58\u914d\u7f6e\uff0c\u662f\u5426\u6709\u5927\u91cf\u672a\u5173\u95ed\u7684\u6e38\u6807\uff0c\u6216\u672a\u4f18\u5316\u7684\u67e5\u8be2\u3002</li> </ul> <p><code>javascript   db.serverStatus().metrics.cursor  # \u68c0\u67e5\u6e38\u6807\u72b6\u6001</code></p> <ul> <li>\u6570\u636e\u4e22\u5931\uff1a\u5982\u679c\u53d1\u751f\u6570\u636e\u4e22\u5931\uff0c\u9996\u5148\u68c0\u67e5\u5907\u4efd\u662f\u5426\u53ef\u7528\uff0c\u7136\u540e\u8003\u8651\u4f7f\u7528 Oplog \u56de\u6eda\u6216\u5ef6\u8fdf\u540c\u6b65\u8282\u70b9\u6062\u590d\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#8-mongodb","title":"8. MongoDB \u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u5e94\u7528","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#81","title":"8.1 \u5206\u7247\u96c6\u7fa4\u914d\u7f6e\u4e0e\u7ba1\u7406","text":"<p>MongoDB \u7684\u5206\u7247\u673a\u5236\u5141\u8bb8\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u5b9e\u73b0\u6c34\u5e73\u6269\u5c55\u3002\u4ee5\u4e0b\u662f\u5206\u7247\u96c6\u7fa4\u7684\u914d\u7f6e\u4e0e\u7ba1\u7406\uff1a</p> <ul> <li>\u8bbe\u7f6e\u5206\u7247\u96c6\u7fa4\uff1a</li> <li>\u914d\u7f6e\u670d\u52a1\u5668\uff1a\u7528\u4e8e\u5b58\u50a8\u96c6\u7fa4\u7684\u5143\u6570\u636e\u3002     <code>bash     mongod --configsvr --replSet configReplSet --port 27019 --dbpath /data/configdb</code></li> <li>\u5206\u7247\u670d\u52a1\u5668\uff1a\u5b58\u50a8\u5b9e\u9645\u7684\u6570\u636e\u3002     <code>bash     mongod --shardsvr --replSet shardReplSet1 --port 27018 --dbpath /data/shard1</code></li> <li> <p>\u8def\u7531\u670d\u52a1\u5668\uff08mongos\uff09\uff1a\u7528\u4e8e\u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u5e76\u5c06\u8bf7\u6c42\u8def\u7531\u5230\u5408\u9002\u7684\u5206\u7247\u3002     <code>bash     mongos --configdb configReplSet/host1:27019,host2:27019,host3:27019 --bind_ip 0.0.0.0</code></p> </li> <li> <p>\u6dfb\u52a0\u548c\u5220\u9664\u5206\u7247\uff1a</p> </li> <li>\u6dfb\u52a0\u5206\u7247\uff1a     <code>javascript     sh.addShard(\"shardReplSet1/host1:27018,host2:27018\")</code></li> <li> <p>\u5220\u9664\u5206\u7247\uff1a     <code>javascript     sh.removeShard(\"shardReplSet1/host1:27018\")</code></p> </li> <li> <p>\u6570\u636e\u5747\u8861\uff1aMongoDB \u4f1a\u81ea\u52a8\u5e73\u8861\u6570\u636e\u4ee5\u786e\u4fdd\u5404\u4e2a\u5206\u7247\u7684\u8d1f\u8f7d\u5747\u8861\u3002   <code>javascript   sh.startBalancer()  // \u542f\u52a8\u6570\u636e\u5747\u8861\u5668   sh.stopBalancer()   // \u505c\u6b62\u6570\u636e\u5747\u8861\u5668</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#82","title":"8.2 \u6570\u636e\u4e00\u81f4\u6027\u4e0e\u6545\u969c\u6062\u590d","text":"<p>\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\uff0c\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u548c\u5904\u7406\u6545\u969c\u6062\u590d\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002</p> <ul> <li>\u4e00\u81f4\u6027\u7ea7\u522b\uff1a</li> <li> <p>\u8bfb\u5199\u4e00\u81f4\u6027\uff1aMongoDB \u63d0\u4f9b\u4e86\u8bfb\u5199\u4e00\u81f4\u6027\u7ea7\u522b\u7684\u914d\u7f6e\uff0c\u5141\u8bb8\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e0b\u9009\u62e9\u9002\u5408\u7684\u4e00\u81f4\u6027\u4fdd\u8bc1\u3002     <code>javascript     db.collection.find({ query }, { readConcern: { level: \"majority\" } })     db.collection.update({ query }, { $set: { field: value } }, { writeConcern: { w: \"majority\" } })</code></p> </li> <li> <p>\u6545\u969c\u6062\u590d\uff1a</p> </li> <li>\u4e3b\u8282\u70b9\u6545\u969c\u8f6c\u79fb\uff1aMongoDB \u7684\u526f\u672c\u96c6\u652f\u6301\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff0c\u4e3b\u8282\u70b9\u5931\u8d25\u65f6\uff0c\u526f\u672c\u96c6\u4f1a\u9009\u4e3e\u65b0\u7684\u4e3b\u8282\u70b9\u3002</li> <li> <p>\u5907\u4efd\u6062\u590d\uff1a\u5229\u7528\u5907\u4efd\u548c Oplog\uff08\u64cd\u4f5c\u65e5\u5fd7\uff09\u6062\u590d\u6570\u636e\u3002     <code>bash     mongorestore --oplogReplay --db mydatabase /backup/oplogdump/</code></p> </li> <li> <p>\u8bfb\u5199\u5206\u79bb\uff1a\u5728\u526f\u672c\u96c6\u73af\u5883\u4e2d\uff0c\u53ef\u4ee5\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u8bfb\u5199\u5206\u79bb\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u548c\u53ef\u7528\u6027\u3002   <code>javascript   const client = new MongoClient(uri, {     readPreference: 'secondaryPreferred',   });</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#83","title":"8.3 \u9ad8\u53ef\u7528\u6027\u67b6\u6784","text":"<p>MongoDB \u7684\u9ad8\u53ef\u7528\u6027\u67b6\u6784\u8bbe\u8ba1\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>\u526f\u672c\u96c6\u914d\u7f6e\uff1a</li> <li>\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\uff1a\u526f\u672c\u96c6\u7531\u4e00\u4e2a\u4e3b\u8282\u70b9\u548c\u591a\u4e2a\u4ece\u8282\u70b9\u7ec4\u6210\uff0c\u4e3b\u8282\u70b9\u5904\u7406\u6240\u6709\u7684\u5199\u64cd\u4f5c\uff0c\u4ece\u8282\u70b9\u7528\u4e8e\u8bfb\u64cd\u4f5c\u548c\u6570\u636e\u5907\u4efd\u3002</li> <li> <p>\u4ef2\u88c1\u8282\u70b9\uff1a\u7528\u4e8e\u53c2\u4e0e\u9009\u4e3e\u8fc7\u7a0b\uff0c\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u4f46\u53c2\u4e0e\u526f\u672c\u96c6\u7684\u9009\u4e3e\u3002     <code>javascript     rs.addArb(\"arbiter.example.net:27017\")</code></p> </li> <li> <p>\u591a\u6570\u636e\u4e2d\u5fc3\u90e8\u7f72\uff1a\u5728\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\u90e8\u7f72 MongoDB \u5b9e\u4f8b\uff0c\u53ef\u4ee5\u63d0\u9ad8\u707e\u96be\u6062\u590d\u80fd\u529b\u3002</p> </li> <li> <p>\u6807\u7b7e\u5206\u7247\uff1a\u6839\u636e\u5730\u7406\u4f4d\u7f6e\u6216\u6570\u636e\u4e2d\u5fc3\u6807\u7b7e\u8fdb\u884c\u5206\u7247\uff0c\u5b9e\u73b0\u66f4\u7ec6\u7c92\u5ea6\u7684\u6570\u636e\u5206\u5e03\u3002</p> </li> <li> <p>\u5907\u4efd\u548c\u6062\u590d\uff1a\u5b9a\u671f\u5907\u4efd\u548c\u6d4b\u8bd5\u6062\u590d\u8fc7\u7a0b\uff0c\u786e\u4fdd\u6570\u636e\u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u53ef\u4ee5\u6062\u590d\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#84","title":"8.4 \u6027\u80fd\u4f18\u5316","text":"<p>MongoDB \u6027\u80fd\u4f18\u5316\u6d89\u53ca\u6570\u636e\u5e93\u7684\u5404\u4e2a\u65b9\u9762\uff0c\u5305\u62ec\u67e5\u8be2\u4f18\u5316\u3001\u7d22\u5f15\u4f18\u5316\u3001\u786c\u4ef6\u914d\u7f6e\u7b49\u3002</p> <ul> <li>\u7d22\u5f15\u4f18\u5316\uff1a</li> <li>\u590d\u5408\u7d22\u5f15\uff1a\u5bf9\u4e8e\u591a\u5b57\u6bb5\u67e5\u8be2\uff0c\u4f7f\u7528\u590d\u5408\u7d22\u5f15\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002     <code>javascript     db.orders.createIndex({ \"customerId\": 1, \"orderDate\": -1 })</code></li> <li> <p>\u8986\u76d6\u7d22\u5f15\uff1a\u5c3d\u91cf\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u4ee5\u907f\u514d\u989d\u5916\u7684\u67e5\u8be2\u64cd\u4f5c\u3002     <code>javascript     db.orders.find({ \"customerId\": 1 }, { \"orderDate\": 1 }).hint({ \"customerId\": 1 })</code></p> </li> <li> <p>\u67e5\u8be2\u4f18\u5316\uff1a</p> </li> <li>\u4f18\u5316\u67e5\u8be2\u6761\u4ef6\uff1a\u786e\u4fdd\u67e5\u8be2\u6761\u4ef6\u4f7f\u7528\u7d22\u5f15\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\u3002</li> <li> <p>\u4f7f\u7528\u805a\u5408\u6846\u67b6\uff1a\u5229\u7528 MongoDB \u7684\u805a\u5408\u6846\u67b6\u5904\u7406\u590d\u6742\u7684\u6570\u636e\u5206\u6790\u4efb\u52a1\u3002</p> </li> <li> <p>\u786c\u4ef6\u914d\u7f6e\uff1a</p> </li> <li>\u5185\u5b58\u914d\u7f6e\uff1a\u786e\u4fdd\u6570\u636e\u5e93\u6709\u8db3\u591f\u7684\u5185\u5b58\u6765\u7f13\u5b58\u70ed\u70b9\u6570\u636e\u3002</li> <li> <p>SSD \u78c1\u76d8\uff1a\u4f7f\u7528 SSD \u78c1\u76d8\u63d0\u5347 I/O \u6027\u80fd\u3002</p> </li> <li> <p>\u6570\u636e\u5e93\u5206\u7247\u548c\u8d1f\u8f7d\u5747\u8861\uff1a</p> </li> <li>\u5408\u7406\u5206\u7247\uff1a\u9009\u62e9\u9002\u5408\u7684\u5206\u7247\u952e\uff0c\u5e76\u76d1\u63a7\u6570\u636e\u5206\u5e03\uff0c\u786e\u4fdd\u6570\u636e\u5747\u5300\u5206\u5e03\u3002</li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u5229\u7528 <code>mongos</code> \u8d1f\u8f7d\u5747\u8861\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#85","title":"8.5 \u5b9e\u8df5\u6848\u4f8b\u4e0e\u5e38\u89c1\u95ee\u9898","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b MongoDB \u7684\u5b9e\u8df5\u6848\u4f8b\u548c\u5e38\u89c1\u95ee\u9898\uff1a</p> <ul> <li>\u6848\u4f8b\uff1a\u7535\u5546\u7cfb\u7edf\uff1a</li> <li>\u9700\u6c42\uff1a\u9ad8\u5e76\u53d1\u3001\u5b9e\u65f6\u5206\u6790\u3001\u6570\u636e\u5206\u5e03\u5f0f\u5b58\u50a8\u3002</li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528\u5206\u7247\u96c6\u7fa4\u5b58\u50a8\u8ba2\u5355\u6570\u636e\uff0c\u5229\u7528\u526f\u672c\u96c6\u4fdd\u8bc1\u9ad8\u53ef\u7528\u6027\uff0c\u4f7f\u7528\u805a\u5408\u6846\u67b6\u8fdb\u884c\u5b9e\u65f6\u6570\u636e\u5206\u6790\u3002</p> </li> <li> <p>\u6848\u4f8b\uff1a\u793e\u4ea4\u7f51\u7edc\u5e94\u7528\uff1a</p> </li> <li>\u9700\u6c42\uff1a\u5927\u89c4\u6a21\u7528\u6237\u6570\u636e\u3001\u5feb\u901f\u8bfb\u5199\u3001\u5b9e\u65f6\u63a8\u8350\u3002</li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528\u5d4c\u5957\u6587\u6863\u5b58\u50a8\u7528\u6237\u52a8\u6001\uff0c\u8bbe\u7f6e\u7d22\u5f15\u63d0\u5347\u67e5\u8be2\u901f\u5ea6\uff0c\u5229\u7528\u526f\u672c\u96c6\u548c\u5206\u7247\u96c6\u7fa4\u786e\u4fdd\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u548c\u6027\u80fd\u3002</p> </li> <li> <p>\u5e38\u89c1\u95ee\u9898\uff1a</p> </li> <li>\u6027\u80fd\u74f6\u9888\uff1a\u68c0\u67e5\u7d22\u5f15\u662f\u5426\u4f18\u5316\uff0c\u4f7f\u7528\u6027\u80fd\u76d1\u63a7\u5de5\u5177\u8fdb\u884c\u8c03\u4f18\u3002</li> <li>\u6570\u636e\u4e0d\u4e00\u81f4\uff1a\u786e\u8ba4\u526f\u672c\u96c6\u914d\u7f6e\u6b63\u786e\uff0c\u68c0\u67e5\u7f51\u7edc\u5ef6\u8fdf\u548c\u6570\u636e\u540c\u6b65\u95ee\u9898\u3002</li> <li>\u6545\u969c\u6062\u590d\uff1a\u5b9a\u671f\u6d4b\u8bd5\u5907\u4efd\u6062\u590d\u8fc7\u7a0b\uff0c\u786e\u4fdd\u5907\u4efd\u53ef\u7528\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#10-mongodb","title":"10. MongoDB \u7684\u5b89\u5168\u6027\u548c\u6743\u9650\u7ba1\u7406","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#101","title":"10.1 \u8ba4\u8bc1\u673a\u5236","text":"<p>MongoDB \u63d0\u4f9b\u4e86\u591a\u79cd\u8ba4\u8bc1\u673a\u5236\uff0c\u4ee5\u786e\u4fdd\u53ea\u6709\u6388\u6743\u7528\u6237\u80fd\u591f\u8bbf\u95ee\u6570\u636e\u5e93\u3002</p> <ul> <li>\u7528\u6237\u540d\u548c\u5bc6\u7801\u8ba4\u8bc1\uff1a</li> <li>\u521b\u5efa\u7528\u6237\uff1a     <code>javascript     use admin     db.createUser({       user: \"myUser\",       pwd: \"myPassword\",       roles: [ { role: \"readWrite\", db: \"myDatabase\" } ]     })</code></li> <li> <p>\u8fde\u63a5\u65f6\u63d0\u4f9b\u8ba4\u8bc1\u4fe1\u606f\uff1a     <code>bash     mongo --username myUser --password myPassword --authenticationDatabase myDatabase</code></p> </li> <li> <p>X.509 \u8ba4\u8bc1\uff1a</p> </li> <li>\u901a\u8fc7\u5ba2\u6237\u7aef\u8bc1\u4e66\u8fdb\u884c\u8ba4\u8bc1\uff0c\u9002\u7528\u4e8e\u9700\u8981\u66f4\u9ad8\u5b89\u5168\u6027\u7684\u573a\u666f\u3002</li> <li> <p>\u914d\u7f6e\uff1a     <code>yaml     security:       authorization: enabled       clusterAuthMode: x509</code></p> </li> <li> <p>LDAP \u8ba4\u8bc1\uff1a</p> </li> <li>\u901a\u8fc7 LDAP \u670d\u52a1\u5668\u8fdb\u884c\u7528\u6237\u8ba4\u8bc1\uff0c\u9002\u7528\u4e8e\u4f01\u4e1a\u73af\u5883\u4e2d\u7684\u96c6\u4e2d\u5f0f\u7528\u6237\u7ba1\u7406\u3002</li> <li>\u914d\u7f6e\uff1a     <code>yaml     security:       ldap:         servers: [\"ldap://ldap.example.com\"]         bind:           method: \"simple\"           dn: \"cn=admin,dc=example,dc=com\"           password: \"password\"         userToDNMapping:           map:             - user: \"uid={0},ou=users,dc=example,dc=com\"</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#102","title":"10.2 \u6388\u6743\u4e0e\u89d2\u8272\u7ba1\u7406","text":"<p>MongoDB \u4f7f\u7528\u89d2\u8272\u57fa\u4e8e\u8bbf\u95ee\u63a7\u5236\uff08RBAC\uff09\u6765\u7ba1\u7406\u7528\u6237\u6743\u9650\u3002</p> <ul> <li>\u521b\u5efa\u89d2\u8272\uff1a</li> <li>\u5185\u7f6e\u89d2\u8272\uff1a\u5982 <code>read</code>, <code>readWrite</code>, <code>dbAdmin</code>, <code>clusterAdmin</code> \u7b49\uff0c\u9002\u7528\u4e8e\u5e38\u89c1\u7684\u6743\u9650\u9700\u6c42\u3002</li> <li> <p>\u81ea\u5b9a\u4e49\u89d2\u8272\uff1a     <code>javascript     db.createRole({       role: \"customRole\",       privileges: [         { resource: { db: \"myDatabase\", collection: \"\" }, actions: [ \"find\", \"insert\" ] }       ],       roles: []     })</code></p> </li> <li> <p>\u5206\u914d\u89d2\u8272\uff1a</p> </li> <li> <p>\u7ed9\u7528\u6237\u5206\u914d\u89d2\u8272\uff1a     <code>javascript     use admin     db.grantRolesToUser(\"myUser\", [ \"customRole\" ])</code></p> </li> <li> <p>\u89d2\u8272\u6743\u9650\u68c0\u67e5\uff1a</p> </li> <li>\u67e5\u770b\u89d2\u8272\u6743\u9650\uff1a     <code>javascript     use admin     db.getRole(\"customRole\", { showPrivileges: true })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#103","title":"10.3 \u6570\u636e\u52a0\u5bc6","text":"<p>MongoDB \u63d0\u4f9b\u4e86\u591a\u79cd\u6570\u636e\u52a0\u5bc6\u9009\u9879\uff0c\u4ee5\u4fdd\u62a4\u6570\u636e\u7684\u5b89\u5168\u6027\u3002</p> <ul> <li>\u52a0\u5bc6\u9759\u6001\u6570\u636e\uff08Encryption at Rest\uff09\uff1a</li> <li> <p>\u542f\u7528\u6570\u636e\u52a0\u5bc6\uff1a     <code>yaml     security:       encryption:         keyFile: /path/to/encryptionKeyFile</code></p> </li> <li> <p>\u52a0\u5bc6\u4f20\u8f93\u6570\u636e\uff08Encryption in Transit\uff09\uff1a</p> </li> <li> <p>\u542f\u7528 TLS/SSL\uff1a     <code>yaml     net:       ssl:         mode: requireSSL         PEMKeyFile: /path/to/server.pem</code></p> </li> <li> <p>\u52a0\u5bc6\u5907\u4efd\u6570\u636e\uff1a</p> </li> <li>\u52a0\u5bc6\u5907\u4efd\u6587\u4ef6\uff1a     <code>bash     gpg --output backup.gpg --encrypt backup.tar</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#104","title":"10.4 \u5ba1\u8ba1\u4e0e\u76d1\u63a7","text":"<p>\u5ba1\u8ba1\u4e0e\u76d1\u63a7\u53ef\u4ee5\u5e2e\u52a9\u8ddf\u8e2a\u6570\u636e\u5e93\u6d3b\u52a8\uff0c\u786e\u4fdd\u6570\u636e\u5e93\u5b89\u5168\u6027\u3002</p> <ul> <li>\u542f\u7528\u5ba1\u8ba1\u65e5\u5fd7\uff1a</li> <li> <p>\u914d\u7f6e\u5ba1\u8ba1\u65e5\u5fd7\uff1a     <code>yaml     systemLog:       destination: file       path: /var/log/mongodb/audit.log     auditLog:       destination: file       format: JSON       filter: { \"atype\": { \"$in\": [ \"authCheck\", \"createUser\" ] } }</code></p> </li> <li> <p>\u4f7f\u7528\u76d1\u63a7\u5de5\u5177\uff1a</p> </li> <li>MongoDB Atlas\uff1a\u63d0\u4f9b\u5168\u9762\u7684\u76d1\u63a7\u548c\u5ba1\u8ba1\u529f\u80fd\u3002</li> <li>Prometheus \u548c Grafana\uff1a\u76d1\u63a7 MongoDB \u6027\u80fd\u6307\u6807\uff0c\u5e76\u8fdb\u884c\u53ef\u89c6\u5316\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#105","title":"10.5 \u7f51\u7edc\u5b89\u5168","text":"<p>\u4fdd\u62a4 MongoDB \u5b9e\u4f8b\u7684\u7f51\u7edc\u5b89\u5168\uff0c\u9632\u6b62\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u3002</p> <ul> <li>\u9632\u706b\u5899\u914d\u7f6e\uff1a</li> <li> <p>\u9650\u5236\u8bbf\u95ee IP\uff1a     <code>bash     sudo ufw allow from 192.168.1.0/24 to any port 27017</code></p> </li> <li> <p>\u914d\u7f6e\u8bbf\u95ee\u63a7\u5236\uff1a</p> </li> <li> <p>\u9650\u5236 MongoDB \u5b9e\u4f8b\u7684\u7ed1\u5b9a IP\uff1a     <code>yaml     net:       bindIp: 127.0.0.1</code></p> </li> <li> <p>\u7f51\u7edc\u52a0\u5bc6\uff1a</p> </li> <li>\u542f\u7528 TLS/SSL\uff1a     <code>yaml     net:       tls:         mode: requireTLS         certificateKeyFile: /path/to/server.pem</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#106","title":"10.6 \u5e38\u89c1\u5b89\u5168\u95ee\u9898\u53ca\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u672a\u6388\u6743\u8bbf\u95ee\uff1a</li> <li> <p>\u786e\u4fdd MongoDB \u5b9e\u4f8b\u542f\u7528\u4e86\u8ba4\u8bc1\u548c\u6388\u6743\u529f\u80fd\uff0c\u5e76\u4e14\u6b63\u786e\u914d\u7f6e\u4e86\u7528\u6237\u89d2\u8272\u3002</p> </li> <li> <p>\u6570\u636e\u6cc4\u9732\uff1a</p> </li> <li> <p>\u542f\u7528\u52a0\u5bc6\u529f\u80fd\uff0c\u4fdd\u62a4\u9759\u6001\u6570\u636e\u548c\u4f20\u8f93\u6570\u636e\u7684\u5b89\u5168\u6027\u3002</p> </li> <li> <p>\u6f0f\u6d1e\u653b\u51fb\uff1a</p> </li> <li> <p>\u5b9a\u671f\u66f4\u65b0 MongoDB \u5230\u6700\u65b0\u7248\u672c\uff0c\u4fee\u8865\u5df2\u77e5\u6f0f\u6d1e\uff0c\u907f\u514d\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u3002</p> </li> <li> <p>\u914d\u7f6e\u9519\u8bef\uff1a</p> </li> <li>\u4ed4\u7ec6\u5ba1\u67e5\u914d\u7f6e\u6587\u4ef6\uff0c\u786e\u4fdd\u6240\u6709\u5b89\u5168\u8bbe\u7f6e\u7b26\u5408\u6700\u4f73\u5b9e\u8df5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#11-mongodb","title":"11. MongoDB \u6570\u636e\u5e93\u4f18\u5316\u4e0e\u6027\u80fd\u8c03\u4f18","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#111","title":"11.1 \u67e5\u8be2\u4f18\u5316","text":"<p>\u4f18\u5316 MongoDB \u67e5\u8be2\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>\u4f7f\u7528\u7d22\u5f15\uff1a</li> <li>\u521b\u5efa\u7d22\u5f15\uff1a\u4e3a\u5e38\u7528\u67e5\u8be2\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002     <code>javascript     db.collection.createIndex({ \"field\": 1 })</code></li> <li> <p>\u590d\u5408\u7d22\u5f15\uff1a\u4e3a\u591a\u4e2a\u5b57\u6bb5\u521b\u5efa\u590d\u5408\u7d22\u5f15\uff0c\u4f18\u5316\u590d\u6742\u67e5\u8be2\u3002     <code>javascript     db.collection.createIndex({ \"field1\": 1, \"field2\": -1 })</code></p> </li> <li> <p>\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\uff1a</p> </li> <li> <p>\u786e\u4fdd\u67e5\u8be2\u53ea\u8fd4\u56de\u7d22\u5f15\u4e2d\u5305\u542b\u7684\u5b57\u6bb5\uff0c\u907f\u514d\u8bfb\u53d6\u5b8c\u6574\u6587\u6863\u3002     <code>javascript     db.collection.find({ \"field1\": value }, { \"field2\": 1 }).hint({ \"field1\": 1 })</code></p> </li> <li> <p>\u907f\u514d\u5168\u8868\u626b\u63cf\uff1a</p> </li> <li>\u786e\u4fdd\u67e5\u8be2\u4f7f\u7528\u7d22\u5f15\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5168\u8868\u626b\u63cf\u3002</li> <li> <p>\u4f18\u5316\u67e5\u8be2\u6761\u4ef6\uff1a\u4f7f\u7528\u7d22\u5f15\u5b57\u6bb5\u8fdb\u884c\u67e5\u8be2\uff0c\u5e76\u907f\u514d\u4f7f\u7528\u4e0d\u652f\u6301\u7d22\u5f15\u7684\u64cd\u4f5c\u7b26\uff08\u5982 <code>$regex</code>\uff09\u3002</p> </li> <li> <p>\u67e5\u8be2\u6027\u80fd\u5206\u6790\uff1a</p> </li> <li>\u4f7f\u7528 explain()\uff1a\u5206\u6790\u67e5\u8be2\u8ba1\u5212\uff0c\u4e86\u89e3\u67e5\u8be2\u7684\u6267\u884c\u8fc7\u7a0b\u3002     <code>javascript     db.collection.find({ \"field\": value }).explain(\"executionStats\")</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#112","title":"11.2 \u7d22\u5f15\u4f18\u5316","text":"<p>\u7d22\u5f15\u4f18\u5316\u662f\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u7684\u5173\u952e\u63aa\u65bd\u4e4b\u4e00\u3002</p> <ul> <li>\u9009\u62e9\u5408\u9002\u7684\u7d22\u5f15\uff1a</li> <li>\u5355\u5b57\u6bb5\u7d22\u5f15\uff1a\u9002\u7528\u4e8e\u7b80\u5355\u67e5\u8be2\u3002</li> <li>\u590d\u5408\u7d22\u5f15\uff1a\u9002\u7528\u4e8e\u6d89\u53ca\u591a\u4e2a\u5b57\u6bb5\u7684\u67e5\u8be2\u3002</li> <li> <p>\u7a00\u758f\u7d22\u5f15\uff1a\u4ec5\u5bf9\u5b58\u5728\u7d22\u5f15\u5b57\u6bb5\u7684\u6587\u6863\u521b\u5efa\u7d22\u5f15\u3002     <code>javascript     db.collection.createIndex({ \"field\": 1 }, { sparse: true })</code></p> </li> <li> <p>\u7d22\u5f15\u7ba1\u7406\uff1a</p> </li> <li>\u67e5\u770b\u7d22\u5f15\uff1a\u68c0\u67e5\u96c6\u5408\u4e2d\u7684\u7d22\u5f15\u3002     <code>javascript     db.collection.getIndexes()</code></li> <li> <p>\u5220\u9664\u7d22\u5f15\uff1a\u5220\u9664\u4e0d\u518d\u4f7f\u7528\u7684\u7d22\u5f15\u3002     <code>javascript     db.collection.dropIndex(\"indexName\")</code></p> </li> <li> <p>\u7d22\u5f15\u9009\u62e9\uff1a</p> </li> <li>\u4f7f\u7528 <code>hint</code>\uff1a\u6307\u5b9a\u4f7f\u7528\u7279\u5b9a\u7d22\u5f15\u8fdb\u884c\u67e5\u8be2\u3002     <code>javascript     db.collection.find({ \"field\": value }).hint({ \"field1\": 1 })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#113","title":"11.3 \u6570\u636e\u5e93\u6027\u80fd\u76d1\u63a7","text":"<p>\u76d1\u63a7\u6570\u636e\u5e93\u6027\u80fd\uff0c\u53ca\u65f6\u53d1\u73b0\u548c\u89e3\u51b3\u6027\u80fd\u95ee\u9898\u3002</p> <ul> <li>\u4f7f\u7528 MongoDB Atlas\uff1a</li> <li> <p>\u63d0\u4f9b\u8be6\u7ec6\u7684\u6027\u80fd\u76d1\u63a7\u3001\u544a\u8b66\u548c\u5206\u6790\u529f\u80fd\u3002</p> </li> <li> <p>\u4f7f\u7528 <code>mongostat</code>\uff1a</p> </li> <li> <p>\u5b9e\u65f6\u76d1\u63a7 MongoDB \u7684\u6027\u80fd\u6307\u6807\u3002     <code>bash     mongostat --host &lt;host&gt; --port &lt;port&gt;</code></p> </li> <li> <p>\u4f7f\u7528 <code>mongotop</code>\uff1a</p> </li> <li> <p>\u76d1\u63a7\u6bcf\u4e2a\u96c6\u5408\u7684\u8bfb\u5199\u64cd\u4f5c\u3002     <code>bash     mongotop --host &lt;host&gt; --port &lt;port&gt;</code></p> </li> <li> <p>\u81ea\u5b9a\u4e49\u76d1\u63a7\uff1a</p> </li> <li>\u7ed3\u5408 Prometheus \u548c Grafana\uff0c\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u76d1\u63a7\u4eea\u8868\u677f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#114","title":"11.4 \u6570\u636e\u5e93\u8bbe\u8ba1\u4f18\u5316","text":"<p>\u4f18\u5316\u6570\u636e\u5e93\u8bbe\u8ba1\u4ee5\u63d0\u9ad8\u6027\u80fd\u548c\u53ef\u7ef4\u62a4\u6027\u3002</p> <ul> <li>\u6a21\u5f0f\u8bbe\u8ba1\uff1a</li> <li> <p>\u5d4c\u5957\u6587\u6863\uff1a\u9002\u7528\u4e8e\u4e00\u5bf9\u591a\u5173\u7cfb\uff0c\u5c06\u76f8\u5173\u6570\u636e\u5d4c\u5957\u5728\u4e00\u4e2a\u6587\u6863\u4e2d\uff0c\u51cf\u5c11\u8054\u63a5\u64cd\u4f5c\u3002     <code>json     {       \"customer\": \"John Doe\",       \"orders\": [         { \"orderId\": 1, \"amount\": 100 },         { \"orderId\": 2, \"amount\": 150 }       ]     }</code></p> </li> <li> <p>\u5f15\u7528\u5173\u7cfb\uff1a\u9002\u7528\u4e8e\u591a\u5bf9\u591a\u5173\u7cfb\uff0c\u5c06\u6570\u636e\u62c6\u5206\u5230\u591a\u4e2a\u96c6\u5408\u4e2d\uff0c\u901a\u8fc7\u5f15\u7528\u8fdb\u884c\u5173\u8054\u3002     <code>json     {       \"orderId\": 1,       \"customerId\": 123     }</code></p> </li> <li> <p>\u6570\u636e\u5206\u7247\uff1a</p> </li> <li> <p>\u9009\u62e9\u9002\u5f53\u7684\u5206\u7247\u952e\uff1a\u6839\u636e\u67e5\u8be2\u6a21\u5f0f\u9009\u62e9\u9002\u5408\u7684\u5206\u7247\u952e\uff0c\u786e\u4fdd\u6570\u636e\u5206\u5e03\u5747\u8861\u3002     <code>javascript     sh.shardCollection(\"myDatabase.myCollection\", { \"shardKey\": 1 })</code></p> </li> <li> <p>\u4f18\u5316\u5199\u64cd\u4f5c\uff1a</p> </li> <li>\u6279\u91cf\u5199\u5165\uff1a\u4f7f\u7528\u6279\u91cf\u5199\u5165\u64cd\u4f5c\u51cf\u5c11\u7f51\u7edc\u5f80\u8fd4\u6b21\u6570\u3002     <code>javascript     db.collection.bulkWrite([       { insertOne: { \"document\": { \"field\": value } } },       { updateOne: { \"filter\": { \"field\": value }, \"update\": { \"$set\": { \"field\": newValue } } } }     ])</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#115","title":"11.5 \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d","text":"<p>\u786e\u4fdd\u6570\u636e\u7684\u5907\u4efd\u548c\u6062\u590d\u64cd\u4f5c\u9ad8\u6548\u53ef\u9760\u3002</p> <ul> <li>\u5907\u4efd\u7b56\u7565\uff1a</li> <li>\u5168\u91cf\u5907\u4efd\uff1a\u5b9a\u671f\u8fdb\u884c\u5168\u91cf\u5907\u4efd\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002     <code>bash     mongodump --out /backup/backup-`date +%Y%m%d`</code></li> <li> <p>\u589e\u91cf\u5907\u4efd\uff1a\u4f7f\u7528 Oplog \u8fdb\u884c\u589e\u91cf\u5907\u4efd\uff0c\u4ee5\u51cf\u5c11\u5907\u4efd\u65f6\u95f4\u548c\u5b58\u50a8\u7a7a\u95f4\u3002</p> </li> <li> <p>\u6062\u590d\u64cd\u4f5c\uff1a</p> </li> <li>\u4ece\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore /backup/backup-20230901</code></li> <li> <p>\u4f7f\u7528 Oplog \u6062\u590d\u6570\u636e\uff1a     <code>bash     mongorestore --oplogReplay --db mydatabase /backup/oplogdump/</code></p> </li> <li> <p>\u5907\u4efd\u9a8c\u8bc1\uff1a</p> </li> <li>\u5b9a\u671f\u9a8c\u8bc1\u5907\u4efd\u7684\u5b8c\u6574\u6027\u548c\u53ef\u7528\u6027\uff0c\u786e\u4fdd\u5728\u9700\u8981\u6062\u590d\u65f6\u53ef\u4ee5\u987a\u5229\u6062\u590d\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#116","title":"11.6 \u9ad8\u53ef\u7528\u6027\u914d\u7f6e","text":"<p>\u914d\u7f6e\u9ad8\u53ef\u7528\u6027\u4ee5\u786e\u4fdd MongoDB \u5b9e\u4f8b\u5728\u6545\u969c\u65f6\u80fd\u591f\u7ee7\u7eed\u670d\u52a1\u3002</p> <ul> <li>\u526f\u672c\u96c6\u914d\u7f6e\uff1a</li> <li> <p>\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\uff1a\u914d\u7f6e\u526f\u672c\u96c6\uff0c\u4e3b\u8282\u70b9\u5904\u7406\u6240\u6709\u5199\u64cd\u4f5c\uff0c\u4ece\u8282\u70b9\u8fdb\u884c\u6570\u636e\u5907\u4efd\u548c\u8bfb\u53d6\u64cd\u4f5c\u3002     <code>javascript     rs.initiate({       _id: \"rs0\",       members: [         { _id: 0, host: \"host1:27017\" },         { _id: 1, host: \"host2:27017\" },         { _id: 2, host: \"host3:27017\" }       ]     })</code></p> </li> <li> <p>\u6545\u969c\u8f6c\u79fb\u548c\u6062\u590d\uff1a</p> </li> <li>\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u526f\u672c\u96c6\u4f1a\u81ea\u52a8\u9009\u4e3e\u65b0\u7684\u4e3b\u8282\u70b9\u3002</li> <li> <p>\u624b\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u5728\u53d1\u751f\u6545\u969c\u65f6\uff0c\u624b\u52a8\u5c06\u4e00\u4e2a\u4ece\u8282\u70b9\u63d0\u5347\u4e3a\u4e3b\u8282\u70b9\u3002</p> </li> <li> <p>\u8d1f\u8f7d\u5747\u8861\uff1a</p> </li> <li>\u8bfb\u5199\u5206\u79bb\uff1a\u5728\u526f\u672c\u96c6\u4e2d\u914d\u7f6e\u8bfb\u5199\u5206\u79bb\uff0c\u5c06\u8bfb\u64cd\u4f5c\u5206\u914d\u7ed9\u4ece\u8282\u70b9\uff0c\u63d0\u9ad8\u8bfb\u6027\u80fd\u3002     <code>javascript     db.getMongo().setReadPref(\"secondaryPreferred\")</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#117","title":"11.7 \u5176\u4ed6\u4f18\u5316\u6280\u5de7","text":"<ul> <li>\u4f7f\u7528\u5185\u5b58\u4f18\u5316\uff1a\u8c03\u6574 MongoDB \u5b9e\u4f8b\u7684\u5185\u5b58\u914d\u7f6e\uff0c\u4ee5\u786e\u4fdd\u5145\u5206\u5229\u7528\u5185\u5b58\u3002</li> <li>\u4f18\u5316\u786c\u76d8 I/O\uff1a\u4f7f\u7528\u9ad8\u6027\u80fd\u7684 SSD \u78c1\u76d8\u4ee5\u63d0\u9ad8 I/O \u6027\u80fd\u3002</li> <li>\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u6570\u636e\uff1a\u8bbe\u7f6e TTL \u7d22\u5f15\uff0c\u81ea\u52a8\u5220\u9664\u8fc7\u671f\u6570\u636e\uff0c\u4fdd\u6301\u6570\u636e\u5e93\u7684\u5065\u5eb7\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#12-mongodb","title":"12. MongoDB \u9ad8\u7ea7\u7279\u6027\u4e0e\u5e94\u7528\u573a\u666f","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#121","title":"12.1 \u805a\u5408\u6846\u67b6","text":"<p>MongoDB \u7684\u805a\u5408\u6846\u67b6\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u6570\u636e\u5904\u7406\u80fd\u529b\uff0c\u53ef\u4ee5\u6267\u884c\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u4efb\u52a1\u3002</p> <ul> <li>\u57fa\u672c\u805a\u5408\u64cd\u4f5c\uff1a</li> <li>$match\uff1a\u8fc7\u6ee4\u6587\u6863\u3002     <code>javascript     db.collection.aggregate([       { $match: { \"field\": value } }     ])</code></li> <li>$group\uff1a\u6309\u5b57\u6bb5\u5206\u7ec4\u5e76\u8ba1\u7b97\u805a\u5408\u503c\u3002     <code>javascript     db.collection.aggregate([       { $group: { _id: \"$field\", total: { $sum: \"$amount\" } } }     ])</code></li> <li> <p>$sort\uff1a\u5bf9\u7ed3\u679c\u8fdb\u884c\u6392\u5e8f\u3002     <code>javascript     db.collection.aggregate([       { $sort: { \"field\": 1 } }     ])</code></p> </li> <li> <p>\u590d\u6742\u805a\u5408\u64cd\u4f5c\uff1a</p> </li> <li>$lookup\uff1a\u8054\u63a5\u4e24\u4e2a\u96c6\u5408\u3002     <code>javascript     db.orders.aggregate([       { $lookup: {         from: \"products\",         localField: \"productId\",         foreignField: \"productId\",         as: \"productDetails\"       }}     ])</code></li> <li>$unwind\uff1a\u5c06\u6570\u7ec4\u5b57\u6bb5\u62c6\u5206\u6210\u591a\u4e2a\u6587\u6863\u3002     <code>javascript     db.collection.aggregate([       { $unwind: \"$arrayField\" }     ])</code></li> <li>$facet\uff1a\u5e76\u884c\u6267\u884c\u591a\u4e2a\u805a\u5408\u64cd\u4f5c\u3002     <code>javascript     db.collection.aggregate([       { $facet: {         \"totalRevenue\": [ { $group: { _id: null, total: { $sum: \"$revenue\" } } }],         \"topProducts\": [ { $sort: { \"sales\": -1 } }, { $limit: 10 } ]       }}     ])</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#122","title":"12.2 \u5206\u7247","text":"<p>\u5206\u7247\u53ef\u4ee5\u6c34\u5e73\u6269\u5c55 MongoDB \u5b9e\u4f8b\uff0c\u4ee5\u5904\u7406\u5927\u89c4\u6a21\u7684\u6570\u636e\u3002</p> <ul> <li>\u914d\u7f6e\u5206\u7247\u96c6\u7fa4\uff1a</li> <li> <p>\u914d\u7f6e\u5206\u7247\u670d\u52a1\u5668\uff1a     <code>javascript     sh.addShard(\"shard1/host1:27017\")     sh.addShard(\"shard2/host2:27017\")</code></p> </li> <li> <p>\u8bbe\u7f6e\u5206\u7247\u952e\uff1a     <code>javascript     sh.shardCollection(\"myDatabase.myCollection\", { \"shardKey\": 1 })</code></p> </li> <li> <p>\u5206\u7247\u7b56\u7565\uff1a</p> </li> <li>\u54c8\u5e0c\u5206\u7247\uff1a\u5c06\u6570\u636e\u6839\u636e\u54c8\u5e0c\u503c\u5747\u5300\u5206\u5e03\u5230\u5404\u4e2a\u5206\u7247\u4e0a\u3002     <code>javascript     sh.shardCollection(\"myDatabase.myCollection\", { \"shardKey\": \"hashed\" })</code></li> <li>\u8303\u56f4\u5206\u7247\uff1a\u5c06\u6570\u636e\u6309\u7167\u6307\u5b9a\u8303\u56f4\u5206\u5e03\u5230\u5404\u4e2a\u5206\u7247\u4e0a\u3002     <code>javascript     sh.shardCollection(\"myDatabase.myCollection\", { \"shardKey\": 1 })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#123","title":"12.3 \u590d\u5236\u4e0e\u6545\u969c\u8f6c\u79fb","text":"<p>\u526f\u672c\u96c6\u63d0\u4f9b\u4e86\u9ad8\u53ef\u7528\u6027\uff0c\u901a\u8fc7\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u6765\u786e\u4fdd\u670d\u52a1\u7684\u6301\u7eed\u6027\u3002</p> <ul> <li>\u526f\u672c\u96c6\u6210\u5458\u914d\u7f6e\uff1a</li> <li>\u6dfb\u52a0\u6210\u5458\uff1a     <code>javascript     rs.add(\"host4:27017\")</code></li> <li> <p>\u8bbe\u7f6e\u4f18\u5148\u7ea7\uff1a     <code>javascript     rs.reconfig({       _id: \"rs0\",       members: [         { _id: 0, host: \"host1:27017\", priority: 2 },         { _id: 1, host: \"host2:27017\", priority: 1 },         { _id: 2, host: \"host3:27017\", priority: 0.5 }       ]     })</code></p> </li> <li> <p>\u6545\u969c\u8f6c\u79fb\uff1a</p> </li> <li>\u624b\u52a8\u6545\u969c\u8f6c\u79fb\uff1a     <code>javascript     rs.stepDown()</code></li> <li>\u67e5\u770b\u5f53\u524d\u72b6\u6001\uff1a     <code>javascript     rs.status()</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#124","title":"12.4 \u6570\u636e\u6062\u590d","text":"<p>\u6570\u636e\u6062\u590d\u662f\u786e\u4fdd\u6570\u636e\u53ef\u9760\u6027\u7684\u5173\u952e\u64cd\u4f5c\u3002</p> <ul> <li>\u4f7f\u7528\u5907\u4efd\u6062\u590d\u6570\u636e\uff1a</li> <li>\u4ece\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore /backup/backup-20230901</code></li> <li> <p>\u589e\u91cf\u6062\u590d\uff1a\u4f7f\u7528 Oplog \u8fdb\u884c\u589e\u91cf\u6062\u590d\u3002     <code>bash     mongorestore --oplogReplay --db mydatabase /backup/oplogdump/</code></p> </li> <li> <p>\u6570\u636e\u8fc1\u79fb\uff1a</p> </li> <li>\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code> \u8fc1\u79fb\u6570\u636e\uff1a     <code>bash     mongodump --uri=\"mongodb://sourceHost:27017\" --out /backup/sourceData     mongorestore --uri=\"mongodb://destinationHost:27017\" /backup/sourceData</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#125","title":"12.5 \u6570\u636e\u5b89\u5168","text":"<p>\u786e\u4fdd\u6570\u636e\u5728\u5b58\u50a8\u548c\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u5b89\u5168\u6027\u3002</p> <ul> <li>\u52a0\u5bc6\u9759\u6001\u6570\u636e\uff08Encryption at Rest\uff09\uff1a</li> <li> <p>\u914d\u7f6e\u6570\u636e\u52a0\u5bc6\uff1a     <code>yaml     security:       encryption:         keyFile: /path/to/encryptionKeyFile</code></p> </li> <li> <p>\u52a0\u5bc6\u4f20\u8f93\u6570\u636e\uff08Encryption in Transit\uff09\uff1a</p> </li> <li> <p>\u542f\u7528 TLS/SSL\uff1a     <code>yaml     net:       tls:         mode: requireTLS         certificateKeyFile: /path/to/server.pem</code></p> </li> <li> <p>\u6570\u636e\u8bbf\u95ee\u63a7\u5236\uff1a</p> </li> <li>\u4f7f\u7528\u89d2\u8272\u57fa\u4e8e\u8bbf\u95ee\u63a7\u5236\uff08RBAC\uff09\uff1a     <code>javascript     db.createUser({       user: \"myUser\",       pwd: \"myPassword\",       roles: [ { role: \"readWrite\", db: \"myDatabase\" } ]     })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#126","title":"12.6 \u6027\u80fd\u4f18\u5316","text":"<p>\u63d0\u5347 MongoDB \u6027\u80fd\u7684\u5173\u952e\u63aa\u65bd\u5305\u62ec\u4f18\u5316\u67e5\u8be2\u3001\u7d22\u5f15\u548c\u914d\u7f6e\u3002</p> <ul> <li>\u67e5\u8be2\u4f18\u5316\uff1a</li> <li>\u4f7f\u7528\u7d22\u5f15\uff1a     <code>javascript     db.collection.createIndex({ \"field\": 1 })</code></li> <li> <p>\u4f7f\u7528 <code>explain()</code>\uff1a     <code>javascript     db.collection.find({ \"field\": value }).explain(\"executionStats\")</code></p> </li> <li> <p>\u7d22\u5f15\u4f18\u5316\uff1a</p> </li> <li>\u521b\u5efa\u5408\u9002\u7684\u7d22\u5f15\uff1a     <code>javascript     db.collection.createIndex({ \"field1\": 1, \"field2\": -1 })</code></li> <li> <p>\u5b9a\u671f\u7ef4\u62a4\u7d22\u5f15\uff1a     <code>javascript     db.collection.reIndex()</code></p> </li> <li> <p>\u5185\u5b58\u548c\u786c\u76d8\u4f18\u5316\uff1a</p> </li> <li>\u8c03\u6574\u5185\u5b58\u914d\u7f6e\uff1a     <code>yaml     storage:       mmapv1:         engine: wiredTiger</code></li> <li>\u4f18\u5316\u786c\u76d8 I/O\uff1a<ul> <li>\u4f7f\u7528 SSD \u78c1\u76d8\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#13-mongodb","title":"13. MongoDB \u8fdb\u9636\u7279\u6027\u4e0e\u5e94\u7528\u573a\u666f","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#131-mapreduce","title":"13.1 MapReduce","text":"<p>MapReduce \u662f\u4e00\u79cd\u5904\u7406\u548c\u751f\u6210\u5927\u6570\u636e\u96c6\u7684\u7f16\u7a0b\u6a21\u578b\uff0cMongoDB \u652f\u6301\u901a\u8fc7 <code>mapReduce</code> \u547d\u4ee4\u8fdb\u884c\u6570\u636e\u5904\u7406\u548c\u805a\u5408\u3002</p> <ul> <li>\u57fa\u672c\u64cd\u4f5c\uff1a</li> <li>MapReduce \u67e5\u8be2\uff1a     <code>javascript     db.collection.mapReduce(       function() { emit(this.field, 1); },       function(key, values) { return Array.sum(values); },       {         out: \"resultCollection\"       }     )</code></li> <li> <p>\u67e5\u770b\u7ed3\u679c\uff1a     <code>javascript     db.resultCollection.find()</code></p> </li> <li> <p>MapReduce \u9009\u9879\uff1a</p> </li> <li>\u67e5\u8be2\u6761\u4ef6\uff1a     <code>javascript     db.collection.mapReduce(       function() { if (this.field &gt; 10) emit(this.field, 1); },       function(key, values) { return Array.sum(values); },       {         query: { \"field\": { $gt: 10 } },         out: \"resultCollection\"       }     )</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#132","title":"13.2 \u805a\u5408\u7ba1\u9053","text":"<p>\u805a\u5408\u7ba1\u9053\u662f MongoDB \u5f3a\u5927\u7684\u6570\u636e\u5904\u7406\u5de5\u5177\uff0c\u652f\u6301\u66f4\u590d\u6742\u7684\u67e5\u8be2\u548c\u6570\u636e\u53d8\u6362\u3002</p> <ul> <li>\u805a\u5408\u7ba1\u9053\u64cd\u4f5c\uff1a</li> <li>$match\uff1a\u8fc7\u6ee4\u6587\u6863\u3002     <code>javascript     db.collection.aggregate([       { $match: { \"field\": value } }     ])</code></li> <li>$group\uff1a\u6309\u5b57\u6bb5\u5206\u7ec4\u5e76\u8ba1\u7b97\u805a\u5408\u503c\u3002     <code>javascript     db.collection.aggregate([       { $group: { _id: \"$field\", total: { $sum: \"$amount\" } } }     ])</code></li> <li>$project\uff1a\u91cd\u5851\u6587\u6863\u3002     <code>javascript     db.collection.aggregate([       { $project: { \"field\": 1, \"newField\": { $concat: [ \"$field1\", \"$field2\" ] } } }     ])</code></li> <li>$bucket\uff1a\u5c06\u6587\u6863\u5206\u6876\u3002     <code>javascript     db.collection.aggregate([       { $bucket: {         groupBy: \"$age\",         boundaries: [0, 18, 30, 40, 50],         default: \"Other\",         output: {           \"count\": { $sum: 1 }         }       }}     ])</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#133-ttl","title":"13.3 TTL \u7d22\u5f15","text":"<p>TTL\uff08Time-To-Live\uff09\u7d22\u5f15\u7528\u4e8e\u81ea\u52a8\u5220\u9664\u8fc7\u671f\u6587\u6863\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u6570\u636e\u7684\u573a\u666f\u3002</p> <ul> <li>\u521b\u5efa TTL \u7d22\u5f15\uff1a</li> <li>\u793a\u4f8b\uff1a\u5220\u9664 24 \u5c0f\u65f6\u524d\u7684\u6570\u636e\u3002     <code>javascript     db.collection.createIndex({ \"createdAt\": 1 }, { expireAfterSeconds: 86400 })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#134-gridfs","title":"13.4 GridFS","text":"<p>GridFS \u662f\u4e00\u79cd\u5b58\u50a8\u548c\u68c0\u7d22\u5927\u6587\u4ef6\uff08\u5982\u89c6\u9891\u548c\u56fe\u50cf\uff09\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u6587\u4ef6\u5927\u4e8e BSON \u6587\u6863\u9650\u5236\u7684\u573a\u666f\u3002</p> <ul> <li>\u5b58\u50a8\u6587\u4ef6\uff1a</li> <li> <p>\u4e0a\u4f20\u6587\u4ef6\uff1a     <code>javascript     var fs = require('fs');     var Grid = require('gridfs-stream');     var gfs = Grid(db.connection.db, mongo);     gfs.writeFile('filename', fs.createReadStream('filePath'), function(err, file) {       if (err) throw err;       console.log('File uploaded successfully');     });</code></p> </li> <li> <p>\u68c0\u7d22\u6587\u4ef6\uff1a</p> </li> <li>\u4e0b\u8f7d\u6587\u4ef6\uff1a     <code>javascript     var readStream = gfs.createReadStream({ filename: 'filename' });     readStream.pipe(fs.createWriteStream('downloadedFilePath'));</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#135","title":"13.5 \u4e8b\u52a1\u5904\u7406","text":"<p>MongoDB \u652f\u6301\u591a\u6587\u6863\u4e8b\u52a1\uff0c\u786e\u4fdd\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u548c\u4e00\u81f4\u6027\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5728\u591a\u4e2a\u64cd\u4f5c\u4e2d\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684\u573a\u666f\u3002</p> <ul> <li>\u4f7f\u7528\u4e8b\u52a1\uff1a</li> <li> <p>\u5f00\u542f\u4e8b\u52a1\uff1a     ```javascript     const session = await client.startSession();     session.startTransaction();</p> <p>try {   await db.collection1.insertOne({ \"field\": value }, { session });   await db.collection2.updateOne({ \"field\": value }, { $set: { \"field\": newValue } }, { session });   await session.commitTransaction(); } catch (error) {   await session.abortTransaction();   throw error; } finally {   session.endSession(); } ```</p> </li> <li> <p>\u4e8b\u52a1\u9009\u9879\uff1a</p> </li> <li>\u8bbe\u7f6e\u8bfb\u5199\u5173\u6ce8\u7ea7\u522b\uff1a     <code>javascript     const session = client.startSession();     const options = { readConcern: { level: 'snapshot' }, writeConcern: { w: 'majority' } };     session.startTransaction(options);</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#136","title":"13.6 \u6570\u636e\u5efa\u6a21","text":"<p>\u6709\u6548\u7684\u6570\u636e\u5efa\u6a21\u662f\u8bbe\u8ba1 MongoDB \u6570\u636e\u5e93\u7684\u5173\u952e\uff0c\u786e\u4fdd\u6570\u636e\u7684\u9ad8\u6548\u5b58\u50a8\u548c\u68c0\u7d22\u3002</p> <ul> <li>\u5d4c\u5957\u6587\u6863\uff1a</li> <li> <p>\u4f18\u70b9\uff1a\u51cf\u5c11\u8054\u63a5\u64cd\u4f5c\uff0c\u9002\u5408\u4e00\u5bf9\u591a\u5173\u7cfb\u3002     <code>json     {       \"customer\": \"John Doe\",       \"orders\": [         { \"orderId\": 1, \"amount\": 100 },         { \"orderId\": 2, \"amount\": 150 }       ]     }</code></p> </li> <li> <p>\u5f15\u7528\u6587\u6863\uff1a</p> </li> <li> <p>\u4f18\u70b9\uff1a\u9002\u5408\u591a\u5bf9\u591a\u5173\u7cfb\uff0c\u901a\u8fc7\u5f15\u7528\u5b57\u6bb5\u5173\u8054\u6570\u636e\u3002     <code>json     {       \"orderId\": 1,       \"customerId\": 123     }</code></p> </li> <li> <p>\u89c4\u8303\u5316\u548c\u53cd\u89c4\u8303\u5316\uff1a</p> </li> <li>\u89c4\u8303\u5316\uff1a\u62c6\u5206\u6570\u636e\u5230\u591a\u4e2a\u96c6\u5408\uff0c\u51cf\u5c11\u5197\u4f59\u3002</li> <li>\u53cd\u89c4\u8303\u5316\uff1a\u5c06\u76f8\u5173\u6570\u636e\u5b58\u50a8\u5728\u540c\u4e00\u6587\u6863\u4e2d\uff0c\u4f18\u5316\u8bfb\u53d6\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#137","title":"13.7 \u5907\u4efd\u4e0e\u6062\u590d\u7b56\u7565","text":"<p>\u5907\u4efd\u548c\u6062\u590d\u662f\u786e\u4fdd\u6570\u636e\u5b89\u5168\u548c\u4e1a\u52a1\u8fde\u7eed\u6027\u7684\u5173\u952e\u3002</p> <ul> <li>\u5907\u4efd\u7b56\u7565\uff1a</li> <li>\u5168\u91cf\u5907\u4efd\uff1a     <code>bash     mongodump --out /backup/fullBackup-`date +%Y%m%d`</code></li> <li> <p>\u589e\u91cf\u5907\u4efd\uff1a\u4f7f\u7528 Oplog \u6355\u83b7\u589e\u91cf\u53d8\u5316\u3002     <code>bash     mongodump --oplog --out /backup/incrementalBackup-`date +%Y%m%d`</code></p> </li> <li> <p>\u6062\u590d\u64cd\u4f5c\uff1a</p> </li> <li>\u4ece\u5168\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore /backup/fullBackup-20230901</code></li> <li>\u4ece\u589e\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore --oplogReplay --db mydatabase /backup/incrementalBackup-20230901</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#138","title":"13.8 \u9ad8\u53ef\u7528\u6027\u4e0e\u8d1f\u8f7d\u5747\u8861","text":"<ul> <li>\u526f\u672c\u96c6\uff1a</li> <li> <p>\u914d\u7f6e\u526f\u672c\u96c6\uff1a\u63d0\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u5197\u4f59\u3002     <code>javascript     rs.initiate({       _id: \"rs0\",       members: [         { _id: 0, host: \"host1:27017\" },         { _id: 1, host: \"host2:27017\" },         { _id: 2, host: \"host3:27017\" }       ]     })</code></p> </li> <li> <p>\u5206\u7247\uff1a</p> </li> <li> <p>\u914d\u7f6e\u5206\u7247\u96c6\u7fa4\uff1a\u6c34\u5e73\u6269\u5c55\u6570\u636e\u5e93\uff0c\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u3002     <code>javascript     sh.addShard(\"shard1/host1:27017\")     sh.addShard(\"shard2/host2:27017\")</code></p> </li> <li> <p>\u8d1f\u8f7d\u5747\u8861\uff1a</p> </li> <li>\u8bfb\u5199\u5206\u79bb\uff1a\u5c06\u8bfb\u64cd\u4f5c\u5206\u914d\u7ed9\u4ece\u8282\u70b9\uff0c\u5199\u64cd\u4f5c\u5728\u4e3b\u8282\u70b9\u4e0a\u8fdb\u884c\u3002     <code>javascript     db.getMongo().setReadPref(\"secondaryPreferred\")</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#14-mongodb","title":"14. MongoDB \u6027\u80fd\u4f18\u5316\u4e0e\u8c03\u4f18","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#141","title":"14.1 \u6027\u80fd\u76d1\u63a7","text":"<ul> <li>MongoDB \u76d1\u63a7\u5de5\u5177\uff1a</li> <li>MongoDB Ops Manager\uff1a<ul> <li>\u63d0\u4f9b\u5b9e\u65f6\u76d1\u63a7\u548c\u62a5\u8b66\u529f\u80fd\u3002</li> <li>\u56fe\u5f62\u5316\u754c\u9762\uff0c\u6613\u4e8e\u914d\u7f6e\u548c\u7ba1\u7406\u3002</li> </ul> </li> <li>MongoDB Atlas\uff1a<ul> <li>\u63d0\u4f9b\u4e91\u7aef\u6258\u7ba1\u670d\u52a1\u7684\u76d1\u63a7\u529f\u80fd\u3002</li> <li>\u5305\u62ec\u6027\u80fd\u6307\u6807\u3001\u62a5\u8b66\u548c\u5206\u6790\u5de5\u5177\u3002</li> </ul> </li> <li><code>mongostat</code>\uff1a<ul> <li>\u5b9e\u65f6\u76d1\u63a7 MongoDB \u5b9e\u4f8b\u7684\u6027\u80fd\u7edf\u8ba1\u3002 <code>bash mongostat --host &lt;host&gt;:&lt;port&gt;</code></li> </ul> </li> <li> <p><code>mongotop</code>\uff1a</p> <ul> <li>\u663e\u793a\u6bcf\u4e2a\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\u65f6\u95f4\u3002 <code>bash mongotop --host &lt;host&gt;:&lt;port&gt;</code></li> </ul> </li> <li> <p>\u5e38\u7528\u76d1\u63a7\u6307\u6807\uff1a</p> </li> <li>\u64cd\u4f5c\u5ef6\u8fdf\uff1a\u76d1\u63a7\u64cd\u4f5c\u7684\u54cd\u5e94\u65f6\u95f4\u3002</li> <li>\u5185\u5b58\u4f7f\u7528\uff1a\u76d1\u63a7 MongoDB \u7684\u5185\u5b58\u6d88\u8017\u3002</li> <li>I/O \u6d3b\u52a8\uff1a\u76d1\u63a7\u786c\u76d8\u8bfb\u5199\u64cd\u4f5c\u3002</li> <li>\u8fde\u63a5\u6570\uff1a\u76d1\u63a7\u5f53\u524d\u7684\u8fde\u63a5\u6570\u548c\u8fde\u63a5\u6c60\u4f7f\u7528\u60c5\u51b5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#142","title":"14.2 \u7d22\u5f15\u4f18\u5316","text":"<ul> <li>\u9009\u62e9\u5408\u9002\u7684\u7d22\u5f15\uff1a</li> <li>\u5355\u5b57\u6bb5\u7d22\u5f15\uff1a     <code>javascript     db.collection.createIndex({ \"field\": 1 })</code></li> <li> <p>\u590d\u5408\u7d22\u5f15\uff1a\u5728\u591a\u4e2a\u5b57\u6bb5\u4e0a\u521b\u5efa\u7d22\u5f15\u3002     <code>javascript     db.collection.createIndex({ \"field1\": 1, \"field2\": -1 })</code></p> </li> <li> <p>\u7d22\u5f15\u4f7f\u7528\u60c5\u51b5\u5206\u6790\uff1a</p> </li> <li> <p><code>explain()</code> \u65b9\u6cd5\uff1a</p> <ul> <li>\u67e5\u770b\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\u548c\u7d22\u5f15\u4f7f\u7528\u60c5\u51b5\u3002 <code>javascript db.collection.find({ \"field\": value }).explain(\"executionStats\")</code></li> </ul> </li> <li> <p>\u4f18\u5316\u5efa\u8bae\uff1a</p> </li> <li>\u907f\u514d\u8fc7\u591a\u7d22\u5f15\uff1a\u8fc7\u591a\u7684\u7d22\u5f15\u4f1a\u5bfc\u81f4\u5199\u5165\u6027\u80fd\u4e0b\u964d\u3002</li> <li>\u5b9a\u671f\u91cd\u5efa\u7d22\u5f15\uff1a\u4f18\u5316\u7d22\u5f15\u7ed3\u6784\u3002     <code>javascript     db.collection.reIndex()</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#143","title":"14.3 \u67e5\u8be2\u4f18\u5316","text":"<ul> <li>\u67e5\u8be2\u4f18\u5316\u7b56\u7565\uff1a</li> <li>\u4f7f\u7528\u7d22\u5f15\uff1a\u786e\u4fdd\u67e5\u8be2\u6761\u4ef6\u5b57\u6bb5\u6709\u7d22\u5f15\u3002</li> <li>\u907f\u514d\u5168\u8868\u626b\u63cf\uff1a\u4f18\u5316\u67e5\u8be2\u6761\u4ef6\uff0c\u5c3d\u91cf\u907f\u514d\u5168\u8868\u626b\u63cf\u3002</li> <li> <p>\u9650\u5236\u8fd4\u56de\u5b57\u6bb5\uff1a     <code>javascript     db.collection.find({}, { \"field1\": 1, \"field2\": 1 })</code></p> </li> <li> <p>\u67e5\u8be2\u6a21\u5f0f\uff1a</p> </li> <li>\u8303\u56f4\u67e5\u8be2\uff1a     <code>javascript     db.collection.find({ \"field\": { $gte: 10, $lte: 20 } })</code></li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u67e5\u8be2\uff1a     <code>javascript     db.collection.find({ \"field\": /pattern/ })</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#144","title":"14.4 \u5199\u5165\u4f18\u5316","text":"<ul> <li>\u5199\u5165\u7b56\u7565\uff1a</li> <li>\u6279\u91cf\u5199\u5165\uff1a\u901a\u8fc7\u6279\u91cf\u64cd\u4f5c\u63d0\u9ad8\u5199\u5165\u6548\u7387\u3002     <code>javascript     db.collection.insertMany([{ \"field\": 1 }, { \"field\": 2 }])</code></li> <li> <p>\u5199\u5165\u5173\u6ce8\uff1a\u8bbe\u7f6e\u5199\u5165\u786e\u8ba4\u7ea7\u522b\u3002     <code>javascript     db.collection.insertOne({ \"field\": value }, { writeConcern: { w: \"majority\" } })</code></p> </li> <li> <p>\u5199\u5165\u6027\u80fd\u8c03\u4f18\uff1a</p> </li> <li>\u51cf\u5c11\u7d22\u5f15\u66f4\u65b0\uff1a\u5728\u6279\u91cf\u5199\u5165\u524d\u5173\u95ed\u6216\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\u3002</li> <li>\u4f7f\u7528 WiredTiger \u5f15\u64ce\uff1a\u9ed8\u8ba4\u7684 WiredTiger \u5f15\u64ce\u5bf9\u5199\u5165\u6027\u80fd\u8fdb\u884c\u4f18\u5316\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#145","title":"14.5 \u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u5185\u5b58\u4f7f\u7528\u76d1\u63a7\uff1a</li> <li> <p>\u76d1\u63a7 <code>resident</code> \u548c <code>virtual</code> \u5185\u5b58\uff1a     <code>javascript     db.serverStatus().mem</code></p> </li> <li> <p>\u5185\u5b58\u4f18\u5316\u7b56\u7565\uff1a</p> </li> <li>\u8c03\u6574\u7f13\u5b58\u5927\u5c0f\uff1a     <code>yaml     storage:       wiredTiger:         engineConfig:           configString: \"cache_size=2GB\"</code></li> <li>\u5185\u5b58\u6620\u5c04\u6587\u4ef6\uff1a\u8c03\u6574\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u7684\u4f7f\u7528\u65b9\u5f0f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#146-io","title":"14.6 \u786c\u76d8 I/O \u4f18\u5316","text":"<ul> <li>\u78c1\u76d8 I/O \u8c03\u4f18\uff1a</li> <li>\u4f7f\u7528 SSD\uff1aSSD \u63d0\u4f9b\u66f4\u9ad8\u7684\u8bfb\u5199\u901f\u5ea6\u3002</li> <li> <p>\u4f18\u5316\u78c1\u76d8\u5e03\u5c40\uff1a\u51cf\u5c11\u78c1\u76d8\u788e\u7247\u548c\u63d0\u9ad8\u8bfb\u5199\u6548\u7387\u3002</p> </li> <li> <p>I/O \u6027\u80fd\u76d1\u63a7\uff1a</p> </li> <li>\u76d1\u63a7\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\uff1a     <code>bash     iostat -x</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#147","title":"14.7 \u6570\u636e\u5206\u7247\u4e0e\u8d1f\u8f7d\u5747\u8861","text":"<ul> <li>\u5206\u7247\u914d\u7f6e\uff1a</li> <li> <p>\u9009\u62e9\u5206\u7247\u952e\uff1a\u9009\u62e9\u9002\u5f53\u7684\u5206\u7247\u952e\u4ee5\u4f18\u5316\u6570\u636e\u5206\u5e03\u3002     <code>javascript     sh.shardCollection(\"myDatabase.myCollection\", { \"shardKey\": 1 })</code></p> </li> <li> <p>\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\uff1a</p> </li> <li> <p>\u8bfb\u5199\u5206\u79bb\uff1a\u5c06\u8bfb\u64cd\u4f5c\u5206\u914d\u7ed9\u4ece\u8282\u70b9\uff0c\u5c06\u5199\u64cd\u4f5c\u7559\u7ed9\u4e3b\u8282\u70b9\u3002     <code>javascript     db.getMongo().setReadPref(\"secondaryPreferred\")</code></p> </li> <li> <p>\u76d1\u63a7\u5206\u7247\u6027\u80fd\uff1a</p> </li> <li>\u5206\u7247\u72b6\u6001\uff1a     <code>javascript     sh.status()</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#148","title":"14.8 \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d","text":"<ul> <li>\u5907\u4efd\u7b56\u7565\uff1a</li> <li> <p>\u5168\u91cf\u5907\u4efd\uff1a     <code>bash     mongodump --out /backup/fullBackup-`date +%Y%m%d`</code></p> </li> <li> <p>\u589e\u91cf\u5907\u4efd\uff1a     <code>bash     mongodump --oplog --out /backup/incrementalBackup-`date +%Y%m%d`</code></p> </li> <li> <p>\u6062\u590d\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u4ece\u5168\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore /backup/fullBackup-20230901</code></p> </li> <li> <p>\u4ece\u589e\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore --oplogReplay --db mydatabase /backup/incrementalBackup-20230901</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#15-mongodb","title":"15. MongoDB \u5b89\u5168\u6027\u4e0e\u7ba1\u7406","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#151","title":"15.1 \u7528\u6237\u8ba4\u8bc1\u4e0e\u6388\u6743","text":"<ul> <li>\u7528\u6237\u8ba4\u8bc1\uff1a</li> <li> <p>\u542f\u7528\u8ba4\u8bc1\uff1a</p> <ul> <li>\u5728\u542f\u52a8 MongoDB \u65f6\u542f\u7528\u8ba4\u8bc1\uff1a   <code>bash   mongod --auth</code></li> <li>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u8ba4\u8bc1\uff1a   <code>yaml   security:     authorization: \"enabled\"</code></li> </ul> </li> <li> <p>\u521b\u5efa\u7528\u6237\uff1a     <code>javascript     db.createUser({       user: \"username\",       pwd: \"password\",       roles: [{ role: \"readWrite\", db: \"databaseName\" }]     })</code></p> </li> <li> <p>\u7528\u6237\u89d2\u8272\u4e0e\u6743\u9650\uff1a</p> </li> <li> <p>\u5185\u7f6e\u89d2\u8272\uff1a</p> <ul> <li><code>read</code>\uff1a\u8bfb\u53d6\u6307\u5b9a\u6570\u636e\u5e93\u7684\u6743\u9650\u3002</li> <li><code>readWrite</code>\uff1a\u8bfb\u53d6\u548c\u5199\u5165\u6307\u5b9a\u6570\u636e\u5e93\u7684\u6743\u9650\u3002</li> <li><code>dbAdmin</code>\uff1a\u6267\u884c\u6570\u636e\u5e93\u7ba1\u7406\u64cd\u4f5c\u7684\u6743\u9650\u3002</li> <li><code>clusterAdmin</code>\uff1a\u96c6\u7fa4\u7ea7\u522b\u7684\u7ba1\u7406\u6743\u9650\u3002</li> </ul> </li> <li> <p>\u521b\u5efa\u81ea\u5b9a\u4e49\u89d2\u8272\uff1a     <code>javascript     db.createRole({       role: \"customRole\",       privileges: [         { resource: { db: \"databaseName\", collection: \"\" }, actions: [ \"find\", \"update\" ] }       ],       roles: []     })</code></p> </li> <li> <p>\u7528\u6237\u7ba1\u7406\uff1a</p> </li> <li> <p>\u67e5\u770b\u7528\u6237\u5217\u8868\uff1a     <code>javascript     db.getUsers()</code></p> </li> <li> <p>\u4fee\u6539\u7528\u6237\u89d2\u8272\uff1a     <code>javascript     db.updateUser(\"username\", { roles: [{ role: \"dbAdmin\", db: \"databaseName\" }] })</code></p> </li> <li> <p>\u5220\u9664\u7528\u6237\uff1a     <code>javascript     db.dropUser(\"username\")</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#152","title":"15.2 \u6570\u636e\u52a0\u5bc6","text":"<ul> <li>\u9759\u6001\u6570\u636e\u52a0\u5bc6\uff1a</li> <li> <p>\u542f\u7528\u52a0\u5bc6\uff1a</p> <ul> <li>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u52a0\u5bc6\uff1a   <code>yaml   security:     enableEncryption: true     encryptionKeyFile: /path/to/encryption/keyfile</code></li> </ul> </li> <li> <p>\u52a0\u5bc6\u7b97\u6cd5\uff1a</p> <ul> <li>\u652f\u6301 AES-256 \u52a0\u5bc6\u3002</li> </ul> </li> <li> <p>\u4f20\u8f93\u6570\u636e\u52a0\u5bc6\uff1a</p> </li> <li> <p>\u542f\u7528 TLS/SSL\uff1a</p> <ul> <li>\u914d\u7f6e TLS/SSL\uff1a   <code>yaml   net:     ssl:       mode: requireSSL       PEMKeyFile: /path/to/server.pem       CAFile: /path/to/ca.pem</code></li> </ul> </li> <li> <p>\u5ba2\u6237\u7aef\u8fde\u63a5\uff1a     <code>javascript     const client = new MongoClient(uri, { tls: true, tlsCAFile: \"/path/to/ca.pem\" });</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#153","title":"15.3 \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d","text":"<ul> <li>\u5168\u91cf\u5907\u4efd\uff1a</li> <li> <p>\u4f7f\u7528 <code>mongodump</code>\uff1a     <code>bash     mongodump --out /backup/fullBackup-`date +%Y%m%d`</code></p> </li> <li> <p>\u589e\u91cf\u5907\u4efd\uff1a</p> </li> <li> <p>\u4f7f\u7528 Oplog\uff1a     <code>bash     mongodump --oplog --out /backup/incrementalBackup-`date +%Y%m%d`</code></p> </li> <li> <p>\u6062\u590d\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u4ece\u5168\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore /backup/fullBackup-20230901</code></p> </li> <li> <p>\u4ece\u589e\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore --oplogReplay --db mydatabase /backup/incrementalBackup-20230901</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#154","title":"15.4 \u6570\u636e\u5e93\u76d1\u63a7\u4e0e\u65e5\u5fd7","text":"<ul> <li>\u76d1\u63a7\u6570\u636e\u5e93\uff1a</li> <li>MongoDB Ops Manager\uff1a\u63d0\u4f9b\u5168\u9762\u7684\u76d1\u63a7\u529f\u80fd\u3002</li> <li>MongoDB Atlas\uff1a\u63d0\u4f9b\u4e91\u7aef\u76d1\u63a7\u670d\u52a1\u3002</li> <li> <p><code>mongostat</code>\uff1a\u5b9e\u65f6\u76d1\u63a7 MongoDB \u5b9e\u4f8b\u6027\u80fd\u3002     <code>bash     mongostat --host &lt;host&gt;:&lt;port&gt;</code></p> </li> <li> <p><code>mongotop</code>\uff1a\u76d1\u63a7\u6570\u636e\u5e93\u8bfb\u5199\u64cd\u4f5c\u65f6\u95f4\u3002     <code>bash     mongotop --host &lt;host&gt;:&lt;port&gt;</code></p> </li> <li> <p>\u65e5\u5fd7\u7ba1\u7406\uff1a</p> </li> <li> <p>\u67e5\u770b\u65e5\u5fd7\uff1a</p> <ul> <li>\u9ed8\u8ba4\u65e5\u5fd7\u6587\u4ef6\uff1a<code>/var/log/mongodb/mongod.log</code></li> <li>\u65e5\u5fd7\u7ea7\u522b\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\u3002   <code>yaml   systemLog:     verbosity: 1</code></li> </ul> </li> <li> <p>\u914d\u7f6e\u65e5\u5fd7\u8f6e\u8f6c\uff1a     <code>yaml     systemLog:       path: /var/log/mongodb/mongod.log       logRotate: rename       logAppend: true</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#155","title":"15.5 \u96c6\u7fa4\u7ba1\u7406","text":"<ul> <li>\u526f\u672c\u96c6\u7ba1\u7406\uff1a</li> <li> <p>\u6dfb\u52a0\u526f\u672c\u96c6\u6210\u5458\uff1a     <code>javascript     rs.add(\"host:port\")</code></p> </li> <li> <p>\u79fb\u9664\u526f\u672c\u96c6\u6210\u5458\uff1a     <code>javascript     rs.remove(\"host:port\")</code></p> </li> <li> <p>\u67e5\u770b\u526f\u672c\u96c6\u72b6\u6001\uff1a     <code>javascript     rs.status()</code></p> </li> <li> <p>\u5206\u7247\u7ba1\u7406\uff1a</p> </li> <li> <p>\u6dfb\u52a0\u5206\u7247\uff1a     <code>javascript     sh.addShard(\"shard1/host1:27017\")</code></p> </li> <li> <p>\u79fb\u9664\u5206\u7247\uff1a     <code>javascript     sh.removeShard(\"shard1/host1:27017\")</code></p> </li> <li> <p>\u67e5\u770b\u5206\u7247\u72b6\u6001\uff1a     <code>javascript     sh.status()</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#156","title":"15.6 \u6545\u969c\u6062\u590d\u4e0e\u9ad8\u53ef\u7528\u6027","text":"<ul> <li>\u6545\u969c\u6062\u590d\uff1a</li> <li> <p>\u4f7f\u7528 <code>mongorestore</code> \u6062\u590d\u6570\u636e\uff1a     <code>bash     mongorestore --drop /backup/fullBackup-20230901</code></p> </li> <li> <p>\u9ad8\u53ef\u7528\u6027\u8bbe\u8ba1\uff1a</p> </li> <li>\u914d\u7f6e\u526f\u672c\u96c6\uff1a\u63d0\u4f9b\u6570\u636e\u5197\u4f59\u548c\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u3002</li> <li>\u914d\u7f6e\u5206\u7247\uff1a\u63d0\u4f9b\u6c34\u5e73\u6269\u5c55\uff0c\u5904\u7406\u5927\u6570\u636e\u91cf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#157","title":"15.7 \u5b89\u5168\u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>\u6700\u5c0f\u6743\u9650\u539f\u5219\uff1a</li> <li> <p>\u53ea\u7ed9\u4e88\u7528\u6237\u5b8c\u6210\u4efb\u52a1\u6240\u9700\u7684\u6700\u5c0f\u6743\u9650\u3002</p> </li> <li> <p>\u5b9a\u671f\u66f4\u65b0\uff1a</p> </li> <li> <p>\u5b9a\u671f\u66f4\u65b0 MongoDB \u548c\u76f8\u5173\u7ec4\u4ef6\uff0c\u4fee\u590d\u5df2\u77e5\u5b89\u5168\u6f0f\u6d1e\u3002</p> </li> <li> <p>\u5ba1\u8ba1\u65e5\u5fd7\uff1a</p> </li> <li> <p>\u542f\u7528\u5ba1\u8ba1\u65e5\u5fd7\uff0c\u8bb0\u5f55\u7528\u6237\u64cd\u4f5c\u548c\u7cfb\u7edf\u4e8b\u4ef6\u3002</p> </li> <li> <p>\u5b89\u5168\u914d\u7f6e\uff1a</p> </li> <li>\u7981\u7528\u672a\u4f7f\u7528\u7684\u7aef\u53e3\u548c\u670d\u52a1\u3002</li> <li>\u4fdd\u62a4\u7ba1\u7406\u63a5\u53e3\uff0c\u9650\u5236\u8bbf\u95ee\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#16-mongodb","title":"16. MongoDB \u9ad8\u7ea7\u529f\u80fd","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#161","title":"16.1 \u805a\u5408\u6846\u67b6","text":"<ul> <li>\u805a\u5408\u7ba1\u9053\uff1a</li> <li>\u57fa\u672c\u7528\u6cd5\uff1a     <code>javascript     db.collection.aggregate([       { $match: { field: value } },       { $group: { _id: \"$field\", total: { $sum: \"$amount\" } } }     ])</code></li> <li> <p>\u5e38\u7528\u9636\u6bb5\uff1a</p> <ul> <li><code>$match</code>\uff1a\u8fc7\u6ee4\u6587\u6863\u3002</li> <li><code>$group</code>\uff1a\u5206\u7ec4\u548c\u805a\u5408\u3002</li> <li><code>$sort</code>\uff1a\u6392\u5e8f\u3002</li> <li><code>$project</code>\uff1a\u6295\u5f71\u5b57\u6bb5\u3002</li> </ul> </li> <li> <p>\u805a\u5408\u64cd\u4f5c\u793a\u4f8b\uff1a</p> </li> <li> <p>\u8ba1\u7b97\u603b\u9500\u552e\u989d\uff1a     <code>javascript     db.sales.aggregate([       { $match: { date: { $gte: new Date(\"2024-01-01\") } } },       { $group: { _id: null, totalSales: { $sum: \"$amount\" } } }     ])</code></p> </li> <li> <p>\u6027\u80fd\u4f18\u5316\uff1a</p> </li> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u4e3a\u805a\u5408\u7ba1\u9053\u4e2d\u7684 <code>$match</code> \u9636\u6bb5\u521b\u5efa\u7d22\u5f15\u3002</li> <li>\u4f7f\u7528 <code>$merge</code>\uff1a\u5c06\u805a\u5408\u7ed3\u679c\u5199\u5165\u53e6\u4e00\u4e2a\u96c6\u5408\u3002     <code>javascript     db.collection.aggregate([       { $group: { _id: \"$field\", total: { $sum: \"$amount\" } } },       { $merge: { into: \"resultCollection\" } }     ])</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#162","title":"16.2 \u6570\u636e\u5e93\u590d\u5236","text":"<ul> <li>\u526f\u672c\u96c6\u914d\u7f6e\uff1a</li> <li> <p>\u521d\u59cb\u5316\u526f\u672c\u96c6\uff1a     <code>javascript     rs.initiate({       _id: \"rs0\",       members: [         { _id: 0, host: \"host1:27017\" },         { _id: 1, host: \"host2:27017\" },         { _id: 2, host: \"host3:27017\" }       ]     })</code></p> </li> <li> <p>\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1a</p> </li> <li> <p>\u4e3b\u8282\u70b9\u6545\u969c\u65f6\u7684\u81ea\u52a8\u5207\u6362\uff1a\u526f\u672c\u96c6\u6210\u5458\u4f1a\u81ea\u52a8\u9009\u4e3e\u65b0\u7684\u4e3b\u8282\u70b9\u3002</p> </li> <li> <p>\u8bfb\u5199\u5206\u79bb\uff1a</p> </li> <li> <p>\u4ece\u8282\u70b9\u8bfb\u53d6\uff1a     <code>javascript     db.getMongo().setReadPref(\"secondaryPreferred\")</code></p> </li> <li> <p>\u76d1\u63a7\u526f\u672c\u96c6\u72b6\u6001\uff1a</p> </li> <li>\u67e5\u770b\u526f\u672c\u96c6\u6210\u5458\u72b6\u6001\uff1a     <code>javascript     rs.status()</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#163","title":"16.3 \u6570\u636e\u5206\u7247","text":"<ul> <li>\u5206\u7247\u914d\u7f6e\uff1a</li> <li> <p>\u542f\u7528\u5206\u7247\uff1a     <code>javascript     sh.enableSharding(\"databaseName\")</code></p> </li> <li> <p>\u4e3a\u96c6\u5408\u521b\u5efa\u5206\u7247\uff1a     <code>javascript     sh.shardCollection(\"databaseName.collectionName\", { \"shardKey\": 1 })</code></p> </li> <li> <p>\u9009\u62e9\u5206\u7247\u952e\uff1a</p> </li> <li> <p>\u9009\u62e9\u9002\u5f53\u7684\u5206\u7247\u952e\uff1a\u9700\u8981\u9009\u62e9\u9ad8\u57fa\u6570\u4e14\u67e5\u8be2\u4e2d\u7ecf\u5e38\u4f7f\u7528\u7684\u5b57\u6bb5\u4f5c\u4e3a\u5206\u7247\u952e\u3002</p> </li> <li> <p>\u76d1\u63a7\u5206\u7247\u72b6\u6001\uff1a</p> </li> <li> <p>\u67e5\u770b\u5206\u7247\u72b6\u51b5\uff1a     <code>javascript     sh.status()</code></p> </li> <li> <p>\u5206\u7247\u4f18\u5316\uff1a</p> </li> <li>\u5747\u8861\u5668\uff1aMongoDB \u7684\u81ea\u52a8\u5747\u8861\u5668\u4f1a\u5728\u5206\u7247\u95f4\u5747\u8861\u6570\u636e\u3002</li> <li>\u624b\u52a8\u5747\u8861\uff1a     <code>javascript     sh.startBalancer()</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#164","title":"16.4 \u6570\u636e\u6301\u4e45\u5316\u4e0e\u6301\u4e45\u6027","text":"<ul> <li>\u6570\u636e\u6301\u4e45\u5316\uff1a</li> <li>WiredTiger \u5f15\u64ce\uff1aMongoDB \u9ed8\u8ba4\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u63d0\u4f9b\u9ad8\u6027\u80fd\u7684\u6570\u636e\u6301\u4e45\u5316\u3002</li> <li> <p>MMAPv1 \u5f15\u64ce\uff08\u4e0d\u63a8\u8350\uff09\uff1a\u8001\u65e7\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u9002\u7528\u4e8e\u8f83\u5c0f\u7684\u6570\u636e\u96c6\u3002</p> </li> <li> <p>\u6301\u4e45\u6027\u914d\u7f6e\uff1a</p> </li> <li> <p>\u8c03\u6574\u5199\u5165\u5173\u6ce8\uff1a     <code>javascript     db.collection.insertOne({ \"field\": \"value\" }, { writeConcern: { w: \"majority\" } })</code></p> </li> <li> <p>\u6301\u4e45\u6027\u7b56\u7565\uff1a</p> <ul> <li><code>w</code>\uff1a\u5199\u5165\u786e\u8ba4\u7ea7\u522b\u3002</li> <li><code>j</code>\uff1a\u786e\u8ba4\u5199\u5165\u64cd\u4f5c\u65e5\u5fd7\u3002</li> <li><code>wtimeout</code>\uff1a\u5199\u5165\u8d85\u65f6\u65f6\u95f4\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#165","title":"16.5 \u6570\u636e\u6062\u590d\u4e0e\u707e\u96be\u6062\u590d","text":"<ul> <li>\u5168\u91cf\u5907\u4efd\u4e0e\u6062\u590d\uff1a</li> <li> <p>\u5907\u4efd\uff1a     <code>bash     mongodump --out /backup/fullBackup-`date +%Y%m%d`</code></p> </li> <li> <p>\u6062\u590d\uff1a     <code>bash     mongorestore /backup/fullBackup-20230901</code></p> </li> <li> <p>\u589e\u91cf\u5907\u4efd\u4e0e\u6062\u590d\uff1a</p> </li> <li> <p>\u5907\u4efd\uff1a     <code>bash     mongodump --oplog --out /backup/incrementalBackup-`date +%Y%m%d`</code></p> </li> <li> <p>\u6062\u590d\uff1a     <code>bash     mongorestore --oplogReplay --db mydatabase /backup/incrementalBackup-20230901</code></p> </li> <li> <p>\u707e\u96be\u6062\u590d\uff1a</p> </li> <li>\u4ece\u5907\u4efd\u6062\u590d\uff1a\u5728\u53d1\u751f\u707e\u96be\u65f6\uff0c\u4ece\u5907\u4efd\u4e2d\u6062\u590d\u6570\u636e\u3002</li> <li>\u6062\u590d\u6f14\u7ec3\uff1a\u5b9a\u671f\u8fdb\u884c\u6062\u590d\u6f14\u7ec3\uff0c\u786e\u4fdd\u6062\u590d\u6d41\u7a0b\u6709\u6548\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#166","title":"16.6 \u9ad8\u53ef\u7528\u67b6\u6784","text":"<ul> <li>\u914d\u7f6e\u526f\u672c\u96c6\uff1a</li> <li>\u63d0\u4f9b\u5197\u4f59\uff1a\u526f\u672c\u96c6\u53ef\u4ee5\u5728\u4e3b\u8282\u70b9\u5931\u8d25\u65f6\u63d0\u4f9b\u5907\u4efd\u8282\u70b9\u3002</li> <li> <p>\u914d\u7f6e\uff1a\u526f\u672c\u96c6\u914d\u7f6e\u548c\u7ba1\u7406\u5982\u524d\u6240\u8ff0\u3002</p> </li> <li> <p>\u914d\u7f6e\u5206\u7247\u96c6\u7fa4\uff1a</p> </li> <li> <p>\u5904\u7406\u5927\u6570\u636e\u91cf\uff1a\u5206\u7247\u96c6\u7fa4\u53ef\u4ee5\u6c34\u5e73\u6269\u5c55\u4ee5\u5904\u7406\u66f4\u5927\u7684\u6570\u636e\u91cf\u3002</p> </li> <li> <p>\u8d1f\u8f7d\u5747\u8861\uff1a</p> </li> <li>\u5728\u526f\u672c\u96c6\u548c\u5206\u7247\u4e2d\uff1a\u901a\u8fc7\u526f\u672c\u96c6\u548c\u5206\u7247\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#167","title":"16.7 \u6570\u636e\u8fc1\u79fb\u4e0e\u5347\u7ea7","text":"<ul> <li>\u6570\u636e\u8fc1\u79fb\uff1a</li> <li>\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code>\uff1a\u5728\u4e0d\u540c\u7684 MongoDB \u5b9e\u4f8b\u4e4b\u95f4\u8fc1\u79fb\u6570\u636e\u3002</li> <li> <p>\u6570\u636e\u8fc1\u79fb\u5de5\u5177\uff1a\u4f7f\u7528 MongoDB \u63d0\u4f9b\u7684\u6570\u636e\u8fc1\u79fb\u5de5\u5177\u8fdb\u884c\u8fc1\u79fb\u3002</p> </li> <li> <p>\u5347\u7ea7 MongoDB\uff1a</p> </li> <li> <p>\u5347\u7ea7\u6b65\u9aa4\uff1a</p> <ol> <li>\u5907\u4efd\u6570\u636e\uff1a\u5728\u5347\u7ea7\u4e4b\u524d\u5907\u4efd\u6240\u6709\u6570\u636e\u3002</li> <li>\u505c\u6b62\u670d\u52a1\uff1a\u505c\u6b62 MongoDB \u5b9e\u4f8b\u3002</li> <li>\u5b89\u88c5\u65b0\u7248\u672c\uff1a\u5b89\u88c5\u65b0\u7684 MongoDB \u7248\u672c\u3002</li> <li>\u8fc1\u79fb\u6570\u636e\uff1a\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code> \u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u3002</li> <li>\u542f\u52a8\u670d\u52a1\uff1a\u542f\u52a8\u65b0\u7684 MongoDB \u5b9e\u4f8b\u3002</li> </ol> </li> <li> <p>\u5347\u7ea7\u6ce8\u610f\u4e8b\u9879\uff1a</p> </li> <li>\u67e5\u770b\u5347\u7ea7\u6307\u5357\uff1a\u4e0d\u540c\u7248\u672c\u7684 MongoDB \u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5347\u7ea7\u6b65\u9aa4\u548c\u6ce8\u610f\u4e8b\u9879\u3002</li> <li>\u6d4b\u8bd5\u5347\u7ea7\uff1a\u5728\u751f\u4ea7\u73af\u5883\u5347\u7ea7\u4e4b\u524d\uff0c\u5148\u5728\u6d4b\u8bd5\u73af\u5883\u8fdb\u884c\u6d4b\u8bd5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#168-mongodb","title":"16.8 MongoDB \u4e0e\u5927\u6570\u636e\u96c6\u6210","text":"<ul> <li>\u4e0e Hadoop \u96c6\u6210\uff1a</li> <li> <p>MongoDB Connector for Hadoop\uff1a\u7528\u4e8e\u5c06 MongoDB \u6570\u636e\u4e0e Hadoop \u8fdb\u884c\u96c6\u6210\u3002     <code>bash     mongo-hadoop-core-&lt;version&gt;.jar</code></p> </li> <li> <p>\u4e0e Spark \u96c6\u6210\uff1a</p> </li> <li> <p>MongoDB Spark Connector\uff1a\u5141\u8bb8 Spark \u4ece MongoDB \u4e2d\u8bfb\u53d6\u6570\u636e\u5e76\u5c06\u7ed3\u679c\u5199\u5165 MongoDB\u3002     <code>scala     val df = spark.read.format(\"mongo\").load()     df.write.format(\"mongo\").save()</code></p> </li> <li> <p>\u4e0e BI \u5de5\u5177\u96c6\u6210\uff1a</p> </li> <li>MongoDB BI Connector\uff1a\u5141\u8bb8\u4f7f\u7528 SQL \u67e5\u8be2 MongoDB \u6570\u636e\u3002     <code>bash     mongosqld --config /etc/mongosql.conf</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#17-mongodb","title":"17. MongoDB \u6027\u80fd\u4f18\u5316","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#171","title":"17.1 \u7d22\u5f15\u4f18\u5316","text":"<ul> <li>\u521b\u5efa\u9ad8\u6548\u7684\u7d22\u5f15\uff1a</li> <li>\u9009\u62e9\u6027\u9ad8\u7684\u5b57\u6bb5\uff1a\u7d22\u5f15\u5e94\u8be5\u653e\u5728\u9009\u62e9\u6027\u9ad8\u7684\u5b57\u6bb5\u4e0a\uff0c\u4f8b\u5982\u552f\u4e00\u5b57\u6bb5\u3002</li> <li> <p>\u7ec4\u5408\u7d22\u5f15\uff1a\u5728\u67e5\u8be2\u4e2d\u7ecf\u5e38\u7ec4\u5408\u4f7f\u7528\u7684\u5b57\u6bb5\u4e0a\u521b\u5efa\u7ec4\u5408\u7d22\u5f15\u3002     <code>javascript     db.collection.createIndex({ field1: 1, field2: -1 })</code></p> </li> <li> <p>\u7d22\u5f15\u7ba1\u7406\uff1a</p> </li> <li>\u67e5\u770b\u73b0\u6709\u7d22\u5f15\uff1a     <code>javascript     db.collection.getIndexes()</code></li> <li> <p>\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\uff1a     <code>javascript     db.collection.dropIndex(\"indexName\")</code></p> </li> <li> <p>\u8986\u76d6\u67e5\u8be2\uff1a</p> </li> <li>\u4f7f\u7528\u7d22\u5f15\u8986\u76d6\u67e5\u8be2\uff1a\u5f53\u67e5\u8be2\u53ea\u4f7f\u7528\u7d22\u5f15\u4e2d\u7684\u5b57\u6bb5\u65f6\uff0cMongoDB \u4e0d\u9700\u8981\u8bbf\u95ee\u5b9e\u9645\u6587\u6863\uff0c\u4ece\u800c\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#172","title":"17.2 \u67e5\u8be2\u4f18\u5316","text":"<ul> <li>\u4f18\u5316 <code>$lookup</code>\uff1a</li> <li> <p>\u907f\u514d\u5927\u8868\u8fde\u63a5\uff1a\u5728\u4f7f\u7528 <code>$lookup</code> \u65f6\uff0c\u5c3d\u91cf\u907f\u514d\u5728\u5927\u8868\u4e4b\u95f4\u8fdb\u884c\u8fde\u63a5\u64cd\u4f5c\u3002</p> </li> <li> <p>\u4f7f\u7528 <code>$expr</code>\uff1a</p> </li> <li> <p>\u907f\u514d\u5168\u8868\u626b\u63cf\uff1a\u4f7f\u7528 <code>$expr</code> \u65f6\u786e\u4fdd\u67e5\u8be2\u6761\u4ef6\u80fd\u591f\u6709\u6548\u5229\u7528\u7d22\u5f15\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\u3002     <code>javascript     db.collection.find({ $expr: { $gt: [\"$field1\", \"$field2\"] } })</code></p> </li> <li> <p>\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\uff1a</p> </li> <li>\u901a\u8fc7\u5e94\u7528\u5c42\u7f13\u5b58\uff1a\u5c06\u67e5\u8be2\u7ed3\u679c\u7f13\u5b58\u5230\u5e94\u7528\u5c42\u4ee5\u51cf\u5c11\u5bf9\u6570\u636e\u5e93\u7684\u67e5\u8be2\u538b\u529b\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#173","title":"17.3 \u6570\u636e\u5e93\u914d\u7f6e\u4f18\u5316","text":"<ul> <li>\u8c03\u6574 MongoDB \u914d\u7f6e\uff1a</li> <li>\u5185\u5b58\u5206\u914d\uff1a\u4e3a MongoDB \u5206\u914d\u66f4\u591a\u7684\u5185\u5b58\uff0c\u4ee5\u63d0\u9ad8\u67e5\u8be2\u548c\u5199\u5165\u6027\u80fd\u3002</li> <li> <p>\u8c03\u6574 <code>WiredTiger</code> \u7f13\u5b58\uff1a\u5408\u7406\u914d\u7f6e <code>WiredTiger</code> \u5b58\u50a8\u5f15\u64ce\u7684\u7f13\u5b58\u5927\u5c0f\u3002     <code>bash     storage.wiredTiger.engineConfig.cacheSizeGB: 8</code></p> </li> <li> <p>\u7f51\u7edc\u914d\u7f6e\u4f18\u5316\uff1a</p> </li> <li>\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\uff1a\u5728\u591a\u6570\u636e\u4e2d\u5fc3\u90e8\u7f72\u65f6\uff0c\u5c3d\u91cf\u51cf\u5c11\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u5ef6\u8fdf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#174","title":"17.4 \u526f\u672c\u96c6\u548c\u5206\u7247\u96c6\u7fa4\u7684\u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u526f\u672c\u96c6\u8bfb\u5199\u4f18\u5316\uff1a</li> <li>\u8bfb\u5199\u5206\u79bb\uff1a\u5c06\u8bfb\u64cd\u4f5c\u5206\u914d\u5230\u526f\u672c\u96c6\u7684\u4ece\u8282\u70b9\uff0c\u51cf\u8f7b\u4e3b\u8282\u70b9\u538b\u529b\u3002</li> <li> <p>\u526f\u672c\u96c6\u4f18\u5148\u7ea7\u8c03\u6574\uff1a\u4e3a\u526f\u672c\u96c6\u4e2d\u5bf9\u6027\u80fd\u8981\u6c42\u8f83\u9ad8\u7684\u8282\u70b9\u63d0\u9ad8\u4f18\u5148\u7ea7\u3002</p> </li> <li> <p>\u5206\u7247\u96c6\u7fa4\u4f18\u5316\uff1a</p> </li> <li>\u5747\u8861\u6570\u636e\u5206\u5e03\uff1a\u786e\u4fdd\u6570\u636e\u5728\u5404\u4e2a\u5206\u7247\u4e4b\u95f4\u5747\u5300\u5206\u5e03\uff0c\u4ee5\u907f\u514d\u5355\u4e2a\u5206\u7247\u7684\u8d1f\u8f7d\u8fc7\u9ad8\u3002</li> <li>\u914d\u7f6e\u7247\u952e\uff1a\u5408\u7406\u9009\u62e9\u7247\u952e\uff0c\u907f\u514d\u5206\u7247\u70ed\u70b9\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#175","title":"17.5 \u5e76\u53d1\u63a7\u5236\u4e0e\u9501\u4f18\u5316","text":"<ul> <li>\u9501\u7ba1\u7406\uff1a</li> <li> <p>\u9501\u7c92\u5ea6\uff1aMongoDB \u91c7\u7528\u7684\u9501\u7c92\u5ea6\u5df2\u7ecf\u4ece\u6700\u65e9\u7684\u5168\u5c40\u9501\u4f18\u5316\u4e3a\u96c6\u5408\u7ea7\u9501\uff0c\u7528\u6237\u65e0\u9700\u624b\u52a8\u5e72\u9884\uff0c\u4f46\u7406\u89e3\u5176\u673a\u5236\u6709\u52a9\u4e8e\u6027\u80fd\u8c03\u4f18\u3002</p> </li> <li> <p>\u4f18\u5316\u5199\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u6279\u91cf\u64cd\u4f5c\uff1a\u5c06\u5199\u64cd\u4f5c\u5408\u5e76\u4e3a\u6279\u91cf\u64cd\u4f5c\uff0c\u4ee5\u51cf\u5c11\u9501\u7684\u7ade\u4e89\u3002     <code>javascript     db.collection.bulkWrite([       { insertOne: { document: { field: value } } },       { updateOne: { filter: { _id: id }, update: { $set: { field: value } } } }     ])</code></p> </li> <li> <p>\u9694\u79bb\u7ea7\u522b\uff1a</p> </li> <li>\u4e86\u89e3\u9694\u79bb\u7ea7\u522b\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff1aMongoDB \u9ed8\u8ba4\u7684\u8bfb\u5199\u9694\u79bb\u7ea7\u522b\u9002\u7528\u4e8e\u5927\u90e8\u5206\u573a\u666f\uff0c\u4f46\u5728\u7279\u5b9a\u60c5\u51b5\u4e0b\u53ef\u80fd\u9700\u8981\u8c03\u6574\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#176","title":"17.6 \u76d1\u63a7\u4e0e\u8c03\u4f18","text":"<ul> <li>\u76d1\u63a7\u5de5\u5177\uff1a</li> <li> <p>MongoDB Profiler\uff1a\u7528\u4e8e\u76d1\u63a7\u548c\u8c03\u4f18\u6162\u67e5\u8be2\u3002     <code>javascript     db.setProfilingLevel(2)     db.system.profile.find().sort({ millis: -1 })</code></p> </li> <li> <p>\u4f7f\u7528 <code>mongostat</code> \u548c <code>mongotop</code>\uff1a\u76d1\u63a7\u6570\u636e\u5e93\u7684\u8fd0\u884c\u72b6\u6001\u548c\u6027\u80fd\u6307\u6807\u3002     <code>bash     mongostat --discover     mongotop</code></p> </li> <li> <p>\u65e5\u5fd7\u5206\u6790\uff1a</p> </li> <li> <p>\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u5e76\u901a\u8fc7\u4f18\u5316\u7d22\u5f15\u3001\u91cd\u5199\u67e5\u8be2\u7b49\u65b9\u5f0f\u8fdb\u884c\u8c03\u4f18\u3002     <code>bash     db.collection.find({ field: value }).sort({ field: 1 })</code></p> </li> <li> <p>\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5\uff1a</p> </li> <li>\u4f7f\u7528 <code>sysbench</code> \u7b49\u5de5\u5177\uff1a\u5bf9 MongoDB \u8fdb\u884c\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5\uff0c\u4ee5\u8bc4\u4f30\u4e0d\u540c\u914d\u7f6e\u548c\u64cd\u4f5c\u7684\u6027\u80fd\u8868\u73b0\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/basic/#177","title":"17.7 \u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u7684\u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u5199\u5165\u6027\u80fd\u4f18\u5316\uff1a</li> <li>\u6279\u91cf\u63d2\u5165\uff1a\u5728\u9ad8\u5e76\u53d1\u5199\u5165\u573a\u666f\u4e2d\uff0c\u4f7f\u7528\u6279\u91cf\u63d2\u5165\u53ef\u4ee5\u5927\u5e45\u63d0\u9ad8\u6027\u80fd\u3002</li> <li> <p>\u5f02\u6b65\u5199\u5165\uff1a\u901a\u8fc7\u5e94\u7528\u5c42\u7684\u5f02\u6b65\u5904\u7406\uff0c\u51cf\u5c11\u5199\u5165\u5bf9\u4e3b\u7ebf\u7a0b\u7684\u5f71\u54cd\u3002</p> </li> <li> <p>\u8bfb\u6027\u80fd\u4f18\u5316\uff1a</p> </li> <li> <p>\u591a\u4ece\u8282\u70b9\u8bfb\uff1a\u914d\u7f6e\u526f\u672c\u96c6\u4ece\u8282\u70b9\u8bfb\u53d6\uff0c\u4ece\u800c\u5728\u9ad8\u5e76\u53d1\u8bfb\u573a\u666f\u4e2d\u51cf\u8f7b\u4e3b\u8282\u70b9\u538b\u529b\u3002     <code>javascript     db.getMongo().setReadPref(\"nearest\")</code></p> </li> <li> <p>\u7f13\u5b58\u4e0e\u961f\u5217\uff1a</p> </li> <li>\u4f7f\u7528\u7f13\u5b58\uff1a\u5728\u5e94\u7528\u5c42\u5f15\u5165\u7f13\u5b58\u673a\u5236\uff0c\u51cf\u5c11\u5bf9\u6570\u636e\u5e93\u7684\u76f4\u63a5\u8bbf\u95ee\u3002</li> <li>\u4f7f\u7528\u6d88\u606f\u961f\u5217\uff1a\u5728\u9ad8\u5e76\u53d1\u5199\u5165\u65f6\uff0c\u4f7f\u7528\u6d88\u606f\u961f\u5217\u7f13\u51b2\u8bf7\u6c42\uff0c\u964d\u4f4e\u6570\u636e\u5e93\u538b\u529b\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/","title":"MongoDB \u9762\u8bd5\u624b\u518c","text":"<p>MongoDB \u662f\u4e00\u79cd\u6d41\u884c\u7684 NoSQL \u6570\u636e\u5e93\uff0c\u8bb8\u591a\u5927\u5382\u7684\u9762\u8bd5\u4e2d\u4f1a\u8003\u5bdf\u4e0e\u5176\u76f8\u5173\u7684\u77e5\u8bc6\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 MongoDB \u9762\u8bd5\u9898\u53ca\u5176\u8be6\u89e3\uff0c\u8fd9\u4e9b\u9898\u76ee\u6db5\u76d6\u4e86\u4ece\u57fa\u7840\u5230\u9ad8\u7ea7\u7684\u5185\u5bb9\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#1-mongodb","title":"1. MongoDB \u7684\u57fa\u672c\u6982\u5ff5","text":"<p>1.1 \u4ec0\u4e48\u662f MongoDB\uff1f\u5b83\u4e0e\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08RDBMS\uff09\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   MongoDB \u662f\u4e00\u4e2a\u9762\u5411\u6587\u6863\u7684 NoSQL \u6570\u636e\u5e93\uff0c\u5b83\u4ee5 BSON\uff08Binary JSON\uff09\u683c\u5f0f\u5b58\u50a8\u6570\u636e\u3002\u4e0e\u4f20\u7edf RDBMS \u4e0d\u540c\uff0cMongoDB \u4e0d\u4f7f\u7528\u8868\u683c\u548c\u884c\u6765\u5b58\u50a8\u6570\u636e\uff0c\u800c\u662f\u4f7f\u7528\u6587\u6863\u548c\u96c6\u5408\u3002MongoDB \u66f4\u52a0\u7075\u6d3b\uff0c\u80fd\u591f\u8f7b\u677e\u5904\u7406\u975e\u7ed3\u6784\u5316\u6570\u636e\u548c\u534a\u7ed3\u6784\u5316\u6570\u636e\uff0c\u9002\u5408\u5904\u7406\u5927\u89c4\u6a21\u3001\u5206\u5e03\u5f0f\u7684\u6570\u636e\u5b58\u50a8\u548c\u67e5\u8be2\u3002</li> </ul> <p>1.2 \u4ec0\u4e48\u662f\u96c6\u5408\uff08Collection\uff09\u548c\u6587\u6863\uff08Document\uff09\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u96c6\u5408\u7c7b\u4f3c\u4e8e RDBMS \u4e2d\u7684\u8868\uff0c\u662f\u6587\u6863\u7684\u96c6\u5408\u3002\u6587\u6863\u5219\u7c7b\u4f3c\u4e8e\u884c\uff0c\u5b58\u50a8\u5177\u4f53\u7684\u6570\u636e\u8bb0\u5f55\u3002\u6587\u6863\u662f BSON \u683c\u5f0f\u7684 JSON \u5bf9\u8c61\uff0c\u5177\u6709\u52a8\u6001\u67b6\u6784\uff0c\u8fd9\u610f\u5473\u7740\u540c\u4e00\u96c6\u5408\u4e2d\u7684\u6587\u6863\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u7ed3\u6784\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#2","title":"2. \u7d22\u5f15\u4e0e\u67e5\u8be2\u4f18\u5316","text":"<p>2.1 \u5982\u4f55\u521b\u5efa\u7d22\u5f15\uff1f\u7d22\u5f15\u7684\u5de5\u4f5c\u539f\u7406\u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u4f7f\u7528 <code>createIndex()</code> \u65b9\u6cd5\u53ef\u4ee5\u521b\u5efa\u7d22\u5f15\u3002\u4f8b\u5982\uff0c<code>db.collection.createIndex({ field: 1 })</code> \u5728 <code>field</code> \u5b57\u6bb5\u4e0a\u521b\u5efa\u5347\u5e8f\u7d22\u5f15\u3002\u7d22\u5f15\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u6709\u5e8f\u7684\u6570\u636e\u7ed3\u6784\uff08\u5982 B \u6811\uff09\u6765\u52a0\u901f\u67e5\u8be2\u64cd\u4f5c\uff0c\u4f46\u5b83\u4eec\u4f1a\u5360\u7528\u989d\u5916\u7684\u5b58\u50a8\u7a7a\u95f4\u5e76\u5f71\u54cd\u5199\u64cd\u4f5c\u7684\u6027\u80fd\u3002</li> </ul> <p>2.2 \u590d\u5408\u7d22\u5f15\u7684\u4f7f\u7528\u573a\u666f\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u8bbe\u8ba1\u9ad8\u6548\u7684\u590d\u5408\u7d22\u5f15\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u590d\u5408\u7d22\u5f15\u7528\u4e8e\u4f18\u5316\u6d89\u53ca\u591a\u4e2a\u5b57\u6bb5\u7684\u67e5\u8be2\u3002\u8bbe\u8ba1\u65f6\u9700\u8981\u8003\u8651\u67e5\u8be2\u4e2d\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4f8b\u5982\uff0c\u9488\u5bf9 <code>{ field1: 1, field2: -1 }</code> \u7684\u7d22\u5f15\uff0c\u53ef\u4ee5\u6709\u6548\u4f18\u5316 <code>field1</code> \u548c <code>field2</code> \u7ec4\u5408\u7684\u67e5\u8be2\uff0c\u4f46\u4e0d\u80fd\u5355\u72ec\u4f18\u5316 <code>field2</code> \u7684\u67e5\u8be2\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#3","title":"3. \u805a\u5408\u64cd\u4f5c\u4e0e\u7ba1\u9053","text":"<p>3.1 \u805a\u5408\u6846\u67b6\u662f\u4ec0\u4e48\uff1f\u5b83\u4e0e MapReduce \u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u805a\u5408\u6846\u67b6\u662f MongoDB \u63d0\u4f9b\u7684\u4e00\u5957\u7528\u4e8e\u6570\u636e\u805a\u5408\u64cd\u4f5c\u7684\u5de5\u5177\uff0c\u901a\u8fc7\u7ba1\u9053\u64cd\u4f5c\u7b26\uff08\u5982 <code>$match</code>, <code>$group</code>, <code>$sort</code>\uff09\u5b9e\u73b0\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u3002\u4e0e MapReduce \u76f8\u6bd4\uff0c\u805a\u5408\u6846\u67b6\u66f4\u7b80\u5355\u3001\u6027\u80fd\u66f4\u9ad8\u4e14\u8bed\u6cd5\u66f4\u76f4\u89c2\u3002</li> </ul> <p>3.2 \u4f7f\u7528 <code>$group</code> \u548c <code>$lookup</code> \u64cd\u4f5c\u7b26\uff0c\u7f16\u5199\u4e00\u4e2a\u590d\u6742\u7684\u805a\u5408\u67e5\u8be2\u3002</p> <ul> <li>\u7b54\u6848\uff1a   <code>javascript   db.orders.aggregate([     { $match: { status: \"completed\" } },     {       $lookup: {         from: \"customers\",         localField: \"customerId\",         foreignField: \"_id\",         as: \"customerDetails\"       }     },     {       $group: {         _id: \"$customerId\",         totalAmount: { $sum: \"$amount\" },         orderCount: { $sum: 1 }       }     }   ])</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#4","title":"4. \u6570\u636e\u6a21\u578b\u4e0e\u8bbe\u8ba1","text":"<p>4.1 \u5728 MongoDB \u4e2d\uff0c\u5d4c\u5957\u6587\u6863\u548c\u5f15\u7528\u6587\u6863\u7684\u4f7f\u7528\u573a\u666f\u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u5d4c\u5957\u6587\u6863\uff1a\u9002\u7528\u4e8e\u9700\u8981\u9891\u7e41\u8bfb\u53d6\u548c\u4e0d\u5e38\u66f4\u65b0\u7684\u573a\u666f\uff0c\u5982\u7528\u6237\u548c\u5730\u5740\u4fe1\u606f\u3002\u5982\u679c\u76f8\u5173\u6570\u636e\u7ecf\u5e38\u4e00\u8d77\u8bbf\u95ee\u4e14\u4e0d\u4f1a\u5355\u72ec\u66f4\u65b0\uff0c\u5d4c\u5957\u6587\u6863\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002</li> <li>\u5f15\u7528\u6587\u6863\uff1a\u9002\u7528\u4e8e\u6570\u636e\u66f4\u65b0\u9891\u7e41\u4e14\u6587\u6863\u53ef\u80fd\u5f88\u5927\u7684\u60c5\u51b5\uff0c\u5982\u8ba2\u5355\u548c\u7528\u6237\u7684\u5173\u7cfb\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u5f15\u7528\u53ef\u4ee5\u51cf\u5c11\u6570\u636e\u5197\u4f59\u3002</li> </ul> <p>4.2 \u5982\u4f55\u8fdb\u884c\u6570\u636e\u5f52\u6863\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u6570\u636e\u5f52\u6863\u53ef\u4ee5\u901a\u8fc7\u5c06\u4e0d\u5e38\u8bbf\u95ee\u7684\u65e7\u6570\u636e\u4ece\u4e3b\u96c6\u5408\u4e2d\u79fb\u52a8\u5230\u5f52\u6863\u96c6\u5408\u4e2d\u5b9e\u73b0\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528 TTL \u7d22\u5f15\u8bbe\u7f6e\u6570\u636e\u81ea\u52a8\u8fc7\u671f\uff0c\u5b9a\u671f\u6e05\u7406\u65e7\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#5","title":"5. \u590d\u5236\u96c6\u4e0e\u9ad8\u53ef\u7528\u6027","text":"<p>5.1 \u590d\u5236\u96c6\u662f\u4ec0\u4e48\uff1f\u5b83\u5982\u4f55\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u590d\u5236\u96c6\u662f\u4e00\u7ec4 MongoDB \u670d\u52a1\u5668\uff0c\u7ef4\u62a4\u540c\u4e00\u6570\u636e\u96c6\u7684\u591a\u526f\u672c\u3002\u590d\u5236\u96c6\u4e2d\u6709\u4e00\u4e2a\u4e3b\u8282\u70b9\u548c\u591a\u4e2a\u4ece\u8282\u70b9\u3002\u4e3b\u8282\u70b9\u8d1f\u8d23\u5904\u7406\u6240\u6709\u5199\u64cd\u4f5c\uff0c\u4ece\u8282\u70b9\u88ab\u52a8\u5730\u590d\u5236\u6570\u636e\uff0c\u5e76\u5728\u4e3b\u8282\u70b9\u6545\u969c\u65f6\u63a5\u7ba1\u6210\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\u3002\u901a\u8fc7\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u673a\u5236\uff0c\u590d\u5236\u96c6\u53ef\u4ee5\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u3002</li> </ul> <p>5.2 \u5982\u4f55\u642d\u5efa\u4e00\u4e2a MongoDB \u590d\u5236\u96c6\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u542f\u52a8\u591a\u4e2a MongoDB \u5b9e\u4f8b\uff0c\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u5e94\u4f7f\u7528 <code>--replSet</code> \u53c2\u6570\u6307\u5b9a\u76f8\u540c\u7684\u590d\u5236\u96c6\u540d\u79f0\u3002</li> <li>\u5728\u4e00\u4e2a\u5b9e\u4f8b\u4e0a\u521d\u59cb\u5316\u590d\u5236\u96c6\uff1a     <code>javascript     rs.initiate()</code></li> <li>\u6dfb\u52a0\u4ece\u8282\u70b9\uff1a     <code>javascript     rs.add(\"hostname:port\")</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#6","title":"6. \u5206\u7247\u4e0e\u6c34\u5e73\u6269\u5c55","text":"<p>6.1 \u4ec0\u4e48\u662f\u5206\u7247\uff1fMongoDB \u4e2d\u5982\u4f55\u5b9e\u73b0\u6c34\u5e73\u6269\u5c55\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u5206\u7247\u662f MongoDB \u7684\u6c34\u5e73\u6269\u5c55\u673a\u5236\uff0c\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u670d\u52a1\u5668\u4e0a\u3002\u6bcf\u4e2a\u5206\u7247\u5b58\u50a8\u6570\u636e\u7684\u5b50\u96c6\uff0c\u901a\u8fc7\u5206\u7247\u952e\uff08shard key\uff09\u51b3\u5b9a\u6570\u636e\u5982\u4f55\u5206\u5e03\u3002\u6c34\u5e73\u6269\u5c55\u901a\u8fc7\u589e\u52a0\u66f4\u591a\u7684\u5206\u7247\u6765\u63d0\u5347\u6570\u636e\u5e93\u7684\u5bb9\u91cf\u548c\u6027\u80fd\u3002</li> </ul> <p>6.2 \u5206\u7247\u952e\u7684\u9009\u62e9\u5bf9\u7cfb\u7edf\u6709\u4ec0\u4e48\u5f71\u54cd\uff1f\u5982\u4f55\u9009\u62e9\u5408\u9002\u7684\u5206\u7247\u952e\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u5206\u7247\u952e\u7684\u9009\u62e9\u76f4\u63a5\u5f71\u54cd\u6570\u636e\u7684\u5206\u5e03\u548c\u67e5\u8be2\u6027\u80fd\u3002\u7406\u60f3\u7684\u5206\u7247\u952e\u5e94\u8be5\u80fd\u591f\u5747\u5300\u5730\u5206\u5e03\u6570\u636e\uff0c\u907f\u514d\u201c\u70ed\u70b9\u201d\u5206\u7247\u3002\u9009\u62e9\u5206\u7247\u952e\u65f6\uff0c\u5e94\u907f\u514d\u5355\u8c03\u9012\u589e\u7684\u5b57\u6bb5\uff08\u5982 <code>_id</code>\uff09\uff0c\u800c\u5e94\u8be5\u9009\u62e9\u5177\u6709\u9ad8\u57fa\u6570\u5e76\u80fd\u591f\u5747\u5300\u5206\u5e03\u7684\u6570\u636e\u5b57\u6bb5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#7","title":"7. \u6570\u636e\u5b89\u5168","text":"<p>7.1 \u5982\u4f55\u5728 MongoDB \u4e2d\u5b9e\u73b0\u6570\u636e\u7684\u8bbf\u95ee\u63a7\u5236\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   MongoDB \u63d0\u4f9b\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\uff08RBAC\uff09\uff0c\u901a\u8fc7\u4e3a\u7528\u6237\u5206\u914d\u89d2\u8272\u6765\u63a7\u5236\u4ed6\u4eec\u5bf9\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u6743\u9650\u3002\u89d2\u8272\u5305\u62ec\u8bfb\u5199\u6743\u9650\u3001\u7ba1\u7406\u6743\u9650\u7b49\u3002\u53ef\u4ee5\u4f7f\u7528 <code>db.createUser()</code> \u521b\u5efa\u7528\u6237\u5e76\u6307\u5b9a\u5176\u89d2\u8272\u3002</li> </ul> <p>7.2 MongoDB \u4e2d\u5982\u4f55\u5b9e\u73b0\u6570\u636e\u52a0\u5bc6\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>At-Rest \u52a0\u5bc6\uff1a\u4f7f\u7528 MongoDB Enterprise \u63d0\u4f9b\u7684\u5185\u7f6e\u52a0\u5bc6\u529f\u80fd\uff0c\u786e\u4fdd\u6570\u636e\u5728\u5b58\u50a8\u65f6\u52a0\u5bc6\u3002</li> <li>In-Transit \u52a0\u5bc6\uff1a\u914d\u7f6e SSL/TLS \u6765\u52a0\u5bc6\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u9632\u6b62\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u88ab\u7a83\u53d6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#8","title":"8. \u6027\u80fd\u76d1\u63a7\u4e0e\u8c03\u4f18","text":"<p>8.1 \u5982\u4f55\u76d1\u63a7 MongoDB \u7684\u6027\u80fd\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>MongoDB Monitoring Service (MMS)\uff1a\u63d0\u4f9b\u56fe\u5f62\u5316\u7684\u76d1\u63a7\u670d\u52a1\u3002</li> <li><code>mongostat</code> \u548c <code>mongotop</code>\uff1a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5b9e\u65f6\u663e\u793a MongoDB \u7684\u6027\u80fd\u6307\u6807\u3002</li> <li>Profiler\uff1a\u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u5206\u6790\u6162\u67e5\u8be2\u5e76\u8fdb\u884c\u4f18\u5316\u3002</li> </ul> <p>8.2 \u5982\u4f55\u8fdb\u884c\u67e5\u8be2\u6027\u80fd\u8c03\u4f18\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u521b\u5efa\u5408\u9002\u7684\u7d22\u5f15\uff1a\u786e\u4fdd\u5e38\u7528\u67e5\u8be2\u4f7f\u7528\u5408\u9002\u7684\u7d22\u5f15\u3002</li> <li>\u5206\u6790\u67e5\u8be2\u8ba1\u5212\uff1a\u4f7f\u7528 <code>explain()</code> \u5206\u6790\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u3002</li> <li>\u4f18\u5316\u6587\u6863\u7ed3\u6784\uff1a\u5c06\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u653e\u5728\u540c\u4e00\u6587\u6863\u4e2d\uff0c\u51cf\u5c11\u67e5\u8be2\u6b21\u6570\u3002</li> <li>\u8c03\u6574\u5199\u5165\u53c2\u6570\uff1a\u6839\u636e\u9700\u6c42\u8c03\u6574 <code>writeConcern</code> \u548c <code>journal</code> \u8bbe\u7f6e\uff0c\u5e73\u8861\u6570\u636e\u5b89\u5168\u4e0e\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#9","title":"9. \u4e8b\u52a1\u5904\u7406","text":"<p>9.1 MongoDB \u5982\u4f55\u5904\u7406\u4e8b\u52a1\uff1f\u652f\u6301\u54ea\u4e9b\u4e8b\u52a1\u7279\u6027\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   MongoDB \u81ea 4.0 \u7248\u672c\u8d77\u652f\u6301\u591a\u6587\u6863\u4e8b\u52a1\uff0c\u63d0\u4f9b\u7c7b\u4f3c RDBMS \u7684 ACID \u7279\u6027\uff08\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u548c\u6301\u4e45\u6027\uff09\u3002\u4e8b\u52a1\u53ef\u4ee5\u8de8\u591a\u4e2a\u6587\u6863\u548c\u96c6\u5408\u8fdb\u884c\u64cd\u4f5c\uff0c\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul> <p>9.2 \u5982\u4f55\u5728 MongoDB \u4e2d\u5b9e\u73b0\u4e8b\u52a1\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   <code>javascript   const session = db.getMongo().startSession();   session.startTransaction();   try {     db.collection1.insertOne({ field: \"value\" }, { session });     db.collection2.updateOne({ field: \"value\" }, { $set: { field: \"newValue\" } }, { session });     session.commitTransaction();   } catch (e) {     session.abortTransaction();     throw e;   } finally {     session.endSession();   }</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#10","title":"10. \u5907\u4efd\u4e0e\u6062\u590d","text":"<p>10.1 \u5982\u4f55\u5907\u4efd MongoDB \u6570\u636e\u5e93\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li><code>mongodump</code> \u548c <code>mongorestore</code>\uff1a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u5907\u4efd\u548c\u6062\u590d MongoDB \u6570\u636e\u3002</li> <li>\u6587\u4ef6\u7cfb\u7edf\u5feb\u7167\uff1a\u5bf9\u4e8e\u5927\u578b\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u6587\u4ef6\u7cfb\u7edf\u7684\u5feb\u7167\u529f\u80fd\u8fdb\u884c\u5907\u4efd\u3002</li> </ul> <p>10.2 \u5982\u4f55\u786e\u4fdd\u5907\u4efd\u7684\u5b8c\u6574\u6027\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4f7f\u7528 <code>--oplog</code> \u9009\u9879\uff1a<code>mongodump</code> \u652f\u6301\u4f7f\u7528 <code>--oplog</code> \u9009\u9879\u8fdb\u884c\u589e\u91cf\u5907\u4efd\u3002</li> <li>\u5b9a\u671f\u6d4b\u8bd5\u6062\u590d\u8fc7\u7a0b\uff1a\u5b9a\u671f\u4ece\u5907\u4efd\u4e2d\u6062\u590d\u6570\u636e\uff0c\u786e\u4fdd\u5907\u4efd\u662f\u6709\u6548\u7684\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u4e0b\u9762\u662f\u66f4\u591a\u5173\u4e8e MongoDB \u7684\u9ad8\u7ea7\u9762\u8bd5\u9898\u76ee\u548c\u8be6\u7ec6\u89e3\u7b54\uff0c\u6d89\u53ca\u66f4\u6df1\u5165\u7684\u6280\u672f\u7ec6\u8282\u548c\u5b9e\u9645\u5e94\u7528\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#11","title":"11. \u6570\u636e\u5efa\u6a21","text":"<p>11.1 \u5982\u4f55\u9009\u62e9\u9002\u5f53\u7684\u6587\u6863\u7ed3\u6784\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u9009\u62e9\u9002\u5f53\u7684\u6587\u6863\u7ed3\u6784\u9700\u8981\u8003\u8651\u6570\u636e\u7684\u8bbf\u95ee\u6a21\u5f0f\u548c\u64cd\u4f5c\u7c7b\u578b\u3002\u4f8b\u5982\uff1a</li> <li>\u5982\u679c\u4f60\u7ecf\u5e38\u9700\u8981\u8bfb\u53d6\u6574\u4e2a\u6587\u6863\u7684\u591a\u4e2a\u90e8\u5206\uff0c\u5d4c\u5957\u6587\u6863\u53ef\u4ee5\u51cf\u5c11\u67e5\u8be2\u6b21\u6570\u3002</li> <li>\u5982\u679c\u67d0\u4e9b\u6570\u636e\u90e8\u5206\u9891\u7e41\u66f4\u65b0\u6216\u5177\u6709\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\uff0c\u4f7f\u7528\u5f15\u7528\u6587\u6863\u53ef\u80fd\u66f4\u5408\u9002\u3002</li> <li>\u5d4c\u5957\u6587\u6863\uff1a\u9002\u7528\u4e8e\u4e00\u5bf9\u4e00\u6216\u4e00\u5bf9\u591a\u5173\u7cfb\uff0c\u5e76\u4e14\u6570\u636e\u901a\u5e38\u4e00\u8d77\u88ab\u8bbf\u95ee\u3002</li> <li>\u5f15\u7528\u6587\u6863\uff1a\u9002\u7528\u4e8e\u4e00\u5bf9\u591a\u6216\u591a\u5bf9\u591a\u5173\u7cfb\uff0c\u5e76\u4e14\u6570\u636e\u7ecf\u5e38\u5355\u72ec\u66f4\u65b0\u6216\u8bbf\u95ee\u3002</li> </ul> <p>11.2 \u8bbe\u8ba1\u4e00\u4e2a MongoDB \u6570\u636e\u6a21\u578b\u6765\u652f\u6301\u4e00\u4e2a\u7535\u5546\u5e73\u53f0\u7684\u8ba2\u5355\u7cfb\u7edf\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li> <p>\u7528\u6237\u96c6\u5408\uff1a\u5b58\u50a8\u7528\u6237\u4fe1\u606f\u3002     <code>javascript     {       _id: ObjectId(\"user_id\"),       name: \"John Doe\",       email: \"john@example.com\",       addresses: [{ type: \"shipping\", address: \"123 Main St\" }]     }</code></p> </li> <li> <p>\u4ea7\u54c1\u96c6\u5408\uff1a\u5b58\u50a8\u4ea7\u54c1\u4fe1\u606f\u3002     <code>javascript     {       _id: ObjectId(\"product_id\"),       name: \"Product Name\",       price: 100.0,       categories: [\"Electronics\", \"Mobile\"]     }</code></p> </li> <li> <p>\u8ba2\u5355\u96c6\u5408\uff1a\u5b58\u50a8\u8ba2\u5355\u4fe1\u606f\uff0c\u5f15\u7528\u7528\u6237\u548c\u4ea7\u54c1\u3002     <code>javascript     {       _id: ObjectId(\"order_id\"),       userId: ObjectId(\"user_id\"),       items: [         { productId: ObjectId(\"product_id\"), quantity: 2, price: 100.0 }       ],       totalAmount: 200.0,       status: \"pending\"     }</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#12","title":"12. \u6570\u636e\u4e00\u81f4\u6027","text":"<p>12.1 MongoDB \u5982\u4f55\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u590d\u5236\u96c6\uff1a\u901a\u8fc7\u590d\u5236\u6570\u636e\u5230\u591a\u4e2a\u8282\u70b9\u6765\u63d0\u9ad8\u6570\u636e\u7684\u53ef\u7528\u6027\u548c\u4e00\u81f4\u6027\u3002\u4e3b\u8282\u70b9\u5904\u7406\u6240\u6709\u5199\u64cd\u4f5c\uff0c\u4ece\u8282\u70b9\u8bfb\u53d6\u6570\u636e\u5e76\u8fdb\u884c\u540c\u6b65\u3002</li> <li>\u4e8b\u52a1\uff1a\u652f\u6301\u591a\u6587\u6863\u4e8b\u52a1\uff0c\u4ee5\u4fdd\u8bc1 ACID \u7279\u6027\uff0c\u4f7f\u5f97\u8de8\u591a\u4e2a\u6587\u6863\u7684\u64cd\u4f5c\u4e00\u81f4\u3002</li> <li>\u5199\u5173\u6ce8\uff08Write Concern\uff09\uff1a\u8bbe\u7f6e\u5199\u64cd\u4f5c\u7684\u786e\u8ba4\u7ea7\u522b\uff0c\u4ee5\u786e\u4fdd\u5199\u5165\u64cd\u4f5c\u7684\u53ef\u9760\u6027\u3002</li> <li>\u8bfb\u5173\u6ce8\uff08Read Concern\uff09\uff1a\u8bbe\u7f6e\u8bfb\u53d6\u64cd\u4f5c\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u786e\u4fdd\u8bfb\u53d6\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002</li> </ul> <p>12.2 \u89e3\u91ca MongoDB \u7684 <code>readConcern</code> \u548c <code>writeConcern</code> \u8bbe\u7f6e\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li> <p><code>readConcern</code>\uff1a</p> <ul> <li><code>local</code>\uff1a\u9ed8\u8ba4\u7ea7\u522b\uff0c\u8bfb\u53d6\u672c\u5730\u8282\u70b9\u7684\u6570\u636e\uff0c\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u6301\u4e45\u6027\u3002</li> <li><code>available</code>\uff1a\u8bfb\u53d6\u6570\u636e\u7684\u6700\u65b0\u526f\u672c\uff0c\u4e0d\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</li> <li><code>majority</code>\uff1a\u8bfb\u53d6\u5df2\u88ab\u5927\u591a\u6570\u526f\u672c\u786e\u8ba4\u7684\u6570\u636e\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</li> <li><code>linearizable</code>\uff1a\u4fdd\u8bc1\u8bfb\u53d6\u7684\u6570\u636e\u5728\u5f53\u524d\u4e8b\u52a1\u4e2d\u662f\u6700\u65b0\u7684\uff0c\u6700\u4e25\u683c\u7684\u4e00\u81f4\u6027\u3002</li> </ul> </li> <li> <p><code>writeConcern</code>\uff1a</p> <ul> <li><code>w: 1</code>\uff1a\u5199\u64cd\u4f5c\u9700\u8981\u4e3b\u8282\u70b9\u786e\u8ba4\u3002</li> <li><code>w: majority</code>\uff1a\u5199\u64cd\u4f5c\u9700\u8981\u4e3b\u8282\u70b9\u548c\u5927\u591a\u6570\u526f\u672c\u786e\u8ba4\u3002</li> <li><code>wtimeout</code>\uff1a\u6307\u5b9a\u5199\u64cd\u4f5c\u786e\u8ba4\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#13","title":"13. \u9ad8\u7ea7\u805a\u5408","text":"<p>13.1 \u4f7f\u7528 <code>$facet</code> \u64cd\u4f5c\u7b26\u8fdb\u884c\u591a\u7ef4\u5ea6\u6570\u636e\u5206\u6790\u7684\u793a\u4f8b\u3002</p> <ul> <li>\u7b54\u6848\uff1a   <code>javascript   db.orders.aggregate([     {       $facet: {         \"totalOrders\": [{ $count: \"count\" }],         \"ordersByStatus\": [           { $group: { _id: \"$status\", count: { $sum: 1 } } }         ],         \"averageOrderAmount\": [           { $group: { _id: null, averageAmount: { $avg: \"$totalAmount\" } } }         ]       }     }   ])</code></li> </ul> <p>13.2 \u89e3\u91ca MongoDB \u7684 <code>$merge</code> \u64cd\u4f5c\u7b26\u53ca\u5176\u7528\u9014\u3002</p> <ul> <li>\u7b54\u6848\uff1a   <code>$merge</code> \u64cd\u4f5c\u7b26\u7528\u4e8e\u5c06\u805a\u5408\u7ba1\u9053\u7684\u7ed3\u679c\u5199\u5165\u6307\u5b9a\u7684\u96c6\u5408\u3002\u53ef\u4ee5\u9009\u62e9\u8986\u76d6\u3001\u63d2\u5165\u65b0\u6587\u6863\u6216\u66f4\u65b0\u73b0\u6709\u6587\u6863\u3002   <code>javascript   db.orders.aggregate([     { $group: { _id: \"$productId\", totalSales: { $sum: \"$amount\" } } },     { $merge: { into: \"productSales\", whenMatched: \"merge\", whenNotMatched: \"insert\" } }   ])</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#14","title":"14. \u5206\u7247\u7ba1\u7406","text":"<p>14.1 \u5206\u7247\u952e\u9009\u62e9\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff1f</p> <ul> <li>\u7b54\u6848\uff1a   \u9009\u62e9\u5408\u9002\u7684\u5206\u7247\u952e\u5bf9\u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002\u5206\u7247\u952e\u5e94\u8be5\uff1a</li> <li>\u5747\u5300\u5206\u5e03\uff1a\u907f\u514d\u5c06\u6570\u636e\u96c6\u4e2d\u5728\u5c11\u6570\u5206\u7247\u4e0a\uff0c\u4ee5\u51cf\u5c11\u8d1f\u8f7d\u4e0d\u5747\u3002</li> <li>\u9ad8\u57fa\u6570\uff1a\u5206\u7247\u952e\u5e94\u5177\u6709\u8db3\u591f\u7684\u552f\u4e00\u6027\uff0c\u4ee5\u9632\u6b62\u70ed\u70b9\u95ee\u9898\u3002</li> <li>\u67e5\u8be2\u6a21\u5f0f\uff1a\u9009\u62e9\u5e38\u7528\u67e5\u8be2\u6761\u4ef6\u4f5c\u4e3a\u5206\u7247\u952e\uff0c\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</li> </ul> <p>14.2 \u5982\u4f55\u5904\u7406\u5206\u7247\u540e\u7684\u6570\u636e\u8fc1\u79fb\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4f7f\u7528 MongoDB \u5185\u7f6e\u7684\u5206\u7247\u8fc1\u79fb\u5de5\u5177\uff1aMongoDB \u81ea\u52a8\u5904\u7406\u6570\u636e\u8fc1\u79fb\uff0c\u901a\u8fc7 <code>sh.moveChunk()</code> \u6216 <code>sh.splitAt()</code> \u6765\u8c03\u6574\u6570\u636e\u5206\u5e03\u3002</li> <li>\u76d1\u63a7\u6570\u636e\u5e73\u8861\uff1a\u4f7f\u7528 <code>sh.status()</code> \u548c\u76d1\u63a7\u5de5\u5177\u6765\u786e\u4fdd\u6570\u636e\u5e73\u8861\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#15","title":"15. \u6545\u969c\u6062\u590d","text":"<p>15.1 \u5982\u4f55\u5904\u7406 MongoDB \u4e2d\u7684\u8282\u70b9\u6545\u969c\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u590d\u5236\u96c6\u4f1a\u81ea\u52a8\u9009\u4e3e\u65b0\u7684\u4e3b\u8282\u70b9\uff0c\u5e76\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\u3002</li> <li>\u5907\u4efd\u6062\u590d\uff1a\u4f7f\u7528\u5907\u4efd\u6587\u4ef6\u6216\u589e\u91cf\u5907\u4efd\u6765\u6062\u590d\u6570\u636e\u3002</li> <li>\u65e5\u5fd7\u5206\u6790\uff1a\u5206\u6790 MongoDB \u65e5\u5fd7\u6765\u8bca\u65ad\u95ee\u9898\u3002</li> </ul> <p>15.2 \u5982\u4f55\u4ece\u5907\u4efd\u4e2d\u6062\u590d\u6570\u636e\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4ece\u5168\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore /backup/directory</code></li> <li>\u4ece\u589e\u91cf\u5907\u4efd\u6062\u590d\uff1a     <code>bash     mongorestore --oplogReplay /backup/directory</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#16","title":"16. \u5e94\u7528\u7a0b\u5e8f\u96c6\u6210","text":"<p>16.1 \u5982\u4f55\u5c06 MongoDB \u4e0e\u5fae\u670d\u52a1\u67b6\u6784\u4e2d\u7684\u5176\u4ed6\u670d\u52a1\u96c6\u6210\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>API \u63a5\u53e3\uff1a\u901a\u8fc7 RESTful \u6216 GraphQL API \u63d0\u4f9b\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u3002</li> <li>\u6d88\u606f\u961f\u5217\uff1a\u4f7f\u7528\u6d88\u606f\u961f\u5217\uff08\u5982 Kafka\uff09\u5c06\u6570\u636e\u53d8\u5316\u4f20\u9012\u7ed9\u5176\u4ed6\u670d\u52a1\u3002</li> <li>\u6570\u636e\u540c\u6b65\uff1a\u4f7f\u7528 MongoDB Change Streams \u5b9e\u65f6\u540c\u6b65\u6570\u636e\u53d8\u5316\u3002</li> </ul> <p>16.2 \u4f7f\u7528 MongoDB Atlas \u65f6\u5982\u4f55\u914d\u7f6e\u81ea\u52a8\u6269\u5c55\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u542f\u7528\u81ea\u52a8\u6269\u5c55\uff1a\u5728 MongoDB Atlas \u63a7\u5236\u53f0\u4e2d\u914d\u7f6e\u81ea\u52a8\u6269\u5c55\u8bbe\u7f6e\uff0c\u6839\u636e\u8d1f\u8f7d\u81ea\u52a8\u8c03\u6574\u5b9e\u4f8b\u89c4\u6a21\u548c\u5b58\u50a8\u5bb9\u91cf\u3002</li> <li>\u8bbe\u7f6e\u8b66\u62a5\uff1a\u914d\u7f6e\u6027\u80fd\u548c\u5bb9\u91cf\u8b66\u62a5\uff0c\u4ee5\u4fbf\u5728\u81ea\u52a8\u6269\u5c55\u65f6\u8fdb\u884c\u76d1\u63a7\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#17","title":"17. \u6027\u80fd\u8c03\u4f18","text":"<p>17.1 \u5982\u4f55\u4f7f\u7528 MongoDB Profiler \u6765\u68c0\u6d4b\u548c\u4f18\u5316\u6162\u67e5\u8be2\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u542f\u7528 Profiler\uff1a     <code>javascript     db.setProfilingLevel(2, { slowms: 100 })</code></li> <li>\u5206\u6790\u6162\u67e5\u8be2\uff1a\u4f7f\u7528 <code>db.system.profile.find()</code> \u67e5\u8be2\u6162\u67e5\u8be2\u8bb0\u5f55\uff0c\u4f18\u5316\u76f8\u5173\u67e5\u8be2\u548c\u7d22\u5f15\u3002</li> </ul> <p>17.2 \u89e3\u91ca MongoDB \u7684\u7f13\u5b58\u673a\u5236\u53ca\u5176\u4f18\u5316\u65b9\u6cd5\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>WiredTiger \u7f13\u5b58\uff1aMongoDB \u4f7f\u7528 WiredTiger \u5b58\u50a8\u5f15\u64ce\uff0c\u63d0\u4f9b\u5185\u5b58\u7f13\u5b58\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574 <code>storage.wiredTiger.engineConfig.cacheSizeGB</code> \u8bbe\u7f6e\u7f13\u5b58\u5927\u5c0f\u3002</li> <li>\u4f18\u5316\u7f13\u5b58\u4f7f\u7528\uff1a\u6839\u636e\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u8c03\u6574\u7f13\u5b58\u5927\u5c0f\u548c\u914d\u7f6e\uff0c\u51cf\u5c11\u7f13\u5b58\u7f3a\u5931\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#18","title":"18. \u6570\u636e\u540c\u6b65\u548c\u8fc1\u79fb","text":"<p>18.1 \u5982\u4f55\u5c06\u6570\u636e\u4ece\u4e00\u4e2a MongoDB \u96c6\u7fa4\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\u96c6\u7fa4\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4f7f\u7528 MongoDB Atlas Live Migration\uff1a\u901a\u8fc7 MongoDB Atlas \u63d0\u4f9b\u7684\u5b9e\u65f6\u8fc1\u79fb\u670d\u52a1\u3002</li> <li>\u4f7f\u7528 <code>mongomirror</code> \u5de5\u5177\uff1a\u5c06\u6570\u636e\u4ece\u4e00\u4e2a MongoDB \u5b9e\u4f8b\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\u3002</li> <li>\u624b\u52a8\u8fc1\u79fb\uff1a\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code> \u5de5\u5177\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u3002</li> </ul> <p>18.2 \u5982\u4f55\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u8fc1\u79fb\u7684\u6311\u6218\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u5206\u6279\u8fc1\u79fb\uff1a\u5c06\u6570\u636e\u5206\u6279\u8fc1\u79fb\uff0c\u4ee5\u51cf\u5c11\u5bf9\u7cfb\u7edf\u7684\u5f71\u54cd\u3002</li> <li>\u7f51\u7edc\u5e26\u5bbd\uff1a\u4f18\u5316\u7f51\u7edc\u5e26\u5bbd\u548c\u6570\u636e\u4f20\u8f93\u901f\u7387\u3002</li> <li>\u5e76\u884c\u8fc1\u79fb\uff1a\u4f7f\u7528\u5e76\u884c\u5904\u7406\u6765\u52a0\u5feb\u8fc1\u79fb\u901f\u5ea6\u3002</li> </ul> <p>\u597d\u7684\uff0c\u4e0b\u9762\u662f\u66f4\u591a MongoDB \u9ad8\u7ea7\u9762\u8bd5\u9898\u53ca\u5176\u8be6\u89e3\uff0c\u6db5\u76d6\u4e00\u4e9b\u66f4\u6df1\u5165\u7684\u6280\u672f\u70b9\u548c\u5b9e\u9645\u64cd\u4f5c\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#19","title":"19. \u6570\u636e\u5efa\u6a21\u4e0e\u6027\u80fd","text":"<p>19.1 \u8bbe\u8ba1\u4e00\u4e2a MongoDB \u6570\u636e\u6a21\u578b\u6765\u652f\u6301\u4e00\u4e2a\u535a\u5ba2\u7cfb\u7edf\u7684\u8bc4\u8bba\u529f\u80fd\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li> <p>\u535a\u5ba2\u6587\u7ae0\u96c6\u5408\uff1a\u5b58\u50a8\u535a\u5ba2\u6587\u7ae0\u4fe1\u606f\u3002     <code>javascript     {       _id: ObjectId(\"post_id\"),       title: \"Blog Post Title\",       content: \"Content of the blog post\",       authorId: ObjectId(\"author_id\"),       comments: [         {            _id: ObjectId(\"comment_id\"),           authorId: ObjectId(\"comment_author_id\"),           content: \"This is a comment\",           createdAt: ISODate(\"2024-01-01T00:00:00Z\")         }       ],       createdAt: ISODate(\"2024-01-01T00:00:00Z\")     }</code></p> </li> <li> <p>\u8bc4\u8bba\u96c6\u5408\uff08\u5982\u679c\u8bc4\u8bba\u975e\u5e38\u591a\uff0c\u8003\u8651\u5c06\u8bc4\u8bba\u5b58\u50a8\u5728\u5355\u72ec\u7684\u96c6\u5408\u4e2d\uff09\uff1a     <code>javascript     {       _id: ObjectId(\"comment_id\"),       postId: ObjectId(\"post_id\"),       authorId: ObjectId(\"author_id\"),       content: \"This is a comment\",       createdAt: ISODate(\"2024-01-01T00:00:00Z\")     }</code></p> </li> </ul> <p>19.2 \u89e3\u91ca MongoDB \u4e2d\u7684 <code>hint</code> \u548c <code>collation</code> \u64cd\u4f5c\u7b26\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li><code>hint</code>\uff1a<ul> <li>\u7528\u4e8e\u5f3a\u5236 MongoDB \u4f7f\u7528\u7279\u5b9a\u7684\u7d22\u5f15\u6765\u6267\u884c\u67e5\u8be2\uff0c\u4ee5\u4f18\u5316\u6027\u80fd\u6216\u89e3\u51b3\u67e5\u8be2\u8ba1\u5212\u9009\u62e9\u4e0d\u5f53\u7684\u95ee\u9898\u3002 <code>javascript db.collection.find({ field: \"value\" }).hint({ field: 1 })</code></li> </ul> </li> <li><code>collation</code>\uff1a<ul> <li>\u7528\u4e8e\u6307\u5b9a\u67e5\u8be2\u548c\u6392\u5e8f\u65f6\u7684\u6392\u5e8f\u89c4\u5219\uff0c\u4f8b\u5982\u4e0d\u540c\u8bed\u8a00\u7684\u6392\u5e8f\u89c4\u5219\u6216\u5ffd\u7565\u5927\u5c0f\u5199\u3002 <code>javascript db.collection.find({ name: \"John\" }).collation({ locale: \"en\", strength: 2 })</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#20","title":"20. \u9ad8\u7ea7\u805a\u5408\u64cd\u4f5c","text":"<p>20.1 \u4f7f\u7528 <code>$graphLookup</code> \u64cd\u4f5c\u7b26\u8fdb\u884c\u56fe\u5f62\u5316\u67e5\u8be2\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u793a\u4f8b\uff1a\u5047\u8bbe\u6709\u4e00\u4e2a\u5458\u5de5\u96c6\u5408\uff0c<code>employees</code>\uff0c\u5305\u542b\u5458\u5de5\u7684\u7ba1\u7406\u5173\u7cfb\u3002     <code>javascript     db.employees.aggregate([       {         $graphLookup: {           from: \"employees\",           startWith: \"$managerId\",           connectFromField: \"managerId\",           connectToField: \"_id\",           as: \"reportees\"         }       }     ])</code></li> </ul> <p>20.2 \u89e3\u91ca MongoDB \u7684 <code>$bucket</code> \u548c <code>$bucketAuto</code> \u64cd\u4f5c\u7b26\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li> <p><code>$bucket</code>\uff1a</p> <ul> <li>\u7528\u4e8e\u5c06\u6587\u6863\u5206\u914d\u5230\u81ea\u5b9a\u4e49\u7684\u5206\u6876\u4e2d\uff0c\u9002\u7528\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7ec4\u548c\u6c47\u603b\u3002 <code>javascript db.collection.aggregate([   {     $bucket: {       groupBy: \"$age\",       boundaries: [0, 18, 30, 40, 50, 60],       default: \"Other\",       output: {         count: { $sum: 1 }       }     }   } ])</code></li> </ul> </li> <li> <p><code>$bucketAuto</code>\uff1a</p> <ul> <li>\u81ea\u52a8\u8ba1\u7b97\u6876\u7684\u8fb9\u754c\uff0c\u6839\u636e\u6587\u6863\u7684\u5206\u5e03\u52a8\u6001\u521b\u5efa\u6876\u3002 <code>javascript db.collection.aggregate([   {     $bucketAuto: {       groupBy: \"$age\",       buckets: 5,       output: {         count: { $sum: 1 }       }     }   } ])</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#21","title":"21. \u5206\u7247\u7ba1\u7406","text":"<p>21.1 \u5982\u4f55\u8c03\u6574 MongoDB \u5206\u7247\u7684\u8d1f\u8f7d\u5747\u8861\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u76d1\u63a7\u6570\u636e\u5206\u5e03\uff1a\u4f7f\u7528 <code>sh.status()</code> \u548c MongoDB Atlas \u7684\u76d1\u63a7\u5de5\u5177\u6765\u67e5\u770b\u6570\u636e\u5206\u5e03\u3002</li> <li>\u624b\u52a8\u8c03\u6574\uff1a\u4f7f\u7528 <code>sh.moveChunk()</code> \u5c06\u6570\u636e\u4ece\u4e00\u4e2a\u5206\u7247\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5206\u7247\uff0c\u4ee5\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002   <code>javascript   sh.moveChunk(\"database.collection\", { shardKey: value }, \"targetShard\")</code></li> </ul> <p>21.2 \u5982\u4f55\u5e94\u5bf9\u5206\u7247\u952e\u9009\u62e9\u4e0d\u5f53\u7684\u95ee\u9898\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u91cd\u65b0\u5206\u7247\uff1a\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u5206\u7247\u952e\u6765\u91cd\u65b0\u5206\u7247\uff0c\u4f46\u8fd9\u53ef\u80fd\u4f1a\u5f71\u54cd\u6570\u636e\u5e93\u7684\u53ef\u7528\u6027\u3002</li> <li>\u8c03\u6574\u6570\u636e\u5206\u5e03\uff1a\u901a\u8fc7 <code>sh.splitAt()</code> \u548c <code>sh.moveChunk()</code> \u624b\u52a8\u8c03\u6574\u6570\u636e\u5206\u5e03\uff0c\u4ee5\u89e3\u51b3\u70ed\u70b9\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#22","title":"22. \u5907\u4efd\u548c\u6062\u590d","text":"<p>22.1 MongoDB \u7684 <code>mongodump</code> \u548c <code>mongorestore</code> \u547d\u4ee4\u7684\u4f7f\u7528\u573a\u666f\u548c\u53c2\u6570\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li> <p><code>mongodump</code>\uff1a\u7528\u4e8e\u521b\u5efa\u6570\u636e\u5e93\u7684\u5907\u4efd\u3002     <code>bash     mongodump --uri=\"mongodb://localhost:27017\" --out /backup/directory</code>     \u5e38\u7528\u53c2\u6570\uff1a</p> <ul> <li><code>--db</code>\uff1a\u6307\u5b9a\u5907\u4efd\u7684\u6570\u636e\u5e93\u3002</li> <li><code>--collection</code>\uff1a\u6307\u5b9a\u5907\u4efd\u7684\u96c6\u5408\u3002</li> <li><code>--gzip</code>\uff1a\u538b\u7f29\u5907\u4efd\u6587\u4ef6\u3002</li> </ul> </li> <li> <p><code>mongorestore</code>\uff1a\u7528\u4e8e\u4ece\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002     <code>bash     mongorestore --uri=\"mongodb://localhost:27017\" /backup/directory</code>     \u5e38\u7528\u53c2\u6570\uff1a</p> <ul> <li><code>--drop</code>\uff1a\u5728\u6062\u590d\u524d\u5220\u9664\u73b0\u6709\u96c6\u5408\u3002</li> <li><code>--gzip</code>\uff1a\u89e3\u538b\u5907\u4efd\u6587\u4ef6\u3002</li> <li><code>--oplogReplay</code>\uff1a\u5728\u6062\u590d\u65f6\u91cd\u653e\u64cd\u4f5c\u65e5\u5fd7\u4ee5\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul> </li> </ul> <p>22.2 \u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u5907\u4efd\u7684\u6311\u6218\u548c\u89e3\u51b3\u65b9\u6848\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4f7f\u7528\u589e\u91cf\u5907\u4efd\uff1a\u901a\u8fc7 <code>--oplog</code> \u9009\u9879\u8fdb\u884c\u589e\u91cf\u5907\u4efd\uff0c\u51cf\u5c11\u5907\u4efd\u6570\u636e\u91cf\u3002</li> <li>\u5206\u5272\u5907\u4efd\uff1a\u5c06\u5907\u4efd\u5206\u5272\u6210\u591a\u4e2a\u5c0f\u6587\u4ef6\uff0c\u4ee5\u51cf\u5c11\u5355\u6b21\u5907\u4efd\u64cd\u4f5c\u7684\u538b\u529b\u3002</li> <li>\u4f7f\u7528\u5907\u4efd\u5de5\u5177\uff1a\u8003\u8651\u4f7f\u7528\u7b2c\u4e09\u65b9\u5907\u4efd\u5de5\u5177\u6216\u670d\u52a1\uff0c\u63d0\u4f9b\u66f4\u5f3a\u5927\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u529f\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#23","title":"23. \u5b89\u5168\u6027\u548c\u6743\u9650\u7ba1\u7406","text":"<p>23.1 \u5982\u4f55\u914d\u7f6e MongoDB \u7684\u8bbf\u95ee\u63a7\u5236\u548c\u6743\u9650\u7ba1\u7406\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u542f\u7528\u8ba4\u8bc1\uff1a\u914d\u7f6e MongoDB \u5b9e\u4f8b\u542f\u7528\u8ba4\u8bc1\u673a\u5236\uff0c\u786e\u4fdd\u53ea\u6709\u6388\u6743\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee\u6570\u636e\u3002     <code>yaml     security:       authorization: \"enabled\"</code></li> <li>\u521b\u5efa\u7528\u6237\u548c\u89d2\u8272\uff1a\u4f7f\u7528 <code>db.createUser()</code> \u521b\u5efa\u7528\u6237\u5e76\u5206\u914d\u89d2\u8272\u3002     <code>javascript     db.createUser({       user: \"myUser\",       pwd: \"myPassword\",       roles: [{ role: \"readWrite\", db: \"myDatabase\" }]     })</code></li> <li>\u914d\u7f6e\u89d2\u8272\uff1a\u4f7f\u7528 <code>db.createRole()</code> \u5b9a\u4e49\u81ea\u5b9a\u4e49\u89d2\u8272\uff0c\u63a7\u5236\u8bbf\u95ee\u6743\u9650\u3002</li> </ul> <p>23.2 MongoDB \u6570\u636e\u5e93\u52a0\u5bc6\u7684\u6700\u4f73\u5b9e\u8df5\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4f7f\u7528\u5185\u7f6e\u52a0\u5bc6\uff1aMongoDB Enterprise \u63d0\u4f9b\u7684\u52a0\u5bc6\u529f\u80fd\uff0c\u7528\u4e8e\u52a0\u5bc6\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u3002</li> <li>\u52a0\u5bc6\u4f20\u8f93\uff1a\u542f\u7528 SSL/TLS \u52a0\u5bc6\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u3002</li> <li>\u5b9a\u671f\u5ba1\u8ba1\uff1a\u5b9a\u671f\u5ba1\u8ba1\u548c\u66f4\u65b0\u52a0\u5bc6\u7b56\u7565\uff0c\u786e\u4fdd\u7b26\u5408\u6700\u65b0\u7684\u5b89\u5168\u6807\u51c6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#24","title":"24. \u9ad8\u7ea7\u6027\u80fd\u8c03\u4f18","text":"<p>24.1 \u5982\u4f55\u4f18\u5316 MongoDB \u7684\u5199\u5165\u6027\u80fd\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u6279\u91cf\u5199\u5165\uff1a\u4f7f\u7528\u6279\u91cf\u64cd\u4f5c\u6765\u51cf\u5c11\u7f51\u7edc\u5f80\u8fd4\u548c\u63d0\u9ad8\u5199\u5165\u6027\u80fd\u3002     <code>javascript     db.collection.insertMany([{ ... }, { ... }])</code></li> <li>\u8c03\u6574 <code>writeConcern</code>\uff1a\u6839\u636e\u5e94\u7528\u9700\u6c42\u8c03\u6574 <code>writeConcern</code> \u8bbe\u7f6e\uff0c\u4ee5\u5e73\u8861\u6570\u636e\u53ef\u9760\u6027\u548c\u5199\u5165\u6027\u80fd\u3002</li> <li>\u4f7f\u7528\u5206\u7247\uff1a\u5c06\u6570\u636e\u5206\u7247\u4ee5\u51cf\u5c11\u5355\u4e2a\u8282\u70b9\u7684\u5199\u5165\u8d1f\u8f7d\u3002</li> </ul> <p>24.2 \u5982\u4f55\u4f18\u5316 MongoDB \u7684\u8bfb\u53d6\u6027\u80fd\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u521b\u5efa\u9002\u5f53\u7684\u7d22\u5f15\uff0c\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002</li> <li>\u7f13\u5b58\u4f18\u5316\uff1a\u8c03\u6574 <code>wiredTiger</code> \u5f15\u64ce\u7684\u7f13\u5b58\u5927\u5c0f\u8bbe\u7f6e\u3002</li> <li>\u67e5\u8be2\u4f18\u5316\uff1a\u4f7f\u7528 <code>explain()</code> \u65b9\u6cd5\u5206\u6790\u67e5\u8be2\u8ba1\u5212\uff0c\u4f18\u5316\u67e5\u8be2\u548c\u7d22\u5f15\u4f7f\u7528\u3002</li> </ul> <p>\u5f53\u7136\uff01\u8fd9\u91cc\u662f\u66f4\u591a MongoDB \u9ad8\u7ea7\u9762\u8bd5\u9898\u53ca\u5176\u8be6\u89e3\uff0c\u6db5\u76d6\u4e86\u66f4\u591a\u6280\u672f\u7ec6\u8282\u548c\u5b9e\u9645\u5e94\u7528\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#25","title":"25. \u6570\u636e\u4e00\u81f4\u6027\u548c\u4e8b\u52a1","text":"<p>25.1 \u89e3\u91ca MongoDB \u7684\u4e8b\u52a1\u5904\u7406\u673a\u5236\u53ca\u5176\u5e94\u7528\u573a\u666f\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li> <p>\u4e8b\u52a1\u5904\u7406\u673a\u5236\uff1a</p> <ul> <li>MongoDB 3.6+ \u652f\u6301\u591a\u6587\u6863\u4e8b\u52a1\uff0c\u63d0\u4f9b ACID \u7279\u6027\uff0c\u786e\u4fdd\u8de8\u591a\u4e2a\u6587\u6863\u548c\u96c6\u5408\u7684\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u4e8b\u52a1\u64cd\u4f5c\uff1a\u4f7f\u7528 <code>startTransaction()</code> \u5f00\u59cb\u4e8b\u52a1\uff0c\u4f7f\u7528 <code>commitTransaction()</code> \u63d0\u4ea4\u4e8b\u52a1\uff0c\u4f7f\u7528 <code>abortTransaction()</code> \u56de\u6eda\u4e8b\u52a1\u3002 ```javascript const session = client.startSession(); session.startTransaction(); try {   const ordersCollection = client.db('myDB').collection('orders');   const productsCollection = client.db('myDB').collection('products');</li> </ul> <p>ordersCollection.insertOne({ ... }, { session });   productsCollection.updateOne({ ... }, { ... }, { session });</p> <p>session.commitTransaction(); } catch (error) {   session.abortTransaction();   throw error; } finally {   session.endSession(); } ```   - \u5e94\u7528\u573a\u666f\uff1a - \u91d1\u878d\u7cfb\u7edf\uff1a\u4fdd\u8bc1\u8d26\u6237\u4e4b\u95f4\u7684\u8f6c\u8d26\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\u3002 - \u5e93\u5b58\u7ba1\u7406\uff1a\u786e\u4fdd\u5e93\u5b58\u548c\u8ba2\u5355\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> </li> </ul> <p>25.2 \u5982\u4f55\u5904\u7406\u8de8\u5206\u7247\u4e8b\u52a1\u4e2d\u7684\u6027\u80fd\u95ee\u9898\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4f18\u5316\u4e8b\u52a1\u8303\u56f4\uff1a\u51cf\u5c11\u4e8b\u52a1\u4e2d\u6d89\u53ca\u7684\u6587\u6863\u6570\u91cf\uff0c\u5c3d\u91cf\u51cf\u5c11\u8de8\u5206\u7247\u7684\u4e8b\u52a1\u64cd\u4f5c\u3002</li> <li>\u5408\u7406\u9009\u62e9\u5206\u7247\u952e\uff1a\u786e\u4fdd\u5206\u7247\u952e\u8bbe\u8ba1\u5408\u7406\uff0c\u51cf\u5c11\u8de8\u5206\u7247\u4e8b\u52a1\u7684\u9891\u7387\u3002</li> <li>\u4f7f\u7528\u4e50\u89c2\u5e76\u53d1\u63a7\u5236\uff1a\u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u4e50\u89c2\u5e76\u53d1\u63a7\u5236\u6765\u907f\u514d\u4e8b\u52a1\u51b2\u7a81\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#26","title":"26. \u7cfb\u7edf\u76d1\u63a7\u4e0e\u8c03\u4f18","text":"<p>26.1 \u4f7f\u7528 MongoDB \u7684\u76d1\u63a7\u5de5\u5177\u6765\u8ddf\u8e2a\u7cfb\u7edf\u6027\u80fd\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>MongoDB Atlas\uff1a\u63d0\u4f9b\u4e86\u5185\u7f6e\u7684\u76d1\u63a7\u5de5\u5177\uff0c\u663e\u793a\u96c6\u7fa4\u7684\u6027\u80fd\u6307\u6807\u548c\u5065\u5eb7\u72b6\u6001\u3002</li> <li><code>mongostat</code> \u548c <code>mongotop</code>\uff1a<ul> <li><code>mongostat</code>\uff1a\u663e\u793a MongoDB \u5b9e\u4f8b\u7684\u6027\u80fd\u7edf\u8ba1\u6570\u636e\u3002   <code>bash   mongostat --host localhost</code></li> <li><code>mongotop</code>\uff1a\u663e\u793a MongoDB \u5b9e\u4f8b\u4e2d\u5404\u96c6\u5408\u7684\u64cd\u4f5c\u65f6\u95f4\u3002   <code>bash   mongotop --host localhost</code></li> </ul> </li> <li><code>db.serverStatus()</code>\uff1a\u83b7\u53d6 MongoDB \u5b9e\u4f8b\u7684\u8be6\u7ec6\u670d\u52a1\u5668\u72b6\u6001\u4fe1\u606f\u3002     <code>javascript     db.serverStatus();</code></li> </ul> <p>26.2 \u89e3\u91ca MongoDB \u7684\u6162\u67e5\u8be2\u65e5\u5fd7\u548c\u5982\u4f55\u4f18\u5316\u6162\u67e5\u8be2\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\uff1aMongoDB \u4f1a\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7 <code>slowms</code> \u8bbe\u7f6e\u7684\u67e5\u8be2\u3002\u53ef\u4ee5\u901a\u8fc7 <code>db.setProfilingLevel()</code> \u914d\u7f6e\u6162\u67e5\u8be2\u65e5\u5fd7\u7ea7\u522b\u3002     <code>javascript     db.setProfilingLevel(2, { slowms: 100 });</code></li> <li>\u4f18\u5316\u6162\u67e5\u8be2\uff1a<ul> <li>\u521b\u5efa\u7d22\u5f15\uff1a\u4e3a\u67e5\u8be2\u6761\u4ef6\u521b\u5efa\u5408\u9002\u7684\u7d22\u5f15\u3002</li> <li>\u67e5\u8be2\u4f18\u5316\uff1a\u5206\u6790\u6162\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u5e76\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\u3002</li> <li>\u4f7f\u7528 <code>explain()</code>\uff1a\u67e5\u770b\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u627e\u51fa\u74f6\u9888\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#27","title":"27. \u6570\u636e\u8fc1\u79fb\u4e0e\u540c\u6b65","text":"<p>27.1 \u5982\u4f55\u5c06 MongoDB \u96c6\u7fa4\u4ece\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\u8fc1\u79fb\u5230\u53e6\u4e00\u4e2a\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u4f7f\u7528 MongoDB Atlas Live Migration\uff1a\u901a\u8fc7 Atlas \u7684\u5b9e\u65f6\u8fc1\u79fb\u670d\u52a1\uff0c\u5c06\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u6570\u636e\u8fc1\u79fb\u3002</li> <li>\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\uff1a\u5728\u6e90\u6570\u636e\u4e2d\u5fc3\u4f7f\u7528 <code>mongodump</code> \u5907\u4efd\u6570\u636e\uff0c\u7136\u540e\u5728\u76ee\u6807\u6570\u636e\u4e2d\u5fc3\u4f7f\u7528 <code>mongorestore</code> \u6062\u590d\u6570\u636e\u3002</li> <li>\u7f51\u7edc\u914d\u7f6e\uff1a\u786e\u4fdd\u7f51\u7edc\u8fde\u63a5\u7a33\u5b9a\uff0c\u8fdb\u884c\u6570\u636e\u540c\u6b65\uff0c\u8003\u8651\u6570\u636e\u4e00\u81f4\u6027\u548c\u53ef\u7528\u6027\u3002</li> </ul> <p>27.2 \u5904\u7406\u6570\u636e\u540c\u6b65\u4e2d\u7684\u51b2\u7a81\u548c\u5ef6\u8fdf\u95ee\u9898\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u51b2\u7a81\u89e3\u51b3\uff1a\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\uff0c\u5904\u7406\u6570\u636e\u51b2\u7a81\u65f6\uff0c\u9009\u62e9\u5408\u9002\u7684\u51b2\u7a81\u89e3\u51b3\u7b56\u7565\uff0c\u5982\u201c\u6700\u540e\u5199\u5165\u80dc\u51fa\u201d\u6216\u4e1a\u52a1\u903b\u8f91\u51b2\u7a81\u89e3\u51b3\u3002</li> <li>\u5ef6\u8fdf\u4f18\u5316\uff1a\u4f18\u5316\u7f51\u7edc\u5e26\u5bbd\u548c\u5ef6\u8fdf\uff0c\u914d\u7f6e\u6570\u636e\u540c\u6b65\u53c2\u6570\uff0c\u4ee5\u51cf\u5c11\u6570\u636e\u540c\u6b65\u7684\u5ef6\u8fdf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#28","title":"28. \u5b89\u5168\u6027\u548c\u52a0\u5bc6","text":"<p>28.1 \u4ecb\u7ecd MongoDB \u7684\u89d2\u8272\u57fa\u7840\u8bbf\u95ee\u63a7\u5236\u673a\u5236\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u89d2\u8272\uff1aMongoDB \u4f7f\u7528\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\uff08RBAC\uff09\u6765\u7ba1\u7406\u7528\u6237\u7684\u6743\u9650\u3002<ul> <li>\u5185\u7f6e\u89d2\u8272\uff1a\u5982 <code>read</code>, <code>readWrite</code>, <code>dbAdmin</code> \u7b49\u3002</li> <li>\u81ea\u5b9a\u4e49\u89d2\u8272\uff1a\u4f7f\u7528 <code>db.createRole()</code> \u521b\u5efa\u5177\u6709\u7279\u5b9a\u6743\u9650\u7684\u81ea\u5b9a\u4e49\u89d2\u8272\u3002   <code>javascript   db.createRole({     role: \"myCustomRole\",     privileges: [       {         resource: { db: \"myDB\", collection: \"\" },         actions: [ \"find\", \"update\" ]       }     ],     roles: []   });</code></li> </ul> </li> </ul> <p>28.2 \u5982\u4f55\u4f7f\u7528 MongoDB \u7684\u52a0\u5bc6\u529f\u80fd\u4fdd\u62a4\u6570\u636e\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u6570\u636e\u52a0\u5bc6\uff1a\u4f7f\u7528 MongoDB Enterprise \u7684\u52a0\u5bc6\u529f\u80fd\u5bf9\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u3002\u542f\u7528\u52a0\u5bc6\u9700\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e <code>security</code> \u76f8\u5173\u53c2\u6570\u3002     <code>yaml     security:       encryption:         keyFile: /path/to/keyfile</code></li> <li>\u4f20\u8f93\u52a0\u5bc6\uff1a\u901a\u8fc7\u542f\u7528 SSL/TLS \u52a0\u5bc6\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u3002     <code>yaml     net:       tls:         mode: requireTLS         certificateKeyFile: /path/to/mongodb.pem</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#29","title":"29. \u9ad8\u7ea7\u6570\u636e\u5904\u7406","text":"<p>29.1 \u4f7f\u7528 <code>$merge</code> \u64cd\u4f5c\u7b26\u5c06\u805a\u5408\u7ed3\u679c\u5199\u5165\u65b0\u96c6\u5408\u7684\u793a\u4f8b\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u793a\u4f8b\uff1a\u5c06\u8ba2\u5355\u6570\u636e\u6309\u6708\u4efd\u6c47\u603b\u5e76\u5199\u5165\u65b0\u7684\u96c6\u5408 <code>monthlyOrders</code>\u3002     <code>javascript     db.orders.aggregate([       {         $group: {           _id: { month: { $month: \"$orderDate\" }, year: { $year: \"$orderDate\" } },           totalAmount: { $sum: \"$amount\" }         }       },       {         $merge: {           into: \"monthlyOrders\",           whenMatched: \"merge\",           whenNotMatched: \"insert\"         }       }     ])</code></li> </ul> <p>29.2 \u89e3\u91ca <code>$out</code> \u64cd\u4f5c\u7b26\u53ca\u5176\u5e94\u7528\u573a\u666f\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li><code>$out</code>\uff1a<ul> <li>\u5c06\u805a\u5408\u7ba1\u9053\u7684\u7ed3\u679c\u76f4\u63a5\u5199\u5165\u6307\u5b9a\u96c6\u5408\uff0c\u8986\u76d6\u73b0\u6709\u96c6\u5408\u7684\u5185\u5bb9\u3002 <code>javascript db.orders.aggregate([   { $match: { status: \"completed\" } },   { $group: { _id: \"$productId\", totalSales: { $sum: \"$amount\" } } },   { $out: \"completedSales\" } ])</code></li> </ul> </li> <li>\u5e94\u7528\u573a\u666f\uff1a<ul> <li>\u7528\u4e8e\u5c06\u590d\u6742\u7684\u805a\u5408\u7ed3\u679c\u4fdd\u5b58\u5230\u96c6\u5408\u4e2d\uff0c\u4ee5\u4fbf\u540e\u7eed\u67e5\u8be2\u6216\u5206\u6790\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#30","title":"30. \u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d","text":"<p>30.1 \u4f7f\u7528 MongoDB \u7684\u5907\u4efd\u5de5\u5177\u521b\u5efa\u548c\u7ba1\u7406\u5907\u4efd\u3002</p> <ul> <li>\u7b54\u6848\uff1a</li> <li><code>mongodump</code>\uff1a\u521b\u5efa\u6570\u636e\u5e93\u7684\u5907\u4efd\u3002     <code>bash     mongodump --uri=\"mongodb://localhost:27017\" --out /backup/directory</code></li> <li><code>mongorestore</code>\uff1a\u6062\u590d\u6570\u636e\u3002     <code>bash     mongorestore --uri=\"mongodb://localhost:27017\" /backup/directory</code></li> </ul> <p>30.2 \u5982\u4f55\u4f7f\u7528 MongoDB Atlas \u7684\u81ea\u52a8\u5907\u4efd\u529f\u80fd\uff1f</p> <ul> <li>\u7b54\u6848\uff1a</li> <li>\u542f\u7528\u81ea\u52a8\u5907\u4efd\uff1a\u5728 MongoDB Atlas \u63a7\u5236\u53f0\u4e2d\u914d\u7f6e\u81ea\u52a8\u5907\u4efd\uff0c\u8bbe\u7f6e\u5907\u4efd\u9891\u7387\u548c\u4fdd\u7559\u7b56\u7565\u3002</li> <li>\u6062\u590d\u6570\u636e\uff1a\u901a\u8fc7 Atlas \u63a7\u5236\u53f0\u6216 API \u4ece\u5907\u4efd\u4e2d\u6062\u590d\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/interview/#_1","title":"\u8865\u5145\u9898\u76ee","text":"<p>MongoDB\u8865\u5145\u9898\u76ee</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/","title":"MongoDB \u5de5\u4f5c\u4e2d\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u5728\u5de5\u4f5c\u4e2d\u4f7f\u7528 MongoDB \u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u95ee\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#1","title":"1. \u6027\u80fd\u95ee\u9898","text":"<p>1.1 \u67e5\u8be2\u901f\u5ea6\u6162</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u7f3a\u4e4f\u9002\u5f53\u7684\u7d22\u5f15\u3002</li> <li>\u67e5\u8be2\u672a\u4f18\u5316\u3002</li> <li> <p>\u6570\u636e\u91cf\u8fc7\u5927\uff0c\u5bfc\u81f4\u626b\u63cf\u5f00\u9500\u5927\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u6dfb\u52a0\u7d22\u5f15\uff1a\u4f7f\u7528 <code>db.collection.createIndex()</code> \u4e3a\u67e5\u8be2\u6761\u4ef6\u6dfb\u52a0\u7d22\u5f15\u3002     <code>javascript     db.collection.createIndex({ field: 1 });</code></li> <li>\u4f7f\u7528 <code>explain()</code>\uff1a\u5206\u6790\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u627e\u51fa\u6027\u80fd\u74f6\u9888\u3002     <code>javascript     db.collection.find({ field: \"value\" }).explain(\"executionStats\");</code></li> <li>\u4f18\u5316\u67e5\u8be2\uff1a\u91cd\u6784\u67e5\u8be2\u8bed\u53e5\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\u3002</li> </ul> <p>1.2 \u5199\u5165\u6027\u80fd\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u5199\u5165\u64cd\u4f5c\u8fc7\u591a\uff0c\u5bfc\u81f4\u78c1\u76d8 I/O \u9ad8\u3002</li> <li> <p>\u4e0d\u5408\u7406\u7684\u5199\u5173\u6ce8\u8bbe\u7f6e\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u8c03\u6574\u5199\u5173\u6ce8\uff1a\u6839\u636e\u9700\u6c42\u8c03\u6574 <code>writeConcern</code> \u8bbe\u7f6e\uff0c\u4ee5\u5e73\u8861\u5199\u5165\u6027\u80fd\u548c\u6570\u636e\u53ef\u9760\u6027\u3002     <code>javascript     db.collection.insertOne({ ... }, { writeConcern: { w: 1 } });</code></li> <li>\u6279\u91cf\u5199\u5165\uff1a\u4f7f\u7528\u6279\u91cf\u64cd\u4f5c\u6765\u51cf\u5c11\u7f51\u7edc\u5f80\u8fd4\u6b21\u6570\u3002     <code>javascript     db.collection.insertMany([{ ... }, { ... }]);</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#2","title":"2. \u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898","text":"<p>2.1 \u6570\u636e\u4e22\u5931\u6216\u4e0d\u4e00\u81f4</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u914d\u7f6e\u9519\u8bef\u7684\u590d\u5236\u96c6\u3002</li> <li> <p>\u4e3b\u8282\u70b9\u6545\u969c\u672a\u6b63\u786e\u5904\u7406\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u590d\u5236\u96c6\u72b6\u6001\uff1a\u4f7f\u7528 <code>rs.status()</code> \u786e\u4fdd\u590d\u5236\u96c6\u72b6\u6001\u6b63\u5e38\u3002     <code>javascript     rs.status();</code></li> <li>\u914d\u7f6e <code>writeConcern</code> \u548c <code>readConcern</code>\uff1a\u786e\u4fdd\u5199\u5165\u64cd\u4f5c\u548c\u8bfb\u53d6\u64cd\u4f5c\u5177\u6709\u5408\u9002\u7684\u4e00\u81f4\u6027\u8bbe\u7f6e\u3002     <code>javascript     db.collection.insertOne({ ... }, { writeConcern: { w: \"majority\" } });     db.collection.find({ ... }).readConcern(\"majority\");</code></li> </ul> <p>2.2 \u4e8b\u52a1\u5904\u7406\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u8de8\u591a\u4e2a\u6587\u6863\u6216\u96c6\u5408\u7684\u4e8b\u52a1\u672a\u6b63\u786e\u5904\u7406\u3002</li> <li> <p>\u4e8b\u52a1\u8d85\u65f6\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u6b63\u786e\u4f7f\u7528\u4e8b\u52a1\uff1a\u786e\u4fdd\u4f7f\u7528 <code>startTransaction()</code> \u5f00\u59cb\u4e8b\u52a1\uff0c\u4f7f\u7528 <code>commitTransaction()</code> \u63d0\u4ea4\u4e8b\u52a1\uff0c\u4f7f\u7528 <code>abortTransaction()</code> \u56de\u6eda\u4e8b\u52a1\u3002     <code>javascript     const session = client.startSession();     session.startTransaction();     try {       db.collection.insertOne({ ... }, { session });       session.commitTransaction();     } catch (error) {       session.abortTransaction();     } finally {       session.endSession();     }</code></li> <li>\u8c03\u6574\u8d85\u65f6\u8bbe\u7f6e\uff1a\u6839\u636e\u9700\u8981\u8c03\u6574\u4e8b\u52a1\u7684\u8d85\u65f6\u8bbe\u7f6e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#3","title":"3. \u5206\u7247\u95ee\u9898","text":"<p>3.1 \u5206\u7247\u952e\u9009\u62e9\u4e0d\u5f53</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u9009\u62e9\u7684\u5206\u7247\u952e\u5bfc\u81f4\u6570\u636e\u5206\u5e03\u4e0d\u5747\u6216\u70ed\u70b9\u95ee\u9898\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u91cd\u65b0\u8bbe\u8ba1\u5206\u7247\u952e\uff1a\u9009\u62e9\u5408\u9002\u7684\u5206\u7247\u952e\uff0c\u786e\u4fdd\u6570\u636e\u5747\u5300\u5206\u5e03\u3002</li> <li>\u4f7f\u7528 <code>sh.splitAt()</code>\uff1a\u624b\u52a8\u5206\u5272\u6570\u636e\u5757\uff0c\u4ee5\u63d0\u9ad8\u5206\u7247\u5747\u8861\u6027\u3002     <code>javascript     sh.splitAt(\"database.collection\", { shardKey: value });</code></li> </ul> <p>3.2 \u5206\u7247\u6545\u969c\u5904\u7406</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u5206\u7247\u8282\u70b9\u6545\u969c\u5bfc\u81f4\u6570\u636e\u4e0d\u53ef\u7528\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u5206\u7247\u72b6\u6001\uff1a\u4f7f\u7528 <code>sh.status()</code> \u67e5\u770b\u5206\u7247\u72b6\u6001\u3002     <code>javascript     sh.status();</code></li> <li>\u91cd\u542f\u5206\u7247\u8282\u70b9\uff1a\u91cd\u542f\u6545\u969c\u8282\u70b9\u6216\u5c06\u5176\u66ff\u6362\u4e3a\u65b0\u8282\u70b9\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#4","title":"4. \u5907\u4efd\u548c\u6062\u590d\u95ee\u9898","text":"<p>4.1 \u5907\u4efd\u5931\u8d25</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u5b58\u50a8\u8def\u5f84\u4e0d\u53ef\u7528\u6216\u6743\u9650\u4e0d\u8db3\u3002</li> <li> <p>\u5907\u4efd\u5de5\u5177\u914d\u7f6e\u9519\u8bef\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u5b58\u50a8\u8def\u5f84\uff1a\u786e\u4fdd\u5907\u4efd\u5b58\u50a8\u8def\u5f84\u6b63\u786e\u4e14\u6709\u8db3\u591f\u7684\u6743\u9650\u3002</li> <li>\u68c0\u67e5\u5907\u4efd\u5de5\u5177\u914d\u7f6e\uff1a\u786e\u8ba4 <code>mongodump</code> \u548c <code>mongorestore</code> \u547d\u4ee4\u7684\u914d\u7f6e\u6b63\u786e\u3002</li> </ul> <p>4.2 \u6062\u590d\u6570\u636e\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u6062\u590d\u6587\u4ef6\u635f\u574f\u6216\u4e0d\u5b8c\u6574\u3002</li> <li> <p>\u6062\u590d\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u5907\u4efd\u6587\u4ef6\u5b8c\u6574\u6027\uff1a\u786e\u8ba4\u5907\u4efd\u6587\u4ef6\u672a\u635f\u574f\u3002</li> <li>\u4f7f\u7528 <code>mongorestore</code> \u6062\u590d\u6570\u636e\uff1a\u6b63\u786e\u914d\u7f6e <code>mongorestore</code> \u53c2\u6570\u8fdb\u884c\u6570\u636e\u6062\u590d\u3002     <code>bash     mongorestore --uri=\"mongodb://localhost:27017\" /backup/directory</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#5","title":"5. \u5b89\u5168\u6027\u95ee\u9898","text":"<p>5.1 \u8ba4\u8bc1\u548c\u6388\u6743\u914d\u7f6e\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u8ba4\u8bc1\u672a\u542f\u7528\u6216\u7528\u6237\u6743\u9650\u914d\u7f6e\u9519\u8bef\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u542f\u7528\u8ba4\u8bc1\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u8ba4\u8bc1\u3002     <code>yaml     security:       authorization: \"enabled\"</code></li> <li>\u521b\u5efa\u7528\u6237\u548c\u89d2\u8272\uff1a\u4f7f\u7528 <code>db.createUser()</code> \u521b\u5efa\u7528\u6237\uff0c\u5e76\u4e3a\u5176\u5206\u914d\u6b63\u786e\u7684\u89d2\u8272\u3002     <code>javascript     db.createUser({       user: \"myUser\",       pwd: \"myPassword\",       roles: [{ role: \"readWrite\", db: \"myDatabase\" }]     });</code></li> </ul> <p>5.2 \u6570\u636e\u52a0\u5bc6\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u6570\u636e\u672a\u52a0\u5bc6\u6216\u52a0\u5bc6\u914d\u7f6e\u4e0d\u6b63\u786e\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u542f\u7528\u78c1\u76d8\u52a0\u5bc6\uff1a\u4f7f\u7528 MongoDB Enterprise \u7684\u52a0\u5bc6\u529f\u80fd\u8fdb\u884c\u78c1\u76d8\u6570\u636e\u52a0\u5bc6\u3002</li> <li>\u542f\u7528\u4f20\u8f93\u52a0\u5bc6\uff1a\u914d\u7f6e SSL/TLS \u52a0\u5bc6\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u3002     <code>yaml     net:       tls:         mode: requireTLS         certificateKeyFile: /path/to/mongodb.pem</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#6","title":"6. \u8fd0\u7ef4\u548c\u76d1\u63a7\u95ee\u9898","text":"<p>6.1 \u76d1\u63a7\u6570\u636e\u7f3a\u5931</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u76d1\u63a7\u5de5\u5177\u914d\u7f6e\u9519\u8bef\u6216\u8fde\u63a5\u95ee\u9898\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u76d1\u63a7\u914d\u7f6e\uff1a\u786e\u8ba4\u76d1\u63a7\u5de5\u5177\u6216 MongoDB Atlas \u7684\u914d\u7f6e\u6b63\u786e\u3002</li> <li>\u7f51\u7edc\u8fde\u63a5\uff1a\u786e\u4fdd\u76d1\u63a7\u5de5\u5177\u80fd\u591f\u8bbf\u95ee MongoDB \u5b9e\u4f8b\u3002</li> </ul> <p>6.2 \u8d44\u6e90\u5229\u7528\u7387\u8fc7\u9ad8</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u78c1\u76d8 I/O\u3001\u9ad8 CPU \u6216\u5185\u5b58\u4f7f\u7528\u7387\u8fc7\u9ad8\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f18\u5316\u67e5\u8be2\u548c\u7d22\u5f15\uff1a\u51cf\u5c11\u8d44\u6e90\u6d88\u8017\u3002</li> <li>\u589e\u52a0\u786c\u4ef6\u8d44\u6e90\uff1a\u6839\u636e\u9700\u8981\u589e\u52a0\u78c1\u76d8\u3001CPU \u6216\u5185\u5b58\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#7","title":"7. \u7248\u672c\u517c\u5bb9\u6027\u95ee\u9898","text":"<p>7.1 \u5347\u7ea7 MongoDB \u7248\u672c\u540e\u7684\u517c\u5bb9\u6027\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u65b0\u7248\u672c\u4e0d\u517c\u5bb9\u65e7\u7248\u7684\u914d\u7f6e\u6216\u6570\u636e\u683c\u5f0f\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u9605\u8bfb\u53d1\u5e03\u8bf4\u660e\uff1a\u5728\u5347\u7ea7\u524d\u9605\u8bfb\u65b0\u7248\u672c\u7684\u53d1\u5e03\u8bf4\u660e\u548c\u517c\u5bb9\u6027\u6587\u6863\u3002</li> <li>\u6d4b\u8bd5\u73af\u5883\u9a8c\u8bc1\uff1a\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u9a8c\u8bc1\u5347\u7ea7\u64cd\u4f5c\uff0c\u786e\u4fdd\u517c\u5bb9\u6027\u3002</li> </ul> <p>7.2 \u65b0\u529f\u80fd\u65e0\u6cd5\u4f7f\u7528</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u65b0\u529f\u80fd\u9700\u8981\u7279\u5b9a\u7248\u672c\u6216\u914d\u7f6e\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u7248\u672c\uff1a\u786e\u8ba4\u5f53\u524d MongoDB \u7248\u672c\u662f\u5426\u652f\u6301\u65b0\u529f\u80fd\u3002</li> <li>\u914d\u7f6e\u66f4\u65b0\uff1a\u6839\u636e\u529f\u80fd\u8981\u6c42\u66f4\u65b0 MongoDB \u914d\u7f6e\u3002</li> </ul> <p>\u5f53\u7136\uff01\u4e0b\u9762\u662f\u4e00\u4e9b\u66f4\u8be6\u7ec6\u7684 MongoDB \u5de5\u4f5c\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u4ee5\u53ca\u89e3\u51b3\u65b9\u6848\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#8","title":"8. \u6570\u636e\u5efa\u6a21\u95ee\u9898","text":"<p>8.1 \u6570\u636e\u6a21\u578b\u8bbe\u8ba1\u4e0d\u5f53</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u6570\u636e\u6a21\u578b\u672a\u80fd\u6709\u6548\u652f\u6301\u5e94\u7528\u9700\u6c42\u3002</li> <li> <p>\u6570\u636e\u5197\u4f59\u6216\u5d4c\u5957\u5c42\u7ea7\u8fc7\u6df1\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u91cd\u65b0\u8bbe\u8ba1\u6570\u636e\u6a21\u578b\uff1a\u6839\u636e\u5e94\u7528\u573a\u666f\u91cd\u65b0\u8bbe\u8ba1\u6570\u636e\u6a21\u578b\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u5197\u4f59\u548c\u5d4c\u5957\u5c42\u7ea7\u3002</li> <li>\u4f7f\u7528\u5d4c\u5957\u6587\u6863\u548c\u5f15\u7528\uff1a\u6839\u636e\u67e5\u8be2\u9891\u7387\u9009\u62e9\u9002\u5f53\u7684\u6570\u636e\u5efa\u6a21\u65b9\u5f0f\u3002\u5bf9\u4e8e\u9ad8\u9891\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u8003\u8651\u5d4c\u5957\u6587\u6863\uff1b\u5bf9\u4e8e\u4f4e\u9891\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u8003\u8651\u4f7f\u7528\u5f15\u7528\u3002     <code>javascript     // \u5d4c\u5957\u6587\u6863\u793a\u4f8b     {       _id: ObjectId(\"post_id\"),       title: \"Blog Post\",       comments: [         {            _id: ObjectId(\"comment_id\"),           content: \"This is a comment\"         }       ]     }</code></li> </ul> <p>8.2 \u67e5\u8be2\u6548\u7387\u4f4e\u4e0b</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u6570\u636e\u6a21\u578b\u8bbe\u8ba1\u4e0d\u5408\u7406\uff0c\u5bfc\u81f4\u67e5\u8be2\u6548\u7387\u4f4e\u4e0b\u3002</li> <li> <p>\u67e5\u8be2\u6a21\u5f0f\u4e0e\u6570\u636e\u6a21\u578b\u4e0d\u5339\u914d\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f18\u5316\u6570\u636e\u6a21\u578b\uff1a\u786e\u4fdd\u6570\u636e\u6a21\u578b\u4e0e\u67e5\u8be2\u6a21\u5f0f\u4e00\u81f4\u3002</li> <li>\u521b\u5efa\u7d22\u5f15\uff1a\u4e3a\u5e38\u7528\u67e5\u8be2\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002     <code>javascript     db.collection.createIndex({ field: 1 });</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#9","title":"9. \u7cfb\u7edf\u90e8\u7f72\u95ee\u9898","text":"<p>9.1 \u90e8\u7f72 MongoDB \u65f6\u9047\u5230\u7684\u914d\u7f6e\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li>\u914d\u7f6e\u6587\u4ef6\u9519\u8bef\u6216\u9057\u6f0f\u5fc5\u8981\u914d\u7f6e\u3002</li> <li> <p>\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e0d\u6b63\u786e\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\uff1a\u786e\u4fdd MongoDB \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u5fc5\u8981\u914d\u7f6e\u90fd\u5df2\u8bbe\u7f6e\u3002</li> <li>\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\uff1a\u786e\u8ba4\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u6b63\u786e\uff0c\u4f8b\u5982 <code>MONGODB_URI</code> \u7b49\u3002</li> </ul> <p>9.2 \u5904\u7406\u96c6\u7fa4\u8282\u70b9\u6545\u969c</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u96c6\u7fa4\u8282\u70b9\u4e0d\u53ef\u7528\u6216\u7f51\u7edc\u95ee\u9898\u5bfc\u81f4\u8282\u70b9\u5931\u8054\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u8282\u70b9\u72b6\u6001\uff1a\u4f7f\u7528 <code>rs.status()</code> \u548c <code>sh.status()</code> \u68c0\u67e5\u590d\u5236\u96c6\u548c\u5206\u7247\u7684\u72b6\u6001\u3002     <code>javascript     rs.status();     sh.status();</code></li> <li>\u4fee\u590d\u6545\u969c\u8282\u70b9\uff1a\u91cd\u542f\u6545\u969c\u8282\u70b9\u6216\u66ff\u6362\u6545\u969c\u8282\u70b9\u4ee5\u6062\u590d\u96c6\u7fa4\u6b63\u5e38\u8fd0\u884c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#10","title":"10. \u6570\u636e\u4e00\u81f4\u6027\u548c\u4e8b\u52a1\u95ee\u9898","text":"<p>10.1 \u5904\u7406\u6570\u636e\u51b2\u7a81</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u5728\u9ad8\u5e76\u53d1\u73af\u5883\u4e2d\uff0c\u6570\u636e\u51b2\u7a81\u53ef\u80fd\u5bfc\u81f4\u4e00\u81f4\u6027\u95ee\u9898\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f7f\u7528\u4e50\u89c2\u5e76\u53d1\u63a7\u5236\uff1a\u5728\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u4f7f\u7528\u4e50\u89c2\u5e76\u53d1\u63a7\u5236\u6765\u51cf\u5c11\u51b2\u7a81\u3002</li> <li>\u91cd\u8bd5\u903b\u8f91\uff1a\u5b9e\u73b0\u81ea\u52a8\u91cd\u8bd5\u673a\u5236\uff0c\u4ee5\u5904\u7406\u4e8b\u52a1\u4e2d\u7684\u51b2\u7a81\u3002</li> </ul> <p>10.2 \u4e8b\u52a1\u8d85\u65f6\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u4e8b\u52a1\u64cd\u4f5c\u65f6\u95f4\u8fc7\u957f\uff0c\u5bfc\u81f4\u8d85\u65f6\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f18\u5316\u4e8b\u52a1\u64cd\u4f5c\uff1a\u51cf\u5c11\u4e8b\u52a1\u4e2d\u7684\u64cd\u4f5c\uff0c\u907f\u514d\u957f\u65f6\u95f4\u6301\u6709\u4e8b\u52a1\u9501\u3002</li> <li>\u8c03\u6574\u4e8b\u52a1\u8d85\u65f6\u8bbe\u7f6e\uff1a\u6839\u636e\u9700\u8981\u8c03\u6574\u4e8b\u52a1\u8d85\u65f6\u8bbe\u7f6e\u3002     <code>javascript     const session = client.startSession({ defaultTransactionOptions: { maxCommitTimeMS: 60000 } });</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#11","title":"11. \u76d1\u63a7\u548c\u7ef4\u62a4\u95ee\u9898","text":"<p>11.1 \u76d1\u63a7\u6570\u636e\u4e22\u5931</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u76d1\u63a7\u7cfb\u7edf\u914d\u7f6e\u9519\u8bef\u6216\u65e5\u5fd7\u4e22\u5931\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u76d1\u63a7\u914d\u7f6e\uff1a\u786e\u8ba4\u76d1\u63a7\u7cfb\u7edf\u7684\u914d\u7f6e\u6b63\u786e\uff0c\u5e76\u4e14\u8fde\u63a5\u6b63\u5e38\u3002</li> <li>\u589e\u52a0\u65e5\u5fd7\u7ea7\u522b\uff1a\u63d0\u9ad8\u65e5\u5fd7\u7ea7\u522b\u4ee5\u6355\u83b7\u66f4\u591a\u7684\u76d1\u63a7\u6570\u636e\u3002</li> </ul> <p>11.2 \u6570\u636e\u5e93\u7ef4\u62a4\u4efb\u52a1</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u7ef4\u62a4\u4efb\u52a1\uff08\u5982\u7d22\u5f15\u91cd\u5efa\uff09\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u8ba1\u5212\u7ef4\u62a4\u65f6\u95f4\uff1a\u9009\u62e9\u4e1a\u52a1\u4f4e\u5cf0\u671f\u8fdb\u884c\u7ef4\u62a4\u4efb\u52a1\uff0c\u4ee5\u51cf\u5c11\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u3002</li> <li>\u4f7f\u7528 <code>background</code> \u9009\u9879\uff1a\u5728\u521b\u5efa\u6216\u91cd\u5efa\u7d22\u5f15\u65f6\uff0c\u4f7f\u7528 <code>background</code> \u9009\u9879\u6765\u51cf\u5c11\u5bf9\u7cfb\u7edf\u7684\u5f71\u54cd\u3002     <code>javascript     db.collection.createIndex({ field: 1 }, { background: true });</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#12","title":"12. \u5907\u4efd\u548c\u6062\u590d\u95ee\u9898","text":"<p>12.1 \u5907\u4efd\u6570\u636e\u7684\u5b8c\u6574\u6027\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u5907\u4efd\u6587\u4ef6\u635f\u574f\u6216\u4e0d\u5b8c\u6574\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u9a8c\u8bc1\u5907\u4efd\u6587\u4ef6\uff1a\u5728\u5907\u4efd\u5b8c\u6210\u540e\uff0c\u9a8c\u8bc1\u5907\u4efd\u6587\u4ef6\u7684\u5b8c\u6574\u6027\u3002</li> <li>\u5b9a\u671f\u6d4b\u8bd5\u6062\u590d\uff1a\u5b9a\u671f\u8fdb\u884c\u6062\u590d\u6d4b\u8bd5\uff0c\u4ee5\u786e\u4fdd\u5907\u4efd\u6570\u636e\u7684\u53ef\u7528\u6027\u3002</li> </ul> <p>12.2 \u5907\u4efd\u6062\u590d\u4e2d\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u6062\u590d\u8fc7\u7a0b\u4e2d\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u90e8\u5206\u6570\u636e\u4e22\u5931\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f7f\u7528 <code>--oplogReplay</code>\uff1a\u5728\u6062\u590d\u65f6\u4f7f\u7528 <code>--oplogReplay</code> \u9009\u9879\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002     <code>bash     mongorestore --oplogReplay /backup/directory</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#13","title":"13. \u5206\u7247\u548c\u9ad8\u53ef\u7528\u6027\u95ee\u9898","text":"<p>13.1 \u5206\u7247\u96c6\u7fa4\u7684\u6570\u636e\u5206\u5e03\u4e0d\u5747</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u5206\u7247\u952e\u9009\u62e9\u4e0d\u5f53\u5bfc\u81f4\u6570\u636e\u5206\u5e03\u4e0d\u5747\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u91cd\u65b0\u9009\u62e9\u5206\u7247\u952e\uff1a\u6839\u636e\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u548c\u5206\u5e03\u91cd\u65b0\u9009\u62e9\u5408\u9002\u7684\u5206\u7247\u952e\u3002</li> <li>\u6267\u884c <code>sh.moveChunk()</code>\uff1a\u5c06\u6570\u636e\u5757\u4ece\u4e00\u4e2a\u5206\u7247\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5206\u7247\uff0c\u4ee5\u4f18\u5316\u6570\u636e\u5206\u5e03\u3002     <code>javascript     sh.moveChunk(\"database.collection\", { shardKey: value }, \"targetShard\");</code></li> </ul> <p>13.2 \u5904\u7406\u5206\u7247\u6545\u969c</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u5206\u7247\u8282\u70b9\u6545\u969c\u5bfc\u81f4\u90e8\u5206\u6570\u636e\u4e0d\u53ef\u7528\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u6545\u969c\u8282\u70b9\uff1a\u4f7f\u7528 <code>sh.status()</code> \u68c0\u67e5\u5206\u7247\u72b6\u6001\uff0c\u5e76\u4fee\u590d\u6545\u969c\u8282\u70b9\u3002</li> <li>\u6dfb\u52a0\u5907\u7528\u8282\u70b9\uff1a\u589e\u52a0\u5907\u7528\u8282\u70b9\u4ee5\u63d0\u9ad8\u96c6\u7fa4\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#14","title":"14. \u6570\u636e\u8fc1\u79fb\u548c\u540c\u6b65\u95ee\u9898","text":"<p>14.1 \u6570\u636e\u8fc1\u79fb\u4e2d\u7684\u6570\u636e\u4e22\u5931</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u6570\u636e\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef\u6216\u4e2d\u65ad\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f7f\u7528\u589e\u91cf\u8fc1\u79fb\uff1a\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u65f6\uff0c\u4f7f\u7528\u589e\u91cf\u8fc1\u79fb\u6280\u672f\u6765\u51cf\u5c11\u6570\u636e\u4e22\u5931\u7684\u98ce\u9669\u3002</li> <li>\u9a8c\u8bc1\u8fc1\u79fb\u7ed3\u679c\uff1a\u8fc1\u79fb\u5b8c\u6210\u540e\uff0c\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\u3002</li> </ul> <p>14.2 \u6570\u636e\u540c\u6b65\u5ef6\u8fdf</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u7f51\u7edc\u5ef6\u8fdf\u6216\u7cfb\u7edf\u8d1f\u8f7d\u8fc7\u9ad8\u5bfc\u81f4\u6570\u636e\u540c\u6b65\u5ef6\u8fdf\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f18\u5316\u7f51\u7edc\u8fde\u63a5\uff1a\u786e\u4fdd\u7f51\u7edc\u8fde\u63a5\u7a33\u5b9a\uff0c\u51cf\u5c11\u6570\u636e\u540c\u6b65\u5ef6\u8fdf\u3002</li> <li>\u589e\u52a0\u8d44\u6e90\uff1a\u6839\u636e\u9700\u8981\u589e\u52a0\u670d\u52a1\u5668\u8d44\u6e90\u4ee5\u63d0\u9ad8\u540c\u6b65\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#15","title":"15. \u5b89\u5168\u6027\u95ee\u9898","text":"<p>15.1 \u6570\u636e\u5e93\u7684\u8bbf\u95ee\u63a7\u5236\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u6570\u636e\u5e93\u8bbf\u95ee\u63a7\u5236\u8bbe\u7f6e\u4e0d\u5f53\uff0c\u5bfc\u81f4\u6743\u9650\u8fc7\u5bbd\u6216\u8fc7\u7a84\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u5ba1\u6838\u7528\u6237\u6743\u9650\uff1a\u5b9a\u671f\u5ba1\u6838\u7528\u6237\u6743\u9650\uff0c\u786e\u4fdd\u6bcf\u4e2a\u7528\u6237\u53ea\u62e5\u6709\u5fc5\u8981\u7684\u6743\u9650\u3002</li> <li>\u4f7f\u7528\u6700\u5c0f\u6743\u9650\u539f\u5219\uff1a\u6309\u7167\u6700\u5c0f\u6743\u9650\u539f\u5219\u914d\u7f6e\u7528\u6237\u6743\u9650\uff0c\u907f\u514d\u6743\u9650\u8fc7\u5ea6\u3002</li> </ul> <p>15.2 \u6570\u636e\u52a0\u5bc6\u914d\u7f6e\u95ee\u9898</p> <ul> <li>\u53ef\u80fd\u539f\u56e0\uff1a</li> <li> <p>\u6570\u636e\u52a0\u5bc6\u914d\u7f6e\u4e0d\u6b63\u786e\uff0c\u5bfc\u81f4\u6570\u636e\u672a\u52a0\u5bc6\u6216\u52a0\u5bc6\u5931\u8d25\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u52a0\u5bc6\u914d\u7f6e\uff1a\u786e\u8ba4 MongoDB \u7684\u52a0\u5bc6\u914d\u7f6e\u6b63\u786e\uff0c\u5e76\u4e14\u52a0\u5bc6\u5bc6\u94a5\u7ba1\u7406\u7b26\u5408\u6700\u4f73\u5b9e\u8df5\u3002</li> <li>\u542f\u7528\u4f20\u8f93\u52a0\u5bc6\uff1a\u4f7f\u7528 SSL/TLS \u4fdd\u62a4\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u3002</li> </ul> <p>\u5f53\u7136\uff01\u4ee5\u4e0b\u662f\u66f4\u591a\u5173\u4e8e MongoDB \u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u53ca\u5176\u89e3\u51b3\u65b9\u6848\uff0c\u6db5\u76d6\u4e86\u4e0d\u540c\u7684\u65b9\u9762\uff0c\u5305\u62ec\u6570\u636e\u8fc1\u79fb\u3001\u9ad8\u53ef\u7528\u6027\u3001\u5b89\u5168\u6027\u7b49\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#16","title":"16. \u6570\u636e\u8fc1\u79fb\u548c\u5bfc\u5165","text":"<p>16.1 \u6570\u636e\u8fc1\u79fb\u5de5\u5177\u4f7f\u7528</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code> \u65f6\uff0c\u6570\u636e\u5bfc\u5165\u5bfc\u51fa\u64cd\u4f5c\u53ef\u80fd\u4e0d\u7b26\u5408\u9884\u671f\u6216\u51fa\u73b0\u9519\u8bef\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f7f\u7528 <code>mongodump</code> \u548c <code>mongorestore</code> \u7684\u6b63\u786e\u53c2\u6570\uff1a<ul> <li><code>mongodump</code>\uff1a\u521b\u5efa\u5907\u4efd\u3002   <code>bash   mongodump --uri=\"mongodb://localhost:27017\" --out /backup/directory</code></li> <li><code>mongorestore</code>\uff1a\u6062\u590d\u6570\u636e\u3002   <code>bash   mongorestore --uri=\"mongodb://localhost:27017\" /backup/directory</code></li> </ul> </li> <li>\u9a8c\u8bc1\u5907\u4efd\u548c\u6062\u590d\uff1a\u5728\u5907\u4efd\u540e\u548c\u6062\u590d\u540e\u9a8c\u8bc1\u6570\u636e\u5b8c\u6574\u6027\uff0c\u786e\u4fdd\u6570\u636e\u65e0\u635f\u3002</li> <li>\u4f7f\u7528 <code>--gzip</code> \u8fdb\u884c\u538b\u7f29\uff1a\u51cf\u5c11\u5907\u4efd\u6587\u4ef6\u7684\u5927\u5c0f\u3002     <code>bash     mongodump --gzip --archive=/backup/directory/backup.gz     mongorestore --gzip --archive=/backup/directory/backup.gz</code></li> </ul> <p>16.2 \u6570\u636e\u8fc1\u79fb\u4e2d\u7684\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u6570\u636e\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u4e22\u5931\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f7f\u7528\u589e\u91cf\u8fc1\u79fb\u5de5\u5177\uff1a\u5982 <code>MongoMirror</code>\uff0c\u8fdb\u884c\u589e\u91cf\u8fc1\u79fb\uff0c\u786e\u4fdd\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002</li> <li>\u4f7f\u7528 <code>oplog</code> \u56de\u653e\uff1a\u5728\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u4f7f\u7528 <code>oplog</code> \u6765\u4fdd\u6301\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002     <code>bash     mongorestore --oplogReplay /backup/directory</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#17","title":"17. \u9ad8\u53ef\u7528\u6027\u548c\u6545\u969c\u6062\u590d","text":"<p>17.1 \u590d\u5236\u96c6\u6210\u5458\u72b6\u6001\u5f02\u5e38</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u590d\u5236\u96c6\u6210\u5458\u72b6\u6001\u4e3a <code>RECOVERING</code>\u3001<code>STARTUP</code> \u6216 <code>UNKNOWN</code>\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\uff1a\u786e\u4fdd\u590d\u5236\u96c6\u6210\u5458\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u6b63\u5e38\u3002</li> <li>\u68c0\u67e5\u65e5\u5fd7\u6587\u4ef6\uff1a\u67e5\u770b MongoDB \u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u4ee5\u83b7\u53d6\u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f\u3002</li> <li>\u91cd\u65b0\u540c\u6b65\u8282\u70b9\uff1a\u5c1d\u8bd5\u91cd\u65b0\u540c\u6b65\u51fa\u73b0\u95ee\u9898\u7684\u8282\u70b9\u3002     <code>javascript     rs.remove(\"hostname:port\");     rs.add(\"hostname:port\");</code></li> </ul> <p>17.2 \u6545\u969c\u8f6c\u79fb\u548c\u9009\u4e3e\u95ee\u9898</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u4e3b\u8282\u70b9\u6545\u969c\u5bfc\u81f4\u7684\u9009\u4e3e\u95ee\u9898\u6216\u6545\u969c\u8f6c\u79fb\u5931\u8d25\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u914d\u7f6e\u9009\u4e3e\u8d85\u65f6\uff1a\u8c03\u6574\u9009\u4e3e\u8d85\u65f6\u914d\u7f6e\uff0c\u786e\u4fdd\u9009\u4e3e\u8fc7\u7a0b\u5feb\u901f\u5b8c\u6210\u3002     <code>javascript     rs.conf().settings.electionTimeoutMillis = 10000;</code></li> <li>\u589e\u52a0\u6295\u7968\u8282\u70b9\uff1a\u786e\u4fdd\u590d\u5236\u96c6\u4e2d\u6709\u8db3\u591f\u7684\u8282\u70b9\u53c2\u4e0e\u6295\u7968\uff0c\u9632\u6b62\u9009\u4e3e\u65e0\u6cd5\u5b8c\u6210\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#18","title":"18. \u5b89\u5168\u6027\u548c\u8bbf\u95ee\u63a7\u5236","text":"<p>18.1 \u7528\u6237\u548c\u89d2\u8272\u7ba1\u7406\u95ee\u9898</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u7528\u6237\u6743\u9650\u914d\u7f6e\u4e0d\u5f53\uff0c\u5bfc\u81f4\u4e0d\u5fc5\u8981\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f7f\u7528\u89d2\u8272\u548c\u6743\u9650\u7ba1\u7406\uff1a\u521b\u5efa\u5408\u9002\u7684\u89d2\u8272\uff0c\u5e76\u4e3a\u7528\u6237\u5206\u914d\u89d2\u8272\u3002     <code>javascript     db.createRole({       role: \"readWriteRole\",       privileges: [         {           resource: { db: \"myDatabase\", collection: \"\" },           actions: [ \"find\", \"insert\", \"update\", \"remove\" ]         }       ],       roles: []     });     db.createUser({       user: \"username\",       pwd: \"password\",       roles: [{ role: \"readWriteRole\", db: \"myDatabase\" }]     });</code></li> <li>\u5b9a\u671f\u5ba1\u8ba1\u6743\u9650\uff1a\u5b9a\u671f\u5ba1\u8ba1\u7528\u6237\u548c\u89d2\u8272\u6743\u9650\uff0c\u786e\u4fdd\u9075\u5faa\u6700\u5c0f\u6743\u9650\u539f\u5219\u3002</li> </ul> <p>18.2 \u6570\u636e\u52a0\u5bc6\u95ee\u9898</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u6570\u636e\u52a0\u5bc6\u672a\u542f\u7528\u6216\u914d\u7f6e\u4e0d\u6b63\u786e\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u542f\u7528\u52a0\u5bc6\uff1a\u914d\u7f6e MongoDB \u8fdb\u884c\u6570\u636e\u52a0\u5bc6\uff0c\u5305\u62ec\u78c1\u76d8\u52a0\u5bc6\u548c\u4f20\u8f93\u52a0\u5bc6\u3002<ul> <li>\u78c1\u76d8\u52a0\u5bc6\uff08MongoDB Enterprise\uff09\uff1a   <code>yaml   security:     encryption:       keyFile: /path/to/encryption-key</code></li> <li>\u4f20\u8f93\u52a0\u5bc6\uff08SSL/TLS\uff09\uff1a   <code>yaml   net:     tls:       mode: requireTLS       certificateKeyFile: /path/to/certificate.pem</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#19","title":"19. \u6570\u636e\u6a21\u578b\u548c\u67e5\u8be2\u4f18\u5316","text":"<p>19.1 \u6570\u636e\u6a21\u578b\u8bbe\u8ba1</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u6570\u636e\u6a21\u578b\u8bbe\u8ba1\u5bfc\u81f4\u67e5\u8be2\u6027\u80fd\u4f4e\u4e0b\u6216\u590d\u6742\u7684\u66f4\u65b0\u64cd\u4f5c\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u5d4c\u5957 vs. \u5f15\u7528\uff1a\u6839\u636e\u5b9e\u9645\u8bbf\u95ee\u6a21\u5f0f\u9009\u62e9\u5d4c\u5957\u6587\u6863\u8fd8\u662f\u5f15\u7528\u3002</li> <li>\u6570\u636e\u89c4\u8303\u5316\u4e0e\u53cd\u89c4\u8303\u5316\uff1a\u5408\u7406\u9009\u62e9\u6570\u636e\u89c4\u8303\u5316\u6216\u53cd\u89c4\u8303\u5316\u7b56\u7565\uff0c\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</li> <li>\u793a\u4f8b\uff1a\u5982\u679c\u7ecf\u5e38\u9700\u8981\u8bbf\u95ee\u5d4c\u5957\u6570\u636e\uff0c\u53ef\u4ee5\u5c06\u6570\u636e\u5d4c\u5957\u5728\u540c\u4e00\u6587\u6863\u4e2d\uff1b\u5982\u679c\u6570\u636e\u66f4\u65b0\u9891\u7e41\uff0c\u8003\u8651\u4f7f\u7528\u5f15\u7528\u3002</li> </ul> <p>19.2 \u67e5\u8be2\u4f18\u5316</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u67e5\u8be2\u6027\u80fd\u5dee\u6216\u7d22\u5f15\u672a\u751f\u6548\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u5206\u6790\u67e5\u8be2\u8ba1\u5212\uff1a\u4f7f\u7528 <code>explain()</code> \u5206\u6790\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u627e\u51fa\u6027\u80fd\u74f6\u9888\u3002     <code>javascript     db.collection.find({ field: \"value\" }).explain(\"executionStats\");</code></li> <li>\u4f18\u5316\u67e5\u8be2\uff1a\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5168\u8868\u626b\u63cf\uff0c\u4f7f\u7528\u7d22\u5f15\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</li> <li>\u7d22\u5f15\u7ba1\u7406\uff1a\u5b9a\u671f\u68c0\u67e5\u548c\u4f18\u5316\u7d22\u5f15\uff0c\u907f\u514d\u8fc7\u591a\u6216\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#20","title":"20. \u7cfb\u7edf\u8fd0\u7ef4\u548c\u76d1\u63a7","text":"<p>20.1 \u76d1\u63a7\u548c\u62a5\u8b66</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u76d1\u63a7\u7cfb\u7edf\u672a\u80fd\u53ca\u65f6\u62a5\u544a\u6570\u636e\u5e93\u95ee\u9898\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u914d\u7f6e\u62a5\u8b66\uff1a\u8bbe\u7f6e\u5408\u9002\u7684\u62a5\u8b66\u89c4\u5219\uff0c\u786e\u4fdd\u53ca\u65f6\u83b7\u53d6\u6570\u636e\u5e93\u6027\u80fd\u548c\u5065\u5eb7\u72b6\u6001\u7684\u8b66\u62a5\u3002</li> <li>\u4f7f\u7528\u76d1\u63a7\u5de5\u5177\uff1a\u4f8b\u5982 MongoDB Atlas\u3001Prometheus \u7b49\uff0c\u8fdb\u884c\u5168\u9762\u7684\u7cfb\u7edf\u76d1\u63a7\u3002</li> </ul> <p>20.2 \u8d44\u6e90\u5229\u7528</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u7cfb\u7edf\u8d44\u6e90\uff08\u5982 CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\uff09\u5229\u7528\u7387\u8fc7\u9ad8\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u4f18\u5316\u67e5\u8be2\u548c\u7d22\u5f15\uff1a\u51cf\u5c11\u5bf9\u7cfb\u7edf\u8d44\u6e90\u7684\u6d88\u8017\u3002</li> <li>\u589e\u52a0\u786c\u4ef6\u8d44\u6e90\uff1a\u6839\u636e\u9700\u8981\u589e\u52a0\u670d\u52a1\u5668\u7684 CPU\u3001\u5185\u5b58\u6216\u78c1\u76d8\u5bb9\u91cf\u3002</li> <li>\u8d44\u6e90\u76d1\u63a7\uff1a\u4f7f\u7528 <code>mongostat</code> \u548c <code>mongotop</code> \u5de5\u5177\u76d1\u63a7\u8d44\u6e90\u5229\u7528\u60c5\u51b5\u3002     <code>bash     mongostat --host localhost     mongotop --host localhost</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/questions/#21","title":"21. \u5206\u7247\u7ba1\u7406","text":"<p>21.1 \u5206\u7247\u952e\u9009\u62e9</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u5206\u7247\u952e\u9009\u62e9\u4e0d\u5f53\uff0c\u5bfc\u81f4\u6570\u636e\u5206\u5e03\u4e0d\u5747\u6216\u70ed\u70b9\u95ee\u9898\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u9009\u62e9\u5408\u9002\u7684\u5206\u7247\u952e\uff1a\u6839\u636e\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u9009\u62e9\u80fd\u591f\u5747\u5300\u5206\u5e03\u6570\u636e\u7684\u5206\u7247\u952e\u3002</li> <li>\u91cd\u65b0\u5206\u7247\uff1a\u5982\u679c\u53d1\u73b0\u6570\u636e\u5206\u5e03\u4e0d\u5747\uff0c\u53ef\u4ee5\u8003\u8651\u91cd\u65b0\u5206\u7247\u3002     <code>javascript     sh.shardCollection(\"database.collection\", { shardKey: 1 });</code></li> </ul> <p>21.2 \u5206\u7247\u6570\u636e\u8fc1\u79fb</p> <ul> <li>\u95ee\u9898\uff1a</li> <li> <p>\u5206\u7247\u4e4b\u95f4\u7684\u6570\u636e\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u95ee\u9898\u3002</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> </li> <li>\u624b\u52a8\u8fc1\u79fb\u6570\u636e\uff1a\u4f7f\u7528 <code>sh.moveChunk()</code> \u5c06\u6570\u636e\u5757\u4ece\u4e00\u4e2a\u5206\u7247\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5206\u7247\u3002     <code>javascript     sh.moveChunk(\"database.collection\", { shardKey: value }, \"targetShard\");</code></li> <li>\u76d1\u63a7\u6570\u636e\u8fc1\u79fb\u8fdb\u5ea6\uff1a\u786e\u4fdd\u6570\u636e\u8fc1\u79fb\u8fc7\u7a0b\u6b63\u5e38\u8fdb\u884c\uff0c\u5e76\u76d1\u63a7\u8fc1\u79fb\u8fdb\u5ea6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/","title":"MySQL \u8fdb\u9636\u6559\u7a0b","text":"<p>MySQL \u8fdb\u9636\u6559\u7a0b\u6d89\u53ca\u6570\u636e\u5e93\u7684\u4f18\u5316\u3001\u67b6\u6784\u8bbe\u8ba1\u3001\u9ad8\u7ea7\u529f\u80fd\u7b49\u591a\u4e2a\u65b9\u9762\uff0c\u65e8\u5728\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u5730\u7406\u89e3\u548c\u4f7f\u7528 MySQL \u6570\u636e\u5e93\u3002\u4ee5\u4e0b\u662f\u5168\u9762\u4e14\u7ec6\u81f4\u7684\u8bb2\u89e3\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#1-mysql","title":"1. MySQL \u5f15\u64ce\u6982\u8ff0","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#myisam","title":"MyISAM","text":"<ul> <li>\u7279\u70b9\uff1aMyISAM \u662f MySQL \u7684\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\uff08MySQL 5.5 \u4e4b\u524d\uff09\uff0c\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u4f46\u8bfb\u6027\u80fd\u4f18\u5f02\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u8bfb\u64cd\u4f5c\u9891\u7e41\u3001\u5bf9\u4e8b\u52a1\u8981\u6c42\u4e0d\u9ad8\u7684\u5e94\u7528\uff0c\u5982\u6570\u636e\u5206\u6790\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#innodb","title":"InnoDB","text":"<ul> <li>\u7279\u70b9\uff1aInnoDB \u662f MySQL \u7684\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\uff08MySQL 5.5 \u4e4b\u540e\uff09\uff0c\u652f\u6301\u4e8b\u52a1\u3001\u884c\u7ea7\u9501\u548c\u5916\u952e\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u9700\u8981\u9ad8\u5e76\u53d1\u548c\u4e8b\u52a1\u652f\u6301\u7684\u5e94\u7528\uff0c\u5982\u5728\u7ebf\u4ea4\u6613\u5904\u7406\u7cfb\u7edf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#memory","title":"Memory","text":"<ul> <li>\u7279\u70b9\uff1a\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u901f\u5ea6\u6781\u5feb\uff0c\u4f46\u6570\u636e\u5728\u91cd\u542f\u540e\u4e22\u5931\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u4e34\u65f6\u6570\u636e\u5b58\u50a8\u548c\u9700\u8981\u5feb\u901f\u8bfb\u5199\u7684\u573a\u666f\uff0c\u5982\u7f13\u5b58\u8868\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#2-mysql","title":"2. MySQL \u7684\u4e8b\u52a1\u548c\u9501\u673a\u5236","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#acid","title":"\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027 (ACID)","text":"<ul> <li>\u539f\u5b50\u6027\uff1a\u4e8b\u52a1\u4e2d\u7684\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u56de\u6eda\u3002</li> <li>\u4e00\u81f4\u6027\uff1a\u4e8b\u52a1\u6267\u884c\u524d\u540e\uff0c\u6570\u636e\u5e93\u7684\u72b6\u6001\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\u3002</li> <li>\u9694\u79bb\u6027\uff1a\u591a\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u4e92\u4e0d\u5e72\u6270\u3002</li> <li>\u6301\u4e45\u6027\uff1a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u7ed3\u679c\u5c06\u6c38\u4e45\u4fdd\u5b58\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_1","title":"\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b","text":"<ul> <li>\u8bfb\u672a\u63d0\u4ea4 (Read Uncommitted)\uff1a\u6700\u4f4e\u7ea7\u522b\uff0c\u5141\u8bb8\u810f\u8bfb\uff0c\u6027\u80fd\u9ad8\u4f46\u4e0d\u5b89\u5168\u3002</li> <li>\u8bfb\u5df2\u63d0\u4ea4 (Read Committed)\uff1a\u5141\u8bb8\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u8f83\u5b89\u5168\u4f46\u53ef\u80fd\u51fa\u73b0\u5e7b\u8bfb\u3002</li> <li>\u53ef\u91cd\u590d\u8bfb (Repeatable Read)\uff1aMySQL \u9ed8\u8ba4\u7ea7\u522b\uff0c\u907f\u514d\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u4f46\u53ef\u80fd\u51fa\u73b0\u5e7b\u8bfb\u3002</li> <li>\u53ef\u4e32\u884c\u5316 (Serializable)\uff1a\u6700\u9ad8\u7ea7\u522b\uff0c\u5b8c\u5168\u907f\u514d\u5e76\u53d1\u95ee\u9898\uff0c\u4f46\u6027\u80fd\u6700\u4f4e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_2","title":"\u9501\u673a\u5236","text":"<ul> <li>\u884c\u7ea7\u9501\uff1a\u9501\u5b9a\u67d0\u4e00\u884c\u6570\u636e\uff0c\u9002\u5408\u9ad8\u5e76\u53d1\u73af\u5883\uff0c\u51cf\u5c11\u9501\u4e89\u7528\u3002</li> <li>\u8868\u7ea7\u9501\uff1a\u9501\u5b9a\u6574\u5f20\u8868\uff0c\u5f00\u9500\u8f83\u4f4e\uff0c\u4f46\u5e76\u53d1\u6027\u5dee\u3002</li> <li>\u610f\u5411\u9501\uff1a\u7528\u4e8e\u591a\u7c92\u5ea6\u9501\u5b9a\uff0c\u8868\u660e\u4e00\u4e2a\u4e8b\u52a1\u6709\u610f\u5411\u9501\u5b9a\u67d0\u4e9b\u884c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#3-mysql","title":"3. MySQL \u7d22\u5f15\u4f18\u5316","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_3","title":"\u7d22\u5f15\u7c7b\u578b","text":"<ul> <li>\u5355\u5217\u7d22\u5f15\uff1a\u4e3a\u5355\u4e2a\u5217\u521b\u5efa\u7d22\u5f15\uff0c\u9002\u7528\u4e8e\u7b80\u5355\u67e5\u8be2\u3002</li> <li>\u8054\u5408\u7d22\u5f15\uff1a\u4e3a\u591a\u4e2a\u5217\u521b\u5efa\u7684\u7d22\u5f15\uff0c\u9002\u7528\u4e8e\u590d\u5408\u67e5\u8be2\u3002</li> <li>\u8986\u76d6\u7d22\u5f15\uff1a\u67e5\u8be2\u7ed3\u679c\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u83b7\u5f97\uff0c\u65e0\u9700\u8bbf\u95ee\u8868\u6570\u636e\uff0c\u6027\u80fd\u4f18\u5f02\u3002</li> <li>\u524d\u7f00\u7d22\u5f15\uff1a\u5bf9\u5b57\u7b26\u5217\u7684\u524d\u7f00\u90e8\u5206\u521b\u5efa\u7d22\u5f15\uff0c\u51cf\u5c11\u7d22\u5f15\u5927\u5c0f\uff0c\u63d0\u5347\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_4","title":"\u7d22\u5f15\u4f18\u5316\u7b56\u7565","text":"<ul> <li>\u907f\u514d\u5197\u4f59\u7d22\u5f15\uff1a\u76f8\u4f3c\u7684\u7d22\u5f15\u4f1a\u589e\u52a0\u7ef4\u62a4\u6210\u672c\uff0c\u5e94\u8be5\u907f\u514d\u3002</li> <li>\u7d22\u5f15\u5217\u7684\u9009\u62e9\uff1a\u4f18\u5148\u4e3a\u9ad8\u9009\u62e9\u6027\u7684\u5217\u5efa\u7acb\u7d22\u5f15\uff0c\u5982\u4e3b\u952e\u3001\u552f\u4e00\u952e\u3002</li> <li>\u907f\u514d\u5168\u8868\u626b\u63cf\uff1a\u901a\u8fc7\u7d22\u5f15\u4f18\u5316\u67e5\u8be2\uff0c\u51cf\u5c11\u5168\u8868\u626b\u63cf\u7684\u53d1\u751f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#4-mysql","title":"4. MySQL \u67e5\u8be2\u4f18\u5316","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#explain","title":"\u67e5\u8be2\u8ba1\u5212 (EXPLAIN)","text":"<ul> <li>\u4f7f\u7528 EXPLAIN\uff1a\u67e5\u770b\u67e5\u8be2\u6267\u884c\u8ba1\u5212\uff0c\u4e86\u89e3\u67e5\u8be2\u4f18\u5316\u7684\u53ef\u80fd\u6027\u3002</li> <li>\u91cd\u8981\u5b57\u6bb5\u89e3\u91ca\uff1a</li> <li>type\uff1a\u8868\u793a\u67e5\u8be2\u7684\u7c7b\u578b\uff0c\u5982 <code>ALL</code> \u8868\u793a\u5168\u8868\u626b\u63cf\uff0c<code>index</code> \u8868\u793a\u7d22\u5f15\u626b\u63cf\uff0c<code>range</code> \u8868\u793a\u8303\u56f4\u67e5\u8be2\u3002</li> <li>key\uff1a\u4f7f\u7528\u7684\u7d22\u5f15\u3002</li> <li>rows\uff1aMySQL \u4f30\u7b97\u9700\u8981\u626b\u63cf\u7684\u884c\u6570\uff0c\u8d8a\u5c11\u8d8a\u597d\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_5","title":"\u67e5\u8be2\u4f18\u5316\u6280\u672f","text":"<ul> <li>\u7d22\u5f15\u8986\u76d6\u67e5\u8be2\uff1a\u786e\u4fdd\u67e5\u8be2\u5b57\u6bb5\u90fd\u5728\u7d22\u5f15\u4e2d\uff0c\u907f\u514d\u56de\u8868\u64cd\u4f5c\u3002</li> <li>\u5408\u7406\u4f7f\u7528\u8fde\u63a5\uff1a\u5c3d\u91cf\u51cf\u5c11\u8fde\u63a5\u8868\u7684\u6570\u91cf\uff0c\u5e76\u4e3a\u8fde\u63a5\u5b57\u6bb5\u5efa\u7acb\u7d22\u5f15\u3002</li> <li>\u5b50\u67e5\u8be2\u4f18\u5316\uff1a\u5c06\u5b50\u67e5\u8be2\u6539\u5199\u4e3a JOIN \u6216 EXISTS\uff0c\u63d0\u9ad8\u6548\u7387\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#5-mysql","title":"5. MySQL \u5b58\u50a8\u4e0e\u7ba1\u7406","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_6","title":"\u5206\u533a\u8868","text":"<ul> <li>\u7279\u70b9\uff1a\u5c06\u5927\u8868\u5206\u6210\u591a\u4e2a\u5c0f\u8868\uff0c\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u548c\u7ba1\u7406\u6548\u7387\u3002</li> <li>\u5206\u533a\u7c7b\u578b\uff1a</li> <li>Range Partitioning\uff1a\u6839\u636e\u8303\u56f4\u8fdb\u884c\u5206\u533a\uff0c\u5982\u6309\u65e5\u671f\u3002</li> <li>List Partitioning\uff1a\u6839\u636e\u9884\u5b9a\u4e49\u7684\u5217\u8868\u503c\u8fdb\u884c\u5206\u533a\u3002</li> <li>Hash Partitioning\uff1a\u6839\u636e\u54c8\u5e0c\u503c\u8fdb\u884c\u5206\u533a\uff0c\u9002\u7528\u4e8e\u5747\u5300\u5206\u5e03\u7684\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_7","title":"\u6570\u636e\u5907\u4efd","text":"<ul> <li>\u903b\u8f91\u5907\u4efd\uff1a\u4f7f\u7528 <code>mysqldump</code> \u8fdb\u884c\u6570\u636e\u5907\u4efd\uff0c\u9002\u5408\u5c0f\u578b\u6570\u636e\u5e93\u3002</li> <li>\u7269\u7406\u5907\u4efd\uff1a\u4f7f\u7528 <code>xtrabackup</code> \u8fdb\u884c\u7269\u7406\u5907\u4efd\uff0c\u9002\u5408\u5927\u89c4\u6a21\u6570\u636e\u5e93\uff0c\u5907\u4efd\u901f\u5ea6\u5feb\uff0c\u6570\u636e\u4e00\u81f4\u6027\u9ad8\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_8","title":"\u65e5\u5fd7\u7ba1\u7406","text":"<ul> <li>\u4e8c\u8fdb\u5236\u65e5\u5fd7 (binlog)\uff1a\u8bb0\u5f55\u6240\u6709\u66f4\u6539\u6570\u636e\u7684 SQL \u8bed\u53e5\uff0c\u7528\u4e8e\u590d\u5236\u548c\u6570\u636e\u6062\u590d\u3002</li> <li>\u9519\u8bef\u65e5\u5fd7 (error log)\uff1a\u8bb0\u5f55 MySQL \u542f\u52a8\u3001\u8fd0\u884c\u3001\u505c\u6b62\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\u4fe1\u606f\u3002</li> <li>\u6162\u67e5\u8be2\u65e5\u5fd7 (slow query log)\uff1a\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7 <code>long_query_time</code> \u7684 SQL \u8bed\u53e5\uff0c\u5e2e\u52a9\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#6-mysql","title":"6. MySQL \u9ad8\u53ef\u7528\u67b6\u6784","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_9","title":"\u4e3b\u4ece\u590d\u5236","text":"<ul> <li>\u7279\u70b9\uff1a\u901a\u8fc7\u590d\u5236\u4e3b\u5e93\u7684\u6570\u636e\u5230\u4ece\u5e93\uff0c\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u3002</li> <li>\u590d\u5236\u7c7b\u578b\uff1a</li> <li>\u5f02\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u4e0d\u7b49\u5f85\u4ece\u5e93\u54cd\u5e94\uff0c\u6027\u80fd\u9ad8\u4f46\u5b58\u5728\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u98ce\u9669\u3002</li> <li>\u534a\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u7b49\u5f85\u81f3\u5c11\u4e00\u4e2a\u4ece\u5e93\u63a5\u6536\u6210\u529f\uff0c\u517c\u987e\u6027\u80fd\u548c\u4e00\u81f4\u6027\u3002</li> <li>\u5168\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u7b49\u5f85\u6240\u6709\u4ece\u5e93\u90fd\u63a5\u6536\u6210\u529f\uff0c\u6570\u636e\u4e00\u81f4\u6027\u6700\u9ad8\uff0c\u4f46\u6027\u80fd\u4f4e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_10","title":"\u8bfb\u5199\u5206\u79bb","text":"<ul> <li>\u5b9e\u73b0\u65b9\u5f0f\uff1a\u901a\u8fc7\u5728\u5e94\u7528\u5c42\u6216\u4e2d\u95f4\u4ef6\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\uff0c\u8bfb\u64cd\u4f5c\u6307\u5411\u4ece\u5e93\uff0c\u5199\u64cd\u4f5c\u6307\u5411\u4e3b\u5e93\u3002</li> <li>\u4f18\u70b9\uff1a\u51cf\u8f7b\u4e3b\u5e93\u538b\u529b\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u6574\u4f53\u6027\u80fd\u548c\u53ef\u6269\u5c55\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_11","title":"\u9ad8\u53ef\u7528\u5de5\u5177","text":"<ul> <li>MHA (Master High Availability)\uff1a\u81ea\u52a8\u76d1\u63a7\u548c\u5207\u6362\u4e3b\u4ece\u6570\u636e\u5e93\uff0c\u5b9e\u73b0\u9ad8\u53ef\u7528\u3002</li> <li>MySQL Group Replication\uff1a\u5b9e\u73b0\u591a\u4e3b\u8282\u70b9\u4e4b\u95f4\u7684\u590d\u5236\u548c\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#7-mysql","title":"7. MySQL \u6027\u80fd\u4f18\u5316\u5de5\u5177","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_12","title":"\u6027\u80fd\u5206\u6790\u5de5\u5177","text":"<ul> <li>MySQL Enterprise Monitor\uff1a\u76d1\u63a7 MySQL \u5b9e\u4f8b\u7684\u8fd0\u884c\u72b6\u6001\u548c\u6027\u80fd\uff0c\u63d0\u4f9b\u4f18\u5316\u5efa\u8bae\u3002</li> <li>pt-query-digest\uff1a\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u627e\u51fa\u5f71\u54cd\u6027\u80fd\u7684 SQL \u8bed\u53e5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_13","title":"\u7f13\u5b58\u673a\u5236","text":"<ul> <li>\u67e5\u8be2\u7f13\u5b58\uff1a\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\uff0c\u9002\u7528\u4e8e\u91cd\u590d\u67e5\u8be2\u8f83\u591a\u7684\u573a\u666f\u3002</li> <li>InnoDB \u7f13\u51b2\u6c60\uff1a\u7f13\u5b58\u6570\u636e\u548c\u7d22\u5f15\uff0c\u51cf\u5c11\u78c1\u76d8 I/O\uff0c\u63d0\u9ad8\u8bfb\u5199\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_14","title":"\u7cfb\u7edf\u4f18\u5316","text":"<ul> <li>\u53c2\u6570\u8c03\u4f18\uff1a\u8c03\u6574 MySQL \u914d\u7f6e\u53c2\u6570\uff0c\u5982 <code>innodb_buffer_pool_size</code>\u3001<code>query_cache_size</code> \u7b49\uff0c\u4ee5\u9002\u5e94\u5b9e\u9645\u4e1a\u52a1\u9700\u6c42\u3002</li> <li>\u786c\u4ef6\u4f18\u5316\uff1a\u901a\u8fc7\u589e\u52a0\u5185\u5b58\u3001\u5347\u7ea7\u78c1\u76d8\uff08SSD\uff09\u3001\u63d0\u9ad8 CPU \u6027\u80fd\u7b49\u65b9\u5f0f\uff0c\u63d0\u5347 MySQL \u7684\u6574\u4f53\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#8-mysql","title":"8. MySQL \u5b89\u5168\u4e0e\u6743\u9650\u7ba1\u7406","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_15","title":"\u7528\u6237\u4e0e\u6743\u9650\u7ba1\u7406","text":"<ul> <li>\u521b\u5efa\u7528\u6237\uff1a\u901a\u8fc7 <code>CREATE USER</code> \u8bed\u53e5\u521b\u5efa\u7528\u6237\uff0c\u6307\u5b9a\u7528\u6237\u540d\u548c\u4e3b\u673a\u3002</li> <li>\u6388\u4e88\u6743\u9650\uff1a\u4f7f\u7528 <code>GRANT</code> \u8bed\u53e5\u6388\u4e88\u7528\u6237\u4e0d\u540c\u7ea7\u522b\u7684\u6743\u9650\uff0c\u5982 <code>SELECT</code>\u3001<code>INSERT</code>\u3001<code>UPDATE</code> \u7b49\u3002</li> <li>\u6743\u9650\u56de\u6536\uff1a\u901a\u8fc7 <code>REVOKE</code> \u8bed\u53e5\u56de\u6536\u7528\u6237\u7684\u6743\u9650\uff0c\u786e\u4fdd\u6570\u636e\u5e93\u5b89\u5168\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_16","title":"\u5b89\u5168\u52a0\u56fa","text":"<ul> <li>\u5bc6\u7801\u7b56\u7565\uff1a\u8bbe\u7f6e\u590d\u6742\u7684\u5bc6\u7801\u7b56\u7565\uff0c\u9632\u6b62\u66b4\u529b\u7834\u89e3\u3002</li> <li>SSL/TLS \u52a0\u5bc6\uff1a\u4f7f\u7528 SSL/TLS \u52a0\u5bc6 MySQL \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u4fdd\u62a4\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\u6027\u3002</li> <li>\u6570\u636e\u52a0\u5bc6\uff1a\u5bf9\u654f\u611f\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u5b58\u50a8\uff0c\u9632\u6b62\u6570\u636e\u6cc4\u9732\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#9-mysql","title":"9. MySQL \u5206\u5e03\u5f0f\u67b6\u6784","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#sharding","title":"\u5206\u7247 (Sharding)","text":"<ul> <li>\u6c34\u5e73\u5206\u7247\uff1a\u5c06\u6570\u636e\u6309\u4e00\u5b9a\u89c4\u5219\u6c34\u5e73\u5206\u5272\u5230\u4e0d\u540c\u7684\u7269\u7406\u8282\u70b9\u4e0a\uff0c\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u3002</li> <li>\u5782\u76f4\u5206\u7247\uff1a\u5c06\u4e0d\u540c\u7684\u8868\u6216\u5217\u5206\u5272\u5230\u4e0d\u540c\u7684\u6570\u636e\u5e93\u5b9e\u4f8b\u4e2d\uff0c\u51cf\u5c11\u5355\u5e93\u538b\u529b\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_17","title":"\u5206\u5e03\u5f0f\u4e8b\u52a1","text":"<ul> <li>\u4e24\u9636\u6bb5\u63d0\u4ea4 (2PC)\uff1a\u901a\u8fc7\u9884\u63d0\u4ea4\u548c\u63d0\u4ea4\u4e24\u4e2a\u9636\u6bb5\u786e\u4fdd\u5206\u5e03\u5f0f\u4e8b\u52a1\u7684\u4e00\u81f4\u6027\u3002</li> <li>Paxos/Raft \u7b97\u6cd5\uff1a\u901a\u8fc7\u4e00\u81f4\u6027\u7b97\u6cd5\u786e\u4fdd\u591a\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#10-mysql","title":"10. MySQL \u793e\u533a\u4e0e\u8d44\u6e90","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_18","title":"\u5b98\u65b9\u6587\u6863\u4e0e\u793e\u533a","text":"<ul> <li>MySQL \u5b98\u65b9\u6587\u6863\uff1a\u6700\u5168\u9762\u7684 MySQL \u53c2\u8003\u8d44\u6599\uff0c\u6db5\u76d6 MySQL \u7684\u5404\u4e2a\u65b9\u9762\u3002</li> <li>MySQL \u793e\u533a\uff1a\u901a\u8fc7\u793e\u533a\u8bba\u575b\u3001\u535a\u5ba2\u3001\u4f1a\u8bae\u7b49\u83b7\u53d6\u6700\u65b0\u7684 MySQL \u8d44\u8baf\u548c\u6280\u672f\u5206\u4eab\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#_19","title":"\u5f00\u6e90\u5de5\u5177","text":"<ul> <li>Percona Toolkit\uff1a\u4e00\u7ec4\u7528\u4e8e MySQL \u7ba1\u7406\u548c\u4f18\u5316\u7684\u5f00\u6e90\u5de5\u5177\uff0c\u5982 pt-query-digest\u3001pt-archiver \u7b49\u3002</li> <li>ProxySQL\uff1a\u4e00\u6b3e\u9ad8\u6027\u80fd\u7684 MySQL \u4ee3\u7406\uff0c\u7528\u4e8e\u8bfb\u5199\u5206\u79bb\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u67e5\u8be2\u7f13\u5b58\u7b49\u3002</li> </ul> <p>\u4e3a\u4e86\u7ee7\u7eed\u6df1\u5165\u5b66\u4e60 MySQL \u8fdb\u9636\u5185\u5bb9\uff0c\u4ee5\u4e0b\u662f\u66f4\u591a\u5168\u9762\u4e14\u7ec6\u81f4\u7684\u8bb2\u89e3\u5185\u5bb9\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#1-partitioned-tables","title":"1. \u5206\u533a\u8868\uff08Partitioned Tables\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u5206\u533a\u8868\u662f\u4e00\u79cd\u5c06\u6570\u636e\u8868\u6309\u7167\u67d0\u4e2a\u6216\u67d0\u4e9b\u5217\u7684\u503c\u8fdb\u884c\u7269\u7406\u5206\u5272\u7684\u6280\u672f\uff0c\u6709\u52a9\u4e8e\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u548c\u7ba1\u7406\u5927\u6570\u636e\u91cf\u7684\u8868\u3002</li> <li>\u7c7b\u578b\uff1a<ul> <li>Range Partitioning\uff1a\u6839\u636e\u503c\u7684\u8303\u56f4\u8fdb\u884c\u5206\u533a\u3002</li> <li>List Partitioning\uff1a\u6839\u636e\u9884\u5b9a\u4e49\u7684\u5217\u8868\u503c\u8fdb\u884c\u5206\u533a\u3002</li> <li>Hash Partitioning\uff1a\u6839\u636e\u54c8\u5e0c\u51fd\u6570\u7684\u7ed3\u679c\u8fdb\u884c\u5206\u533a\u3002</li> <li>Key Partitioning\uff1a\u7c7b\u4f3c\u4e8e\u54c8\u5e0c\u5206\u533a\uff0c\u4f46\u4f7f\u7528\u7684\u662f MySQL \u7684\u5185\u5efa\u51fd\u6570\u3002</li> </ul> </li> <li>\u5b9e\u73b0\uff1a<code>CREATE TABLE</code> \u8bed\u53e5\u4e2d\u4f7f\u7528 <code>PARTITION BY</code> \u5173\u952e\u5b57\u5b9a\u4e49\u5206\u533a\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#2-query-cache","title":"2. \u67e5\u8be2\u7f13\u5b58\uff08Query Cache\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u67e5\u8be2\u7f13\u5b58\u7528\u4e8e\u5b58\u50a8 SELECT \u67e5\u8be2\u7684\u7ed3\u679c\uff0c\u4ece\u800c\u52a0\u901f\u76f8\u540c\u67e5\u8be2\u7684\u6267\u884c\u901f\u5ea6\u3002</li> <li>\u914d\u7f6e\uff1a<ul> <li>\u542f\u7528/\u7981\u7528\uff1a\u901a\u8fc7 <code>query_cache_type</code> \u53c2\u6570\u8bbe\u7f6e\u3002</li> <li>\u7f13\u5b58\u5927\u5c0f\uff1a\u901a\u8fc7 <code>query_cache_size</code> \u8bbe\u7f6e\u7f13\u5b58\u7684\u5927\u5c0f\u3002</li> <li>\u4f18\u5316\uff1a\u5728\u9ad8\u5e76\u53d1\u4e0b\uff0c\u67e5\u8be2\u7f13\u5b58\u7684\u9501\u7ade\u4e89\u53ef\u80fd\u6210\u4e3a\u74f6\u9888\uff0c\u56e0\u6b64\u5728\u4e00\u4e9b\u573a\u666f\u4e0b\u53ef\u80fd\u4e0d\u9002\u5408\u5f00\u542f\u67e5\u8be2\u7f13\u5b58\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#3-full-text-search","title":"3. \u5168\u6587\u641c\u7d22\uff08Full-Text Search\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u5168\u6587\u641c\u7d22\u662f MySQL \u63d0\u4f9b\u7684\u4e00\u79cd\u5bf9\u6587\u672c\u5b57\u6bb5\u8fdb\u884c\u5168\u6587\u7d22\u5f15\u548c\u641c\u7d22\u7684\u6280\u672f\uff0c\u9002\u7528\u4e8e\u641c\u7d22\u5927\u91cf\u6587\u672c\u5185\u5bb9\u3002</li> <li>\u5b9e\u73b0\uff1a<ul> <li>\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff1a\u4f7f\u7528 <code>FULLTEXT</code> \u5173\u952e\u5b57\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002</li> <li>\u641c\u7d22\uff1a\u4f7f\u7528 <code>MATCH() ... AGAINST()</code> \u8bed\u53e5\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002</li> </ul> </li> <li>\u4f18\u5316\uff1a<ul> <li>Stopwords\uff1a\u914d\u7f6e\u81ea\u5b9a\u4e49\u7684\u505c\u7528\u8bcd\u5217\u8868\uff0c\u8fc7\u6ee4\u65e0\u610f\u4e49\u7684\u8bcd\u6c47\u3002</li> <li>N-gram\uff1a\u5bf9\u4e8e\u4e2d\u6587\u7b49\u65e0\u7a7a\u683c\u7684\u8bed\u8a00\uff0c\u4f7f\u7528 N-gram \u5206\u8bcd\u7b56\u7565\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#4-high-availability-architecture","title":"4. \u9ad8\u53ef\u7528\u67b6\u6784\uff08High Availability Architecture\uff09","text":"<ul> <li>\u4e3b\u4ece\u590d\u5236\uff08Master-Slave Replication\uff09\uff1a<ul> <li>\u5f02\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u5199\u64cd\u4f5c\u5b9e\u65f6\u590d\u5236\u5230\u4ece\u5e93\uff0c\u4e3b\u4ece\u4e4b\u95f4\u6709\u5ef6\u8fdf\u3002</li> <li>\u534a\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u5728\u786e\u8ba4\u81f3\u5c11\u4e00\u4e2a\u4ece\u5e93\u63a5\u6536\u65e5\u5fd7\u540e\u624d\u63d0\u4ea4\u4e8b\u52a1\u3002</li> </ul> </li> <li>\u53cc\u4e3b\u590d\u5236\uff08Master-Master Replication\uff09\uff1a\u4e24\u4e2a\u4e3b\u5e93\u4e92\u4e3a\u4ece\u5e93\uff0c\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u548c\u9ad8\u53ef\u7528\u6027\u3002</li> <li>\u6545\u969c\u5207\u6362\uff08Failover\uff09\uff1a\u4f7f\u7528\u81ea\u52a8\u5316\u5de5\u5177\uff08\u5982 MHA\uff09\u5728\u4e3b\u5e93\u6545\u969c\u65f6\u81ea\u52a8\u5207\u6362\u5230\u4ece\u5e93\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#5-distributed-database","title":"5. \u5206\u5e03\u5f0f\u6570\u636e\u5e93\uff08Distributed Database\uff09","text":"<ul> <li>\u5206\u7247\uff08Sharding\uff09\uff1a<ul> <li>\u6c34\u5e73\u5206\u7247\uff1a\u6839\u636e\u67d0\u4e2a\u952e\u503c\u5c06\u6570\u636e\u6c34\u5e73\u5207\u5206\u5230\u591a\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u4e2d\u3002</li> <li>\u5782\u76f4\u5206\u7247\uff1a\u6839\u636e\u8868\u7684\u5217\u8fdb\u884c\u5206\u7247\uff0c\u5c06\u4e0d\u540c\u7684\u5217\u5b58\u50a8\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u3002</li> </ul> </li> <li>\u6570\u636e\u4e00\u81f4\u6027\uff1a\u4f7f\u7528\u5206\u5e03\u5f0f\u4e8b\u52a1\u6216 CAP \u7406\u8bba\u4e2d\u7684\u4e0d\u540c\u7b56\u7565\uff08\u5982 BASE \u7406\u8bba\uff09\u6765\u5904\u7406\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#6-performance-tuning","title":"6. \u6027\u80fd\u4f18\u5316\uff08Performance Tuning\uff09","text":"<ul> <li>\u7d22\u5f15\u4f18\u5316\uff1a<ul> <li>\u8986\u76d6\u7d22\u5f15\uff1a\u901a\u8fc7\u9009\u62e9\u9002\u5f53\u7684\u7d22\u5f15\uff0c\u4f7f\u67e5\u8be2\u80fd\u591f\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u83b7\u53d6\u6240\u9700\u6570\u636e\uff0c\u907f\u514d\u56de\u8868\u3002</li> <li>\u7d22\u5f15\u9009\u62e9\u6027\uff1a\u7d22\u5f15\u9009\u62e9\u6027\u8d8a\u9ad8\uff0c\u67e5\u8be2\u6027\u80fd\u8d8a\u597d\u3002\u4f18\u5316\u7d22\u5f15\u5217\u7684\u987a\u5e8f\uff0c\u4ee5\u63d0\u9ad8\u9009\u62e9\u6027\u3002</li> </ul> </li> <li>\u67e5\u8be2\u4f18\u5316\uff1a<ul> <li>\u5b50\u67e5\u8be2\u4f18\u5316\uff1a\u5c06\u5b50\u67e5\u8be2\u8f6c\u6362\u4e3a\u8fde\u63a5\uff08JOIN\uff09\uff0c\u51cf\u5c11\u6267\u884c\u65f6\u95f4\u3002</li> <li>\u5ef6\u8fdf\u5173\u8054\uff08Delayed Association\uff09\uff1a\u5148\u8fdb\u884c\u7b5b\u9009\uff0c\u518d\u8fdb\u884c\u5173\u8054\u64cd\u4f5c\uff0c\u51cf\u5c11\u6570\u636e\u96c6\u7684\u5927\u5c0f\u3002</li> </ul> </li> <li>\u670d\u52a1\u5668\u4f18\u5316\uff1a<ul> <li>\u5185\u5b58\u914d\u7f6e\uff1a\u8c03\u6574 InnoDB \u7f13\u51b2\u6c60\u5927\u5c0f\u3001\u67e5\u8be2\u7f13\u5b58\u5927\u5c0f\u3001\u6392\u5e8f\u7f13\u5b58\u5927\u5c0f\u7b49\u53c2\u6570\u3002</li> <li>\u8fde\u63a5\u6570\u9650\u5236\uff1a\u901a\u8fc7\u8c03\u6574 <code>max_connections</code> \u53c2\u6570\uff0c\u4f18\u5316\u670d\u52a1\u5668\u7684\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#7-security","title":"7. \u5b89\u5168\u6027\uff08Security\uff09","text":"<ul> <li>\u7528\u6237\u7ba1\u7406\uff1a\u7ec6\u7c92\u5ea6\u5730\u63a7\u5236\u7528\u6237\u6743\u9650\uff0c\u907f\u514d\u6743\u9650\u6ee5\u7528\u3002</li> <li>\u6570\u636e\u52a0\u5bc6\uff1a\u5bf9\u654f\u611f\u6570\u636e\u8fdb\u884c\u9759\u6001\u52a0\u5bc6\u548c\u4f20\u8f93\u52a0\u5bc6\uff0c\u4fdd\u969c\u6570\u636e\u5b89\u5168\u3002</li> <li>\u5ba1\u8ba1\u65e5\u5fd7\uff1a\u542f\u7528 MySQL \u5ba1\u8ba1\u65e5\u5fd7\uff0c\u8ddf\u8e2a\u548c\u8bb0\u5f55\u6240\u6709\u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u6ee1\u8db3\u5408\u89c4\u6027\u8981\u6c42\u3002</li> </ul> <p>\u4e0b\u9762\u662f\u66f4\u591a MySQL \u8fdb\u9636\u6559\u7a0b\u7684\u5185\u5bb9\uff0c\u8fdb\u4e00\u6b65\u6df1\u5165\u8bb2\u89e3 MySQL \u7684\u9ad8\u7ea7\u529f\u80fd\u548c\u5e94\u7528\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#8-locking-mechanism","title":"8. \u9501\u673a\u5236\uff08Locking Mechanism\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aMySQL \u9501\u673a\u5236\u7528\u4e8e\u4fdd\u8bc1\u591a\u4e8b\u52a1\u5e76\u53d1\u6267\u884c\u65f6\u7684\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002</li> <li>\u7c7b\u578b\uff1a<ul> <li>\u8868\u7ea7\u9501\uff08Table-level Locking\uff09\uff1a\u5305\u62ec\u8bfb\u9501\u548c\u5199\u9501\uff0c\u9002\u7528\u4e8e MyISAM \u5b58\u50a8\u5f15\u64ce\u3002</li> <li>\u884c\u7ea7\u9501\uff08Row-level Locking\uff09\uff1a\u5728 InnoDB \u4e2d\u5b9e\u73b0\uff0c\u7ec6\u7c92\u5ea6\u9501\u5b9a\u5177\u4f53\u884c\uff0c\u51cf\u5c11\u9501\u4e89\u7528\u3002</li> <li>\u610f\u5411\u9501\uff08Intention Locking\uff09\uff1a\u610f\u5411\u9501\u7528\u4e8e\u8868\u660e\u4e8b\u52a1\u7684\u9501\u5b9a\u610f\u56fe\uff0c\u63d0\u5347\u9501\u7684\u7ba1\u7406\u6548\u7387\u3002</li> </ul> </li> <li>\u6b7b\u9501\u68c0\u6d4b\u548c\u5904\u7406\uff1aInnoDB \u5f15\u64ce\u901a\u8fc7\u5faa\u73af\u7b49\u5f85\u68c0\u6d4b\u673a\u5236\u53d1\u73b0\u6b7b\u9501\uff0c\u5e76\u81ea\u52a8\u56de\u6eda\u6b7b\u9501\u4e2d\u7684\u4e00\u4e2a\u4e8b\u52a1\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#9-transaction-isolation-levels","title":"9. \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff08Transaction Isolation Levels\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u51b3\u5b9a\u4e86\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u5176\u4ed6\u4e8b\u52a1\u7684\u53ef\u89c1\u6027\uff0c\u76f4\u63a5\u5f71\u54cd\u5e76\u53d1\u63a7\u5236\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002</li> <li>\u56db\u79cd\u9694\u79bb\u7ea7\u522b\uff1a<ul> <li>\u8bfb\u672a\u63d0\u4ea4\uff08Read Uncommitted\uff09\uff1a\u6700\u4f4e\u7ea7\u522b\uff0c\u4e8b\u52a1\u53ef\u4ee5\u770b\u5230\u5176\u4ed6\u672a\u63d0\u4ea4\u4e8b\u52a1\u7684\u66f4\u6539\uff0c\u53ef\u80fd\u5bfc\u81f4\u810f\u8bfb\u3002</li> <li>\u8bfb\u5df2\u63d0\u4ea4\uff08Read Committed\uff09\uff1a\u4e00\u4e2a\u4e8b\u52a1\u53ea\u80fd\u770b\u5230\u5176\u4ed6\u4e8b\u52a1\u5df2\u7ecf\u63d0\u4ea4\u7684\u66f4\u6539\uff0c\u9632\u6b62\u810f\u8bfb\uff0c\u4f46\u53ef\u80fd\u53d1\u751f\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</li> <li>\u53ef\u91cd\u590d\u8bfb\uff08Repeatable Read\uff09\uff1a\u4fdd\u8bc1\u4e00\u4e2a\u4e8b\u52a1\u5728\u8bfb\u53d6\u540c\u4e00\u884c\u65f6\u770b\u5230\u76f8\u540c\u7684\u6570\u636e\uff0c\u9632\u6b62\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0cInnoDB \u7684\u9ed8\u8ba4\u7ea7\u522b\u3002</li> <li>\u4e32\u884c\u5316\uff08Serializable\uff09\uff1a\u6700\u9ad8\u7ea7\u522b\uff0c\u4e8b\u52a1\u987a\u5e8f\u6267\u884c\uff0c\u5b8c\u5168\u9632\u6b62\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\uff0c\u4f46\u5e76\u53d1\u6027\u80fd\u6700\u5dee\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#10-stored-procedures-and-triggers","title":"10. \u5b58\u50a8\u8fc7\u7a0b\u548c\u89e6\u53d1\u5668\uff08Stored Procedures and Triggers\uff09","text":"<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff08Stored Procedures\uff09\uff1a<ul> <li>\u6982\u5ff5\uff1a\u5b58\u50a8\u8fc7\u7a0b\u662f\u9884\u7f16\u8bd1\u7684 SQL \u4ee3\u7801\u5757\uff0c\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u91cd\u7528\u6027\u548c\u6267\u884c\u6548\u7387\u3002</li> <li>\u521b\u5efa\u548c\u8c03\u7528\uff1a\u4f7f\u7528 <code>CREATE PROCEDURE</code> \u521b\u5efa\uff0c\u4f7f\u7528 <code>CALL</code> \u8c03\u7528\u3002</li> <li>\u4f18\u70b9\uff1a\u51cf\u5c11\u7f51\u7edc\u6d41\u91cf\u3001\u63d0\u9ad8\u5b89\u5168\u6027\u3001\u5c01\u88c5\u4e1a\u52a1\u903b\u8f91\u3002</li> </ul> </li> <li>\u89e6\u53d1\u5668\uff08Triggers\uff09\uff1a<ul> <li>\u6982\u5ff5\uff1a\u89e6\u53d1\u5668\u662f\u5728\u67d0\u4e2a\u8868\u7684 INSERT\u3001UPDATE \u6216 DELETE \u64cd\u4f5c\u89e6\u53d1\u65f6\u81ea\u52a8\u6267\u884c\u7684 SQL \u4ee3\u7801\u3002</li> <li>\u521b\u5efa\u548c\u4f7f\u7528\uff1a\u4f7f\u7528 <code>CREATE TRIGGER</code> \u521b\u5efa\u89e6\u53d1\u5668\uff0c\u53ef\u7528\u4e8e\u81ea\u52a8\u5316\u6570\u636e\u64cd\u4f5c\u548c\u65e5\u5fd7\u8bb0\u5f55\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#11-views","title":"11. \u89c6\u56fe\uff08Views\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u89c6\u56fe\u662f\u57fa\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u7684\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u865a\u62df\u8868\uff0c\u7b80\u5316\u590d\u6742\u67e5\u8be2\u548c\u63d0\u9ad8\u5b89\u5168\u6027\u3002</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u7b80\u5316\u67e5\u8be2\uff1a\u5c06\u590d\u6742\u7684 SQL \u67e5\u8be2\u5c01\u88c5\u6210\u89c6\u56fe\uff0c\u65b9\u4fbf\u540e\u7eed\u8c03\u7528\u3002</li> <li>\u6570\u636e\u5b89\u5168\uff1a\u9650\u5236\u7528\u6237\u5bf9\u57fa\u7840\u8868\u7684\u76f4\u63a5\u8bbf\u95ee\uff0c\u4ec5\u901a\u8fc7\u89c6\u56fe\u8bbf\u95ee\u6570\u636e\u3002</li> </ul> </li> <li>\u9650\u5236\uff1a\u89c6\u56fe\u901a\u5e38\u4e0d\u53ef\u66f4\u65b0\uff0c\u5c24\u5176\u662f\u6d89\u53ca\u805a\u5408\u3001\u5b50\u67e5\u8be2\u6216\u8fde\u63a5\u64cd\u4f5c\u65f6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#12-backup-and-recovery","title":"12. \u5907\u4efd\u4e0e\u6062\u590d\uff08Backup and Recovery\uff09","text":"<ul> <li>\u903b\u8f91\u5907\u4efd\uff1a<ul> <li>mysqldump\uff1a\u901a\u8fc7\u5bfc\u51fa SQL \u811a\u672c\u7684\u65b9\u5f0f\u8fdb\u884c\u5907\u4efd\uff0c\u9002\u7528\u4e8e\u5c0f\u578b\u6570\u636e\u5e93\u3002</li> <li>MySQL Workbench\uff1a\u63d0\u4f9b\u56fe\u5f62\u5316\u5de5\u5177\u8fdb\u884c\u6570\u636e\u5e93\u5907\u4efd\u548c\u6062\u590d\u3002</li> </ul> </li> <li>\u7269\u7406\u5907\u4efd\uff1a<ul> <li>XtraBackup\uff1a\u9488\u5bf9 InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u7269\u7406\u5907\u4efd\u5de5\u5177\uff0c\u652f\u6301\u70ed\u5907\u4efd\u548c\u589e\u91cf\u5907\u4efd\u3002</li> <li>LVM \u5feb\u7167\uff1a\u901a\u8fc7 LVM \u5feb\u7167\u6280\u672f\u5bf9\u6570\u636e\u5e93\u6587\u4ef6\u7cfb\u7edf\u8fdb\u884c\u5907\u4efd\uff0c\u9002\u7528\u4e8e\u5927\u6570\u636e\u91cf\u573a\u666f\u3002</li> </ul> </li> <li>\u6062\u590d\uff1a<ul> <li>\u5b8c\u6574\u6062\u590d\uff1a\u901a\u8fc7 <code>mysql</code> \u547d\u4ee4\u6267\u884c SQL \u811a\u672c\u8fdb\u884c\u6062\u590d\u3002</li> <li>\u65f6\u95f4\u70b9\u6062\u590d\uff1a\u4f7f\u7528 binlog \u8fdb\u884c\u65f6\u95f4\u70b9\u6062\u590d\uff0c\u6307\u5b9a\u6062\u590d\u5230\u67d0\u4e00\u5177\u4f53\u65f6\u95f4\u70b9\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#13-query-optimizer","title":"13. \u67e5\u8be2\u4f18\u5316\u5668\uff08Query Optimizer\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u67e5\u8be2\u4f18\u5316\u5668\u662f MySQL \u7528\u4e8e\u51b3\u5b9a\u6700\u4f18\u67e5\u8be2\u6267\u884c\u8ba1\u5212\u7684\u7ec4\u4ef6\uff0c\u901a\u8fc7\u9009\u62e9\u6700\u4f18\u7684\u6267\u884c\u8def\u5f84\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002</li> <li>\u6267\u884c\u8ba1\u5212\u67e5\u770b\uff1a\u4f7f\u7528 <code>EXPLAIN</code> \u5173\u952e\u5b57\u67e5\u770b SQL \u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\u3002</li> <li>\u4f18\u5316\u5668\u63d0\u793a\uff08Optimizer Hints\uff09\uff1a<ul> <li>\u901a\u8fc7\u6307\u5b9a\u4f18\u5316\u5668\u63d0\u793a\uff0c\u53ef\u4ee5\u5f71\u54cd\u67e5\u8be2\u4f18\u5316\u5668\u7684\u9009\u62e9\uff0c\u4f8b\u5982\u4f7f\u7528 <code>STRAIGHT_JOIN</code> \u5f3a\u5236\u4f7f\u7528\u6307\u5b9a\u7684\u8fde\u63a5\u987a\u5e8f\u3002</li> </ul> </li> <li>\u7edf\u8ba1\u4fe1\u606f\uff1a\u4f18\u5316\u5668\u4f9d\u8d56\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u6765\u505a\u51fa\u51b3\u7b56\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>ANALYZE TABLE</code> \u66f4\u65b0\u7edf\u8ba1\u4fe1\u606f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#14-handling-large-datasets","title":"14. \u5927\u6570\u636e\u91cf\u5904\u7406\uff08Handling Large Datasets\uff09","text":"<ul> <li>\u5206\u533a\u8868\uff1a\u5206\u533a\u8868\u53ef\u4ee5\u663e\u8457\u63d0\u5347\u5927\u6570\u636e\u91cf\u4e0b\u7684\u67e5\u8be2\u548c\u7ef4\u62a4\u6548\u7387\u3002</li> <li>\u5206\u5e03\u5f0f\u6570\u636e\u5e93\uff1a\u901a\u8fc7\u5206\u7247\u6280\u672f\u5c06\u6570\u636e\u6c34\u5e73\u62c6\u5206\u5230\u591a\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u4e2d\u3002</li> <li>\u5f52\u6863\u8868\uff1a\u4f7f\u7528\u5f52\u6863\u8868\u5b58\u50a8\u5386\u53f2\u6570\u636e\uff0c\u51cf\u5c11\u4e3b\u8868\u6570\u636e\u91cf\uff0c\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002</li> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u9488\u5bf9\u5927\u6570\u636e\u91cf\u7684\u8868\uff0c\u9002\u5f53\u8c03\u6574\u7d22\u5f15\u7ed3\u6784\uff0c\u51cf\u5c11\u78c1\u76d8 I/O\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#15-handling-high-concurrency","title":"15. \u9ad8\u5e76\u53d1\u5904\u7406\uff08Handling High Concurrency\uff09","text":"<ul> <li>\u8fde\u63a5\u6c60\uff08Connection Pooling\uff09\uff1a<ul> <li>\u901a\u8fc7\u4f7f\u7528\u8fde\u63a5\u6c60\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u8fde\u63a5\u7684\u521b\u5efa\u548c\u9500\u6bc1\u7684\u5f00\u9500\uff0c\u63d0\u5347\u6570\u636e\u5e93\u6027\u80fd\u3002</li> </ul> </li> <li>\u8bfb\u5199\u5206\u79bb\uff08Read-Write Splitting\uff09\uff1a<ul> <li>\u4f7f\u7528\u4e3b\u4ece\u590d\u5236\u7684\u67b6\u6784\uff0c\u5c06\u8bfb\u64cd\u4f5c\u5206\u53d1\u5230\u4ece\u5e93\uff0c\u51cf\u8f7b\u4e3b\u5e93\u538b\u529b\u3002</li> </ul> </li> <li>\u5ef6\u8fdf\u52a0\u8f7d\uff08Lazy Loading\uff09\uff1a<ul> <li>\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e2d\uff0c\u5ef6\u8fdf\u52a0\u8f7d\u53ef\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u52a0\u8f7d\uff0c\u63d0\u9ad8\u54cd\u5e94\u901f\u5ea6\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#16-log-management","title":"16. \u65e5\u5fd7\u7ba1\u7406\uff08Log Management\uff09","text":"<ul> <li>\u9519\u8bef\u65e5\u5fd7\uff08Error Log\uff09\uff1a\u8bb0\u5f55 MySQL \u670d\u52a1\u5668\u7684\u542f\u52a8\u3001\u8fd0\u884c\u548c\u5173\u95ed\u65f6\u4ea7\u751f\u7684\u9519\u8bef\u4fe1\u606f\u3002</li> <li>\u67e5\u8be2\u65e5\u5fd7\uff08General Query Log\uff09\uff1a\u8bb0\u5f55\u6240\u6709\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u548c\u6267\u884c\u7684 SQL \u8bed\u53e5\uff0c\u9002\u5408\u8c03\u8bd5\u4f7f\u7528\u3002</li> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\uff08Slow Query Log\uff09\uff1a\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u9608\u503c\u7684\u67e5\u8be2\uff0c\u5e2e\u52a9\u5b9a\u4f4d\u6027\u80fd\u74f6\u9888\u3002</li> <li>\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08Binary Log\uff09\uff1a<ul> <li>\u8bb0\u5f55\u6240\u6709\u5bfc\u81f4\u6570\u636e\u53d8\u66f4\u7684 SQL \u8bed\u53e5\uff0c\u4e3b\u8981\u7528\u4e8e\u590d\u5236\u548c\u6062\u590d\u3002</li> <li>\u53ef\u901a\u8fc7 <code>mysqlbinlog</code> \u5de5\u5177\u5206\u6790\u548c\u91cd\u653e\u4e8c\u8fdb\u5236\u65e5\u5fd7\u3002</li> </ul> </li> </ul> <p>\u8fd9\u91cc\u662f\u66f4\u591a MySQL \u8fdb\u9636\u6559\u7a0b\u7684\u5185\u5bb9\uff0c\u8fdb\u4e00\u6b65\u6df1\u5165\u8bb2\u89e3 MySQL \u7684\u9ad8\u7ea7\u7279\u6027\u548c\u5e94\u7528\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#17-table-partitioning","title":"17. \u8868\u5206\u533a\uff08Table Partitioning\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u8868\u5206\u533a\u5c06\u4e00\u4e2a\u8868\u7684\u6570\u636e\u6309\u67d0\u79cd\u89c4\u5219\u5212\u5206\u6210\u591a\u4e2a\u66f4\u5c0f\u7684\u90e8\u5206\uff08\u5206\u533a\uff09\uff0c\u6bcf\u4e2a\u5206\u533a\u53ef\u4ee5\u72ec\u7acb\u5b58\u50a8\u548c\u7ba1\u7406\u3002</li> <li>\u5206\u533a\u7c7b\u578b\uff1a<ul> <li>\u8303\u56f4\u5206\u533a\uff08RANGE Partitioning\uff09\uff1a\u57fa\u4e8e\u5217\u503c\u8303\u56f4\u5212\u5206\uff0c\u5982\u6309\u65e5\u671f\u8303\u56f4\u5206\u533a\u3002</li> <li>\u5217\u8868\u5206\u533a\uff08LIST Partitioning\uff09\uff1a\u57fa\u4e8e\u7279\u5b9a\u7684\u5217\u503c\u5217\u8868\u8fdb\u884c\u5206\u533a\u3002</li> <li>\u54c8\u5e0c\u5206\u533a\uff08HASH Partitioning\uff09\uff1a\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u5bf9\u5217\u503c\u8fdb\u884c\u5206\u533a\uff0c\u6570\u636e\u5747\u5300\u5206\u5e03\u3002</li> <li>\u952e\u5206\u533a\uff08KEY Partitioning\uff09\uff1a\u7c7b\u4f3c\u54c8\u5e0c\u5206\u533a\uff0c\u4f46\u4f7f\u7528\u7cfb\u7edf\u9884\u5b9a\u4e49\u7684\u54c8\u5e0c\u51fd\u6570\u3002</li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u6027\u80fd\u4f18\u5316\uff1a\u67e5\u8be2\u65f6\u53ea\u9700\u8bbf\u95ee\u76f8\u5173\u5206\u533a\uff0c\u51cf\u5c11 I/O \u64cd\u4f5c\u3002</li> <li>\u7ba1\u7406\u65b9\u4fbf\uff1a\u53ef\u4ee5\u72ec\u7acb\u7ba1\u7406\u548c\u7ef4\u62a4\u6bcf\u4e2a\u5206\u533a\uff0c\u63d0\u5347\u7ef4\u62a4\u6548\u7387\u3002</li> <li>\u6570\u636e\u5f52\u6863\uff1a\u8001\u65e7\u6570\u636e\u53ef\u4ee5\u8f7b\u677e\u5f52\u6863\u6216\u5220\u9664\uff0c\u4fdd\u6301\u4e3b\u8868\u6570\u636e\u65b0\u9c9c\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#18-innodb-adaptive-hash-indexing","title":"18. InnoDB \u81ea\u9002\u5e94\u54c8\u5e0c\u7d22\u5f15\uff08Adaptive Hash Indexing\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aInnoDB \u5b58\u50a8\u5f15\u64ce\u4f1a\u5728\u8868\u7684 B-Tree \u7d22\u5f15\u4e0a\u81ea\u52a8\u521b\u5efa\u54c8\u5e0c\u7d22\u5f15\uff0c\u4ee5\u52a0\u901f\u67d0\u4e9b\u67e5\u8be2\u64cd\u4f5c\u3002</li> <li>\u5de5\u4f5c\u539f\u7406\uff1a\u5f53 InnoDB \u68c0\u6d4b\u5230\u67d0\u4e9b\u7d22\u5f15\u88ab\u9891\u7e41\u8bbf\u95ee\u65f6\uff0c\u4f1a\u81ea\u52a8\u5728\u5185\u5b58\u4e2d\u4e3a\u8fd9\u4e9b\u7d22\u5f15\u521b\u5efa\u54c8\u5e0c\u7d22\u5f15\uff0c\u4ece\u800c\u5c06\u539f\u672c\u7684 B-Tree \u67e5\u627e\u4f18\u5316\u4e3a O(1) \u7684\u54c8\u5e0c\u67e5\u627e\u3002</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u52a0\u901f\u67e5\u8be2\uff1a\u5bf9\u4e8e\u9891\u7e41\u67e5\u8be2\u7684\u7d22\u5f15\u5217\uff0c\u54c8\u5e0c\u7d22\u5f15\u53ef\u4ee5\u663e\u8457\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\u3002</li> <li>\u81ea\u52a8\u7ba1\u7406\uff1aInnoDB \u81ea\u52a8\u7ba1\u7406\u54c8\u5e0c\u7d22\u5f15\u7684\u521b\u5efa\u548c\u9500\u6bc1\uff0c\u51cf\u5c11\u4e86\u624b\u52a8\u4f18\u5316\u7684\u8d1f\u62c5\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#19-innodb-tablespace-management","title":"19. InnoDB \u8868\u7a7a\u95f4\u7ba1\u7406\uff08Tablespace Management\uff09","text":"<ul> <li>\u8868\u7a7a\u95f4\u7c7b\u578b\uff1a<ul> <li>\u7cfb\u7edf\u8868\u7a7a\u95f4\uff08System Tablespace\uff09\uff1a\u9ed8\u8ba4\u7684\u8868\u7a7a\u95f4\uff0c\u5b58\u50a8\u6570\u636e\u5b57\u5178\u548c\u90e8\u5206\u6570\u636e\u3002</li> <li>\u72ec\u7acb\u8868\u7a7a\u95f4\uff08File-per-table Tablespace\uff09\uff1a\u6bcf\u4e2a\u8868\u4f7f\u7528\u5355\u72ec\u7684\u8868\u7a7a\u95f4\u6587\u4ef6\u5b58\u50a8\u6570\u636e\uff0c\u7ba1\u7406\u7075\u6d3b\u6027\u66f4\u9ad8\u3002</li> <li>\u901a\u7528\u8868\u7a7a\u95f4\uff08General Tablespace\uff09\uff1a\u53ef\u4ee5\u5c06\u591a\u4e2a\u8868\u653e\u5165\u540c\u4e00\u4e2a\u8868\u7a7a\u95f4\uff0c\u9002\u7528\u4e8e\u7279\u5b9a\u7684\u7ba1\u7406\u9700\u6c42\u3002</li> </ul> </li> <li>\u8868\u7a7a\u95f4\u4f18\u5316\uff1a<ul> <li>\u8c03\u6574\u8868\u7a7a\u95f4\u5927\u5c0f\uff1a\u901a\u8fc7 <code>innodb_file_per_table</code> \u9009\u9879\u7ba1\u7406\u8868\u7a7a\u95f4\u6587\u4ef6\u7684\u5927\u5c0f\u548c\u589e\u957f\u7b56\u7565\u3002</li> <li>\u8868\u7a7a\u95f4\u788e\u7247\u6574\u7406\uff1a\u4f7f\u7528 <code>OPTIMIZE TABLE</code> \u547d\u4ee4\u6574\u7406\u8868\u7a7a\u95f4\uff0c\u51cf\u5c11\u788e\u7247\uff0c\u63d0\u9ad8\u6027\u80fd\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#20-full-text-search","title":"20. \u5168\u6587\u7d22\u5f15\uff08Full-Text Search\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aMySQL \u7684\u5168\u6587\u7d22\u5f15\u7528\u4e8e\u52a0\u901f\u6587\u672c\u5b57\u6bb5\u7684\u5173\u952e\u5b57\u641c\u7d22\u3002</li> <li>\u9002\u7528\u5b58\u50a8\u5f15\u64ce\uff1aMyISAM \u548c InnoDB \u5747\u652f\u6301\u5168\u6587\u7d22\u5f15\uff0c\u4f46 InnoDB \u7684\u652f\u6301\u8f83\u665a\uff0c\u4e14\u529f\u80fd\u66f4\u4e3a\u5b8c\u5584\u3002</li> <li>\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a<ul> <li>\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff1a\u4f7f\u7528 <code>FULLTEXT</code> \u5173\u952e\u5b57\u521b\u5efa\u5168\u6587\u7d22\u5f15\u3002</li> <li>\u67e5\u8be2\uff1a\u4f7f\u7528 <code>MATCH</code> \u548c <code>AGAINST</code> \u8bed\u6cd5\u8fdb\u884c\u5168\u6587\u68c0\u7d22\u3002</li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u9ad8\u6548\u7684\u6587\u672c\u641c\u7d22\uff1a\u5168\u6587\u7d22\u5f15\u80fd\u591f\u5904\u7406\u5927\u89c4\u6a21\u6587\u672c\u6570\u636e\u7684\u5173\u952e\u8bcd\u641c\u7d22\uff0c\u6bd4\u5e38\u89c4\u7d22\u5f15\u9ad8\u6548\u5f97\u591a\u3002</li> </ul> </li> <li>\u6ce8\u610f\u4e8b\u9879\uff1a\u5168\u6587\u7d22\u5f15\u4e0d\u9002\u5408\u592a\u77ed\u7684\u6587\u672c\u5b57\u6bb5\uff0c\u4e14\u53ef\u80fd\u4f1a\u5f15\u5165\u989d\u5916\u7684\u5b58\u50a8\u5f00\u9500\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#21-master-slave-replication","title":"21. \u4e3b\u4ece\u590d\u5236\uff08Master-Slave Replication\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u4e3b\u4ece\u590d\u5236\u7528\u4e8e\u5c06\u4e00\u4e2a MySQL \u5b9e\u4f8b\u7684\u6240\u6709\u6570\u636e\u548c\u4e8b\u52a1\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5b9e\u73b0\u6570\u636e\u7684\u5197\u4f59\u548c\u5206\u5e03\u5f0f\u8bfb\u5199\u3002</li> <li>\u590d\u5236\u7c7b\u578b\uff1a<ul> <li>\u5f02\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u6267\u884c\u5b8c\u4e8b\u52a1\u540e\u7acb\u5373\u8fd4\u56de\uff0c\u4e0d\u7b49\u5f85\u4ece\u5e93\u7684\u786e\u8ba4\u3002</li> <li>\u534a\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u5728\u90e8\u5206\u4ece\u5e93\u786e\u8ba4\u4e8b\u52a1\u5199\u5165\u540e\u624d\u8fd4\u56de\uff0c\u63d0\u4f9b\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6570\u636e\u5b89\u5168\u6027\u3002</li> <li>\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u7b49\u5f85\u6240\u6709\u4ece\u5e93\u786e\u8ba4\u540e\u624d\u8fd4\u56de\uff0c\u786e\u4fdd\u6570\u636e\u5b8c\u5168\u4e00\u81f4\u3002</li> </ul> </li> <li>\u914d\u7f6e\u6b65\u9aa4\uff1a<ul> <li>\u914d\u7f6e\u4e3b\u5e93\uff1a\u542f\u7528\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff0c\u8bbe\u7f6e\u670d\u52a1\u5668 ID\u3002</li> <li>\u914d\u7f6e\u4ece\u5e93\uff1a\u914d\u7f6e <code>CHANGE MASTER TO</code> \u6307\u4ee4\u6307\u5411\u4e3b\u5e93\u3002</li> <li>\u542f\u52a8\u590d\u5236\uff1a\u4f7f\u7528 <code>START SLAVE</code> \u547d\u4ee4\u542f\u52a8\u590d\u5236\u3002</li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u8bfb\u5199\u5206\u79bb\uff1a\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\uff0c\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002</li> <li>\u6545\u969c\u5207\u6362\uff1a\u5f53\u4e3b\u5e93\u6545\u969c\u65f6\uff0c\u53ef\u4ee5\u5feb\u901f\u5207\u6362\u5230\u4ece\u5e93\uff0c\u51cf\u5c11\u670d\u52a1\u4e2d\u65ad\u65f6\u95f4\u3002</li> </ul> </li> <li>\u5e38\u89c1\u95ee\u9898\uff1a<ul> <li>\u5ef6\u8fdf\u95ee\u9898\uff1a\u5728\u9ad8\u5e76\u53d1\u4e0b\uff0c\u4ece\u5e93\u7684\u5ef6\u8fdf\u53ef\u80fd\u8f83\u5927\uff0c\u5f71\u54cd\u6570\u636e\u5b9e\u65f6\u6027\u3002</li> <li>\u6570\u636e\u4e00\u81f4\u6027\uff1a\u5982\u679c\u4e3b\u4ece\u5e93\u4e4b\u95f4\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#22-master-master-replication","title":"22. \u4e3b\u4e3b\u590d\u5236\uff08Master-Master Replication\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u4e3b\u4e3b\u590d\u5236\u662f\u6307\u4e24\u4e2a MySQL \u5b9e\u4f8b\u4e92\u4e3a\u4e3b\u4ece\u7684\u590d\u5236\u65b9\u5f0f\uff0c\u5b9e\u73b0\u53cc\u5411\u6570\u636e\u540c\u6b65\u3002</li> <li>\u5e94\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u9700\u8981\u53cc\u6d3b\u6570\u636e\u4e2d\u5fc3\u6216\u5206\u5e03\u5f0f\u90e8\u7f72\u7684\u573a\u666f\u3002</li> <li>\u914d\u7f6e\u4e0e\u4f7f\u7528\uff1a<ul> <li>\u914d\u7f6e\u4e24\u4e2a MySQL \u5b9e\u4f8b\u76f8\u4e92\u4f5c\u4e3a\u4e3b\u4ece\u5e93\uff0c\u8bbe\u7f6e <code>auto_increment_increment</code> \u548c <code>auto_increment_offset</code> \u9632\u6b62\u81ea\u589e\u4e3b\u952e\u51b2\u7a81\u3002</li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u9ad8\u53ef\u7528\u6027\uff1a\u5f53\u4efb\u610f\u4e00\u4e2a\u4e3b\u5e93\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u53e6\u4e00\u4e2a\u4e3b\u5e93\u53ef\u4ee5\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\u3002</li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u53ef\u4ee5\u5c06\u5199\u64cd\u4f5c\u5206\u5e03\u5230\u591a\u4e2a\u4e3b\u5e93\uff0c\u63d0\u9ad8\u5199\u5165\u6027\u80fd\u3002</li> </ul> </li> <li>\u6311\u6218\uff1a<ul> <li>\u51b2\u7a81\u5904\u7406\uff1a\u53cc\u5411\u590d\u5236\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u51b2\u7a81\uff0c\u9700\u8981\u989d\u5916\u7684\u51b2\u7a81\u68c0\u6d4b\u548c\u89e3\u51b3\u673a\u5236\u3002</li> <li>\u6570\u636e\u4e00\u81f4\u6027\uff1a\u5728\u7f51\u7edc\u5ef6\u8fdf\u6216\u6545\u969c\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#23-semi-synchronous-replication","title":"23. \u534a\u540c\u6b65\u590d\u5236\uff08Semi-Synchronous Replication\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u534a\u540c\u6b65\u590d\u5236\u4ecb\u4e8e\u5f02\u6b65\u590d\u5236\u548c\u540c\u6b65\u590d\u5236\u4e4b\u95f4\uff0c\u786e\u4fdd\u4e3b\u5e93\u4e8b\u52a1\u81f3\u5c11\u5199\u5165\u4e00\u4e2a\u4ece\u5e93\u7684\u65e5\u5fd7\u4e2d\u624d\u8fd4\u56de\u3002</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u6570\u636e\u5b89\u5168\u6027\uff1a\u76f8\u6bd4\u5f02\u6b65\u590d\u5236\uff0c\u534a\u540c\u6b65\u590d\u5236\u80fd\u591f\u66f4\u597d\u5730\u4fdd\u8bc1\u6570\u636e\u7684\u6301\u4e45\u6027\u3002</li> <li>\u5ef6\u8fdf\u53ef\u63a7\uff1a\u867d\u7136\u589e\u52a0\u4e86\u4e00\u4e9b\u5ef6\u8fdf\uff0c\u4f46\u4ecd\u7136\u6bd4\u5168\u540c\u6b65\u590d\u5236\u9ad8\u6548\u3002</li> </ul> </li> <li>\u914d\u7f6e\u4e0e\u4f7f\u7528\uff1a<ul> <li>\u5b89\u88c5\u5e76\u542f\u7528\u534a\u540c\u6b65\u590d\u5236\u63d2\u4ef6\uff0c\u914d\u7f6e <code>rpl_semi_sync_master_enabled</code> \u548c <code>rpl_semi_sync_slave_enabled</code> \u9009\u9879\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#24-delayed-replication","title":"24. \u5ef6\u8fdf\u590d\u5236\uff08Delayed Replication\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u5ef6\u8fdf\u590d\u5236\u662f\u5728\u4ece\u5e93\u4e0a\u6709\u610f\u5ef6\u8fdf\u4e00\u6bb5\u65f6\u95f4\u5e94\u7528\u4e3b\u5e93\u7684\u65e5\u5fd7\uff0c\u4ee5\u9632\u6b62\u8bef\u64cd\u4f5c\u4f20\u64ad\u5230\u4ece\u5e93\u3002</li> <li>\u5e94\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u707e\u96be\u6062\u590d\u573a\u666f\uff0c\u901a\u8fc7\u5ef6\u8fdf\u590d\u5236\u7684\u4ece\u5e93\u6062\u590d\u8bef\u5220\u9664\u6216\u8bef\u66f4\u65b0\u7684\u6570\u636e\u3002</li> <li>\u914d\u7f6e\u4e0e\u4f7f\u7528\uff1a<ul> <li>\u4f7f\u7528 <code>CHANGE MASTER TO</code> \u547d\u4ee4\u8bbe\u7f6e <code>MASTER_DELAY</code> \u53c2\u6570\u914d\u7f6e\u5ef6\u8fdf\u65f6\u95f4\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#25-gtid-gtid-based-replication","title":"25. \u57fa\u4e8e GTID \u7684\u590d\u5236\uff08GTID-Based Replication\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aGTID\uff08\u5168\u5c40\u4e8b\u52a1\u6807\u8bc6\uff09\u662f MySQL 5.6 \u5f15\u5165\u7684\u4e00\u79cd\u5168\u5c40\u552f\u4e00\u7684\u4e8b\u52a1\u6807\u8bc6\uff0c\u7528\u4e8e\u7b80\u5316\u590d\u5236\u7ba1\u7406\u3002</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u7b80\u5316\u6545\u969c\u6062\u590d\uff1a\u57fa\u4e8e GTID \u7684\u590d\u5236\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u4ece\u4efb\u610f\u4e8b\u52a1\u70b9\u6062\u590d\uff0c\u51cf\u5c11\u4e86\u624b\u52a8\u64cd\u4f5c\u7684\u590d\u6742\u6027\u3002</li> <li>\u589e\u5f3a\u6570\u636e\u4e00\u81f4\u6027\uff1aGTID \u786e\u4fdd\u4e86\u6bcf\u4e2a\u4e8b\u52a1\u5728\u4e3b\u4ece\u5e93\u4e2d\u90fd\u6709\u552f\u4e00\u5bf9\u5e94\u7684\u6807\u8bc6\uff0c\u9632\u6b62\u91cd\u590d\u6216\u4e22\u5931\u3002</li> </ul> </li> <li>\u914d\u7f6e\u4e0e\u4f7f\u7528\uff1a<ul> <li>\u542f\u7528 GTID \u652f\u6301\uff0c\u901a\u8fc7 <code>gtid_mode</code> \u548c <code>enforce_gtid_consistency</code> \u53c2\u6570\u914d\u7f6e GTID \u590d\u5236\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#26-large-table-optimization","title":"26. \u5927\u8868\u4f18\u5316\uff08Large Table Optimization\uff09","text":"<ul> <li>\u95ee\u9898\uff1a\u5728 MySQL \u4e2d\uff0c\u8868\u6570\u636e\u91cf\u8d85\u8fc7\u767e\u4e07\u884c\u65f6\uff0c\u64cd\u4f5c\u53ef\u80fd\u4f1a\u53d8\u5f97\u975e\u5e38\u7f13\u6162\uff0c\u5982\u4f55\u4f18\u5316\u8fd9\u4e9b\u5927\u8868\u6210\u4e3a\u5173\u952e\u3002</li> <li>\u4f18\u5316\u624b\u6bb5\uff1a<ul> <li>\u5206\u533a\uff1a\u5c06\u8868\u5206\u533a\u4ee5\u51cf\u5c11\u5355\u4e2a\u5206\u533a\u7684\u6570\u636e\u91cf\uff0c\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002</li> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u4f18\u5316\u73b0\u6709\u7d22\u5f15\u6216\u589e\u52a0\u65b0\u7684\u8986\u76d6\u7d22\u5f15\u3002</li> <li>\u67e5\u8be2\u4f18\u5316\uff1a\u901a\u8fc7\u91cd\u5199\u67e5\u8be2\u8bed\u53e5\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\u3002</li> <li>\u5f52\u6863\u6570\u636e\uff1a\u5c06\u5386\u53f2\u6570\u636e\u79fb\u52a8\u5230\u5f52\u6863\u8868\uff0c\u4fdd\u6301\u4e3b\u8868\u7cbe\u7b80\u3002</li> </ul> </li> <li>\u5b9e\u9645\u6848\u4f8b\uff1a\u5728\u4e00\u4e2a\u62e5\u6709\u6570\u4ebf\u884c\u8bb0\u5f55\u7684\u8ba2\u5355\u8868\u4e2d\uff0c\u4f7f\u7528\u8303\u56f4\u5206\u533a\u548c\u8986\u76d6\u7d22\u5f15\u5927\u5927\u63d0\u5347\u4e86\u67e5\u8be2\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#27-mysql-query-cache","title":"27. MySQL Query Cache","text":"<ul> <li>\u6982\u5ff5\uff1aQuery Cache \u662f MySQL \u7528\u6765\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\u7684\u673a\u5236\uff0c\u4ee5\u52a0\u901f\u76f8\u540c\u67e5\u8be2\u7684\u6267\u884c\u901f\u5ea6\u3002</li> <li>\u542f\u7528\u4e0e\u914d\u7f6e\uff1a<ul> <li>\u4f7f\u7528 <code>query_cache_size</code> \u914d\u7f6e\u7f13\u5b58\u7684\u5927\u5c0f\uff0c<code>query_cache_type</code> \u51b3\u5b9a\u7f13\u5b58\u7b56\u7565\uff08\u5982\u542f\u7528\u6216\u7981\u7528\uff09\u3002</li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u6027\u80fd\u63d0\u5347\uff1a\u5bf9\u4e8e\u9891\u7e41\u6267\u884c\u7684\u76f8\u540c\u67e5\u8be2\uff0c\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u6570\u636e\u5e93\u8d1f\u8f7d\u3002</li> </ul> </li> <li>\u6ce8\u610f\u4e8b\u9879\uff1a<ul> <li>\u7f13\u5b58\u5931\u6548\uff1a\u4efb\u4f55\u5bf9\u76f8\u5173\u8868\u7684\u66f4\u65b0\u64cd\u4f5c\u90fd\u4f1a\u4f7f\u7f13\u5b58\u5931\u6548\uff0c\u5bfc\u81f4\u9ad8\u5e76\u53d1\u4e0b\u7f13\u5b58\u6548\u679c\u4e0d\u660e\u663e\u3002</li> <li>\u4e0d\u9002\u5408\u9ad8\u66f4\u65b0\u7387\u573a\u666f\uff1a\u5728\u9891\u7e41\u66f4\u65b0\u7684\u8868\u4e0a\u4f7f\u7528 Query Cache\uff0c\u53cd\u800c\u53ef\u80fd\u5f15\u8d77\u6027\u80fd\u95ee\u9898\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#28-mysql-monitoring-and-tuning","title":"28. MySQL \u76d1\u63a7\u4e0e\u8c03\u4f18\uff08Monitoring and Tuning\uff09","text":"<ul> <li>\u5e38\u7528\u5de5\u5177\uff1a<ul> <li>MySQL Enterprise Monitor\uff1a\u63d0\u4f9b\u5168\u9762\u7684 MySQL \u5b9e\u4f8b\u76d1\u63a7\u3001\u544a\u8b66\u548c\u62a5\u544a\u529f\u80fd\u3002</li> <li>Performance Schema\uff1a\u5185\u7f6e\u7684\u6027\u80fd\u76d1\u63a7\u5de5\u5177\uff0c\u63d0\u4f9b\u8be6\u7ec6\u7684\u67e5\u8be2\u6027\u80fd\u5206\u6790\u3002</li> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a\u901a\u8fc7\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u5b9a\u4f4d\u548c\u4f18\u5316\u4f4e\u6548\u7684 SQL \u67e5\u8be2\u3002</li> </ul> </li> <li>\u8c03\u4f18\u5b9e\u8df5\uff1a<ul> <li>\u786c\u4ef6\u8c03\u4f18\uff1a\u4f18\u5316\u78c1\u76d8 I/O\u3001\u5185\u5b58\u548c CPU \u914d\u7f6e\u3002</li> <li>\u53c2\u6570\u8c03\u4f18\uff1a\u6839\u636e\u5de5\u4f5c\u8d1f\u8f7d\u8c03\u6574 MySQL \u914d\u7f6e\u53c2\u6570\uff0c\u5982 <code>innodb_buffer_pool_size</code>\u3001<code>max_connections</code> \u7b49\u3002</li> <li>\u7d22\u5f15\u8c03\u4f18\uff1a\u5b9a\u671f\u5ba1\u67e5\u5e76\u4f18\u5316\u6570\u636e\u5e93\u7d22\u5f15\uff0c\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\uff0c\u6dfb\u52a0\u7f3a\u5931\u7684\u7d22\u5f15\u3002</li> </ul> </li> <li>\u6848\u4f8b\u5206\u6790\uff1a\u901a\u8fc7\u6162\u67e5\u8be2\u65e5\u5fd7\u53d1\u73b0\u4e00\u4e2a\u7535\u5546\u5e73\u53f0\u7684\u67d0\u4e2a\u67e5\u8be2\u5728\u9ad8\u5cf0\u671f\u62d6\u6162\u4e86\u6574\u4e2a\u7cfb\u7edf\uff0c\u7ecf\u8fc7\u7d22\u5f15\u8c03\u4f18\u540e\uff0c\u67e5\u8be2\u65f6\u95f4\u4ece\u6570\u79d2\u51cf\u5c11\u5230\u4e86\u6beb\u79d2\u7ea7\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u8fd9\u91cc\u662f\u66f4\u591a MySQL \u8fdb\u9636\u6559\u7a0b\u7684\u5185\u5bb9\uff0c\u6db5\u76d6\u4e86\u8fdb\u4e00\u6b65\u7684\u9ad8\u7ea7\u7279\u6027\u548c\u5e94\u7528\u573a\u666f\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#29-transaction-isolation-levels","title":"29. \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff08Transaction Isolation Levels\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4e8b\u52a1\u5982\u4f55\u4e0e\u5176\u4ed6\u4e8b\u52a1\u9694\u79bb\uff0c\u5f71\u54cd\u5e76\u53d1\u64cd\u4f5c\u7684\u7ed3\u679c\u3002</li> <li>\u56db\u79cd\u9694\u79bb\u7ea7\u522b\uff1a<ul> <li>\u8bfb\u672a\u63d0\u4ea4\uff08READ UNCOMMITTED\uff09\uff1a\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5176\u4ed6\u4e8b\u52a1\u5c1a\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u53ef\u80fd\u4f1a\u8bfb\u53d6\u5230\u810f\u6570\u636e\u3002</li> <li>\u8bfb\u5df2\u63d0\u4ea4\uff08READ COMMITTED\uff09\uff1a\u4e8b\u52a1\u53ea\u80fd\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u5df2\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u9632\u6b62\u810f\u8bfb\uff0c\u4f46\u53ef\u80fd\u4f1a\u53d1\u751f\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</li> <li>\u53ef\u91cd\u590d\u8bfb\uff08REPEATABLE READ\uff09\uff1a\u4e8b\u52a1\u5728\u5f00\u59cb\u65f6\u8bfb\u53d6\u7684\u6570\u636e\u5728\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u4fdd\u6301\u4e00\u81f4\uff0c\u9632\u6b62\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u4f46\u53ef\u80fd\u53d1\u751f\u5e7b\u8bfb\u3002</li> <li>\u5e8f\u5217\u5316\uff08SERIALIZABLE\uff09\uff1a\u6700\u4e25\u683c\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u4e8b\u52a1\u5b8c\u5168\u9694\u79bb\uff0c\u6a21\u62df\u4e32\u884c\u6267\u884c\uff0c\u9632\u6b62\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u3002</li> </ul> </li> <li>\u914d\u7f6e\uff1a<ul> <li>\u901a\u8fc7 <code>SET TRANSACTION ISOLATION LEVEL</code> \u8bed\u53e5\u8bbe\u7f6e\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u3002</li> </ul> </li> <li>\u4f18\u7f3a\u70b9\uff1a<ul> <li>\u9ad8\u9694\u79bb\u7ea7\u522b\uff1a\u63d0\u4f9b\u66f4\u5f3a\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4f46\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</li> <li>\u4f4e\u9694\u79bb\u7ea7\u522b\uff1a\u63d0\u9ad8\u5e76\u53d1\u6027\uff0c\u4f46\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#30-mysql-stored-procedures-and-functions","title":"30. MySQL \u5b58\u50a8\u8fc7\u7a0b\u4e0e\u51fd\u6570\uff08Stored Procedures and Functions\uff09","text":"<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff1a<ul> <li>\u6982\u5ff5\uff1a\u5b58\u50a8\u8fc7\u7a0b\u662f\u4e00\u7ec4\u9884\u7f16\u8bd1\u7684 SQL \u8bed\u53e5\uff0c\u53ef\u4ee5\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u5e76\u91cd\u590d\u4f7f\u7528\uff0c\u80fd\u591f\u63a5\u6536\u8f93\u5165\u53c2\u6570\u5e76\u8fd4\u56de\u7ed3\u679c\u3002</li> <li>\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a    <code>sql    DELIMITER //    CREATE PROCEDURE proc_name(IN param_name datatype)    BEGIN        -- SQL statements    END //    DELIMITER ;</code></li> <li>\u8c03\u7528\uff1a\u4f7f\u7528 <code>CALL</code> \u8bed\u53e5\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\u3002</li> </ul> </li> <li>\u51fd\u6570\uff1a<ul> <li>\u6982\u5ff5\uff1a\u51fd\u6570\u7c7b\u4f3c\u4e8e\u5b58\u50a8\u8fc7\u7a0b\uff0c\u4f46\u5b83\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728 SQL \u8bed\u53e5\u4e2d\u4f5c\u4e3a\u8868\u8fbe\u5f0f\u4f7f\u7528\u3002</li> <li>\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a    <code>sql    DELIMITER //    CREATE FUNCTION func_name(param_name datatype)    RETURNS return_datatype    BEGIN        -- SQL statements        RETURN value;    END //    DELIMITER ;</code></li> <li>\u8c03\u7528\uff1a\u5728 SQL \u67e5\u8be2\u4e2d\u76f4\u63a5\u4f7f\u7528\u51fd\u6570\u540d\u79f0\u3002</li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u5c01\u88c5\u903b\u8f91\uff1a\u5c06\u590d\u6742\u7684 SQL \u903b\u8f91\u5c01\u88c5\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u63d0\u9ad8\u4ee3\u7801\u590d\u7528\u6027\u3002</li> <li>\u6027\u80fd\u4f18\u5316\uff1a\u9884\u7f16\u8bd1\u7684\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570\u6267\u884c\u901f\u5ea6\u66f4\u5feb\u3002</li> </ul> </li> <li>\u6ce8\u610f\u4e8b\u9879\uff1a\u8fc7\u5ea6\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570\u53ef\u80fd\u4f1a\u589e\u52a0\u6570\u636e\u5e93\u7684\u590d\u6742\u6027\u548c\u7ef4\u62a4\u6210\u672c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#31-mysql-json-json-data-type","title":"31. MySQL JSON \u6570\u636e\u7c7b\u578b\uff08JSON Data Type\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aMySQL 5.7 \u53ca\u4ee5\u4e0a\u7248\u672c\u652f\u6301 JSON \u6570\u636e\u7c7b\u578b\uff0c\u7528\u4e8e\u5b58\u50a8\u548c\u64cd\u4f5c JSON \u683c\u5f0f\u7684\u6570\u636e\u3002</li> <li>\u64cd\u4f5c\uff1a<ul> <li>\u521b\u5efa\u8868\uff1a\u5728\u8868\u4e2d\u5b9a\u4e49 JSON \u5217\u3002    <code>sql    CREATE TABLE my_table (        id INT PRIMARY KEY,        data JSON    );</code></li> <li>\u63d2\u5165\u6570\u636e\uff1a    <code>sql    INSERT INTO my_table (id, data) VALUES (1, '{\"key\": \"value\"}');</code></li> <li>\u67e5\u8be2\u6570\u636e\uff1a    <code>sql    SELECT data-&gt;&gt;'$.key' AS key_value FROM my_table WHERE id = 1;</code></li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u7075\u6d3b\u6027\uff1a\u53ef\u4ee5\u5b58\u50a8\u548c\u64cd\u4f5c\u7ed3\u6784\u5316\u548c\u975e\u7ed3\u6784\u5316\u7684\u6570\u636e\u3002</li> <li>\u4e30\u5bcc\u7684\u51fd\u6570\uff1aMySQL \u63d0\u4f9b\u4e86\u8bb8\u591a JSON \u51fd\u6570\uff0c\u5982 <code>JSON_EXTRACT</code>\u3001<code>JSON_SET</code>\u3001<code>JSON_ARRAY</code> \u7b49\uff0c\u7528\u4e8e\u5904\u7406 JSON \u6570\u636e\u3002</li> </ul> </li> <li>\u6ce8\u610f\u4e8b\u9879\uff1aJSON \u6570\u636e\u7c7b\u578b\u7684\u4f7f\u7528\u9700\u8981\u8003\u8651\u5b58\u50a8\u6548\u7387\u548c\u6027\u80fd\u5f71\u54cd\uff0c\u8fc7\u5ea6\u4f7f\u7528\u53ef\u80fd\u5bfc\u81f4\u67e5\u8be2\u53d8\u5f97\u590d\u6742\u548c\u7f13\u6162\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#32-mysql-federated-storage-engine","title":"32. MySQL \u5916\u90e8\u6570\u636e\u6e90\uff08Federated Storage Engine\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aFederated \u5b58\u50a8\u5f15\u64ce\u5141\u8bb8 MySQL \u5b9e\u4f8b\u8bbf\u95ee\u548c\u64cd\u4f5c\u5176\u4ed6 MySQL \u5b9e\u4f8b\u4e2d\u7684\u6570\u636e\uff0c\u800c\u65e0\u9700\u5c06\u6570\u636e\u590d\u5236\u5230\u672c\u5730\u3002</li> <li>\u914d\u7f6e\u4e0e\u4f7f\u7528\uff1a<ul> <li>\u521b\u5efa Federated \u8868\uff1a\u5b9a\u4e49\u4e00\u4e2a\u8868\uff0c\u5b83\u5c06\u94fe\u63a5\u5230\u5916\u90e8 MySQL \u6570\u636e\u5e93\u4e2d\u7684\u8868\u3002    <code>sql    CREATE TABLE federated_table (        id INT,        name VARCHAR(255)    ) ENGINE=FEDERATED    CONNECTION='mysql://user:password@hostname:port/dbname/remote_table';</code></li> </ul> </li> <li>\u4f18\u70b9\uff1a<ul> <li>\u8de8\u6570\u636e\u5e93\u8bbf\u95ee\uff1a\u65b9\u4fbf\u8bbf\u95ee\u548c\u6574\u5408\u5206\u5e03\u5728\u4e0d\u540c MySQL \u5b9e\u4f8b\u4e0a\u7684\u6570\u636e\u3002</li> </ul> </li> <li>\u6ce8\u610f\u4e8b\u9879\uff1aFederated \u5b58\u50a8\u5f15\u64ce\u7684\u6027\u80fd\u53ef\u80fd\u4f1a\u53d7\u5230\u7f51\u7edc\u5ef6\u8fdf\u548c\u6570\u636e\u4f20\u8f93\u7684\u5f71\u54cd\uff0c\u9002\u7528\u4e8e\u7279\u5b9a\u7684\u4f7f\u7528\u573a\u666f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#33-mysql-user-privileges-management","title":"33. MySQL \u7528\u6237\u6743\u9650\u7ba1\u7406\uff08User Privileges Management\uff09","text":"<ul> <li>\u6982\u5ff5\uff1aMySQL \u63d0\u4f9b\u4e86\u7075\u6d3b\u7684\u6743\u9650\u7ba1\u7406\u673a\u5236\uff0c\u4ee5\u63a7\u5236\u7528\u6237\u5bf9\u6570\u636e\u5e93\u5bf9\u8c61\u7684\u8bbf\u95ee\u6743\u9650\u3002</li> <li>\u6743\u9650\u7c7b\u578b\uff1a<ul> <li>\u5168\u5c40\u6743\u9650\uff1a\u5bf9\u6240\u6709\u6570\u636e\u5e93\u7684\u6743\u9650\uff0c\u5982 <code>GRANT ALL PRIVILEGES</code>\u3002</li> <li>\u6570\u636e\u5e93\u7ea7\u6743\u9650\uff1a\u5bf9\u7279\u5b9a\u6570\u636e\u5e93\u7684\u6743\u9650\uff0c\u5982 <code>SELECT</code>\u3001<code>INSERT</code>\u3001<code>UPDATE</code>\u3002</li> <li>\u8868\u7ea7\u6743\u9650\uff1a\u5bf9\u7279\u5b9a\u8868\u7684\u6743\u9650\uff0c\u5982 <code>SELECT</code>\u3001<code>INSERT</code>\u3002</li> <li>\u5217\u7ea7\u6743\u9650\uff1a\u5bf9\u7279\u5b9a\u5217\u7684\u6743\u9650\uff0c\u5982 <code>SELECT</code>\u3002</li> </ul> </li> <li>\u7ba1\u7406\u547d\u4ee4\uff1a<ul> <li>\u6388\u4e88\u6743\u9650\uff1a    <code>sql    GRANT SELECT, INSERT ON dbname.* TO 'user'@'host';</code></li> <li>\u64a4\u9500\u6743\u9650\uff1a    ```sql    REVOKE SELECT, INSERT ON dbname.* FROM '</li> </ul> </li> </ul> <p>\u7ee7\u7eed\u6df1\u5165 MySQL \u8fdb\u9636\u6559\u7a0b\u7684\u66f4\u591a\u5185\u5bb9\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u9ad8\u7ea7\u7279\u6027\u548c\u4f7f\u7528\u573a\u666f\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#31-mysql-stored-procedures-and-functions","title":"31. MySQL \u5b58\u50a8\u8fc7\u7a0b\u4e0e\u51fd\u6570\uff08Stored Procedures and Functions\uff09","text":"<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff1a<ul> <li>\u6982\u5ff5\uff1a\u5b58\u50a8\u8fc7\u7a0b\u662f\u4e00\u7ec4\u9884\u7f16\u8bd1\u7684 SQL \u8bed\u53e5\uff0c\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u53ef\u63a5\u6536\u8f93\u5165\u53c2\u6570\u5e76\u6267\u884c\u590d\u6742\u7684\u64cd\u4f5c\u3002</li> <li>\u521b\u5efa\uff1a    <code>sql    DELIMITER //    CREATE PROCEDURE sp_name (IN param1 INT, OUT param2 VARCHAR(50))    BEGIN        -- SQL \u8bed\u53e5    END //    DELIMITER ;</code></li> <li>\u8c03\u7528\uff1a    <code>sql    CALL sp_name(1, @result);    SELECT @result;</code></li> <li>\u4f18\u70b9\uff1a</li> <li>\u4ee3\u7801\u590d\u7528\uff1a\u5c06\u590d\u6742\u7684 SQL \u903b\u8f91\u5c01\u88c5\u5728\u5b58\u50a8\u8fc7\u7a0b\u4e2d\uff0c\u7b80\u5316\u4ee3\u7801\u3002</li> <li>\u6027\u80fd\u4f18\u5316\uff1a\u9884\u7f16\u8bd1\u7684 SQL \u8bed\u53e5\u53ef\u4ee5\u63d0\u9ad8\u6267\u884c\u6548\u7387\u3002</li> <li>\u5b89\u5168\u6027\uff1a\u53ef\u4ee5\u901a\u8fc7\u5b58\u50a8\u8fc7\u7a0b\u63a7\u5236\u5bf9\u6570\u636e\u7684\u8bbf\u95ee\u3002</li> </ul> </li> <li>\u5b58\u50a8\u51fd\u6570\uff1a<ul> <li>\u6982\u5ff5\uff1a\u5b58\u50a8\u51fd\u6570\u662f\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u5b58\u50a8\u8fc7\u7a0b\uff0c\u8fd4\u56de\u5355\u4e00\u503c\uff0c\u53ef\u7528\u4e8e SQL \u8868\u8fbe\u5f0f\u4e2d\u3002</li> <li>\u521b\u5efa\uff1a    <code>sql    DELIMITER //    CREATE FUNCTION fn_name (param1 INT) RETURNS INT    BEGIN        RETURN param1 * 2;    END //    DELIMITER ;</code></li> <li>\u4f7f\u7528\uff1a    <code>sql    SELECT fn_name(5);</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#32-mysql-user-and-permission-management","title":"32. MySQL \u7528\u6237\u548c\u6743\u9650\u7ba1\u7406\uff08User and Permission Management\uff09","text":"<ul> <li>\u7528\u6237\u7ba1\u7406\uff1a<ul> <li>\u521b\u5efa\u7528\u6237\uff1a    <code>sql    CREATE USER 'username'@'host' IDENTIFIED BY 'password';</code></li> <li>\u5220\u9664\u7528\u6237\uff1a    <code>sql    DROP USER 'username'@'host';</code></li> </ul> </li> <li>\u6743\u9650\u7ba1\u7406\uff1a<ul> <li>\u6388\u4e88\u6743\u9650\uff1a    <code>sql    GRANT SELECT, INSERT ON database.* TO 'username'@'host';</code></li> <li>\u64a4\u9500\u6743\u9650\uff1a    <code>sql    REVOKE SELECT ON database.* FROM 'username'@'host';</code></li> <li>\u67e5\u770b\u6743\u9650\uff1a    <code>sql    SHOW GRANTS FOR 'username'@'host';</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#33-partitioned-tables","title":"33. \u5206\u533a\u8868\uff08Partitioned Tables\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u5206\u533a\u8868\u662f\u5c06\u5927\u578b\u8868\u7684\u6570\u636e\u5206\u6210\u591a\u4e2a\u903b\u8f91\u5757\u7684\u6280\u672f\uff0c\u6709\u52a9\u4e8e\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u548c\u7ba1\u7406\u3002</li> <li>\u5206\u533a\u7c7b\u578b\uff1a<ul> <li>\u8303\u56f4\u5206\u533a\uff08RANGE\uff09\uff1a\u6309\u8303\u56f4\u5206\u533a\uff0c\u4f8b\u5982\u6309\u65e5\u671f\u5206\u533a\u3002</li> <li>\u5217\u8868\u5206\u533a\uff08LIST\uff09\uff1a\u6309\u5217\u8868\u5206\u533a\uff0c\u4f8b\u5982\u6309\u56fd\u5bb6\u3002</li> <li>\u54c8\u5e0c\u5206\u533a\uff08HASH\uff09\uff1a\u4f7f\u7528\u54c8\u5e0c\u51fd\u6570\u5206\u533a\uff0c\u5747\u5300\u5206\u5e03\u6570\u636e\u3002</li> <li>\u952e\u5206\u533a\uff08KEY\uff09\uff1a\u7c7b\u4f3c\u4e8e\u54c8\u5e0c\u5206\u533a\uff0c\u4f46\u57fa\u4e8e MySQL \u5185\u7f6e\u7684\u54c8\u5e0c\u51fd\u6570\u3002</li> </ul> </li> <li>\u521b\u5efa\uff1a      <code>sql      CREATE TABLE t1 (          id INT,          name VARCHAR(50),          created_date DATE      ) PARTITION BY RANGE (YEAR(created_date)) (          PARTITION p0 VALUES LESS THAN (1991),          PARTITION p1 VALUES LESS THAN (1995),          PARTITION p2 VALUES LESS THAN (2000),          PARTITION p3 VALUES LESS THAN MAXVALUE      );</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#34-table-optimization","title":"34. \u8868\u7684\u4f18\u5316\uff08Table Optimization\uff09","text":"<ul> <li>\u4f18\u5316\u7b56\u7565\uff1a<ul> <li>\u9009\u62e9\u9002\u5f53\u7684\u6570\u636e\u7c7b\u578b\uff1a\u4f7f\u7528\u6700\u5c0f\u7684\u5408\u9002\u6570\u636e\u7c7b\u578b\uff0c\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4\u548c I/O \u64cd\u4f5c\u3002</li> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u6839\u636e\u67e5\u8be2\u6a21\u5f0f\u521b\u5efa\u5408\u9002\u7684\u7d22\u5f15\uff0c\u907f\u514d\u8fc7\u591a\u6216\u8fc7\u5c11\u7684\u7d22\u5f15\u3002</li> <li>\u8868\u8bbe\u8ba1\uff1a\u907f\u514d\u8fc7\u5927\u7684\u8868\uff0c\u5b9a\u671f\u5f52\u6863\u65e7\u6570\u636e\u6216\u4f7f\u7528\u5206\u533a\u8868\u3002</li> </ul> </li> <li>\u5de5\u5177\uff1a<ul> <li>OPTIMIZE TABLE\uff1a\u91cd\u5efa\u8868\u548c\u7d22\u5f15\u4ee5\u4f18\u5316\u6027\u80fd\u3002    <code>sql    OPTIMIZE TABLE table_name;</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#35-mysql-backup-and-recovery","title":"35. MySQL \u5907\u4efd\u4e0e\u6062\u590d\uff08Backup and Recovery\uff09","text":"<ul> <li>\u5907\u4efd\u5de5\u5177\uff1a<ul> <li>mysqldump\uff1a\u5e38\u7528\u7684\u903b\u8f91\u5907\u4efd\u5de5\u5177\uff0c\u751f\u6210 SQL \u811a\u672c\u3002    <code>bash    mysqldump -u username -p database_name &gt; backup.sql</code></li> <li>Percona XtraBackup\uff1a\u7528\u4e8e\u7269\u7406\u5907\u4efd\uff0c\u652f\u6301\u70ed\u5907\u4efd\u3002</li> </ul> </li> <li>\u6062\u590d\uff1a<ul> <li>\u4ece\u5907\u4efd\u6587\u4ef6\u6062\u590d\uff1a    <code>bash    mysql -u username -p database_name &lt; backup.sql</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#36-mysql-replication","title":"36. MySQL \u590d\u5236\uff08Replication\uff09","text":"<ul> <li>\u6982\u5ff5\uff1a\u590d\u5236\u662f\u5c06\u6570\u636e\u4ece\u4e00\u4e2a MySQL \u5b9e\u4f8b\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u7684\u6280\u672f\uff0c\u7528\u4e8e\u6570\u636e\u5907\u4efd\u3001\u8d1f\u8f7d\u5747\u8861\u7b49\u3002</li> <li>\u4e3b\u4ece\u590d\u5236\uff1a<ul> <li>\u914d\u7f6e\u4e3b\u670d\u52a1\u5668\uff1a\u8bbe\u7f6e <code>server-id</code> \u548c\u5f00\u542f\u4e8c\u8fdb\u5236\u65e5\u5fd7\u3002    <code>sql    [mysqld]    server-id = 1    log-bin = mysql-bin</code></li> <li>\u914d\u7f6e\u4ece\u670d\u52a1\u5668\uff1a\u8bbe\u7f6e <code>server-id</code> \u548c\u6307\u5b9a\u4e3b\u670d\u52a1\u5668\u4fe1\u606f\u3002    <code>sql    [mysqld]    server-id = 2</code></li> <li>\u542f\u52a8\u590d\u5236\uff1a    <code>sql    CHANGE MASTER TO MASTER_HOST='master_host', MASTER_USER='replica_user', MASTER_PASSWORD='password', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS= 4;    START SLAVE;</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#37-mysql-high-availability","title":"37. MySQL \u9ad8\u53ef\u7528\u6027\uff08High Availability\uff09","text":"<ul> <li>\u4e3b\u4ece\u590d\u5236\uff1a\u4f5c\u4e3a\u57fa\u672c\u7684\u9ad8\u53ef\u7528\u6027\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7\u8bfb\u5199\u5206\u79bb\u548c\u4e3b\u4ece\u5907\u4efd\u3002</li> <li>Group Replication\uff1a\u652f\u6301\u591a\u4e3b\u590d\u5236\u548c\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u3002</li> <li>MySQL Cluster\uff1a\u4e00\u4e2a\u9ad8\u53ef\u7528\u3001\u9ad8\u6269\u5c55\u6027\u7684\u6570\u636e\u5e93\u96c6\u7fa4\u89e3\u51b3\u65b9\u6848\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#38-mysql-performance-analysis","title":"38. MySQL \u6027\u80fd\u5206\u6790\uff08Performance Analysis\uff09","text":"<ul> <li>\u6027\u80fd Schema\uff1a\u7528\u4e8e\u6536\u96c6\u548c\u5206\u6790 MySQL \u8fd0\u884c\u65f6\u7684\u6027\u80fd\u6570\u636e\u3002</li> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u51fa\u9608\u503c\u7684\u67e5\u8be2\uff0c\u7528\u4e8e\u4f18\u5316\u6027\u80fd\u3002</li> <li>EXPLAIN\uff1a\u5206\u6790 SQL \u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u3002      <code>sql      EXPLAIN SELECT * FROM table_name WHERE column = 'value';</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#39-mysql-security","title":"39. MySQL \u5b89\u5168\u6027\uff08Security\uff09","text":"<ul> <li>\u52a0\u5bc6\uff1a\u4f7f\u7528 SSL/TLS \u52a0\u5bc6\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u8fde\u63a5\u3002</li> <li>\u7528\u6237\u6743\u9650\uff1a\u7cbe\u786e\u63a7\u5236\u7528\u6237\u6743\u9650\uff0c\u6700\u5c0f\u6743\u9650\u539f\u5219\u3002</li> <li>\u5ba1\u8ba1\uff1a\u542f\u7528\u5ba1\u8ba1\u65e5\u5fd7\uff0c\u76d1\u63a7\u6570\u636e\u5e93\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#40-mysql-json-json-support","title":"40. MySQL JSON \u652f\u6301\uff08JSON Support\uff09","text":"<ul> <li>\u5b58\u50a8 JSON \u6570\u636e\uff1aMySQL 5.7 \u53ca\u4ee5\u4e0a\u7248\u672c\u652f\u6301 JSON \u6570\u636e\u7c7b\u578b\u3002      <code>sql      CREATE TABLE json_table (data JSON);      INSERT INTO json_table (data) VALUES ('{\"key\": \"value\"}');</code></li> <li>JSON \u51fd\u6570\uff1a<ul> <li>JSON_EXTRACT\uff1a\u63d0\u53d6 JSON \u6570\u636e\u4e2d\u7684\u503c\u3002    <code>sql    SELECT JSON_EXTRACT(data, '$.key') FROM json_table;</code></li> </ul> </li> </ul> <p>\u5f53\u7136\uff0c\u8fd9\u91cc\u662f\u66f4\u591a\u5173\u4e8e MySQL \u8fdb\u9636\u6559\u7a0b\u7684\u5185\u5bb9\uff0c\u5305\u62ec\u4e00\u4e9b\u9ad8\u7ea7\u4e3b\u9898\u548c\u5b9e\u9645\u5e94\u7528\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#41-mysql-query-optimization","title":"41. MySQL \u67e5\u8be2\u4f18\u5316\uff08Query Optimization\uff09","text":"<ul> <li>\u7d22\u5f15\u4f18\u5316\uff1a<ul> <li>\u8986\u76d6\u7d22\u5f15\uff1a\u4f7f\u67e5\u8be2\u53ea\u901a\u8fc7\u7d22\u5f15\u5373\u53ef\u5b8c\u6210\uff0c\u65e0\u9700\u8bbf\u95ee\u6570\u636e\u884c\u3002    <code>sql    CREATE INDEX idx_name ON table_name (column1, column2);</code></li> <li>\u9009\u62e9\u6027\uff1a\u7d22\u5f15\u5e94\u9009\u62e9\u6027\u9ad8\u7684\u5217\uff0c\u5373\u5177\u6709\u8f83\u591a\u4e0d\u540c\u503c\u7684\u5217\u3002</li> </ul> </li> <li>\u67e5\u8be2\u91cd\u5199\uff1a<ul> <li>\u907f\u514d SELECT *\uff1a\u53ea\u9009\u62e9\u9700\u8981\u7684\u5217\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u3002</li> <li>\u4f7f\u7528 EXISTS \u66ff\u4ee3 IN\uff1aEXISTS \u901a\u5e38\u6bd4 IN \u66f4\u9ad8\u6548\u3002    <code>sql    SELECT * FROM table1 WHERE EXISTS (SELECT 1 FROM table2 WHERE table2.id = table1.id);</code></li> </ul> </li> <li>EXPLAIN \u8bed\u53e5\uff1a\u5206\u6790\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\u3002      <code>sql      EXPLAIN SELECT * FROM table_name WHERE column = 'value';</code></li> <li>\u4f18\u5316\u5b50\u67e5\u8be2\uff1a\u5c3d\u91cf\u907f\u514d\u5b50\u67e5\u8be2\uff0c\u4f7f\u7528\u8fde\u63a5\uff08JOIN\uff09\u8fdb\u884c\u4f18\u5316\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#42-mysql-index-types","title":"42. MySQL \u7d22\u5f15\u7c7b\u578b\uff08Index Types\uff09","text":"<ul> <li>B-Tree \u7d22\u5f15\uff1a\u9ed8\u8ba4\u7d22\u5f15\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u8303\u56f4\u67e5\u8be2\u548c\u6392\u5e8f\u3002</li> <li>\u54c8\u5e0c\u7d22\u5f15\uff1a\u7528\u4e8e\u7cbe\u786e\u5339\u914d\u67e5\u8be2\uff0c\u6027\u80fd\u9ad8\uff0c\u4f46\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2\u3002</li> <li>\u5168\u6587\u7d22\u5f15\uff1a\u7528\u4e8e\u5bf9\u6587\u672c\u6570\u636e\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002      <code>sql      CREATE FULLTEXT INDEX idx_fulltext ON table_name(column_name);</code></li> <li>\u7a7a\u95f4\u7d22\u5f15\uff1a\u7528\u4e8e\u5730\u7406\u6570\u636e\u7684\u7a7a\u95f4\u67e5\u8be2\u3002      <code>sql      CREATE SPATIAL INDEX idx_spatial ON table_name(geometry_column);</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#43-mysql-database-design","title":"43. MySQL \u6570\u636e\u5e93\u8bbe\u8ba1\uff08Database Design\uff09","text":"<ul> <li>\u8303\u5f0f\uff08Normalization\uff09\uff1a\u5c06\u6570\u636e\u7ec4\u7ec7\u5230\u4e0d\u540c\u7684\u8868\u4e2d\uff0c\u51cf\u5c11\u6570\u636e\u5197\u4f59\u3002<ul> <li>\u7b2c\u4e00\u8303\u5f0f\uff081NF\uff09\uff1a\u786e\u4fdd\u8868\u4e2d\u6bcf\u5217\u90fd\u662f\u539f\u5b50\u7684\u3002</li> <li>\u7b2c\u4e8c\u8303\u5f0f\uff082NF\uff09\uff1a\u6d88\u9664\u90e8\u5206\u4f9d\u8d56\u3002</li> <li>\u7b2c\u4e09\u8303\u5f0f\uff083NF\uff09\uff1a\u6d88\u9664\u4f20\u9012\u4f9d\u8d56\u3002</li> </ul> </li> <li>\u53cd\u8303\u5f0f\uff08Denormalization\uff09\uff1a\u5728\u7279\u5b9a\u60c5\u51b5\u4e0b\u5408\u5e76\u8868\uff0c\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</li> <li>ER \u56fe\uff08Entity-Relationship Diagram\uff09\uff1a\u53ef\u89c6\u5316\u6570\u636e\u5e93\u8bbe\u8ba1\uff0c\u5e2e\u52a9\u7406\u89e3\u8868\u4e0e\u8868\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/advance/#44-mysql-database-migration","title":"44. MySQL \u6570\u636e\u5e93\u8fc1\u79fb\uff08Database Migration\uff09","text":"<ul> <li>\u6570\u636e\u8fc1\u79fb\u5de5\u5177\uff1a<ul> <li>mysqldump\uff1a\u8fdb\u884c\u903b\u8f91\u5907\u4efd\u548c\u6062\u590d\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/","title":"MySQL \u57fa\u7840\u6559\u7a0b","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#mysql_1","title":"MySQL \u57fa\u7840\u6559\u7a0b\u5168\u9762\u8be6\u7ec6\u8bb2\u89e3","text":"<p>MySQL \u662f\u4e00\u79cd\u6d41\u884c\u7684\u5f00\u6e90\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08RDBMS\uff09\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e Web \u5f00\u53d1\u3001\u6570\u636e\u5206\u6790\u7b49\u9886\u57df\u3002\u672c\u6559\u7a0b\u5c06\u4ece\u57fa\u7840\u6982\u5ff5\u3001\u5b89\u88c5\u914d\u7f6e\u3001\u57fa\u672c\u64cd\u4f5c\u3001\u6570\u636e\u5e93\u8bbe\u8ba1\u3001\u7d22\u5f15\u4e0e\u4f18\u5316\u7b49\u65b9\u9762\u5168\u9762\u8be6\u7ec6\u8bb2\u89e3 MySQL \u7684\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#1-mysql","title":"1. MySQL \u57fa\u7840\u6982\u5ff5","text":"<ul> <li>\u6570\u636e\u5e93\uff1a\u6570\u636e\u5e93\u662f\u4e00\u4e2a\u6709\u7ec4\u7ec7\u7684\u6570\u636e\u96c6\u5408\u3002MySQL \u6570\u636e\u5e93\u5b58\u50a8\u6570\u636e\uff0c\u5e76\u5141\u8bb8\u7528\u6237\u6267\u884c CRUD\uff08\u521b\u5efa\u3001\u8bfb\u53d6\u3001\u66f4\u65b0\u3001\u5220\u9664\uff09\u64cd\u4f5c\u3002</li> <li>\u8868\uff1a\u8868\u662f\u6570\u636e\u5e93\u4e2d\u7684\u57fa\u672c\u5b58\u50a8\u7ed3\u6784\uff0c\u7531\u884c\u548c\u5217\u7ec4\u6210\u3002\u6bcf\u4e00\u884c\u4ee3\u8868\u4e00\u4e2a\u8bb0\u5f55\uff0c\u5217\u4ee3\u8868\u6570\u636e\u7684\u5c5e\u6027\u3002</li> <li>\u5217\uff1a\u8868\u4e2d\u7684\u5217\u5b9a\u4e49\u4e86\u6570\u636e\u7684\u7c7b\u578b\uff0c\u4f8b\u5982\u6574\u6570\u3001\u5b57\u7b26\u4e32\u3001\u65e5\u671f\u7b49\u3002</li> <li>\u884c\uff1a\u884c\u662f\u8868\u4e2d\u7684\u4e00\u6761\u8bb0\u5f55\uff0c\u5305\u542b\u4e86\u4e0e\u67d0\u4e2a\u5b9e\u4f53\u76f8\u5173\u7684\u6240\u6709\u5c5e\u6027\u6570\u636e\u3002</li> <li>\u4e3b\u952e\uff08Primary Key\uff09\uff1a\u4e3b\u952e\u662f\u552f\u4e00\u6807\u8bc6\u8868\u4e2d\u6bcf\u4e00\u884c\u7684\u5b57\u6bb5\u6216\u5b57\u6bb5\u7ec4\u5408\u3002\u5b83\u786e\u4fdd\u6bcf\u4e00\u884c\u8bb0\u5f55\u90fd\u662f\u552f\u4e00\u7684\u3002</li> <li>\u5916\u952e\uff08Foreign Key\uff09\uff1a\u5916\u952e\u7528\u4e8e\u5728\u8868\u4e4b\u95f4\u5efa\u7acb\u8054\u7cfb\uff0c\u5b83\u5f15\u7528\u53e6\u4e00\u4e2a\u8868\u7684\u4e3b\u952e\uff0c\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#2-mysql","title":"2. MySQL \u5b89\u88c5\u4e0e\u914d\u7f6e","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#21-mysql","title":"2.1 \u5b89\u88c5 MySQL","text":"<ul> <li>Windows\uff1a</li> <li>\u4e0b\u8f7d MySQL Installer \u5e76\u6309\u7167\u5411\u5bfc\u8fdb\u884c\u5b89\u88c5\u3002</li> <li>\u914d\u7f6e\u521d\u59cb\u8bbe\u7f6e\uff0c\u5982 root \u7528\u6237\u5bc6\u7801\u3002</li> <li>Linux\uff1a</li> <li>\u4f7f\u7528\u5305\u7ba1\u7406\u5668\u5b89\u88c5\uff0c\u5982 <code>sudo apt-get install mysql-server</code>\u3002</li> <li>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u542f\u52a8 MySQL \u670d\u52a1\uff1a<code>sudo service mysql start</code>\u3002</li> <li>macOS\uff1a</li> <li>\u4f7f\u7528 Homebrew \u5b89\u88c5\uff1a<code>brew install mysql</code>\u3002</li> <li>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u542f\u52a8 MySQL \u670d\u52a1\uff1a<code>brew services start mysql</code>\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#22-mysql","title":"2.2 MySQL \u914d\u7f6e","text":"<ul> <li>\u914d\u7f6e\u6587\u4ef6\uff1aMySQL \u7684\u4e3b\u8981\u914d\u7f6e\u6587\u4ef6\u4e3a <code>my.cnf</code> \u6216 <code>my.ini</code>\uff0c\u4f4d\u7f6e\u56e0\u7cfb\u7edf\u800c\u5f02\u3002</li> <li>\u8c03\u6574\u914d\u7f6e\uff1a\u53ef\u4ee5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u53c2\u6570\uff0c\u5982\u6700\u5927\u8fde\u63a5\u6570\u3001\u7f13\u51b2\u533a\u5927\u5c0f\u3001\u65e5\u5fd7\u6587\u4ef6\u4f4d\u7f6e\u7b49\uff0c\u4ee5\u4f18\u5316\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#3-mysql","title":"3. MySQL \u57fa\u672c\u64cd\u4f5c","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#31-mysql","title":"3.1 \u8fde\u63a5 MySQL","text":"<p>\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177 <code>mysql</code> \u8fde\u63a5\u5230 MySQL \u670d\u52a1\u5668\uff1a</p> <pre><code>mysql -u root -p\n</code></pre> <p>\u8f93\u5165\u5bc6\u7801\u540e\u8fdb\u5165 MySQL \u547d\u4ee4\u884c\u754c\u9762\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#32","title":"3.2 \u521b\u5efa\u6570\u636e\u5e93","text":"<pre><code>CREATE DATABASE mydatabase;\n</code></pre> <p>\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>mydatabase</code> \u7684\u6570\u636e\u5e93\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#33","title":"3.3 \u521b\u5efa\u8868","text":"<pre><code>USE mydatabase;\nCREATE TABLE users (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    username VARCHAR(50) NOT NULL,\n    email VARCHAR(100),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n</code></pre> <p>\u521b\u5efa\u4e00\u4e2a <code>users</code> \u8868\uff0c\u5305\u542b <code>id</code>\u3001<code>username</code>\u3001<code>email</code> \u548c <code>created_at</code> \u5217\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#34","title":"3.4 \u63d2\u5165\u6570\u636e","text":"<pre><code>INSERT INTO users (username, email) VALUES ('john_doe', 'john@example.com');\n</code></pre> <p>\u5411 <code>users</code> \u8868\u4e2d\u63d2\u5165\u4e00\u6761\u8bb0\u5f55\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#35","title":"3.5 \u67e5\u8be2\u6570\u636e","text":"<pre><code>SELECT * FROM users;\n</code></pre> <p>\u67e5\u8be2 <code>users</code> \u8868\u4e2d\u7684\u6240\u6709\u6570\u636e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#36","title":"3.6 \u66f4\u65b0\u6570\u636e","text":"<pre><code>UPDATE users SET email = 'john_doe@example.com' WHERE username = 'john_doe';\n</code></pre> <p>\u66f4\u65b0 <code>users</code> \u8868\u4e2d <code>john_doe</code> \u7684 <code>email</code>\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#37","title":"3.7 \u5220\u9664\u6570\u636e","text":"<pre><code>DELETE FROM users WHERE username = 'john_doe';\n</code></pre> <p>\u5220\u9664 <code>users</code> \u8868\u4e2d <code>username</code> \u4e3a <code>john_doe</code> \u7684\u8bb0\u5f55\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#4","title":"4. \u6570\u636e\u5e93\u8bbe\u8ba1","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#41","title":"4.1 \u89c4\u8303\u5316","text":"<p>\u6570\u636e\u5e93\u8bbe\u8ba1\u4e2d\uff0c\u89c4\u8303\u5316\u7528\u4e8e\u6d88\u9664\u5197\u4f59\u6570\u636e\uff0c\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002\u5e38\u89c1\u7684\u8303\u5f0f\u6709\uff1a</p> <ul> <li>\u7b2c\u4e00\u8303\u5f0f\uff081NF\uff09\uff1a\u786e\u4fdd\u6bcf\u5217\u90fd\u662f\u4e0d\u53ef\u5206\u5272\u7684\u539f\u5b50\u503c\u3002</li> <li>\u7b2c\u4e8c\u8303\u5f0f\uff082NF\uff09\uff1a\u5728 1NF \u57fa\u7840\u4e0a\uff0c\u6d88\u9664\u975e\u4e3b\u952e\u5b57\u6bb5\u5bf9\u4e3b\u952e\u90e8\u5206\u7684\u4f9d\u8d56\u3002</li> <li>\u7b2c\u4e09\u8303\u5f0f\uff083NF\uff09\uff1a\u5728 2NF \u57fa\u7840\u4e0a\uff0c\u6d88\u9664\u975e\u4e3b\u952e\u5b57\u6bb5\u4e4b\u95f4\u7684\u4f20\u9012\u4f9d\u8d56\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#42","title":"4.2 \u6570\u636e\u5e93\u5173\u7cfb","text":"<p>\u8bbe\u8ba1\u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u8003\u8651\u8868\u4e0e\u8868\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a</p> <ul> <li>\u4e00\u5bf9\u4e00\uff1a\u5982\u7528\u6237\u4e0e\u7528\u6237\u8be6\u7ec6\u4fe1\u606f\u7684\u5173\u7cfb\u3002</li> <li>\u4e00\u5bf9\u591a\uff1a\u5982\u7528\u6237\u4e0e\u8ba2\u5355\u7684\u5173\u7cfb\uff0c\u4e00\u4e2a\u7528\u6237\u53ef\u4ee5\u6709\u591a\u4e2a\u8ba2\u5355\u3002</li> <li>\u591a\u5bf9\u591a\uff1a\u5982\u5b66\u751f\u4e0e\u8bfe\u7a0b\u7684\u5173\u7cfb\uff0c\u4e00\u4e2a\u5b66\u751f\u53ef\u4ee5\u9009\u4fee\u591a\u95e8\u8bfe\u7a0b\uff0c\u4e00\u95e8\u8bfe\u7a0b\u53ef\u4ee5\u6709\u591a\u4e2a\u5b66\u751f\u9009\u4fee\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#5","title":"5. \u7d22\u5f15\u4e0e\u4f18\u5316","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#51","title":"5.1 \u7d22\u5f15\u7684\u4f5c\u7528","text":"<p>\u7d22\u5f15\u7528\u4e8e\u52a0\u901f\u67e5\u8be2\u3002\u5e38\u89c1\u7684\u7d22\u5f15\u7c7b\u578b\u5305\u62ec\uff1a</p> <ul> <li>\u666e\u901a\u7d22\u5f15\uff1a\u52a0\u901f\u67e5\u8be2\u4f46\u4e0d\u4f1a\u4fdd\u8bc1\u552f\u4e00\u6027\u3002</li> <li>\u552f\u4e00\u7d22\u5f15\uff1a\u786e\u4fdd\u5217\u4e2d\u7684\u503c\u552f\u4e00\u3002</li> <li>\u5168\u6587\u7d22\u5f15\uff1a\u7528\u4e8e\u5168\u6587\u641c\u7d22\u3002</li> </ul> <p>\u521b\u5efa\u7d22\u5f15\uff1a</p> <pre><code>CREATE INDEX idx_username ON users(username);\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#52","title":"5.2 \u67e5\u8be2\u4f18\u5316","text":"<ul> <li>\u5206\u6790\u67e5\u8be2\u8ba1\u5212\uff1a\u4f7f\u7528 <code>EXPLAIN</code> \u8bed\u53e5\u67e5\u770b\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u3002</li> <li>\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a\u7b80\u5316\u590d\u6742\u7684\u67e5\u8be2\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5168\u8868\u626b\u63cf\u3002</li> <li>\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\uff1a\u4f7f\u7528 MySQL \u7684\u67e5\u8be2\u7f13\u5b58\u529f\u80fd\uff0c\u51cf\u5c11\u91cd\u590d\u67e5\u8be2\u5e26\u6765\u7684\u8d1f\u8f7d\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#53","title":"5.3 \u6570\u636e\u5e93\u7ef4\u62a4","text":"<ul> <li>\u5b9a\u671f\u5907\u4efd\uff1a\u4f7f\u7528 <code>mysqldump</code> \u5de5\u5177\u5b9a\u671f\u5907\u4efd\u6570\u636e\u5e93\uff0c\u4ee5\u9632\u6570\u636e\u4e22\u5931\u3002</li> <li>\u4f18\u5316\u8868\uff1a\u4f7f\u7528 <code>OPTIMIZE TABLE</code> \u547d\u4ee4\u6574\u7406\u8868\u7ed3\u6784\uff0c\u91ca\u653e\u672a\u4f7f\u7528\u7684\u7a7a\u95f4\u3002</li> <li>\u76d1\u63a7\u6027\u80fd\uff1a\u901a\u8fc7 MySQL \u81ea\u5e26\u7684\u6027\u80fd\u76d1\u63a7\u5de5\u5177\u6216\u7b2c\u4e09\u65b9\u5de5\u5177\u76d1\u63a7\u6570\u636e\u5e93\u6027\u80fd\uff0c\u53ca\u65f6\u53d1\u73b0\u5e76\u89e3\u51b3\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#6","title":"6. \u9ad8\u7ea7\u4e3b\u9898","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#61","title":"6.1 \u4e8b\u52a1\u7ba1\u7406","text":"<p>MySQL \u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>START TRANSACTION</code>\u3001<code>COMMIT</code> \u548c <code>ROLLBACK</code> \u6765\u63a7\u5236\u4e8b\u52a1\uff1a</p> <pre><code>START TRANSACTION;\nUPDATE accounts SET balance = balance - 100 WHERE account_id = 1;\nUPDATE accounts SET balance = balance + 100 WHERE account_id = 2;\nCOMMIT;\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#62","title":"6.2 \u9501\u673a\u5236","text":"<p>MySQL \u63d0\u4f9b\u4e86\u8868\u7ea7\u9501\u548c\u884c\u7ea7\u9501\u6765\u7ba1\u7406\u5e76\u53d1\u8bbf\u95ee\uff1a - \u8868\u7ea7\u9501\uff1a\u9501\u4f4f\u6574\u4e2a\u8868\uff0c\u9002\u7528\u4e8e\u5c11\u91cf\u5927\u6570\u636e\u66f4\u65b0\u7684\u573a\u666f\u3002 - \u884c\u7ea7\u9501\uff1a\u9501\u4f4f\u7279\u5b9a\u884c\uff0c\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u7684\u5c0f\u6570\u636e\u66f4\u65b0\u573a\u666f\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#63","title":"6.3 \u590d\u5236\u4e0e\u9ad8\u53ef\u7528","text":"<p>MySQL \u652f\u6301\u4e3b\u4ece\u590d\u5236\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u4e3b\u4ece\u670d\u52a1\u5668\uff0c\u5b9e\u73b0\u6570\u636e\u7684\u81ea\u52a8\u540c\u6b65\uff0c\u589e\u5f3a\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/basic/#7","title":"7. \u53c2\u8003\u8d44\u6e90","text":"<ul> <li>MySQL \u5b98\u65b9\u6587\u6863</li> <li>\u300a\u9ad8\u6027\u80fd MySQL\u300b</li> <li>\u300aMySQL \u6280\u672f\u5185\u5e55\u300b</li> </ul> <p>\u901a\u8fc7\u8fd9\u4e9b\u77e5\u8bc6\uff0c\u4f60\u53ef\u4ee5\u638c\u63e1 MySQL \u7684\u57fa\u672c\u548c\u9ad8\u7ea7\u529f\u80fd\uff0c\u6ee1\u8db3\u4ece\u65e5\u5e38\u5f00\u53d1\u5230\u5927\u89c4\u6a21\u7cfb\u7edf\u67b6\u6784\u7684\u9700\u6c42\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/","title":"MySQL \u9762\u8bd5\u9898","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#1-mysql","title":"1. MySQL \u4e2d\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u51e0\u79cd\uff1f\u5404\u81ea\u89e3\u51b3\u4e86\u54ea\u4e9b\u95ee\u9898\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4e8b\u52a1\u5728\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u4e0e\u5176\u4ed6\u4e8b\u52a1\u4e4b\u95f4\u7684\u9694\u79bb\u7a0b\u5ea6\u3002MySQL \u652f\u6301\u56db\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1a<ol> <li>Read Uncommitted\uff08\u672a\u63d0\u4ea4\u8bfb\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\u3002</li> <li>\u95ee\u9898\uff1a\u53ef\u80fd\u4f1a\u53d1\u751f\u201c\u810f\u8bfb\u201d\u73b0\u8c61\uff0c\u5373\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u4fee\u6539\u4f46\u672a\u63d0\u4ea4\u7684\u6570\u636e\u3002\u5982\u679c\u8be5\u4e8b\u52a1\u56de\u6eda\uff0c\u8fd9\u4e9b\u6570\u636e\u5c06\u5931\u6548\u3002</li> </ul> </li> <li>Read Committed\uff08\u63d0\u4ea4\u8bfb\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u4e8b\u52a1\u53ea\u80fd\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u5df2\u7ecf\u63d0\u4ea4\u7684\u6570\u636e\u3002</li> <li>\u95ee\u9898\uff1a\u907f\u514d\u4e86\u201c\u810f\u8bfb\u201d\uff0c\u4f46\u53ef\u80fd\u4f1a\u51fa\u73b0\u201c\u4e0d\u53ef\u91cd\u590d\u8bfb\u201d\u73b0\u8c61\uff0c\u5373\u540c\u4e00\u4e8b\u52a1\u5185\u7684\u591a\u6b21\u8bfb\u53d6\u7ed3\u679c\u4e0d\u4e00\u81f4\u3002</li> </ul> </li> <li>Repeatable Read\uff08\u53ef\u91cd\u590d\u8bfb\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u4fdd\u8bc1\u5728\u540c\u4e00\u4e2a\u4e8b\u52a1\u5185\u7684\u591a\u6b21\u8bfb\u53d6\u7ed3\u679c\u4e00\u81f4\uff0c\u9632\u6b62\u201c\u4e0d\u53ef\u91cd\u590d\u8bfb\u201d\u73b0\u8c61\u3002</li> <li>\u95ee\u9898\uff1a\u907f\u514d\u4e86\u201c\u4e0d\u53ef\u91cd\u590d\u8bfb\u201d\uff0c\u4f46\u53ef\u80fd\u4f1a\u53d1\u751f\u201c\u5e7b\u8bfb\u201d\u73b0\u8c61\u3002MySQL \u7684 InnoDB \u5f15\u64ce\u901a\u8fc7 Next-Key Locking \u6280\u672f\u907f\u514d\u4e86\u201c\u5e7b\u8bfb\u201d\u3002</li> </ul> </li> <li>Serializable\uff08\u53ef\u4e32\u884c\u5316\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u63d0\u4f9b\u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u6240\u6709\u4e8b\u52a1\u4e32\u884c\u6267\u884c\uff0c\u907f\u514d\u4e86\u4e0a\u8ff0\u6240\u6709\u95ee\u9898\u3002</li> <li>\u95ee\u9898\uff1a\u6027\u80fd\u8f83\u4f4e\uff0c\u901a\u5e38\u53ea\u6709\u5728\u975e\u5e38\u9ad8\u7684\u4e8b\u52a1\u4e00\u81f4\u6027\u8981\u6c42\u4e0b\u624d\u4f1a\u4f7f\u7528\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u4e0d\u540c\u9694\u79bb\u7ea7\u522b\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u9ad8\u9694\u79bb\u7ea7\u522b\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u4e8b\u52a1\u4e00\u81f4\u6027\uff0c\u4f46\u540c\u65f6\u4e5f\u5e26\u6765\u4e86\u66f4\u5927\u7684\u6027\u80fd\u5f00\u9500\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#2-mysql","title":"2. \u4ec0\u4e48\u662f MySQL \u7684\u9501\u673a\u5236\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u9501\u673a\u5236\u662f\u6570\u636e\u5e93\u5728\u591a\u7528\u6237\u5e76\u53d1\u8bbf\u95ee\u65f6\uff0c\u7528\u6765\u7ba1\u7406\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u65b9\u5f0f\u3002MySQL \u4e2d\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u9501\uff1a<ol> <li>\u8868\u7ea7\u9501\uff08Table Lock\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u9501\u5b9a\u6574\u4e2a\u8868\uff0c\u5206\u4e3a\u8bfb\u9501\u548c\u5199\u9501\u3002\u8bfb\u9501\u4e4b\u95f4\u4e0d\u4e92\u65a5\uff0c\u4f46\u5199\u9501\u4e0e\u8bfb\u9501\u3001\u5199\u9501\u4e4b\u95f4\u4e92\u65a5\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u5927\u6279\u91cf\u6570\u636e\u7684\u8bfb\u5199\u64cd\u4f5c\uff0c\u7b80\u5355\u4f46\u5e76\u53d1\u6027\u80fd\u8f83\u5dee\u3002</li> </ul> </li> <li>\u884c\u7ea7\u9501\uff08Row Lock\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u9501\u5b9a\u67d0\u4e00\u884c\u6570\u636e\uff0c\u7c92\u5ea6\u66f4\u5c0f\u5e76\u53d1\u6027\u80fd\u66f4\u9ad8\u3002MySQL \u7684 InnoDB \u5b58\u50a8\u5f15\u64ce\u652f\u6301\u884c\u7ea7\u9501\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u7684\u5e94\u7528\u7cfb\u7edf\u3002</li> </ul> </li> <li>\u95f4\u9699\u9501\uff08Gap Lock\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u9501\u5b9a\u4e00\u4e2a\u8303\u56f4\uff08\u4f46\u4e0d\u5305\u542b\u8bb0\u5f55\u672c\u8eab\uff09\uff0c\u9632\u6b62\u5176\u4ed6\u4e8b\u52a1\u63d2\u5165\u65b0\u8bb0\u5f55\uff0c\u4e3b\u8981\u7528\u4e8e\u9632\u6b62\u5e7b\u8bfb\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u5728\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u4e0b\u4f7f\u7528\uff0c\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9501\u673a\u5236\u662f\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684\u91cd\u8981\u624b\u6bb5\uff0c\u4e0d\u540c\u7684\u9501\u7c92\u5ea6\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u4e1a\u52a1\u573a\u666f\u3002\u8868\u7ea7\u9501\u9002\u7528\u4e8e\u7b80\u5355\u7684\u8bfb\u5199\u64cd\u4f5c\uff0c\u884c\u7ea7\u9501\u5219\u5728\u9ad8\u5e76\u53d1\u7684\u5e94\u7528\u573a\u666f\u4e2d\u8868\u73b0\u66f4\u4f18\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#3-mysql","title":"3. \u4ec0\u4e48\u662f MySQL \u4e2d\u7684\u7d22\u5f15\uff1f\u6709\u54ea\u51e0\u79cd\u5e38\u89c1\u7c7b\u578b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u7d22\u5f15\u662f\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u4e00\u5217\u6216\u591a\u5217\u7684\u503c\u8fdb\u884c\u6392\u5e8f\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u52a0\u5feb\u6570\u636e\u7684\u68c0\u7d22\u901f\u5ea6\u3002MySQL \u4e2d\u5e38\u89c1\u7684\u7d22\u5f15\u7c7b\u578b\u5305\u62ec\uff1a<ol> <li>B-Tree \u7d22\u5f15\uff1a<ul> <li>\u7279\u70b9\uff1a\u6700\u5e38\u89c1\u7684\u7d22\u5f15\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u5927\u90e8\u5206\u67e5\u8be2\u64cd\u4f5c\uff0c\u5c24\u5176\u662f\u8303\u56f4\u67e5\u8be2\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u5355\u5217\u3001\u591a\u5217\u3001\u552f\u4e00\u7d22\u5f15\u3002</li> </ul> </li> <li>Hash \u7d22\u5f15\uff1a<ul> <li>\u7279\u70b9\uff1a\u57fa\u4e8e\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\u7d22\u5f15\uff0c\u67e5\u627e\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u4f46\u4ec5\u9002\u7528\u4e8e\u7b49\u503c\u67e5\u8be2\u3002</li> <li>\u9650\u5236\uff1a\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u8be2\uff0c\u4e0d\u80fd\u8fdb\u884c\u6392\u5e8f\u3002</li> </ul> </li> <li>\u5168\u6587\u7d22\u5f15\uff08Full-Text Index\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u7528\u4e8e\u5bf9\u6587\u672c\u8fdb\u884c\u5168\u6587\u68c0\u7d22\uff0c\u53ef\u4ee5\u5feb\u901f\u627e\u5230\u5173\u952e\u8bcd\u6240\u5728\u7684\u6587\u672c\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u5927\u6587\u672c\u5b57\u6bb5\u7684\u641c\u7d22\uff0c\u5982\u6587\u7ae0\u5185\u5bb9\u641c\u7d22\u3002</li> </ul> </li> <li>\u7a7a\u95f4\u7d22\u5f15\uff08Spatial Index\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u7528\u4e8e\u5b58\u50a8\u548c\u67e5\u8be2\u5730\u7406\u7a7a\u95f4\u6570\u636e\uff0c\u5982\u51e0\u4f55\u56fe\u5f62\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1aGIS \u5e94\u7528\u4e2d\u5b58\u50a8\u548c\u67e5\u8be2\u5730\u7406\u6570\u636e\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u7d22\u5f15\u662f\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u7684\u91cd\u8981\u624b\u6bb5\uff0c\u5408\u7406\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u5927\u5e45\u63d0\u5347\u6570\u636e\u5e93\u7684\u67e5\u8be2\u6548\u7387\u3002\u9700\u8981\u6839\u636e\u5177\u4f53\u7684\u67e5\u8be2\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7d22\u5f15\u7c7b\u578b\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#4-mysql","title":"4. \u5982\u4f55\u4f18\u5316 MySQL \u67e5\u8be2\u6027\u80fd\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4f18\u5316 MySQL \u67e5\u8be2\u6027\u80fd\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u4e3b\u8981\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u5165\u624b\uff1a<ol> <li>\u4f7f\u7528\u5408\u9002\u7684\u7d22\u5f15\uff1a<ul> <li>\u521b\u5efa\u7d22\u5f15\u65f6\u9700\u8003\u8651\u67e5\u8be2\u6a21\u5f0f\uff0c\u786e\u4fdd WHERE \u5b50\u53e5\u4e2d\u7684\u5b57\u6bb5\u88ab\u7d22\u5f15\u8986\u76d6\u3002</li> </ul> </li> <li>\u907f\u514d\u4f7f\u7528 SELECT *\uff1a<ul> <li>\u5c3d\u91cf\u53ea\u67e5\u8be2\u9700\u8981\u7684\u5b57\u6bb5\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u91cf\u3002</li> </ul> </li> <li>\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a<ul> <li>\u4f7f\u7528 EXPLAIN \u5206\u6790\u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u3002</li> </ul> </li> <li>\u4f7f\u7528\u67e5\u8be2\u7f13\u5b58\uff1a<ul> <li>\u5bf9\u4e8e\u9891\u7e41\u6267\u884c\u7684\u67e5\u8be2\u8bed\u53e5\uff0c\u542f\u7528 MySQL \u7684\u67e5\u8be2\u7f13\u5b58\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002</li> </ul> </li> <li>\u5408\u7406\u8bbe\u8ba1\u8868\u7ed3\u6784\uff1a<ul> <li>\u5bf9\u6570\u636e\u7c7b\u578b\u3001\u5b57\u6bb5\u957f\u5ea6\u3001\u8868\u7684\u89c4\u8303\u5316\u8fdb\u884c\u4f18\u5316\uff0c\u907f\u514d\u5197\u4f59\u6570\u636e\u548c\u6570\u636e\u81a8\u80c0\u3002</li> </ul> </li> <li>\u5206\u533a\u8868\uff1a<ul> <li>\u5bf9\u4e8e\u8d85\u5927\u8868\uff0c\u53ef\u4ee5\u901a\u8fc7\u5206\u533a\u6765\u5206\u6563\u6570\u636e\uff0c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</li> </ul> </li> <li>\u5782\u76f4\u548c\u6c34\u5e73\u62c6\u5206\uff1a<ul> <li>\u5f53\u5355\u8868\u6570\u636e\u91cf\u8fc7\u5927\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u5bf9\u8868\u8fdb\u884c\u5782\u76f4\u6216\u6c34\u5e73\u62c6\u5206\uff0c\u5206\u6563\u67e5\u8be2\u538b\u529b\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u7684\u67e5\u8be2\u4f18\u5316\u662f\u4e00\u4e2a\u7efc\u5408\u6027\u7684\u8fc7\u7a0b\uff0c\u9700\u8981\u7ed3\u5408\u4e1a\u52a1\u9700\u6c42\u3001\u6570\u636e\u5e93\u67b6\u6784\u8bbe\u8ba1\u548c\u5177\u4f53\u7684\u67e5\u8be2\u65b9\u5f0f\u6765\u8fdb\u884c\u7efc\u5408\u8c03\u6574\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#5-mysql","title":"5. MySQL \u4e2d\u7684\u4e3b\u4ece\u590d\u5236\u673a\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4e3b\u4ece\u590d\u5236\uff08Master-Slave Replication\uff09\u662f MySQL \u7684\u4e00\u79cd\u9ad8\u53ef\u7528\u67b6\u6784\uff0c\u901a\u8fc7\u5c06\u6570\u636e\u4ece\u4e3b\u5e93\u590d\u5236\u5230\u4ece\u5e93\uff0c\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u548c\u6570\u636e\u5907\u4efd\u3002\u5176\u5de5\u4f5c\u673a\u5236\u5305\u62ec\uff1a<ol> <li>\u4e3b\u5e93\uff08Master\uff09\uff1a<ul> <li>\u5728\u4e3b\u5e93\u4e0a\uff0c\u6240\u6709\u7684\u6570\u636e\u66f4\u6539\u64cd\u4f5c\u90fd\u4f1a\u8bb0\u5f55\u5728\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08binlog\uff09\u4e2d\u3002</li> </ul> </li> <li>\u4ece\u5e93\uff08Slave\uff09\uff1a<ul> <li>\u4ece\u5e93\u901a\u8fc7\u8bfb\u53d6\u4e3b\u5e93\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\u5e76\u5e94\u7528\u8fd9\u4e9b\u66f4\u6539\uff0c\u4ece\u800c\u4fdd\u6301\u4e0e\u4e3b\u5e93\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</li> </ul> </li> <li>\u590d\u5236\u7c7b\u578b\uff1a<ul> <li>\u5f02\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u4e0d\u7b49\u5f85\u4ece\u5e93\u786e\u8ba4\u5c31\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u64cd\u4f5c\uff0c\u6027\u80fd\u9ad8\u4f46\u53ef\u80fd\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u60c5\u51b5\u3002</li> <li>\u534a\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u81f3\u5c11\u7b49\u5f85\u4e00\u4e2a\u4ece\u5e93\u786e\u8ba4\u5199\u5165\u624d\u7b97\u63d0\u4ea4\u6210\u529f\uff0c\u63d0\u9ad8\u4e86\u6570\u636e\u5b89\u5168\u6027\u3002</li> <li>\u5168\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u7b49\u5f85\u6240\u6709\u4ece\u5e93\u786e\u8ba4\u540e\u624d\u7ee7\u7eed\u6267\u884c\uff0c\u6570\u636e\u4e00\u81f4\u6027\u6700\u9ad8\u4f46\u6027\u80fd\u6700\u4f4e\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u4e3b\u4ece\u590d\u5236\u53ef\u4ee5\u5b9e\u73b0 MySQL \u7684\u9ad8\u53ef\u7528\u6027\u548c\u6269\u5c55\u6027\uff0c\u4f46\u4e5f\u5e26\u6765\u4e86\u5ef6\u8fdf\u548c\u4e00\u81f4\u6027\u7684\u95ee\u9898\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u7ed3\u5408\u5177\u4f53\u7684\u4e1a\u52a1\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u590d\u5236\u6a21\u5f0f\uff0c\u5e76\u8fdb\u884c\u5408\u7406\u7684\u590d\u5236\u5ef6\u8fdf\u76d1\u63a7\u548c\u7ba1\u7406\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#6-mysql","title":"6. MySQL \u4e2d\u7684\u5206\u5e93\u5206\u8868\u7b56\u7565\u6709\u54ea\u4e9b\uff1f\u5982\u4f55\u5b9e\u73b0\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5206\u5e93\u5206\u8868\u662f MySQL \u5728\u6570\u636e\u91cf\u5de8\u5927\u65f6\u5e38\u7528\u7684\u6269\u5c55\u7b56\u7565\uff0c\u76ee\u7684\u662f\u901a\u8fc7\u5c06\u6570\u636e\u5206\u6563\u5230\u591a\u4e2a\u6570\u636e\u5e93\u6216\u8868\u4e2d\u6765\u63d0\u9ad8\u6027\u80fd\u548c\u53ef\u6269\u5c55\u6027\u3002<ol> <li>\u5782\u76f4\u5206\u5e93\u5206\u8868\uff1a<ul> <li>\u5782\u76f4\u5206\u5e93\uff1a\u6839\u636e\u4e1a\u52a1\u6a21\u5757\u5c06\u4e0d\u540c\u7684\u8868\u5206\u5e03\u5230\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u3002\u9002\u7528\u4e8e\u4e1a\u52a1\u6a21\u5757\u4e4b\u95f4\u76f8\u5bf9\u72ec\u7acb\u7684\u573a\u666f\u3002</li> <li>\u5782\u76f4\u5206\u8868\uff1a\u5c06\u8868\u6309\u5217\u62c6\u5206\u4e3a\u591a\u4e2a\u8868\uff0c\u9002\u7528\u4e8e\u5355\u8868\u5217\u6570\u8fc7\u591a\u3001\u90e8\u5206\u5217\u8bbf\u95ee\u9891\u7e41\u7684\u573a\u666f\u3002</li> </ul> </li> <li>\u6c34\u5e73\u5206\u5e93\u5206\u8868\uff1a<ul> <li>\u6c34\u5e73\u5206\u5e93\uff1a\u5c06\u540c\u4e00\u5f20\u8868\u7684\u6570\u636e\u6309\u67d0\u79cd\u89c4\u5219\uff08\u5982 ID \u54c8\u5e0c\uff09\u5206\u5e03\u5230\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u3002\u9002\u7528\u4e8e\u5355\u8868\u6570\u636e\u91cf\u8fc7\u5927\u7684\u573a\u666f\u3002</li> <li>\u6c34\u5e73\u5206\u8868\uff1a\u5c06\u540c\u4e00\u5f20\u8868\u7684\u6570\u636e\u6309\u67d0\u79cd\u89c4\u5219\u5206\u5e03\u5230\u591a\u4e2a\u8868\u4e2d\u3002\u9002\u7528\u4e8e\u5355\u8868\u6570\u636e\u91cf\u5927\u4e14\u65e0\u6cd5\u5355\u72ec\u901a\u8fc7\u5206\u5e93\u89e3\u51b3\u7684\u95ee\u9898\u3002</li> </ul> </li> <li>\u5b9e\u73b0\u65b9\u5f0f\uff1a<ul> <li>\u5206\u5e93\u5206\u8868\u4e2d\u95f4\u4ef6\uff1a\u4f7f\u7528 Sharding-JDBC\u3001MyCat \u7b49\u4e2d\u95f4\u4ef6\u5b9e\u73b0\u5206\u5e93\u5206\u8868\u903b\u8f91\uff0c\u5c4f\u853d\u5e95\u5c42\u7684\u5206\u5e93\u5206\u8868\u64cd\u4f5c\u3002</li> <li>\u5e94\u7528\u5c42\u5b9e\u73b0\uff1a\u5728\u5e94\u7528\u5c42\u901a\u8fc7\u7f16\u5199\u8def\u7531\u903b\u8f91\uff0c\u5c06\u67e5\u8be2\u8bf7\u6c42\u5206\u53d1\u5230\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u548c\u8868\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5206</p> <p>\u5e93\u5206\u8868\u7b56\u7565\u80fd\u591f\u6709\u6548\u89e3\u51b3\u5355\u5e93\u5355\u8868\u6027\u80fd\u74f6\u9888\u95ee\u9898\uff0c\u4f46\u4e5f\u5f15\u5165\u4e86\u4e8b\u52a1\u7ba1\u7406\u3001\u8de8\u5e93\u67e5\u8be2\u7b49\u590d\u6742\u6027\u95ee\u9898\u3002\u5728\u5b9e\u65bd\u65f6\u9700\u8981\u7efc\u5408\u8003\u8651\u4e1a\u52a1\u573a\u666f\u548c\u8fd0\u7ef4\u6210\u672c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#7-explain","title":"7. Explain\u547d\u4ee4\u7684\u4f5c\u7528\u53ca\u8f93\u51fa\u4fe1\u606f\u7684\u542b\u4e49\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>Explain\u547d\u4ee4\u7528\u4e8e\u5206\u6790 MySQL \u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u8ba1\u5212\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u7406\u89e3\u67e5\u8be2\u7684\u4f18\u5316\u8fc7\u7a0b\u3002\u5b83\u4e3b\u8981\u8f93\u51fa\u4ee5\u4e0b\u4fe1\u606f\uff1a<ul> <li>id\uff1a\u67e5\u8be2\u7684\u987a\u5e8f\u6807\u8bc6\u7b26\uff0c\u8d8a\u5927\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002</li> <li>select_type\uff1a\u67e5\u8be2\u7c7b\u578b\uff0c\u5982<code>SIMPLE</code>\uff08\u7b80\u5355\u67e5\u8be2\uff09\u3001<code>PRIMARY</code>\uff08\u4e3b\u67e5\u8be2\uff09\u3001<code>SUBQUERY</code>\uff08\u5b50\u67e5\u8be2\uff09\u3002</li> <li>table\uff1a\u67e5\u8be2\u6d89\u53ca\u7684\u8868\u540d\u3002</li> <li>type\uff1a\u8bbf\u95ee\u7c7b\u578b\uff0c\u8868\u793a\u67e5\u8be2\u4f18\u5316\u5668\u9009\u62e9\u7684\u67e5\u8be2\u65b9\u5f0f\u3002\u5e38\u89c1\u503c\u6709<code>ALL</code>\u3001<code>index</code>\u3001<code>range</code>\u3001<code>ref</code>\u3001<code>eq_ref</code>\u7b49\u3002</li> <li>possible_keys\uff1a\u53ef\u80fd\u4f7f\u7528\u7684\u7d22\u5f15\u3002</li> <li>key\uff1a\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15\u3002</li> <li>key_len\uff1a\u7d22\u5f15\u5b57\u6bb5\u7684\u957f\u5ea6\u3002</li> <li>ref\uff1a\u7d22\u5f15\u6bd4\u8f83\u7684\u5217\u3002</li> <li>rows\uff1a\u9884\u4f30\u626b\u63cf\u7684\u884c\u6570\u3002</li> <li>Extra\uff1a\u989d\u5916\u4fe1\u606f\uff0c\u5982<code>Using index</code>\u3001<code>Using where</code>\u3001<code>Using temporary</code>\u3001<code>Using filesort</code>\u3002</li> </ul> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7 Explain \u547d\u4ee4\u7684\u8f93\u51fa\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u8bc4\u4f30\u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u6548\u7387\uff0c\u5e76\u8fdb\u884c\u9488\u5bf9\u6027\u7684\u4f18\u5316\uff0c\u5982\u8c03\u6574\u7d22\u5f15\u3001\u4fee\u6539 SQL \u8bed\u53e5\u7ed3\u6784\u7b49\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#8-mysql-acid","title":"8. MySQL \u4e8b\u52a1\u7684 ACID \u7279\u6027\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4fdd\u8bc1\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>ACID \u662f\u6307\u4e8b\u52a1\u5fc5\u987b\u5177\u5907\u7684\u56db\u4e2a\u7279\u6027\uff1a<ol> <li>\u539f\u5b50\u6027\uff08Atomicity\uff09\uff1a<ul> <li>\u4e8b\u52a1\u7684\u6240\u6709\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6267\u884c\uff0c\u8981\u4e48\u5168\u90e8\u4e0d\u6267\u884c\u3002\u901a\u8fc7 MySQL \u7684 undo log \u5b9e\u73b0\u3002</li> </ul> </li> <li>\u4e00\u81f4\u6027\uff08Consistency\uff09\uff1a<ul> <li>\u4e8b\u52a1\u524d\u540e\u6570\u636e\u7684\u72b6\u6001\u662f\u4e00\u81f4\u7684\uff0c\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\u8f6c\u6362\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\u3002</li> </ul> </li> <li>\u9694\u79bb\u6027\uff08Isolation\uff09\uff1a<ul> <li>\u5e76\u53d1\u4e8b\u52a1\u4e4b\u95f4\u76f8\u4e92\u9694\u79bb\uff0c\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u4f1a\u88ab\u53e6\u4e00\u4e2a\u4e8b\u52a1\u5e72\u6270\u3002MySQL \u901a\u8fc7\u4e0d\u540c\u7684\u9694\u79bb\u7ea7\u522b\u548c\u9501\u673a\u5236\u6765\u5b9e\u73b0\u9694\u79bb\u6027\u3002</li> </ul> </li> <li>\u6301\u4e45\u6027\uff08Durability\uff09\uff1a<ul> <li>\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u6570\u636e\u7684\u53d8\u66f4\u5c31\u4f1a\u6c38\u4e45\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u3002MySQL \u901a\u8fc7 redo log \u5b9e\u73b0\u6301\u4e45\u6027\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aACID \u662f\u6570\u636e\u5e93\u4e8b\u52a1\u7ba1\u7406\u7684\u6838\u5fc3\u539f\u5219\uff0c\u901a\u8fc7\u65e5\u5fd7\u7cfb\u7edf\u548c\u9501\u673a\u5236\uff0cMySQL \u53ef\u4ee5\u6709\u6548\u4fdd\u8bc1\u4e8b\u52a1\u7684\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u9700\u8981\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u5408\u7406\u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u548c\u6301\u4e45\u6027\u7b56\u7565\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#9-mysql-innodb-myisam","title":"9. MySQL \u7684 InnoDB \u5b58\u50a8\u5f15\u64ce\u548c MyISAM \u5b58\u50a8\u5f15\u64ce\u6709\u54ea\u4e9b\u533a\u522b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>InnoDB \u548c MyISAM \u662f MySQL \u4e2d\u6700\u5e38\u7528\u7684\u4e24\u79cd\u5b58\u50a8\u5f15\u64ce\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u8bb8\u591a\u5173\u952e\u5dee\u5f02\uff1a<ol> <li>\u4e8b\u52a1\u652f\u6301\uff1a<ul> <li>InnoDB\uff1a\u652f\u6301 ACID \u4e8b\u52a1\uff0c\u63d0\u4f9b\u4e8b\u52a1\u7684\u56de\u6eda\u3001\u63d0\u4ea4\u3001\u5d29\u6e83\u6062\u590d\u529f\u80fd\u3002</li> <li>MyISAM\uff1a\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u64cd\u4f5c\u7b80\u5355\u4f46\u6570\u636e\u5b89\u5168\u6027\u8f83\u4f4e\u3002</li> </ul> </li> <li>\u9501\u673a\u5236\uff1a<ul> <li>InnoDB\uff1a\u652f\u6301\u884c\u7ea7\u9501\uff0c\u9002\u5408\u9ad8\u5e76\u53d1\u64cd\u4f5c\uff0c\u51cf\u5c11\u9501\u51b2\u7a81\u3002</li> <li>MyISAM\uff1a\u53ea\u652f\u6301\u8868\u7ea7\u9501\uff0c\u9501\u51b2\u7a81\u8f83\u591a\uff0c\u5c24\u5176\u5728\u5199\u64cd\u4f5c\u9891\u7e41\u65f6\u3002</li> </ul> </li> <li>\u5916\u952e\u652f\u6301\uff1a<ul> <li>InnoDB\uff1a\u652f\u6301\u5916\u952e\u7ea6\u675f\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u53c2\u7167\u5b8c\u6574\u6027\u3002</li> <li>MyISAM\uff1a\u4e0d\u652f\u6301\u5916\u952e\uff0c\u8868\u7ed3\u6784\u7b80\u5355\u3002</li> </ul> </li> <li>\u5d29\u6e83\u6062\u590d\uff1a<ul> <li>InnoDB\uff1a\u5177\u5907\u5d29\u6e83\u6062\u590d\u80fd\u529b\uff0c\u901a\u8fc7 redo log \u548c undo log \u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002</li> <li>MyISAM\uff1a\u5d29\u6e83\u540e\u9700\u624b\u52a8\u4fee\u590d\u8868\u7ed3\u6784\u548c\u6570\u636e\u3002</li> </ul> </li> <li>\u5168\u6587\u7d22\u5f15\uff1a<ul> <li>InnoDB\uff1a\u5728 MySQL 5.6 \u53ca\u4e4b\u540e\u7248\u672c\u652f\u6301\u5168\u6587\u7d22\u5f15\uff0c\u4f46\u6027\u80fd\u4e0d\u5982 MyISAM\u3002</li> <li>MyISAM\uff1a\u5bf9\u6587\u672c\u6570\u636e\u63d0\u4f9b\u9ad8\u6548\u7684\u5168\u6587\u7d22\u5f15\u3002</li> </ul> </li> <li>\u5b58\u50a8\u7ed3\u6784\uff1a<ul> <li>InnoDB\uff1a\u6570\u636e\u5b58\u50a8\u5728\u4e3b\u952e\u7d22\u5f15\u7684 B+ \u6811\u4e2d\uff08\u805a\u7c07\u7d22\u5f15\uff09\uff0c\u8868\u6570\u636e\u548c\u7d22\u5f15\u540c\u65f6\u5b58\u50a8\u3002</li> <li>MyISAM\uff1a\u8868\u6570\u636e\u548c\u7d22\u5f15\u5206\u5f00\u5b58\u50a8\uff0c\u7d22\u5f15\u6587\u4ef6\u6307\u5411\u6570\u636e\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aInnoDB \u662f MySQL \u9ed8\u8ba4\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u9002\u7528\u4e8e\u9700\u8981\u4e8b\u52a1\u652f\u6301\u3001\u9ad8\u5e76\u53d1\u5904\u7406\u548c\u6570\u636e\u5b8c\u6574\u6027\u7684\u573a\u666f\u3002MyISAM \u5219\u66f4\u9002\u5408\u8bfb\u64cd\u4f5c\u8f83\u591a\u3001\u5bf9\u4e8b\u52a1\u8981\u6c42\u4e0d\u9ad8\u7684\u573a\u666f\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#10-mysql","title":"10. MySQL \u4e2d\u5982\u4f55\u5904\u7406\u6b7b\u9501\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u6b7b\u9501\u662f\u5728\u591a\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u76f8\u4e92\u6301\u6709\u5bf9\u65b9\u6240\u9700\u7684\u9501\uff0c\u5bfc\u81f4\u4e8b\u52a1\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u7684\u95ee\u9898\u3002MySQL \u5904\u7406\u6b7b\u9501\u7684\u65b9\u5f0f\u4e3b\u8981\u5305\u62ec\uff1a<ol> <li>\u6b7b\u9501\u68c0\u6d4b\uff1a<ul> <li>MySQL \u4f1a\u81ea\u52a8\u68c0\u6d4b\u662f\u5426\u53d1\u751f\u4e86\u6b7b\u9501\uff0c\u5e76\u901a\u8fc7\u56de\u6eda\u4ee3\u4ef7\u6700\u5c0f\u7684\u4e8b\u52a1\u6765\u89e3\u51b3\u6b7b\u9501\u95ee\u9898\u3002</li> </ul> </li> <li>\u5408\u7406\u4f7f\u7528\u4e8b\u52a1\uff1a<ul> <li>\u786e\u4fdd\u5728\u4e8b\u52a1\u4e2d\u5c3d\u91cf\u4ee5\u76f8\u540c\u7684\u987a\u5e8f\u8bbf\u95ee\u8d44\u6e90\uff0c\u907f\u514d\u4ea7\u751f\u6b7b\u9501\u3002</li> </ul> </li> <li>\u51cf\u5c11\u9501\u5b9a\u65f6\u95f4\uff1a<ul> <li>\u5c3d\u91cf\u7f29\u77ed\u4e8b\u52a1\u7684\u6267\u884c\u65f6\u95f4\uff0c\u51cf\u5c11\u9501\u7684\u6301\u6709\u65f6\u95f4\uff0c\u4ece\u800c\u964d\u4f4e\u6b7b\u9501\u53d1\u751f\u7684\u6982\u7387\u3002</li> </ul> </li> <li>\u4f7f\u7528\u8f83\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff1a<ul> <li>\u5728\u9002\u5f53\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u8f83\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff08\u5982 Read Committed\uff09\uff0c\u4ee5\u51cf\u5c11\u9501\u51b2\u7a81\u7684\u673a\u4f1a\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u6b7b\u9501\u662f\u5e76\u53d1\u4e8b\u52a1\u5904\u7406\u4e2d\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u901a\u8fc7\u5408\u7406\u8bbe\u8ba1\u4e8b\u52a1\u903b\u8f91\u3001\u4f7f\u7528\u5408\u9002\u7684\u9694\u79bb\u7ea7\u522b\u4ee5\u53ca MySQL \u81ea\u8eab\u7684\u6b7b\u9501\u68c0\u6d4b\u673a\u5236\uff0c\u53ef\u4ee5\u6709\u6548\u907f\u514d\u548c\u5904\u7406\u6b7b\u9501\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#11-mysql","title":"11. \u4ec0\u4e48\u662f\u5206\u533a\u8868\uff1f\u5982\u4f55\u4f7f\u7528 MySQL \u5206\u533a\u8868\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5206\u533a\u8868\u662f\u5c06\u4e00\u5f20\u8868\u7684\u6570\u636e\u6309\u67d0\u79cd\u89c4\u5219\u5206\u6210\u591a\u4e2a\u7269\u7406\u5206\u533a\uff0c\u4ece\u800c\u63d0\u9ad8\u67e5\u8be2\u548c\u7ba1\u7406\u6027\u80fd\u3002MySQL \u652f\u6301\u4ee5\u4e0b\u51e0\u79cd\u5206\u533a\u7c7b\u578b\uff1a<ol> <li>RANGE \u5206\u533a\uff1a<ul> <li>\u6839\u636e\u5217\u503c\u7684\u8303\u56f4\u5212\u5206\u5206\u533a\u3002\u9002\u7528\u4e8e\u65e5\u671f\u3001\u6570\u5b57\u7b49\u8fde\u7eed\u6570\u636e\u7684\u5206\u533a\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE sales (       id INT,       sale_date DATE   )   PARTITION BY RANGE (YEAR(sale_date)) (       PARTITION p0 VALUES LESS THAN (2000),       PARTITION p1 VALUES LESS THAN (2005),       PARTITION p2 VALUES LESS THAN (2010)   );</code></li> </ul> </li> <li>LIST \u5206\u533a\uff1a<ul> <li>\u6839\u636e\u5217\u503c\u7684\u679a\u4e3e\u503c\u5212\u5206\u5206\u533a\u3002\u9002\u7528\u4e8e\u975e\u8fde\u7eed\u4e14\u6709\u9650\u7684\u679a\u4e3e\u503c\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE sales (       id INT,       region VARCHAR(10)   )   PARTITION BY LIST (region) (       PARTITION p0 VALUES IN ('North', 'South'),       PARTITION p1 VALUES IN ('East', 'West')   );</code></li> </ul> </li> <li>HASH \u5206\u533a\uff1a<ul> <li>\u6839\u636e\u5217\u503c\u7684\u54c8\u5e0c\u503c\u5212\u5206\u5206\u533a\u3002\u9002\u7528\u4e8e\u6570\u636e\u91cf\u5927\u4e14\u5206\u5e03\u5747\u5300\u7684\u60c5\u51b5\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE sales (       id INT,       sale_amount DECIMAL(10, 2)   )   PARTITION BY HASH (id) PARTITIONS 4;</code></li> </ul> </li> <li>KEY \u5206\u533a\uff1a<ul> <li>\u57fa\u4e8e MySQL \u5185\u90e8\u751f\u6210\u7684\u54c8\u5e0c\u7b97\u6cd5\u5212\u5206\u5206\u533a\u3002\u9002\u7528\u4e8e\u9700\u8981\u81ea\u52a8\u5206\u533a\u7ba1\u7406\u7684\u573a\u666f\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE sales (       id INT,       sale_amount DECIMAL(10, 2)   )   PARTITION BY KEY (id) PARTITIONS 4;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5206\u533a\u8868\u6709\u52a9\u4e8e\u63d0\u9ad8\u5927\u8868\u7684\u67e5\u8be2\u6027\u80fd\u548c\u7ba1\u7406\u6548\u7387\uff0c\u4f46\u9700\u8981\u6ce8\u610f\u5206\u533a\u7684\u8bbe\u8ba1\u548c\u7ef4\u62a4\u6210\u672c\u3002\u9009\u62e9\u5408\u9002\u7684\u5206\u533a\u7c7b\u578b\u548c\u7b56\u7565\uff0c\u80fd\u591f\u6709\u6548\u63d0\u5347\u6570\u636e\u5e93\u7684\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#12-mysql","title":"12. MySQL \u7684\u590d\u5236\u5ef6\u8fdf\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u89e3\u51b3\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u590d\u5236\u5ef6\u8fdf\u662f\u6307\u4e3b\u5e93\u7684\u6570\u636e\u66f4\u6539\u64cd\u4f5c\u4f20\u9012\u5230\u4ece\u5e93\u5e76\u88ab\u5e94\u7528\u65f6\u6240\u4ea7\u751f\u7684\u5ef6\u8fdf\u3002\u5bfc\u81f4\u590d\u5236\u5ef6\u8fdf\u7684\u539f\u56e0\u548c\u89e3\u51b3\u65b9\u6848\u5305\u62ec\uff1a<ol> <li>\u4e3b\u5e93\u8d1f\u8f7d\u8fc7\u9ad8\uff1a<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u4f18\u5316\u4e3b\u5e93\u7684\u67e5\u8be2\u548c\u5199\u64cd\u4f5c\uff0c\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u4e8b\u52a1\u9501\uff0c\u63d0\u5347\u4e3b\u5e93\u6027\u80fd\u3002</li> </ul> </li> <li>\u4ece\u5e93\u8d1f\u8f7d\u8fc7\u9ad8\uff1a<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u63d0\u5347\u4ece\u5e93\u7684\u786c\u4ef6\u6027\u80fd\uff0c\u6216\u8005\u901a\u8fc7\u589e\u52a0\u4ece\u5e93\u6570\u91cf\u6765\u5206\u6563\u8bfb\u53d6\u538b\u529b\u3002</li> </ul> </li> <li>\u7f51\u7edc\u5ef6\u8fdf\uff1a<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u4f18\u5316\u7f51\u7edc\u914d\u7f6e\uff0c\u786e\u4fdd\u4e3b\u4ece\u5e93\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u7a33\u5b9a\u4e14\u5feb\u901f\u3002</li> </ul> </li> <li>\u6162\u67e5\u8be2\uff1a<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u5728\u4ece\u5e93\u4e0a\u4f18\u5316\u6162\u67e5\u8be2\uff0c\u6216\u8005\u901a\u8fc7\u8bbe\u7f6e\u4e0d\u540c\u7684\u67e5\u8be2\u7f13\u5b58\u6765\u7f13\u89e3\u67e5\u8be2\u538b\u529b\u3002</li> </ul> </li> <li>\u4ece\u5e93 I/O \u74f6\u9888\uff1a<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528\u66f4\u5feb\u7684\u78c1\u76d8\uff0c\u5982 SSD\uff0c\u6216\u8005\u5c06\u4e0d\u540c\u7684\u6570\u636e\u5e93\u6587\u4ef6\u5206\u5e03\u5230\u4e0d\u540c\u7684\u78c1\u76d8\u4e0a\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u590d\u5236\u5ef6\u8fdf\u4f1a\u5bfc\u81f4\u4ece\u5e93\u6570\u636e\u4e0d\u53ca\u65f6\uff0c\u4ece\u800c\u5f71\u54cd\u7cfb\u7edf\u7684\u8bfb\u6027\u80fd\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002\u901a\u8fc7\u4f18\u5316\u4e3b\u4ece\u5e93\u7684\u914d\u7f6e\u3001\u67e5\u8be2\u6027\u80fd\u548c\u7f51\u7edc\u73af\u5883\uff0c\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u590d\u5236\u5ef6\u8fdf\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#13-mysql","title":"13. MySQL \u4e2d\u7684\u6162\u67e5\u8be2\u65e5\u5fd7\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\u5b83\u6765\u4f18\u5316\u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\u8bb0\u5f55\u4e86\u5728 MySQL \u4e2d\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u9608\u503c\u7684 SQL \u8bed\u53e5\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u5206\u6790\u548c\u4f18\u5316\u6162\u67e5\u8be2\u3002\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a<ol> <li>\u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a<ul> <li>\u914d\u7f6e<code>my.cnf</code>\u6587\u4ef6\uff0c\u8bbe\u7f6e\u4ee5\u4e0b\u9009\u9879\uff1a   <code>ini   slow_query_log = 1   slow_query_log_file = /var/log/mysql/mysql-slow.log   long_query_time = 2</code></li> <li>\u8fd9\u5c06\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7 2 \u79d2\u7684\u67e5\u8be2\u3002</li> </ul> </li> <li>\u67e5\u770b\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a<ul> <li>\u4f7f\u7528\u547d\u4ee4<code>mysqldumpslow</code>\u6216\u76f4\u63a5\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\u6765\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u627e\u51fa\u6267\u884c\u9891\u7387\u9ad8\u3001\u6267\u884c\u65f6\u95f4\u957f\u7684 SQL \u8bed\u53e5\u3002</li> </ul> </li> <li>\u4f18\u5316\u6162\u67e5\u8be2\uff1a<ul> <li>\u6dfb\u52a0\u7d22\u5f15\uff1a\u5206\u6790\u6162\u67e5\u8be2\u6d89\u53ca\u7684\u8868\uff0c\u68c0\u67e5\u662f\u5426\u9700\u8981\u6dfb\u52a0\u6216\u4f18\u5316\u7d22\u5f15\u3002</li> <li>\u91cd\u6784 SQL \u8bed\u53e5\uff1a\u901a\u8fc7\u4f18\u5316\u67e5\u8be2\u6761\u4ef6\u3001\u51cf\u5c11\u5b50\u67e5\u8be2\u3001\u4f7f\u7528\u5408\u9002\u7684 JOIN \u7c7b\u578b\u7b49\u65b9\u5f0f\u4f18\u5316 SQL \u8bed\u53e5\u3002</li> <li>\u4f18\u5316\u8868\u7ed3\u6784\uff1a\u68c0\u67e5\u8868\u7684\u5b57\u6bb5\u7c7b\u578b\u548c\u957f\u5ea6\uff0c\u786e\u4fdd\u6700\u4f18\u7684\u5b58\u50a8\u548c\u67e5\u8be2\u6027\u80fd\u3002</li> <li>\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\uff1a\u5bf9\u4e8e\u9891\u7e41\u6267\u884c\u7684\u6162\u67e5\u8be2\uff0c\u8003\u8651\u4f7f\u7528\u67e5\u8be2\u7f13\u5b58\u6216\u7ed3\u679c\u7f13\u5b58\u6765\u63d0\u9ad8\u6027\u80fd\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u6162\u67e5\u8be2\u65e5\u5fd7\u662f MySQL \u6027\u80fd\u4f18\u5316\u7684\u91cd\u8981\u5de5\u5177\uff0c\u901a\u8fc7\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u53ef\u4ee5\u53d1\u73b0\u6570\u636e\u5e93\u4e2d\u5b58\u5728\u7684\u6027\u80fd\u74f6\u9888\uff0c\u5e76\u91c7\u53d6\u76f8\u5e94\u63aa\u65bd\u8fdb\u884c\u4f18\u5316\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#14-mysql","title":"14. MySQL \u5982\u4f55\u5904\u7406\u5927\u8868\u4e2d\u7684\u5206\u9875\u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5927\u8868\u5206\u9875\u67e5\u8be2\u901a\u5e38\u4f1a\u9047\u5230\u6027\u80fd\u95ee\u9898\uff0c\u56e0\u4e3a OFFSET \u8d8a\u5927\uff0cMySQL \u9700\u8981\u626b\u63cf\u7684\u8bb0\u5f55\u5c31\u8d8a\u591a\u3002\u5e38\u89c1\u7684\u4f18\u5316\u7b56\u7565\u5305\u62ec\uff1a<ol> <li>\u4f7f\u7528\u7d22\u5f15\u52a0\u901f\u5206\u9875\uff1a<ul> <li>\u57fa\u4e8e\u7d22\u5f15\u5b57\u6bb5\u8fdb\u884c\u5206\u9875\u67e5\u8be2\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 OFFSET\u3002\u793a\u4f8b\uff1a   <code>sql   SELECT * FROM large_table WHERE id &gt; 1000 LIMIT 10;</code></li> </ul> </li> <li>\u5ef6\u8fdf\u5173\u8054\uff08Deferred Join\uff09\uff1a<ul> <li>\u5148\u67e5\u8be2\u4e3b\u952e\uff0c\u7136\u540e\u901a\u8fc7\u4e3b\u952e\u5173\u8054\u83b7\u53d6\u5176\u4ed6\u5b57\u6bb5\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u91cf\u3002\u793a\u4f8b\uff1a   <code>sql   SELECT * FROM large_table   INNER JOIN (SELECT id FROM large_table ORDER BY id LIMIT 1000, 10) AS temp   USING (id);</code></li> </ul> </li> <li>\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\uff1a<ul> <li>\u5c3d\u91cf\u8ba9\u67e5\u8be2\u53ea\u4f9d\u8d56\u7d22\u5f15\uff0c\u51cf\u5c11\u8868\u7684\u8bfb\u53d6\u91cf\u3002\u793a\u4f8b\uff1a   <code>sql   SELECT id, name FROM large_table USE INDEX (idx_name) ORDER BY name LIMIT 1000, 10;</code></li> </ul> </li> <li>\u9650\u5236\u5206\u9875\u6df1\u5ea6\uff1a<ul> <li>\u5bf9\u5206\u9875\u67e5\u8be2\u7684\u6df1\u5ea6\u8fdb\u884c\u9650\u5236\uff0c\u6216\u8005\u5728\u5e94\u7528\u5c42\u9650\u5236\u7528\u6237\u8bbf\u95ee\u7684\u6700\u5927\u9875\u6570\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5927\u8868\u5206\u9875\u67e5\u8be2\u9700\u8981\u7ed3\u5408\u7d22\u5f15\u3001\u5ef6\u8fdf\u5173\u8054\u3001\u8986\u76d6\u7d22\u5f15\u7b49\u4f18\u5316\u624b\u6bb5\uff0c\u907f\u514d\u6027\u80fd\u95ee\u9898\u3002\u5728\u8bbe\u8ba1\u5206\u9875\u65b9\u6848\u65f6\uff0c\u5e94\u8003\u8651\u5230\u6570\u636e\u5e93\u7684\u8d1f\u8f7d\u548c\u67e5\u8be2\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#15-mysql","title":"15. MySQL \u4e2d\u7684\u5b58\u50a8\u8fc7\u7a0b\u548c\u89e6\u53d1\u5668\u7684\u533a\u522b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5b58\u50a8\u8fc7\u7a0b\u548c\u89e6\u53d1\u5668\u90fd\u662f MySQL \u4e2d\u7684\u6570\u636e\u5e93\u5bf9\u8c61\uff0c\u7528\u4e8e\u5c01\u88c5\u4e1a\u52a1\u903b\u8f91\uff0c\u4f46\u5b83\u4eec\u6709\u4ee5\u4e0b\u533a\u522b\uff1a<ol> <li>\u6267\u884c\u65f6\u673a\uff1a<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff1a\u7531\u7528\u6237\u660e\u786e\u8c03\u7528\uff0c\u901a\u8fc7<code>CALL</code>\u8bed\u53e5\u6267\u884c\u3002</li> <li>\u89e6\u53d1\u5668\uff1a\u5728\u8868\u7684<code>INSERT</code>\u3001<code>UPDATE</code>\u3001<code>DELETE</code>\u64cd\u4f5c\u53d1\u751f\u65f6\u81ea\u52a8\u6267\u884c\u3002</li> </ul> </li> <li>\u7528\u9014\uff1a<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff1a\u9002\u5408\u5b9e\u73b0\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5305\u542b\u591a\u4e2a\u6b65\u9aa4\u548c\u6d41\u7a0b\u63a7\u5236\u3002</li> <li>\u89e6\u53d1\u5668\uff1a\u9002\u5408\u7528\u4e8e\u5f3a\u5236\u4e1a\u52a1\u89c4\u5219\uff0c\u81ea\u52a8\u5316\u6267\u884c\u6570\u636e\u9a8c\u8bc1\u3001\u5ba1\u8ba1\u6216\u65e5\u5fd7\u8bb0\u5f55\u7b49\u64cd\u4f5c\u3002</li> </ul> </li> <li>\u6027\u80fd\u5f71\u54cd\uff1a<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff1a\u53ef\u4ee5\u6279\u91cf\u6267\u884c\u591a\u4e2a SQL \u8bed\u53e5\uff0c\u51cf\u5c11\u5ba2\u6237\u7aef\u4e0e\u6570\u636e\u5e93\u7684\u901a\u4fe1\uff0c\u63d0\u5347\u6027\u80fd\u3002</li> <li>\u89e6\u53d1\u5668\uff1a\u7531\u4e8e\u6bcf\u6b21\u6570\u636e\u4fee\u6539\u90fd\u4f1a\u89e6\u53d1\uff0c\u56e0\u6b64\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u53ef\u80fd\u5e26\u6765\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\u3002</li> </ul> </li> <li>\u7ef4\u62a4\u6027\uff1a<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff1a\u903b\u8f91\u76f8\u5bf9\u96c6\u4e2d\uff0c\u5bb9\u6613\u8c03\u8bd5\u548c\u7ef4\u62a4\u3002</li> <li>\u89e6\u53d1\u5668\uff1a\u903b\u8f91\u5206\u6563\u5728\u4e0d\u540c\u8868\u7684\u89e6\u53d1\u5668\u4e2d\uff0c\u53ef\u80fd\u589e\u52a0\u8c03\u8bd5\u548c\u7ef4\u62a4\u7684\u590d\u6742\u6027\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5b58\u50a8\u8fc7\u7a0b\u548c\u89e6\u53d1\u5668\u5404\u6709\u4f18\u7f3a\u70b9\uff0c\u9002\u7528\u7684\u573a\u666f\u4e0d\u540c\u3002\u5b58\u50a8\u8fc7\u7a0b\u9002\u5408\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\u5904\u7406\uff0c\u800c\u89e6\u53d1\u5668\u5219\u7528\u4e8e\u786e\u4fdd\u6570\u636e\u5b8c\u6574\u6027\u548c\u6267\u884c\u81ea\u52a8\u5316\u64cd\u4f5c\u3002\u5728\u4f7f\u7528\u65f6\u5e94\u6839\u636e\u5177\u4f53\u7684\u4e1a\u52a1\u9700\u6c42\u548c\u6027\u80fd\u8003\u8651\u8fdb\u884c\u9009\u62e9\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#16-mysql","title":"16. MySQL \u5982\u4f55\u5904\u7406\u5168\u6587\u68c0\u7d22\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5168\u6587\u68c0\u7d22\u5141\u8bb8\u5728\u5927\u91cf\u6587\u672c\u6570\u636e\u4e2d\u9ad8\u6548\u67e5\u627e\u5173\u952e\u5b57\u3002MySQL \u4e2d\u63d0\u4f9b\u4e86\u5168\u6587\u7d22\u5f15\u548c MATCH() AGAINST() \u51fd\u6570\u6765\u5b9e\u73b0\u5168\u6587\u68c0\u7d22\u3002<ol> <li>\u5168\u6587\u7d22\u5f15\u7684\u521b\u5efa\uff1a<ul> <li>\u5728 InnoDB \u6216 MyISAM \u8868\u4e2d\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff1a   <code>sql   CREATE TABLE articles (       id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,       title VARCHAR(200),       body TEXT,       FULLTEXT (title, body)   );</code></li> </ul> </li> <li>\u4f7f\u7528 MATCH() AGAINST() \u8fdb\u884c\u5168\u6587\u68c0\u7d22\uff1a<ul> <li>\u901a\u8fc7 MATCH() AGAINST() \u51fd\u6570\u5b9e\u73b0\u5168\u6587\u68c0\u7d22\uff1a   <code>sql   SELECT id, title, body   FROM articles   WHERE MATCH(title, body) AGAINST('keyword' IN NATURAL LANGUAGE MODE);</code></li> <li>\u6a21\u5f0f\uff1a</li> <li>NATURAL LANGUAGE MODE\uff1a\u81ea\u7136\u8bed\u8a00\u6a21\u5f0f\uff0c\u81ea\u52a8\u5ffd\u7565\u5e38\u89c1\u8bcd\u6c47\u548c\u505c\u6b62\u8bcd\u3002</li> <li>BOOLEAN MODE\uff1a\u5e03\u5c14\u6a21\u5f0f\uff0c\u652f\u6301 AND, OR, NOT \u7b49\u5e03\u5c14\u64cd\u4f5c\u7b26\u3002</li> <li>WITH QUERY EXPANSION\uff1a\u67e5\u8be2\u6269\u5c55\u6a21\u5f0f\uff0c\u901a\u8fc7\u5339\u914d\u7ed3\u679c\u4e2d\u76f8\u5173\u6027\u8f83\u9ad8\u7684\u8bcd\u6c47\u6269\u5c55\u67e5\u8be2\u6761\u4ef6\u3002</li> </ul> </li> <li>\u5168\u6587\u68c0\u7d22\u7684\u4f18\u5316\uff1a<ul> <li>\u8c03\u6574<code>ft_min_word_len</code>\u53c2\u6570\uff1a\u8bbe\u7f6e\u6700\u5c0f\u7d22\u5f15\u8bcd\u957f\u5ea6\uff0c\u9ed8\u8ba4\u4e3a 4\u3002</li> <li>\u505c\u7528\u8bcd\u7684\u5904\u7406\uff1a\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u505c\u6b62\u8bcd\u6587\u4ef6\u6765\u63a7\u5236\u54ea\u4e9b\u8bcd\u4e0d\u88ab\u7d22\u5f15\u3002</li> <li>\u7ed3\u679c\u6392\u5e8f\uff1a\u901a\u8fc7<code>MATCH() AGAINST()</code>\u8fd4\u56de\u7684\u76f8\u5173\u6027\u5f97\u5206\u8fdb\u884c\u7ed3\u679c\u6392\u5e8f\uff0c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u7684\u5168\u6587\u68c0\u7d22\u529f\u80fd\u9002\u7528\u4e8e\u5927\u6587\u672c\u6570\u636e\u7684\u9ad8\u6548\u641c\u7d22\uff0c\u901a\u8fc7\u521b\u5efa\u5168\u6587\u7d22\u5f15\u548c\u4f7f\u7528 MATCH() AGAINST() \u51fd\u6570\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5feb\u901f\u800c\u51c6\u786e\u7684\u6587\u672c\u68c0\u7d22\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u9700\u6c42\u8c03\u6574\u76f8\u5173\u53c2\u6570\uff0c\u4f18\u5316\u5168\u6587\u68c0\u7d22\u7684\u6548\u679c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#17-mysql","title":"17. MySQL \u7684\u9501\u673a\u5236\u6709\u54ea\u4e9b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u9501\u673a\u5236\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u7528\u4e8e\u7ba1\u7406\u5e76\u53d1\u8bbf\u95ee\u7684\u91cd\u8981\u624b\u6bb5\u3002MySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u9501\u673a\u5236\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\uff1a<ol> <li>\u8868\u7ea7\u9501\uff08Table Lock\uff09\uff1a<ul> <li>\u9501\u5b9a\u6574\u5f20\u8868\uff0c\u9002\u7528\u4e8e\u5927\u90e8\u5206 MyISAM \u8868\u64cd\u4f5c\u3002</li> <li>\u4f18\u70b9\uff1a\u5f00\u9500\u8f83\u5c0f\uff0c\u9002\u5408\u67e5\u8be2\u9891\u7e41\u3001\u4fee\u6539\u8f83\u5c11\u7684\u573a\u666f\u3002</li> <li>\u7f3a\u70b9\uff1a\u5e76\u53d1\u5ea6\u4f4e\uff0c\u5728\u9ad8\u5e76\u53d1\u5199\u64cd\u4f5c\u65f6\u5bb9\u6613\u9020\u6210\u74f6\u9888\u3002</li> </ul> </li> <li>\u884c\u7ea7\u9501\uff08Row Lock\uff09\uff1a<ul> <li>\u9501\u5b9a\u7279\u5b9a\u884c\uff0c\u9002\u7528\u4e8e InnoDB \u8868\u64cd\u4f5c\u3002</li> <li>\u4f18\u70b9\uff1a\u5e76\u53d1\u5ea6\u9ad8\uff0c\u9002\u5408\u9ad8\u5e76\u53d1\u8bfb\u5199\u64cd\u4f5c\u3002</li> <li>\u7f3a\u70b9\uff1a\u5f00\u9500\u8f83\u5927\uff0c\u9501\u51b2\u7a81\u68c0\u6d4b\u548c\u7ba1\u7406\u590d\u6742\u3002</li> </ul> </li> <li>\u5171\u4eab\u9501\uff08S\u9501\uff0c\u5171\u4eab\u9501\uff09\uff1a<ul> <li>\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\u53d6\u4e00\u884c\u6570\u636e\uff0c\u4f46\u4e0d\u5141\u8bb8\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002</li> <li>\u5e94\u7528\u573a\u666f\uff1a\u5728\u6267\u884c SELECT \u64cd\u4f5c\u65f6\u4f7f\u7528\u3002</li> </ul> </li> <li>\u6392\u4ed6\u9501\uff08X\u9501\uff0c\u72ec\u5360\u9501\uff09\uff1a<ul> <li>\u963b\u6b62\u5176\u4ed6\u4e8b\u52a1\u8bfb\u53d6\u548c\u4fee\u6539\u9501\u5b9a\u7684\u884c\u6570\u636e\u3002</li> <li>\u5e94\u7528\u573a\u666f\uff1a\u5728\u6267\u884c INSERT\u3001UPDATE\u3001DELETE \u7b49\u5199\u64cd\u4f5c\u65f6\u4f7f\u7528\u3002</li> </ul> </li> <li>\u610f\u5411\u9501\uff08Intention Lock\uff09\uff1a<ul> <li>InnoDB \u4f7f\u7528\u7684\u9501\uff0c\u5206\u4e3a\u610f\u5411\u5171\u4eab\u9501\u548c\u610f\u5411\u6392\u4ed6\u9501\uff0c\u7528\u4e8e\u5728\u52a0\u8868\u7ea7\u9501\u65f6\u907f\u514d\u51b2\u7a81\u3002</li> <li>\u5e94\u7528\u573a\u666f\uff1a\u610f\u5411\u9501\u4e0d\u963b\u585e\u4efb\u4f55\u64cd\u4f5c\uff0c\u4ec5\u7528\u4e8e\u8868\u9501\u4e0e\u884c\u9501\u7684\u517c\u5bb9\u6027\u68c0\u67e5\u3002</li> </ul> </li> <li>\u6b7b\u9501\u68c0\u6d4b\uff1a<ul> <li>\u5f53\u4e24\u4e2a\u6216\u591a\u4e2a\u4e8b\u52a1\u76f8\u4e92\u6301\u6709\u5bf9\u65b9\u9700\u8981\u7684\u9501\u65f6\uff0c\u5c31\u4f1a\u4ea7\u751f\u6b7b\u9501\u3002InnoDB \u901a\u8fc7\u56de\u6eda\u4ee3\u4ef7\u6700\u5c0f\u7684\u4e8b\u52a1\u6765\u89e3\u51b3\u6b7b\u9501\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9501\u673a\u5236\u662f MySQL \u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684\u91cd\u8981\u624b\u6bb5\u3002\u6839\u636e\u4e0d\u540c\u7684\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u9501\u673a\u5236\uff0c\u53ef\u4ee5\u5728\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\u7684\u540c\u65f6\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#18-mysql","title":"18. MySQL \u5982\u4f55\u8fdb\u884c\u5927\u6570\u636e\u91cf\u7684\u5bfc\u5165\u5bfc\u51fa\u64cd\u4f5c\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5927\u6570\u636e\u91cf\u7684\u5bfc\u5165\u5bfc\u51fa\u64cd\u4f5c\u901a\u5e38\u6d89\u53ca\u5230\u6027\u80fd\u548c\u6570\u636e\u5b8c\u6574\u6027\u95ee\u9898\u3002MySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u6cd5\u6765\u8fdb\u884c\u8fd9\u4e9b\u64cd\u4f5c\uff1a<ol> <li>\u4f7f\u7528<code>LOAD DATA INFILE</code>\u5bfc\u5165\u6570\u636e\uff1a<ul> <li>\u9ad8\u6548\u7684\u5927\u6570\u636e\u91cf\u5bfc\u5165\u65b9\u6cd5\uff0c\u76f4\u63a5\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   LOAD DATA INFILE '/path/to/yourfile.csv'   INTO TABLE your_table   FIELDS TERMINATED BY ','    LINES TERMINATED BY '\\n';</code></li> <li>\u4f18\u5316\u5efa\u8bae\uff1a\u7981\u7528\u552f\u4e00\u952e\u7ea6\u675f\u3001\u7981\u7528\u7d22\u5f15\u3001\u8c03\u6574\u6279\u5904\u7406\u5927\u5c0f\u3001\u5173\u95ed\u81ea\u52a8\u63d0\u4ea4\uff08\u4f7f\u7528\u4e8b\u52a1\uff09\u3002</li> </ul> </li> <li>\u4f7f\u7528<code>SELECT INTO OUTFILE</code>\u5bfc\u51fa\u6570\u636e\uff1a<ul> <li>\u9ad8\u6548\u7684\u6570\u636e\u5bfc\u51fa\u65b9\u6cd5\uff0c\u76f4\u63a5\u5c06\u67e5\u8be2\u7ed3\u679c\u8f93\u51fa\u5230\u6587\u4ef6\u4e2d\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   SELECT * FROM your_table   INTO OUTFILE '/path/to/yourfile.csv'   FIELDS TERMINATED BY ','    LINES TERMINATED BY '\\n';</code></li> </ul> </li> <li>\u4f7f\u7528 mysqldump \u5de5\u5177\uff1a<ul> <li>\u652f\u6301 SQL \u683c\u5f0f\u7684\u5bfc\u51fa\uff0c\u9002\u5408\u5907\u4efd\u548c\u8de8\u670d\u52a1\u5668\u7684\u6570\u636e\u8fc1\u79fb\u3002</li> <li>\u793a\u4f8b\uff1a   <code>bash   mysqldump -u user -p database_name &gt; backup.sql</code></li> <li>\u4f18\u5316\u5efa\u8bae\uff1a\u4f7f\u7528<code>--quick</code>\u9009\u9879\u907f\u514d\u5185\u5b58\u6ea2\u51fa\uff0c\u4f7f\u7528<code>--single-transaction</code>\u9009\u9879\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul> </li> <li>\u5206\u6279\u6b21\u5bfc\u5165\u5bfc\u51fa\uff1a<ul> <li>\u5bf9\u4e8e\u8d85\u5927\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u5206\u6279\u6b21\u5bfc\u5165\u5bfc\u51fa\uff0c\u51cf\u5c11\u5185\u5b58\u5360\u7528\u548c\u4e8b\u52a1\u538b\u529b\u3002</li> </ul> </li> <li>\u538b\u7f29\u548c\u89e3\u538b\u7f29\uff1a<ul> <li>\u5bfc\u51fa\u6570\u636e\u65f6\u53ef\u4ee5\u901a\u8fc7<code>gzip</code>\u8fdb\u884c\u538b\u7f29\uff0c\u5bfc\u5165\u65f6\u518d\u89e3\u538b\uff0c\u4ee5\u51cf\u5c11\u5b58\u50a8\u548c\u4f20\u8f93\u7684\u65f6\u95f4\u3002</li> <li>\u793a\u4f8b\uff1a   <code>bash   mysqldump -u user -p database_name | gzip &gt; backup.sql.gz</code> <code>bash   gunzip &lt; backup.sql.gz | mysql -u user -p database_name</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5927\u6570\u636e\u91cf\u7684\u5bfc\u5165\u5bfc\u51fa\u9700\u8981\u8003\u8651\u6027\u80fd\u3001\u5185\u5b58\u5360\u7528\u3001\u6570\u636e\u4e00\u81f4\u6027\u7b49\u95ee\u9898\u3002\u901a\u8fc7\u9009\u62e9\u5408\u9002\u7684\u5de5\u5177\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u6570\u636e\u5bfc\u5165\u5bfc\u51fa\u7684\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#19-mysql-count","title":"19. MySQL \u4e2d\u5982\u4f55\u4f18\u5316 COUNT(*) \u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>COUNT(*) \u662f MySQL \u4e2d\u5e38\u7528\u7684\u8ba1\u6570\u64cd\u4f5c\uff0c\u4f46\u5728\u5927\u8868\u4e2d\u6267\u884c\u65f6\u53ef\u80fd\u4f1a\u5b58\u5728\u6027\u80fd\u95ee\u9898\u3002\u4f18\u5316 COUNT(*) \u7684\u65b9\u6cd5\u5305\u62ec\uff1a<ol> <li>\u4f18\u5316\u7d22\u5f15\uff1a<ul> <li>\u5982\u679c\u8868\u6709\u4e3b\u952e\u6216\u552f\u4e00\u7d22\u5f15\uff0cCOUNT(*) \u53ef\u4ee5\u5229\u7528\u8fd9\u4e9b\u7d22\u5f15\u6765\u52a0\u5feb\u7edf\u8ba1\u901f\u5ea6\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   SELECT COUNT(primary_key) FROM your_table;</code></li> </ul> </li> <li>\u8986\u76d6\u7d22\u5f15\uff1a<ul> <li>\u901a\u8fc7\u8ba9\u67e5\u8be2\u4ec5\u626b\u63cf\u7d22\u5f15\u800c\u4e0d\u8bfb\u53d6\u8868\u6570\u636e\u6765\u63d0\u5347 COUNT(*) \u6027\u80fd\u3002</li> <li>\u793a\u4f8b\uff1a   <code>sql   SELECT COUNT(*) FROM your_table USE INDEX (index_name);</code></li> </ul> </li> <li>\u5229\u7528\u7f13\u5b58\uff1a<ul> <li>\u5bf9\u4e8e\u9891\u7e41\u6267\u884c\u7684 COUNT(*) \u67e5\u8be2\uff0c\u53ef\u4ee5\u5c06\u7ed3\u679c\u7f13\u5b58\uff0c\u4ee5\u51cf\u5c11\u91cd\u590d\u8ba1\u7b97\u7684\u5f00\u9500\u3002</li> </ul> </li> <li>\u5206\u533a\u8868\u4f18\u5316\uff1a<ul> <li>\u5bf9\u5927\u8868\u8fdb\u884c\u5206\u533a\u540e\uff0c\u53ef\u4ee5\u5e76\u884c\u8ba1\u7b97\u5404\u5206\u533a\u7684 COUNT(*) \u503c\uff0c\u518d\u5c06\u7ed3\u679c\u5408\u5e76\uff0c\u63d0\u5347\u6027\u80fd\u3002</li> </ul> </li> <li>\u9884\u8ba1\u7b97\u548c\u5b58\u50a8\uff1a<ul> <li>\u5bf9\u4e8e\u53d8\u5316\u4e0d\u9891\u7e41\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u5b9a\u671f\u8ba1\u7b97 COUNT(*) \u7ed3\u679c\u5e76\u5b58\u50a8\u5728\u5355\u72ec\u7684\u8868\u4e2d\uff0c\u67e5\u8be2\u65f6\u76f4\u63a5\u8bfb\u53d6\u9884\u8ba1\u7b97\u7ed3\u679c\u3002</li> </ul> </li> <li>\u907f\u514d\u65e0\u7d22\u5f15\u626b\u63cf\uff1a<ul> <li>\u907f\u514d\u5728\u65e0\u7d22\u5f15\u7684\u8868\u4e0a\u6267\u884c COUNT(*) \u67e5\u8be2\uff0c\u8003\u8651\u5bf9\u5e38\u67e5\u8be2\u7684\u5b57\u6bb5\u5efa\u7acb\u7d22\u5f15\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aCOUNT() \u64cd\u4f5c\u5728\u5927\u8868\u4e0a\u53ef\u80fd\u4f1a\u5f15\u53d1\u6027\u80fd\u95ee\u9898\uff0c\u901a\u8fc7\u7d22\u5f15\u4f18\u5316\u3001\u7f13\u5b58\u3001\u5206\u533a\u8868\u7b49\u6280\u672f\u624b\u6bb5\uff0c\u53ef\u4ee5\u6709\u6548\u63d0\u5347 COUNT() \u67e5\u8be2\u7684\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#20-mysql-uuid","title":"20. MySQL \u7684\u81ea\u589e\u4e3b\u952e\u548c UUID \u4f5c\u4e3a\u4e3b\u952e\u7684\u4f18\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u81ea\u589e\u4e3b\u952e\u548cUUID \u662f MySQL \u4e2d\u5e38\u7528\u7684\u4e3b\u952e\u751f\u6210\u65b9\u5f0f\uff0c\u5404\u6709\u4f18\u7f3a\u70b9\uff1a<ol> <li>\u81ea\u589e\u4e3b\u952e\uff1a<ul> <li>\u4f18\u70b9\uff1a</li> <li>\u81ea\u589e\u987a\u5e8f\uff1a\u6570\u636e\u63d2\u5165\u65f6\uff0c\u4e3b\u952e\u503c\u81ea\u52a8\u9012\u589e\uff0c\u7d22\u5f15\u63d2\u5165\u548c\u67e5\u627e\u6548\u7387\u8f83\u9ad8\u3002</li> <li>\u5b58\u50a8\u7d27\u51d1\uff1a\u6574\u6570\u7c7b\u578b\u7684\u81ea\u589e\u4e3b\u952e\u5360\u7528\u7a7a\u95f4\u5c11\uff0c\u5b58\u50a8\u7d27\u51d1\u3002</li> <li>\u65b9\u4fbf\u7ba1\u7406\uff1a\u901a\u8fc7\u81ea\u52a8\u751f\u6210\u4e3b\u952e\uff0c\u65e0\u9700\u989d\u5916\u7ef4\u62a4\u590d\u6742\u7684\u4e3b\u952e\u751f\u6210\u903b\u8f91\u3002</li> <li>\u7f3a\u70b9\uff1a</li> <li>\u4e3b\u4ece\u590d\u5236\u95ee\u9898\uff1a\u5728\u4e3b\u4ece\u590d\u5236\u73af\u5883\u4e0b\uff0c\u81ea\u589e\u4e3b\u952e\u53ef\u80fd\u5bfc\u81f4\u51b2\u7a81\uff0c\u9700\u989d\u5916\u914d\u7f6e\u3002</li> <li>\u5b89\u5168\u6027\uff1a\u81ea\u589e\u4e3b\u952e\u5bb9\u6613\u9884\u6d4b\uff0c\u53ef\u80fd\u5bfc\u81f4\u5b89\u5168\u6027\u95ee\u9898\u3002</li> </ul> </li> <li>UUID\uff1a<ul> <li>\u4f18\u70b9\uff1a</li> <li>\u5168\u5c40\u552f\u4e00\uff1aUUID \u53ef\u4ee5\u4fdd\u8bc1\u5728\u4e0d\u540c\u670d\u52a1\u5668\u4e0a\u751f\u6210\u7684\u4e3b\u952e\u503c\u4e0d\u51b2\u7a81\uff0c\u9002\u5408\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002</li> <li>\u5b89\u5168\u6027\u9ad8\uff1aUUID \u751f\u6210\u5177\u6709\u4e00\u5b9a\u7684\u968f\u673a\u6027\uff0c\u4e0d\u6613\u88ab\u9884\u6d4b\uff0c\u5b89\u5168\u6027\u9ad8\u3002</li> <li>\u7f3a\u70b9\uff1a</li> <li>\u5b58\u50a8\u7a7a\u95f4\u5927\uff1aUUID \u901a\u5e38\u4e3a 128 \u4f4d\uff0816 \u5b57\u8282\uff09\uff0c\u5360\u7528\u7a7a\u95f4\u8f83\u5927\u3002</li> <li>\u7d22\u5f15\u6027\u80fd\u5dee\uff1aUUID \u751f\u6210\u65e0\u5e8f\uff0c\u63d2\u5165\u6027\u80fd\u4f4e\uff0c\u53ef\u80fd\u5bfc\u81f4 B+ \u6811\u9891\u7e41\u5206\u88c2\uff0c\u5f71\u54cd\u67e5\u8be2\u6027\u80fd\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u81ea\u589e\u4e3b\u952e\u548c UUID \u5404\u6709\u4f18\u7f3a\u70b9\u3002\u5bf9\u4e8e\u5355\u673a\u6216\u7b80\u5355\u4e3b\u4ece\u590d\u5236\u73af\u5883\uff0c\u81ea\u589e\u4e3b\u952e\u6027\u80fd\u66f4\u9ad8\uff0c\u9002\u5408\u5927\u90e8\u5206\u5e94\u7528\u573a\u666f\u3002\u800c\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0cUUID \u80fd\u591f\u63d0\u4f9b\u66f4\u597d\u7684\u552f\u4e00\u6027\u548c\u5b89\u5168\u6027\uff0c\u4f46\u9700\u6743\u8861\u5b58\u50a8\u548c\u6027\u80fd\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#21-mysql","title":"21. MySQL \u7684\u4e3b\u4ece\u590d\u5236\u6709\u54ea\u4e9b\u5e38\u89c1\u95ee\u9898\uff1f\u5982\u4f55\u89e3\u51b3\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4e3b\u4ece\u590d\u5236\u662f MySQL \u7528\u4e8e\u6570\u636e\u5907\u4efd\u3001\u8bfb\u5199\u5206\u79bb\u7684\u91cd\u8981\u529f\u80fd\uff0c\u4f46\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\uff1a<ol> <li>\u4e3b\u4ece\u6570\u636e\u4e0d\u4e00\u81f4\uff1a<ul> <li>\u539f\u56e0\uff1a\u7f51\u7edc\u5ef6\u8fdf\u3001\u4ece\u5e93\u5ef6\u8fdf\u6216\u5199\u64cd\u4f5c\u672a\u6b63\u786e\u4f20\u64ad\u5230\u4ece\u5e93\u3002</li> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528 pt-table-checksum \u5de5\u5177\u5b9a\u671f\u68c0\u67e5\u4e3b\u4ece\u6570\u636e\u4e00\u81f4\u6027\uff0c\u53ca\u65f6\u4fee\u590d\u4e0d\u4e00\u81f4\u6570\u636e\u3002</li> </ul> </li> <li>\u4ece\u5e93\u5ef6\u8fdf\uff1a<ul> <li>\u539f\u56e0\uff1a\u4e3b\u5e93\u5199\u64cd\u4f5c\u8fc7\u591a\uff0c\u4ece\u5e93\u65e0\u6cd5\u53ca\u65f6\u5e94\u7528\u65e5\u5fd7\u3002</li> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u4f18\u5316\u4e3b\u5e93\u5199\u64cd\u4f5c\uff0c\u589e\u52a0\u4ece\u5e93\u6570\u91cf\uff0c\u5206\u644a\u8bfb\u53d6\u538b\u529b\uff1b\u4f7f\u7528\u66f4\u9ad8\u6027\u80fd\u7684\u786c\u4ef6\u3002</li> </ul> </li> <li>\u4e3b\u4ece\u590d\u5236\u4e2d\u65ad\uff1a<ul> <li>\u539f\u56e0\uff1a\u7f51\u7edc\u6545\u969c\u3001\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u6216\u4ece\u5e93\u5b95\u673a\u3002</li> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u53ca\u65f6\u76d1\u63a7\u590d\u5236\u72b6\u6001\uff0c\u4f7f\u7528 pt-slave-restart \u5de5\u5177\u81ea\u52a8\u91cd\u542f\u590d\u5236\uff1b\u5b9a\u671f\u68c0\u67e5\u78c1\u76d8\u7a7a\u95f4\u3002</li> </ul> </li> <li>\u81ea\u589e\u4e3b\u952e\u51b2\u7a81\uff1a<ul> <li>\u539f\u56e0\uff1a\u591a\u4e3b\u590d\u5236\u73af\u5883\u4e0b\uff0c\u81ea\u589e\u4e3b\u952e\u751f\u6210\u51b2\u7a81\u3002</li> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u914d\u7f6e\u4e0d\u540c\u7684\u81ea\u589e\u6b65\u957f\uff08auto_increment_increment\uff09\u548c\u8d77\u59cb\u503c\uff08auto_increment_offset\uff09\uff0c\u907f\u514d\u51b2\u7a81\u3002</li> </ul> </li> <li>\u65e5\u5fd7\u540c\u6b65\u95ee\u9898\uff1a<ul> <li>\u539f\u56e0\uff1a\u4e8c\u8fdb\u5236\u65e5\u5fd7\u6216\u4e2d\u7ee7\u65e5\u5fd7\u635f\u574f\u3002</li> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u5b9a\u671f\u5907\u4efd\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff0c\u4f7f\u7528 relay-log-recovery \u53c2\u6570\u81ea\u52a8\u6062\u590d\u4e2d\u7ee7\u65e5\u5fd7\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u4e3b\u4ece\u590d\u5236\u662f\u4fdd\u969c\u6570\u636e\u9ad8\u53ef\u7528\u6027\u7684\u5173\u952e\u673a\u5236\u3002\u901a\u8fc7\u5408\u7406\u7684\u914d\u7f6e\u3001\u76d1\u63a7\u548c\u7ef4\u62a4\uff0c\u53ef\u4ee5\u6709\u6548\u9884\u9632\u548c\u89e3\u51b3\u590d\u5236\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u7a33\u5b9a\u8fd0\u884c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#22-mysql","title":"22. MySQL \u4e2d\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u4e9b\uff1f\u6bcf\u79cd\u7ea7\u522b\u4e0b\u53ef\u80fd\u51fa\u73b0\u54ea\u4e9b\u95ee\u9898\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u51b3\u5b9a\u4e86\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u6240\u505a\u7684\u4fee\u6539\u5bf9\u5176\u4ed6\u4e8b\u52a1\u53ef\u89c1\u7684\u7a0b\u5ea6\u3002MySQL \u652f\u6301\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u6709\uff1a<ol> <li>\u8bfb\u672a\u63d0\u4ea4\uff08Read Uncommitted\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff08\u810f\u8bfb\uff09\u3002</li> <li>\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\uff1a</li> <li>\u810f\u8bfb\uff08Dirty Read\uff09\uff1a\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u5c1a\u672a\u63d0\u4ea4\u7684\u4fee\u6539\u6570\u636e\u3002</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb\uff08Non-repeatable Read\uff09\uff1a\u540c\u4e00\u4e8b\u52a1\u4e2d\uff0c\u524d\u540e\u4e24\u6b21\u8bfb\u53d6\u540c\u4e00\u6570\u636e\uff0c\u8bfb\u5230\u7684\u5185\u5bb9\u4e0d\u4e00\u81f4\u3002</li> <li>\u5e7b\u8bfb\uff08Phantom Read\uff09\uff1a\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\u6267\u884c\u76f8\u540c\u7684\u67e5\u8be2\uff0c\u7ed3\u679c\u96c6\u4e0d\u540c\u3002</li> </ul> </li> <li>\u8bfb\u5df2\u63d0\u4ea4\uff08Read Committed\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u4e8b\u52a1\u53ea\u80fd\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u5df2\u7ecf\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u907f\u514d\u810f\u8bfb\u3002</li> <li>\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\uff1a</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a\u540c\u4e00\u4e8b\u52a1\u4e2d\uff0c\u524d\u540e\u4e24\u6b21\u8bfb\u53d6\u540c\u4e00\u6570\u636e\uff0c\u8bfb\u5230\u7684\u5185\u5bb9\u4e0d\u4e00\u81f4\u3002</li> <li>\u5e7b\u8bfb\uff1a\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\u6267\u884c\u76f8\u540c\u7684\u67e5\u8be2\uff0c\u7ed3\u679c\u96c6\u4e0d\u540c\u3002</li> </ul> </li> <li>\u53ef\u91cd\u590d\u8bfb\uff08Repeatable Read\uff09\uff08MySQL \u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\uff0c\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6570\u636e\u7ed3\u679c\u4e00\u81f4\uff0c\u907f\u514d\u4e86\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</li> <li>\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\uff1a</li> <li>\u5e7b\u8bfb\uff1a\u901a\u8fc7 MVCC\uff08\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff09\u673a\u5236\uff0cMySQL \u5728\u8fd9\u4e2a\u7ea7\u522b\u4e0b\u4e5f\u53ef\u4ee5\u907f\u514d\u5e7b\u8bfb\u3002</li> </ul> </li> <li>\u4e32\u884c\u5316\uff08Serializable\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u901a\u8fc7\u5f3a\u5236\u4e8b\u52a1\u987a\u5e8f\u6267\u884c\uff0c\u5b8c\u5168\u907f\u514d\u4e86\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u3002</li> <li>\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\uff1a</li> <li>\u6027\u80fd\u4f4e\u4e0b\uff1a\u7531\u4e8e\u6240\u6709\u4e8b\u52a1\u5fc5\u987b\u4e32\u884c\u6267\u884c\uff0c\u7cfb\u7edf\u7684\u5e76\u53d1\u6027\u80fd\u4f1a\u663e\u8457\u4e0b\u964d\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u6bcf\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u90fd\u6709\u4e0d\u540c\u7684\u9002\u7528\u573a\u666f\u3002<code>Repeatable Read</code> \u662f MySQL \u9ed8\u8ba4\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u80fd\u5f88\u597d\u5730\u5e73\u8861\u6027\u80fd\u548c\u6570\u636e\u4e00\u81f4\u6027\uff0c\u800c <code>Serializable</code> \u63d0\u4f9b\u4e86\u6700\u9ad8\u7ea7\u522b\u7684\u6570\u636e\u4e00\u81f4\u6027\u4f46\u4f1a\u663e\u8457\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#23-mysql-covering-index","title":"23. MySQL \u4e2d\u7684\u7d22\u5f15\u8986\u76d6\uff08Covering Index\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u7d22\u5f15\u8986\u76d6\u662f\u6307\u67e5\u8be2\u7684\u6240\u6709\u5217\uff08\u5305\u62ec SELECT \u5b57\u6bb5\u548c WHERE \u6761\u4ef6\u5b57\u6bb5\uff09\u90fd\u88ab\u67d0\u4e2a\u7d22\u5f15\u5305\u542b\uff0c\u67e5\u8be2\u53ea\u9700\u8981\u4ece\u7d22\u5f15\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u65e0\u9700\u8bbf\u95ee\u8868\u7684\u6570\u636e\u884c\u3002\u8fd9\u79cd\u67e5\u8be2\u65b9\u5f0f\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u6027\u80fd\u3002</li> <li>\u4f7f\u7528\u7d22\u5f15\u8986\u76d6\u7684\u6761\u4ef6\uff1a<ol> <li>\u8bbe\u8ba1\u5408\u9002\u7684\u7d22\u5f15\uff1a<ul> <li>\u7d22\u5f15\u5e94\u5305\u62ec\u67e5\u8be2\u4e2d\u7684\u6240\u6709\u5b57\u6bb5\uff0c\u5305\u62ec SELECT \u5b50\u53e5\u4e2d\u7684\u5b57\u6bb5\u548c WHERE \u5b50\u53e5\u4e2d\u7684\u6761\u4ef6\u5b57\u6bb5\u3002</li> </ul> </li> <li>\u67e5\u8be2\u8bed\u53e5\u4f18\u5316\uff1a<ul> <li>\u5728\u67e5\u8be2\u4e2d\u660e\u786e\u6307\u5b9a\u9700\u8981\u7684\u5217\uff0c\u4e0d\u4f7f\u7528 <code>SELECT *</code> \u8bed\u53e5\u3002</li> </ul> </li> <li>\u7d22\u5f15\u626b\u63cf\uff1a<ul> <li>\u5728 MySQL \u6267\u884c\u8ba1\u5212\u4e2d\uff0c<code>Extra</code> \u5217\u663e\u793a\u4e3a <code>Using Index</code> \u65f6\uff0c\u8868\u793a\u8be5\u67e5\u8be2\u4f7f\u7528\u4e86\u7d22\u5f15\u8986\u76d6\u3002</li> </ul> </li> <li>\u591a\u5217\u7d22\u5f15\uff1a<ul> <li>\u5728\u8bbe\u8ba1\u7d22\u5f15\u65f6\uff0c\u5c3d\u91cf\u5c06\u5e38\u7528\u7684\u67e5\u8be2\u6761\u4ef6\u5b57\u6bb5\u653e\u5728\u4e00\u8d77\uff0c\u521b\u5efa\u591a\u5217\u7d22\u5f15\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u5229\u7528\u7d22\u5f15\u8986\u76d6\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u793a\u4f8b\uff1a    ```sql    CREATE TABLE employees (        emp_id INT PRIMARY KEY,        first_name VARCHAR(50),        last_name VARCHAR(50),        department_id INT,        salary INT,        INDEX idx_department_salary (department_id, salary)    );</p> <p>SELECT department_id, salary    FROM employees    WHERE department_id = 3 AND salary &gt; 50000;    <code>``    - \u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u7d22\u5f15</code>idx_department_salary` \u8986\u76d6\u4e86\u67e5\u8be2\u4e2d\u7684\u6240\u6709\u5b57\u6bb5\uff0c\u56e0\u6b64\u8be5\u67e5\u8be2\u53ef\u4ee5\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u83b7\u53d6\u7ed3\u679c\uff0c\u800c\u4e0d\u9700\u8981\u8bbf\u95ee\u6570\u636e\u8868\uff0c\u63d0\u9ad8\u4e86\u67e5\u8be2\u6027\u80fd\u3002</p> <p>\u603b\u7ed3\uff1a\u7d22\u5f15\u8986\u76d6\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5728\u5927\u8868\u67e5\u8be2\u4e2d\u3002\u5408\u7406\u8bbe\u8ba1\u7d22\u5f15\uff0c\u4f7f\u5176\u8986\u76d6\u67e5\u8be2\u4e2d\u7684\u6240\u6709\u5b57\u6bb5\uff0c\u662f\u4f18\u5316 MySQL \u6027\u80fd\u7684\u91cd\u8981\u624b\u6bb5\u4e4b\u4e00\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#24-mysql-full-text-index","title":"24. MySQL \u7684\u5168\u6587\u7d22\u5f15\uff08Full-Text Index\uff09\u662f\u4ec0\u4e48\uff1f\u6709\u54ea\u4e9b\u4f7f\u7528\u573a\u666f\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5168\u6587\u7d22\u5f15\u662f\u4e00\u79cd\u7528\u4e8e\u5feb\u901f\u68c0\u7d22\u6587\u672c\u6570\u636e\u7684\u7d22\u5f15\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u5927\u91cf\u6587\u672c\u5185\u5bb9\u7684\u641c\u7d22\uff0c\u5982\u6587\u7ae0\u3001\u8bc4\u8bba\u3001\u4ea7\u54c1\u63cf\u8ff0\u7b49\u3002</li> <li>\u5168\u6587\u7d22\u5f15\u7684\u7279\u6027\uff1a<ol> <li>\u57fa\u4e8e\u8bcd\u7684\u68c0\u7d22\uff1a<ul> <li>\u901a\u8fc7\u5bf9\u6587\u672c\u5b57\u6bb5\u4e2d\u7684\u8bcd\u8fdb\u884c\u7d22\u5f15\uff0c\u652f\u6301\u5feb\u901f\u7684\u5173\u952e\u8bcd\u5339\u914d\u67e5\u8be2\u3002</li> </ul> </li> <li>\u652f\u6301\u81ea\u7136\u8bed\u8a00\u6a21\u5f0f\uff1a<ul> <li>\u5728\u81ea\u7136\u8bed\u8a00\u6a21\u5f0f\u4e0b\uff0c\u5168\u6587\u7d22\u5f15\u4f1a\u8ba1\u7b97\u6bcf\u4e2a\u8bcd\u7684\u6743\u91cd\uff0c\u6839\u636e\u76f8\u5173\u6027\u6392\u5e8f\u8fd4\u56de\u7ed3\u679c\u3002</li> </ul> </li> <li>\u652f\u6301\u5e03\u5c14\u6a21\u5f0f\uff1a<ul> <li>\u5e03\u5c14\u6a21\u5f0f\u5141\u8bb8\u4f7f\u7528\u903b\u8f91\u8fd0\u7b97\u7b26\uff08\u5982 AND\u3001OR\u3001NOT\uff09\u7ec4\u5408\u5173\u952e\u8bcd\u8fdb\u884c\u67e5\u8be2\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u4f7f\u7528\u573a\u666f\uff1a    1. \u535a\u5ba2\u7cfb\u7edf\uff1a       - \u901a\u8fc7\u5168\u6587\u7d22\u5f15\uff0c\u7528\u6237\u53ef\u4ee5\u5feb\u901f\u641c\u7d22\u5305\u542b\u67d0\u4e9b\u5173\u952e\u8bcd\u7684\u6587\u7ae0\u3002    2. \u7535\u5b50\u5546\u52a1\u5e73\u53f0\uff1a       - \u5728\u4ea7\u54c1\u63cf\u8ff0\u4e2d\u4f7f\u7528\u5168\u6587\u7d22\u5f15\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5173\u952e\u8bcd\u5feb\u901f\u627e\u5230\u76f8\u5173\u4ea7\u54c1\u3002    3. \u5728\u7ebf\u6587\u6863\u7cfb\u7edf\uff1a       - \u5bf9\u4e8e\u5305\u542b\u5927\u91cf\u6587\u6863\u7684\u7cfb\u7edf\uff0c\u5168\u6587\u7d22\u5f15\u53ef\u4ee5\u52a0\u901f\u6587\u6863\u5185\u5bb9\u7684\u68c0\u7d22\u3002</p> <p>\u793a\u4f8b\uff1a    ```sql    CREATE TABLE articles (        id INT PRIMARY KEY AUTO_INCREMENT,        title VARCHAR(200),        body TEXT,        FULLTEXT (title, body)    );</p> <p>SELECT * FROM articles    WHERE MATCH(title, body) AGAINST ('MySQL performance' IN NATURAL LANGUAGE MODE);    ```</p> <p>\u603b\u7ed3\uff1a\u5168\u6587\u7d22\u5f15\u662f MySQL \u63d0\u4f9b\u7684\u5f3a\u5927\u6587\u672c\u641c\u7d22\u529f\u80fd\uff0c\u9002\u7528\u4e8e\u5904\u7406\u5927\u91cf\u6587\u672c\u5185\u5bb9\u7684\u5e94\u7528\u573a\u666f\u3002\u901a\u8fc7\u5408\u7406\u8bbe\u8ba1\u5168\u6587\u7d22\u5f15\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u6587\u672c\u6570\u636e\u7684\u68c0\u7d22\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#25-mysql-partitioned-table","title":"25. MySQL \u4e2d\u7684\u5206\u533a\u8868\uff08Partitioned Table\uff09\u662f\u4ec0\u4e48\uff1f\u6709\u54ea\u4e9b\u7c7b\u578b\u548c\u4f7f\u7528\u573a\u666f\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5206\u533a\u8868\u662f\u4e00\u79cd\u5c06\u5927\u8868\u6570\u636e\u5206\u5272\u6210\u591a\u4e2a\u8f83\u5c0f\u90e8\u5206\uff08\u5206\u533a\uff09\u5b58\u50a8\u7684\u6280\u672f\uff0c\u6bcf\u4e2a\u5206\u533a\u53ef\u4ee5\u72ec\u7acb\u7ba1\u7406\u3002\u5206\u533a\u8868\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u5927\u6570\u636e\u91cf\u65f6\u3002</li> <li>\u5206\u533a\u7c7b\u578b\uff1a<ol> <li>\u8303\u56f4\u5206\u533a\uff08Range Partitioning\uff09\uff1a<ul> <li>\u6839\u636e\u5217\u7684\u503c\u8303\u56f4\u8fdb\u884c\u5206\u533a\uff0c\u5982\u6309\u65e5\u671f\u3001ID \u8303\u56f4\u5206\u533a\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u6309\u65f6\u95f4\u7ef4\u5ea6\u5b58\u50a8\u65e5\u5fd7\u6570\u636e\u3002</li> </ul> </li> <li>\u5217\u8868\u5206\u533a\uff08List Partitioning\uff09\uff1a<ul> <li>\u6839\u636e\u5217\u7684\u79bb\u6563\u503c\u8fdb\u884c\u5206\u533a\uff0c\u5982\u6309\u5730\u533a\u6216\u7c7b\u522b\u5206\u533a\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u6309\u56fd\u5bb6\u6216\u5730\u533a\u5b58\u50a8\u9500\u552e\u6570\u636e\u3002</li> </ul> </li> <li>\u54c8\u5e0c\u5206\u533a\uff08Hash Partitioning\uff09\uff1a<ul> <li>\u6839\u636e\u5217\u7684\u54c8\u5e0c\u503c\u8fdb\u884c\u5206\u533a\uff0c\u5e38\u7528\u4e8e\u5747\u5300\u5206\u5e03\u6570\u636e\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u5bf9\u7528\u6237 ID \u8fdb\u884c\u54c8\u5e0c\u5206\u533a\uff0c\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002</li> </ul> </li> <li>\u952e\u503c\u5206\u533a\uff08Key Partitioning\uff09\uff1a<ul> <li>\u7c7b\u4f3c\u54c8\u5e0c\u5206\u533a\uff0c\u4f46\u4f7f\u7528 MySQL \u81ea\u5b9a\u4e49\u7684\u54c8\u5e0c\u51fd\u6570\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u9700\u8981 MySQL \u7ba1\u7406\u5206\u533a\u89c4\u5219\u7684\u573a\u666f\u3002</li> </ul> </li> <li>\u590d\u5408\u5206\u533a\uff08Composite Partitioning\uff09\uff1a<ul> <li>\u7ec4\u5408\u591a\u79cd\u5206\u533a\u65b9\u5f0f\uff0c\u5982\u5148\u6309\u8303\u56f4\u5206\u533a\uff0c\u518d\u6309\u54c8\u5e0c\u5206\u533a\u3002</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u590d\u6742\u6570\u636e\u7ba1\u7406\u573a\u666f\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u793a\u4f8b\uff1a    <code>sql    CREATE TABLE orders (        order_id INT NOT NULL,        customer_id INT NOT NULL,        order_date DATE NOT NULL,        amount DECIMAL(10,2),        PRIMARY KEY(order_id, order_date)    )    PARTITION BY RANGE (YEAR(order_date)) (        PARTITION p0 VALUES LESS THAN (2020),        PARTITION p1 VALUES LESS THAN (2021),        PARTITION p2 VALUES LESS THAN (2022),        PARTITION p3 VALUES LESS THAN (2023)    );</code></p> <p>\u603b\u7ed3\uff1a\u5206\u533a\u8868\u662f\u5904\u7406\u5927\u6570\u636e\u91cf\u7684\u91cd\u8981\u624b\u6bb5\uff0c\u901a\u8fc7\u5408\u7406\u5206\u533a\uff0c\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u548c\u6570\u636e\u7ba1\u7406\u7684\u7075\u6d3b\u6027\u3002\u9009\u62e9\u5408\u9002\u7684\u5206\u533a\u7c7b\u578b\u548c\u7b56\u7565\u5bf9\u4e8e\u4f18\u5316 MySQL \u6027\u80fd\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#26-mysql-replication-lag","title":"26. MySQL \u7684\u590d\u5236\u5ef6\u8fdf\uff08Replication Lag\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u89e3\u51b3\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u590d\u5236\u5ef6\u8fdf\u662f\u6307\u5728 MySQL \u4e3b\u4ece\u590d\u5236\u4e2d\uff0c\u4ece\u5e93\u5e94\u7528\u4e3b\u5e93\u7684\u66f4\u65b0\u64cd\u4f5c\u6240\u82b1\u7684\u65f6\u95f4\u5ef6\u8fdf\u3002\u590d\u5236\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u548c\u67e5\u8be2\u7ed3\u679c\u7684\u5ef6\u8fdf\u3002</li> <li>\u590d\u5236\u5ef6\u8fdf\u7684\u539f\u56e0\uff1a<ol> <li>\u4e3b\u5e93\u8d1f\u8f7d\u8fc7\u9ad8\uff1a<ul> <li>\u4e3b\u5e93\u5904\u7406\u5927\u91cf\u5199\u64cd\u4f5c\uff0c\u5bfc\u81f4\u4e8c\u8fdb\u5236\u65e5\u5fd7\u7684\u751f\u6210\u901f\u5ea6\u5feb\u4e8e\u4ece\u5e93\u5e94\u7528\u7684\u901f\u5ea6\u3002</li> </ul> </li> <li>\u4ece\u5e93\u6027\u80fd\u4e0d\u8db3\uff1a<ul> <li>\u4ece\u5e93\u7684\u786c\u4ef6\u6027\u80fd\uff08\u5982 CPU\u3001I/O\uff09\u4e0d\u8db3\uff0c\u65e0\u6cd5\u53ca\u65f6\u5e94\u7528\u4e3b\u5e93\u7684\u66f4\u65b0\u64cd\u4f5c\u3002</li> </ul> </li> <li>\u7f51\u7edc\u5ef6\u8fdf\uff1a<ul> <li>\u4e3b\u4ece\u5e93\u4e4b\u95f4\u7684\u7f51\u7edc\u5ef6\u8fdf\u8f83\u5927\uff0c\u5f71\u54cd\u65e5\u5fd7\u4f20\u8f93\u901f\u5ea6\u3002</li> </ul> </li> <li>\u4ece\u5e93\u914d\u7f6e\u95ee\u9898\uff1a<ul> <li>\u4ece\u5e93\u7684\u914d\u7f6e\u4e0d\u5f53\uff08\u5982 SQL \u7ebf\u7a0b\u6216 I/O \u7ebf\u7a0b\u95ee\u9898\uff09\uff0c\u5bfc\u81f4\u5e94\u7528\u65e5\u5fd7\u7684\u901f\u5ea6\u6162\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u89e3\u51b3\u65b9\u6848\uff1a      1. \u63d0\u5347\u4ece\u5e93\u786c\u4ef6\u914d\u7f6e\uff1a         - \u4f7f\u7528\u66f4\u9ad8\u6027\u80fd\u7684\u786c\u4ef6\u8bbe\u5907\uff0c\u589e\u52a0 CPU \u548c I/O \u80fd\u529b\u3002      2. \u4f18\u5316\u4e3b\u5e93\u5199\u64cd\u4f5c\uff1a         - \u51cf\u5c11\u4e3b\u5e93\u4e0d\u5fc5\u8981\u7684\u5199\u64cd\u4f5c\uff0c\u4f18\u5316 SQL \u8bed\u53e5\u548c\u4e8b\u52a1\u3002      3. \u5206\u6563\u4e3b\u5e93\u538b\u529b\uff1a         - \u4f7f\u7528\u591a\u7ea7\u590d\u5236\u6216\u4e2d\u95f4\u4ee3\u7406\uff0c\u5206\u6563\u4e3b\u5e93\u7684\u5199\u538b\u529b\u3002      4. \u76d1\u63a7\u548c\u8c03\u6574\u7f51\u7edc\uff1a         - \u4f18\u5316\u4e3b\u4ece\u5e93\u4e4b\u95f4\u7684\u7f51\u7edc\u94fe\u8def\uff0c\u964d\u4f4e\u7f51\u7edc\u5ef6\u8fdf\u3002      5. \u8c03\u6574\u4ece\u5e93\u914d\u7f6e\uff1a         - \u589e\u52a0\u4ece\u5e93\u7684 SQL \u7ebf\u7a0b\uff0c\u6216\u8005\u8c03\u6574 innodb_flush_log_at_trx_commit \u53c2\u6570\u3002</p> <p>\u603b\u7ed3\uff1a\u590d\u5236\u5ef6\u8fdf\u662f MySQL \u4e3b\u4ece\u590d\u5236\u4e2d\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u53ef\u80fd\u5f71\u54cd\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b9e\u65f6\u6027\u3002\u901a\u8fc7\u786c\u4ef6\u5347\u7ea7\u3001\u914d\u7f6e\u4f18\u5316\u548c\u8d1f\u8f7d\u5206\u6563\uff0c\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u590d\u5236\u5ef6\u8fdf\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#27-mysql-deadlock","title":"27. MySQL \u4e2d\u7684\u6b7b\u9501\uff08Deadlock\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u68c0\u6d4b\u548c\u89e3\u51b3\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u6b7b\u9501\u662f\u6307\u4e24\u4e2a\u6216\u591a\u4e2a\u4e8b\u52a1\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u56e0\u4e3a\u4e89\u593a\u8d44\u6e90\u800c\u4e92\u76f8\u7b49\u5f85\u7684\u73b0\u8c61\uff0c\u5bfc\u81f4\u8fd9\u4e9b\u4e8b\u52a1\u90fd\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u3002</li> <li>\u6b7b\u9501\u68c0\u6d4b\uff1a<ol> <li>InnoDB \u5f15\u64ce\uff1aMySQL InnoDB \u5b58\u50a8\u5f15\u64ce\u5177\u6709\u81ea\u52a8\u6b7b\u9501\u68c0\u6d4b\u673a\u5236\u3002\u5f53\u68c0\u6d4b\u5230\u6b7b\u9501\u65f6\uff0cInnoDB \u4f1a\u81ea\u52a8\u56de\u6eda\u5176\u4e2d\u4e00\u4e2a\u4e8b\u52a1\uff0c\u4ee5\u89e3\u9664\u6b7b\u9501\u3002</li> <li>\u624b\u52a8\u68c0\u6d4b\uff1a\u53ef\u4ee5\u901a\u8fc7 <code>SHOW ENGINE INNODB STATUS</code> \u547d\u4ee4\u67e5\u770b\u6700\u8fd1\u7684\u6b7b\u9501\u4fe1\u606f\u3002\u8be5\u547d\u4ee4\u8f93\u51fa\u4e2d\u4f1a\u5305\u542b\u6b7b\u9501\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u53c2\u4e0e\u6b7b\u9501\u7684\u4e8b\u52a1\u3001\u9501\u5b9a\u7684\u8d44\u6e90\u7b49\u3002</li> </ol> </li> </ul> <p>\u89e3\u51b3\u6b7b\u9501\u7684\u7b56\u7565\uff1a    1. \u8bbe\u8ba1\u89c4\u8303\uff1a       - \u4e8b\u52a1\u8bbe\u8ba1\u987a\u5e8f\uff1a\u786e\u4fdd\u6240\u6709\u4e8b\u52a1\u6309\u76f8\u540c\u7684\u987a\u5e8f\u8bf7\u6c42\u8d44\u6e90\uff0c\u4ee5\u907f\u514d\u5faa\u73af\u7b49\u5f85\u3002       - \u5c3d\u91cf\u7f29\u77ed\u4e8b\u52a1\u6267\u884c\u65f6\u95f4\uff1a\u5c06\u53ef\u80fd\u5f15\u53d1\u6b7b\u9501\u7684\u590d\u6742\u67e5\u8be2\u653e\u5728\u4e8b\u52a1\u4e4b\u5916\u3002    2. \u4f7f\u7528\u5408\u7406\u7684\u9501\u5b9a\u673a\u5236\uff1a       - \u51cf\u5c11\u9501\u7684\u7c92\u5ea6\uff1a\u5c3d\u91cf\u907f\u514d\u5168\u8868\u9501\uff0c\u4f7f\u7528\u884c\u9501\u4ee3\u66ff\u8868\u9501\u3002       - \u663e\u5f0f\u9501\u5b9a\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u663e\u5f0f\u9501\u5b9a\uff08\u5982 <code>SELECT ... FOR UPDATE</code>\uff09\u907f\u514d\u65e0\u5e8f\u7ade\u4e89\u3002    3. \u914d\u7f6e\u76f8\u5173\u53c2\u6570\uff1a       - \u964d\u4f4e innodb_lock_wait_timeout\uff1a\u5728\u7b49\u5f85\u9501\u8d44\u6e90\u7684\u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u8f83\u5c0f\u503c\uff0c\u53ef\u4ee5\u8ba9\u7cfb\u7edf\u66f4\u5feb\u5730\u68c0\u6d4b\u5230\u6f5c\u5728\u7684\u6b7b\u9501\u5e76\u91c7\u53d6\u884c\u52a8\u3002    4. \u76d1\u63a7\u4e0e\u8c03\u4f18\uff1a       - \u5b9a\u671f\u76d1\u63a7\u6570\u636e\u5e93\u7684\u9501\u60c5\u51b5\uff0c\u4f7f\u7528 APM \u5de5\u5177\u6216 MySQL \u81ea\u5e26\u7684 <code>INFORMATION_SCHEMA</code> \u4e2d\u7684 <code>innodb_trx</code>\u3001<code>innodb_locks</code> \u7b49\u8868\u6765\u76d1\u63a7\u5f53\u524d\u4e8b\u52a1\u548c\u9501\u7684\u72b6\u6001\u3002</p> <p>\u603b\u7ed3\uff1a\u6b7b\u9501\u662f\u6570\u636e\u5e93\u5e76\u53d1\u64cd\u4f5c\u4e2d\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u5408\u7406\u7684\u4e8b\u52a1\u8bbe\u8ba1\u3001\u9501\u7684\u4f7f\u7528\u4ee5\u53ca\u7cfb\u7edf\u53c2\u6570\u7684\u914d\u7f6e\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u6b7b\u9501\u7684\u53d1\u751f\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u9ad8\u6548\u8fd0\u884c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#28-mysql-query-optimizer","title":"28. MySQL \u7684\u67e5\u8be2\u4f18\u5316\u5668\uff08Query Optimizer\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u5229\u7528\u5b83\u8fdb\u884c\u67e5\u8be2\u4f18\u5316\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u67e5\u8be2\u4f18\u5316\u5668\u662f MySQL \u7528\u6765\u51b3\u5b9a\u6700\u4f18\u6267\u884c\u8ba1\u5212\u7684\u6a21\u5757\u3002\u5f53\u6267\u884c\u4e00\u4e2a SQL \u67e5\u8be2\u65f6\uff0c\u4f18\u5316\u5668\u4f1a\u6839\u636e\u6570\u636e\u5e93\u7684\u7edf\u8ba1\u4fe1\u606f\u3001\u7d22\u5f15\u3001\u8868\u8fde\u63a5\u987a\u5e8f\u7b49\u56e0\u7d20\uff0c\u9009\u62e9\u4e00\u4e2a\u4ee3\u4ef7\u6700\u4f4e\u7684\u6267\u884c\u8def\u5f84\u3002</li> <li>\u67e5\u8be2\u4f18\u5316\u5668\u7684\u5173\u952e\u70b9\uff1a<ol> <li>\u7d22\u5f15\u4f7f\u7528\uff1a\u4f18\u5316\u5668\u4f1a\u6839\u636e\u67e5\u8be2\u6761\u4ef6\u548c\u7d22\u5f15\u7684\u9009\u62e9\u6027\uff0c\u51b3\u5b9a\u662f\u5426\u4f7f\u7528\u7d22\u5f15\u4ee5\u53ca\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15\u3002</li> <li>\u8868\u8fde\u63a5\u987a\u5e8f\uff1a\u5bf9\u4e8e\u591a\u8868\u67e5\u8be2\uff0c\u4f18\u5316\u5668\u4f1a\u9009\u62e9\u5408\u9002\u7684\u8868\u8fde\u63a5\u987a\u5e8f\uff0c\u4ee5\u6700\u5c0f\u5316\u6570\u636e\u626b\u63cf\u91cf\u3002</li> <li>JOIN \u65b9\u6cd5\uff1a\u4f18\u5316\u5668\u4f1a\u9009\u62e9\u5408\u9002\u7684 JOIN \u65b9\u6cd5\uff08\u5982 Nested Loop\u3001Hash Join\uff09\u6765\u6267\u884c\u591a\u8868\u8fde\u63a5\u3002</li> <li>\u5b50\u67e5\u8be2\u4e0e\u5173\u8054\u5b50\u67e5\u8be2\uff1a\u4f18\u5316\u5668\u4f1a\u5c1d\u8bd5\u5c06\u5b50\u67e5\u8be2\u8f6c\u6362\u4e3a\u8fde\u63a5\uff08JOIN\uff09\u6765\u63d0\u9ad8\u6027\u80fd\u3002</li> <li>\u6392\u5e8f\u4e0e\u5206\u7ec4\u4f18\u5316\uff1a\u5bf9\u4e8e <code>ORDER BY</code> \u548c <code>GROUP BY</code> \u8bed\u53e5\uff0c\u4f18\u5316\u5668\u4f1a\u8003\u8651\u4f7f\u7528\u7d22\u5f15\u6216\u4e34\u65f6\u8868\u6765\u63d0\u9ad8\u6548\u7387\u3002</li> </ol> </li> </ul> <p>\u5982\u4f55\u5229\u7528\u67e5\u8be2\u4f18\u5316\u5668\u8fdb\u884c\u4f18\u5316\uff1a    1. \u4f7f\u7528 EXPLAIN \u8bed\u53e5\uff1a       - \u5728\u67e5\u8be2\u524d\u4f7f\u7528 <code>EXPLAIN</code> \u67e5\u770b\u6267\u884c\u8ba1\u5212\uff0c\u4e86\u89e3\u4f18\u5316\u5668\u9009\u62e9\u7684\u6267\u884c\u8def\u5f84\uff0c\u627e\u51fa\u6f5c\u5728\u7684\u6027\u80fd\u74f6\u9888\u3002    2. \u7d22\u5f15\u4f18\u5316\uff1a       - \u521b\u5efa\u6216\u8c03\u6574\u7d22\u5f15\uff0c\u786e\u4fdd\u67e5\u8be2\u6761\u4ef6\u80fd\u591f\u6709\u6548\u5229\u7528\u7d22\u5f15\uff0c\u51cf\u5c11\u5168\u8868\u626b\u63cf\u7684\u60c5\u51b5\u3002    3. \u4f18\u5316 JOIN \u67e5\u8be2\uff1a       - \u5728\u591a\u8868\u67e5\u8be2\u4e2d\uff0c\u8c03\u6574\u8868\u7684\u8fde\u63a5\u987a\u5e8f\uff0c\u6216\u8005\u901a\u8fc7\u5b50\u67e5\u8be2\u3001\u4e34\u65f6\u8868\u7b49\u65b9\u5f0f\u7b80\u5316\u67e5\u8be2\u3002    4. \u907f\u514d\u590d\u6742\u7684\u5b50\u67e5\u8be2\uff1a       - \u5c06\u590d\u6742\u7684\u5b50\u67e5\u8be2\u91cd\u5199\u4e3a JOIN \u6216 CTE\uff08Common Table Expression\uff09\uff0c\u4ee5\u5e2e\u52a9\u4f18\u5316\u5668\u66f4\u597d\u5730\u4f18\u5316\u67e5\u8be2\u3002    5. \u8c03\u6574\u7edf\u8ba1\u4fe1\u606f\uff1a       - \u5b9a\u671f\u66f4\u65b0\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\uff08\u4f7f\u7528 <code>ANALYZE TABLE</code>\uff09\uff0c\u5e2e\u52a9\u4f18\u5316\u5668\u66f4\u51c6\u786e\u5730\u8bc4\u4f30\u6267\u884c\u8ba1\u5212\u3002</p> <p>\u603b\u7ed3\uff1a\u67e5\u8be2\u4f18\u5316\u5668\u662f MySQL \u6027\u80fd\u4f18\u5316\u7684\u6838\u5fc3\u5de5\u5177\uff0c\u5408\u7406\u5229\u7528\u4f18\u5316\u5668\u7684\u7279\u6027\uff0c\u901a\u8fc7 EXPLAIN \u5206\u6790\u6267\u884c\u8ba1\u5212\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\uff0c\u4f18\u5316\u6570\u636e\u5e93\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#29-mysql-slow-query-log","title":"29. MySQL \u7684\u6162\u67e5\u8be2\u65e5\u5fd7\uff08Slow Query Log\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\u5b83\u8fdb\u884c\u6027\u80fd\u8c03\u4f18\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\u662f MySQL \u7528\u6765\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u8bbe\u5b9a\u9608\u503c\u7684 SQL \u8bed\u53e5\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\u5b83\u662f\u6570\u636e\u5e93\u6027\u80fd\u8c03\u4f18\u7684\u91cd\u8981\u5de5\u5177\u3002</li> <li> <p>\u542f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a</p> <ol> <li> <p>\u914d\u7f6e\u53c2\u6570\uff1a</p> <ul> <li>\u5728 MySQL \u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a <code>ini [mysqld] slow_query_log = 1 slow_query_log_file = /var/log/mysql/mysql-slow.log long_query_time = 2</code></li> <li><code>slow_query_log</code>: \u542f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\u3002</li> <li><code>slow_query_log_file</code>: \u6307\u5b9a\u6162\u67e5\u8be2\u65e5\u5fd7\u7684\u6587\u4ef6\u4f4d\u7f6e\u3002</li> <li><code>long_query_time</code>: \u8bbe\u7f6e\u8bb0\u5f55\u6162\u67e5\u8be2\u7684\u9608\u503c\uff08\u79d2\uff09\u3002</li> </ul> </li> <li> <p>\u52a8\u6001\u542f\u7528\uff1a</p> <ul> <li>\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u901a\u8fc7 SQL \u547d\u4ee4\u542f\u7528\uff1a <code>sql SET GLOBAL slow_query_log = 'ON'; SET GLOBAL long_query_time = 2;</code></li> </ul> </li> </ol> </li> </ul> <p>\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a    1. mysqldumpslow \u5de5\u5177\uff1a       - \u4f7f\u7528 <code>mysqldumpslow</code> \u5de5\u5177\u5bf9\u6162\u67e5\u8be2\u65e5\u5fd7\u8fdb\u884c\u7edf\u8ba1\u5206\u6790\uff1a       <code>bash       mysqldumpslow -s c -t 10 /var/log/mysql/mysql-slow.log</code>       - \u53c2\u6570\u89e3\u91ca\uff1a         - <code>-s c</code>: \u6309\u7167\u51fa\u73b0\u6b21\u6570\u6392\u5e8f\u3002         - <code>-t 10</code>: \u663e\u793a\u524d 10 \u6761\u6162\u67e5\u8be2\u3002    2. pt-query-digest \u5de5\u5177\uff1a       - <code>pt-query-digest</code> \u662f Percona Toolkit \u4e2d\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u53ef\u4ee5\u66f4\u6df1\u5165\u5730\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a       <code>bash       pt-query-digest /var/log/mysql/mysql-slow.log</code>       - \u5b83\u4f1a\u7ed9\u51fa\u67e5\u8be2\u7684\u8be6\u7ec6\u5206\u6790\u62a5\u544a\uff0c\u5305\u62ec\u603b\u65f6\u95f4\u3001\u5e73\u5747\u65f6\u95f4\u3001\u67e5\u8be2\u6b21\u6570\u7b49\u4fe1\u606f\u3002</p> <p>\u8c03\u4f18\u6162\u67e5\u8be2\uff1a    1. \u4f18\u5316 SQL \u8bed\u53e5\uff1a       - \u68c0\u67e5\u6162\u67e5\u8be2\u65e5\u5fd7\u4e2d\u51fa\u73b0\u9891\u7387\u9ad8\u3001\u6267\u884c\u65f6\u95f4\u957f\u7684\u67e5\u8be2\uff0c\u901a\u8fc7\u7d22\u5f15\u4f18\u5316\u3001\u67e5\u8be2\u91cd\u5199\u3001\u51cf\u5c11\u8fd4\u56de\u6570\u636e\u91cf\u7b49\u65b9\u5f0f\u8fdb\u884c\u4f18\u5316\u3002    2. \u8c03\u6574 MySQL \u914d\u7f6e\uff1a       - \u6839\u636e\u6162\u67e5\u8be2\u5206\u6790\u7ed3\u679c\uff0c\u8c03\u6574 MySQL \u7684\u914d\u7f6e\u53c2\u6570\uff08\u5982 <code>query_cache_size</code>\u3001<code>innodb_buffer_pool_size</code> \u7b49\uff09\u4ee5\u63d0\u5347\u6574\u4f53\u6027\u80fd\u3002    3. \u5206\u5e93\u5206\u8868\uff1a       - \u5bf9\u4e8e\u6570\u636e\u91cf\u8fc7\u5927\u7684\u8868\uff0c\u8003\u8651\u901a\u8fc7\u5206\u5e93\u5206\u8868\u3001\u5782\u76f4\u6216\u6c34\u5e73\u5207\u5206\u6765\u51cf\u5c11\u5355\u8868\u67e5\u8be2\u538b\u529b\u3002    4. \u589e\u52a0\u7d22\u5f15\uff1a       - \u6839\u636e\u6162\u67e5\u8be2\u65e5\u5fd7\u4e2d\u7684 WHERE \u6761\u4ef6\uff0c\u8003\u8651\u589e\u52a0\u5408\u9002\u7684\u7d22\u5f15\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</p> <p>\u603b\u7ed3\uff1a\u6162\u67e5\u8be2\u65e5\u5fd7\u662f MySQL \u6027\u80fd\u8c03\u4f18\u7684\u91cd\u8981\u5de5\u5177\uff0c\u901a\u8fc7\u5b9a\u671f\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u53ef\u4ee5\u53d1\u73b0\u6570\u636e\u5e93\u4e2d\u7684\u6027\u80fd\u74f6\u9888\uff0c\u5e76\u91c7\u53d6\u6709\u6548\u7684\u4f18\u5316\u63aa\u65bd\uff0c\u63d0\u5347\u6574\u4f53\u7cfb\u7edf\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#30-mysql-locking-mechanism","title":"30. MySQL \u7684\u9501\u673a\u5236\uff08Locking Mechanism\uff09\u662f\u4ec0\u4e48\uff1f\u6709\u54ea\u4e9b\u7c7b\u578b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u9501\u673a\u5236\u662f\u6570\u636e\u5e93\u7ba1\u7406\u5e76\u53d1\u64cd\u4f5c\u7684\u91cd\u8981\u624b\u6bb5\uff0cMySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u9501\u673a\u5236\u6765\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u548c\u4e8b\u52a1\u7684\u9694\u79bb\u6027\u3002</li> <li>MySQL \u9501\u7684\u7c7b\u578b\uff1a<ol> <li>\u8868\u9501\uff08Table Lock\uff09\uff1a<ul> <li>\u9501\u5b9a\u6574\u4e2a\u8868\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5bf9\u6574\u4e2a\u8868\u8fdb\u884c\u64cd\u4f5c\u7684\u573a\u666f\u3002</li> <li>\u4f18\u70b9\uff1a\u9501\u5b9a\u5f00\u9500\u5c0f\uff0c\u9501\u5b9a\u51b2\u7a81\u5c11\u3002</li> <li>\u7f3a\u70b9\uff1a\u5e76\u53d1\u6027\u80fd\u4f4e\uff0c\u9002\u7528\u4e8e\u67e5\u8be2\u8f83\u5c11\u3001\u5199\u64cd\u4f5c\u8f83\u591a\u7684\u573a\u666f\u3002</li> </ul> </li> <li>\u884c\u9501\uff08Row Lock\uff09\uff1a<ul> <li>\u9501\u5b9a\u6570\u636e\u8868\u4e2d\u7684\u7279\u5b9a\u884c\uff0c\u9002\u7528\u4e8e\u5e76\u53d1\u64cd\u4f5c\u8f83\u591a\u7684\u573a\u666f\u3002</li> <li>\u4f18\u70b9\uff1a\u5e76\u53d1\u6027\u80fd\u9ad8\uff0c\u9501\u5b9a\u7c92\u5ea6\u5c0f\u3002</li> <li>\u7f3a\u70b9\uff1a\u9501\u5b9a\u5f00\u9500\u8f83\u5927\uff0c\u5bb9\u6613\u53d1\u751f\u6b7b\u9501\u3002</li> </ul> </li> <li>\u95f4\u9699\u9501\uff08Gap Lock\uff09\uff1a<ul> <li>InnoDB \u7279\u6709\u7684\u9501\u673a\u5236\uff0c\u9501\u5b9a\u7d22\u5f15\u8bb0\u5f55\u4e4b\u95f4\u7684\u95f4\u9699\uff0c\u7528\u4e8e\u9632\u6b62\u5e7b\u8bfb\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u5728 REPEATABLE READ \u9694\u79bb\u7ea7\u522b\u4e0b\u9632\u6b62\u5e7b\u8bfb\uff0c\u786e\u4fdd\u4e8b\u52a1\u7684\u9694\u79bb\u6027\u3002</li> </ul> </li> <li>\u610f\u5411\u9501\uff08Intention Lock\uff09\uff1a<ul> <li>InnoDB \u7528\u4e8e\u4e8b\u52a1\u4e2d\u7684\u4e00\u79cd\u8868\u7ea7\u9501\uff0c\u8868\u793a\u4e8b\u52a1\u51c6\u5907\u5728\u67d0\u4e00\u884c\u4e0a\u52a0\u9501\u3002</li> <li>\u4f18\u70b9\uff1a\u4e0e\u884c\u9501\u914d\u5408\u4f7f\u7528\uff0c\u907f\u514d\u5168\u8868\u9501\u5b9a\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u9501\u673a\u5236\u7684\u5e94\u7528\uff1a    1. \u4e50\u89c2\u9501\u4e0e\u60b2\u89c2\u9501\uff1a       - \u4e50\u89c2\u9501\uff1a\u5047\u8bbe\u6570\u636e\u4e0d\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u5728\u66f4\u65b0\u6570\u636e\u65f6\u624d\u68c0\u67e5\u662f\u5426\u6709\u51b2\u7a81\uff0c\u5e38\u7528\u7248\u672c\u53f7\u673a\u5236\u5b9e\u73b0\u3002       - \u60b2\u89c2\u9501\uff1a\u5047\u8bbe\u6570\u636e\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u64cd\u4f5c\u6570\u636e\u524d\u5148\u52a0\u9501\uff0c\u9002\u7528\u4e8e\u5199\u591a\u8bfb\u5c11\u7684\u573a\u666f\u3002    2. \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e0e\u9501\uff1a       - \u4e0d\u540c\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff08READ UNCOMMITTED, READ COMMITTED, REPEATABLE READ, SERIALIZABLE\uff09\u4f1a\u5f71\u54cd MySQL \u4f7f\u7528\u7684\u9501\u7c7b\u578b\u548c\u9501\u5b9a\u884c\u4e3a\u3002</p> <p>\u603b\u7ed3\uff1a\u9501\u673a\u5236\u662f MySQL \u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u548c\u4e8b\u52a1\u9694\u79bb\u6027\u7684\u5173\u952e\uff0c\u901a\u8fc7\u5408\u7406\u9009\u62e9\u9501\u7684\u7c7b\u578b\u548c\u5e94\u7528\u573a\u666f\uff0c\u53ef\u4ee5\u5728\u4fdd\u8bc1\u6570\u636e\u5b89\u5168\u7684\u540c\u65f6\u63d0\u9ad8\u7cfb\u7edf\u7684\u5e76\u53d1\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#31-mysql-view","title":"31. MySQL \u7684\u89c6\u56fe\uff08View\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u89c6\u56fe\uff08View\uff09\u662f\u4e00\u79cd\u865a\u62df\u8868\uff0c\u5b83\u57fa\u4e8e SQL \u67e5\u8be2\u7684\u7ed3\u679c\u521b\u5efa\uff0c\u5e76\u4e14\u4e0d\u5b9e\u9645\u5b58\u50a8\u6570\u636e\u3002\u89c6\u56fe\u63d0\u4f9b\u4e86\u4e00\u79cd\u4ece\u6570\u636e\u5e93\u8868\u4e2d\u62bd\u8c61\u51fa\u7279\u5b9a\u6570\u636e\u89c6\u56fe\u7684\u65b9\u5f0f\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u89c6\u56fe\u6765\u8bbf\u95ee\u590d\u6742\u67e5\u8be2\u7684\u7ed3\u679c\u3002</li> <li>\u89c6\u56fe\u7684\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a<ol> <li>\u521b\u5efa\u89c6\u56fe\uff1a     <code>sql     CREATE VIEW view_name AS     SELECT column1, column2, ...     FROM table_name     WHERE condition;</code></li> <li>\u4f7f\u7528\u89c6\u56fe\uff1a<ul> <li>\u89c6\u56fe\u7684\u4f7f\u7528\u65b9\u5f0f\u4e0e\u666e\u901a\u8868\u7c7b\u4f3c\uff0c\u53ef\u4ee5\u8fdb\u884c\u67e5\u8be2\u3001\u8fc7\u6ee4\u3001\u6392\u5e8f\u7b49\u64cd\u4f5c\uff1a <code>sql SELECT * FROM view_name WHERE column1 = 'value';</code></li> </ul> </li> <li>\u4fee\u6539\u89c6\u56fe\uff1a<ul> <li>\u4f7f\u7528 <code>ALTER VIEW</code> \u6216 <code>CREATE OR REPLACE VIEW</code> \u6765\u4fee\u6539\u5df2\u5b58\u5728\u7684\u89c6\u56fe\u3002</li> </ul> </li> <li>\u5220\u9664\u89c6\u56fe\uff1a<ul> <li>\u4f7f\u7528 <code>DROP VIEW</code> \u5220\u9664\u89c6\u56fe\uff1a <code>sql DROP VIEW view_name;</code></li> </ul> </li> </ol> </li> </ul> <p>\u89c6\u56fe\u7684\u4f18\u70b9\uff1a    1. \u7b80\u5316\u590d\u6742\u67e5\u8be2\uff1a\u89c6\u56fe\u53ef\u4ee5\u5c06\u590d\u6742\u7684 SQL \u67e5\u8be2\u5c01\u88c5\u8d77\u6765\uff0c\u7b80\u5316\u7528\u6237\u7684\u67e5\u8be2\u64cd\u4f5c\u3002    2. \u6570\u636e\u5b89\u5168\u6027\uff1a\u901a\u8fc7\u89c6\u56fe\u53ef\u4ee5\u63a7\u5236\u7528\u6237\u5bf9\u654f\u611f\u6570\u636e\u7684\u8bbf\u95ee\uff0c\u66b4\u9732\u7ed9\u7528\u6237\u7684\u53ea\u662f\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u3002    3. \u6570\u636e\u62bd\u8c61\uff1a\u89c6\u56fe\u63d0\u4f9b\u4e86\u4e00\u79cd\u6570\u636e\u62bd\u8c61\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u901a\u8fc7\u89c6\u56fe\u5bf9\u5e95\u5c42\u8868\u7ed3\u6784\u7684\u53d8\u5316\u8fdb\u884c\u5c4f\u853d\u3002</p> <p>\u89c6\u56fe\u7684\u7f3a\u70b9\uff1a    1. \u6027\u80fd\u95ee\u9898\uff1a\u7531\u4e8e\u89c6\u56fe\u672c\u8d28\u4e0a\u662f SQL \u67e5\u8be2\u7684\u5c01\u88c5\uff0c\u590d\u6742\u89c6\u56fe\u7684\u67e5\u8be2\u6027\u80fd\u53ef\u80fd\u8f83\u4f4e\uff0c\u5c24\u5176\u662f\u5728\u591a\u5c42\u5d4c\u5957\u7684\u89c6\u56fe\u4e2d\u3002    2. \u66f4\u65b0\u9650\u5236\uff1a\u89c6\u56fe\u4e2d\u7684\u6570\u636e\u66f4\u65b0\u53d7\u5230\u9650\u5236\uff0c\u7279\u522b\u662f\u5f53\u89c6\u56fe\u6d89\u53ca\u591a\u4e2a\u8868\u3001\u805a\u5408\u51fd\u6570\u6216 DISTINCT \u65f6\uff0c\u65e0\u6cd5\u76f4\u63a5\u5bf9\u89c6\u56fe\u8fdb\u884c\u66f4\u65b0\u64cd\u4f5c\u3002    3. \u7ef4\u62a4\u6210\u672c\uff1a\u89c6\u56fe\u7684\u521b\u5efa\u548c\u7ef4\u62a4\u9700\u8981\u8003\u8651\u6570\u636e\u5e93\u8868\u7684\u7ed3\u6784\u53d8\u5316\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5bfc\u81f4\u89c6\u56fe\u4e0d\u53ef\u7528\u3002</p> <p>\u603b\u7ed3\uff1a\u89c6\u56fe\u662f MySQL \u4e2d\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u9002\u7528\u4e8e\u7b80\u5316\u67e5\u8be2\u548c\u63d0\u9ad8\u6570\u636e\u5b89\u5168\u6027\uff0c\u4f46\u9700\u8981\u8c28\u614e\u4f7f\u7528\u4ee5\u907f\u514d\u6027\u80fd\u95ee\u9898\u548c\u7ef4\u62a4\u96be\u5ea6\u7684\u589e\u52a0\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#32-mysql-trigger","title":"32. MySQL \u7684\u89e6\u53d1\u5668\uff08Trigger\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u521b\u5efa\u548c\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u89e6\u53d1\u5668\uff08Trigger\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5b58\u50a8\u7a0b\u5e8f\uff0c\u5b83\u5728\u6307\u5b9a\u7684\u8868\u53d1\u751f\u7279\u5b9a\u4e8b\u4ef6\u65f6\u81ea\u52a8\u6267\u884c\u3002\u5e38\u7528\u4e8e\u5728\u6570\u636e\u8868\u7684\u63d2\u5165\u3001\u66f4\u65b0\u3001\u5220\u9664\u64cd\u4f5c\u65f6\uff0c\u81ea\u52a8\u6267\u884c\u9884\u5b9a\u4e49\u7684\u64cd\u4f5c\u903b\u8f91\u3002</li> <li>\u89e6\u53d1\u5668\u7684\u7c7b\u578b\uff1a<ol> <li>INSERT \u89e6\u53d1\u5668\uff1a\u5728\u6267\u884c <code>INSERT</code> \u64cd\u4f5c\u65f6\u89e6\u53d1\u3002</li> <li>UPDATE \u89e6\u53d1\u5668\uff1a\u5728\u6267\u884c <code>UPDATE</code> \u64cd\u4f5c\u65f6\u89e6\u53d1\u3002</li> <li>DELETE \u89e6\u53d1\u5668\uff1a\u5728\u6267\u884c <code>DELETE</code> \u64cd\u4f5c\u65f6\u89e6\u53d1\u3002</li> </ol> </li> </ul> <p>\u89e6\u53d1\u5668\u7684\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a    1. \u521b\u5efa\u89e6\u53d1\u5668\uff1a       - \u521b\u5efa\u4e00\u4e2a\u5728\u63d2\u5165\u6570\u636e\u65f6\u81ea\u52a8\u6267\u884c\u7684\u89e6\u53d1\u5668\uff1a       <code>sql       CREATE TRIGGER trigger_name       BEFORE INSERT ON table_name       FOR EACH ROW       BEGIN         -- \u89e6\u53d1\u5668\u903b\u8f91       END;</code>       - \u89e6\u53d1\u5668\u53ef\u4ee5\u5b9a\u4e49\u4e3a <code>BEFORE</code> \u6216 <code>AFTER</code> \u4e8b\u4ef6\uff0c\u5206\u522b\u8868\u793a\u5728\u64cd\u4f5c\u4e4b\u524d\u6216\u4e4b\u540e\u89e6\u53d1\u3002</p> <ol> <li> <p>\u89e6\u53d1\u5668\u903b\u8f91\uff1a</p> <ul> <li>\u53ef\u4ee5\u5728\u89e6\u53d1\u5668\u4e2d\u4f7f\u7528 <code>NEW</code> \u548c <code>OLD</code> \u5173\u952e\u5b57\u8bbf\u95ee\u65b0\u63d2\u5165\u6216\u65e7\u5220\u9664\u7684\u884c\u6570\u636e\uff1a   <code>sql   CREATE TRIGGER update_timestamp   BEFORE UPDATE ON table_name   FOR EACH ROW   BEGIN     SET NEW.updated_at = NOW();   END;</code></li> </ul> </li> <li> <p>\u5220\u9664\u89e6\u53d1\u5668\uff1a</p> <ul> <li>\u4f7f\u7528 <code>DROP TRIGGER</code> \u5220\u9664\u89e6\u53d1\u5668\uff1a   <code>sql   DROP TRIGGER trigger_name;</code></li> </ul> </li> </ol> <p>\u89e6\u53d1\u5668\u7684\u5e94\u7528\u573a\u666f\uff1a    1. \u81ea\u52a8\u6570\u636e\u7ef4\u62a4\uff1a\u5728\u6570\u636e\u8868\u53d1\u751f\u66f4\u65b0\u65f6\uff0c\u81ea\u52a8\u66f4\u65b0\u76f8\u5173\u7684\u65e5\u5fd7\u8868\u6216\u5ba1\u8ba1\u8868\u3002    2. \u6570\u636e\u5b8c\u6574\u6027\u68c0\u67e5\uff1a\u5728\u63d2\u5165\u6216\u66f4\u65b0\u6570\u636e\u65f6\uff0c\u81ea\u52a8\u68c0\u67e5\u6570\u636e\u7684\u6709\u6548\u6027\uff0c\u5e76\u5728\u8fdd\u89c4\u65f6\u963b\u6b62\u64cd\u4f5c\u3002    3. \u590d\u6742\u4e1a\u52a1\u903b\u8f91\uff1a\u5728\u6570\u636e\u64cd\u4f5c\u65f6\uff0c\u6267\u884c\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5982\u6839\u636e\u8ba2\u5355\u72b6\u6001\u81ea\u52a8\u66f4\u65b0\u5e93\u5b58\u3002</p> <p>\u89e6\u53d1\u5668\u7684\u4f18\u7f3a\u70b9\uff1a    - \u4f18\u70b9\uff1a      1. \u81ea\u52a8\u6267\u884c\uff0c\u51cf\u5c11\u4e86\u624b\u52a8\u6267\u884c\u64cd\u4f5c\u7684\u98ce\u9669\u3002      2. \u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002      3. \u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u6d01\u7684\u65b9\u5f0f\u5b9e\u73b0\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\u3002    - \u7f3a\u70b9\uff1a      1. \u9690\u5f0f\u6267\u884c\uff0c\u53ef\u80fd\u5bfc\u81f4\u8c03\u8bd5\u56f0\u96be\u3002      2. \u590d\u6742\u7684\u89e6\u53d1\u5668\u903b\u8f91\u53ef\u80fd\u5f71\u54cd\u6570\u636e\u5e93\u6027\u80fd\u3002      3. \u591a\u4e2a\u89e6\u53d1\u5668\u4e4b\u95f4\u53ef\u80fd\u4ea7\u751f\u76f8\u4e92\u5f71\u54cd\uff0c\u5bfc\u81f4\u96be\u4ee5\u7ef4\u62a4\u3002</p> <p>\u603b\u7ed3\uff1a\u89e6\u53d1\u5668\u662f MySQL \u4e2d\u5b9e\u73b0\u81ea\u52a8\u5316\u64cd\u4f5c\u548c\u6570\u636e\u5b8c\u6574\u6027\u7684\u91cd\u8981\u5de5\u5177\uff0c\u4f46\u5728\u4f7f\u7528\u65f6\u5e94\u6ce8\u610f\u6027\u80fd\u548c\u7ef4\u62a4\u65b9\u9762\u7684\u6311\u6218\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#33-mysql-transaction-isolation-levels","title":"33. MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff08Transaction Isolation Levels\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u9009\u62e9\u5408\u9002\u7684\u9694\u79bb\u7ea7\u522b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5b9a\u4e49\u4e86\u4e8b\u52a1\u4e0e\u5176\u4ed6\u4e8b\u52a1\u4e4b\u95f4\u7684\u53ef\u89c1\u6027\uff0c\u5373\u4e00\u4e2a\u4e8b\u52a1\u80fd\u770b\u5230\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u66f4\u6539\u7684\u7a0b\u5ea6\u3002MySQL \u652f\u6301\u56db\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u6bcf\u79cd\u9694\u79bb\u7ea7\u522b\u90fd\u6709\u4e0d\u540c\u7684\u7279\u6027\u548c\u9002\u7528\u573a\u666f\u3002</li> <li>\u56db\u79cd\u9694\u79bb\u7ea7\u522b\uff1a<ol> <li>READ UNCOMMITTED\uff08\u8bfb\u672a\u63d0\u4ea4\uff09\uff1a<ul> <li>\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff08\u810f\u8bfb\uff09\u3002</li> <li>\u4f18\u70b9\uff1a\u5e76\u53d1\u6027\u80fd\u6700\u9ad8\u3002</li> <li>\u7f3a\u70b9\uff1a\u6570\u636e\u4e00\u81f4\u6027\u6700\u5dee\uff0c\u53ef\u80fd\u51fa\u73b0\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u3001\u5e7b\u8bfb\u7b49\u95ee\u9898\u3002</li> </ul> </li> <li>READ COMMITTED\uff08\u8bfb\u5df2\u63d0\u4ea4\uff09\uff1a<ul> <li>\u4e8b\u52a1\u53ea\u80fd\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u5df2\u63d0\u4ea4\u7684\u6570\u636e\u3002</li> <li>\u4f18\u70b9\uff1a\u907f\u514d\u4e86\u810f\u8bfb\u95ee\u9898\u3002</li> <li>\u7f3a\u70b9\uff1a\u53ef\u80fd\u51fa\u73b0\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u95ee\u9898\u3002</li> </ul> </li> <li>REPEATABLE READ\uff08\u53ef\u91cd\u590d\u8bfb\uff09\uff1a<ul> <li>\u5728\u540c\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u591a\u6b21\u8bfb\u53d6\u76f8\u540c\u6570\u636e\u65f6\uff0c\u7ed3\u679c\u4fdd\u6301\u4e00\u81f4\u3002</li> <li>\u4f18\u70b9\uff1a\u907f\u514d\u4e86\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\u95ee\u9898\uff0cMySQL \u9ed8\u8ba4\u4f7f\u7528\u7684\u9694\u79bb\u7ea7\u522b\u3002</li> <li>\u7f3a\u70b9\uff1a\u53ef\u80fd\u51fa\u73b0\u5e7b\u8bfb\u95ee\u9898\uff0c\u4f46 InnoDB \u4f7f\u7528\u95f4\u9699\u9501\uff08Gap Lock\uff09\u6765\u89e3\u51b3\u5e7b\u8bfb\u95ee\u9898\u3002</li> </ul> </li> <li>SERIALIZABLE\uff08\u53ef\u4e32\u884c\u5316\uff09\uff1a<ul> <li>\u6240\u6709\u4e8b\u52a1\u4e32\u884c\u6267\u884c\uff0c\u907f\u514d\u4e86\u6240\u6709\u5e76\u53d1\u95ee\u9898\uff08\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u3001\u5e7b\u8bfb\uff09\u3002</li> <li>\u4f18\u70b9\uff1a\u63d0\u4f9b\u6700\u9ad8\u7684\u4e8b\u52a1\u9694\u79bb\u6027\u3002</li> <li>\u7f3a\u70b9\uff1a\u5e76\u53d1\u6027\u80fd\u6700\u5dee\uff0c\u5bb9\u6613\u5bfc\u81f4\u4e8b\u52a1\u7b49\u5f85\u548c\u6b7b\u9501\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u9009\u62e9\u5408\u9002\u7684\u9694\u79bb\u7ea7\u522b\uff1a    1. \u6027\u80fd vs \u4e00\u81f4\u6027\uff1a\u9700\u8981\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u6743\u8861\u6027\u80fd\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002\u4f8b\u5982\uff0c\u91d1\u878d\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u4f7f\u7528 <code>SERIALIZABLE</code> \u6765\u4fdd\u8bc1\u6570\u636e\u7684\u7edd\u5bf9\u4e00\u81f4\u6027\uff0c\u800c\u666e\u901a\u7684\u7535\u5546\u7cfb\u7edf\u53ef\u4ee5\u9009\u62e9 <code>REPEATABLE READ</code> \u4ee5\u517c\u987e\u6027\u80fd\u3002    2. \u9ed8\u8ba4\u7ea7\u522b\uff1aMySQL \u9ed8\u8ba4\u4f7f\u7528 <code>REPEATABLE READ</code>\uff0c\u8fd9\u4e00\u7ea7\u522b\u901a\u5e38\u53ef\u4ee5\u6ee1\u8db3\u5927\u591a\u6570\u5e94\u7528\u573a\u666f\u7684\u9700\u6c42\uff0c\u63d0\u4f9b\u8f83\u597d\u7684\u6027\u80fd\u4e0e\u4e00\u81f4\u6027\u5e73\u8861\u3002    3. \u4e1a\u52a1\u573a\u666f\u5206\u6790\uff1a\u6839\u636e\u5177\u4f53\u4e1a\u52a1\u573a\u666f\uff0c\u5224\u65ad\u662f\u5426\u6709\u5fc5\u8981\u4f7f\u7528\u66f4\u4e25\u683c\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u5982 <code>SERIALIZABLE</code>\uff0c\u6216\u8005\u662f\u5426\u53ef\u4ee5\u964d\u4f4e\u9694\u79bb\u7ea7\u522b\u4ee5\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\uff0c\u5982\u4f7f\u7528 <code>READ COMMITTED</code>\u3002</p> <p>\u603b\u7ed3\uff1a\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u662f MySQL \u4e2d\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684\u91cd\u8981\u624b\u6bb5\uff0c\u9009\u62e9\u5408\u9002\u7684\u9694\u79bb\u7ea7\u522b\u53ef\u4ee5\u5728\u6027\u80fd\u548c\u6570\u636e\u4e00\u81f4\u6027\u4e4b\u95f4\u627e\u5230\u6700\u4f73\u5e73\u8861\u70b9\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#34-mysql-stored-procedurestored-function","title":"34. MySQL \u4e2d\u7684\u5b58\u50a8\u8fc7\u7a0b\uff08Stored Procedure\uff09\u548c\u5b58\u50a8\u51fd\u6570\uff08Stored Function\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5b58\u50a8\u8fc7\u7a0b\u662f\u4e00\u7ec4\u9884\u7f16\u8bd1\u7684 SQL \u8bed\u53e5\u7684\u96c6\u5408\uff0c\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u53ef\u4ee5\u5728\u9700\u8981\u65f6\u6267\u884c\u3002\u5b58\u50a8\u8fc7\u7a0b\u63d0\u9ad8\u4e86 SQL \u4ee3\u7801\u7684\u91cd\u7528\u6027\uff0c\u51cf\u5c11\u4e86\u5e94\u7528\u7a0b\u5e8f\u4e0e\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u7f51\u7edc\u901a\u4fe1\u5f00\u9500\u3002</li> <li>\u5b58\u50a8\u51fd\u6570\u4e0e\u5b58\u50a8\u8fc7\u7a0b\u7c7b\u4f3c\uff0c\u4f46\u5b83\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u53ef\u4ee5\u5728 SQL \u8bed\u53e5\u4e2d\u50cf\u666e\u901a\u51fd\u6570\u4e00\u6837\u8c03\u7528\u3002</li> </ul> <p>\u5b58\u50a8\u8fc7\u7a0b\u7684\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a    1. \u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\uff1a       <code>sql       CREATE PROCEDURE procedure_name (IN param1 INT, OUT param2 INT)       BEGIN          -- SQL \u903b\u8f91          SET param2 = param1 * 2;       END;</code>    2. \u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\uff1a       <code>sql       CALL procedure_name(5, @output_param);       SELECT @output_param;</code>    3. \u5220\u9664\u5b58\u50a8\u8fc7\u7a0b\uff1a       <code>sql       DROP PROCEDURE procedure_name;</code></p> <p>\u5b58\u50a8\u51fd\u6570\u7684\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a    1. \u521b\u5efa\u5b58\u50a8\u51fd\u6570\uff1a       <code>sql       CREATE FUNCTION function_name (param1 INT) RETURNS INT       BEGIN          RETURN param1 * 2;       END;</code>    2. \u8c03\u7528\u5b58\u50a8\u51fd\u6570\uff1a       <code>sql       SELECT function_name(5);</code></p> <p>\u5b58\u50a8\u8fc7\u7a0b\u548c\u5b58\u50a8\u51fd\u6570\u7684\u4f18\u7f3a\u70b9\uff1a</p> <ul> <li> <p>\u4f18\u70b9\uff1a</p> <ol> <li>\u63d0\u9ad8\u4ee3\u7801\u590d\u7528\u6027\uff1a\u5e38\u7528\u7684\u4e1a\u52a1\u903b\u8f91\u53ef\u4ee5\u5c01\u88c5\u5728\u5b58\u50a8\u8fc7\u7a0b\u4e2d\uff0c\u65b9\u4fbf\u91cd\u590d\u4f7f\u7528\u3002</li> <li>\u51cf\u5c11\u7f51\u7edc\u5f00\u9500\uff1a\u5ba2\u6237\u7aef\u53ea\u9700\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\uff0c\u65e0\u9700\u9891\u7e41\u53d1\u9001\u591a\u4e2a SQL \u8bed\u53e5\uff0c\u51cf\u5c11\u4e86\u7f51\u7edc\u901a\u4fe1\u7684\u5f00\u9500\u3002</li> <li>\u589e\u5f3a\u6570\u636e\u5b89\u5168\u6027\uff1a\u901a\u8fc7\u5b58\u50a8\u8fc7\u7a0b\u548c\u5b58\u50a8\u51fd\u6570\uff0c\u53ef\u4ee5\u63a7\u5236\u5bf9\u6570\u636e\u5e93\u7684\u8bbf\u95ee\uff0c\u9632\u6b62\u76f4\u63a5\u64cd\u4f5c\u6570\u636e\u5e93\u8868\u3002</li> </ol> </li> <li> <p>\u7f3a\u70b9\uff1a</p> <ol> <li>\u8c03\u8bd5\u56f0\u96be\uff1a\u5b58\u50a8\u8fc7\u7a0b\u548c\u5b58\u50a8\u51fd\u6570\u7684\u8c03\u8bd5\u76f8\u5bf9\u590d\u6742\uff0c\u5c24\u5176\u662f\u5728\u51fa\u73b0\u95ee\u9898\u65f6\u3002</li> <li>\u53ef\u79fb\u690d\u6027\u5dee\uff1a\u4e0d\u540c\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u5bf9\u5b58\u50a8\u8fc7\u7a0b\u548c\u5b58\u50a8\u51fd\u6570\u7684\u652f\u6301\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u8de8\u6570\u636e\u5e93\u8fc1\u79fb\u65f6\u53ef\u80fd\u9700\u8981\u8c03\u6574\u3002</li> <li>\u6027\u80fd\u95ee\u9898\uff1a\u590d\u6742\u7684\u5b58\u50a8\u8fc7\u7a0b\u548c\u5b58\u50a8\u51fd\u6570\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\uff0c\u7279\u522b\u662f\u5728\u6d89\u53ca\u5927\u91cf\u8ba1\u7b97\u548c\u5927\u6570\u636e\u91cf\u64cd\u4f5c\u65f6\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5b58\u50a8\u8fc7\u7a0b\u548c\u5b58\u50a8\u51fd\u6570\u662f MySQL \u4e2d\u5f3a\u5927\u7684\u7f16\u7a0b\u5de5\u5177\uff0c\u9002\u7528\u4e8e\u5c01\u88c5\u4e1a\u52a1\u903b\u8f91\u548c\u63d0\u9ad8 SQL \u4ee3\u7801\u590d\u7528\u6027\uff0c\u4f46\u5728\u4f7f\u7528\u65f6\u9700\u8981\u6ce8\u610f\u6027\u80fd\u548c\u53ef\u7ef4\u62a4\u6027\u7684\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#35-mysql-cursor","title":"35. MySQL \u4e2d\u7684\u6e38\u6807\uff08Cursor\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u6e38\u6807\uff08Cursor\uff09\u662f\u4e00\u4e2a\u6570\u636e\u5e93\u67e5\u8be2\u7684\u8fed\u4ee3\u5668\uff0c\u5141\u8bb8\u5728\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u884c\u4e0a\u9010\u884c\u8fdb\u884c\u64cd\u4f5c\u3002\u6e38\u6807\u5e38\u7528\u4e8e\u9700\u8981\u9010\u884c\u5904\u7406\u67e5\u8be2\u7ed3\u679c\u7684\u590d\u6742\u64cd\u4f5c\u573a\u666f\u4e2d\u3002</li> <li>\u6e38\u6807\u7684\u4f7f\u7528\u6b65\u9aa4\uff1a<ol> <li>\u58f0\u660e\u6e38\u6807\uff1a\u5b9a\u4e49\u6e38\u6807\u53ca\u5176\u67e5\u8be2\u8bed\u53e5\u3002</li> <li>\u6253\u5f00\u6e38\u6807\uff1a\u6267\u884c\u67e5\u8be2\u5e76\u5c06\u7ed3\u679c\u96c6\u5b58\u50a8\u5728\u6e38\u6807\u4e2d\u3002</li> <li>\u83b7\u53d6\u6570\u636e\uff1a\u9010\u884c\u83b7\u53d6\u6e38\u6807\u4e2d\u7684\u6570\u636e\u3002</li> <li>\u5173\u95ed\u6e38\u6807\uff1a\u91ca\u653e\u6e38\u6807\u8d44\u6e90\u3002</li> </ol> </li> </ul> <p>\u6e38\u6807\u7684\u521b\u5efa\u4e0e\u4f7f\u7528\uff1a    1. \u58f0\u660e\u6e38\u6807\uff1a       <code>sql       DECLARE cursor_name CURSOR FOR       SELECT column1, column2 FROM table_name WHERE condition;</code>    2. \u6253\u5f00\u6e38\u6807\uff1a       <code>sql       OPEN cursor_name;</code>    3. \u83b7\u53d6\u6570\u636e\uff1a       - \u4f7f\u7528 <code>FETCH INTO</code> \u4ece\u6e38\u6807\u4e2d\u83b7\u53d6\u6570\u636e\uff1a       <code>sql       FETCH cursor_name INTO var1, var2;</code>       - \u53ef\u4ee5\u4f7f\u7528\u5faa\u73af\u9010\u884c\u83b7\u53d6\u6570\u636e\uff1a       ```sql       DECLARE done INT DEFAULT FALSE;       DECLARE cursor_name CURSOR FOR SELECT column1, column2 FROM table_name;       DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;</p> <pre><code>  OPEN cursor_name;\n  read_loop: LOOP\n     FETCH cursor_name INTO var1, var2;\n     IF done THEN\n        LEAVE read_loop;\n     END IF;\n     -- \u5904\u7406\u6570\u636e\u7684\u903b\u8f91\n  END LOOP;\n  CLOSE cursor_name;\n  ```\n</code></pre> <ol> <li>\u5173\u95ed\u6e38\u6807\uff1a       <code>sql       CLOSE cursor_name;</code></li> </ol> <p>\u6e38\u6807\u7684\u5e94\u7528\u573a\u666f\uff1a    - \u9010\u884c\u5904\u7406\uff1a\u5f53\u9700\u8981\u5bf9\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u6bcf\u4e00\u884c\u8fdb\u884c\u9010\u884c\u5904\u7406\u65f6\uff0c\u6e38\u6807\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002    - \u590d\u6742\u903b\u8f91\uff1a\u5728\u5b58\u50a8\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u6e38\u6807\uff0c\u53ef\u4ee5\u5904\u7406\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u4f8b\u5982\u6839\u636e\u67d0\u4e9b\u6761\u4ef6\u66f4\u65b0\u6216\u5904\u7406\u6bcf\u4e00\u884c\u6570\u636e\u3002</p> <p>\u6e38\u6807\u7684\u4f18\u7f3a\u70b9\uff1a    - \u4f18\u70b9\uff1a      1. \u63d0\u4f9b\u9010\u884c\u5904\u7406\u6570\u636e\u7684\u80fd\u529b\uff0c\u9002\u5408\u590d\u6742\u7684\u903b\u8f91\u64cd\u4f5c\u3002      2. \u53ef\u4ee5\u5728\u5b58\u50a8\u8fc7\u7a0b\u4e2d\u4e0e\u5176\u4ed6 SQL \u64cd\u4f5c\u7ed3\u5408\u4f7f\u7528\uff0c\u589e\u5f3a\u6570\u636e\u5e93\u7684\u7f16\u7a0b\u80fd\u529b\u3002</p> <ul> <li>\u7f3a\u70b9\uff1a<ol> <li>\u6027\u80fd\u5f00\u9500\uff1a\u6e38\u6807\u7684\u4f7f\u7528\u901a\u5e38\u4f34\u968f\u7740\u8f83\u5927\u7684\u6027\u80fd\u5f00\u9500\uff0c\u7279\u522b\u662f\u5728\u5904\u7406\u5927\u7ed3\u679c\u96c6\u65f6\u3002</li> <li>\u590d\u6742\u6027\uff1a\u6e38\u6807\u7684\u4f7f\u7528\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u590d\u6742\u6027\uff0c\u53ef\u80fd\u5f71\u54cd\u53ef\u7ef4\u62a4\u6027\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u6e38\u6807\u662f MySQL \u4e2d\u5904\u7406\u590d\u6742\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u91cd\u8981\u5de5\u5177\uff0c\u4f46\u5728\u4f7f\u7528\u65f6\u9700\u6ce8\u610f\u6027\u80fd\u5f00\u9500\u548c\u4ee3\u7801\u590d\u6742\u5ea6\uff0c\u901a\u5e38\u5efa\u8bae\u4ec5\u5728\u5fc5\u8981\u65f6\u4f7f\u7528\u6e38\u6807\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#36-mysql-covering-index","title":"36. MySQL \u7684\u7d22\u5f15\u8986\u76d6\uff08Covering Index\uff09\u662f\u4ec0\u4e48\uff1f\u6709\u4ec0\u4e48\u4f18\u52bf\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u7d22\u5f15\u8986\u76d6\uff08Covering Index\uff09\u662f\u6307\u67e5\u8be2\u7684\u6240\u6709\u9700\u8981\u7684\u5b57\u6bb5\u90fd\u88ab\u7d22\u5f15\u8986\u76d6\uff0c\u67e5\u8be2\u65f6\u53ea\u9700\u8981\u4ece\u7d22\u5f15\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u800c\u4e0d\u9700\u8981\u56de\u8868\u67e5\u8be2\uff08\u5373\u8bbf\u95ee\u8868\u7684\u5b9e\u9645\u6570\u636e\uff09\u3002    - \u7d22\u5f15\u8986\u76d6\u7684\u4f18\u52bf\uff1a      1. \u51cf\u5c11 I/O \u64cd\u4f5c\uff1a\u7d22\u5f15\u8986\u76d6\u907f\u514d\u4e86\u67e5\u8be2\u6570\u636e\u65f6\u56de\u8868\u7684\u64cd\u4f5c\uff0c\u53ea\u9700\u8bfb\u53d6\u7d22\u5f15\u9875\uff0c\u51cf\u5c11\u4e86\u78c1\u76d8 I/O\uff0c\u63d0\u9ad8\u4e86\u67e5\u8be2\u6027\u80fd\u3002      2. \u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\uff1a\u7531\u4e8e\u53ea\u4f7f\u7528\u7d22\u5f15\uff0c\u67e5\u8be2\u53ef\u4ee5\u5feb\u901f\u5b9a\u4f4d\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u7279\u522b\u662f\u5728\u5927\u6570\u636e\u91cf\u8868\u4e2d\u8868\u73b0\u663e\u8457\u3002      3. \u8282\u7701\u5b58\u50a8\u7a7a\u95f4\uff1a\u7d22\u5f15\u901a\u5e38\u6bd4\u8868\u7684\u5b9e\u9645\u6570\u636e\u5c0f\u5f97\u591a\uff0c\u56e0\u6b64\u5728\u7f13\u5b58\u4e2d\u53ef\u4ee5\u4fdd\u7559\u66f4\u591a\u7684\u7d22\u5f15\uff0c\u4ece\u800c\u63d0\u9ad8\u7f13\u5b58\u547d\u4e2d\u7387\u3002    - \u9002\u7528\u573a\u666f\uff1a      - \u9002\u5408\u9891\u7e41\u8bfb\u53d6\u7684\u6570\u636e\u67e5\u8be2\uff0c\u4f8b\u5982\u5728\u7535\u5546\u7cfb\u7edf\u4e2d\u67e5\u8be2\u5546\u54c1\u7684\u57fa\u672c\u4fe1\u606f\uff08\u5982\u540d\u79f0\u3001\u4ef7\u683c\uff09\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u8986\u76d6\u6765\u4f18\u5316\u67e5\u8be2\u3002</p> <p>\u603b\u7ed3\uff1a\u7d22\u5f15\u8986\u76d6\u662f MySQL \u4e2d\u4e00\u79cd\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u7684\u91cd\u8981\u6280\u672f\uff0c\u901a\u8fc7\u51cf\u5c11 I/O \u64cd\u4f5c\u548c\u56de\u8868\u67e5\u8be2\uff0c\u63d0\u9ad8\u4e86\u67e5\u8be2\u6548\u7387\u3002\u8bbe\u8ba1\u7d22\u5f15\u65f6\uff0c\u5e94\u5c3d\u91cf\u8986\u76d6\u5e38\u7528\u67e5\u8be2\u7684\u6240\u6709\u5b57\u6bb5\uff0c\u4ee5\u5229\u7528\u7d22\u5f15\u8986\u76d6\u7684\u4f18\u52bf\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#37-mysql-locking-mechanism","title":"37. MySQL \u4e2d\u7684\u9501\u673a\u5236\uff08Locking Mechanism\uff09\u6709\u54ea\u4e9b\uff1f\u5982\u4f55\u907f\u514d\u6b7b\u9501\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u9501\u673a\u5236\u662f MySQL \u4e2d\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u548c\u9694\u79bb\u6027\u7684\u5173\u952e\u624b\u6bb5\u3002MySQL \u652f\u6301\u591a\u79cd\u9501\uff0c\u5305\u62ec\u8868\u7ea7\u9501\u3001\u884c\u7ea7\u9501\u548c\u610f\u5411\u9501\u7b49\u3002    - \u9501\u7684\u79cd\u7c7b\uff1a      1. \u8868\u7ea7\u9501\uff08Table Lock\uff09\uff1a\u9501\u5b9a\u6574\u4e2a\u8868\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5bf9\u8868\u8fdb\u884c\u5168\u8868\u64cd\u4f5c\u7684\u573a\u666f\u3002      2. \u884c\u7ea7\u9501\uff08Row Lock\uff09\uff1a\u9501\u5b9a\u5355\u884c\u6570\u636e\uff0c\u9002\u7528\u4e8e\u5e76\u53d1\u5199\u64cd\u4f5c\u9891\u7e41\u7684\u573a\u666f\uff0cMySQL \u7684 InnoDB \u5b58\u50a8\u5f15\u64ce\u9ed8\u8ba4\u4f7f\u7528\u884c\u7ea7\u9501\u3002      3. \u610f\u5411\u9501\uff08Intention Lock\uff09\uff1a\u4e00\u79cd\u5143\u6570\u636e\u9501\uff0c\u7528\u4e8e\u6807\u8bc6\u4e8b\u52a1\u5373\u5c06\u5bf9\u67d0\u4e9b\u884c\u52a0\u9501\uff0c\u4e0d\u963b\u585e\u5176\u4ed6\u4e8b\u52a1\u7684\u884c\u7ea7\u9501\u64cd\u4f5c\u3002</p> <p>\u6b7b\u9501\u7684\u907f\u514d\uff1a    - \u6b7b\u9501\u662f\u6307\u4e24\u4e2a\u6216\u591a\u4e2a\u4e8b\u52a1\u4e92\u76f8\u7b49\u5f85\u5bf9\u65b9\u6301\u6709\u7684\u9501\uff0c\u5bfc\u81f4\u6240\u6709\u4e8b\u52a1\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u3002\u907f\u514d\u6b7b\u9501\u7684\u7b56\u7565\u5305\u62ec\uff1a      1. \u4fdd\u6301\u9501\u5b9a\u987a\u5e8f\u4e00\u81f4\uff1a\u786e\u4fdd\u4e8b\u52a1\u5728\u83b7\u53d6\u9501\u65f6\u6309\u76f8\u540c\u7684\u987a\u5e8f\u8fdb\u884c\uff0c\u907f\u514d\u5faa\u73af\u7b49\u5f85\u3002      2. \u7f29\u77ed\u9501\u7684\u6301\u6709\u65f6\u95f4\uff1a\u5728\u9700\u8981\u9501\u5b9a\u7684\u4ee3\u7801\u5757\u4e2d\u5c3d\u91cf\u51cf\u5c11\u6267\u884c\u65f6\u95f4\uff0c\u5feb\u901f\u91ca\u653e\u9501\u3002      3. \u4f7f\u7528\u8f83\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff1a\u5728\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\u7684\u524d\u63d0\u4e0b\uff0c\u9009\u62e9\u8f83\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff08\u5982 <code>READ COMMITTED</code>\uff09\uff0c\u4ee5\u51cf\u5c11\u9501\u7684\u7ade\u4e89\u3002      4. \u5408\u7406\u8bbe\u8ba1\u7d22\u5f15\uff1a\u901a\u8fc7\u5408\u7406\u7684\u7d22\u5f15\u8bbe\u8ba1\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5168\u8868\u626b\u63cf\uff0c\u4ece\u800c\u51cf\u5c11\u9501\u51b2\u7a81\u3002</p> <p>\u603b\u7ed3\uff1aMySQL \u7684\u9501\u673a\u5236\u662f\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684\u91cd\u8981\u5de5\u5177\uff0c\u4f46\u5728\u4f7f\u7528\u65f6\u9700\u8981\u6ce8\u610f\u907f\u514d\u6b7b\u9501\u3002\u901a\u8fc7\u5408\u7406\u7684\u9501\u5b9a\u987a\u5e8f\u3001\u7f29\u77ed\u9501\u5b9a\u65f6\u95f4\u548c\u8bbe\u8ba1\u9ad8\u6548\u7684\u7d22\u5f15\uff0c\u53ef\u4ee5\u6709\u6548\u907f\u514d\u6b7b\u9501\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u5e76\u53d1\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#38-mysql-query-optimizer","title":"38. MySQL \u7684\u67e5\u8be2\u4f18\u5316\u5668\uff08Query Optimizer\uff09\u5982\u4f55\u5de5\u4f5c\uff1f\u5982\u4f55\u4f18\u5316\u67e5\u8be2\u6027\u80fd\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u67e5\u8be2\u4f18\u5316\u5668\u662f MySQL \u5728\u6267\u884c SQL \u67e5\u8be2\u65f6\uff0c\u9009\u62e9\u6700\u4f18\u6267\u884c\u8ba1\u5212\u7684\u7ec4\u4ef6\u3002\u4f18\u5316\u5668\u4f1a\u57fa\u4e8e\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u3001\u7d22\u5f15\u7b49\u56e0\u7d20\uff0c\u9009\u62e9\u6700\u4f18\u7684\u67e5\u8be2\u8def\u5f84\u3002    - \u67e5\u8be2\u4f18\u5316\u5668\u7684\u5de5\u4f5c\u539f\u7406\uff1a      1. \u89e3\u6790 SQL\uff1a\u5c06 SQL \u8bed\u53e5\u89e3\u6790\u4e3a\u67e5\u8be2\u6811\u7ed3\u6784\u3002      2. \u751f\u6210\u6267\u884c\u8ba1\u5212\uff1a\u6839\u636e\u67e5\u8be2\u6811\uff0c\u751f\u6210\u591a\u79cd\u53ef\u80fd\u7684\u6267\u884c\u8ba1\u5212\u3002      3. \u9009\u62e9\u6700\u4f18\u8ba1\u5212\uff1a\u6839\u636e\u4ee3\u4ef7\u6a21\u578b\uff08\u5982 I/O\u3001CPU \u8ba1\u7b97\u91cf\u7b49\uff09\uff0c\u9009\u62e9\u4ee3\u4ef7\u6700\u4f4e\u7684\u6267\u884c\u8ba1\u5212\u3002      4. \u6267\u884c\u67e5\u8be2\uff1a\u6839\u636e\u9009\u5b9a\u7684\u6267\u884c\u8ba1\u5212\uff0c\u5b9e\u9645\u6267\u884c SQL \u67e5\u8be2\u5e76\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\u67e5\u8be2\u4f18\u5316\u6280\u5de7\uff1a    1. \u4f7f\u7528\u7d22\u5f15\uff1a\u786e\u4fdd\u67e5\u8be2\u4e2d\u4f7f\u7528\u4e86\u5408\u9002\u7684\u7d22\u5f15\uff0c\u5c24\u5176\u662f\u5bf9\u8fc7\u6ee4\u6761\u4ef6\u548c\u6392\u5e8f\u5b57\u6bb5\u4f7f\u7528\u7d22\u5f15\u3002    2. \u907f\u514d\u5168\u8868\u626b\u63cf\uff1a\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 <code>SELECT *</code> \u4ee5\u53ca\u6ca1\u6709\u8fc7\u6ee4\u6761\u4ef6\u7684\u67e5\u8be2\uff0c\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u8bfb\u53d6\u3002    3. \u5408\u7406\u4f7f\u7528 JOIN\uff1a\u5728\u591a\u8868\u8fde\u63a5\u65f6\uff0c\u5c3d\u91cf\u51cf\u5c11\u6570\u636e\u96c6\u7684\u5927\u5c0f\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f18\u5316\u8fc7\u6ee4\u6761\u4ef6\u6216\u4f7f\u7528\u5b50\u67e5\u8be2\u3002    4. \u907f\u514d\u5b50\u67e5\u8be2\uff08Subquery\uff09\uff1a\u5b50\u67e5\u8be2\u5f80\u5f80\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\uff0c\u63a8\u8350\u4f7f\u7528 JOIN \u66ff\u4ee3\u5b50\u67e5\u8be2\u3002    5. \u4f7f\u7528 EXPLAIN \u5206\u6790\u67e5\u8be2\uff1a\u901a\u8fc7 <code>EXPLAIN</code> \u547d\u4ee4\u67e5\u770b\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u8bc6\u522b\u6f5c\u5728\u7684\u6027\u80fd\u74f6\u9888\u3002    6. \u4f18\u5316\u6392\u5e8f\u548c\u5206\u7ec4\uff1a\u5bf9\u4e8e <code>ORDER BY</code> \u548c <code>GROUP BY</code> \u64cd\u4f5c\uff0c\u786e\u4fdd\u5728\u8fd9\u4e9b\u5b57\u6bb5\u4e0a\u5efa\u7acb\u7d22\u5f15\uff0c\u4ee5\u907f\u514d\u989d\u5916\u7684\u6392\u5e8f\u5f00\u9500\u3002</p> <p>\u603b\u7ed3\uff1aMySQL \u67e5\u8be2\u4f18\u5316\u5668\u662f\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u7684\u6838\u5fc3\u5de5\u5177\uff0c\u901a\u8fc7\u5408\u7406\u8bbe\u8ba1\u7d22\u5f15\u3001\u4f18\u5316\u67e5\u8be2\u7ed3\u6784\u548c\u5206\u6790\u6267\u884c\u8ba1\u5212\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u5347\u67e5\u8be2\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#39-mysql-replication","title":"39. MySQL \u7684\u590d\u5236\uff08Replication\uff09\u673a\u5236\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u5b9e\u73b0\u4e3b\u4ece\u590d\u5236\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u590d\u5236\u673a\u5236\u5141\u8bb8\u5c06\u4e00\u4e2a MySQL \u670d\u52a1\u5668\u7684\u6570\u636e\u5b9e\u65f6\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u5b9e\u73b0\u6570\u636e\u7684\u5197\u4f59\u5907\u4efd\u548c\u8d1f\u8f7d\u5747\u8861\u3002\u5e38\u89c1\u7684\u590d\u5236\u6a21\u5f0f\u6709\u4e3b\u4ece\u590d\u5236\u548c\u4e3b\u4e3b\u590d\u5236\u3002    - \u4e3b\u4ece\u590d\u5236\u7684\u5b9e\u73b0\u6b65\u9aa4\uff1a      1. \u914d\u7f6e\u4e3b\u670d\u52a1\u5668\uff08Master\uff09\uff1a         - \u5728 <code>my.cnf</code> \u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08<code>log_bin</code>\uff09\uff1a         <code>ini         [mysqld]         log-bin=mysql-bin         server-id=1</code>         - \u91cd\u542f MySQL \u670d\u52a1\u5668\uff0c\u4f7f\u914d\u7f6e\u751f\u6548\u3002         - \u4e3a\u4ece\u670d\u52a1\u5668\u521b\u5efa\u590d\u5236\u7528\u6237\uff1a         <code>sql         CREATE USER 'replica_user'@'%' IDENTIFIED BY 'password';         GRANT REPLICATION SLAVE ON *.* TO 'replica_user'@'%';</code>      2. \u914d\u7f6e\u4ece\u670d\u52a1\u5668\uff08Slave\uff09\uff1a         - \u5728 <code>my.cnf</code> \u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u4ece\u670d\u52a1\u5668 ID \u548c\u4e2d\u7ee7\u65e5\u5fd7\uff08<code>relay-log</code>\uff09\uff1a         <code>ini         [mysqld]         server-id=2         relay-log=relay-bin</code>         - \u91cd\u542f\u4ece\u670d\u52a1\u5668\uff0c\u4f7f\u914d\u7f6e\u751f\u6548\u3002         - \u8fde\u63a5\u4e3b\u670d\u52a1\u5668\u5e76\u5f00\u59cb\u590d\u5236\uff1a         <code>sql         CHANGE MASTER TO           MASTER_HOST='master_host',           MASTER_USER='replica_user',           MASTER_PASSWORD='password',           MASTER_LOG_FILE='mysql-bin.000001',           MASTER_LOG_POS=120;         START SLAVE;</code>      3. \u76d1\u63a7\u590d\u5236\u72b6\u6001\uff1a         - \u4f7f\u7528 <code>SHOW SLAVE STATUS\\G</code> \u547d\u4ee4\u68c0\u67e5\u590d\u5236\u72b6\u6001\uff0c\u786e\u4fdd <code>Slave_IO_Running</code> \u548c <code>Slave_SQL_Running</code> \u90fd\u4e3a <code>Yes</code>\u3002</p> <p>\u4e3b\u4ece\u590d\u5236\u7684\u4f18\u52bf\uff1a    1. \u9ad8\u53ef\u7528\u6027\uff1a\u4e3b\u4ece\u590d\u5236\u63d0\u4f9b\u4e86\u6570\u636e\u5197\u4f59\uff0c\u5728\u4e3b\u670d\u52a1\u5668\u6545\u969c\u65f6\uff0c\u53ef\u4ee5\u5feb\u901f\u5207\u6362\u5230\u4ece\u670d\u52a1\u5668\u3002    2. \u8d1f\u8f7d\u5747\u8861\uff1a\u8bfb\u64cd\u4f5c\u53ef\u4ee5\u5206\u6563\u5230\u4ece\u670d\u52a1\u5668\u4e0a\uff0c\u51cf\u8f7b\u4e3b\u670d\u52a1\u5668\u7684\u538b\u529b\u3002    3. \u6570\u636e\u5907\u4efd\uff1a\u4ece\u670d\u52a1\u5668\u53ef\u4ee5\u4f5c\u4e3a\u5b9e\u65f6\u6570\u636e\u5907\u4efd\uff0c\u7528\u4e8e\u707e\u96be\u6062\u590d\u3002</p> <p>\u603b\u7ed3\uff1aMySQL \u7684\u4e3b\u4ece\u590d\u5236\u673a\u5236\u662f\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u3001\u8d1f\u8f7d\u5747\u8861\u548c\u6570\u636e\u5907\u4efd\u7684\u91cd\u8981\u624b\u6bb5\u3002\u901a\u8fc7\u5408\u7406\u914d\u7f6e\u4e3b\u4ece\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#40-mysql-partitioned-table","title":"40. MySQL \u7684\u5206\u533a\u8868\uff08Partitioned Table\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u5b9e\u73b0\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u5206\u533a\u8868\u662f\u5c06\u4e00\u4e2a\u5927\u8868\u7684\u6570\u636e\u5206\u6210\u591a\u4e2a\u66f4\u5c0f\u7684\u90e8\u5206\uff08\u5206\u533a\uff09\uff0c\u6bcf\u4e2a\u5206\u533a\u53ef\u4ee5\u72ec\u7acb\u5b58\u50a8\u548c\u7ba1\u7406\u3002\u5206\u533a\u7684\u65b9\u5f0f\u6709\u6309\u8303\u56f4\uff08RANGE\uff09\u3001\u6309\u5217\u8868\uff08LIST\uff09\u3001\u6309\u54c8\u5e0c\uff08HASH\uff09\u548c\u6309\u952e\u503c\uff08KEY\uff09\u3002    - \u5206\u533a\u8868\u7684\u5b9e\u73b0\u6b65\u9aa4\uff1a      1. \u6309\u8303\u56f4\u5206\u533a\uff08RANGE Partitioning\uff09\uff1a         - \u6839\u636e\u5217\u503c\u7684\u8303\u56f4\u8fdb\u884c\u5206\u533a\uff0c\u4f8b\u5982\u6309\u5e74\u4efd\u5206\u533a\uff1a         <code>sql         CREATE TABLE sales (             id INT,             sale_date DATE,             amount DECIMAL(10,2)         )         PARTITION BY RANGE (YEAR(sale_date)) (             PARTITION p0 VALUES LESS THAN (2010),             PARTITION p1 VALUES LESS THAN (2020),             PARTITION p2 VALUES LESS THAN MAXVALUE         );</code>      2. \u6309\u5217\u8868\u5206\u533a\uff08LIST Partitioning\uff09\uff1a         - \u6839\u636e\u5217\u7684\u5177\u4f53\u503c\u5217\u8868\u8fdb\u884c\u5206\u533a\uff0c\u4f8b\u5982\u6309\u5730\u533a\u5206\u533a\uff1a         <code>sql         CREATE TABLE sales (             id INT,             region VARCHAR(10),             amount DECIMAL(10,2)         )         PARTITION BY LIST (region) (             PARTITION p0 VALUES IN ('North', 'South'),             PARTITION p1 VALUES IN ('East', 'West')         );</code>      3. \u6309\u54c8\u5e0c\u5206\u533a\uff08HASH Partitioning\uff09\uff1a         - \u4f7f\u7528\u54c8\u5e0c\u51fd\u6570\u5c06\u6570\u636e\u5747\u5300\u5206\u5e03\u5230\u4e0d\u540c\u5206\u533a\uff1a         <code>sql         CREATE TABLE sales (             id INT,             amount DECIMAL(10,2)         )         PARTITION BY HASH(id) PARTITIONS 4;</code>      4. \u6309\u952e\u503c\u5206\u533a\uff08KEY Partitioning\uff09\uff1a         - \u7c7b\u4f3c\u4e8e\u54c8\u5e0c\u5206\u533a\uff0c\u4f46\u4f7f\u7528 MySQL \u81ea\u5b9a\u4e49\u7684\u54c8\u5e0c\u51fd\u6570\uff1a         <code>sql         CREATE TABLE sales (             id INT,             amount DECIMAL(10,2)         )         PARTITION BY KEY(id) PARTITIONS 4;</code></p> <p>\u5206\u533a\u8868\u7684\u4f18\u52bf\uff1a    1. \u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff1a\u67e5\u8be2\u53ea\u9700\u626b\u63cf\u76f8\u5173\u5206\u533a\uff0c\u51cf\u5c11\u4e86\u4e0d\u5fc5\u8981\u7684\u6570\u636e\u8bfb\u53d6\uff0c\u663e\u8457\u63d0\u5347\u4e86\u67e5\u8be2\u6548\u7387\u3002    2. \u7ba1\u7406\u5927\u6570\u636e\u91cf\uff1a\u5206\u533a\u8868\u4f7f\u5f97\u7ba1\u7406\u548c\u7ef4\u62a4\u5927\u6570\u636e\u91cf\u8868\u66f4\u52a0\u65b9\u4fbf\uff0c\u53ef\u4ee5\u72ec\u7acb\u64cd\u4f5c\u5404\u4e2a\u5206\u533a\u3002    3. \u4f18\u5316\u5b58\u50a8\u548c\u5907\u4efd\uff1a\u53ef\u4ee5\u4e3a\u4e0d\u540c\u5206\u533a\u9009\u62e9\u4e0d\u540c\u7684\u5b58\u50a8\u5f15\u64ce\u3001\u5b58\u50a8\u4f4d\u7f6e\uff0c\u751a\u81f3\u5bf9\u5206\u533a\u5355\u72ec\u8fdb\u884c\u5907\u4efd\u548c\u6062\u590d\u3002</p> <p>\u603b\u7ed3\uff1a\u5206\u533a\u8868\u662f MySQL \u4e2d\u5904\u7406\u548c\u7ba1\u7406\u5927\u6570\u636e\u91cf\u8868\u7684\u91cd\u8981\u5de5\u5177\uff0c\u901a\u8fc7\u5408\u7406\u7684\u5206\u533a\u7b56\u7565\uff0c\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u7b80\u5316\u6570\u636e\u7ba1\u7406\uff0c\u7279\u522b\u9002\u5408\u9700\u8981\u5904\u7406\u5927\u91cf\u6570\u636e\u7684\u5e94\u7528\u573a\u666f\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#41-mysql","title":"41. MySQL \u4e2d\u7684\u53cc\u5199\u4e00\u81f4\u6027\u95ee\u9898\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u89e3\u51b3\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u53cc\u5199\u4e00\u81f4\u6027\u95ee\u9898\u4e3b\u8981\u53d1\u751f\u5728 MySQL \u7684\u4e3b\u4ece\u590d\u5236\u573a\u666f\u4e0b\uff0c\u6307\u7684\u662f\u4e3b\u670d\u52a1\u5668\u548c\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\uff0c\u901a\u5e38\u662f\u7531\u4e8e\u5728\u590d\u5236\u8fc7\u7a0b\u4e2d\u53d1\u751f\u4e86\u6570\u636e\u4e22\u5931\u6216\u5ef6\u8fdf\u3002    - \u5e38\u89c1\u539f\u56e0\uff1a      1. \u7f51\u7edc\u5ef6\u8fdf\uff1a\u5728\u4e3b\u4ece\u590d\u5236\u4e2d\uff0c\u4ece\u670d\u52a1\u5668\u53ef\u80fd\u65e0\u6cd5\u53ca\u65f6\u6536\u5230\u4e3b\u670d\u52a1\u5668\u7684\u66f4\u65b0\u6570\u636e\uff0c\u5bfc\u81f4\u4ece\u670d\u52a1\u5668\u7684\u6570\u636e\u6ede\u540e\u3002      2. \u4e3b\u670d\u52a1\u5668\u5d29\u6e83\uff1a\u5982\u679c\u4e3b\u670d\u52a1\u5668\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\uff0c\u4f46\u5728\u5c06\u6570\u636e\u5199\u5165\u4e8c\u8fdb\u5236\u65e5\u5fd7\u524d\u5d29\u6e83\uff0c\u4ece\u670d\u52a1\u5668\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5\u4e8b\u52a1\u7684\u6570\u636e\u3002      3. \u5e76\u53d1\u51b2\u7a81\uff1a\u591a\u4e2a\u5ba2\u6237\u7aef\u540c\u65f6\u5bf9\u540c\u4e00\u884c\u6570\u636e\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e3b\u4ece\u670d\u52a1\u5668\u7684\u6267\u884c\u987a\u5e8f\u4e0d\u540c\uff0c\u9020\u6210\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a    1. \u534a\u540c\u6b65\u590d\u5236\uff1a\u914d\u7f6e MySQL \u4e3a\u534a\u540c\u6b65\u590d\u5236\u6a21\u5f0f\uff0c\u5373\u4e3b\u670d\u52a1\u5668\u5728\u786e\u8ba4\u81f3\u5c11\u4e00\u4e2a\u4ece\u670d\u52a1\u5668\u63a5\u6536\u5230\u4e8b\u52a1\u540e\uff0c\u624d\u4f1a\u8ba4\u4e3a\u4e8b\u52a1\u63d0\u4ea4\u6210\u529f\u3002\u8fd9\u79cd\u65b9\u5f0f\u589e\u52a0\u4e86\u590d\u5236\u7684\u53ef\u9760\u6027\uff0c\u4f46\u53ef\u80fd\u4f1a\u589e\u52a0\u5ef6\u8fdf\u3002    2. GTID\uff08\u5168\u5c40\u4e8b\u52a1\u6807\u8bc6\u7b26\uff09\uff1a\u4f7f\u7528 GTID \u8fdb\u884c\u590d\u5236\uff0c\u786e\u4fdd\u4e3b\u4ece\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4e8b\u52a1\u987a\u5e8f\u4e00\u81f4\uff0c\u4ece\u800c\u907f\u514d\u6570\u636e\u4e0d\u4e00\u81f4\u3002    3. \u76d1\u63a7\u590d\u5236\u5ef6\u8fdf\uff1a\u4f7f\u7528 <code>SHOW SLAVE STATUS</code> \u547d\u4ee4\u76d1\u63a7\u590d\u5236\u5ef6\u8fdf\u60c5\u51b5\uff0c\u5e76\u6839\u636e\u5ef6\u8fdf\u60c5\u51b5\u8c03\u6574\u7cfb\u7edf\u7b56\u7565\u3002    4. \u6545\u969c\u5207\u6362\uff1a\u4f7f\u7528\u5de5\u5177\uff08\u5982 MHA \u6216 Orchestrator\uff09\u81ea\u52a8\u8fdb\u884c\u6545\u969c\u5207\u6362\uff0c\u786e\u4fdd\u5728\u4e3b\u670d\u52a1\u5668\u5d29\u6e83\u65f6\uff0c\u4ece\u670d\u52a1\u5668\u80fd\u591f\u8fc5\u901f\u63a5\u7ba1\u5e76\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</p> <p>\u603b\u7ed3\uff1a\u53cc\u5199\u4e00\u81f4\u6027\u95ee\u9898\u662f MySQL \u590d\u5236\u73af\u5883\u4e0b\u5e38\u89c1\u7684\u6311\u6218\u4e4b\u4e00\uff0c\u901a\u8fc7\u5408\u7406\u7684\u590d\u5236\u914d\u7f6e\u548c\u76d1\u63a7\u63aa\u65bd\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u907f\u514d\u6570\u636e\u4e0d\u4e00\u81f4\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u53ef\u9760\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#42-mysql","title":"42. MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u4e9b\uff1f\u5b83\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u51b3\u5b9a\u4e86\u4e8b\u52a1\u4e4b\u95f4\u7684\u76f8\u4e92\u9694\u79bb\u7a0b\u5ea6\uff0c\u5373\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u7684\u64cd\u4f5c\u5bf9\u5176\u4ed6\u4e8b\u52a1\u7684\u53ef\u89c1\u6027\u3002MySQL \u652f\u6301\u56db\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u4ece\u4f4e\u5230\u9ad8\u5206\u522b\u662f\uff1a      1. READ UNCOMMITTED\uff08\u8bfb\u672a\u63d0\u4ea4\uff09\uff1a\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u53ef\u80fd\u5bfc\u81f4\u810f\u8bfb\u3002      2. READ COMMITTED\uff08\u8bfb\u5df2\u63d0\u4ea4\uff09\uff1a\u4e8b\u52a1\u53ea\u80fd\u8bfb\u53d6\u5176\u4ed6\u4e8b\u52a1\u5df2\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u907f\u514d\u4e86\u810f\u8bfb\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002      3. REPEATABLE READ\uff08\u53ef\u91cd\u590d\u8bfb\uff09\uff1a\u4e8b\u52a1\u5728\u5f00\u59cb\u65f6\u8bfb\u53d6\u7684\u6570\u636e\u5728\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u4fdd\u6301\u4e00\u81f4\uff0c\u907f\u514d\u4e86\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u5e7b\u8bfb\u3002      4. SERIALIZABLE\uff08\u53ef\u4e32\u884c\u5316\uff09\uff1a\u6700\u9ad8\u9694\u79bb\u7ea7\u522b\uff0c\u4e8b\u52a1\u88ab\u5b8c\u5168\u9694\u79bb\uff0c\u4e8b\u52a1\u4e4b\u95f4\u7684\u64cd\u4f5c\u987a\u5e8f\u6309\u4e32\u884c\u6267\u884c\uff0c\u907f\u514d\u4e86\u6240\u6709\u5e76\u53d1\u95ee\u9898\uff0c\u4f46\u6027\u80fd\u8f83\u4f4e\u3002</p> <p>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u7684\u9009\u62e9\uff1a    - READ UNCOMMITTED\uff1a\u7531\u4e8e\u810f\u8bfb\u95ee\u9898\uff0c\u901a\u5e38\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002    - READ COMMITTED\uff1a\u9002\u7528\u4e8e\u5927\u591a\u6570\u5e94\u7528\u573a\u666f\uff0c\u5982\u8bfb\u53d6\u5b9e\u65f6\u6570\u636e\u65f6\u8981\u6c42\u8f83\u9ad8\u7684\u7cfb\u7edf\u3002    - REPEATABLE READ\uff1aMySQL \u9ed8\u8ba4\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u9002\u7528\u4e8e\u9700\u8981\u786e\u4fdd\u4e00\u81f4\u6027\u7684\u573a\u666f\uff0c\u4f8b\u5982\u8d22\u52a1\u7cfb\u7edf\u3002    - SERIALIZABLE\uff1a\u5728\u4e8b\u52a1\u51b2\u7a81\u4e25\u91cd\u4e14\u6570\u636e\u4e00\u81f4\u6027\u8981\u6c42\u6781\u9ad8\u7684\u573a\u666f\u4e0b\u4f7f\u7528\uff0c\u5982\u94f6\u884c\u8f6c\u8d26\u7cfb\u7edf\u3002</p> <p>\u603b\u7ed3\uff1a\u9009\u62e9\u5408\u9002\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u53ef\u4ee5\u5728\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684\u540c\u65f6\uff0c\u5c3d\u91cf\u63d0\u9ad8\u7cfb\u7edf\u7684\u5e76\u53d1\u6027\u80fd\u3002\u5927\u591a\u6570\u5e94\u7528\u573a\u666f\u4e0b\uff0c<code>REPEATABLE READ</code> \u662f\u4e00\u4e2a\u8f83\u4e3a\u5e73\u8861\u7684\u9009\u62e9\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#43-mysql-order-by","title":"43. MySQL \u5982\u4f55\u4f18\u5316 ORDER BY \u64cd\u4f5c\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>ORDER BY \u7528\u4e8e\u5bf9\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u6392\u5e8f\uff0c\u4f46\u6392\u5e8f\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5bf9\u6027\u80fd\u9020\u6210\u8f83\u5927\u5f71\u54cd\uff0c\u7279\u522b\u662f\u5728\u5927\u6570\u636e\u91cf\u7684\u8868\u4e2d\u3002</li> <li>\u4f18\u5316 ORDER BY \u7684\u7b56\u7565\uff1a<ol> <li>\u4f7f\u7528\u5408\u9002\u7684\u7d22\u5f15\uff1a\u5982\u679c <code>ORDER BY</code> \u5b57\u6bb5\u4e0a\u6709\u7d22\u5f15\uff0cMySQL \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7d22\u5f15\u987a\u5e8f\u6765\u8fd4\u56de\u6392\u5e8f\u7ed3\u679c\uff0c\u907f\u514d\u4e86\u989d\u5916\u7684\u6392\u5e8f\u64cd\u4f5c\u3002</li> <li>\u5c3d\u91cf\u51cf\u5c11\u6392\u5e8f\u5b57\u6bb5\uff1a\u5728 <code>ORDER BY</code> \u4e2d\u53ea\u9009\u62e9\u5fc5\u8981\u7684\u5b57\u6bb5\uff0c\u907f\u514d\u591a\u5b57\u6bb5\u6392\u5e8f\u5e26\u6765\u7684\u6027\u80fd\u5f00\u9500\u3002</li> <li>\u9650\u5236\u8fd4\u56de\u7ed3\u679c\u96c6\uff08LIMIT\uff09\uff1a\u7ed3\u5408 <code>LIMIT</code> \u5b50\u53e5\u51cf\u5c11\u8fd4\u56de\u7684\u7ed3\u679c\u96c6\u5927\u5c0f\uff0c\u51cf\u5c11\u6392\u5e8f\u7684\u5f00\u9500\u3002</li> <li>\u907f\u514d\u6587\u4ef6\u6392\u5e8f\uff08File Sort\uff09\uff1aMySQL \u4f7f\u7528\u5185\u5b58\u4e2d\u7684\u6392\u5e8f\u7b97\u6cd5\uff08\u5982\u5feb\u901f\u6392\u5e8f\uff09\u6bd4\u6587\u4ef6\u6392\u5e8f\uff08File Sort\uff09\u6548\u7387\u9ad8\uff0c\u786e\u4fdd <code>ORDER BY</code> \u5b57\u6bb5\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u907f\u514d\u6587\u4ef6\u6392\u5e8f\u3002</li> <li>\u9002\u5f53\u4f7f\u7528 <code>GROUP BY</code> \u548c <code>HAVING</code>\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u9002\u5f53\u4f7f\u7528 <code>GROUP BY</code> \u548c <code>HAVING</code> \u53ef\u4ee5\u51cf\u5c11 <code>ORDER BY</code> \u7684\u5f00\u9500\uff0c\u4f46\u9700\u8981\u6839\u636e\u5177\u4f53\u573a\u666f\u6765\u5224\u65ad\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u4f18\u5316 <code>ORDER BY</code> \u64cd\u4f5c\u7684\u5173\u952e\u5728\u4e8e\u5408\u7406\u5229\u7528\u7d22\u5f15\u3001\u51cf\u5c11\u6392\u5e8f\u5b57\u6bb5\u548c\u9650\u5236\u7ed3\u679c\u96c6\u5927\u5c0f\uff0c\u4ece\u800c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#44-mysql-group-by","title":"44. MySQL \u4e2d\u5982\u4f55\u4f7f\u7528\u7d22\u5f15\u4f18\u5316 GROUP BY \u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>GROUP BY \u7528\u4e8e\u5bf9\u67e5\u8be2\u7ed3\u679c\u6309\u67d0\u4e00\u5b57\u6bb5\u5206\u7ec4\uff0c\u5e76\u6267\u884c\u805a\u5408\u64cd\u4f5c\u3002\u5f53\u6570\u636e\u91cf\u8f83\u5927\u65f6\uff0c<code>GROUP BY</code> \u67e5\u8be2\u7684\u6027\u80fd\u53ef\u80fd\u8f83\u5dee\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u7d22\u5f15\u8fdb\u884c\u4f18\u5316\u3002</li> <li>\u7d22\u5f15\u4f18\u5316 GROUP BY \u7684\u7b56\u7565\uff1a<ol> <li>\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\uff1a\u786e\u4fdd <code>GROUP BY</code> \u5b57\u6bb5\u88ab\u7d22\u5f15\u8986\u76d6\uff0c\u4ece\u800c\u51cf\u5c11\u56de\u8868\u64cd\u4f5c\uff0c\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\u3002</li> <li>\u7d22\u5f15\u987a\u5e8f\u4e0e <code>GROUP BY</code> \u5b57\u6bb5\u987a\u5e8f\u4e00\u81f4\uff1a\u5f53 <code>GROUP BY</code> \u5b57\u6bb5\u4e0e\u7d22\u5f15\u5b57\u6bb5\u987a\u5e8f\u4e00\u81f4\u65f6\uff0cMySQL \u53ef\u4ee5\u76f4\u63a5\u5229\u7528\u7d22\u5f15\u5b8c\u6210\u5206\u7ec4\u64cd\u4f5c\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\u3002</li> <li>\u7ed3\u5408 <code>ORDER BY</code> \u4f7f\u7528\u7d22\u5f15\uff1a\u5982\u679c <code>GROUP BY</code> \u540e\u8fd8\u5305\u542b <code>ORDER BY</code> \u5b50\u53e5\uff0c\u786e\u4fdd <code>ORDER BY</code> \u5b57\u6bb5\u4e0e <code>GROUP BY</code> \u5b57\u6bb5\u7684\u987a\u5e8f\u4e00\u81f4\uff0c\u4e14\u90fd\u88ab\u7d22\u5f15\u8986\u76d6\u3002</li> <li>\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u805a\u5408\u64cd\u4f5c\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u63d0\u524d\u8fc7\u6ee4\u4e0d\u9700\u8981\u7684\u6570\u636e\uff0c\u51cf\u5c11\u53c2\u4e0e\u5206\u7ec4\u7684\u8bb0\u5f55\u6570\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 <code>GROUP BY</code> \u7684\u6548\u7387\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u5408\u7406\u8bbe\u8ba1\u7d22\u5f15\u548c\u4f18\u5316\u67e5\u8be2\u7ed3\u6784\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 <code>GROUP BY</code> \u67e5\u8be2\u7684\u6027\u80fd\uff0c\u7279\u522b\u662f\u5728\u5927\u6570\u636e\u91cf\u573a\u666f\u4e0b\uff0c\u7d22\u5f15\u4f18\u5316\u5c24\u4e3a\u91cd\u8981\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#45-mysql","title":"45. MySQL \u7684\u5206\u5e03\u5f0f\u67b6\u6784\u8bbe\u8ba1\u6709\u54ea\u4e9b\u5e38\u89c1\u65b9\u6848\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5206\u5e03\u5f0f\u67b6\u6784\u8bbe\u8ba1\u662f\u5e94\u5bf9\u5927\u89c4\u6a21\u6570\u636e\u548c\u9ad8\u5e76\u53d1\u8bf7\u6c42\u7684\u91cd\u8981\u624b\u6bb5\u3002\u5e38\u89c1\u7684 MySQL \u5206\u5e03\u5f0f\u67b6\u6784\u8bbe\u8ba1\u5305\u62ec\uff1a<ol> <li>\u4e3b\u4ece\u590d\u5236\uff1a\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\uff0c\u4e3b\u5e93\u8d1f\u8d23\u5199\u64cd\u4f5c\uff0c\u4ece\u5e93\u8d1f\u8d23\u8bfb\u64cd\u4f5c\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u8bfb\u5199\u6027\u80fd\u548c\u6269\u5c55\u6027\u3002</li> <li>\u5206\u5e93\u5206\u8868\uff1a\u5c06\u6570\u636e\u6309\u4e1a\u52a1\u903b\u8f91\u6216\u8303\u56f4\u5206\u5e03\u5230\u591a\u4e2a\u5e93\u6216\u8868\u4e2d\uff0c\u51cf\u5c11\u5355\u5e93\u5355\u8868\u7684\u538b\u529b\uff0c\u5e38\u7528\u7684\u5206\u5e93\u5206\u8868\u65b9\u6848\u5305\u62ec\u6c34\u5e73\u5206\u7247\u548c\u5782\u76f4\u5206\u7247\u3002</li> <li>\u96c6\u7fa4\uff08Cluster\uff09\u67b6\u6784\uff1a\u5982 MySQL InnoDB Cluster\uff0c\u901a\u8fc7\u591a\u4e3b\u8282\u70b9\u548c\u81ea\u52a8\u6545\u969c\u5207\u6362\uff0c\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u548c\u8d1f\u8f7d\u5747\u8861\u3002</li> <li>\u5206\u5e03\u5f0f\u4e2d\u95f4\u4ef6\uff1a\u4f7f\u7528\u5206\u5e03\u5f0f\u4e2d\u95f4\u4ef6\uff08\u5982 MyCat\u3001ShardingSphere\uff09\u8fdb\u884c\u6570\u636e\u5206\u7247\u7ba1\u7406\u548c\u8def\u7531\uff0c\u7edf\u4e00\u7ba1\u7406\u591a\u4e2a MySQL \u5b9e\u4f8b\uff0c\u63d0\u4f9b\u900f\u660e\u7684\u5206\u5e03\u5f0f\u8bbf\u95ee\u63a5\u53e3\u3002</li> </ol> </li> </ul> <p>\u5404\u65b9\u6848\u7684\u4f18\u52a3\uff1a    - \u4e3b\u4ece\u590d\u5236\uff1a\u5b9e\u73b0\u7b80\u5355\uff0c\u9002\u5408\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\uff0c\u4f46\u5ef6\u8fdf\u95ee\u9898\u548c\u4e3b\u5e93\u6545\u969c\u6062\u590d\u9700\u8981\u7279\u522b\u5173\u6ce8\u3002    - \u5206\u5e93\u5206\u8868\uff1a\u9002\u5408\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\uff0c\u4f46\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u6d89\u53ca\u5206\u5e03\u5f0f\u4e8b\u52a1\u5904\u7406\u3001\u8de8\u5e93\u67e5\u8be2\u7b49\u95ee\u9898\u3002    - \u96c6\u7fa4\u67b6\u6784\uff1a\u9ad8\u53ef\u7528\u6027\u548c\u6269\u5c55\u6027\u8f83\u597d\uff0c\u4f46\u5b9e\u73b0\u590d\u6742\uff0c\u5bf9\u786c\u4ef6\u548c\u7f51\u7edc\u8981\u6c42\u8f83\u9ad8\u3002    - \u5206\u5e03\u5f0f\u4e2d\u95f4\u4ef6\uff1a\u9002\u5408\u591a\u5b9e\u4f8b\u7ba1\u7406\uff0c\u4f46\u4e2d\u95f4\u4ef6\u672c\u8eab\u7684\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u662f\u7cfb\u7edf\u7684\u74f6\u9888\uff0c\u9700\u8981\u7cbe\u7ec6\u5316\u7ba1\u7406\u548c\u76d1\u63a7\u3002</p> <p>\u603b\u7ed3\uff1a\u9009\u62e9\u5408\u9002\u7684\u5206\u5e03\u5f0f\u67b6\u6784\u8bbe\u8ba1\u65b9\u6848\u53d6\u51b3\u4e8e\u4e1a\u52a1\u573a\u666f\u7684\u9700\u6c42\uff0c\u6743\u8861\u6027\u80fd\u3001\u53ef\u7528\u6027\u548c\u590d\u6742\u5ea6\uff0c\u662f\u5206\u5e03\u5f0f MySQL \u8bbe\u8ba1\u7684\u5173\u952e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#46-mysql","title":"46. MySQL \u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u5982\u4f55\u5b9e\u73b0\uff1f\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u89e3\u51b3\u65b9\u6848\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5206\u5e03\u5f0f\u4e8b\u52a1\u662f\u6307\u8de8\u8d8a\u591a\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u6216\u591a\u4e2a\u670d\u52a1\u7684\u4e8b\u52a1\u64cd\u4f5c\uff0c\u786e\u4fdd\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002MySQL \u5e38\u7528\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u89e3\u51b3\u65b9\u6848\u5305\u62ec\uff1a<ol> <li>\u4e24\u9636\u6bb5\u63d0\u4ea4\uff082PC\uff09\uff1a<ul> <li>\u7ecf\u5178\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u534f\u8bae\uff0c\u901a\u8fc7\u9884\u63d0\u4ea4\u548c\u6b63\u5f0f\u63d0\u4ea4\u4e24\u4e2a\u9636\u6bb5\u5b9e\u73b0\u4e8b\u52a1\u7684\u539f\u5b50\u6027\uff0c\u4f46\u5b58\u5728\u534f\u8c03\u8282\u70b9\u5355\u70b9\u6545\u969c\u548c\u6027\u80fd\u5f00\u9500\u7684\u95ee\u9898\u3002</li> </ul> </li> <li>\u4e09\u9636\u6bb5\u63d0\u4ea4\uff083PC\uff09\uff1a<ul> <li>\u76f8\u8f83\u4e8e 2PC\uff0c\u591a\u4e86\u4e00\u4e2a\u51c6\u5907\u9636\u6bb5\uff08Prepare\uff09\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u5904\u7406\u8282\u70b9\u5931\u8d25\u60c5\u51b5\uff0c\u4f46\u5b9e\u73b0\u590d\u6742\u6027\u589e\u52a0\u3002</li> </ul> </li> <li>XA \u4e8b\u52a1\uff1a<ul> <li>\u57fa\u4e8e 2PC \u534f\u8bae\u7684\u6807\u51c6\u4e8b\u52a1\u7ba1\u7406\u534f\u8bae\uff0c\u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\u7684 ACID \u5c5e\u6027\u3002\u901a\u8fc7 <code>XA</code> \u4e8b\u52a1\u53ef\u4ee5\u5728\u591a\u4e2a MySQL \u5b9e\u4f8b\u95f4\u8fdb\u884c\u5206\u5e03\u5f0f\u4e8b\u52a1\u64cd\u4f5c\uff0c\u4f46\u6027\u80fd\u5f00\u9500\u8f83\u5927\u3002</li> </ul> </li> <li>\u57fa\u4e8e\u6d88\u606f\u7684\u6700\u7ec8\u4e00\u81f4\u6027\uff1a<ul> <li>\u4f7f\u7528\u6d88\u606f\u961f\u5217\uff08\u5982 Kafka\u3001RabbitMQ\uff09\u8fdb\u884c\u5f02\u6b65\u5904\u7406\uff0c\u901a\u8fc7\u6d88\u606f\u7684\u5e42\u7b49\u6027\u548c\u8865\u507f\u673a\u5236\u5b9e\u73b0\u6700\u7ec8\u4e00\u81f4\u6027\u3002\u8fd9\u79cd\u65b9\u5f0f\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u573a\u666f\u548c\u4e8b\u52a1\u4e00\u81f4\u6027\u8981\u6c42\u4e0d\u9ad8\u7684\u573a\u666f\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5206\u5e03\u5f0f\u4e8b\u52a1\u7684\u5b9e\u73b0\u65b9\u6848\u9700\u8981\u6839\u636e\u5177\u4f53\u7684\u4e1a\u52a1\u9700\u6c42\u548c\u7cfb\u7edf\u67b6\u6784\u9009\u62e9\uff0c\u4f20\u7edf\u7684 2PC \u548c XA \u4e8b\u52a1\u9002\u5408\u5bf9\u4e8b\u52a1\u4e00\u81f4\u6027\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u800c\u57fa\u4e8e\u6d88\u606f\u7684\u6700\u7ec8\u4e00\u81f4\u6027\u5219\u9002\u5408\u9ad8\u6027\u80fd\u3001\u9ad8\u5e76\u53d1\u7684\u5e94\u7528\u573a\u666f\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#47-mysql","title":"47. \u5982\u4f55\u5728 MySQL \u4e2d\u8bbe\u8ba1\u9ad8\u53ef\u7528\u7684\u6570\u636e\u5e93\u7cfb\u7edf\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u9ad8\u53ef\u7528\u6027\uff08High Availability\uff09\u662f\u6307\u7cfb\u7edf\u5728\u6545\u969c\u6216\u7ef4\u62a4\u60c5\u51b5\u4e0b\u4ecd\u80fd\u63d0\u4f9b\u670d\u52a1\u7684\u80fd\u529b\u3002MySQL \u4e2d\u8bbe\u8ba1\u9ad8\u53ef\u7528\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u5e38\u89c1\u7b56\u7565\u5305\u62ec\uff1a<ol> <li>\u4e3b\u4ece\u590d\u5236\uff1a<ul> <li>\u4f7f\u7528\u4e3b\u4ece\u590d\u5236\u5b9e\u73b0\u6570\u636e\u5907\u4efd\u548c\u6545\u969c\u8f6c\u79fb\uff0c\u4ece\u5e93\u5728\u4e3b\u5e93\u6545\u969c\u65f6\u53ef\u4ee5\u4f5c\u4e3a\u65b0\u7684\u4e3b\u5e93\u8fdb\u884c\u5207\u6362\u3002</li> </ul> </li> <li>\u4e3b\u4e3b\u590d\u5236\uff1a<ul> <li>\u591a\u4e2a\u4e3b\u8282\u70b9\u4e4b\u95f4\u4e92\u4e3a\u4e3b\u5e93\uff0c\u901a\u8fc7\u53cc\u5411\u590d\u5236\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u548c\u9ad8\u53ef\u7528\u6027\uff0c\u4f46\u9700\u8981\u89e3\u51b3\u6570\u636e\u51b2\u7a81\u548c\u4e00\u81f4\u6027\u95ee\u9898\u3002</li> </ul> </li> <li>MySQL Group Replication\uff1a<ul> <li>MySQL \u63d0\u4f9b\u7684\u539f\u751f\u9ad8\u53ef\u7528\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7\u591a\u4e3b\u8282\u70b9\u548c\u81ea\u52a8\u6545\u969c\u5207\u6362\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul> </li> <li>MySQL InnoDB Cluster\uff1a<ul> <li>\u57fa\u4e8e Group Replication \u548c MySQL Router \u7684\u9ad8\u53ef\u7528\u89e3\u51b3\u65b9\u6848\uff0c\u63d0\u4f9b\u96c6\u7fa4\u7ba1\u7406\u3001\u6545\u969c\u8f6c\u79fb\u548c\u8d1f\u8f7d\u5747\u8861\u529f\u80fd\u3002</li> </ul> </li> <li>\u5916\u90e8\u9ad8\u53ef\u7528\u5de5\u5177\uff1a<ul> <li>\u4f7f\u7528\u5de5\u5177\uff08\u5982 MHA\u3001Orchestrator\u3001ProxySQL\uff09\u8fdb\u884c\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u3001\u8282\u70b9\u7ba1\u7406\u548c\u8d1f\u8f7d\u5747\u8861\uff0c\u589e\u5f3a\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9ad8\u53ef\u7528\u8bbe\u8ba1\u9700\u8981\u7efc\u5408\u8003\u8651\u6545\u969c\u68c0\u6d4b\u3001\u81ea\u52a8\u5207\u6362\u3001\u6570\u636e\u4e00\u81f4\u6027\u7b49\u591a\u4e2a\u65b9\u9762\uff0c\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u548c\u7cfb\u7edf\u89c4\u6a21\u9009\u62e9\u5408\u9002\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ef\u4ee5\u6709\u6548\u63d0\u9ad8 MySQL \u6570\u636e\u5e93\u7cfb\u7edf\u7684\u53ef\u7528\u6027\u548c\u53ef\u9760\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#48-mysql","title":"48. MySQL \u7684\u6027\u80fd\u76d1\u63a7\u548c\u4f18\u5316\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u5de5\u5177\u548c\u65b9\u6cd5\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u6027\u80fd\u76d1\u63a7\u548c\u4f18\u5316\u662f\u6570\u636e\u5e93\u7ba1\u7406\u7684\u91cd\u8981\u90e8\u5206\uff0cMySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u5de5\u5177\u548c\u65b9\u6cd5\u6765\u5e2e\u52a9\u76d1\u63a7\u548c\u4f18\u5316\u6027\u80fd\uff1a<ol> <li>MySQL Performance Schema\uff1a<ul> <li>\u5185\u7f6e\u7684\u6027\u80fd\u76d1\u63a7\u5de5\u5177\uff0c\u53ef\u4ee5\u6536\u96c6\u5173\u4e8e\u67e5\u8be2\u3001\u7ebf\u7a0b\u3001\u4e8b\u4ef6\u7b49\u7684\u8be6\u7ec6\u6027\u80fd\u6570\u636e\u3002</li> </ul> </li> <li>MySQL Slow Query Log\uff1a<ul> <li>\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u9608\u503c\u7684\u6162\u67e5\u8be2\uff0c\u901a\u8fc7\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\u53ef\u4ee5\u8bc6\u522b\u548c\u4f18\u5316\u6027\u80fd\u74f6\u9888\u3002</li> </ul> </li> <li>MySQL Enterprise Monitor\uff1a<ul> <li>\u4f01\u4e1a\u7248\u63d0\u4f9b\u7684\u76d1\u63a7\u5de5\u5177\uff0c\u63d0\u4f9b\u53ef\u89c6\u5316\u7684\u6027\u80fd\u76d1\u63a7\u548c\u5206\u6790\u529f\u80fd\uff0c\u5e2e\u52a9\u7ba1\u7406\u5458\u8fdb\u884c\u6027\u80fd\u8c03\u4f18\u3002</li> </ul> </li> <li>EXPLAIN \u547d\u4ee4\uff1a<ul> <li>\u7528\u4e8e\u5206\u6790 SQL \u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u5e2e\u52a9\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff0c\u8bc6\u522b\u7d22\u5f15\u4f7f\u7528\u60c5\u51b5\u548c\u6267\u884c\u8def\u5f84\u3002</li> </ul> </li> <li>SHOW PROFILE \u548c SHOW PROFILES\uff1a<ul> <li>\u7528\u4e8e\u663e\u793a SQL \u67e5\u8be2\u7684\u6267\u884c\u65f6\u95f4\u548c\u8d44\u6e90\u6d88\u8017\uff0c\u5e2e\u52a9\u4e86\u89e3\u67e5\u8be2\u6027\u80fd\u548c\u4f18\u5316\u70b9\u3002</li> </ul> </li> <li>\u6570\u636e\u5e93\u4f18\u5316\u5efa\u8bae\uff1a<ul> <li>\u5b9a\u671f\u68c0\u67e5\u548c\u4f18\u5316\u6570\u636e\u5e93\u7d22\u5f15\u3001\u8c03\u6574\u6570\u636e\u5e93\u914d\u7f6e\u53c2\u6570\u3001\u5408\u7406\u8bbe\u8ba1\u6570\u636e\u5e93\u67b6\u6784\u7b49\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u7ed3\u5408\u4f7f\u7528 MySQL \u63d0\u4f9b\u7684\u6027\u80fd\u76d1\u63a7\u5de5\u5177\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5168\u9762\u4e86\u89e3\u6570\u636e\u5e93\u7684\u6027\u80fd\u72b6\u51b5\uff0c\u5e76\u91c7\u53d6\u76f8\u5e94\u7684\u4f18\u5316\u63aa\u65bd\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u6574\u4f53\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#49-mysql-view","title":"49. MySQL \u4e2d\u7684\u89c6\u56fe\uff08VIEW\uff09\u662f\u4ec0\u4e48\uff1f\u6709\u4ec0\u4e48\u5e94\u7528\u573a\u666f\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u89c6\u56fe\uff08VIEW\uff09 \u662f\u4e00\u79cd\u865a\u62df\u7684\u8868\uff0c\u5b83\u662f\u901a\u8fc7 SQL \u67e5\u8be2\u5b9a\u4e49\u7684\uff0c\u53ef\u4ee5\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u4e2d\u63d0\u53d6\u6570\u636e\u3002\u89c6\u56fe\u672c\u8eab\u4e0d\u5b58\u50a8\u6570\u636e\uff0c\u800c\u662f\u6bcf\u6b21\u67e5\u8be2\u65f6\u52a8\u6001\u751f\u6210\u7ed3\u679c\u96c6\u3002</li> <li>\u521b\u5efa\u89c6\u56fe\uff1a      <code>sql      CREATE VIEW view_name AS      SELECT column1, column2      FROM table_name      WHERE condition;</code></li> <li>\u89c6\u56fe\u7684\u5e94\u7528\u573a\u666f\uff1a<ol> <li>\u7b80\u5316\u590d\u6742\u67e5\u8be2\uff1a\u5c06\u590d\u6742\u7684\u67e5\u8be2\u903b\u8f91\u5c01\u88c5\u5728\u89c6\u56fe\u4e2d\uff0c\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u7684\u89c6\u56fe\u8fdb\u884c\u67e5\u8be2\u3002</li> <li>\u6570\u636e\u5b89\u5168\uff1a\u901a\u8fc7\u89c6\u56fe\u9650\u5236\u7528\u6237\u8bbf\u95ee\u654f\u611f\u6570\u636e\uff0c\u4ec5\u66b4\u9732\u6240\u9700\u7684\u6570\u636e\u5b57\u6bb5\u548c\u8bb0\u5f55\u3002</li> <li>\u6570\u636e\u805a\u5408\uff1a\u5c06\u591a\u4e2a\u8868\u7684\u6570\u636e\u8fdb\u884c\u5408\u5e76\u548c\u6c47\u603b\uff0c\u63d0\u4f9b\u4e00\u4e2a\u7efc\u5408\u7684\u6570\u636e\u89c6\u56fe\uff0c\u65b9\u4fbf\u5206\u6790\u548c\u62a5\u8868\u751f\u6210\u3002</li> <li>\u8de8\u8868\u67e5\u8be2\uff1a\u89c6\u56fe\u53ef\u4ee5\u5c06\u6765\u81ea\u4e0d\u540c\u8868\u7684\u6570\u636e\u6574\u5408\u5728\u4e00\u8d77\uff0c\u63d0\u4f9b\u4e00\u4e2a\u7edf\u4e00\u7684\u67e5\u8be2\u63a5\u53e3\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u89c6\u56fe\u662f\u5904\u7406\u590d\u6742\u67e5\u8be2\u3001\u63d0\u9ad8\u6570\u636e\u5b89\u5168\u6027\u548c\u7b80\u5316\u6570\u636e\u8bbf\u95ee\u7684\u91cd\u8981\u5de5\u5177\u3002\u5728\u8bbe\u8ba1\u6570\u636e\u5e93\u65f6\uff0c\u53ef\u4ee5\u5229\u7528\u89c6\u56fe\u6765\u5c01\u88c5\u590d\u6742\u7684\u67e5\u8be2\u903b\u8f91\u548c\u63d0\u5347\u6570\u636e\u7ba1\u7406\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#50-mysql-stored-procedure","title":"50. MySQL \u4e2d\u7684\u5b58\u50a8\u8fc7\u7a0b\uff08Stored Procedure\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u521b\u5efa\u548c\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5b58\u50a8\u8fc7\u7a0b\uff08Stored Procedure\uff09 \u662f\u4e00\u7ec4\u9884\u7f16\u8bd1\u7684 SQL \u8bed\u53e5\uff0c\u5c01\u88c5\u4e86\u4e1a\u52a1\u903b\u8f91\uff0c\u53ef\u4ee5\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u5e76\u91cd\u590d\u8c03\u7528\u3002\u5b83\u80fd\u591f\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u5b89\u5168\u6027\u3002</li> <li>\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\uff1a      <code>sql      DELIMITER //      CREATE PROCEDURE procedure_name(IN param1 INT, OUT param2 VARCHAR(255))      BEGIN          -- SQL \u8bed\u53e5          SELECT column INTO param2          FROM table          WHERE id = param1;      END //      DELIMITER ;</code></li> <li>\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\uff1a      <code>sql      CALL procedure_name(1, @result);      SELECT @result;</code></li> <li>\u5b58\u50a8\u8fc7\u7a0b\u7684\u4f18\u52bf\uff1a<ol> <li>\u6027\u80fd\u4f18\u5316\uff1a\u5b58\u50a8\u8fc7\u7a0b\u5728\u6570\u636e\u5e93\u4e2d\u9884\u7f16\u8bd1\uff0c\u6267\u884c\u65f6\u6548\u7387\u8f83\u9ad8\u3002</li> <li>\u51cf\u5c11\u7f51\u7edc\u6d41\u91cf\uff1a\u5c06\u4e1a\u52a1\u903b\u8f91\u96c6\u4e2d\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u51cf\u5c11\u5ba2\u6237\u7aef\u4e0e\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002</li> <li>\u589e\u5f3a\u5b89\u5168\u6027\uff1a\u53ef\u4ee5\u901a\u8fc7\u5b58\u50a8\u8fc7\u7a0b\u9650\u5236\u7528\u6237\u7684\u76f4\u63a5\u8868\u8bbf\u95ee\u6743\u9650\uff0c\u4ec5\u5141\u8bb8\u901a\u8fc7\u5b58\u50a8\u8fc7\u7a0b\u64cd\u4f5c\u6570\u636e\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5b58\u50a8\u8fc7\u7a0b\u662f\u5c01\u88c5\u4e1a\u52a1\u903b\u8f91\u548c\u63d0\u9ad8\u6570\u636e\u5e93\u64cd\u4f5c\u6027\u80fd\u7684\u91cd\u8981\u5de5\u5177\uff0c\u901a\u8fc7\u5408\u7406\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\u53ef\u4ee5\u7b80\u5316\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u548c\u63d0\u5347\u6570\u636e\u5904\u7406\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#51-mysql-trigger","title":"51. MySQL \u7684\u89e6\u53d1\u5668\uff08TRIGGER\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u89e6\u53d1\u5668\uff08TRIGGER\uff09 \u662f\u5728\u5bf9\u8868\u8fdb\u884c\u63d2\u5165\u3001\u66f4\u65b0\u6216\u5220\u9664\u64cd\u4f5c\u65f6\u81ea\u52a8\u6267\u884c\u7684\u9884\u5b9a\u4e49\u64cd\u4f5c\u3002\u89e6\u53d1\u5668\u7528\u4e8e\u81ea\u52a8\u6267\u884c\u4e00\u4e9b\u7279\u5b9a\u7684\u4efb\u52a1\uff0c\u5982\u6570\u636e\u9a8c\u8bc1\u6216\u81ea\u52a8\u751f\u6210\u5ba1\u8ba1\u65e5\u5fd7\u3002</li> <li>\u521b\u5efa\u89e6\u53d1\u5668\uff1a      <code>sql      DELIMITER //      CREATE TRIGGER trigger_name      BEFORE INSERT ON table_name      FOR EACH ROW      BEGIN          -- \u89e6\u53d1\u5668\u903b\u8f91          SET NEW.column_name = 'default_value';      END //      DELIMITER ;</code></li> <li>\u89e6\u53d1\u5668\u7684\u5e94\u7528\u573a\u666f\uff1a<ol> <li>\u6570\u636e\u9a8c\u8bc1\uff1a\u5728\u6570\u636e\u63d2\u5165\u6216\u66f4\u65b0\u524d\u8fdb\u884c\u9a8c\u8bc1\uff0c\u786e\u4fdd\u6570\u636e\u7b26\u5408\u8981\u6c42\u3002</li> <li>\u81ea\u52a8\u751f\u6210\u5ba1\u8ba1\u65e5\u5fd7\uff1a\u8bb0\u5f55\u6570\u636e\u53d8\u5316\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u7528\u4e8e\u5ba1\u8ba1\u548c\u65e5\u5fd7\u8bb0\u5f55\u3002</li> <li>\u81ea\u52a8\u66f4\u65b0\uff1a\u6839\u636e\u67d0\u4e9b\u6761\u4ef6\u81ea\u52a8\u66f4\u65b0\u8868\u4e2d\u7684\u6570\u636e\u5b57\u6bb5\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u89e6\u53d1\u5668\u662f\u4e00\u79cd\u5f3a\u5927\u7684\u6570\u636e\u5e93\u529f\u80fd\uff0c\u53ef\u4ee5\u5728\u6570\u636e\u64cd\u4f5c\u65f6\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u4efb\u52a1\uff0c\u63d0\u9ad8\u6570\u636e\u5904\u7406\u7684\u81ea\u52a8\u5316\u548c\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#52-mysql","title":"52. MySQL \u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\u5982\u4f55\u8fdb\u884c\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u7528\u6237\u6743\u9650\u7ba1\u7406\u7528\u4e8e\u63a7\u5236\u7528\u6237\u5bf9\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u548c\u64cd\u4f5c\u6743\u9650\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b89\u5168\u6027\u548c\u5b8c\u6574\u6027\u3002</li> <li>\u521b\u5efa\u7528\u6237\uff1a      <code>sql      CREATE USER 'username'@'host' IDENTIFIED BY 'password';</code></li> <li>\u6388\u6743\u7528\u6237\uff1a      <code>sql      GRANT SELECT, INSERT, UPDATE ON database_name.* TO 'username'@'host';</code></li> <li>\u67e5\u770b\u7528\u6237\u6743\u9650\uff1a      <code>sql      SHOW GRANTS FOR 'username'@'host';</code></li> <li>\u64a4\u9500\u6743\u9650\uff1a      <code>sql      REVOKE INSERT ON database_name.* FROM 'username'@'host';</code></li> <li>\u5220\u9664\u7528\u6237\uff1a      <code>sql      DROP USER 'username'@'host';</code></li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u5408\u7406\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\uff0c\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u5e93\u7684\u5b89\u5168\u6027\u548c\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002\u901a\u8fc7 <code>CREATE USER</code>\u3001<code>GRANT</code>\u3001<code>REVOKE</code> \u7b49\u547d\u4ee4\uff0c\u53ef\u4ee5\u5bf9\u7528\u6237\u8fdb\u884c\u521b\u5efa\u3001\u6388\u6743\u3001\u64a4\u9500\u6743\u9650\u548c\u5220\u9664\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#53-mysql","title":"53. MySQL \u7684\u7d22\u5f15\u5982\u4f55\u8bbe\u8ba1\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u7d22\u5f15\u7c7b\u578b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u7d22\u5f15\u8bbe\u8ba1\u662f\u63d0\u9ad8\u6570\u636e\u5e93\u67e5\u8be2\u6027\u80fd\u7684\u5173\u952e\u3002\u826f\u597d\u7684\u7d22\u5f15\u8bbe\u8ba1\u53ef\u4ee5\u663e\u8457\u63d0\u5347\u6570\u636e\u68c0\u7d22\u901f\u5ea6\u548c\u67e5\u8be2\u6548\u7387\u3002</li> <li>\u5e38\u89c1\u7684\u7d22\u5f15\u7c7b\u578b\uff1a<ol> <li>\u666e\u901a\u7d22\u5f15\uff08INDEX\uff09\uff1a\u6700\u57fa\u672c\u7684\u7d22\u5f15\u7c7b\u578b\uff0c\u7528\u4e8e\u52a0\u901f\u67e5\u8be2\u64cd\u4f5c\u3002     <code>sql     CREATE INDEX index_name ON table_name(column_name);</code></li> <li>\u552f\u4e00\u7d22\u5f15\uff08UNIQUE INDEX\uff09\uff1a\u4fdd\u8bc1\u7d22\u5f15\u5217\u4e2d\u7684\u503c\u552f\u4e00\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\u503c\u3002     <code>sql     CREATE UNIQUE INDEX index_name ON table_name(column_name);</code></li> <li>\u4e3b\u952e\u7d22\u5f15\uff08PRIMARY KEY\uff09\uff1a\u552f\u4e00\u6807\u8bc6\u6bcf\u4e00\u884c\u6570\u636e\uff0c\u9690\u5f0f\u521b\u5efa\u552f\u4e00\u7d22\u5f15\u3002     <code>sql     ALTER TABLE table_name ADD PRIMARY KEY (column_name);</code></li> <li>\u5168\u6587\u7d22\u5f15\uff08FULLTEXT INDEX\uff09\uff1a\u7528\u4e8e\u5bf9\u6587\u672c\u6570\u636e\u8fdb\u884c\u5168\u6587\u68c0\u7d22\uff0c\u9002\u7528\u4e8e\u5927\u91cf\u7684\u6587\u672c\u6570\u636e\u3002     <code>sql     CREATE FULLTEXT INDEX index_name ON table_name(column_name);</code></li> <li>\u8054\u5408\u7d22\u5f15\uff08COMPOSITE INDEX\uff09\uff1a\u5bf9\u591a\u4e2a\u5217\u8fdb\u884c\u7d22\u5f15\uff0c\u63d0\u9ad8\u590d\u5408\u67e5\u8be2\u7684\u6027\u80fd\u3002     <code>sql     CREATE INDEX index_name ON table_name(column1, column2);</code></li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5408\u7406\u8bbe\u8ba1\u548c\u4f7f\u7528\u7d22\u5f15\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 MySQL \u7684\u67e5\u8be2\u6027\u80fd\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u7d22\u5f15\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u67e5\u8be2\u9700\u6c42\uff0c\u9009\u62e9\u5408\u9002\u7684\u7d22\u5f15\u7c7b\u578b\u5e76\u4f18\u5316\u7d22\u5f15\u7b56\u7565\uff0c\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u6570\u636e\u5e93\u7684\u6574\u4f53\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#54-mysql","title":"54. MySQL \u4e2d\u7684\u8868\u8bbe\u8ba1\u89c4\u8303\u6709\u54ea\u4e9b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u8868\u8bbe\u8ba1\u89c4\u8303\u65e8\u5728\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u6027\u80fd\u3001\u53ef\u7ef4\u62a4\u6027\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u91cd\u8981\u7684\u8868\u8bbe\u8ba1\u89c4\u8303\uff1a<ol> <li>\u8303\u5f0f\u8bbe\u8ba1\uff1a\u9075\u5faa\u6570\u636e\u5e93\u8bbe\u8ba1\u7684\u7b2c\u4e00\u8303\u5f0f\uff081NF\uff09\u3001\u7b2c\u4e8c\u8303\u5f0f\uff082NF\uff09\u3001\u7b2c\u4e09\u8303\u5f0f\uff083NF\uff09\u7b49\uff0c\u4ee5\u907f\u514d\u6570\u636e\u5197\u4f59\u548c\u5f02\u5e38\u3002</li> <li>\u5408\u7406\u547d\u540d\uff1a\u4f7f\u7528\u6e05\u6670\u4e14\u4e00\u81f4\u7684\u547d\u540d\u89c4\u5219\uff0c\u5982\u8868\u540d\u3001\u5b57\u6bb5\u540d\u5e94\u5177\u6709\u63cf\u8ff0\u6027\uff0c\u907f\u514d\u4f7f\u7528\u7f29\u5199\u6216\u542b\u7cca\u7684\u547d\u540d\u3002</li> <li>\u6570\u636e\u7c7b\u578b\u9009\u62e9\uff1a\u6839\u636e\u6570\u636e\u7684\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7c7b\u578b\uff0c\u907f\u514d\u4f7f\u7528\u8fc7\u5927\u6216\u8fc7\u5c0f\u7684\u6570\u636e\u7c7b\u578b\u3002</li> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u4e3a\u5e38\u7528\u7684\u67e5\u8be2\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u907f\u514d\u8fc7\u591a\u7684\u7d22\u5f15\uff0c\u4ee5\u514d\u5f71\u54cd\u5199\u5165\u6027\u80fd\u3002</li> <li>\u907f\u514d NULL \u503c\uff1a\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 NULL \u503c\uff0c\u53ef\u4ee5\u901a\u8fc7\u9ed8\u8ba4\u503c\u6765\u4ee3\u66ff\uff0c\u4ee5\u7b80\u5316\u6570\u636e\u5904\u7406\u3002</li> <li>\u5206\u533a\u7b56\u7565\uff1a\u5bf9\u5927\u8868\u4f7f\u7528\u5206\u533a\u7b56\u7565\uff0c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u548c\u6570\u636e\u7ba1\u7406\u6548\u7387\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9075\u5faa\u8868\u8bbe\u8ba1\u89c4\u8303\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u8bbe\u8ba1\u8d28\u91cf\u548c\u64cd\u4f5c\u6548\u7387\uff0c\u51cf\u5c11\u6570\u636e\u5197\u4f59\uff0c\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#55-mysql","title":"55. MySQL \u7684\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u6709\u54ea\u4e9b\u5e38\u89c1\u6280\u5de7\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u662f\u63d0\u9ad8\u6570\u636e\u5e93\u54cd\u5e94\u901f\u5ea6\u548c\u5904\u7406\u80fd\u529b\u7684\u91cd\u8981\u63aa\u65bd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u4f18\u5316\u6280\u5de7\uff1a<ol> <li>\u4f7f\u7528\u5408\u9002\u7684\u7d22\u5f15\uff1a\u786e\u4fdd\u67e5\u8be2\u5b57\u6bb5\u6709\u5408\u9002\u7684\u7d22\u5f15\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</li> <li>\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a\u907f\u514d\u4f7f\u7528\u4e0d\u5fc5\u8981\u7684\u5b50\u67e5\u8be2\u548c\u590d\u6742\u7684\u8fde\u63a5\uff0c\u7b80\u5316\u67e5\u8be2\u8bed\u53e5\u3002</li> <li>\u4f7f\u7528 <code>EXPLAIN</code> \u8fdb\u884c\u5206\u6790\uff1a\u901a\u8fc7 <code>EXPLAIN</code> \u547d\u4ee4\u5206\u6790\u67e5\u8be2\u6267\u884c\u8ba1\u5212\uff0c\u4e86\u89e3\u67e5\u8be2\u7684\u5b9e\u9645\u6267\u884c\u60c5\u51b5\u3002</li> <li>\u9650\u5236\u8fd4\u56de\u7ed3\u679c\uff1a\u4f7f\u7528 <code>LIMIT</code> \u5b50\u53e5\u9650\u5236\u8fd4\u56de\u7684\u7ed3\u679c\u96c6\u5927\u5c0f\uff0c\u51cf\u5c11\u6570\u636e\u5904\u7406\u91cf\u3002</li> <li>\u4f18\u5316\u8868\u7ed3\u6784\uff1a\u5408\u7406\u8bbe\u8ba1\u8868\u7ed3\u6784\u548c\u6570\u636e\u7c7b\u578b\uff0c\u51cf\u5c11\u6570\u636e\u5197\u4f59\u548c\u5b58\u50a8\u5f00\u9500\u3002</li> <li>\u907f\u514d N+1 \u67e5\u8be2\u95ee\u9898\uff1a\u5728\u8fdb\u884c\u591a\u6761\u67e5\u8be2\u65f6\uff0c\u5c3d\u91cf\u907f\u514d N+1 \u67e5\u8be2\u95ee\u9898\uff0c\u901a\u8fc7\u6279\u91cf\u67e5\u8be2\u51cf\u5c11\u67e5\u8be2\u6b21\u6570\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u5408\u7406\u7684\u67e5\u8be2\u4f18\u5316\u6280\u5de7\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 MySQL \u6570\u636e\u5e93\u7684\u67e5\u8be2\u6027\u80fd\uff0c\u51cf\u5c11\u54cd\u5e94\u65f6\u95f4\u548c\u7cfb\u7edf\u8d1f\u8377\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#56-mysql","title":"56. MySQL \u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u7b56\u7565\u6709\u54ea\u4e9b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u662f\u4fdd\u969c\u6570\u636e\u5b89\u5168\u548c\u7cfb\u7edf\u53ef\u9760\u6027\u7684\u91cd\u8981\u63aa\u65bd\u3002\u4ee5\u4e0b\u662f MySQL \u5e38\u89c1\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u7b56\u7565\uff1a<ol> <li>\u903b\u8f91\u5907\u4efd\uff1a<ul> <li>mysqldump\uff1a\u901a\u8fc7 <code>mysqldump</code> \u5de5\u5177\u8fdb\u884c\u903b\u8f91\u5907\u4efd\uff0c\u53ef\u4ee5\u751f\u6210 SQL \u811a\u672c\u6587\u4ef6\uff0c\u5305\u542b\u6570\u636e\u548c\u8868\u7ed3\u6784\u3002   <code>bash   mysqldump -u username -p database_name &gt; backup_file.sql</code></li> <li>mysqlpump\uff1aMySQL 5.7 \u53ca\u4ee5\u4e0a\u7248\u672c\u63d0\u4f9b\u7684\u65b0\u5de5\u5177\uff0c\u652f\u6301\u66f4\u5feb\u7684\u5907\u4efd\u548c\u5e76\u884c\u5904\u7406\u3002   <code>bash   mysqlpump -u username -p database_name &gt; backup_file.sql</code></li> </ul> </li> <li>\u7269\u7406\u5907\u4efd\uff1a<ul> <li>MySQL Enterprise Backup\uff1a\u4f01\u4e1a\u7248\u63d0\u4f9b\u7684\u5907\u4efd\u5de5\u5177\uff0c\u652f\u6301\u70ed\u5907\u4efd\u548c\u589e\u91cf\u5907\u4efd\uff0c\u9002\u5408\u5927\u578b\u751f\u4ea7\u73af\u5883\u3002</li> <li>XtraBackup\uff1a\u5f00\u6e90\u7684\u7269\u7406\u5907\u4efd\u5de5\u5177\uff0c\u9002\u7528\u4e8e InnoDB \u548c XtraDB \u5b58\u50a8\u5f15\u64ce\u3002   <code>bash   innobackupex --user=username --password=password /backup_directory/</code></li> </ul> </li> <li>\u589e\u91cf\u5907\u4efd\uff1a<ul> <li>\u57fa\u4e8e\u4e8c\u8fdb\u5236\u65e5\u5fd7\u7684\u589e\u91cf\u5907\u4efd\uff1a\u901a\u8fc7 MySQL \u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08binlog\uff09\u8bb0\u5f55\u7684\u53d8\u66f4\u6570\u636e\u8fdb\u884c\u589e\u91cf\u5907\u4efd\u3002   <code>sql   SHOW BINARY LOGS;</code></li> </ul> </li> <li>\u6062\u590d\u6570\u636e\uff1a<ul> <li>\u4ece\u903b\u8f91\u5907\u4efd\u6062\u590d\uff1a\u4f7f\u7528 <code>mysql</code> \u547d\u4ee4\u5c06 SQL \u811a\u672c\u6587\u4ef6\u6062\u590d\u5230\u6570\u636e\u5e93\u4e2d\u3002   <code>bash   mysql -u username -p database_name &lt; backup_file.sql</code></li> <li>\u4ece\u7269\u7406\u5907\u4efd\u6062\u590d\uff1a\u5c06\u5907\u4efd\u7684\u6570\u636e\u6587\u4ef6\u6062\u590d\u5230 MySQL \u6570\u636e\u76ee\u5f55\u4e2d\uff0c\u5e76\u8fdb\u884c\u5fc5\u8981\u7684\u64cd\u4f5c\u3002</li> <li>\u4f7f\u7528\u4e8c\u8fdb\u5236\u65e5\u5fd7\u6062\u590d\uff1a\u5c06\u4e8c\u8fdb\u5236\u65e5\u5fd7\u6587\u4ef6\u5e94\u7528\u5230\u6062\u590d\u540e\u7684\u6570\u636e\u4e2d\uff0c\u4ee5\u6062\u590d\u589e\u91cf\u6570\u636e\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9009\u62e9\u5408\u9002\u7684\u5907\u4efd\u548c\u6062\u590d\u7b56\u7565\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002\u903b\u8f91\u5907\u4efd\u9002\u5408\u5c0f\u89c4\u6a21\u548c\u5f00\u53d1\u73af\u5883\uff0c\u7269\u7406\u5907\u4efd\u548c\u589e\u91cf\u5907\u4efd\u5219\u9002\u5408\u751f\u4ea7\u73af\u5883\u548c\u5927\u89c4\u6a21\u6570\u636e\u5907\u4efd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#57-mysql","title":"57. \u5982\u4f55\u4f18\u5316 MySQL \u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\u80fd\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5e76\u53d1\u6027\u80fd\u4f18\u5316\u662f\u63d0\u9ad8\u6570\u636e\u5e93\u5904\u7406\u80fd\u529b\u548c\u54cd\u5e94\u901f\u5ea6\u7684\u5173\u952e\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f18\u5316 MySQL \u5e76\u53d1\u6027\u80fd\u7684\u6280\u5de7\uff1a<ol> <li>\u8c03\u6574\u6570\u636e\u5e93\u53c2\u6570\uff1a<ul> <li><code>innodb_buffer_pool_size</code>\uff1a\u589e\u52a0\u7f13\u51b2\u6c60\u5927\u5c0f\uff0c\u4ee5\u63d0\u9ad8 InnoDB \u5b58\u50a8\u5f15\u64ce\u7684\u7f13\u5b58\u80fd\u529b\u3002</li> <li><code>max_connections</code>\uff1a\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8c03\u6574\u6700\u5927\u8fde\u63a5\u6570\uff0c\u907f\u514d\u8fde\u63a5\u6570\u8fc7\u591a\u5bfc\u81f4\u8d44\u6e90\u8017\u5c3d\u3002</li> </ul> </li> <li>\u4f18\u5316\u9501\u673a\u5236\uff1a<ul> <li>\u51cf\u5c11\u9501\u7ade\u4e89\uff1a\u901a\u8fc7\u5408\u7406\u8bbe\u8ba1\u4e8b\u52a1\u3001\u51cf\u5c11\u9501\u7684\u6301\u6709\u65f6\u95f4\u548c\u9501\u7684\u7c92\u5ea6\u6765\u51cf\u5c11\u9501\u7ade\u4e89\u3002</li> <li>\u4f7f\u7528\u884c\u7ea7\u9501\uff1a\u5c3d\u91cf\u4f7f\u7528\u884c\u7ea7\u9501\u800c\u4e0d\u662f\u8868\u7ea7\u9501\uff0c\u4ee5\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\u3002</li> </ul> </li> <li>\u7d22\u5f15\u4f18\u5316\uff1a<ul> <li>\u521b\u5efa\u5408\u9002\u7684\u7d22\u5f15\uff1a\u786e\u4fdd\u5bf9\u9ad8\u9891\u67e5\u8be2\u548c\u66f4\u65b0\u7684\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\uff0c\u51cf\u5c11\u5168\u8868\u626b\u63cf\u548c\u9501\u4e89\u7528\u3002</li> </ul> </li> <li>\u4e8b\u52a1\u7ba1\u7406\uff1a<ul> <li>\u7f29\u77ed\u4e8b\u52a1\u65f6\u95f4\uff1a\u907f\u514d\u957f\u65f6\u95f4\u7684\u4e8b\u52a1\u64cd\u4f5c\uff0c\u5c3d\u91cf\u5c06\u4e8b\u52a1\u64cd\u4f5c\u62c6\u5206\u4e3a\u8f83\u5c0f\u7684\u64cd\u4f5c\u3002</li> <li>\u4f7f\u7528\u5408\u7406\u7684\u9694\u79bb\u7ea7\u522b\uff1a\u9009\u62e9\u5408\u9002\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4ee5\u5e73\u8861\u5e76\u53d1\u6027\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul> </li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a<ul> <li>\u4f7f\u7528\u8bfb\u5199\u5206\u79bb\uff1a\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u5c06\u8bfb\u64cd\u4f5c\u5206\u914d\u5230\u4ece\u5e93\uff0c\u4ece\u800c\u51cf\u8f7b\u4e3b\u5e93\u7684\u8d1f\u62c5\u3002</li> <li>\u8d1f\u8f7d\u5747\u8861\u5de5\u5177\uff1a\u4f7f\u7528\u5de5\u5177\uff08\u5982 ProxySQL\u3001HAProxy\uff09\u5bf9\u6570\u636e\u5e93\u8bf7\u6c42\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u8c03\u6574\u6570\u636e\u5e93\u53c2\u6570\u3001\u4f18\u5316\u9501\u673a\u5236\u3001\u5408\u7406\u521b\u5efa\u7d22\u5f15\u3001\u7ba1\u7406\u4e8b\u52a1\u548c\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u7b49\u63aa\u65bd\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u5347 MySQL \u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\u80fd\u548c\u5904\u7406\u80fd\u529b\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#58-mysql","title":"58. MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u6709\u54ea\u4e9b\uff1f\u5404\u81ea\u7684\u7279\u70b9\u662f\u4ec0\u4e48\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5b9a\u4e49\u4e86\u4e8b\u52a1\u5bf9\u5176\u4ed6\u4e8b\u52a1\u7684\u53ef\u89c1\u6027\u548c\u5f71\u54cd\uff0cMySQL \u652f\u6301\u4ee5\u4e0b\u9694\u79bb\u7ea7\u522b\uff1a<ol> <li>\u8bfb\u672a\u63d0\u4ea4\uff08READ UNCOMMITTED\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u6700\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u53ef\u80fd\u51fa\u73b0\u810f\u8bfb\u73b0\u8c61\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u5bf9\u6570\u636e\u4e00\u81f4\u6027\u8981\u6c42\u4e0d\u9ad8\u7684\u573a\u666f\u3002</li> </ul> </li> <li>\u8bfb\u5df2\u63d0\u4ea4\uff08READ COMMITTED\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u4e8b\u52a1\u53ea\u80fd\u8bfb\u53d6\u5176\u4ed6\u4e8b\u52a1\u5df2\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u907f\u514d\u810f\u8bfb\u73b0\u8c61\uff0c\u4f46\u53ef\u80fd\u51fa\u73b0\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u5927\u591a\u6570\u5e94\u7528\u573a\u666f\uff0c\u5e73\u8861\u4e86\u6027\u80fd\u548c\u4e00\u81f4\u6027\u3002</li> </ul> </li> <li>\u53ef\u91cd\u590d\u8bfb\uff08REPEATABLE READ\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u4e8b\u52a1\u5728\u5176\u751f\u547d\u5468\u671f\u5185\u8bfb\u53d6\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\uff0c\u907f\u514d\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u4f46\u53ef\u80fd\u51fa\u73b0\u5e7b\u8bfb\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9700\u8981\u786e\u4fdd\u540c\u4e00\u4e8b\u52a1\u4e2d\u591a\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u9002\u5408\u5927\u591a\u6570\u4e1a\u52a1\u573a\u666f\u3002</li> </ul> </li> <li>\u4e32\u884c\u5316\uff08SERIALIZABLE\uff09\uff1a<ul> <li>\u7279\u70b9\uff1a\u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u901a\u8fc7\u52a0\u9501\u673a\u5236\u786e\u4fdd\u4e8b\u52a1\u5b8c\u5168\u9694\u79bb\uff0c\u907f\u514d\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u5bf9\u6570\u636e\u4e00\u81f4\u6027\u8981\u6c42\u6781\u9ad8\u7684\u573a\u666f\uff0c\u4f46\u53ef\u80fd\u4f1a\u964d\u4f4e\u5e76\u53d1\u6027\u80fd\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9009\u62e9\u5408\u9002\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u662f\u5e73\u8861\u6570\u636e\u4e00\u81f4\u6027\u548c\u5e76\u53d1\u6027\u80fd\u7684\u5173\u952e\u3002\u6839\u636e\u5b9e\u9645\u5e94\u7528\u9700\u6c42\u548c\u6027\u80fd\u8981\u6c42\u9009\u62e9\u5408\u9002\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u6b63\u786e\u6027\u548c\u7cfb\u7edf\u7684\u9ad8\u6548\u8fd0\u884c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#59-mysql","title":"59. \u5982\u4f55\u8fdb\u884c MySQL \u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u4ee5\u652f\u6301\u9ad8\u541e\u5410\u91cf\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u9ad8\u541e\u5410\u91cf\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u9700\u8981\u7efc\u5408\u8003\u8651\u6570\u636e\u5b58\u50a8\u3001\u67e5\u8be2\u4f18\u5316\u548c\u7cfb\u7edf\u67b6\u6784\u7b49\u65b9\u9762\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5173\u952e\u8bbe\u8ba1\u8981\u70b9\uff1a<ol> <li>\u6c34\u5e73\u5206\u533a\uff08Sharding\uff09\uff1a<ul> <li>\u5b9a\u4e49\uff1a\u5c06\u6570\u636e\u5206\u5e03\u5230\u591a\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u4e0a\uff0c\u901a\u8fc7\u6c34\u5e73\u5206\u533a\u6765\u63d0\u9ad8\u5e76\u53d1\u5904\u7406\u80fd\u529b\u548c\u8d1f\u8f7d\u5747\u8861\u3002</li> <li>\u7b56\u7565\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u9009\u62e9\u5206\u533a\u7b56\u7565\uff0c\u5982\u6309\u7528\u6237ID\u3001\u5730\u7406\u4f4d\u7f6e\u7b49\u8fdb\u884c\u5206\u533a\u3002</li> </ul> </li> <li>\u6570\u636e\u5f52\u6863\uff1a<ul> <li>\u5b9a\u4e49\uff1a\u5c06\u5386\u53f2\u6570\u636e\u5f52\u6863\u5230\u8f83\u5c11\u8bbf\u95ee\u7684\u5b58\u50a8\u4ecb\u8d28\u4e2d\uff0c\u4ee5\u51cf\u5c11\u4e3b\u6570\u636e\u5e93\u7684\u8d1f\u62c5\u3002</li> <li>\u5b9e\u65bd\uff1a\u5b9a\u671f\u5c06\u4e0d\u518d\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u79fb\u5230\u5f52\u6863\u8868\u6216\u5f52\u6863\u6570\u636e\u5e93\u3002</li> </ul> </li> <li>\u7f13\u5b58\u673a\u5236\uff1a<ul> <li>\u5b9a\u4e49\uff1a\u4f7f\u7528\u7f13\u5b58\uff08\u5982 Redis\u3001Memcached\uff09\u6765\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8bfb\u64cd\u4f5c\uff0c\u63d0\u5347\u6570\u636e\u8bbf\u95ee\u901f\u5ea6\u3002</li> <li>\u5b9e\u65bd\uff1a\u5c06\u9ad8\u9891\u6b21\u8bbf\u95ee\u7684\u6570\u636e\u6216\u8ba1\u7b97\u7ed3\u679c\u5b58\u50a8\u5230\u7f13\u5b58\u4e2d\uff0c\u4ee5\u51cf\u5c11\u6570\u636e\u5e93\u7684\u67e5\u8be2\u8d1f\u62c5\u3002</li> </ul> </li> <li>\u4f18\u5316\u6570\u636e\u6a21\u578b\uff1a<ul> <li>\u5b9a\u4e49\uff1a\u901a\u8fc7\u4f18\u5316\u6570\u636e\u8868\u7ed3\u6784\u548c\u7d22\u5f15\u8bbe\u8ba1\u6765\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u548c\u5199\u5165\u6027\u80fd\u3002</li> <li>\u7b56\u7565\uff1a\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7c7b\u578b\u3001\u521b\u5efa\u5408\u7406\u7684\u7d22\u5f15\uff0c\u5e76\u907f\u514d\u8fc7\u5ea6\u7684\u8868\u8fde\u63a5\u64cd\u4f5c\u3002</li> </ul> </li> <li>\u8bfb\u5199\u5206\u79bb\uff1a<ul> <li>\u5b9a\u4e49\uff1a\u5c06\u8bfb\u64cd\u4f5c\u548c\u5199\u64cd\u4f5c\u5206\u914d\u5230\u4e0d\u540c\u7684\u6570\u636e\u5e93\u5b9e\u4f8b\u4e0a\uff0c\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u3002</li> <li>\u5b9e\u65bd\uff1a\u4f7f\u7528\u4e3b\u5e93\u5904\u7406\u5199\u64cd\u4f5c\uff0c\u4ece\u5e93\u5904\u7406\u8bfb\u64cd\u4f5c\uff0c\u4ee5\u63d0\u9ad8\u7cfb\u7edf\u7684\u5904\u7406\u80fd\u529b\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9ad8\u541e\u5410\u91cf\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u9700\u8981\u4ece\u6570\u636e\u5206\u533a\u3001\u6570\u636e\u5f52\u6863\u3001\u7f13\u5b58\u673a\u5236\u3001\u6570\u636e\u6a21\u578b\u4f18\u5316\u548c\u8bfb\u5199\u5206\u79bb\u7b49\u65b9\u9762\u7efc\u5408\u8003\u8651\uff0c\u4ee5\u5b9e\u73b0\u7cfb\u7edf\u7684\u9ad8\u6548\u5904\u7406\u80fd\u529b\u548c\u826f\u597d\u7684\u6269\u5c55\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#60-mysql","title":"60. MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5982\u4f55\u5f71\u54cd\u6570\u636e\u5e93\u6027\u80fd\u548c\u4e00\u81f4\u6027\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5bf9\u6570\u636e\u5e93\u7684\u6027\u80fd\u548c\u4e00\u81f4\u6027\u6709\u76f4\u63a5\u5f71\u54cd\uff0c\u4e0d\u540c\u7684\u9694\u79bb\u7ea7\u522b\u5728\u6027\u80fd\u548c\u6570\u636e\u4e00\u81f4\u6027\u65b9\u9762\u7684\u8868\u73b0\u5982\u4e0b\uff1a<ol> <li>\u8bfb\u672a\u63d0\u4ea4\uff08READ UNCOMMITTED\uff09\uff1a<ul> <li>\u6027\u80fd\uff1a\u6027\u80fd\u6700\u4f73\uff0c\u56e0\u4e3a\u4e8b\u52a1\u4e0d\u9700\u8981\u7b49\u5f85\u5176\u4ed6\u4e8b\u52a1\u7684\u63d0\u4ea4\u3002</li> <li>\u4e00\u81f4\u6027\uff1a\u6700\u5dee\uff0c\u53ef\u80fd\u51fa\u73b0\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u3002</li> </ul> </li> <li>\u8bfb\u5df2\u63d0\u4ea4\uff08READ COMMITTED\uff09\uff1a<ul> <li>\u6027\u80fd\uff1a\u6027\u80fd\u8f83\u597d\uff0c\u907f\u514d\u4e86\u810f\u8bfb\uff0c\u4f46\u53ef\u80fd\u51fa\u73b0\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</li> <li>\u4e00\u81f4\u6027\uff1a\u8f83\u597d\uff0c\u80fd\u907f\u514d\u810f\u8bfb\uff0c\u4f46\u65e0\u6cd5\u4fdd\u8bc1\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</li> </ul> </li> <li>\u53ef\u91cd\u590d\u8bfb\uff08REPEATABLE READ\uff09\uff1a<ul> <li>\u6027\u80fd\uff1a\u6027\u80fd\u4e2d\u7b49\uff0c\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\u5728\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u662f\u4e00\u81f4\u7684\uff0c\u4f46\u53ef\u80fd\u4f1a\u51fa\u73b0\u5e7b\u8bfb\u3002</li> <li>\u4e00\u81f4\u6027\uff1a\u8f83\u9ad8\uff0c\u80fd\u591f\u786e\u4fdd\u540c\u4e00\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u9002\u5408\u5927\u591a\u6570\u5e94\u7528\u573a\u666f\u3002</li> </ul> </li> <li>\u4e32\u884c\u5316\uff08SERIALIZABLE\uff09\uff1a<ul> <li>\u6027\u80fd\uff1a\u6027\u80fd\u6700\u4f4e\uff0c\u56e0\u4e3a\u4e8b\u52a1\u9700\u8981\u7b49\u5f85\u5176\u4ed6\u4e8b\u52a1\u5b8c\u6210\uff0c\u53ef\u80fd\u5bfc\u81f4\u4e25\u91cd\u7684\u6027\u80fd\u74f6\u9888\u3002</li> <li>\u4e00\u81f4\u6027\uff1a\u6700\u9ad8\uff0c\u80fd\u591f\u5b8c\u5168\u907f\u514d\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\uff0c\u9002\u5408\u5bf9\u4e00\u81f4\u6027\u8981\u6c42\u6781\u9ad8\u7684\u573a\u666f\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5bf9\u6027\u80fd\u548c\u4e00\u81f4\u6027\u7684\u5e73\u8861\u662f\u8bbe\u8ba1\u6570\u636e\u5e93\u65f6\u7684\u91cd\u8981\u8003\u8651\u56e0\u7d20\u3002\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u9700\u6c42\u548c\u7cfb\u7edf\u6027\u80fd\u8981\u6c42\u9009\u62e9\u5408\u9002\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u6b63\u786e\u6027\u548c\u7cfb\u7edf\u7684\u9ad8\u6548\u8fd0\u884c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#61-mysql","title":"61. MySQL \u4e2d\u7684\u5b58\u50a8\u5f15\u64ce\u6709\u54ea\u4e9b\uff1f\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u5b58\u50a8\u5f15\u64ce\u662f MySQL \u4e2d\u7528\u6765\u7ba1\u7406\u6570\u636e\u5b58\u50a8\u7684\u7ec4\u4ef6\uff0c\u4e0d\u540c\u7684\u5b58\u50a8\u5f15\u64ce\u5177\u6709\u4e0d\u540c\u7684\u7279\u6027\u548c\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684 MySQL \u5b58\u50a8\u5f15\u64ce\u53ca\u5176\u533a\u522b\uff1a</p> <ol> <li> <p>InnoDB\uff1a</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u652f\u6301\u4e8b\u52a1\uff08ACID\uff09\u3002</li> <li>\u652f\u6301\u884c\u7ea7\u9501\u5b9a\uff0c\u51cf\u5c11\u9501\u4e89\u7528\u3002</li> <li>\u652f\u6301\u5916\u952e\u7ea6\u675f\uff0c\u5b9e\u73b0\u6570\u636e\u5b8c\u6574\u6027\u3002</li> <li>\u63d0\u4f9b\u6570\u636e\u6062\u590d\u548c\u5d29\u6e83\u6062\u590d\u529f\u80fd\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u9700\u8981\u4e8b\u52a1\u652f\u6301\u548c\u9ad8\u5e76\u53d1\u7684\u5e94\u7528\u573a\u666f\uff0c\u5982\u91d1\u878d\u7cfb\u7edf\u548c\u5927\u578b\u4f01\u4e1a\u5e94\u7528\u3002</li> <li>\u521b\u5efa\u8868\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE table_name (       id INT AUTO_INCREMENT PRIMARY KEY,       name VARCHAR(255)   ) ENGINE=InnoDB;</code></li> </ul> </li> <li> <p>MyISAM\uff1a</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u4e0d\u652f\u6301\u4e8b\u52a1\u3002</li> <li>\u652f\u6301\u8868\u7ea7\u9501\u5b9a\uff0c\u9002\u5408\u8bfb\u64cd\u4f5c\u9891\u7e41\u7684\u573a\u666f\u3002</li> <li>\u63d0\u4f9b\u5feb\u901f\u7684\u67e5\u8be2\u6027\u80fd\uff0c\u9002\u5408\u8bfb\u53d6\u5bc6\u96c6\u578b\u7684\u5e94\u7528\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u8bfb\u591a\u5199\u5c11\u7684\u5e94\u7528\uff0c\u5982\u65e5\u5fd7\u7cfb\u7edf\u548c\u6570\u636e\u4ed3\u5e93\u3002</li> <li>\u521b\u5efa\u8868\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE table_name (       id INT AUTO_INCREMENT PRIMARY KEY,       name VARCHAR(255)   ) ENGINE=MyISAM;</code></li> </ul> </li> <li> <p>MEMORY\uff1a</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u63d0\u4f9b\u6781\u9ad8\u7684\u8bbf\u95ee\u901f\u5ea6\u3002</li> <li>\u6570\u636e\u4f1a\u5728\u670d\u52a1\u5668\u91cd\u542f\u65f6\u4e22\u5931\u3002</li> <li>\u652f\u6301\u8868\u7ea7\u9501\u5b9a\uff0c\u4e0d\u9002\u5408\u5927\u6570\u636e\u91cf\u548c\u9700\u8981\u6301\u4e45\u5316\u7684\u6570\u636e\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u4e34\u65f6\u6570\u636e\u5b58\u50a8\u548c\u7f13\u5b58\u6570\u636e\u3002</li> <li>\u521b\u5efa\u8868\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE table_name (       id INT PRIMARY KEY,       name VARCHAR(255)   ) ENGINE=MEMORY;</code></li> </ul> </li> <li> <p>ARCHIVE\uff1a</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u9002\u5408\u5b58\u50a8\u5927\u91cf\u7684\u5f52\u6863\u6570\u636e\u3002</li> <li>\u538b\u7f29\u5b58\u50a8\uff0c\u51cf\u5c11\u78c1\u76d8\u7a7a\u95f4\u4f7f\u7528\u3002</li> <li>\u652f\u6301\u4ec5\u63d2\u5165\u548c\u67e5\u8be2\u64cd\u4f5c\uff0c\u4e0d\u652f\u6301\u66f4\u65b0\u548c\u5220\u9664\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u957f\u671f\u5b58\u6863\u7684\u6570\u636e\uff0c\u5982\u5386\u53f2\u8bb0\u5f55\u3002</li> <li>\u521b\u5efa\u8868\u793a\u4f8b\uff1a   <code>sql   CREATE TABLE table_name (       id INT PRIMARY KEY,       data TEXT   ) ENGINE=ARCHIVE;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u9009\u62e9\u5408\u9002\u7684\u5b58\u50a8\u5f15\u64ce\u53d6\u51b3\u4e8e\u5e94\u7528\u7684\u9700\u6c42\u548c\u7279\u6027\u3002InnoDB \u9002\u5408\u4e8b\u52a1\u6027\u5e94\u7528\uff0cMyISAM \u9002\u5408\u8bfb\u5bc6\u96c6\u578b\u5e94\u7528\uff0cMEMORY \u9002\u5408\u4e34\u65f6\u6570\u636e\u5b58\u50a8\uff0cARCHIVE \u9002\u5408\u957f\u671f\u6570\u636e\u5b58\u6863\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#62-mysql-foreign-key","title":"62. MySQL \u4e2d\u7684\u5916\u952e\u7ea6\u675f\uff08FOREIGN KEY\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5916\u952e\u7ea6\u675f\uff08FOREIGN KEY\uff09\u7528\u4e8e\u786e\u4fdd\u8868\u4e0e\u8868\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002\u5b83\u901a\u8fc7\u5b9a\u4e49\u8868\u4e4b\u95f4\u7684\u5173\u7cfb\u6765\u907f\u514d\u4e0d\u4e00\u81f4\u7684\u6570\u636e\u3002</li> <li> <p>\u5b9a\u4e49\u5916\u952e\u7ea6\u675f\uff1a      ```sql      CREATE TABLE parent_table (          id INT PRIMARY KEY,          name VARCHAR(255)      );</p> <p>CREATE TABLE child_table (      id INT PRIMARY KEY,      parent_id INT,      FOREIGN KEY (parent_id) REFERENCES parent_table(id)  );  <code>- **\u5916\u952e\u7ea6\u675f\u7684\u5e94\u7528**\uff1a  1. **\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027**\uff1a\u901a\u8fc7\u5916\u952e\u7ea6\u675f\uff0c\u786e\u4fdd\u5728\u5b50\u8868\u4e2d\u63d2\u5165\u7684\u6570\u636e\u5fc5\u987b\u5728\u7236\u8868\u4e2d\u5b58\u5728\uff0c\u907f\u514d\u6570\u636e\u4e0d\u4e00\u81f4\u3002  2. **\u7ea7\u8054\u64cd\u4f5c**\uff1a\u5b9a\u4e49\u7ea7\u8054\u64cd\u4f5c\uff0c\u5982 `ON DELETE CASCADE` \u548c `ON UPDATE CASCADE`\uff0c\u4ee5\u81ea\u52a8\u5904\u7406\u5173\u8054\u6570\u636e\u7684\u5220\u9664\u548c\u66f4\u65b0\u3002</code>sql     CREATE TABLE child_table (         id INT PRIMARY KEY,         parent_id INT,         FOREIGN KEY (parent_id) REFERENCES parent_table(id)         ON DELETE CASCADE         ON UPDATE CASCADE     );     ```    - \u6ce8\u610f\u4e8b\u9879\uff1a  - \u5916\u952e\u7ea6\u675f\u53ea\u5728 InnoDB \u5b58\u50a8\u5f15\u64ce\u4e2d\u6709\u6548\uff0c\u5176\u4ed6\u5b58\u50a8\u5f15\u64ce\uff08\u5982 MyISAM\uff09\u4e0d\u652f\u6301\u5916\u952e\u3002  - \u5916\u952e\u5217\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u4e0e\u5f15\u7528\u7684\u5217\u6570\u636e\u7c7b\u578b\u4e00\u81f4\u3002</p> </li> </ul> <p>\u603b\u7ed3\uff1a\u5916\u952e\u7ea6\u675f\u7528\u4e8e\u7ef4\u6301\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\uff0c\u901a\u8fc7\u5b9a\u4e49\u8868\u4e4b\u95f4\u7684\u5173\u7cfb\u548c\u7ea7\u8054\u64cd\u4f5c\uff0c\u53ef\u4ee5\u907f\u514d\u6570\u636e\u7684\u4e0d\u4e00\u81f4\u548c\u5b64\u7acb\u8bb0\u5f55\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#63-mysql-trigger","title":"63. MySQL \u4e2d\u7684\u89e6\u53d1\u5668\uff08TRIGGER\uff09\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u89e6\u53d1\u5668\uff08TRIGGER\uff09\u662f\u81ea\u52a8\u6267\u884c\u7684\u5b58\u50a8\u8fc7\u7a0b\uff0c\u89e6\u53d1\u5668\u5728\u7279\u5b9a\u7684\u6570\u636e\u5e93\u4e8b\u4ef6\uff08\u5982\u63d2\u5165\u3001\u66f4\u65b0\u6216\u5220\u9664\uff09\u53d1\u751f\u65f6\u6267\u884c\u6307\u5b9a\u7684\u64cd\u4f5c\u3002</li> <li> <p>\u521b\u5efa\u89e6\u53d1\u5668\uff1a      ```sql      DELIMITER //</p> <p>CREATE TRIGGER trigger_name  BEFORE INSERT ON table_name  FOR EACH ROW  BEGIN      -- \u89e6\u53d1\u5668\u903b\u8f91      SET NEW.column_name = 'default_value';  END //</p> <p>DELIMITER ;  ```    - \u89e6\u53d1\u5668\u7c7b\u578b\uff1a  1. BEFORE INSERT\uff1a\u5728\u63d2\u5165\u64cd\u4f5c\u4e4b\u524d\u6267\u884c\u3002  2. AFTER INSERT\uff1a\u5728\u63d2\u5165\u64cd\u4f5c\u4e4b\u540e\u6267\u884c\u3002  3. BEFORE UPDATE\uff1a\u5728\u66f4\u65b0\u64cd\u4f5c\u4e4b\u524d\u6267\u884c\u3002  4. AFTER UPDATE\uff1a\u5728\u66f4\u65b0\u64cd\u4f5c\u4e4b\u540e\u6267\u884c\u3002  5. BEFORE DELETE\uff1a\u5728\u5220\u9664\u64cd\u4f5c\u4e4b\u524d\u6267\u884c\u3002  6. AFTER DELETE\uff1a\u5728\u5220\u9664\u64cd\u4f5c\u4e4b\u540e\u6267\u884c\u3002    - \u89e6\u53d1\u5668\u7684\u5e94\u7528\u573a\u666f\uff1a  1. \u6570\u636e\u9a8c\u8bc1\uff1a\u5728\u6570\u636e\u63d2\u5165\u6216\u66f4\u65b0\u4e4b\u524d\u8fdb\u884c\u9a8c\u8bc1\uff0c\u786e\u4fdd\u6570\u636e\u7b26\u5408\u8981\u6c42\u3002  2. \u81ea\u52a8\u65e5\u5fd7\u8bb0\u5f55\uff1a\u5728\u6570\u636e\u64cd\u4f5c\u65f6\u81ea\u52a8\u751f\u6210\u65e5\u5fd7\u8bb0\u5f55\uff0c\u8bb0\u5f55\u6570\u636e\u7684\u53d8\u5316\u5386\u53f2\u3002  3. \u6570\u636e\u8f6c\u6362\uff1a\u5728\u6570\u636e\u63d2\u5165\u6216\u66f4\u65b0\u65f6\u8fdb\u884c\u81ea\u52a8\u8f6c\u6362\u548c\u5904\u7406\u3002</p> </li> </ul> <p>\u603b\u7ed3\uff1a\u89e6\u53d1\u5668\u7528\u4e8e\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\uff0c\u53ef\u4ee5\u5728\u6570\u636e\u5e93\u64cd\u4f5c\u65f6\u8fdb\u884c\u6570\u636e\u9a8c\u8bc1\u3001\u65e5\u5fd7\u8bb0\u5f55\u548c\u6570\u636e\u5904\u7406\u7b49\u4efb\u52a1\uff0c\u63d0\u9ad8\u6570\u636e\u7ba1\u7406\u7684\u81ea\u52a8\u5316\u6c34\u5e73\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#64-mysql-explain","title":"64. \u5982\u4f55\u4f7f\u7528 MySQL \u7684 EXPLAIN \u547d\u4ee4\u4f18\u5316\u67e5\u8be2\u6027\u80fd\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>EXPLAIN \u547d\u4ee4\u7528\u4e8e\u5206\u6790 SQL \u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u4e86\u89e3\u67e5\u8be2\u7684\u5b9e\u9645\u6267\u884c\u60c5\u51b5\uff0c\u4ece\u800c\u8fdb\u884c\u4f18\u5316\u3002</li> <li>\u4f7f\u7528 EXPLAIN\uff1a      <code>sql      EXPLAIN SELECT column1, column2      FROM table_name      WHERE condition;</code></li> <li> <p>EXPLAIN \u8f93\u51fa\u5b57\u6bb5\uff1a</p> <ol> <li>id\uff1a\u67e5\u8be2\u7684\u6807\u8bc6\u7b26\uff0c\u8868\u793a\u6267\u884c\u7684\u987a\u5e8f\u3002</li> <li>select_type\uff1a\u67e5\u8be2\u7684\u7c7b\u578b\uff0c\u5982 SIMPLE\uff08\u7b80\u5355\u67e5\u8be2\uff09\u3001PRIMARY\uff08\u4e3b\u67e5\u8be2\uff09\u7b49\u3002</li> <li>table\uff1a\u6d89\u53ca\u7684\u8868\u3002</li> <li>type\uff1a\u8fde\u63a5\u7c7b\u578b\uff0c\u5982 ALL\uff08\u5168\u8868\u626b\u63cf\uff09\u3001index\uff08\u7d22\u5f15\u626b\u63cf\uff09\u7b49\u3002</li> <li>possible_keys\uff1a\u53ef\u80fd\u4f7f\u7528\u7684\u7d22\u5f15\u3002</li> <li>key\uff1a\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15\u3002</li> <li>rows\uff1a\u626b\u63cf\u7684\u884c\u6570\u4f30\u7b97\u503c\u3002</li> <li>Extra\uff1a\u9644\u52a0\u4fe1\u606f\uff0c\u5982 Using where\uff08\u4f7f\u7528\u4e86 WHERE \u5b50\u53e5\uff09\u7b49\u3002</li> </ol> </li> <li> <p>\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u5206\u6790\u6267\u884c\u8ba1\u5212\uff1a\u67e5\u770b\u67e5\u8be2\u662f\u5426\u4f7f\u7528\u4e86\u7d22\u5f15\uff0c\u662f\u5426\u8fdb\u884c\u4e86\u5168\u8868\u626b\u63cf\u3002</li> <li>\u4f18\u5316\u7d22\u5f15\uff1a\u6839\u636e EXPLAIN \u8f93\u51fa\u4fe1\u606f\u521b\u5efa\u6216\u8c03\u6574\u7d22\u5f15\uff0c\u51cf\u5c11\u5168\u8868\u626b\u63cf\u3002</li> <li>\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a\u7b80\u5316\u67e5\u8be2\u8bed\u53e5\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5b50\u67e5\u8be2\u548c\u8fde\u63a5\u64cd\u4f5c\u3002</li> <li>\u8c03\u6574\u8868\u7ed3\u6784\uff1a\u6839\u636e\u67e5\u8be2\u9700\u6c42\u4f18\u5316\u8868\u7ed3\u6784\u548c\u6570\u636e\u6a21\u578b\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u4f7f\u7528 EXPLAIN \u547d\u4ee4\u53ef\u4ee5\u83b7\u53d6\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u5e2e\u52a9\u5206\u6790\u548c\u4f18\u5316 SQL \u67e5\u8be2\uff0c\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u67e5\u8be2\u6027\u80fd\u548c\u54cd\u5e94\u901f\u5ea6\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#65-mysql","title":"65. MySQL \u7684\u6570\u636e\u4e00\u81f4\u6027\u548c\u4e8b\u52a1\u7ba1\u7406\u5982\u4f55\u786e\u4fdd\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u6570\u636e\u4e00\u81f4\u6027\u662f\u786e\u4fdd\u6570\u636e\u5e93\u5728\u591a\u4e2a\u4e8b\u52a1\u5e76\u53d1\u64cd\u4f5c\u65f6\u6570\u636e\u7684\u51c6\u786e\u6027\u548c\u5b8c\u6574\u6027\u3002\u4ee5\u4e0b\u662f\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u548c\u4e8b\u52a1\u7ba1\u7406\u7684\u5173\u952e\u7b56\u7565\uff1a</p> <ol> <li> <p>\u4e8b\u52a1\u7ba1\u7406\uff1a</p> <ul> <li>\u4e8b\u52a1\u7684\u56db\u4e2a\u7279\u6027\uff08ACID\uff09\uff1a</li> <li>\u539f\u5b50\u6027\uff08Atomicity\uff09\uff1a\u4e8b\u52a1\u662f\u4e0d\u53ef\u5206\u5272\u7684\uff0c\u6240\u6709\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u5b8c\u6210\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u3002</li> <li>\u4e00\u81f4\u6027\uff08Consistency\uff09\uff1a\u4e8b\u52a1\u6267\u884c\u524d\u540e\uff0c\u6570\u636e\u5e93\u72b6\u6001\u5e94\u4fdd\u6301\u4e00\u81f4\u3002</li> <li>\u9694\u79bb\u6027\uff08Isolation\uff09\uff1a\u4e8b\u52a1\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u6267\u884c\u65f6\u4e0d\u4f1a\u5e72\u6270\u5f7c\u6b64\u3002</li> <li>\u6301\u4e45\u6027\uff08Durability\uff09\uff1a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5176\u7ed3\u679c\u662f\u6301\u4e45\u7684\uff0c\u4e0d\u4f1a\u4e22\u5931\u3002</li> <li>\u4e8b\u52a1\u547d\u4ee4\uff1a   <code>sql   START TRANSACTION;   -- SQL \u64cd\u4f5c   COMMIT;  -- \u63d0\u4ea4\u4e8b\u52a1   ROLLBACK; -- \u56de\u6eda\u4e8b\u52a1</code></li> </ul> </li> <li> <p>\u9694\u79bb\u7ea7\u522b\uff1a</p> <ul> <li>\u8bfb\u672a\u63d0\u4ea4\uff08READ UNCOMMITTED\uff09\uff1a\u6700\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u53ef\u80fd\u51fa\u73b0\u810f\u8bfb\u3002</li> <li>\u8bfb\u5df2\u63d0\u4ea4\uff08READ COMMITTED\uff09\uff1a\u53ea\u8bfb\u53d6\u5df2\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u907f\u514d\u810f\u8bfb\uff0c\u4f46\u53ef\u80fd\u51fa\u73b0\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002</li> <li>\u53ef\u91cd\u590d\u8bfb\uff08REPEATABLE READ\uff09\uff1a\u5728\u4e8b\u52a1\u671f\u95f4\u8bfb\u53d6\u7684\u6570\u636e\u4e00\u81f4\uff0c\u907f\u514d\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u4f46\u53ef\u80fd\u51fa\u73b0\u5e7b\u8bfb\u3002</li> <li>\u4e32\u884c\u5316\uff08SERIALIZABLE\uff09\uff1a\u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u901a\u8fc7\u52a0\u9501\u5b9e\u73b0\u5b8c\u5168\u9694\u79bb\uff0c\u907f\u514d\u6240\u6709\u4e8b\u52a1\u5e72\u6270\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u5408\u7406\u7684\u4e8b\u52a1\u7ba1\u7406\u3001\u8bbe\u7f6e\u5408\u9002\u7684\u9694\u79bb\u7ea7\u522b\u548c\u5e94\u7528 ACID \u7279\u6027\uff0c\u53ef\u4ee5\u786e\u4fdd MySQL \u6570\u636e\u5e93\u7684\u7a33\u5b9a\u6027\u548c\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#66-mysql","title":"66. MySQL \u4e2d\u5982\u4f55\u8fdb\u884c\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u662f\u786e\u4fdd\u6570\u636e\u5b89\u5168\u6027\u548c\u53ef\u7528\u6027\u7684\u91cd\u8981\u64cd\u4f5c\u3002MySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u5907\u4efd\u548c\u6062\u590d\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u65b9\u5f0f\uff1a</p> <ol> <li> <p>\u4f7f\u7528 <code>mysqldump</code> \u5907\u4efd\u6570\u636e\uff1a</p> <ul> <li><code>mysqldump</code> \u662f MySQL \u63d0\u4f9b\u7684\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u5bfc\u51fa\u4e3a SQL \u811a\u672c\u6587\u4ef6\u3002</li> <li>\u5b8c\u6574\u5907\u4efd\uff1a\u5c06\u6574\u4e2a\u6570\u636e\u5e93\u5bfc\u51fa\u4e3a SQL \u6587\u4ef6\u3002   <code>bash   mysqldump -u username -p database_name &gt; backup.sql</code></li> <li>\u6307\u5b9a\u8868\u5907\u4efd\uff1a\u53ea\u5907\u4efd\u6307\u5b9a\u7684\u8868\u3002   <code>bash   mysqldump -u username -p database_name table_name &gt; backup.sql</code></li> <li>\u5305\u542b\u6570\u636e\u548c\u7ed3\u6784\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>mysqldump</code> \u4f1a\u5bfc\u51fa\u6570\u636e\u548c\u8868\u7ed3\u6784\u3002\u5982\u679c\u53ea\u60f3\u5bfc\u51fa\u8868\u7ed3\u6784\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>--no-data</code> \u53c2\u6570\u3002   <code>bash   mysqldump -u username -p --no-data database_name &gt; structure_backup.sql</code></li> <li>\u538b\u7f29\u5907\u4efd\uff1a\u53ef\u4ee5\u901a\u8fc7\u7ba1\u9053\u5c06\u5907\u4efd\u6587\u4ef6\u8fdb\u884c\u538b\u7f29\u3002   <code>bash   mysqldump -u username -p database_name | gzip &gt; backup.sql.gz</code></li> </ul> </li> <li> <p>\u6062\u590d\u6570\u636e\uff1a</p> <ul> <li>\u4f7f\u7528 <code>mysql</code> \u547d\u4ee4\u6062\u590d\u6570\u636e\u5907\u4efd\u3002   <code>bash   mysql -u username -p database_name &lt; backup.sql</code></li> <li>\u5982\u679c\u5907\u4efd\u6587\u4ef6\u662f\u538b\u7f29\u7684\uff0c\u9700\u8981\u5148\u89e3\u538b\u540e\u6062\u590d\u3002   <code>bash   gunzip &lt; backup.sql.gz | mysql -u username -p database_name</code></li> </ul> </li> <li> <p>\u4f7f\u7528 <code>mysqlpump</code> \u8fdb\u884c\u5e76\u884c\u5907\u4efd\uff1a</p> <ul> <li><code>mysqlpump</code> \u662f MySQL \u63d0\u4f9b\u7684\u4e00\u4e2a\u65b0\u578b\u5907\u4efd\u5de5\u5177\uff0c\u652f\u6301\u5e76\u884c\u5907\u4efd\u548c\u538b\u7f29\u3002</li> <li>\u5907\u4efd\u547d\u4ee4\uff1a   <code>bash   mysqlpump -u username -p --all-databases --result-file=backup.sql</code></li> </ul> </li> <li> <p>\u7269\u7406\u5907\u4efd\uff1a</p> <ul> <li>\u7269\u7406\u5907\u4efd\u662f\u76f4\u63a5\u590d\u5236 MySQL \u6570\u636e\u6587\u4ef6\u548c\u65e5\u5fd7\u6587\u4ef6\uff0c\u9002\u5408\u5927\u89c4\u6a21\u6570\u636e\u548c\u5feb\u901f\u6062\u590d\u7684\u573a\u666f\u3002</li> <li>\u5e38\u7528\u5de5\u5177\uff1aPercona XtraBackup \u662f\u4e00\u4e2a\u5e38\u7528\u7684 MySQL \u7269\u7406\u5907\u4efd\u5de5\u5177\uff0c\u652f\u6301\u5728\u7ebf\u70ed\u5907\u4efd\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u5907\u4efd\u548c\u6062\u590d\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u6839\u636e\u6570\u636e\u89c4\u6a21\u3001\u5907\u4efd\u9891\u7387\u548c\u6062\u590d\u901f\u5ea6\u8981\u6c42\u9009\u62e9\u5408\u9002\u7684\u5907\u4efd\u7b56\u7565\u662f\u786e\u4fdd\u6570\u636e\u5b89\u5168\u7684\u5173\u952e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#67-mysql","title":"67. \u5982\u4f55\u4f18\u5316 MySQL \u6570\u636e\u5e93\u7684\u67e5\u8be2\u6027\u80fd\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u67e5\u8be2\u6027\u80fd\u4f18\u5316 \u662f\u6570\u636e\u5e93\u6027\u80fd\u8c03\u4f18\u7684\u91cd\u8981\u90e8\u5206\u3002\u4f18\u5316 MySQL \u6570\u636e\u5e93\u7684\u67e5\u8be2\u6027\u80fd\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u5b9e\u73b0\uff1a</p> <ol> <li> <p>\u521b\u5efa\u548c\u4f18\u5316\u7d22\u5f15\uff1a</p> <ul> <li>\u7d22\u5f15 \u662f\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\u7684\u4e3b\u8981\u624b\u6bb5\uff0c\u901a\u8fc7\u5728\u5e38\u7528\u7684\u67e5\u8be2\u5217\u4e0a\u521b\u5efa\u7d22\u5f15\uff0c\u53ef\u4ee5\u5927\u5e45\u51cf\u5c11\u67e5\u8be2\u65f6\u95f4\u3002</li> <li>\u7d22\u5f15\u7b56\u7565\uff1a</li> <li>\u4e3a\u5e38\u7528\u7684\u67e5\u8be2\u6761\u4ef6\uff08\u5982 WHERE \u5b50\u53e5\u4e2d\u7684\u5217\uff09\u521b\u5efa\u7d22\u5f15\u3002</li> <li>\u4f7f\u7528\u590d\u5408\u7d22\u5f15\u5904\u7406\u591a\u4e2a\u6761\u4ef6\u7ec4\u5408\u67e5\u8be2\u3002</li> <li>\u907f\u514d\u4e3a\u9891\u7e41\u66f4\u65b0\u7684\u5217\u521b\u5efa\u7d22\u5f15\uff0c\u56e0\u4e3a\u66f4\u65b0\u64cd\u4f5c\u4f1a\u964d\u4f4e\u6027\u80fd\u3002</li> <li>\u7d22\u5f15\u7684\u67e5\u8be2\u4f18\u5316\uff1a   <code>sql   EXPLAIN SELECT * FROM table_name WHERE column1 = 'value';</code></li> <li>\u4f7f\u7528 <code>EXPLAIN</code> \u5206\u6790\u67e5\u8be2\u8ba1\u5212\uff0c\u786e\u4fdd\u67e5\u8be2\u80fd\u591f\u4f7f\u7528\u7d22\u5f15\u3002</li> </ul> </li> <li> <p>\u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a</p> <ul> <li>\u7b80\u5316 SQL \u8bed\u53e5\uff1a\u907f\u514d\u590d\u6742\u7684\u5b50\u67e5\u8be2\uff0c\u5c3d\u91cf\u4f7f\u7528\u7b80\u5355\u7684 JOIN \u64cd\u4f5c\u3002</li> <li>\u907f\u514d\u5168\u8868\u626b\u63cf\uff1a\u4f7f\u7528\u7d22\u5f15\u66ff\u4ee3\u5168\u8868\u626b\u63cf\uff0c\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</li> <li>\u5206\u9875\u67e5\u8be2\uff1a\u5728\u5927\u6570\u636e\u96c6\u5206\u9875\u67e5\u8be2\u65f6\uff0c\u4f7f\u7528\u7d22\u5f15\u4f18\u5316\u5206\u9875\uff0c\u907f\u514d\u5927\u91cf\u6570\u636e\u504f\u79fb\u3002   <code>sql   SELECT * FROM table_name WHERE id &gt; 1000 LIMIT 10;</code></li> </ul> </li> <li> <p>\u67e5\u8be2\u7f13\u5b58\uff1a</p> <ul> <li>\u542f\u7528\u67e5\u8be2\u7f13\u5b58\uff1aMySQL \u63d0\u4f9b\u67e5\u8be2\u7f13\u5b58\u529f\u80fd\uff0c\u53ef\u4ee5\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\uff0c\u51cf\u5c11\u76f8\u540c\u67e5\u8be2\u7684\u91cd\u590d\u6267\u884c\u3002</li> <li>\u914d\u7f6e\u67e5\u8be2\u7f13\u5b58\uff1a   <code>sql   SET GLOBAL query_cache_size = 1048576; -- 1MB   SET GLOBAL query_cache_type = ON;</code></li> <li>\u67e5\u8be2\u7f13\u5b58\u5931\u6548\uff1a\u5f53\u8868\u6570\u636e\u88ab\u4fee\u6539\u65f6\uff0c\u76f8\u5173\u7684\u67e5\u8be2\u7f13\u5b58\u4f1a\u81ea\u52a8\u5931\u6548\u3002</li> </ul> </li> <li> <p>\u8c03\u6574\u6570\u636e\u5e93\u914d\u7f6e\u53c2\u6570\uff1a</p> <ul> <li>\u8c03\u6574\u5185\u5b58\u4f7f\u7528\uff1a\u9002\u5f53\u589e\u52a0 <code>innodb_buffer_pool_size</code> \u548c <code>key_buffer_size</code>\uff0c\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\uff0c\u51cf\u5c11\u78c1\u76d8 I/O\u3002</li> <li>\u4f18\u5316\u8fde\u63a5\u6570\uff1a\u8c03\u6574 <code>max_connections</code>\uff0c\u786e\u4fdd\u6570\u636e\u5e93\u5728\u9ad8\u5e76\u53d1\u4e0b\u7a33\u5b9a\u8fd0\u884c\u3002</li> </ul> </li> <li> <p>\u8868\u7ed3\u6784\u4f18\u5316\uff1a</p> <ul> <li>\u5782\u76f4\u62c6\u5206\uff1a\u5c06\u4e00\u4e2a\u8868\u4e2d\u8f83\u5927\u7684\u5217\u5355\u72ec\u62c6\u5206\u5230\u65b0\u8868\uff0c\u51cf\u5c11\u67e5\u8be2\u7684\u6570\u636e\u91cf\u3002</li> <li>\u6c34\u5e73\u62c6\u5206\uff1a\u5c06\u6570\u636e\u91cf\u5927\u7684\u8868\u6309\u4e00\u5b9a\u89c4\u5219\u62c6\u5206\u4e3a\u591a\u4e2a\u8868\uff0c\u51cf\u5c11\u5355\u8868\u7684\u6570\u636e\u91cf\uff0c\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u7d22\u5f15\u4f18\u5316\u3001\u67e5\u8be2\u8bed\u53e5\u4f18\u5316\u3001\u7f13\u5b58\u4f7f\u7528\u548c\u6570\u636e\u5e93\u914d\u7f6e\u8c03\u6574\u7b49\u624b\u6bb5\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u5347 MySQL \u6570\u636e\u5e93\u7684\u67e5\u8be2\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#68-mysql","title":"68. \u5982\u4f55\u5728 MySQL \u4e2d\u8bbe\u8ba1\u9ad8\u53ef\u7528\u6027\u67b6\u6784\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u9ad8\u53ef\u7528\u6027\uff08HA\uff09 \u662f\u786e\u4fdd\u6570\u636e\u5e93\u5728\u5404\u79cd\u6545\u969c\u60c5\u51b5\u4e0b\u80fd\u591f\u6301\u7eed\u63d0\u4f9b\u670d\u52a1\u7684\u80fd\u529b\u3002\u8bbe\u8ba1 MySQL \u9ad8\u53ef\u7528\u6027\u67b6\u6784\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u7b56\u7565\uff1a</p> <ol> <li> <p>\u4e3b\u4ece\u590d\u5236\uff08Master-Slave Replication\uff09\uff1a</p> <ul> <li>\u5f02\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u7684\u66f4\u65b0\u64cd\u4f5c\u5f02\u6b65\u5730\u590d\u5236\u5230\u4ece\u5e93\uff0c\u9002\u5408\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\u3002</li> <li>\u534a\u540c\u6b65\u590d\u5236\uff1a\u4e3b\u5e93\u5728\u5199\u64cd\u4f5c\u63d0\u4ea4\u4e4b\u524d\u7b49\u5f85\u81f3\u5c11\u4e00\u4e2a\u4ece\u5e93\u786e\u8ba4\uff0c\u786e\u4fdd\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u3002</li> <li>\u4f18\u70b9\uff1a\u901a\u8fc7\u4ece\u5e93\u8fdb\u884c\u8bfb\u5199\u5206\u79bb\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u541e\u5410\u91cf\u548c\u5bb9\u707e\u80fd\u529b\u3002</li> <li>\u7f3a\u70b9\uff1a\u590d\u5236\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> </ul> </li> <li> <p>\u53cc\u4e3b\u590d\u5236\uff08Master-Master Replication\uff09\uff1a</p> <ul> <li>\u7279\u70b9\uff1a\u4e24\u4e2a\u4e3b\u5e93\u76f8\u4e92\u590d\u5236\uff0c\u4efb\u610f\u4e00\u4e2a\u4e3b\u5e93\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002</li> <li>\u4f18\u70b9\uff1a\u63d0\u9ad8\u7cfb\u7edf\u7684\u53ef\u7528\u6027\uff0c\u5f53\u4e00\u4e2a\u4e3b\u5e93\u6545\u969c\u65f6\uff0c\u53e6\u4e00\u4e2a\u4e3b\u5e93\u53ef\u4ee5\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\u3002</li> <li>\u7f3a\u70b9\uff1a\u9700\u8981\u5904\u7406\u51b2\u7a81\u95ee\u9898\uff0c\u5982\u4e3b\u5e93\u4e4b\u95f4\u7684\u51b2\u7a81\u5199\u64cd\u4f5c\u3002</li> </ul> </li> <li> <p>\u5206\u5e03\u5f0f\u67b6\u6784\uff1a</p> <ul> <li>Sharding\uff08\u5206\u7247\uff09\uff1a\u5c06\u6570\u636e\u6c34\u5e73\u5206\u7247\uff0c\u5206\u5e03\u5230\u591a\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u4e2d\uff0c\u9002\u5408\u5927\u6570\u636e\u91cf\u7684\u5e94\u7528\u573a\u666f\u3002</li> <li>\u4f18\u70b9\uff1a\u89e3\u51b3\u5355\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u7684\u6027\u80fd\u74f6\u9888\uff0c\u652f\u6301\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u548c\u9ad8\u5e76\u53d1\u5904\u7406\u3002</li> <li>\u7f3a\u70b9\uff1a\u590d\u6742\u5ea6\u589e\u52a0\uff0c\u9700\u8981\u89e3\u51b3\u8de8\u5206\u7247\u7684\u67e5\u8be2\u548c\u4e8b\u52a1\u95ee\u9898\u3002</li> </ul> </li> <li> <p>\u57fa\u4e8e Proxy \u7684\u8bfb\u5199\u5206\u79bb\uff1a</p> <ul> <li>MySQL Proxy\uff1a\u901a\u8fc7\u4ee3\u7406\u5c42\u5c06\u5199\u64cd\u4f5c\u5b9a\u5411\u5230\u4e3b\u5e93\uff0c\u8bfb\u64cd\u4f5c\u5b9a\u5411\u5230\u4ece\u5e93\uff0c\u5b9e\u73b0\u900f\u660e\u7684\u8bfb\u5199\u5206\u79bb\u3002</li> <li>\u4f18\u70b9\uff1a\u5e94\u7528\u7a0b\u5e8f\u65e0\u9700\u4fee\u6539\uff0c\u7cfb\u7edf\u81ea\u52a8\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\uff0c\u63d0\u5347\u6027\u80fd\u3002</li> <li>\u7f3a\u70b9\uff1a\u4ee3\u7406\u5c42\u6210\u4e3a\u5355\u70b9\u6545\u969c\uff0c\u9700\u8981\u4fdd\u8bc1\u4ee3\u7406\u5c42\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> </ul> </li> <li> <p>\u9ad8\u53ef\u7528\u6027\u96c6\u7fa4\uff1a</p> <ul> <li>MySQL Group Replication\uff1a\u63d0\u4f9b\u591a\u4e3b\u6a21\u5f0f\u7684\u9ad8\u53ef\u7528\u6027\u96c6\u7fa4\uff0c\u6240\u6709\u8282\u70b9\u90fd\u53ef\u4ee5\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u81ea\u52a8\u5904\u7406\u51b2\u7a81\u3002</li> <li>MySQL InnoDB Cluster\uff1a\u57fa\u4e8e Group Replication \u63d0\u4f9b\u7684\u9ad8\u53ef\u7528\u6027\u89e3\u51b3\u65b9\u6848\uff0c\u96c6\u6210\u4e86\u7ba1\u7406\u548c\u76d1\u63a7\u5de5\u5177\uff0c\u7b80\u5316\u4e86\u96c6\u7fa4\u90e8\u7f72\u548c\u7ba1\u7406\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u9ad8\u53ef\u7528\u6027\u67b6\u6784\uff0c\u5982\u4e3b\u4ece\u590d\u5236\u3001\u53cc\u4e3b\u590d\u5236\u3001\u5206\u5e03\u5f0f\u67b6\u6784\u548c\u96c6\u7fa4\u65b9\u6848\u7b49\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 MySQL \u6570\u636e\u5e93\u7684\u53ef\u7528\u6027\u548c\u5bb9\u707e\u80fd\u529b\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#69-mysql-view","title":"69. MySQL \u4e2d\u7684\u89c6\u56fe\uff08VIEW\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u89c6\u56fe\uff08VIEW\uff09 \u662f\u4e00\u79cd\u865a\u62df\u8868\uff0c\u5b83\u7531\u67e5\u8be2\u7ed3\u679c\u7ec4\u6210\uff0c\u53ef\u4ee5\u50cf\u8868\u4e00\u6837\u88ab\u67e5\u8be2\u548c\u64cd\u4f5c\u3002</li> <li>\u521b\u5efa\u89c6\u56fe\uff1a      <code>sql      CREATE VIEW view_name AS      SELECT column1, column2      FROM table_name      WHERE condition;</code></li> <li>\u4f7f\u7528\u89c6\u56fe\uff1a<ul> <li>\u67e5\u8be2\u89c6\u56fe\uff1a\u89c6\u56fe\u53ef\u4ee5\u50cf\u666e\u901a\u8868\u4e00\u6837\u8fdb\u884c\u67e5\u8be2\u64cd\u4f5c\u3002    <code>sql    SELECT * FROM view_name;</code></li> <li>\u66f4\u65b0\u89c6\u56fe\uff1a\u5728\u67d0\u4e9b\u6761\u4ef6\u4e0b\uff0c\u53ef\u4ee5\u5bf9\u89c6\u56fe\u8fdb\u884c\u66f4\u65b0\u3001\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u3002    <code>sql    INSERT INTO view_name (column1, column2) VALUES (value1, value2);</code></li> <li>\u89c6\u56fe\u7684\u4f18\u70b9\uff1a</li> <li>\u7b80\u5316\u590d\u6742\u67e5\u8be2\uff1a\u5c06\u590d\u6742\u67e5\u8be2\u5c01\u88c5\u5728\u89c6\u56fe\u4e2d\uff0c\u7b80\u5316\u5e94\u7528\u5c42\u4ee3\u7801\u3002</li> <li>\u6570\u636e\u5b89\u5168\u6027\uff1a\u901a\u8fc7\u89c6\u56fe\u9650\u5236\u7528\u6237\u53ea\u80fd\u8bbf\u95ee\u7279\u5b9a\u7684\u6570\u636e\uff0c\u589e\u5f3a\u6570\u636e\u5b89\u5168\u6027\u3002</li> <li>\u6570\u636e\u62bd\u8c61\uff1a\u89c6\u56fe\u53ef\u4ee5\u5c4f\u853d\u5e95\u5c42\u8868\u7ed3\u6784\u7684\u53d8\u5316\uff0c\u63d0\u4f9b\u7a33\u5b9a\u7684\u6570\u636e\u63a5\u53e3\u3002</li> </ul> </li> </ul> <p>\u603b\u7ed3\uff1a\u89c6\u56fe\u662f MySQL \u63d0\u4f9b\u7684\u4e00\u79cd\u65b9\u4fbf\u7684\u6570\u636e\u62bd\u8c61\u5c42\uff0c\u901a\u8fc7\u5408\u7406\u8bbe\u8ba1\u548c\u4f7f\u7528\u89c6\u56fe\uff0c\u53ef\u4ee5\u7b80\u5316\u67e5\u8be2\u64cd\u4f5c\u3001\u589e\u5f3a\u6570\u636e\u5b89\u5168\u6027\uff0c\u5e76\u63d0\u4f9b\u7a33\u5b9a\u7684\u63a5\u53e3\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#70-mysql-partitioning","title":"70. \u5982\u4f55\u5728 MySQL \u4e2d\u8fdb\u884c\u5206\u533a\uff08Partitioning\uff09\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5206\u533a \u662f\u5c06\u8868\u7684\u6570\u636e\u6c34\u5e73\u5207\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\uff0c\u6bcf\u4e2a\u90e8\u5206\u79f0\u4e3a\u4e00\u4e2a\u5206\u533a\u3002</li> <li>\u5206\u533a\u7c7b\u578b\uff1a<ol> <li>RANGE \u5206\u533a\uff1a\u6839\u636e\u5217\u503c\u7684\u8303\u56f4\u8fdb\u884c\u5206\u533a\u3002     <code>sql     CREATE TABLE table_name (       id INT,       name VARCHAR(50),       created_at DATE     ) PARTITION BY RANGE (YEAR(created_at)) (       PARTITION p0 VALUES LESS THAN (2000),       PARTITION p1 VALUES LESS THAN (2010),       PARTITION p2 VALUES LESS THAN (2020)     );</code></li> <li>LIST \u5206\u533a\uff1a\u6839\u636e\u5217\u503c\u7684\u5217\u8868\u8fdb\u884c\u5206\u533a\u3002     <code>sql     CREATE TABLE table_name (       id INT,       region VARCHAR(50)     ) PARTITION BY LIST (region) (       PARTITION p0 VALUES IN ('North', 'East'),       PARTITION p1 VALUES IN ('West', 'South')     );</code></li> <li>HASH \u5206\u533a\uff1a\u6839\u636e\u5217\u503c\u7684\u54c8\u5e0c\u503c\u8fdb\u884c\u5206\u533a\u3002     <code>sql     CREATE TABLE table_name (       id INT,       name VARCHAR(50)     ) PARTITION BY HASH (id) PARTITIONS 4;</code></li> <li>KEY \u5206\u533a\uff1a\u7c7b\u4f3c HASH \u5206\u533a\uff0c\u4f46\u4f7f\u7528 MySQL \u81ea\u5b9a\u4e49\u7684\u54c8\u5e0c\u51fd\u6570\u3002     <code>sql     CREATE TABLE table_name (       id INT,       name VARCHAR(50)     ) PARTITION BY KEY(id) PARTITIONS 4;</code></li> </ol> </li> <li>\u5206\u533a\u7684\u4f18\u70b9\uff1a<ol> <li>\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff1a\u901a\u8fc7\u5c06\u6570\u636e\u5206\u5e03\u5230\u591a\u4e2a\u5206\u533a\uff0c\u51cf\u5c11\u5355\u6b21\u67e5\u8be2\u7684\u6570\u636e\u91cf\uff0c\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\u3002</li> <li>\u4fbf\u4e8e\u7ba1\u7406\uff1a\u53ef\u4ee5\u5355\u72ec\u7ba1\u7406\u548c\u5907\u4efd\u5206\u533a\u6570\u636e\uff0c\u63d0\u9ad8\u6570\u636e\u7ef4\u62a4\u7684\u7075\u6d3b\u6027\u3002</li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u901a\u8fc7\u5206\u533a\u6280\u672f\uff0c\u53ef\u4ee5\u5c06\u6570\u636e\u5e93\u8d1f\u8f7d\u5747\u5300\u5206\u5e03\u5230\u591a\u4e2a\u78c1\u76d8\u6216\u670d\u52a1\u5668\u4e0a\uff0c\u63d0\u5347\u7cfb\u7edf\u6027\u80fd\u3002</li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u5408\u7406\u7684\u5206\u533a\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u6709\u6548\u63d0\u5347 MySQL \u6570\u636e\u5e93\u7684\u67e5\u8be2\u6027\u80fd\u548c\u6570\u636e\u7ba1\u7406\u7684\u7075\u6d3b\u6027\uff0c\u5c24\u5176\u5728\u5927\u6570\u636e\u91cf\u573a\u666f\u4e0b\uff0c\u5206\u533a\u6280\u672f\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5de5\u5177\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#71-mysql","title":"71. \u5982\u4f55\u4f7f\u7528 MySQL \u8fdb\u884c\u5168\u6587\u641c\u7d22\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u5168\u6587\u641c\u7d22\uff08Full-Text Search\uff09 \u662f MySQL \u63d0\u4f9b\u7684\u57fa\u4e8e\u6587\u672c\u5185\u5bb9\u7684\u641c\u7d22\u529f\u80fd\uff0c\u9002\u5408\u5927\u6587\u672c\u6570\u636e\u7684\u68c0\u7d22\u9700\u6c42\u3002</li> <li>\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff1a      <code>sql      CREATE TABLE articles (        id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,        title VARCHAR(200),        body TEXT,        FULLTEXT (title, body)      );</code></li> <li>\u6267\u884c\u5168\u6587\u641c\u7d22\uff1a<ul> <li>\u4f7f\u7528 <code>MATCH ... AGAINST</code> \u8bed\u6cd5\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002  <code>sql  SELECT * FROM articles  WHERE MATCH(title, body) AGAINST('MySQL Full-Text Search' IN NATURAL LANGUAGE MODE);</code></li> </ul> </li> <li>\u5168\u6587\u641c\u7d22\u6a21\u5f0f\uff1a<ol> <li>\u81ea\u7136\u8bed\u8a00\u6a21\u5f0f\uff1a\u9ed8\u8ba4\u6a21\u5f0f\uff0c\u4e0d\u9700\u8981\u5e03\u5c14\u8fd0\u7b97\u7b26\uff0c\u9002\u5408\u666e\u901a\u6587\u672c\u641c\u7d22\u3002</li> <li>\u5e03\u5c14\u6a21\u5f0f\uff1a\u652f\u6301\u4f7f\u7528 <code>+</code>\u3001<code>-</code> \u7b49\u5e03\u5c14\u8fd0\u7b97\u7b26\u8fdb\u884c\u7cbe\u786e\u5339\u914d\u3002     <code>sql     SELECT * FROM articles     WHERE MATCH(title, body) AGAINST('+MySQL -Search' IN BOOLEAN MODE);</code></li> <li>\u67e5\u8be2\u6269\u5c55\u6a21\u5f0f\uff1a\u57fa\u4e8e\u521d\u59cb\u641c\u7d22\u7ed3\u679c\u8fdb\u884c\u76f8\u5173\u6027\u6269\u5c55\uff0c\u83b7\u53d6\u66f4\u591a\u5339\u914d\u9879\u3002     <code>sql     SELECT * FROM articles     WHERE MATCH(title, body) AGAINST('MySQL' WITH QUERY EXPANSION);</code></li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u7684\u5168\u6587\u641c\u7d22\u529f\u80fd\u53ef\u4ee5\u9ad8\u6548\u5730\u68c0\u7d22\u5927\u6587\u672c\u6570\u636e\uff0c\u901a\u8fc7\u5408\u7406\u914d\u7f6e\u5168\u6587\u7d22\u5f15\u548c\u9009\u62e9\u5408\u9002\u7684\u641c\u7d22\u6a21\u5f0f\uff0c\u80fd\u591f\u6ee1\u8db3\u590d\u6742\u7684\u6587\u672c\u641c\u7d22\u9700\u6c42\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#72-mysql-order-by-group-by","title":"72. \u5982\u4f55\u5728 MySQL \u4e2d\u4f18\u5316 ORDER BY \u548c GROUP BY \u7684\u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p><code>ORDER BY</code> \u548c <code>GROUP BY</code> \u662f MySQL \u67e5\u8be2\u4e2d\u5e38\u89c1\u7684\u64cd\u4f5c\uff0c\u4f18\u5316\u8fd9\u4e24\u79cd\u64cd\u4f5c\u53ef\u4ee5\u663e\u8457\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f18\u5316\u7b56\u7565\uff1a</p> <ol> <li> <p>\u5229\u7528\u7d22\u5f15\u4f18\u5316 <code>ORDER BY</code>\uff1a</p> <ul> <li>\u5f53 <code>ORDER BY</code> \u4e2d\u7684\u5217\u5df2\u7ecf\u88ab\u7d22\u5f15\u8986\u76d6\u65f6\uff0cMySQL \u53ef\u4ee5\u76f4\u63a5\u5229\u7528\u7d22\u5f15\u987a\u5e8f\u8fd4\u56de\u7ed3\u679c\uff0c\u800c\u4e0d\u9700\u8981\u989d\u5916\u7684\u6392\u5e8f\u64cd\u4f5c\u3002</li> <li>\u5355\u5217\u7d22\u5f15\uff1a\u5f53 <code>ORDER BY</code> \u4e2d\u53ea\u6709\u4e00\u4e2a\u5217\u65f6\uff0c\u786e\u4fdd\u8be5\u5217\u6709\u7d22\u5f15\u3002   <code>sql   SELECT * FROM table_name ORDER BY indexed_column;</code></li> <li>\u591a\u5217\u7d22\u5f15\uff1a\u5f53 <code>ORDER BY</code> \u6d89\u53ca\u591a\u4e2a\u5217\u65f6\uff0c\u786e\u4fdd\u8fd9\u4e9b\u5217\u6709\u590d\u5408\u7d22\u5f15\u3002   <code>sql   CREATE INDEX idx_order ON table_name (column1, column2);   SELECT * FROM table_name ORDER BY column1, column2;</code></li> <li>\u524d\u7f00\u7d22\u5f15\uff1a\u5728\u4f7f\u7528\u5b57\u7b26\u4e32\u5217\u8fdb\u884c\u6392\u5e8f\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u524d\u7f00\u7d22\u5f15\u6765\u51cf\u5c11\u7d22\u5f15\u5927\u5c0f\uff0c\u4f46\u9700\u8981\u6ce8\u610f\u524d\u7f00\u7d22\u5f15\u4e0d\u80fd\u5b8c\u5168\u4f18\u5316 <code>ORDER BY</code>\u3002</li> </ul> </li> <li> <p>\u4f18\u5316 <code>GROUP BY</code>\uff1a</p> <ul> <li><code>GROUP BY</code> \u4f1a\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7ec4\u548c\u6392\u5e8f\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f18\u5316\u7d22\u5f15\u548c\u67e5\u8be2\u8bed\u53e5\u6765\u63d0\u5347\u6027\u80fd\u3002</li> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u786e\u4fdd <code>GROUP BY</code> \u4e2d\u7684\u5217\u6709\u7d22\u5f15\uff0cMySQL \u53ef\u4ee5\u5229\u7528\u7d22\u5f15\u8fdb\u884c\u5206\u7ec4\u800c\u4e0d\u9700\u8981\u989d\u5916\u7684\u6392\u5e8f\u64cd\u4f5c\u3002   <code>sql   CREATE INDEX idx_group ON table_name (group_column);   SELECT group_column, COUNT(*) FROM table_name GROUP BY group_column;</code></li> <li>\u907f\u514d\u6587\u4ef6\u6392\u5e8f\uff1a\u901a\u8fc7\u4f7f\u7528 <code>ORDER BY NULL</code> \u6765\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u6392\u5e8f\u64cd\u4f5c\uff0c\u5c24\u5176\u5728\u4e0d\u5173\u5fc3\u7ed3\u679c\u96c6\u987a\u5e8f\u65f6\u3002   <code>sql   SELECT group_column, COUNT(*) FROM table_name GROUP BY group_column ORDER BY NULL;</code></li> </ul> </li> <li> <p>\u51cf\u5c11\u6392\u5e8f\u548c\u5206\u7ec4\u7684\u6570\u636e\u91cf\uff1a</p> <ul> <li>\u63d0\u524d\u8fc7\u6ee4\u6570\u636e\uff1a\u5728 <code>ORDER BY</code> \u548c <code>GROUP BY</code> \u4e4b\u524d\u5c3d\u53ef\u80fd\u8fc7\u6ee4\u6389\u4e0d\u5fc5\u8981\u7684\u6570\u636e\uff0c\u51cf\u5c11\u53c2\u4e0e\u6392\u5e8f\u548c\u5206\u7ec4\u7684\u6570\u636e\u91cf\u3002</li> <li>\u5206\u9875\u5904\u7406\uff1a\u5728\u5927\u6570\u636e\u91cf\u6392\u5e8f\u65f6\uff0c\u901a\u8fc7\u5206\u9875\u5904\u7406\u6765\u51cf\u5c11\u4e00\u6b21\u6027\u6392\u5e8f\u7684\u6570\u636e\u91cf\u3002</li> </ul> </li> <li> <p>\u4f7f\u7528\u4e34\u65f6\u8868\u4f18\u5316\u590d\u6742\u67e5\u8be2\uff1a</p> <ul> <li>\u5bf9\u4e8e\u590d\u6742\u7684 <code>ORDER BY</code> \u6216 <code>GROUP BY</code> \u67e5\u8be2\uff0c\u53ef\u4ee5\u5c06\u4e2d\u95f4\u7ed3\u679c\u5b58\u5165\u4e34\u65f6\u8868\uff0c\u518d\u8fdb\u884c\u6392\u5e8f\u6216\u5206\u7ec4\u64cd\u4f5c\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8d44\u6e90\u5360\u7528\u3002 <code>sql CREATE TEMPORARY TABLE temp_table AS SELECT * FROM table_name WHERE condition; SELECT * FROM temp_table ORDER BY column_name;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u901a\u8fc7\u5408\u7406\u7684\u7d22\u5f15\u8bbe\u8ba1\u3001\u67e5\u8be2\u8bed\u53e5\u4f18\u5316\u548c\u6570\u636e\u91cf\u63a7\u5236\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u5347 <code>ORDER BY</code> \u548c <code>GROUP BY</code> \u67e5\u8be2\u7684\u6027\u80fd\uff0c\u7279\u522b\u662f\u5728\u5927\u6570\u636e\u91cf\u573a\u666f\u4e0b\uff0c\u4f18\u5316\u6548\u679c\u5c24\u4e3a\u660e\u663e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#73-mysql-composite-index","title":"73. MySQL \u4e2d\u7684\u8054\u5408\u7d22\u5f15\uff08Composite Index\uff09\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u8bbe\u8ba1\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li>\u8054\u5408\u7d22\u5f15\uff08Composite Index\uff09 \u662f\u6307\u5728 MySQL \u4e2d\u5bf9\u591a\u4e2a\u5217\u4e00\u8d77\u521b\u5efa\u7684\u7d22\u5f15\uff0c\u8fd9\u4e9b\u5217\u7684\u7ec4\u5408\u4f1a\u88ab\u5b58\u50a8\u5728\u4e00\u4e2a\u7d22\u5f15\u4e2d\uff0c\u4ee5\u52a0\u901f\u9488\u5bf9\u8fd9\u4e9b\u5217\u7684\u67e5\u8be2\u64cd\u4f5c\u3002</li> <li>\u521b\u5efa\u8054\u5408\u7d22\u5f15\uff1a      <code>sql      CREATE INDEX idx_composite ON table_name (column1, column2, column3);</code></li> <li> <p>\u4f7f\u7528\u8054\u5408\u7d22\u5f15\u7684\u67e5\u8be2\u4f18\u5316\uff1a</p> <ol> <li> <p>\u6700\u5de6\u524d\u7f00\u5339\u914d\u539f\u5219\uff1a</p> <ul> <li>MySQL \u4f7f\u7528\u8054\u5408\u7d22\u5f15\u65f6\uff0c\u4f1a\u6839\u636e\u7d22\u5f15\u5217\u7684\u987a\u5e8f\u5339\u914d\u67e5\u8be2\u6761\u4ef6\uff0c\u4ece\u5de6\u5230\u53f3\u9010\u4e00\u5339\u914d\u3002</li> <li>\u4f8b\u5982\uff0c\u7d22\u5f15 <code>idx_composite(column1, column2, column3)</code> \u53ef\u4ee5\u4f18\u5316\u4ee5\u4e0b\u67e5\u8be2\uff1a   <code>sql   SELECT * FROM table_name WHERE column1 = 'value1';   SELECT * FROM table_name WHERE column1 = 'value1' AND column2 = 'value2';   SELECT * FROM table_name WHERE column1 = 'value1' AND column2 = 'value2' AND column3 = 'value3';</code></li> <li>\u4f46\u5982\u679c\u67e5\u8be2\u4e2d\u53ea\u5305\u542b <code>column2</code> \u548c <code>column3</code>\uff0c\u5219\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\u3002</li> </ul> </li> <li> <p>\u8986\u76d6\u7d22\u5f15\uff1a</p> <ul> <li>\u5982\u679c\u8054\u5408\u7d22\u5f15\u7684\u5217\u80fd\u591f\u8986\u76d6\u67e5\u8be2\u4e2d\u7684\u6240\u6709\u5217\uff0cMySQL \u53ef\u4ee5\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u8fd4\u56de\u6570\u636e\uff0c\u800c\u4e0d\u9700\u8981\u8bbf\u95ee\u8868\uff0c\u79f0\u4e3a\u201c\u8986\u76d6\u7d22\u5f15\u201d\u3002 <code>sql SELECT column1, column2 FROM table_name WHERE column1 = 'value1';</code></li> </ul> </li> <li> <p>\u8bbe\u8ba1\u539f\u5219\uff1a</p> <ul> <li>\u9009\u62e9\u6027\u9ad8\u7684\u5217\u5728\u524d\uff1a\u5c06\u9009\u62e9\u6027\uff08\u4e0d\u91cd\u590d\u7684\u503c\u7684\u6570\u91cf\uff09\u9ad8\u7684\u5217\u653e\u5728\u8054\u5408\u7d22\u5f15\u7684\u524d\u9762\uff0c\u80fd\u66f4\u597d\u5730\u4f18\u5316\u67e5\u8be2\u3002</li> <li>\u8003\u8651\u67e5\u8be2\u7684\u9891\u7387\uff1a\u6839\u636e\u5b9e\u9645\u67e5\u8be2\u60c5\u51b5\uff0c\u9891\u7e41\u51fa\u73b0\u5728 WHERE \u5b50\u53e5\u4e2d\u7684\u5217\u5e94\u8be5\u4f18\u5148\u653e\u5728\u8054\u5408\u7d22\u5f15\u7684\u524d\u9762\u3002</li> <li>\u4f18\u5316\u6392\u5e8f\uff1a\u5982\u679c\u67e5\u8be2\u4e2d\u6709\u6392\u5e8f\u64cd\u4f5c\uff0c\u5e94\u8be5\u5c06\u6392\u5e8f\u5217\u5305\u542b\u5728\u8054\u5408\u7d22\u5f15\u4e2d\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5408\u7406\u8bbe\u8ba1\u548c\u4f7f\u7528\u8054\u5408\u7d22\u5f15\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8 MySQL \u6570\u636e\u5e93\u7684\u67e5\u8be2\u6027\u80fd\uff0c\u7279\u522b\u662f\u5728\u591a\u6761\u4ef6\u67e5\u8be2\u548c\u6392\u5e8f\u573a\u666f\u4e2d\uff0c\u8054\u5408\u7d22\u5f15\u7684\u4f18\u5316\u6548\u679c\u5c24\u4e3a\u663e\u8457\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#74-mysql-innodb-myisam","title":"74. MySQL \u4e2d\u7684 InnoDB \u548c MyISAM \u5b58\u50a8\u5f15\u64ce\u6709\u54ea\u4e9b\u533a\u522b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>InnoDB \u548c MyISAM \u662f MySQL \u4e2d\u6700\u5e38\u7528\u7684\u4e24\u79cd\u5b58\u50a8\u5f15\u64ce\uff0c\u5b83\u4eec\u5728\u6570\u636e\u5b58\u50a8\u3001\u4e8b\u52a1\u5904\u7406\u548c\u6027\u80fd\u7b49\u65b9\u9762\u6709\u663e\u8457\u533a\u522b\uff1a</p> <ol> <li> <p>\u4e8b\u52a1\u652f\u6301\uff1a</p> <ul> <li>InnoDB\uff1a\u652f\u6301\u4e8b\u52a1\u5904\u7406\uff0c\u5177\u6709 ACID\uff08Atomicity, Consistency, Isolation, Durability\uff09\u7279\u6027\uff0c\u901a\u8fc7 <code>COMMIT</code> \u548c <code>ROLLBACK</code> \u64cd\u4f5c\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</li> <li>MyISAM\uff1a\u4e0d\u652f\u6301\u4e8b\u52a1\u5904\u7406\uff0c\u6240\u6709\u64cd\u4f5c\u7acb\u5373\u751f\u6548\uff0c\u65e0\u6cd5\u56de\u6eda\u3002</li> </ul> </li> <li> <p>\u9501\u673a\u5236\uff1a</p> <ul> <li>InnoDB\uff1a\u652f\u6301\u884c\u7ea7\u9501\uff08Row-level locking\uff09\uff0c\u80fd\u591f\u5e76\u53d1\u5904\u7406\u591a\u4e2a\u4e8b\u52a1\uff0c\u51cf\u5c11\u9501\u7ade\u4e89\uff0c\u63d0\u9ad8\u6027\u80fd\u3002</li> <li>MyISAM\uff1a\u4f7f\u7528\u8868\u7ea7\u9501\uff08Table-level locking\uff09\uff0c\u5728\u6267\u884c\u5199\u64cd\u4f5c\u65f6\u9501\u5b9a\u6574\u4e2a\u8868\uff0c\u53ef\u80fd\u5bfc\u81f4\u5e76\u53d1\u6027\u80fd\u8f83\u4f4e\u3002</li> </ul> </li> <li> <p>\u5916\u952e\u652f\u6301\uff1a</p> <ul> <li>InnoDB\uff1a\u652f\u6301\u5916\u952e\u7ea6\u675f\uff0c\u80fd\u591f\u4fdd\u8bc1\u6570\u636e\u7684\u53c2\u7167\u5b8c\u6574\u6027\u3002</li> <li>MyISAM\uff1a\u4e0d\u652f\u6301\u5916\u952e\u7ea6\u675f\uff0c\u9700\u8981\u5728\u5e94\u7528\u5c42\u9762\u4fdd\u8bc1\u6570\u636e\u7684\u53c2\u7167\u5b8c\u6574\u6027\u3002</li> </ul> </li> <li> <p>\u5d29\u6e83\u6062\u590d\uff1a</p> <ul> <li>InnoDB\uff1a\u5177\u6709\u5d29\u6e83\u6062\u590d\u80fd\u529b\uff0c\u4f7f\u7528\u91cd\u505a\u65e5\u5fd7\uff08Redo Log\uff09\u548c\u64a4\u9500\u65e5\u5fd7\uff08Undo Log\uff09\u6765\u6062\u590d\u672a\u5b8c\u6210\u7684\u4e8b\u52a1\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u6301\u4e45\u6027\u3002</li> <li>MyISAM\uff1a\u5d29\u6e83\u540e\u53ef\u80fd\u9700\u8981\u624b\u52a8\u4fee\u590d\u8868\uff0c\u6570\u636e\u6062\u590d\u80fd\u529b\u8f83\u5f31\u3002</li> </ul> </li> <li> <p>\u5168\u6587\u7d22\u5f15\uff1a</p> <ul> <li>InnoDB\uff1a\u652f\u6301\u5168\u6587\u7d22\u5f15\uff0c\u4f46\u76f8\u6bd4 MyISAM\uff0c\u5168\u6587\u7d22\u5f15\u7684\u6027\u80fd\u548c\u529f\u80fd\u7565\u6709\u4e0d\u8db3\u3002</li> <li>MyISAM\uff1a\u5728 MySQL 5.6 \u4e4b\u524d\uff0cMyISAM \u662f\u552f\u4e00\u652f\u6301\u5168\u6587\u7d22\u5f15\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u6027\u80fd\u4f18\u4e8e InnoDB\u3002</li> </ul> </li> <li> <p>\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\uff1a</p> <ul> <li>InnoDB\uff1a\u5c06\u6570\u636e\u548c\u7d22\u5f15\u5b58\u50a8\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u4e2d\uff08<code>.ibd</code> \u6587\u4ef6\uff09\uff0c\u652f\u6301\u81ea\u52a8\u6269\u5c55\u3002</li> <li>MyISAM\uff1a\u5c06\u6570\u636e\u5b58\u50a8\u5728\u72ec\u7acb\u7684 <code>.MYD</code> \u6587\u4ef6\u4e2d\uff0c\u7d22\u5f15\u5b58\u50a8\u5728 <code>.MYI</code> \u6587\u4ef6\u4e2d\uff0c\u4e0d\u652f\u6301\u81ea\u52a8\u6269\u5c55\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aInnoDB \u548c MyISAM \u5404\u6709\u4f18\u52a3\uff0cInnoDB \u66f4\u9002\u5408\u9700\u8981\u4e8b\u52a1\u5904\u7406\u3001\u9ad8\u5e76\u53d1\u548c\u6570\u636e\u4e00\u81f4\u6027\u7684\u573a\u666f\uff0c\u800c MyISAM \u5728\u8bfb\u5bc6\u96c6\u578b\u64cd\u4f5c\u548c\u5168\u6587\u7d22\u5f15\u573a\u666f\u4e2d\u53ef\u80fd\u8868\u73b0\u66f4\u4f73\u3002\u968f\u7740 MySQL \u7684\u53d1\u5c55\uff0cInnoDB \u5df2\u6210\u4e3a\u9ed8\u8ba4\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cd\u751f\u4ea7\u73af\u5883\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#75-mysql-join","title":"75. \u5982\u4f55\u4f18\u5316 MySQL \u4e2d\u7684 JOIN \u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>JOIN \u67e5\u8be2 \u7528\u4e8e\u5c06\u591a\u4e2a\u8868\u4e2d\u7684\u6570\u636e\u5173\u8054\u8d77\u6765\uff0c\u901a\u8fc7\u4f18\u5316 JOIN \u67e5\u8be2\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f18\u5316\u7b56\u7565\uff1a</p> <ol> <li> <p>\u4f7f\u7528\u5408\u9002\u7684\u7d22\u5f15\uff1a</p> <ul> <li>\u4e3a JOIN \u4e2d\u6d89\u53ca\u7684\u5217\u521b\u5efa\u7d22\u5f15\uff0c\u80fd\u591f\u663e\u8457\u51cf\u5c11\u6570\u636e\u626b\u63cf\u7684\u884c\u6570\u3002</li> <li>\u7d22\u5f15\u7684\u9009\u62e9\uff1a</li> <li>\u4e3a JOIN \u7684\u5173\u8054\u5217\u521b\u5efa\u7d22\u5f15\uff0c\u7279\u522b\u662f\u5728\u5173\u8054\u5217\u662f\u5916\u952e\u65f6\u3002</li> <li>\u5982\u679c\u6d89\u53ca\u591a\u4e2a\u8868\u7684 JOIN \u64cd\u4f5c\uff0c\u53ef\u4ee5\u8003\u8651\u4e3a\u6bcf\u4e2a\u8868\u7684\u5173\u8054\u5217\u90fd\u521b\u5efa\u7d22\u5f15\u3002 <code>sql CREATE INDEX idx_table1_column ON table1 (column_name); CREATE INDEX idx_table2_column ON table2 (column_name);</code></li> </ul> </li> <li> <p>\u907f\u514d\u5197\u4f59\u7684\u5217\uff1a</p> <ul> <li>\u5728 JOIN \u67e5\u8be2\u4e2d\uff0c\u4ec5\u9009\u62e9\u6240\u9700\u7684\u5217\uff0c\u907f\u514d SELECT * \u7684\u4f7f\u7528\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u589e\u52a0\u6570\u636e\u4f20\u8f93\u548c\u5904\u7406\u7684\u8d1f\u62c5\u3002</li> </ul> </li> <li> <p>\u51cf\u5c11\u7ed3\u679c\u96c6\u7684\u5927\u5c0f\uff1a</p> <ul> <li>\u901a\u8fc7\u589e\u52a0 WHERE \u6761\u4ef6\u3001\u4f7f\u7528 LIMIT \u6216\u5206\u9875\u7b49\u624b\u6bb5\uff0c\u51cf\u5c11 JOIN \u7ed3\u679c\u96c6\u7684\u5927\u5c0f\uff0c\u4ece\u800c\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002 <code>sql SELECT t1.column1, t2.column2 FROM table1 t1 JOIN table2 t2 ON t1.id = t2.id WHERE t1.status = 'active' LIMIT 100;</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u5c0f\u8868\u9a71\u52a8\u5927\u8868\uff1a</p> <ul> <li>\u5728 JOIN \u64cd\u4f5c\u4e2d\uff0cMySQL \u4f1a\u9009\u62e9\u4e00\u4e2a\u8868\u4f5c\u4e3a\u9a71\u52a8\u8868\uff0c\u4f18\u5148\u5904\u7406\u9a71\u52a8\u8868\u4e2d\u7684\u8bb0\u5f55\uff0c\u518d\u6839\u636e\u5173\u8054\u6761\u4ef6\u67e5\u8be2\u5176\u4ed6\u8868\u3002\u9009\u62e9\u8f83\u5c0f\u7684\u8868\u4f5c\u4e3a\u9a71\u52a8\u8868\uff0c\u53ef\u4ee5\u51cf\u5c11\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u6570\u636e\u7684\u626b\u63cf\u91cf\u3002 <code>sql SELECT t1.*, t2.* FROM small_table t1 JOIN large_table t2 ON t1.id = t2.id;</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\uff1a</p> <ul> <li>\u5982\u679c\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u83b7\u53d6\u67e5\u8be2\u7684\u6240\u6709\u5217\u6570\u636e\uff0cMySQL \u53ef\u4ee5\u76f4\u63a5\u4ece\u7d22\u5f15\u4e2d\u8fd4\u56de\u7ed3\u679c\uff0c\u907f\u514d\u8bbf\u95ee\u6570\u636e\u8868\uff0c\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\u3002 <code>sql CREATE INDEX idx_cover ON table1 (column1, column2, column3); SELECT column1, column2, column3 FROM table1 JOIN table2 ON table1.id = table2.id WHERE table1.column1 = 'value';</code></li> </ul> </li> <li> <p>\u5206\u89e3\u590d\u6742\u7684 JOIN\uff1a</p> <ul> <li>\u5bf9\u4e8e\u590d\u6742\u7684\u591a\u8868 JOIN \u67e5\u8be2\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u5c06\u5176\u5206\u89e3\u4e3a\u591a\u4e2a\u7b80\u5355\u7684\u67e5\u8be2\uff0c\u5c06\u4e2d\u95f4\u7ed3\u679c\u5b58\u50a8\u5728\u4e34\u65f6\u8868\u6216\u53d8\u91cf\u4e2d\uff0c\u518d\u8fdb\u884c JOIN \u64cd\u4f5c\uff0c\u53ef\u80fd\u4f1a\u5e26\u6765\u6027\u80fd\u7684\u63d0\u5347\u3002 <code>sql CREATE TEMPORARY TABLE temp_result AS SELECT column1, column2 FROM table1 WHERE condition; SELECT t1.*, t2.* FROM temp_result t1 JOIN table2 t2 ON t1.id = t2.id;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u4f18\u5316 MySQL \u4e2d\u7684 JOIN \u67e5\u8be2\u9700\u8981\u7ed3\u5408\u7d22\u5f15\u8bbe\u8ba1\u3001\u67e5\u8be2\u6761\u4ef6\u3001\u6570\u636e\u91cf\u7b49\u591a\u65b9\u9762\u7684\u8003\u8651\uff0c\u901a\u8fc7\u5408\u7406\u7684\u4f18\u5316\u7b56\u7565\uff0c\u53ef\u4ee5\u5927\u5e45\u63d0\u5347 JOIN \u67e5\u8be2\u7684\u6027\u80fd\uff0c\u7279\u522b\u662f\u5728\u5927\u6570\u636e\u91cf\u548c\u590d\u6742\u67e5\u8be2\u573a\u666f\u4e0b\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#76-mysql","title":"76. \u5982\u4f55\u907f\u514d MySQL \u67e5\u8be2\u4e2d\u7684\u201c\u6b7b\u9501\u201d\u95ee\u9898\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u6b7b\u9501 \u662f\u6307\u4e24\u4e2a\u6216\u591a\u4e2a\u4e8b\u52a1\u4e92\u76f8\u6301\u6709\u5bf9\u65b9\u9700\u8981\u7684\u8d44\u6e90\uff0c\u4ece\u800c\u5bfc\u81f4\u8fd9\u4e9b\u4e8b\u52a1\u90fd\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u7684\u73b0\u8c61\u3002\u5728 MySQL \u4e2d\uff0c\u5c24\u5176\u662f\u5728 InnoDB \u5b58\u50a8\u5f15\u64ce\u4e2d\uff0c\u7531\u4e8e\u652f\u6301\u884c\u7ea7\u9501\uff0c\u6b7b\u9501\u95ee\u9898\u65f6\u6709\u53d1\u751f\u3002\u4e3a\u4e86\u907f\u514d\u6b7b\u9501\uff0c\u53ef\u4ee5\u91c7\u53d6\u4ee5\u4e0b\u7b56\u7565\uff1a</p> <ol> <li> <p>\u4fdd\u6301\u4e00\u81f4\u7684\u9501\u5b9a\u987a\u5e8f\uff1a</p> <ul> <li>\u5728\u591a\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u4ee5\u76f8\u540c\u7684\u987a\u5e8f\u9501\u5b9a\u76f8\u540c\u7684\u8d44\u6e90\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4e24\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u7684\u8d44\u6e90\u7ade\u4e89\uff0c\u4ece\u800c\u964d\u4f4e\u6b7b\u9501\u7684\u98ce\u9669\u3002 ```sql -- \u4e8b\u52a11 BEGIN; SELECT ... FROM table1 WHERE ... FOR UPDATE; SELECT ... FROM table2 WHERE ... FOR UPDATE; COMMIT;</li> </ul> <p>-- \u4e8b\u52a12 BEGIN; SELECT ... FROM table1 WHERE ... FOR UPDATE; SELECT ... FROM table2 WHERE ... FOR UPDATE; COMMIT; ```</p> </li> <li> <p>\u51cf\u5c11\u4e8b\u52a1\u7684\u9501\u6301\u6709\u65f6\u95f4\uff1a</p> <ul> <li>\u5c3d\u91cf\u7f29\u77ed\u4e8b\u52a1\u7684\u6267\u884c\u65f6\u95f4\uff0c\u7279\u522b\u662f\u5728\u4e8b\u52a1\u4e2d\u6267\u884c\u9501\u64cd\u4f5c\u540e\uff0c\u5c3d\u5feb\u63d0\u4ea4\u6216\u56de\u6eda\u4e8b\u52a1\uff0c\u51cf\u5c11\u6301\u6709\u9501\u7684\u65f6\u95f4\uff0c\u4ece\u800c\u51cf\u5c11\u6b7b\u9501\u7684\u6982\u7387\u3002 <code>sql BEGIN; UPDATE table1 SET ... WHERE ...; UPDATE table2 SET ... WHERE ...; COMMIT;</code></li> </ul> </li> <li> <p>\u5408\u7406\u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1a</p> <ul> <li>\u5728\u4e0d\u9700\u8981\u4e25\u683c\u9694\u79bb\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u964d\u4f4e\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u4f8b\u5982\u4f7f\u7528 <code>READ COMMITTED</code> \u800c\u4e0d\u662f <code>REPEATABLE READ</code>\uff0c\u4ee5\u51cf\u5c11\u9501\u51b2\u7a81\u7684\u673a\u4f1a\u3002 <code>sql SET TRANSACTION ISOLATION LEVEL READ COMMITTED;</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u907f\u514d\u9501\u8868\uff1a</p> <ul> <li>\u901a\u8fc7\u8bbe\u8ba1\u8986\u76d6\u7d22\u5f15\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\uff0c\u51cf\u5c11\u9501\u5b9a\u7684\u8303\u56f4\uff0c\u964d\u4f4e\u6b7b\u9501\u7684\u98ce\u9669\u3002 <code>sql CREATE INDEX idx_cover ON table_name (column1, column2); SELECT column1, column2 FROM table_name WHERE column1 = 'value' FOR UPDATE;</code></li> </ul> </li> <li> <p>\u6355\u83b7\u5e76\u91cd\u8bd5\uff1a</p> <ul> <li>\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u6355\u83b7\u6b7b\u9501\u5f02\u5e38\uff0c\u5e76\u901a\u8fc7\u91cd\u8bd5\u673a\u5236\u6765\u5904\u7406\u6b7b\u9501\u3002\u901a\u5e38\uff0c\u591a\u6570\u6b7b\u9501\u662f\u77ed\u6682\u7684\uff0c\u901a\u8fc7\u91cd\u8bd5\u64cd\u4f5c\u53ef\u4ee5\u7ee7\u7eed\u8fdb\u884c\u3002 <code>java try {     // \u6267\u884c\u4e8b\u52a1\u4ee3\u7801 } catch (DeadlockException e) {     // \u91cd\u8bd5\u4e8b\u52a1 }</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u907f\u514d\u6b7b\u9501\u7684\u5173\u952e\u5728\u4e8e\u5408\u7406\u8bbe\u8ba1\u4e8b\u52a1\u7684\u903b\u8f91\u548c\u9501\u5b9a\u7b56\u7565\uff0c\u5c3d\u53ef\u80fd\u51cf\u5c11\u4e8b\u52a1\u4e4b\u95f4\u7684\u8d44\u6e90\u7ade\u4e89\uff0c\u540c\u65f6\u901a\u8fc7\u5e94\u7528\u7a0b\u5e8f\u5c42\u9762\u7684\u6355\u83b7\u4e0e\u91cd\u8bd5\u673a\u5236\u6765\u5904\u7406\u6b7b\u9501\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#77-mysql","title":"77. MySQL \u4e2d\u5982\u4f55\u6267\u884c\u5927\u6279\u91cf\u6570\u636e\u7684\u5bfc\u5165\u64cd\u4f5c\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u6267\u884c\u5927\u6279\u91cf\u6570\u636e\u5bfc\u5165\u64cd\u4f5c\u65f6\uff0c\u76f4\u63a5\u5bfc\u5165\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u74f6\u9888\u6216\u9501\u8868\u95ee\u9898\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f18\u5316\u7b56\u7565\uff1a</p> <ol> <li> <p>\u4f7f\u7528 <code>LOAD DATA INFILE</code>\uff1a</p> <ul> <li><code>LOAD DATA INFILE</code> \u662f MySQL \u4e2d\u5bfc\u5165\u5927\u6279\u91cf\u6570\u636e\u6700\u5feb\u7684\u65b9\u6cd5\uff0c\u6027\u80fd\u8fdc\u4f18\u4e8e <code>INSERT</code> \u8bed\u53e5\u3002 <code>sql LOAD DATA INFILE '/path/to/your/file.csv' INTO TABLE table_name FIELDS TERMINATED BY ','  LINES TERMINATED BY '\\n' (column1, column2, ...);</code></li> </ul> </li> <li> <p>\u5206\u6279\u6b21\u5bfc\u5165\u6570\u636e\uff1a</p> <ul> <li>\u5c06\u5927\u6279\u91cf\u6570\u636e\u5206\u6210\u82e5\u5e72\u6279\u6b21\u8fdb\u884c\u5bfc\u5165\uff0c\u6bcf\u6b21\u53ea\u5bfc\u5165\u4e00\u90e8\u5206\u6570\u636e\uff0c\u907f\u514d\u4e00\u6b21\u6027\u5bfc\u5165\u5927\u91cf\u6570\u636e\u5bfc\u81f4\u670d\u52a1\u5668\u8d1f\u8f7d\u8fc7\u9ad8\u3002 <code>sql INSERT INTO table_name (column1, column2, ...) VALUES ('value1', 'value2', ...), ('value3', 'value4', ...), ...;</code></li> </ul> </li> <li> <p>\u7981\u7528\u7d22\u5f15\uff1a</p> <ul> <li>\u5728\u5bfc\u5165\u6570\u636e\u4e4b\u524d\uff0c\u6682\u65f6\u7981\u7528\u8868\u7684\u7d22\u5f15\uff0c\u7136\u540e\u5728\u5bfc\u5165\u5b8c\u6210\u540e\u91cd\u65b0\u542f\u7528\u7d22\u5f15\uff0c\u53ef\u4ee5\u52a0\u5feb\u6570\u636e\u5bfc\u5165\u901f\u5ea6\u3002 <code>sql ALTER TABLE table_name DISABLE KEYS; -- \u6267\u884c\u6570\u636e\u5bfc\u5165 ALTER TABLE table_name ENABLE KEYS;</code></li> </ul> </li> <li> <p>\u7981\u7528\u5916\u952e\u7ea6\u675f\uff1a</p> <ul> <li>\u6682\u65f6\u7981\u7528\u5916\u952e\u7ea6\u675f\uff0c\u53ef\u4ee5\u907f\u514d\u5bfc\u5165\u8fc7\u7a0b\u4e2d\u5927\u91cf\u7684\u5916\u952e\u68c0\u67e5\uff0c\u4ece\u800c\u63d0\u5347\u5bfc\u5165\u6027\u80fd\u3002\u5bfc\u5165\u5b8c\u6210\u540e\u518d\u542f\u7528\u5916\u952e\u7ea6\u675f\u3002 <code>sql SET foreign_key_checks = 0; -- \u6267\u884c\u6570\u636e\u5bfc\u5165 SET foreign_key_checks = 1;</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u4e8b\u52a1\uff1a</p> <ul> <li>\u5c06\u6570\u636e\u5bfc\u5165\u64cd\u4f5c\u653e\u5728\u4e8b\u52a1\u4e2d\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u5e76\u4e14\u53ef\u4ee5\u5229\u7528\u4e8b\u52a1\u7684\u63d0\u4ea4\u673a\u5236\u63d0\u5347\u6279\u91cf\u5bfc\u5165\u7684\u6548\u7387\u3002 <code>sql START TRANSACTION; INSERT INTO table_name ...; INSERT INTO table_name ...; COMMIT;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5927\u6279\u91cf\u6570\u636e\u7684\u5bfc\u5165\u64cd\u4f5c\u9700\u8981\u5408\u7406\u89c4\u5212\u548c\u4f18\u5316\uff0c\u901a\u8fc7\u4f7f\u7528\u9ad8\u6548\u7684\u5bfc\u5165\u547d\u4ee4\u3001\u7981\u7528\u4e0d\u5fc5\u8981\u7684\u7ea6\u675f\u4ee5\u53ca\u5408\u7406\u5229\u7528\u4e8b\u52a1\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u5347\u5bfc\u5165\u6548\u7387\u5e76\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#78-mysql-count","title":"78. MySQL \u4e2d\u5982\u4f55\u4f18\u5316 COUNT(*) \u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p><code>COUNT(*)</code> \u67e5\u8be2\u901a\u5e38\u7528\u4e8e\u7edf\u8ba1\u8868\u4e2d\u7684\u8bb0\u5f55\u6570\uff0c\u7279\u522b\u662f\u5728\u5927\u8868\u4e2d\uff0c\u4f18\u5316 <code>COUNT(*)</code> \u67e5\u8be2\u53ef\u4ee5\u5927\u5e45\u63d0\u5347\u6027\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f18\u5316\u7b56\u7565\uff1a</p> <ol> <li> <p>\u907f\u514d\u4e0d\u5fc5\u8981\u7684 <code>COUNT(*)</code>\uff1a</p> <ul> <li>\u786e\u4fdd <code>COUNT(*)</code> \u4ec5\u7528\u4e8e\u786e\u5b9e\u9700\u8981\u7edf\u8ba1\u8bb0\u5f55\u6570\u7684\u573a\u666f\uff0c\u907f\u514d\u5728\u4e0d\u9700\u8981\u7684\u5730\u65b9\u6267\u884c <code>COUNT(*)</code> \u67e5\u8be2\u3002</li> </ul> </li> <li> <p>\u4f7f\u7528\u7d22\u5f15\u4f18\u5316\uff1a</p> <ul> <li>\u5982\u679c <code>COUNT(*)</code> \u53ea\u7edf\u8ba1\u67d0\u4e9b\u6761\u4ef6\u4e0b\u7684\u8bb0\u5f55\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u6765\u4f18\u5316\u67e5\u8be2\u3002 <code>sql CREATE INDEX idx_status ON table_name (status); SELECT COUNT(*) FROM table_name WHERE status = 'active';</code></li> </ul> </li> <li> <p>\u4f7f\u7528 InnoDB \u7684\u8868\u8ba1\u6570\uff1a</p> <ul> <li>InnoDB \u5b58\u50a8\u5f15\u64ce\u4e0d\u80fd\u50cf MyISAM \u90a3\u6837\u5feb\u901f\u8fd4\u56de\u8868\u7684\u603b\u884c\u6570\uff0c\u56e0\u6b64\u5bf9\u4e8e InnoDB \u8868\uff0c\u5982\u679c\u9891\u7e41\u9700\u8981\u603b\u884c\u6570\u7edf\u8ba1\uff0c\u53ef\u4ee5\u8003\u8651\u7ef4\u62a4\u4e00\u4e2a\u8868\u6216\u5b57\u6bb5\u4e13\u95e8\u5b58\u50a8\u884c\u6570\u4fe1\u606f\uff0c\u907f\u514d\u6bcf\u6b21\u90fd\u6267\u884c <code>COUNT(*)</code> \u67e5\u8be2\u3002</li> </ul> </li> <li> <p>\u5206\u533a\u8868\u4f18\u5316\uff1a</p> <ul> <li>\u5bf9\u4e8e\u8d85\u5927\u8868\uff0c\u53ef\u4ee5\u8003\u8651\u5c06\u8868\u8fdb\u884c\u5206\u533a\uff0c\u901a\u8fc7\u5206\u533a\u7684\u65b9\u5f0f\u51cf\u5c11\u6bcf\u6b21 <code>COUNT(*)</code> \u9700\u8981\u626b\u63cf\u7684\u6570\u636e\u91cf\u3002 <code>sql SELECT COUNT(*) FROM table_name PARTITION(partition_name);</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u7f13\u5b58\uff1a</p> <ul> <li>\u5bf9\u4e8e\u9891\u7e41\u6267\u884c\u4e14\u7ed3\u679c\u53d8\u5316\u4e0d\u5927\u7684 <code>COUNT(*)</code> \u67e5\u8be2\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u7f13\u5b58\uff0c\u5c06\u67e5\u8be2\u7ed3\u679c\u7f13\u5b58\u5230\u5e94\u7528\u5c42\u6216\u7f13\u5b58\u6570\u636e\u5e93\u4e2d\uff0c\u51cf\u5c11\u5bf9\u6570\u636e\u5e93\u7684\u538b\u529b\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a<code>COUNT(*)</code> \u67e5\u8be2\u7684\u4f18\u5316\u9700\u8981\u6839\u636e\u5177\u4f53\u573a\u666f\u8fdb\u884c\u5904\u7406\uff0c\u7ed3\u5408\u7d22\u5f15\u3001\u5206\u533a\u548c\u7f13\u5b58\u7b56\u7565\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u5927\u8868\u6216\u590d\u6742\u67e5\u8be2\u4e0b\u7684\u7edf\u8ba1\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#79-mysql","title":"79. MySQL \u4e2d\u5982\u4f55\u7ba1\u7406\u5927\u6570\u636e\u91cf\u8868\u7684\u6027\u80fd\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u5927\u6570\u636e\u91cf\u8868\u901a\u5e38\u4f1a\u5bfc\u81f4\u67e5\u8be2\u6027\u80fd\u4e0b\u964d\uff0c\u7ba1\u7406\u5927\u8868\u6027\u80fd\u9700\u8981\u7ed3\u5408\u591a\u79cd\u4f18\u5316\u7b56\u7565\uff0c\u5305\u62ec\u5206\u533a\u3001\u7d22\u5f15\u4f18\u5316\u3001\u67e5\u8be2\u91cd\u6784\u7b49\uff1a</p> <ol> <li> <p>\u5206\u533a\u8868\uff1a</p> <ul> <li>\u5c06\u5927\u8868\u6309\u4e00\u5b9a\u89c4\u5219\u5206\u6210\u591a\u4e2a\u5c0f\u8868\uff08\u5206\u533a\uff09\uff0cMySQL \u53ea\u5728\u76f8\u5173\u5206\u533a\u4e2d\u8fdb\u884c\u67e5\u8be2\uff0c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002 <code>sql CREATE TABLE large_table (     id INT,     name VARCHAR(50),     created_at DATE ) PARTITION BY RANGE (YEAR(created_at)) (     PARTITION p2020 VALUES LESS THAN (2021),     PARTITION p2021 VALUES LESS THAN (2022) );</code></li> </ul> </li> <li> <p>\u9002\u5f53\u7684\u7d22\u5f15\u8bbe\u8ba1\uff1a</p> <ul> <li>\u9488\u5bf9\u5927\u8868\u67e5\u8be2\u8bbe\u8ba1\u5408\u7406\u7684\u7d22\u5f15\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u5347\u67e5\u8be2\u6027\u80fd\u3002\u5305\u62ec\u8986\u76d6\u7d22\u5f15\u3001\u7ec4\u5408\u7d22\u5f15\u7b49\u7b56\u7565\u3002</li> </ul> </li> <li> <p>\u5206\u7247\uff08Sharding\uff09\uff1a</p> <ul> <li>\u5c06\u6570\u636e\u6c34\u5e73\u62c6\u5206\u5230\u591a\u4e2a\u7269\u7406\u8282\u70b9\u4e0a\uff0c\u6bcf\u4e2a\u8282\u70b9\u53ea\u5b58\u50a8\u90e8\u5206\u6570\u636e\uff0c\u51cf\u8f7b\u5355\u4e2a\u8282\u70b9\u7684\u538b\u529b\uff0c\u5e76\u884c\u5904\u7406\u67e5\u8be2\u3002</li> <li>\u4f8b\u5982\uff0c\u5c06\u7528\u6237\u8868\u6309\u5730\u57df\u6216\u7528\u6237ID\u62c6\u5206\u6210\u591a\u4e2a\u8868\u3002</li> </ul> </li> <li> <p>\u5b9a\u671f\u5f52\u6863\u548c\u5220\u9664\u65e7\u6570\u636e\uff1a</p> <ul> <li>\u5bf9\u4e8e\u5386\u53f2\u6570\u636e\u6216\u4e0d\u5e38\u7528\u7684\u6570\u636e\u8fdb\u884c\u5f52\u6863\u6216\u5220\u9664\uff0c\u51cf\u5c11\u8868\u4e2d\u7684\u6570\u636e\u91cf\uff0c\u63d0\u5347\u67e5\u8be2\u548c\u66f4\u65b0\u6027\u80fd\u3002 <code>sql DELETE FROM large_table WHERE created_at &lt; '2023-01-01';</code></li> </ul> </li> <li> <p>\u4f18\u5316\u67e5\u8be2\u548c\u7d22\u5f15\uff1a</p> <ul> <li>\u5c3d\u91cf\u907f\u514d\u5168\u8868\u626b\u63cf\uff0c\u901a\u8fc7\u7d22\u5f15\u4f18\u5316\u67e5\u8be2\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684 <code>SELECT *</code> \u67e5\u8be2\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u91cf\u3002 <code>sql SELECT specific_columns FROM large_table WHERE indexed_column = 'value';</code></li> </ul> </li> <li> <p>\u8bfb\u5199\u5206\u79bb\uff1a</p> <ul> <li>\u5bf9\u4e8e\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u91c7\u7528\u8bfb\u5199\u5206\u79bb\u7684\u67b6\u6784\uff0c\u901a\u8fc7\u4ece\u5e93\u5904\u7406\u8bfb\u8bf7\u6c42\uff0c\u51cf\u5c11\u4e3b\u5e93\u7684\u538b\u529b\u3002 ```sql -- \u8bfb\u64cd\u4f5c SELECT * FROM large_table WHERE condition;</li> </ul> <p>-- \u5199\u64cd\u4f5c INSERT INTO large_table ...; ```</p> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5927\u6570\u636e\u91cf\u8868\u7684\u7ba1\u7406\u9700\u8981\u4ece\u8868\u7ed3\u6784\u8bbe\u8ba1\u3001\u67e5\u8be2\u4f18\u5316\u548c\u6570\u636e\u7ba1\u7406\u7b49\u591a\u65b9\u9762\u5165\u624b\uff0c\u901a\u8fc7\u5206\u533a\u3001\u7d22\u5f15\u4f18\u5316\u548c\u6570\u636e\u5f52\u6863\u7b49\u7b56\u7565\uff0c\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u5927\u8868\u7684\u67e5\u8be2\u548c\u7ba1\u7406\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#80-mysql","title":"80. MySQL \u4e2d\u7684\u4e3b\u4ece\u590d\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>MySQL \u7684\u4e3b\u4ece\u590d\u5236\u662f\u4e00\u79cd\u7528\u4e8e\u6570\u636e\u5e93\u9ad8\u53ef\u7528\u6027\u548c\u8d1f\u8f7d\u5747\u8861\u7684\u5e38\u89c1\u6280\u672f\u3002\u5b83\u7684\u57fa\u672c\u5de5\u4f5c\u539f\u7406\u662f\u5c06\u4e3b\u5e93\u4e0a\u7684\u6570\u636e\u66f4\u6539\u590d\u5236\u5230\u4ece\u5e93\uff0c\u4ece\u5e93\u901a\u5e38\u53ea\u8bfb\uff0c\u7528\u4e8e\u5206\u62c5\u4e3b\u5e93\u7684\u67e5\u8be2\u538b\u529b\u6216\u5907\u4efd\u3002\u4e3b\u4ece\u590d\u5236\u7684\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u4e3b\u5e93\u5199\u5165\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08Binary Log\uff09\uff1a</p> <ul> <li>\u5f53\u4e3b\u5e93\u4e0a\u6709\u6570\u636e\u66f4\u65b0\u64cd\u4f5c\uff08\u5982 <code>INSERT</code>\u3001<code>UPDATE</code>\u3001<code>DELETE</code>\uff09\u65f6\uff0cMySQL \u4f1a\u5c06\u8fd9\u4e9b\u64cd\u4f5c\u8bb0\u5f55\u5230\u4e8c\u8fdb\u5236\u65e5\u5fd7\u4e2d\u3002\u4e8c\u8fdb\u5236\u65e5\u5fd7\u4ee5\u4e8b\u4ef6\u7684\u5f62\u5f0f\u8bb0\u5f55\u6240\u6709\u6539\u53d8\u6570\u636e\u7684\u64cd\u4f5c\u3002</li> </ul> </li> <li> <p>\u4ece\u5e93\u83b7\u53d6\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08IO \u7ebf\u7a0b\uff09\uff1a</p> <ul> <li>\u4ece\u5e93\u901a\u8fc7 IO \u7ebf\u7a0b\u8fde\u63a5\u4e3b\u5e93\uff0c\u8bfb\u53d6\u4e3b\u5e93\u4e0a\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff0c\u5e76\u5c06\u5176\u4fdd\u5b58\u5230\u4ece\u5e93\u7684\u4e2d\u7ee7\u65e5\u5fd7\uff08Relay Log\uff09\u4e2d\u3002</li> </ul> </li> <li> <p>\u4ece\u5e93\u5e94\u7528\u4e2d\u7ee7\u65e5\u5fd7\uff08SQL \u7ebf\u7a0b\uff09\uff1a</p> <ul> <li>\u4ece\u5e93\u7684 SQL \u7ebf\u7a0b\u8bfb\u53d6\u4e2d\u7ee7\u65e5\u5fd7\u4e2d\u7684\u5185\u5bb9\uff0c\u5e76\u6309\u7167\u4e3b\u5e93\u7684\u987a\u5e8f\u5728\u4ece\u5e93\u4e0a\u91cd\u653e\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u4ece\u800c\u4f7f\u4ece\u5e93\u7684\u6570\u636e\u4e0e\u4e3b\u5e93\u4fdd\u6301\u4e00\u81f4\u3002</li> </ul> </li> <li> <p>\u4e3b\u4ece\u6570\u636e\u540c\u6b65\u5b8c\u6210\uff1a</p> <ul> <li>\u5f53\u4ece\u5e93\u5b8c\u6210\u5bf9\u4e2d\u7ee7\u65e5\u5fd7\u7684\u5904\u7406\u540e\uff0c\u5b83\u7684\u6570\u636e\u5c31\u4e0e\u4e3b\u5e93\u4fdd\u6301\u540c\u6b65\u4e86\u3002\u8fd9\u4e00\u8fc7\u7a0b\u662f\u5f02\u6b65\u7684\uff0c\u4ece\u5e93\u4e0e\u4e3b\u5e93\u4e4b\u95f4\u53ef\u80fd\u4f1a\u6709\u4e00\u5b9a\u7684\u5ef6\u8fdf\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u5e38\u89c1\u95ee\u9898\u53ca\u4f18\u5316\uff1a    - \u4e3b\u4ece\u5ef6\u8fdf\uff1a\u7531\u4e8e\u590d\u5236\u662f\u5f02\u6b65\u7684\uff0c\u4ece\u5e93\u53ef\u80fd\u4f1a\u843d\u540e\u4e8e\u4e3b\u5e93\uff0c\u5bfc\u81f4\u5ef6\u8fdf\u3002\u53ef\u4ee5\u901a\u8fc7\u63d0\u5347\u4e3b\u5e93\u6027\u80fd\u3001\u4f18\u5316\u7f51\u7edc\u5e26\u5bbd\u3001\u914d\u7f6e\u66f4\u5feb\u7684\u4ece\u5e93\u786c\u4ef6\u7b49\u65b9\u5f0f\u6765\u51cf\u5c11\u5ef6\u8fdf\u3002    - \u6570\u636e\u4e00\u81f4\u6027\uff1a\u7531\u4e8e\u590d\u5236\u5ef6\u8fdf\uff0c\u4e3b\u5e93\u548c\u4ece\u5e93\u7684\u6570\u636e\u53ef\u80fd\u77ed\u6682\u4e0d\u4e00\u81f4\u3002\u5bf9\u4e8e\u4e00\u4e9b\u8981\u6c42\u5f3a\u4e00\u81f4\u6027\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u534a\u540c\u6b65\u590d\u5236\u6216\u4e3b\u4e3b\u590d\u5236\u6765\u63d0\u9ad8\u4e00\u81f4\u6027\u3002    - \u8bfb\u5199\u5206\u79bb\uff1a\u901a\u8fc7\u8bfb\u5199\u5206\u79bb\u67b6\u6784\uff0c\u5c06\u8bfb\u8bf7\u6c42\u5206\u914d\u5230\u4ece\u5e93\uff0c\u4ece\u800c\u51cf\u8f7b\u4e3b\u5e93\u7684\u8d1f\u62c5\uff0c\u63d0\u5347\u7cfb\u7edf\u7684\u6574\u4f53\u6027\u80fd\u3002</p> <p>\u603b\u7ed3\uff1a\u4e3b\u4ece\u590d\u5236\u662f MySQL \u4e2d\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u548c\u8d1f\u8f7d\u5747\u8861\u7684\u6838\u5fc3\u6280\u672f\uff0c\u7406\u89e3\u5176\u5de5\u4f5c\u539f\u7406\u53ca\u4f18\u5316\u7b56\u7565\u5bf9\u4e8e\u6784\u5efa\u9ad8\u6027\u80fd\u7684 MySQL \u96c6\u7fa4\u7cfb\u7edf\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#81-mysql","title":"81. MySQL \u4e2d\u7684\u9501\u673a\u5236\u53ca\u5176\u4f18\u5316\uff1a","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>MySQL \u4e2d\u7684\u9501\u673a\u5236\u662f\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u548c\u5e76\u53d1\u63a7\u5236\u7684\u91cd\u8981\u624b\u6bb5\u3002MySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u7c7b\u578b\u7684\u9501\uff0c\u5305\u62ec\u8868\u9501\u548c\u884c\u9501\uff0cInnoDB \u5b58\u50a8\u5f15\u64ce\u4e3b\u8981\u4f7f\u7528\u884c\u7ea7\u9501\u3002\u5408\u7406\u4f7f\u7528\u9501\u53ef\u4ee5\u63d0\u9ad8\u7cfb\u7edf\u6027\u80fd\uff0c\u907f\u514d\u6b7b\u9501\u548c\u957f\u65f6\u95f4\u9501\u7b49\u5f85\u3002</p> <ol> <li> <p>\u8868\u7ea7\u9501\uff08Table Lock\uff09\uff1a</p> <ul> <li>MySQL \u7684 MyISAM \u5b58\u50a8\u5f15\u64ce\u9ed8\u8ba4\u4f7f\u7528\u8868\u9501\u3002\u8868\u9501\u9501\u4f4f\u6574\u4e2a\u8868\uff0c\u5176\u4ed6\u4e8b\u52a1\u65e0\u6cd5\u8fdb\u884c\u5bf9\u8be5\u8868\u7684\u4fee\u6539\u64cd\u4f5c\uff0c\u53ea\u80fd\u8bfb\u3002\u8868\u9501\u9002\u7528\u4e8e\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\uff0c\u4f46\u4f1a\u5bfc\u81f4\u5e76\u53d1\u6027\u80fd\u4f4e\u3002</li> </ul> </li> <li> <p>\u884c\u7ea7\u9501\uff08Row Lock\uff09\uff1a</p> <ul> <li>InnoDB \u5b58\u50a8\u5f15\u64ce\u652f\u6301\u884c\u7ea7\u9501\uff0c\u8fd9\u79cd\u9501\u5b9a\u7c92\u5ea6\u66f4\u7ec6\uff0c\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u64cd\u4f5c\u4e0d\u540c\u7684\u884c\uff0c\u663e\u8457\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\u3002\u884c\u9501\u662f\u901a\u8fc7\u7d22\u5f15\u5b9e\u73b0\u7684\uff0c\u6ca1\u6709\u7d22\u5f15\u7684\u60c5\u51b5\u4e0b\uff0cInnoDB \u4f1a\u5347\u7ea7\u4e3a\u8868\u9501\u3002 <code>sql -- \u884c\u7ea7\u9501\u793a\u4f8b SELECT * FROM table_name WHERE id = 1 FOR UPDATE;</code></li> </ul> </li> <li> <p>\u5171\u4eab\u9501\uff08Shared Lock\uff09\u548c\u6392\u4ed6\u9501\uff08Exclusive Lock\uff09\uff1a</p> <ul> <li>\u5171\u4eab\u9501\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\u53d6\u4e00\u884c\uff0c\u4f46\u4e0d\u5141\u8bb8\u4fee\u6539\u3002\u6392\u4ed6\u9501\u5219\u5b8c\u5168\u9501\u4f4f\u4e00\u884c\uff0c\u5176\u4ed6\u4e8b\u52a1\u65e2\u4e0d\u80fd\u8bfb\u4e5f\u4e0d\u80fd\u5199\u3002 ```sql -- \u5171\u4eab\u9501 SELECT * FROM table_name WHERE id = 1 LOCK IN SHARE MODE;</li> </ul> <p>-- \u6392\u4ed6\u9501 SELECT * FROM table_name WHERE id = 1 FOR UPDATE; ```</p> </li> <li> <p>\u610f\u5411\u9501\uff08Intention Lock\uff09\uff1a</p> <ul> <li>\u610f\u5411\u9501\u662f InnoDB \u4e2d\u7684\u4e00\u79cd\u5185\u90e8\u9501\uff0c\u7528\u4e8e\u6807\u8bb0\u67d0\u884c\u6216\u67d0\u8868\u5373\u5c06\u88ab\u52a0\u4e0a\u5171\u4eab\u9501\u6216\u6392\u4ed6\u9501\u3002\u610f\u5411\u9501\u4e0d\u963b\u6b62\u4efb\u4f55\u64cd\u4f5c\uff0c\u4f46\u4f1a\u5f71\u54cd\u5176\u4ed6\u4e8b\u52a1\u52a0\u9501\u7684\u884c\u4e3a\u3002</li> </ul> </li> <li> <p>\u6b7b\u9501\u68c0\u6d4b\u4e0e\u8d85\u65f6\uff1a</p> <ul> <li>MySQL \u4f1a\u81ea\u52a8\u68c0\u6d4b\u6b7b\u9501\uff0c\u5e76\u9009\u62e9\u67d0\u4e2a\u4e8b\u52a1\u56de\u6eda\uff0c\u4ee5\u89e3\u9664\u6b7b\u9501\u3002\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574 <code>innodb_lock_wait_timeout</code> \u53c2\u6570\u6765\u8bbe\u7f6e\u9501\u7b49\u5f85\u8d85\u65f6\u65f6\u95f4\uff0c\u907f\u514d\u957f\u65f6\u95f4\u7684\u9501\u7b49\u5f85\u3002 <code>sql SET innodb_lock_wait_timeout = 50;</code></li> </ul> </li> </ol> </li> </ul> <p>\u4f18\u5316\u7b56\u7565\uff1a    - \u7d22\u5f15\u4f18\u5316\uff1a\u5408\u7406\u8bbe\u8ba1\u7d22\u5f15\uff0c\u786e\u4fdd\u67e5\u8be2\u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u547d\u4e2d\u884c\u9501\uff0c\u907f\u514d\u9501\u5347\u7ea7\u4e3a\u8868\u9501\u3002    - \u51cf\u5c11\u9501\u5b9a\u8303\u56f4\uff1a\u5728\u4e8b\u52a1\u4e2d\u5c3d\u91cf\u51cf\u5c11\u9501\u5b9a\u8303\u56f4\u548c\u65f6\u95f4\uff0c\u53ca\u65f6\u63d0\u4ea4\u4e8b\u52a1\u3002    - \u5206\u89e3\u590d\u6742\u67e5\u8be2\uff1a\u5c06\u590d\u6742\u67e5\u8be2\u5206\u89e3\u4e3a\u591a\u4e2a\u7b80\u5355\u67e5\u8be2\uff0c\u51cf\u5c11\u9501\u6301\u6709\u65f6\u95f4\u3002</p> <p>\u603b\u7ed3\uff1aMySQL \u7684\u9501\u673a\u5236\u662f\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u7684\u91cd\u8981\u5de5\u5177\uff0c\u4f46\u4e0d\u5f53\u7684\u9501\u4f7f\u7528\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002\u901a\u8fc7\u7406\u89e3\u9501\u7684\u7c7b\u578b\u548c\u4f18\u5316\u7b56\u7565\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u63d0\u9ad8\u7cfb\u7edf\u7684\u5e76\u53d1\u6027\u80fd\u5e76\u51cf\u5c11\u6b7b\u9501\u53d1\u751f\u7684\u6982\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#82-mysql","title":"82. \u5982\u4f55\u5904\u7406 MySQL \u4e2d\u7684\u201c\u5927\u4e8b\u52a1\u201d\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u5927\u4e8b\u52a1\u6307\u7684\u662f\u90a3\u4e9b\u5305\u542b\u5927\u91cf\u64cd\u4f5c\u6216\u9700\u8981\u957f\u65f6\u95f4\u6267\u884c\u7684\u4e8b\u52a1\u3002\u5728 MySQL \u4e2d\uff0c\u5927\u4e8b\u52a1\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\uff0c\u5305\u62ec\u9501\u7b49\u5f85\u3001\u5185\u5b58\u5360\u7528\u8fc7\u9ad8\u3001\u4e8b\u52a1\u65e5\u5fd7\u589e\u5927\u7b49\u3002\u5904\u7406\u5927\u4e8b\u52a1\u65f6\uff0c\u9700\u8981\u8003\u8651\u4ee5\u4e0b\u7b56\u7565\uff1a</p> <ol> <li> <p>\u5206\u89e3\u4e8b\u52a1\uff1a</p> <ul> <li>\u5c06\u5927\u4e8b\u52a1\u5206\u89e3\u4e3a\u591a\u4e2a\u5c0f\u4e8b\u52a1\uff0c\u5206\u6279\u6b21\u6267\u884c\u3002\u6bcf\u4e2a\u5c0f\u4e8b\u52a1\u53ea\u5904\u7406\u4e00\u90e8\u5206\u6570\u636e\uff0c\u51cf\u5c11\u6bcf\u6b21\u64cd\u4f5c\u7684\u6570\u636e\u91cf\uff0c\u964d\u4f4e\u9501\u6301\u6709\u65f6\u95f4\u3002 ```sql -- \u539f\u59cb\u5927\u4e8b\u52a1 BEGIN; UPDATE table_name SET column1 = 'value1' WHERE condition; UPDATE table_name SET column2 = 'value2' WHERE condition; COMMIT;</li> </ul> <p>-- \u5206\u89e3\u4e3a\u5c0f\u4e8b\u52a1 BEGIN; UPDATE table_name SET column1 = 'value1' WHERE condition LIMIT 1000; COMMIT;</p> <p>BEGIN; UPDATE table_name SET column2 = 'value2' WHERE condition LIMIT 1000; COMMIT; ```</p> </li> <li> <p>\u4f7f\u7528\u6279\u5904\u7406\uff1a</p> <ul> <li>\u5bf9\u4e8e\u6279\u91cf\u63d2\u5165\u6216\u66f4\u65b0\u64cd\u4f5c\uff0c\u4f7f\u7528\u6279\u5904\u7406\u7684\u65b9\u5f0f\uff0c\u51cf\u5c11\u4e8b\u52a1\u7684\u63d0\u4ea4\u9891\u7387\uff0c\u4f46\u53c8\u907f\u514d\u4e86\u5355\u6b21\u4e8b\u52a1\u64cd\u4f5c\u8fc7\u591a\u6570\u636e\u3002 <code>sql INSERT INTO table_name (column1, column2) VALUES ('value1', 'value2'), ('value3', 'value4') ...;</code></li> </ul> </li> <li> <p>\u9002\u5f53\u8c03\u6574\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1a</p> <ul> <li>\u5bf9\u4e8e\u4e0d\u9700\u8981\u5f3a\u4e00\u81f4\u6027\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u964d\u4f4e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u5982\u4f7f\u7528 <code>READ COMMITTED</code>\uff0c\u4ee5\u51cf\u5c11\u9501\u7ade\u4e89\u548c\u7b49\u5f85\u65f6\u95f4\u3002 <code>sql SET TRANSACTION ISOLATION LEVEL READ COMMITTED;</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u5ef6\u8fdf\u63d0\u4ea4\uff08Delayed Commit\uff09\uff1a</p> <ul> <li>\u5bf9\u4e8e\u975e\u5173\u952e\u4e1a\u52a1\uff0c\u53ef\u4ee5\u5ef6\u8fdf\u63d0\u4ea4\u4e8b\u52a1\uff0c\u6216\u8005\u5c06\u63d0\u4ea4\u64cd\u4f5c\u5b89\u6392\u5728\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u4f4e\u7684\u65f6\u6bb5\u8fdb\u884c\u3002 <code>sql COMMIT DELAYED;</code></li> </ul> </li> <li> <p>\u907f\u514d\u957f\u65f6\u95f4\u7684\u4e8b\u52a1\uff1a</p> <ul> <li>\u5c3d\u91cf\u907f\u514d\u4e8b\u52a1\u4e2d\u5305\u542b\u8017\u65f6\u64cd\u4f5c\uff08\u5982\u7b49\u5f85\u7528\u6237\u8f93\u5165\u3001\u7f51\u7edc\u8c03\u7528\u7b49\uff09\uff0c\u4ee5\u514d\u5bfc\u81f4\u957f\u65f6\u95f4\u5360\u7528\u9501\u8d44\u6e90\u3002 <code>sql BEGIN; UPDATE table_name SET column1 = 'value1' WHERE condition; -- \u7acb\u5373\u63d0\u4ea4\uff0c\u4e0d\u8981\u5728\u4e8b\u52a1\u4e2d\u7b49\u5f85\u5176\u4ed6\u64cd\u4f5c COMMIT;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5904\u7406\u5927\u4e8b\u52a1\u65f6\uff0c\u9700\u8981\u7efc\u5408\u8003\u8651\u4e8b\u52a1\u7684\u590d\u6742\u6027\u3001\u6570\u636e\u91cf\u548c\u7cfb\u7edf\u8d44\u6e90\uff0c\u901a\u8fc7\u5206\u89e3\u4e8b\u52a1\u3001\u6279\u5904\u7406\u64cd\u4f5c\u548c\u5408\u7406\u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u7b49\u7b56\u7565\uff0c\u53ef\u4ee5\u6709\u6548\u907f\u514d\u6027\u80fd\u74f6\u9888\u548c\u9501\u5b9a\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#83-mysql","title":"83. \u5982\u4f55\u5728 MySQL \u4e2d\u8fdb\u884c\u5168\u6587\u641c\u7d22\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>MySQL \u63d0\u4f9b\u4e86\u5185\u7f6e\u7684\u5168\u6587\u641c\u7d22\u529f\u80fd\uff0c\u5c24\u5176\u5728 MyISAM \u548c InnoDB \u5b58\u50a8\u5f15\u64ce\u4e2d\u90fd\u652f\u6301\u5168\u6587\u7d22\u5f15\u3002\u5168\u6587\u641c\u7d22\u5141\u8bb8\u4f60\u5728\u5927\u91cf\u6587\u672c\u6570\u636e\u4e2d\u9ad8\u6548\u67e5\u627e\u5339\u914d\u7684\u8bb0\u5f55\uff0c\u7279\u522b\u9002\u7528\u4e8e\u6587\u7ae0\u3001\u8bc4\u8bba\u3001\u535a\u5ba2\u7b49\u6587\u672c\u5185\u5bb9\u7684\u641c\u7d22\u3002</p> <ol> <li> <p>\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff1a</p> <ul> <li>\u5728 MySQL \u4e2d\uff0c\u53ef\u4ee5\u4e3a\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u672c\u5217\u521b\u5efa\u5168\u6587\u7d22\u5f15\uff0c\u4ee5\u52a0\u5feb\u641c\u7d22\u901f\u5ea6\u3002\u5168\u6587\u7d22\u5f15\u901a\u5e38\u9002\u7528\u4e8e <code>VARCHAR</code>\u3001<code>TEXT</code> \u7c7b\u578b\u7684\u5217\u3002 <code>sql CREATE TABLE articles (     id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,     title VARCHAR(255),     content TEXT,     FULLTEXT (title, content) );</code></li> </ul> </li> <li> <p>\u6267\u884c\u5168\u6587\u641c\u7d22\uff1a</p> <ul> <li>\u4f7f\u7528 <code>MATCH()</code> \u548c <code>AGAINST()</code> \u51fd\u6570\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002<code>MATCH()</code> \u6307\u5b9a\u8981\u641c\u7d22\u7684\u5217\uff0c<code>AGAINST()</code> \u6307\u5b9a\u641c\u7d22\u7684\u5173\u952e\u8bcd\u3002 <code>sql SELECT id, title, content FROM articles WHERE MATCH(title, content) AGAINST('MySQL\u5168\u6587\u641c\u7d22' IN BOOLEAN MODE);</code></li> </ul> </li> <li> <p>\u8c03\u6574\u5168\u6587\u7d22\u5f15\u8bbe\u7f6e\uff1a</p> <ul> <li>\u53ef\u4ee5\u8c03\u6574\u5168\u6587\u7d22\u5f15\u7684\u6700\u5c0f\u8bcd\u957f\u3001\u505c\u6b62\u8bcd\u5217\u8868\u7b49\u8bbe\u7f6e\uff0c\u4ee5\u4f18\u5316\u641c\u7d22\u7ed3\u679c\u3002\u4f7f\u7528 <code>ft_min_word_len</code> \u548c <code>ft_stopword_file</code> \u53c2\u6570\u8fdb\u884c\u914d\u7f6e\u3002 <code>sql SET GLOBAL ft_min_word_len = 2; SET GLOBAL ft_stopword_file = '';</code></li> </ul> </li> <li> <p>\u4f7f\u7528 BOOLEAN MODE\uff1a</p> <ul> <li>\u5728\u5168\u6587\u641c\u7d22\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 BOOLEAN MODE \u8fdb\u884c\u66f4\u590d\u6742\u7684\u67e5\u8be2\uff0c\u5982\u5305\u542b\u3001\u6392\u9664\u5173\u952e\u8bcd\u3001\u6307\u5b9a\u8bcd\u9891\u7b49\u3002 <code>sql SELECT id, title, content FROM articles WHERE MATCH(title, content) AGAINST('+MySQL -\u5168\u6587\u641c\u7d22' IN BOOLEAN MODE);</code></li> </ul> </li> <li> <p>\u5206\u8bcd\u548c\u8bed\u4e49\u5206\u6790\uff1a</p> <ul> <li>\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u8bed\u4e49\u5206\u6790\u548c\u5206\u8bcd\u9700\u6c42\uff0c\u53ef\u4ee5\u7ed3\u5408 MySQL \u7684\u5168\u6587\u641c\u7d22\u4e0e\u7b2c\u4e09\u65b9\u641c\u7d22\u5f15\u64ce\uff08\u5982 Elasticsearch\u3001Sphinx\uff09\u6765\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u5168\u6587\u68c0\u7d22\u529f\u80fd\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u7684\u5168\u6587\u641c\u7d22\u529f\u80fd\u9002\u5408\u5904\u7406\u5927\u91cf\u6587\u672c\u6570\u636e\u7684\u68c0\u7d22\u9700\u6c42\uff0c\u901a\u8fc7\u521b\u5efa\u5168\u6587\u7d22\u5f15\u548c\u4f7f\u7528 <code>MATCH()</code>\u3001<code>AGAINST()</code> \u51fd\u6570\uff0c\u53ef\u4ee5\u9ad8\u6548\u5730\u8fdb\u884c\u6587\u672c\u641c\u7d22\u548c\u5339\u914d\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u7ed3\u5408\u7b2c\u4e09\u65b9\u641c\u7d22\u5f15\u64ce\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#84-mysql","title":"84. MySQL \u4e2d\u5982\u4f55\u914d\u7f6e\u548c\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u5b58\u50a8\u8fc7\u7a0b\u662f\u4e00\u7ec4\u9884\u7f16\u8bd1\u7684 SQL \u8bed\u53e5\uff0c\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u6765\u6267\u884c\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u91cd\u590d\uff0c\u63d0\u9ad8\u6267\u884c\u6548\u7387\u3002\u5728 MySQL \u4e2d\uff0c\u53ef\u4ee5\u521b\u5efa\u3001\u4fee\u6539\u548c\u5220\u9664\u5b58\u50a8\u8fc7\u7a0b\uff0c\u4ee5\u4e0b\u662f\u914d\u7f6e\u548c\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\u7684\u57fa\u672c\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\uff1a</p> <ul> <li>\u4f7f\u7528 <code>CREATE PROCEDURE</code> \u8bed\u53e5\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u3002\u5b58\u50a8\u8fc7\u7a0b\u53ef\u4ee5\u5305\u542b\u8f93\u5165\u53c2\u6570\u3001\u8f93\u51fa\u53c2\u6570\u548c\u5185\u90e8\u903b\u8f91\u3002 ```sql DELIMITER //</li> </ul> <p>CREATE PROCEDURE GetEmployeeDetails(IN emp_id INT) BEGIN     SELECT * FROM employees WHERE id = emp_id; END //</p> <p>DELIMITER ; ```</p> </li> <li> <p>\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\uff1a</p> <ul> <li>\u4f7f\u7528 <code>CALL</code> \u8bed\u53e5\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\uff0c\u4f20\u9012\u5fc5\u8981\u7684\u53c2\u6570\u3002 <code>sql CALL GetEmployeeDetails(1);</code></li> </ul> </li> <li> <p>\u4fee\u6539\u5b58\u50a8\u8fc7\u7a0b\uff1a</p> <ul> <li>\u901a\u8fc7 <code>ALTER PROCEDURE</code> \u8bed\u53e5\u6765\u4fee\u6539\u5df2\u6709\u7684\u5b58\u50a8\u8fc7\u7a0b\u3002\u9700\u8981\u91cd\u65b0\u5b9a\u4e49\u5b58\u50a8\u8fc7\u7a0b\u7684\u5185\u5bb9\u3002 ```sql DELIMITER //</li> </ul> <p>ALTER PROCEDURE GetEmployeeDetails(IN emp_id INT) BEGIN     -- \u65b0\u7684\u5b58\u50a8\u8fc7\u7a0b\u903b\u8f91     SELECT name, department FROM employees WHERE id = emp_id; END //</p> <p>DELIMITER ; ```</p> </li> <li> <p>\u5220\u9664\u5b58\u50a8\u8fc7\u7a0b\uff1a</p> <ul> <li>\u4f7f\u7528 <code>DROP PROCEDURE</code> \u8bed\u53e5\u5220\u9664\u5b58\u50a8\u8fc7\u7a0b\u3002 <code>sql DROP PROCEDURE IF EXISTS GetEmployeeDetails;</code></li> </ul> </li> <li> <p>\u5b58\u50a8\u8fc7\u7a0b\u4e2d\u7684\u4e8b\u52a1\u63a7\u5236\uff1a</p> <ul> <li>\u5b58\u50a8\u8fc7\u7a0b\u53ef\u4ee5\u5305\u542b\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5\uff0c\u5982 <code>BEGIN</code>\u3001<code>COMMIT</code> \u548c <code>ROLLBACK</code>\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002 ```sql DELIMITER //</li> </ul> <p>CREATE PROCEDURE TransferFunds(IN from_acc INT, IN to_acc INT, IN amount DECIMAL(10,2)) BEGIN     DECLARE EXIT HANDLER FOR SQLEXCEPTION     BEGIN         ROLLBACK;     END;</p> <pre><code>START TRANSACTION;\nUPDATE accounts SET balance = balance - amount WHERE account_id = from_acc;\nUPDATE accounts SET balance = balance + amount WHERE account_id = to_acc;\nCOMMIT;\n</code></pre> <p>END //</p> <p>DELIMITER ; ```</p> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u5b58\u50a8\u8fc7\u7a0b\u662f MySQL \u4e2d\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u7528\u4e8e\u5c01\u88c5\u4e00\u7cfb\u5217 SQL \u8bed\u53e5\uff0c\u63d0\u9ad8\u4ee3\u7801\u91cd\u7528\u6027\u548c\u6267\u884c\u6548\u7387\u3002\u901a\u8fc7\u521b\u5efa\u3001\u8c03\u7528\u3001\u4fee\u6539\u548c\u5220\u9664\u5b58\u50a8\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u6709\u6548\u7ba1\u7406\u590d\u6742\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u548c\u4e8b\u52a1\u63a7\u5236\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#85-mysql-trigger","title":"85. MySQL \u4e2d\u7684\u89e6\u53d1\u5668\uff08Trigger\uff09\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u89e6\u53d1\u5668\u662f MySQL \u4e2d\u7684\u4e00\u79cd\u7279\u6b8a\u5b58\u50a8\u8fc7\u7a0b\uff0c\u7528\u4e8e\u5728\u5bf9\u8868\u8fdb\u884c <code>INSERT</code>\u3001<code>UPDATE</code> \u6216 <code>DELETE</code> \u64cd\u4f5c\u65f6\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u7684 SQL \u8bed\u53e5\u3002\u89e6\u53d1\u5668\u53ef\u4ee5\u7528\u4e8e\u6570\u636e\u9a8c\u8bc1\u3001\u81ea\u52a8\u8bb0\u5f55\u65e5\u5fd7\u3001\u7ef4\u62a4\u5ba1\u8ba1\u8ddf\u8e2a\u7b49\u573a\u666f\u3002</p> <pre><code> 1. **\u521b\u5efa\u89e6\u53d1\u5668**\uff1a\n    - \u4f7f\u7528 `CREATE TRIGGER` \u8bed\u53e5\u521b\u5efa\u89e6\u53d1\u5668\uff0c\u6307\u5b9a\u89e6\u53d1\u4e8b\u4ef6\uff08`BEFORE` \u6216 `AFTER`\uff09\uff0c\u4ee5\u53ca\u89e6\u53d1\u64cd\u4f5c\uff08`INSERT`\u3001`UPDATE` \u6216 `DELETE`\uff09\u3002\n    ```sql\n    DELIMITER //\n\n    CREATE TRIGGER before_insert_employee\n    BEFORE INSERT ON employees\n    FOR EACH ROW\n    BEGIN\n        IF NEW.salary &lt; 0 THEN\n            SIGNAL SQLSTATE '45000'\n            SET MESSAGE_TEXT = 'Salary cannot be negative';\n        END IF;\n    END //\n\n    DELIMITER ;\n    ```\n\n 2. **\u5220\u9664\u89e6\u53d1\u5668**\uff1a\n    - \u4f7f\u7528 `DROP TRIGGER` \u8bed\u53e5\u5220\u9664\u89e6\u53d1\u5668\u3002\n    ```sql\n    DROP TRIGGER IF EXISTS before_insert_employee;\n    ```\n\n 3. **\u89e6\u53d1\u5668\u4e2d\u7684\u65b0\u65e7\u503c**\uff1a\n    - \u89e6\u53d1\u5668\u53ef\u4ee5\u8bbf\u95ee\u65b0\u65e7\u503c\uff0c\u4f8b\u5982\u5728 `BEFORE INSERT` \u89e6\u53d1\u5668\u4e2d\u4f7f\u7528 `NEW` \u5173\u952e\u5b57\u83b7\u53d6\u63d2\u5165\u7684\u65b0\u503c\uff0c\u5728 `BEFORE UPDATE` \u89e6\u53d1\u5668\u4e2d\u4f7f\u7528 `OLD` \u5173\u952e\u5b57\u83b7\u53d6\u66f4\u65b0\u524d\u7684\u65e7\u503c\u3002\n    ```sql\n    DELIMITER //\n\n    CREATE TRIGGER after_update_employee\n    AFTER UPDATE ON employees\n    FOR EACH ROW\n    BEGIN\n        INSERT INTO audit_log (employee_id, old_salary, new_salary, change_date)\n        VALUES (OLD.id, OLD.salary, NEW.salary, NOW());\n    END //\n\n    DELIMITER ;\n    ```\n\n 4. **\u89e6\u53d1\u5668\u7684\u9650\u5236**\uff1a\n    - \u89e6\u53d1\u5668\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b\u6216\u51fd\u6570\uff0c\u4f46\u53ef\u4ee5\u5728\u89e6\u53d1\u5668\u4e2d\u6267\u884c SQL \u8bed\u53e5\u3002\u89e6\u53d1\u5668\u4e2d\u4e0d\u5141\u8bb8\u5305\u542b `COMMIT` \u6216 `ROLLBACK` \u8bed\u53e5\uff0c\u4e8b\u52a1\u63a7\u5236\u7531\u89e6\u53d1\u5668\u7684\u8c03\u7528\u8005\u8d1f\u8d23\u3002\n</code></pre> <p>\u603b\u7ed3\uff1a\u89e6\u53d1\u5668\u662f MySQL \u4e2d\u7528\u4e8e\u81ea\u52a8\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\u7684\u673a\u5236\uff0c\u80fd\u591f\u5728\u6570\u636e\u4fee\u6539\u65f6\u81ea\u52a8\u5904\u7406\u590d\u6742\u7684\u903b\u8f91\u3002\u901a\u8fc7\u6b63\u786e\u4f7f\u7528\u89e6\u53d1\u5668\uff0c\u53ef\u4ee5\u6709\u6548\u5b9e\u73b0\u6570\u636e\u9a8c\u8bc1\u3001\u65e5\u5fd7\u8bb0\u5f55\u548c\u5ba1\u8ba1\u7b49\u529f\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#86-mysql-explain","title":"86. MySQL \u7684 <code>EXPLAIN</code> \u8bed\u53e5\u5982\u4f55\u7528\u4e8e\u4f18\u5316\u67e5\u8be2\uff1f","text":"<p>\u89e3\u6790\uff1a    - <code>EXPLAIN</code> \u8bed\u53e5\u7528\u4e8e\u5206\u6790 SQL \u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u4e86\u89e3\u67e5\u8be2\u7684\u6267\u884c\u8fc7\u7a0b\uff0c\u4ece\u800c\u53d1\u73b0\u6f5c\u5728\u7684\u6027\u80fd\u95ee\u9898\u5e76\u8fdb\u884c\u4f18\u5316\u3002<code>EXPLAIN</code> \u63d0\u4f9b\u4e86\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u5305\u62ec\u8868\u7684\u8bbf\u95ee\u987a\u5e8f\u3001\u4f7f\u7528\u7684\u7d22\u5f15\u3001\u8fde\u63a5\u7c7b\u578b\u7b49\u4fe1\u606f\u3002</p> <pre><code> 1. **\u57fa\u672c\u7528\u6cd5**\uff1a\n    - \u4f7f\u7528 `EXPLAIN` \u524d\u7f00\u6765\u67e5\u770b SQL \u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\u3002\n    ```sql\n    EXPLAIN SELECT * FROM employees WHERE department = 'Sales';\n    ```\n\n 2. **\u89e3\u91ca\u7ed3\u679c\u5b57\u6bb5**\uff1a\n    - **id**\uff1a\u67e5\u8be2\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u901a\u5e38\u7528\u4e8e\u591a\u8868\u67e5\u8be2\u3002\n    - **select_type**\uff1a\u67e5\u8be2\u7684\u7c7b\u578b\uff0c\u5982 `SIMPLE`\u3001`PRIMARY`\u3001`SUBQUERY` \u7b49\u3002\n    - **table**\uff1a\u5f53\u524d\u8bbf\u95ee\u7684\u8868\u540d\u3002\n    - **type**\uff1a\u8fde\u63a5\u7c7b\u578b\uff0c\u8868\u793a\u67e5\u8be2\u7684\u6548\u7387\uff0c\u901a\u5e38\u4ece `ALL`\u3001`index`\u3001`range`\u3001`ref` \u5230 `const`\u3002\n    - **possible_keys**\uff1a\u53ef\u80fd\u7528\u4e8e\u4f18\u5316\u67e5\u8be2\u7684\u7d22\u5f15\u3002\n    - **key**\uff1a\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15\u3002\n    - **rows**\uff1a\u9884\u8ba1\u626b\u63cf\u7684\u884c\u6570\u3002\n    - **Extra**\uff1a\u5176\u4ed6\u4fe1\u606f\uff0c\u5982\u662f\u5426\u4f7f\u7528\u4e86\u4e34\u65f6\u8868\u3001\u6587\u4ef6\u6392\u5e8f\u7b49\u3002\n\n 3. **\u4f18\u5316\u5efa\u8bae**\uff1a\n    - **\u68c0\u67e5\u8868\u7684\u8fde\u63a5\u987a\u5e8f**\uff1a\u786e\u4fdd\u8868\u7684\u8fde\u63a5\u987a\u5e8f\u662f\u6700\u4f18\u7684\u3002\n    - **\u4f7f\u7528\u9002\u5f53\u7684\u7d22\u5f15**\uff1a\u901a\u8fc7 `possible_keys` \u548c `key` \u5b57\u6bb5\u68c0\u67e5\u662f\u5426\u4f7f\u7528\u4e86\u5408\u9002\u7684\u7d22\u5f15\uff0c\u5fc5\u8981\u65f6\u521b\u5efa\u6216\u8c03\u6574\u7d22\u5f15\u3002\n    - **\u907f\u514d\u5168\u8868\u626b\u63cf**\uff1a\u5982\u679c `type` \u5b57\u6bb5\u4e3a `ALL`\uff0c\u5219\u8868\u793a\u5168\u8868\u626b\u63cf\uff0c\u8003\u8651\u6dfb\u52a0\u7d22\u5f15\u6765\u907f\u514d\u5168\u8868\u626b\u63cf\u3002\n\n 4. **\u4f18\u5316\u4f8b\u5b50**\uff1a\n    - **\u6162\u67e5\u8be2\u4f18\u5316**\uff1a\n    ```sql\n    EXPLAIN SELECT * FROM orders WHERE order_date BETWEEN '2023-01-01' AND '2023-12-31';\n    ```\n    - \u5982\u679c\u67e5\u8be2\u7ed3\u679c\u663e\u793a `type` \u4e3a `ALL`\uff0c\u5219\u8868\u793a\u6ca1\u6709\u4f7f\u7528\u7d22\u5f15\uff0c\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u5408\u9002\u7684\u7d22\u5f15\u6765\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002\n    ```sql\n    CREATE INDEX idx_order_date ON orders (order_date);\n    ```\n</code></pre> <p>\u603b\u7ed3\uff1a<code>EXPLAIN</code> \u8bed\u53e5\u662f MySQL \u67e5\u8be2\u4f18\u5316\u7684\u91cd\u8981\u5de5\u5177\uff0c\u901a\u8fc7\u5206\u6790\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u8bc6\u522b\u6027\u80fd\u74f6\u9888\uff0c\u5e76\u901a\u8fc7\u8c03\u6574\u7d22\u5f15\u548c\u67e5\u8be2\u7ed3\u6784\u6765\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#87-mysql","title":"87. \u5982\u4f55\u5728 MySQL \u4e2d\u8fdb\u884c\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u662f\u6570\u636e\u5e93\u7ba1\u7406\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002MySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u5907\u4efd\u548c\u6062\u590d\u65b9\u6cd5\uff0c\u5305\u62ec\u903b\u8f91\u5907\u4efd\u548c\u7269\u7406\u5907\u4efd\u3002</p> <pre><code> 1. **\u903b\u8f91\u5907\u4efd\uff08\u4f7f\u7528 `mysqldump`\uff09**\uff1a\n    - `mysqldump` \u5de5\u5177\u7528\u4e8e\u521b\u5efa\u6570\u636e\u5e93\u7684\u903b\u8f91\u5907\u4efd\uff0c\u751f\u6210 SQL \u811a\u672c\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u4e8e\u6062\u590d\u6570\u636e\u5e93\u3002\n    ```bash\n    # \u5907\u4efd\u6574\u4e2a\u6570\u636e\u5e93\n    mysqldump -u username -p database_name &gt; backup.sql\n\n    # \u5907\u4efd\u5355\u4e2a\u8868\n    mysqldump -u username -p database_name table_name &gt; backup.sql\n\n    # \u5907\u4efd\u6240\u6709\u6570\u636e\u5e93\n    mysqldump -u username -p --all-databases &gt; backup.sql\n    ```\n\n 2. **\u6062\u590d\u903b\u8f91\u5907\u4efd**\uff1a\n    - \u4f7f\u7528 `mysql` \u5de5\u5177\u5c06\u5907\u4efd\u7684 SQL \u811a\u672c\u6062\u590d\u5230\u6570\u636e\u5e93\u4e2d\u3002\n    ```bash\n    mysql -u username -p database_name &lt; backup.sql\n    ```\n\n 3. **\u7269\u7406\u5907\u4efd\uff08\u4f7f\u7528 `mysqlbackup` \u6216 `XtraBackup`\uff09**\uff1a\n    - \u7269\u7406\u5907\u4efd\u662f\u57fa\u4e8e\u6570\u636e\u5e93\u6570\u636e\u6587\u4ef6\u7684\u5907\u4efd\uff0c\u901a\u5e38\u4f7f\u7528 `mysqlbackup` \u6216 `XtraBackup` \u5de5\u5177\u8fdb\u884c\u3002\n    ```bash\n    # \u4f7f\u7528 `mysqlbackup` \u8fdb\u884c\u5907\u4efd\n    mysqlbackup --backup-dir=/path/to/backup backup\n\n    # \u4f7f\u7528 `XtraBackup` \u8fdb\u884c\u5907\u4efd\n    innobackupex /path/to/backup\n    ```\n\n 4. **\u6062\u590d\u7269\u7406\u5907\u4efd**\uff1a\n    - \u5c06\u5907\u4efd\u7684\u6570\u636e\u6587\u4ef6\u590d\u5236\u56de MySQL \u6570\u636e\u76ee\u5f55\uff0c\u7136\u540e\u542f\u52a8 MySQL \u670d\u52a1\u3002\n    ```bash\n    # \u4f7f\u7528 `XtraBackup` \u6062\u590d\u5907\u4efd\n    innobackupex --copy-back /path/to/backup\n    ```\n\n 5. **\u589e\u91cf\u5907\u4efd\u548c\u5dee\u5f02\u5907\u4efd**\uff1a\n    - \u589e\u91cf\u5907\u4efd\u4ec5\u5907\u4efd\u81ea\u4e0a\u6b21\u5907\u4efd\u4ee5\u6765\u53d1\u751f\u53d8\u5316\u7684\u6570\u636e\uff0c\u5dee\u5f02\u5907\u4efd\u5219\u5907\u4efd\u81ea\u4e0a\u6b21\u5b8c\u5168\u5907\u4efd\u4ee5\u6765\u7684\u6240\u6709\u6570\u636e\u3002\u53ef\u4ee5\u901a\u8fc7 `XtraBackup` \u8fdb\u884c\u589e\u91cf\u5907\u4efd\u548c\u5dee\u5f02\u5907\u4efd\u3002\n</code></pre> <p>\u603b\u7ed3\uff1a\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u662f\u4fdd\u969c\u6570\u636e\u5b89\u5168\u7684\u5173\u952e\u64cd\u4f5c\u3002MySQL \u63d0\u4f9b\u4e86\u591a\u79cd\u5907\u4efd\u548c\u6062\u590d\u65b9\u6cd5\uff0c\u5305\u62ec\u903b\u8f91\u5907\u4efd\u548c\u7269\u7406\u5907\u4efd\uff0c\u901a\u8fc7\u9009\u62e9\u9002\u5408\u7684\u5907\u4efd\u7b56\u7565\u548c\u5de5\u5177\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u4fdd\u62a4\u6570\u636e\u5e93\u6570\u636e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#88-mysql-explain-analyze","title":"88. MySQL \u4e2d\u7684 <code>EXPLAIN ANALYZE</code> \u662f\u4ec0\u4e48\uff1f","text":"<p>\u89e3\u6790\uff1a    - <code>EXPLAIN ANALYZE</code> \u662f MySQL 8.0 \u53ca\u4ee5\u4e0a\u7248\u672c\u4e2d\u5f15\u5165\u7684\u65b0\u529f\u80fd\uff0c\u5b83\u5728\u6267\u884c\u67e5\u8be2\u65f6\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u6267\u884c\u8ba1\u5212\u4fe1\u606f\uff0c\u5e76\u4e14\u5b9e\u9645\u8fd0\u884c\u4e86\u67e5\u8be2\u4ee5\u6536\u96c6\u771f\u5b9e\u7684\u6267\u884c\u6570\u636e\u3002\u8fd9\u6bd4\u4f20\u7edf\u7684 <code>EXPLAIN</code> \u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u5b9e\u9645\u8fd0\u884c\u4fe1\u606f\u3002</p> <pre><code> 1. **\u57fa\u672c\u7528\u6cd5**\uff1a\n    - \u4f7f\u7528 `EXPLAIN ANALYZE` \u6765\u83b7\u53d6\u67e5\u8be2\u7684\u6267\u884c\u8ba1\u5212\u548c\u5b9e\u9645\u6267\u884c\u7edf\u8ba1\u4fe1\u606f\u3002\n    ```sql\n    EXPLAIN ANALYZE SELECT * FROM employees WHERE department = 'Sales';\n    ```\n\n 2. **\u89e3\u91ca\u7ed3\u679c\u5b57\u6bb5**\uff1a\n    - **id**\uff1a\u67e5\u8be2\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002\n    - **select_type**\uff1a\u67e5\u8be2\u7684\u7c7b\u578b\u3002\n    - **table**\uff1a\u5f53\u524d\u8bbf\u95ee\u7684\u8868\u540d\u3002\n    - **type**\uff1a\u8fde\u63a5\u7c7b\u578b\u3002\n    - **rows**\uff1a\u9884\u8ba1\u626b\u63cf\u7684\u884c\u6570\u3002\n    - **filtered**\uff1a\u4f30\u8ba1\u7684\u8fc7\u6ee4\u6bd4\u4f8b\u3002\n    - **actual_time**\uff1a\u5b9e\u9645\u6267\u884c\u65f6\u95f4\u3002\n    - **cost**\uff1a\u5b9e\u9645\u6d88\u8017\u7684\u6210\u672c\u3002\n\n 3. **\u4f7f\u7528\u793a\u4f8b**\uff1a\n    - `EXPLAIN ANALYZE` \u5141\u8bb8\u5f00\u53d1\u8005\u770b\u5230\u5b9e\u9645\u6267\u884c\u7684\u65f6\u95f4\u548c\u6210\u672c\uff0c\u4ece\u800c\u8fdb\u884c\u66f4\u7cbe\u786e\u7684\u6027\u80fd\u4f18\u5316\u3002\n    ```sql\n    EXPLAIN ANALYZE SELECT * FROM orders WHERE order_date BETWEEN '2023-01-01' AND '2023-12-31';\n    ```\n</code></pre> <p>\u603b\u7ed3\uff1a<code>EXPLAIN ANALYZE</code> \u63d0\u4f9b\u4e86\u6bd4\u4f20\u7edf <code>EXPLAIN</code> \u66f4\u8be6\u7ec6\u7684\u67e5\u8be2\u6267\u884c\u4fe1\u606f\uff0c\u5305\u62ec\u5b9e\u9645\u7684\u6267\u884c\u65f6\u95f4\u548c\u6210\u672c\uff0c\u6709\u52a9\u4e8e\u66f4\u7cbe\u786e\u5730\u4f18\u5316\u67e5\u8be2\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#89-mysql","title":"89. MySQL \u7684\u6570\u636e\u8868\u5206\u533a\u6709\u4ec0\u4e48\u7528\u5904\uff1f","text":"<p>\u89e3\u6790\uff1a    - \u6570\u636e\u8868\u5206\u533a\u662f MySQL \u63d0\u4f9b\u7684\u4e00\u79cd\u6570\u636e\u7ba1\u7406\u6280\u672f\uff0c\u7528\u4e8e\u5c06\u5927\u578b\u8868\u5206\u5272\u6210\u66f4\u5c0f\u3001\u66f4\u6613\u4e8e\u7ba1\u7406\u7684\u90e8\u5206\u3002\u6bcf\u4e2a\u5206\u533a\u53ef\u4ee5\u72ec\u7acb\u5b58\u50a8\u548c\u8bbf\u95ee\uff0c\u4ece\u800c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u548c\u6570\u636e\u7ba1\u7406\u6548\u7387\u3002</p> <pre><code> 1. **\u5206\u533a\u7c7b\u578b**\uff1a\n    - **\u8303\u56f4\u5206\u533a\uff08RANGE\uff09**\uff1a\u6839\u636e\u5217\u503c\u7684\u8303\u56f4\u5c06\u6570\u636e\u5206\u533a\u3002\n    ```sql\n    CREATE TABLE orders (\n        id INT,\n        order_date DATE,\n        amount DECIMAL(10,2)\n    )\n    PARTITION BY RANGE (YEAR(order_date)) (\n        PARTITION p0 VALUES LESS THAN (2023),\n        PARTITION p1 VALUES LESS THAN (2024),\n        PARTITION p2 VALUES LESS THAN (2025)\n    );\n    ```\n\n    - **\u5217\u8868\u5206\u533a\uff08LIST\uff09**\uff1a\u6839\u636e\u5217\u503c\u7684\u5217\u8868\u5c06\u6570\u636e\u5206\u533a\u3002\n    ```sql\n    CREATE TABLE employees (\n        id INT,\n        name VARCHAR(255),\n        department VARCHAR(50)\n    )\n    PARTITION BY LIST COLUMNS (department) (\n        PARTITION p0 VALUES IN ('HR', 'Finance'),\n        PARTITION p1 VALUES IN ('Engineering', 'Sales'),\n        PARTITION p2 VALUES IN ('Marketing', 'Support')\n    );\n    ```\n\n    - **\u54c8\u5e0c\u5206\u533a\uff08HASH\uff09**\uff1a\u4f7f\u7528\u54c8\u5e0c\u51fd\u6570\u5c06\u6570\u636e\u5206\u533a\u3002\n    ```sql\n    CREATE TABLE logs (\n        id INT,\n        log_date DATE,\n        message TEXT\n    )\n    PARTITION BY HASH (YEAR(log_date)) PARTITIONS 4;\n    ```\n\n    - **\u952e\u5206\u533a\uff08KEY\uff09**\uff1a\u57fa\u4e8e\u5217\u503c\u7684\u54c8\u5e0c\u503c\u5c06\u6570\u636e\u5206\u533a\u3002\n    ```sql\n    CREATE TABLE users (\n        id INT AUTO_INCREMENT,\n        name VARCHAR(255),\n        email VARCHAR(255),\n        PRIMARY KEY (id)\n    )\n    PARTITION BY KEY (id) PARTITIONS 4;\n    ```\n\n 2. **\u5206\u533a\u4f18\u52bf**\uff1a\n    - **\u6027\u80fd\u63d0\u5347**\uff1a\u67e5\u8be2\u53ea\u626b\u63cf\u76f8\u5173\u5206\u533a\uff0c\u51cf\u5c11\u6570\u636e\u626b\u63cf\u91cf\uff0c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002\n    - **\u6570\u636e\u7ba1\u7406**\uff1a\u5206\u533a\u4f7f\u5f97\u5927\u8868\u66f4\u6613\u4e8e\u7ba1\u7406\u548c\u7ef4\u62a4\uff0c\u4f8b\u5982\u53ef\u4ee5\u5355\u72ec\u5907\u4efd\u6216\u6062\u590d\u67d0\u4e2a\u5206\u533a\u7684\u6570\u636e\u3002\n    - **\u5f52\u6863\u548c\u6e05\u7406**\uff1a\u53ef\u4ee5\u65b9\u4fbf\u5730\u5bf9\u8001\u65e7\u6570\u636e\u8fdb\u884c\u5f52\u6863\u6216\u5220\u9664\uff0c\u53ea\u9700\u64cd\u4f5c\u67d0\u4e2a\u5206\u533a\u3002\n</code></pre> <p>\u603b\u7ed3\uff1a\u6570\u636e\u8868\u5206\u533a\u662f\u4f18\u5316\u5927\u578b\u8868\u6027\u80fd\u548c\u7ba1\u7406\u7684\u6709\u6548\u6280\u672f\uff0c\u901a\u8fc7\u5c06\u6570\u636e\u5206\u6210\u591a\u4e2a\u5206\u533a\uff0c\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u548c\u6570\u636e\u7ba1\u7406\u7684\u7075\u6d3b\u6027\u3002\u9009\u62e9\u5408\u9002\u7684\u5206\u533a\u7b56\u7565\uff0c\u53ef\u4ee5\u5728\u5927\u6570\u636e\u91cf\u573a\u666f\u4e2d\u63d0\u5347 MySQL \u7684\u6027\u80fd\u548c\u53ef\u7ef4\u62a4\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#90-mysql","title":"90. MySQL \u4e2d\u7684\u865a\u62df\u5217\u548c\u751f\u6210\u5217\u6709\u4ec0\u4e48\u7528\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u865a\u62df\u5217\uff08Virtual Columns\uff09\u548c\u751f\u6210\u5217\uff08Generated Columns\uff09\u662f MySQL 5.7 \u53ca\u4ee5\u4e0a\u7248\u672c\u5f15\u5165\u7684\u529f\u80fd\uff0c\u7528\u4e8e\u5728\u8868\u4e2d\u521b\u5efa\u8ba1\u7b97\u5217\u3002\u8fd9\u4e9b\u5217\u53ef\u4ee5\u5728\u67e5\u8be2\u65f6\u81ea\u52a8\u8ba1\u7b97\uff0c\u4e0d\u9700\u8981\u5b58\u50a8\u5b9e\u9645\u7684\u6570\u636e\u3002</p> <ol> <li> <p>\u865a\u62df\u5217\uff08Virtual Columns\uff09\uff1a</p> <ul> <li>\u865a\u62df\u5217\u662f\u57fa\u4e8e\u5176\u4ed6\u5217\u7684\u8ba1\u7b97\u7ed3\u679c\u751f\u6210\u7684\uff0c\u4f46\u4e0d\u5b58\u50a8\u5b9e\u9645\u7684\u6570\u636e\uff0c\u53ea\u5728\u67e5\u8be2\u65f6\u8ba1\u7b97\u3002 <code>sql CREATE TABLE products (     id INT AUTO_INCREMENT PRIMARY KEY,     price DECIMAL(10,2),     tax DECIMAL(10,2) AS (price * 0.1) VIRTUAL );</code></li> </ul> </li> <li> <p>\u751f\u6210\u5217\uff08Generated Columns\uff09\uff1a</p> <ul> <li>\u751f\u6210\u5217\u53ef\u4ee5\u662f\u5b58\u50a8\u751f\u6210\u5217\uff08STORED\uff09\u6216\u865a\u62df\u751f\u6210\u5217\uff08VIRTUAL\uff09\u3002\u5b58\u50a8\u751f\u6210\u5217\u5728\u8868\u4e2d\u5b9e\u9645\u5b58\u50a8\u8ba1\u7b97\u7ed3\u679c\uff0c\u865a\u62df\u751f\u6210\u5217\u4ec5\u5728\u67e5\u8be2\u65f6\u8ba1\u7b97\u3002 <code>sql CREATE TABLE orders (     id INT AUTO_INCREMENT PRIMARY KEY,     quantity INT,     unit_price DECIMAL(10,2),     total_price DECIMAL(10,2) GENERATED ALWAYS AS (quantity * unit_price) STORED );</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u573a\u666f\uff1a</p> <ul> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u751f\u6210\u5217\u53ef\u4ee5\u88ab\u7d22\u5f15\uff0c\u4ece\u800c\u52a0\u901f\u67e5\u8be2\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u6765\u52a0\u901f\u5bf9\u8ba1\u7b97\u5217\u7684\u67e5\u8be2\u3002 <code>sql CREATE INDEX idx_total_price ON orders (total_price);</code></li> <li>\u6570\u636e\u8ba1\u7b97\uff1a\u865a\u62df\u5217\u548c\u751f\u6210\u5217\u53ef\u4ee5\u7528\u4e8e\u5728\u67e5\u8be2\u4e2d\u8fdb\u884c\u590d\u6742\u7684\u8ba1\u7b97\uff0c\u800c\u65e0\u9700\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b9e\u73b0\u3002</li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a\u865a\u62df\u5217\u548c\u751f\u6210\u5217\u662f MySQL \u4e2d\u7528\u4e8e\u8ba1\u7b97\u548c\u4f18\u5316\u6570\u636e\u5b58\u50a8\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\uff0c\u7b80\u5316\u6570\u636e\u5904\u7406\u3002\u751f\u6210\u5217\u53ef\u4ee5\u9009\u62e9\u5b58\u50a8\u6216\u865a\u62df\u8ba1\u7b97\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u6570\u636e\u8ba1\u7b97\u548c\u7d22\u5f15\u4f18\u5316\u573a\u666f\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#91-mysql-group-by-having-where","title":"91. MySQL \u7684 <code>GROUP BY</code> \u5b50\u53e5\u4e2d\u7684 <code>HAVING</code> \u5b50\u53e5\u4e0e <code>WHERE</code> \u5b50\u53e5\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u5728 MySQL \u67e5\u8be2\u4e2d\uff0c<code>GROUP BY</code> \u5b50\u53e5\u7528\u4e8e\u5c06\u7ed3\u679c\u96c6\u6309\u7167\u6307\u5b9a\u7684\u5217\u5206\u7ec4\uff0c\u800c <code>HAVING</code> \u548c <code>WHERE</code> \u5b50\u53e5\u5219\u7528\u4e8e\u8fc7\u6ee4\u6570\u636e\uff0c\u4f46\u5b83\u4eec\u7684\u4f7f\u7528\u573a\u666f\u6709\u6240\u4e0d\u540c\u3002</p> <ol> <li> <p><code>WHERE</code> \u5b50\u53e5\uff1a</p> <ul> <li><code>WHERE</code> \u5b50\u53e5\u7528\u4e8e\u8fc7\u6ee4\u539f\u59cb\u6570\u636e\u884c\u3002\u5728 <code>GROUP BY</code> \u5b50\u53e5\u5e94\u7528\u4e4b\u524d\uff0c\u5b83\u4f1a\u7b5b\u9009\u6389\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\u3002 <code>sql SELECT department, COUNT(*) as num_employees FROM employees WHERE hire_date &gt;= '2023-01-01' GROUP BY department;</code></li> </ul> </li> <li> <p><code>HAVING</code> \u5b50\u53e5\uff1a</p> <ul> <li><code>HAVING</code> \u5b50\u53e5\u7528\u4e8e\u8fc7\u6ee4\u5206\u7ec4\u540e\u7684\u6570\u636e\u3002\u5728 <code>GROUP BY</code> \u5b50\u53e5\u5e94\u7528\u4e4b\u540e\uff0c\u5b83\u4f1a\u7b5b\u9009\u6389\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u5206\u7ec4\u3002 <code>sql SELECT department, COUNT(*) as num_employees FROM employees GROUP BY department HAVING COUNT(*) &gt; 10;</code></li> </ul> </li> <li> <p>\u4f7f\u7528\u793a\u4f8b\uff1a</p> <ul> <li> <p><code>WHERE</code> \u5b50\u53e5\uff1a\u5148\u7b5b\u9009\u6570\u636e\uff0c\u7136\u540e\u8fdb\u884c\u5206\u7ec4\u3002 <code>sql SELECT department, AVG(salary) as avg_salary FROM employees WHERE status = 'Active' GROUP BY department;</code></p> </li> <li> <p><code>HAVING</code> \u5b50\u53e5\uff1a\u5148\u8fdb\u884c\u5206\u7ec4\uff0c\u7136\u540e\u5bf9\u5206\u7ec4\u7ed3\u679c\u8fdb\u884c\u7b5b\u9009\u3002 <code>sql SELECT department, AVG(salary) as avg_salary FROM employees GROUP BY department HAVING AVG(salary) &gt; 50000;</code></p> </li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1a<code>WHERE</code> \u5b50\u53e5\u7528\u4e8e\u5728\u5206\u7ec4\u524d\u7b5b\u9009\u6570\u636e\u884c\uff0c\u800c <code>HAVING</code> \u5b50\u53e5\u7528\u4e8e\u5728\u5206\u7ec4\u540e\u7b5b\u9009\u5206\u7ec4\u7ed3\u679c\u3002\u6b63\u786e\u4f7f\u7528\u8fd9\u4e24\u4e2a\u5b50\u53e5\u53ef\u4ee5\u6709\u6548\u5730\u5904\u7406\u548c\u4f18\u5316\u6570\u636e\u67e5\u8be2\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#92-mysql","title":"92. MySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u662f\u4ec0\u4e48\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5b9a\u4e49\u4e86\u4e8b\u52a1\u5728\u5e76\u53d1\u73af\u5883\u4e0b\u4e0e\u5176\u4ed6\u4e8b\u52a1\u7684\u4ea4\u4e92\u65b9\u5f0f\u3002MySQL \u652f\u6301\u56db\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u6bcf\u79cd\u7ea7\u522b\u90fd\u6709\u4e0d\u540c\u7684\u6570\u636e\u4e00\u81f4\u6027\u548c\u5e76\u53d1\u63a7\u5236\u7279\u6027\u3002</p> <ol> <li> <p>\u8bfb\u672a\u63d0\u4ea4\uff08READ UNCOMMITTED\uff09\uff1a</p> <ul> <li>\u5141\u8bb8\u4e8b\u52a1\u8bfb\u53d6\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff08\u810f\u8bfb\uff09\u3002\u8fd9\u662f\u6700\u4f4e\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002 <code>sql SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;</code></li> </ul> </li> <li> <p>\u8bfb\u5df2\u63d0\u4ea4\uff08READ COMMITTED\uff09\uff1a</p> <ul> <li>\u53ea\u5141\u8bb8\u4e8b\u52a1\u8bfb\u53d6\u5df2\u63d0\u4ea4\u7684\u6570\u636e\uff08\u4e0d\u53ef\u91cd\u590d\u8bfb\uff09\u3002\u89e3\u51b3\u4e86\u810f\u8bfb\u95ee\u9898\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u5230\u4e0d\u540c\u7684\u6570\u636e\u3002 <code>sql SET TRANSACTION ISOLATION LEVEL READ COMMITTED;</code></li> </ul> </li> <li> <p>\u53ef\u91cd\u590d\u8bfb\uff08REPEATABLE READ\uff09\uff1a</p> <ul> <li>\u786e\u4fdd\u5728\u540c\u4e00\u4e8b\u52a1\u4e2d\u591a\u6b21\u8bfb\u53d6\u76f8\u540c\u7684\u6570\u636e\u65f6\uff0c\u7ed3\u679c\u662f\u4e00\u81f4\u7684\uff08\u5e7b\u8bfb\uff09\u3002\u8fd9\u662f MySQL \u7684\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522b\u3002 <code>sql SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;</code></li> </ul> </li> <li> <p>\u4e32\u884c\u5316\uff08SERIALIZABLE\uff09\uff1a</p> <ul> <li>\u6700\u9ad8\u7684\u9694\u79bb\u7ea7\u522b\uff0c\u786e\u4fdd\u4e8b\u52a1\u4e32\u884c\u6267\u884c\uff0c\u907f\u514d\u6240\u6709\u5e76\u53d1\u95ee\u9898\uff08\u5305\u62ec\u5e7b\u8bfb\uff09\u3002\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\uff0c\u56e0\u4e3a\u4e8b\u52a1\u9700\u8981\u6392\u961f\u7b49\u5f85\u3002 <code>sql SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u51b3\u5b9a\u4e86\u4e8b\u52a1\u4e4b\u95f4\u7684\u5e76\u53d1\u63a7\u5236\u548c\u6570\u636e\u4e00\u81f4\u6027\u8981\u6c42\u3002\u9009\u62e9\u9002\u5f53\u7684\u9694\u79bb\u7ea7\u522b\u53ef\u4ee5\u5728\u6570\u636e\u4e00\u81f4\u6027\u548c\u7cfb\u7edf\u6027\u80fd\u4e4b\u95f4\u53d6\u5f97\u5e73\u8861\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#93-mysql-innodb","title":"93. MySQL \u7684 <code>INNODB</code> \u5b58\u50a8\u5f15\u64ce\u7684\u4e8b\u52a1\u5904\u7406\u7279\u70b9\u662f\u4ec0\u4e48\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p>InnoDB \u662f MySQL \u7684\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\uff0c\u652f\u6301\u4e8b\u52a1\u5904\u7406\u3001\u884c\u7ea7\u9501\u3001\u5916\u952e\u7ea6\u675f\u7b49\u529f\u80fd\u3002\u5b83\u63d0\u4f9b\u4e86 ACID\uff08\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u3001\u6301\u4e45\u6027\uff09\u4e8b\u52a1\u7279\u6027\uff0c\u9002\u5408\u9ad8\u5e76\u53d1\u548c\u9ad8\u53ef\u9760\u6027\u9700\u6c42\u7684\u5e94\u7528\u573a\u666f\u3002</p> <ol> <li> <p>\u4e8b\u52a1\u652f\u6301\uff1a</p> <ul> <li>InnoDB \u652f\u6301\u4e8b\u52a1\u5904\u7406\uff0c\u5305\u62ec\u4e8b\u52a1\u7684\u5f00\u59cb\u3001\u63d0\u4ea4\u548c\u56de\u6eda\u3002 <code>sql START TRANSACTION; -- \u6267\u884c SQL \u8bed\u53e5 COMMIT;</code></li> </ul> </li> <li> <p>\u884c\u7ea7\u9501\uff1a</p> <ul> <li>InnoDB \u63d0\u4f9b\u884c\u7ea7\u9501\uff0c\u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u5e76\u53d1\u8bbf\u95ee\u540c\u4e00\u8868\u4e2d\u7684\u4e0d\u540c\u884c\uff0c\u51cf\u5c11\u4e86\u9501\u7ade\u4e89\u3002 <code>sql SELECT * FROM employees FOR UPDATE;</code></li> </ul> </li> <li> <p>\u5916\u952e\u7ea6\u675f\uff1a</p> <ul> <li>InnoDB \u652f\u6301\u5916\u952e\u7ea6\u675f\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\u3002 <code>sql CREATE TABLE orders (     id INT AUTO_INCREMENT PRIMARY KEY,     customer_id INT,     FOREIGN KEY (customer_id) REFERENCES customers(id) );</code></li> </ul> </li> <li> <p>\u5d29\u6e83\u6062\u590d\uff1a</p> <ul> <li>InnoDB \u4f7f\u7528\u91cd\u505a\u65e5\u5fd7\uff08redo log\uff09\u548c\u64a4\u9500\u65e5\u5fd7\uff08undo log\uff09\u6765\u652f\u6301\u5d29\u6e83\u6062\u590d\uff0c\u786e\u4fdd\u6570\u636e\u7684\u6301\u4e45\u6027\u3002 <code>sql -- \u5d29\u6e83\u6062\u590d\u529f\u80fd\u5728\u914d\u7f6e\u4e2d\u542f\u7528 innodb_flush_log_at_trx_commit = 1;</code></li> </ul> </li> <li> <p>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1a</p> <ul> <li>InnoDB \u652f\u6301\u56db\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u5141\u8bb8\u5f00\u53d1\u8005\u6839\u636e\u9700\u6c42\u914d\u7f6e\u4e8b\u52a1\u7684\u9694\u79bb\u7279\u6027\u3002 <code>sql SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aInnoDB \u5b58\u50a8\u5f15\u64ce\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u4e8b\u52a1\u5904\u7406\u80fd\u529b\uff0c\u5305\u62ec\u4e8b\u52a1\u652f\u6301\u3001\u884c\u7ea7\u9501\u3001\u5916\u952e\u7ea6\u675f\u548c\u5d29\u6e83\u6062\u590d\u529f\u80fd\u3002\u5b83\u662f MySQL \u4e2d\u5904\u7406\u9ad8\u5e76\u53d1\u548c\u9ad8\u53ef\u9760\u6027\u5e94\u7528\u7684\u9996\u9009\u5b58\u50a8\u5f15\u64ce\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#94-mysql-join","title":"94. MySQL \u7684 <code>JOIN</code> \u64cd\u4f5c\u6709\u54ea\u4e9b\uff1f","text":"<p>\u89e3\u6790\uff1a</p> <ul> <li> <p><code>JOIN</code> \u64cd\u4f5c\u7528\u4e8e\u5c06\u4e24\u4e2a\u6216\u591a\u4e2a\u8868\u7684\u8bb0\u5f55\u7ed3\u5408\u8d77\u6765\uff0c\u57fa\u4e8e\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u8fdb\u884c\u67e5\u8be2\u3002MySQL \u652f\u6301\u591a\u79cd\u7c7b\u578b\u7684 <code>JOIN</code> \u64cd\u4f5c\uff0c\u4e3b\u8981\u5305\u62ec\u5185\u8fde\u63a5\u3001\u5916\u8fde\u63a5\u548c\u4ea4\u53c9\u8fde\u63a5\u3002</p> <ol> <li> <p>\u5185\u8fde\u63a5\uff08INNER JOIN\uff09\uff1a</p> <ul> <li>\u5185\u8fde\u63a5\u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u5339\u914d\u7684\u8bb0\u5f55\u3002\u5982\u679c\u8868\u4e2d\u6709\u4e0d\u5339\u914d\u7684\u8bb0\u5f55\uff0c\u8fd9\u4e9b\u8bb0\u5f55\u5c06\u88ab\u6392\u9664\u3002 <code>sql SELECT employees.id, employees.name, departments.name FROM employees INNER JOIN departments ON employees.department_id = departments.id;</code></li> </ul> </li> <li> <p>\u5de6\u5916\u8fde\u63a5\uff08LEFT JOIN / LEFT OUTER JOIN\uff09\uff1a</p> <ul> <li>\u5de6\u5916\u8fde\u63a5\u8fd4\u56de\u5de6\u8868\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u5373\u4f7f\u53f3\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u8bb0\u5f55\u3002\u5982\u679c\u53f3\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u8bb0\u5f55\uff0c\u7ed3\u679c\u4e2d\u7684\u76f8\u5173\u5217\u5c06\u663e\u793a\u4e3a <code>NULL</code>\u3002 <code>sql SELECT employees.id, employees.name, departments.name FROM employees LEFT JOIN departments ON employees.department_id = departments.id;</code></li> </ul> </li> <li> <p>\u53f3\u5916\u8fde\u63a5\uff08RIGHT JOIN / RIGHT OUTER JOIN\uff09\uff1a</p> <ul> <li>\u53f3\u5916\u8fde\u63a5\u8fd4\u56de\u53f3\u8868\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u5373\u4f7f\u5de6\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u8bb0\u5f55\u3002\u5982\u679c\u5de6\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u8bb0\u5f55\uff0c\u7ed3\u679c\u4e2d\u7684\u76f8\u5173\u5217\u5c06\u663e\u793a\u4e3a <code>NULL</code>\u3002 <code>sql SELECT employees.id, employees.name, departments.name FROM employees RIGHT JOIN departments ON employees.department_id = departments.id;</code></li> </ul> </li> <li> <p>\u5168\u5916\u8fde\u63a5\uff08FULL JOIN / FULL OUTER JOIN\uff09\uff1a</p> <ul> <li>\u5168\u5916\u8fde\u63a5\u8fd4\u56de\u4e24\u4e2a\u8868\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u5373\u4f7f\u67d0\u4e9b\u8bb0\u5f55\u5728\u53e6\u4e00\u4e2a\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u8bb0\u5f55\u3002MySQL \u4e0d\u76f4\u63a5\u652f\u6301\u5168\u5916\u8fde\u63a5\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u8054\u5408\u5185\u8fde\u63a5\u548c\u5916\u8fde\u63a5\u6765\u5b9e\u73b0\u3002 <code>sql SELECT employees.id, employees.name, departments.name FROM employees LEFT JOIN departments ON employees.department_id = departments.id UNION SELECT employees.id, employees.name, departments.name FROM employees RIGHT JOIN departments ON employees.department_id = departments.id;</code></li> </ul> </li> <li> <p>\u4ea4\u53c9\u8fde\u63a5\uff08CROSS JOIN\uff09\uff1a</p> <ul> <li>\u4ea4\u53c9\u8fde\u63a5\u8fd4\u56de\u4e24\u4e2a\u8868\u7684\u7b1b\u5361\u5c14\u79ef\uff0c\u5373\u4e24\u4e2a\u8868\u7684\u6bcf\u4e00\u884c\u4e0e\u53e6\u4e00\u4e2a\u8868\u7684\u6bcf\u4e00\u884c\u8fdb\u884c\u7ec4\u5408\u3002\u901a\u5e38\u9700\u8981\u4e0e <code>WHERE</code> \u5b50\u53e5\u7ed3\u5408\u4f7f\u7528\u4ee5\u9650\u5236\u7ed3\u679c\u96c6\u7684\u5927\u5c0f\u3002 <code>sql SELECT employees.id, employees.name, departments.name FROM employees CROSS JOIN departments;</code></li> </ul> </li> </ol> </li> </ul> <p>\u603b\u7ed3\uff1aMySQL \u4e2d\u7684 <code>JOIN</code> \u64cd\u4f5c\u5141\u8bb8\u5c06\u591a\u4e2a\u8868\u7684\u6570\u636e\u7ed3\u5408\u8d77\u6765\u8fdb\u884c\u67e5\u8be2\uff0c\u652f\u6301\u5185\u8fde\u63a5\u3001\u5916\u8fde\u63a5\u548c\u4ea4\u53c9\u8fde\u63a5\u7b49\u591a\u79cd\u65b9\u5f0f\u3002\u901a\u8fc7\u6b63\u786e\u4f7f\u7528 <code>JOIN</code> \u64cd\u4f5c\uff0c\u53ef\u4ee5\u9ad8\u6548\u5730\u68c0\u7d22\u548c\u6574\u5408\u76f8\u5173\u6570\u636e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/interview/#_1","title":"\u8865\u5145\u9898\u76ee","text":"<p>MySQL\u8865\u5145\u9898\u76ee</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/","title":"MySQL \u5e38\u89c1\u95ee\u9898","text":"<p>\u5728 MySQL \u7684\u5b9e\u9645\u5de5\u4f5c\u4e2d\uff0c\u5e38\u5e38\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 MySQL \u5de5\u4f5c\u4e2d\u9047\u5230\u7684\u95ee\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#1","title":"1. \u6162\u67e5\u8be2","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u67e5\u8be2\u6267\u884c\u65f6\u95f4\u8fc7\u957f\uff0c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u7f3a\u4e4f\u7d22\u5f15\uff1a\u6ca1\u6709\u4e3a\u67e5\u8be2\u6761\u4ef6\u521b\u5efa\u5408\u9002\u7684\u7d22\u5f15\u3002 - \u5927\u6570\u636e\u91cf\uff1a\u8868\u7684\u6570\u636e\u91cf\u8fc7\u5927\uff0c\u67e5\u8be2\u5904\u7406\u6162\u3002 - \u4e0d\u5408\u7406\u7684\u67e5\u8be2\u8bed\u53e5\uff1a\u67e5\u8be2\u8bed\u53e5\u7684\u5199\u6cd5\u4e0d\u4f18\u5316\uff0c\u5982\u5168\u8868\u626b\u63cf\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u6dfb\u52a0\u7d22\u5f15\uff1a\u6839\u636e\u67e5\u8be2\u6761\u4ef6\u548c <code>EXPLAIN</code> \u8f93\u51fa\u7ed3\u679c\uff0c\u6dfb\u52a0\u5408\u9002\u7684\u7d22\u5f15\u3002   <code>sql   CREATE INDEX idx_column ON table_name(column_name);</code> - \u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a\u91cd\u5199\u67e5\u8be2\u8bed\u53e5\uff0c\u907f\u514d\u4f7f\u7528 <code>SELECT *</code>\uff0c\u5e76\u5229\u7528 JOIN \u548c WHERE \u6761\u4ef6\u9650\u5236\u7ed3\u679c\u96c6\u3002 - \u4f7f\u7528\u7f13\u5b58\uff1a\u542f\u7528 MySQL \u67e5\u8be2\u7f13\u5b58\uff0c\u51cf\u5c11\u91cd\u590d\u67e5\u8be2\u3002   <code>sql   SET GLOBAL query_cache_size = 1048576;</code> - \u8868\u5206\u533a\uff1a\u5c06\u8868\u5206\u533a\uff0c\u51cf\u5c11\u6bcf\u6b21\u67e5\u8be2\u7684\u6570\u636e\u91cf\u3002   <code>sql   ALTER TABLE table_name PARTITION BY RANGE (column_name) (     PARTITION p0 VALUES LESS THAN (1000),     PARTITION p1 VALUES LESS THAN (2000)   );</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#2","title":"2. \u6b7b\u9501","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u4e8b\u52a1\u4e4b\u95f4\u56e0\u76f8\u4e92\u6301\u6709\u9501\u800c\u5bfc\u81f4\u7684\u6b7b\u9501\u95ee\u9898\uff0c\u5bfc\u81f4\u4e8b\u52a1\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u4e8b\u52a1\u9501\u5b9a\u987a\u5e8f\u4e0d\u4e00\u81f4\uff1a\u4e0d\u540c\u4e8b\u52a1\u9501\u5b9a\u8d44\u6e90\u7684\u987a\u5e8f\u4e0d\u540c\uff0c\u5bfc\u81f4\u5faa\u73af\u7b49\u5f85\u3002 - \u9501\u7c92\u5ea6\u8fc7\u5927\uff1a\u4e8b\u52a1\u6301\u6709\u9501\u7684\u8303\u56f4\u8fc7\u5927\uff0c\u589e\u52a0\u4e86\u6b7b\u9501\u7684\u6982\u7387\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5206\u6790\u6b7b\u9501\uff1a\u4f7f\u7528 <code>SHOW ENGINE INNODB STATUS</code> \u67e5\u770b\u6b7b\u9501\u4fe1\u606f\u3002   <code>sql   SHOW ENGINE INNODB STATUS;</code> - \u4f18\u5316\u4e8b\u52a1\u8bbe\u8ba1\uff1a\u5c3d\u91cf\u51cf\u5c0f\u4e8b\u52a1\u7684\u9501\u5b9a\u8303\u56f4\uff0c\u6309\u76f8\u540c\u7684\u987a\u5e8f\u8bf7\u6c42\u9501\u8d44\u6e90\u3002 - \u589e\u52a0\u8d85\u65f6\u8bbe\u7f6e\uff1a\u8bbe\u7f6e\u9501\u7b49\u5f85\u8d85\u65f6\uff0c\u907f\u514d\u957f\u65f6\u95f4\u7b49\u5f85\u3002   <code>sql   SET innodb_lock_wait_timeout = 50;</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#3","title":"3. \u6570\u636e\u5e93\u8fde\u63a5\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5e94\u7528\u65e0\u6cd5\u8fde\u63a5\u5230 MySQL \u6570\u636e\u5e93\uff0c\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u6570\u636e\u5e93\u670d\u52a1\u672a\u542f\u52a8\uff1aMySQL \u670d\u52a1\u672a\u8fd0\u884c\u6216\u5d29\u6e83\u3002 - \u7f51\u7edc\u95ee\u9898\uff1a\u7f51\u7edc\u8fde\u63a5\u95ee\u9898\u6216\u9632\u706b\u5899\u963b\u6b62\u8fde\u63a5\u3002 - \u914d\u7f6e\u9519\u8bef\uff1aMySQL \u914d\u7f6e\u6587\u4ef6\u4e2d\u7ed1\u5b9a\u4e86\u9519\u8bef\u7684 IP \u5730\u5740\u6216\u7aef\u53e3\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u68c0\u67e5\u6570\u636e\u5e93\u670d\u52a1\uff1a\u786e\u4fdd MySQL \u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u3002   <code>bash   sudo systemctl status mysql</code> - \u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\uff1a\u786e\u8ba4\u7f51\u7edc\u8fde\u901a\u6027\uff0c\u786e\u4fdd\u9632\u706b\u5899\u8bbe\u7f6e\u6b63\u786e\u3002   <code>bash   telnet your_database_host 3306</code> - \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\uff1a\u786e\u8ba4 MySQL \u914d\u7f6e\u6587\u4ef6 <code>my.cnf</code> \u4e2d\u7684 <code>bind-address</code> \u548c <code>port</code> \u8bbe\u7f6e\u6b63\u786e\u3002   <code>ini   [mysqld]   bind-address = 0.0.0.0   port = 3306</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#4","title":"4. \u6570\u636e\u4e22\u5931\u6216\u635f\u574f","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u6570\u636e\u610f\u5916\u4e22\u5931\u6216\u6570\u636e\u5e93\u635f\u574f\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u53ef\u7528\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u786c\u4ef6\u6545\u969c\uff1a\u78c1\u76d8\u6545\u969c\u6216\u5176\u4ed6\u786c\u4ef6\u95ee\u9898\u3002 - \u8f6f\u4ef6\u9519\u8bef\uff1aMySQL \u8f6f\u4ef6\u7684\u7f3a\u9677\u6216\u4e0d\u6b63\u786e\u7684\u914d\u7f6e\u3002 - \u7528\u6237\u8bef\u64cd\u4f5c\uff1a\u9519\u8bef\u7684 SQL \u64cd\u4f5c\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u6062\u590d\u5907\u4efd\uff1a\u4f7f\u7528\u5907\u4efd\u6062\u590d\u6570\u636e\u3002\u786e\u4fdd\u5b9a\u671f\u5907\u4efd\u6570\u636e\u3002   <code>bash   mysql -u root -p &lt; backup.sql</code> - \u4f7f\u7528\u65e5\u5fd7\u6587\u4ef6\u6062\u590d\uff1a\u5229\u7528 MySQL \u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff08binlog\uff09\u6062\u590d\u6570\u636e\u3002   <code>bash   mysqlbinlog binlog_file &gt; recovery.sql   mysql -u root -p &lt; recovery.sql</code> - \u4fee\u590d\u8868\uff1a\u5982\u679c\u8868\u635f\u574f\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>REPAIR</code> \u8bed\u53e5\u4fee\u590d\u3002   <code>sql   REPAIR TABLE table_name;</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#5","title":"5. \u6027\u80fd\u74f6\u9888","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u6570\u636e\u5e93\u6027\u80fd\u4e0d\u5982\u9884\u671f\uff0c\u67e5\u8be2\u901f\u5ea6\u6162\uff0c\u7cfb\u7edf\u54cd\u5e94\u8fdf\u949d\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u670d\u52a1\u5668\u8d44\u6e90\u4e0d\u8db3\uff1aCPU\u3001\u5185\u5b58\u6216\u78c1\u76d8 I/O \u6027\u80fd\u74f6\u9888\u3002 - \u67e5\u8be2\u4e0d\u4f18\u5316\uff1a\u67e5\u8be2\u8bed\u53e5\u548c\u7d22\u5f15\u4f7f\u7528\u4e0d\u5f53\u3002 - \u914d\u7f6e\u4e0d\u5408\u7406\uff1aMySQL \u914d\u7f6e\u53c2\u6570\u4e0d\u9002\u5408\u5f53\u524d\u8d1f\u8f7d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u914d\u7f6e\uff1a\u6839\u636e\u7cfb\u7edf\u8d1f\u8f7d\u548c\u5b9e\u9645\u60c5\u51b5\u8c03\u6574 MySQL \u914d\u7f6e\u53c2\u6570\uff0c\u5982\u7f13\u51b2\u533a\u5927\u5c0f\u548c\u7f13\u5b58\u8bbe\u7f6e\u3002   <code>ini   innodb_buffer_pool_size = 1G   query_cache_size = 64M</code> - \u76d1\u63a7\u6027\u80fd\uff1a\u4f7f\u7528\u6027\u80fd\u76d1\u63a7\u5de5\u5177\u5982 MySQL Workbench \u6216 <code>performance_schema</code> \u6765\u5206\u6790\u6027\u80fd\u74f6\u9888\u3002 - \u4f18\u5316\u8868\u7ed3\u6784\uff1a\u8c03\u6574\u8868\u7ed3\u6784\u548c\u7d22\u5f15\uff0c\u4ee5\u51cf\u5c11\u67e5\u8be2\u65f6\u95f4\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#6","title":"6. \u6743\u9650\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u7528\u6237\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\u5e93\u6216\u6267\u884c\u7279\u5b9a\u64cd\u4f5c\uff0c\u5bfc\u81f4\u6743\u9650\u4e0d\u8db3\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u7528\u6237\u6743\u9650\u914d\u7f6e\u4e0d\u6b63\u786e\uff1a\u6ca1\u6709\u4e3a\u7528\u6237\u5206\u914d\u6b63\u786e\u7684\u6743\u9650\u3002 - \u6743\u9650\u672a\u5237\u65b0\uff1a\u66f4\u6539\u6743\u9650\u540e\u672a\u5237\u65b0\u6743\u9650\u8868\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u68c0\u67e5\u7528\u6237\u6743\u9650\uff1a\u4f7f\u7528 <code>SHOW GRANTS</code> \u67e5\u770b\u7528\u6237\u6743\u9650\u3002   <code>sql   SHOW GRANTS FOR 'username'@'host';</code> - \u6388\u4e88\u6743\u9650\uff1a\u4e3a\u7528\u6237\u6388\u4e88\u5fc5\u8981\u7684\u6743\u9650\u3002   <code>sql   GRANT ALL PRIVILEGES ON database_name.* TO 'username'@'host';   FLUSH PRIVILEGES;</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#7","title":"7. \u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u6570\u636e\u5728\u591a\u4e2a\u8868\u6216\u6570\u636e\u5e93\u4e2d\u4e0d\u4e00\u81f4\uff0c\u5f71\u54cd\u7cfb\u7edf\u7684\u53ef\u9760\u6027\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u4e8b\u52a1\u5904\u7406\u4e0d\u5f53\uff1a\u4e8b\u52a1\u672a\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002 - \u5916\u952e\u7ea6\u675f\u7f3a\u5931\uff1a\u7f3a\u5c11\u5916\u952e\u7ea6\u675f\uff0c\u65e0\u6cd5\u7ef4\u62a4\u6570\u636e\u5b8c\u6574\u6027\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528\u4e8b\u52a1\uff1a\u786e\u4fdd\u76f8\u5173\u64cd\u4f5c\u5728\u4e8b\u52a1\u4e2d\u8fdb\u884c\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002   <code>sql   START TRANSACTION;   -- \u6267\u884c SQL \u8bed\u53e5   COMMIT;</code> - \u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff1a\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u3002   <code>sql   ALTER TABLE orders ADD CONSTRAINT fk_customer FOREIGN KEY (customer_id) REFERENCES customers(id);</code></p> <p>\u7ee7\u7eed\u6df1\u5165\u8ba8\u8bba\u4e00\u4e9b MySQL \u5de5\u4f5c\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u53ca\u5176\u89e3\u51b3\u65b9\u6848\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#8","title":"8. \u8fde\u63a5\u6c60\u914d\u7f6e\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u914d\u7f6e\u4e0d\u5f53\uff0c\u5bfc\u81f4\u8fde\u63a5\u8fc7\u591a\u6216\u8fc7\u5c11\uff0c\u5f71\u54cd\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u8fde\u63a5\u6c60\u914d\u7f6e\u4e0d\u5408\u7406\uff1a\u6700\u5927\u8fde\u63a5\u6570\u6216\u6700\u5c0f\u8fde\u63a5\u6570\u8bbe\u7f6e\u4e0d\u9002\u5408\u5b9e\u9645\u8d1f\u8f7d\u3002 - \u8d44\u6e90\u6cc4\u6f0f\uff1a\u8fde\u63a5\u672a\u88ab\u6b63\u786e\u5173\u95ed\uff0c\u5bfc\u81f4\u8fde\u63a5\u6c60\u8d44\u6e90\u8017\u5c3d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u8c03\u6574\u8fde\u63a5\u6c60\u914d\u7f6e\uff1a\u6839\u636e\u5b9e\u9645\u8d1f\u8f7d\u8c03\u6574\u6700\u5927\u8fde\u63a5\u6570\u548c\u6700\u5c0f\u8fde\u63a5\u6570\u3002   <code>properties   # Example for HikariCP (Java Connection Pool)   hikari.maximumPoolSize=50   hikari.minimumIdle=10</code> - \u786e\u4fdd\u8fde\u63a5\u5173\u95ed\uff1a\u5728\u4ee3\u7801\u4e2d\u6b63\u786e\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\u3002   <code>java   try (Connection conn = dataSource.getConnection()) {       // \u6267\u884c\u6570\u636e\u5e93\u64cd\u4f5c   } catch (SQLException e) {       e.printStackTrace();   }</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#9","title":"9. \u6570\u636e\u5e93\u8fc1\u79fb\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u8fc1\u79fb\u6570\u636e\u5e93\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u6570\u636e\u4e22\u5931\u3001\u6027\u80fd\u4e0b\u964d\u6216\u8fc1\u79fb\u5931\u8d25\u7684\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u8fc1\u79fb\u5de5\u5177\u914d\u7f6e\u9519\u8bef\uff1a\u8fc1\u79fb\u5de5\u5177\u914d\u7f6e\u4e0d\u5f53\u6216\u4f7f\u7528\u9519\u8bef\u3002 - \u6570\u636e\u683c\u5f0f\u4e0d\u4e00\u81f4\uff1a\u6e90\u6570\u636e\u5e93\u548c\u76ee\u6807\u6570\u636e\u5e93\u7684\u6570\u636e\u683c\u5f0f\u6216\u7248\u672c\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u9009\u62e9\u5408\u9002\u7684\u8fc1\u79fb\u5de5\u5177\uff1a\u4f7f\u7528\u7ecf\u8fc7\u9a8c\u8bc1\u7684\u8fc1\u79fb\u5de5\u5177\u6216\u670d\u52a1\uff0c\u4f8b\u5982 <code>mysqldump</code>\u3001<code>mysqlpump</code> \u6216\u4e13\u4e1a\u7684\u6570\u636e\u8fc1\u79fb\u5de5\u5177\u3002   <code>bash   mysqldump -u root -p database_name &gt; backup.sql   mysql -u root -p new_database &lt; backup.sql</code> - \u9a8c\u8bc1\u8fc1\u79fb\u7ed3\u679c\uff1a\u5728\u8fc1\u79fb\u540e\uff0c\u8fdb\u884c\u6570\u636e\u9a8c\u8bc1\u548c\u6027\u80fd\u6d4b\u8bd5\uff0c\u786e\u4fdd\u6570\u636e\u5b8c\u6574\u6027\u548c\u7cfb\u7edf\u6027\u80fd\u3002 - \u8ba1\u5212\u548c\u6d4b\u8bd5\uff1a\u5728\u751f\u4ea7\u73af\u5883\u8fc1\u79fb\u524d\uff0c\u5148\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8fdb\u884c\u5f7b\u5e95\u6d4b\u8bd5\uff0c\u53d1\u73b0\u548c\u89e3\u51b3\u6f5c\u5728\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#10","title":"10. \u7d22\u5f15\u5931\u6548","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u67e5\u8be2\u6ca1\u6709\u5229\u7528\u7d22\u5f15\uff0c\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u7d22\u5f15\u9009\u62e9\u4e0d\u5f53\uff1a\u67e5\u8be2\u6761\u4ef6\u6ca1\u6709\u4f7f\u7528\u7d22\u5f15\uff0c\u6216\u7d22\u5f15\u8bbe\u8ba1\u4e0d\u5408\u7406\u3002 - \u9690\u5f0f\u8f6c\u6362\uff1a\u67e5\u8be2\u4e2d\u4f7f\u7528\u4e86\u6570\u636e\u7c7b\u578b\u4e0d\u540c\u7684\u5217\uff0c\u5bfc\u81f4\u7d22\u5f15\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u7d22\u5f15\u8bbe\u8ba1\uff1a\u6839\u636e\u67e5\u8be2\u6761\u4ef6\u8bbe\u8ba1\u5408\u9002\u7684\u7d22\u5f15\uff0c\u5305\u62ec\u5355\u5217\u7d22\u5f15\u548c\u590d\u5408\u7d22\u5f15\u3002   <code>sql   CREATE INDEX idx_name_age ON employees(name, age);</code> - \u907f\u514d\u9690\u5f0f\u8f6c\u6362\uff1a\u786e\u4fdd\u67e5\u8be2\u6761\u4ef6\u7684\u6570\u636e\u7c7b\u578b\u4e0e\u5217\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff0c\u907f\u514d\u4f7f\u7528\u7c7b\u578b\u8f6c\u6362\u3002   ```sql   -- \u4e0d\u63a8\u8350\uff08\u53ef\u80fd\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\uff09   SELECT * FROM employees WHERE age = '30';</p> <p>-- \u63a8\u8350   SELECT * FROM employees WHERE age = 30;   ```</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#11","title":"11. \u6570\u636e\u5e93\u5907\u4efd\u548c\u6062\u590d","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5907\u4efd\u548c\u6062\u590d\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\uff0c\u5bfc\u81f4\u6570\u636e\u65e0\u6cd5\u6062\u590d\u6216\u5907\u4efd\u4e0d\u5b8c\u6574\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5907\u4efd\u7b56\u7565\u4e0d\u5f53\uff1a\u5907\u4efd\u7b56\u7565\u8bbe\u7f6e\u4e0d\u5408\u7406\uff0c\u5bfc\u81f4\u5907\u4efd\u4e0d\u5b8c\u6574\u6216\u8fc7\u4e8e\u9891\u7e41\u3002 - \u6062\u590d\u8fc7\u7a0b\u51fa\u9519\uff1a\u6062\u590d\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\u6216\u9057\u6f0f\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5236\u5b9a\u5907\u4efd\u7b56\u7565\uff1a\u6839\u636e\u6570\u636e\u91cd\u8981\u6027\u548c\u53d8\u5316\u9891\u7387\u5236\u5b9a\u5408\u7406\u7684\u5907\u4efd\u7b56\u7565\uff0c\u5305\u62ec\u5168\u91cf\u5907\u4efd\u548c\u589e\u91cf\u5907\u4efd\u3002   ```bash   # Full backup   mysqldump -u root -p --all-databases &gt; full_backup.sql</p> <p># Incremental backup (requires binary logs)   mysqlbinlog --start-datetime=\"2024-01-01 00:00:00\" --stop-datetime=\"2024-01-02 00:00:00\" binlog_file &gt; incremental_backup.sql   ``` - \u6d4b\u8bd5\u6062\u590d\u8fc7\u7a0b\uff1a\u5b9a\u671f\u6d4b\u8bd5\u5907\u4efd\u6062\u590d\u8fc7\u7a0b\uff0c\u786e\u4fdd\u5907\u4efd\u6587\u4ef6\u7684\u5b8c\u6574\u6027\u548c\u53ef\u7528\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#12","title":"12. \u5b57\u7b26\u96c6\u548c\u6392\u5e8f\u89c4\u5219\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5b57\u7b26\u96c6\u548c\u6392\u5e8f\u89c4\u5219\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u6570\u636e\u5b58\u50a8\u548c\u68c0\u7d22\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5b57\u7b26\u96c6\u4e0d\u4e00\u81f4\uff1a\u6570\u636e\u5e93\u3001\u8868\u6216\u5217\u7684\u5b57\u7b26\u96c6\u8bbe\u7f6e\u4e0d\u4e00\u81f4\u3002 - \u6392\u5e8f\u89c4\u5219\u4e0d\u5339\u914d\uff1a\u5b57\u7b26\u6bd4\u8f83\u548c\u6392\u5e8f\u89c4\u5219\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u7edf\u4e00\u5b57\u7b26\u96c6\u548c\u6392\u5e8f\u89c4\u5219\uff1a\u786e\u4fdd\u6570\u636e\u5e93\u3001\u8868\u548c\u5217\u4f7f\u7528\u4e00\u81f4\u7684\u5b57\u7b26\u96c6\u548c\u6392\u5e8f\u89c4\u5219\u3002   <code>sql   ALTER DATABASE database_name CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;   ALTER TABLE table_name CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</code> - \u5904\u7406\u5b57\u7b26\u96c6\u8f6c\u6362\uff1a\u5728\u5bfc\u5165\u6570\u636e\u65f6\uff0c\u786e\u4fdd\u5b57\u7b26\u96c6\u8bbe\u7f6e\u6b63\u786e\uff0c\u907f\u514d\u4e71\u7801\u6216\u6570\u636e\u4e22\u5931\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#13","title":"13. \u6570\u636e\u5e93\u590d\u5236\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u4e3b\u4ece\u590d\u5236\u51fa\u73b0\u5ef6\u8fdf\u6216\u4e0d\u4e00\u81f4\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u590d\u5236\u5ef6\u8fdf\uff1a\u4e3b\u670d\u52a1\u5668\u548c\u4ece\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u540c\u6b65\u5b58\u5728\u5ef6\u8fdf\u3002 - \u590d\u5236\u9519\u8bef\uff1a\u590d\u5236\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u76d1\u63a7\u590d\u5236\u72b6\u6001\uff1a\u4f7f\u7528 <code>SHOW SLAVE STATUS</code> \u67e5\u770b\u590d\u5236\u72b6\u6001\uff0c\u76d1\u63a7\u5ef6\u8fdf\u548c\u9519\u8bef\u3002   <code>sql   SHOW SLAVE STATUS\\G</code> - \u4fee\u590d\u590d\u5236\u9519\u8bef\uff1a\u5982\u679c\u53d1\u73b0\u9519\u8bef\uff0c\u4f7f\u7528 <code>START SLAVE</code> \u548c <code>STOP SLAVE</code> \u8fdb\u884c\u4fee\u590d\uff0c\u5e76\u68c0\u67e5\u590d\u5236\u65e5\u5fd7\u3002   <code>sql   STOP SLAVE;   START SLAVE;</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#14","title":"14. \u9501\u5b9a\u548c\u5e76\u53d1\u63a7\u5236","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u9501\u5b9a\u95ee\u9898\u5bfc\u81f4\u5e76\u53d1\u64cd\u4f5c\u51b2\u7a81\uff0c\u5f71\u54cd\u6570\u636e\u5e93\u6027\u80fd\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u9501\u4e89\u7528\uff1a\u591a\u4e2a\u4e8b\u52a1\u7ade\u4e89\u540c\u4e00\u8d44\u6e90\uff0c\u5bfc\u81f4\u9501\u7b49\u5f85\u548c\u6027\u80fd\u4e0b\u964d\u3002 - \u9501\u5b9a\u7c92\u5ea6\u4e0d\u5408\u7406\uff1a\u4e8b\u52a1\u9501\u5b9a\u7684\u8d44\u6e90\u8fc7\u591a\uff0c\u5f71\u54cd\u5e76\u53d1\u6027\u80fd\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5206\u6790\u9501\u60c5\u51b5\uff1a\u4f7f\u7528 <code>SHOW ENGINE INNODB STATUS</code> \u67e5\u770b\u9501\u4fe1\u606f\u3002   <code>sql   SHOW ENGINE INNODB STATUS;</code> - \u4f18\u5316\u4e8b\u52a1\uff1a\u51cf\u5c11\u4e8b\u52a1\u7684\u9501\u5b9a\u8303\u56f4\uff0c\u907f\u514d\u957f\u65f6\u95f4\u6301\u6709\u9501\u3002   <code>sql   START TRANSACTION;   -- \u6267\u884c\u64cd\u4f5c   COMMIT;</code> - \u4f7f\u7528\u884c\u7ea7\u9501\uff1a\u6839\u636e\u9700\u8981\u4f7f\u7528\u884c\u7ea7\u9501\u800c\u975e\u8868\u7ea7\u9501\uff0c\u4ee5\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#15","title":"15. \u5185\u5b58\u548c\u7f13\u5b58\u7ba1\u7406","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5185\u5b58\u548c\u7f13\u5b58\u914d\u7f6e\u4e0d\u5f53\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u6216\u5185\u5b58\u4e0d\u8db3\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5185\u5b58\u914d\u7f6e\u4e0d\u5408\u7406\uff1aInnoDB \u7f13\u51b2\u6c60\u3001\u67e5\u8be2\u7f13\u5b58\u7b49\u5185\u5b58\u8bbe\u7f6e\u4e0d\u5408\u9002\u3002 - \u7f13\u5b58\u5931\u6548\uff1a\u7f13\u5b58\u914d\u7f6e\u4e0d\u5f53\uff0c\u5bfc\u81f4\u7f13\u5b58\u547d\u4e2d\u7387\u4f4e\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u5185\u5b58\u914d\u7f6e\uff1a\u6839\u636e\u5b9e\u9645\u8d1f\u8f7d\u8c03\u6574 InnoDB \u7f13\u51b2\u6c60\u548c\u67e5\u8be2\u7f13\u5b58\u8bbe\u7f6e\u3002   <code>ini   innodb_buffer_pool_size = 2G   query_cache_size = 128M</code> - \u76d1\u63a7\u7f13\u5b58\u4f7f\u7528\u60c5\u51b5\uff1a\u4f7f\u7528 MySQL \u7684\u76d1\u63a7\u5de5\u5177\u6765\u5206\u6790\u7f13\u5b58\u547d\u4e2d\u7387\u548c\u6027\u80fd\u3002   <code>sql   SHOW STATUS LIKE 'Qcache%';</code></p> <p>\u4ee5\u4e0b\u662f\u66f4\u591a MySQL \u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#11_1","title":"11. \u8868\u9501\u4e0e\u884c\u9501\u51b2\u7a81","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u5927\u8868\u4e0a\u6267\u884c\u64cd\u4f5c\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u8868\u9501\u548c\u884c\u9501\u51b2\u7a81\uff0c\u5bfc\u81f4\u5176\u4ed6\u4e8b\u52a1\u65e0\u6cd5\u8fdb\u884c\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5927\u8303\u56f4\u66f4\u65b0\u64cd\u4f5c\uff1a\u5bf9\u8868\u7684\u5927\u8303\u56f4\u66f4\u65b0\u53ef\u80fd\u89e6\u53d1\u8868\u9501\u3002 - \u4e0d\u5f53\u7684\u9501\u5b9a\u7b56\u7565\uff1a\u4f7f\u7528\u4e86\u4e0d\u9002\u5408\u5f53\u524d\u64cd\u4f5c\u7684\u9501\u7c7b\u578b\uff08\u5982\u4f7f\u7528\u8868\u9501\u800c\u975e\u884c\u9501\uff09\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528\u884c\u9501\uff1a\u5c3d\u91cf\u4f7f\u7528\u884c\u7ea7\u9501\u800c\u975e\u8868\u7ea7\u9501\uff0c\u51cf\u5c11\u9501\u5b9a\u8303\u56f4\u3002   <code>sql   SELECT * FROM table_name WHERE id = 1 FOR UPDATE;</code> - \u5206\u6279\u6b21\u64cd\u4f5c\uff1a\u5bf9\u5927\u8868\u8fdb\u884c\u66f4\u65b0\u65f6\uff0c\u91c7\u7528\u5206\u6279\u6b21\u64cd\u4f5c\uff0c\u907f\u514d\u957f\u65f6\u95f4\u9501\u5b9a\u3002   <code>sql   UPDATE table_name SET column_name = value WHERE condition LIMIT 1000;</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#12_1","title":"12. \u8bfb\u5199\u5206\u79bb\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u8bfb\u5199\u5206\u79bb\u67b6\u6784\u4e0b\uff0c\u6570\u636e\u53ef\u80fd\u4f1a\u51fa\u73b0\u5ef6\u8fdf\uff0c\u5bfc\u81f4\u4ece\u5e93\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u67e5\u8be2\u65e7\u6570\u636e\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u4e3b\u4ece\u590d\u5236\u5ef6\u8fdf\uff1a\u7531\u4e8e\u7f51\u7edc\u6216\u7cfb\u7edf\u8d1f\u8f7d\u95ee\u9898\uff0c\u5bfc\u81f4\u4ece\u5e93\u7684\u6570\u636e\u6ede\u540e\u4e8e\u4e3b\u5e93\u3002 - \u8bfb\u53d6\u7b56\u7565\u4e0d\u5408\u7406\uff1a\u5e94\u7528\u5728\u9700\u8981\u8bfb\u53d6\u6700\u65b0\u6570\u636e\u65f6\u4ece\u4ece\u5e93\u8bfb\u53d6\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u8c03\u6574\u8bfb\u53d6\u7b56\u7565\uff1a\u5728\u9700\u8981\u8bfb\u53d6\u6700\u65b0\u6570\u636e\u7684\u573a\u666f\u4e0b\uff0c\u5f3a\u5236\u8bfb\u53d6\u4e3b\u5e93\u7684\u6570\u636e\u3002   <code>java   if (requiresLatestData) {       useMasterDatabase();   } else {       useSlaveDatabase();   }</code> - \u76d1\u63a7\u590d\u5236\u5ef6\u8fdf\uff1a\u4f7f\u7528\u76d1\u63a7\u5de5\u5177\u6301\u7eed\u76d1\u63a7\u4e3b\u4ece\u590d\u5236\u5ef6\u8fdf\uff0c\u53ca\u65f6\u53d1\u73b0\u5e76\u89e3\u51b3\u95ee\u9898\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#13_1","title":"13. \u67e5\u8be2\u7f13\u5b58\u5931\u6548","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u67e5\u8be2\u7f13\u5b58\u672a\u547d\u4e2d\uff0c\u5bfc\u81f4\u91cd\u590d\u67e5\u8be2\u65f6\u6027\u80fd\u4e0b\u964d\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u52a8\u6001\u67e5\u8be2\u6761\u4ef6\uff1a\u67e5\u8be2\u6761\u4ef6\u7ecf\u5e38\u53d8\u5316\uff0c\u5bfc\u81f4\u7f13\u5b58\u5931\u6548\u3002 - \u8868\u6570\u636e\u9891\u7e41\u66f4\u65b0\uff1a\u8868\u6570\u636e\u9891\u7e41\u66f4\u65b0\uff0c\u5bfc\u81f4\u7f13\u5b58\u9891\u7e41\u5931\u6548\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u67e5\u8be2\u7f13\u5b58\u7b56\u7565\uff1a\u5c3d\u91cf\u51cf\u5c11\u52a8\u6001\u67e5\u8be2\u6761\u4ef6\u7684\u4f7f\u7528\uff0c\u6216\u8005\u5728\u9700\u8981\u9891\u7e41\u8bfb\u53d6\u7684\u6570\u636e\u4e0a\u589e\u52a0\u67e5\u8be2\u7f13\u5b58\u3002   <code>sql   SELECT SQL_CACHE column_name FROM table_name WHERE condition;</code> - \u9488\u5bf9\u6027\u7f13\u5b58\uff1a\u5bf9\u4e0d\u5e38\u66f4\u65b0\u4f46\u9700\u8981\u9891\u7e41\u8bfb\u53d6\u7684\u6570\u636e\u4f7f\u7528\u7f13\u5b58\u6280\u672f\uff08\u5982 Redis\uff09\u6765\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#14_1","title":"14. \u8868\u788e\u7247\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u8868\u6216\u7d22\u5f15\u51fa\u73b0\u788e\u7247\uff0c\u5bfc\u81f4\u67e5\u8be2\u6548\u7387\u4e0b\u964d\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u9891\u7e41\u7684\u589e\u5220\u64cd\u4f5c\uff1a\u9891\u7e41\u7684\u589e\u5220\u64cd\u4f5c\u5bfc\u81f4\u8868\u548c\u7d22\u5f15\u7ed3\u6784\u4e0d\u8fde\u7eed\uff0c\u4ea7\u751f\u788e\u7247\u3002 - \u957f\u671f\u672a\u7ef4\u62a4\uff1a\u8868\u548c\u7d22\u5f15\u957f\u65f6\u95f4\u672a\u8fdb\u884c\u4f18\u5316\u6216\u91cd\u5efa\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u8868\u7ed3\u6784\uff1a\u5b9a\u671f\u4f7f\u7528 <code>OPTIMIZE TABLE</code> \u5bf9\u8868\u8fdb\u884c\u4f18\u5316\uff0c\u6e05\u9664\u788e\u7247\u3002   <code>sql   OPTIMIZE TABLE table_name;</code> - \u91cd\u5efa\u7d22\u5f15\uff1a\u5bf9\u6709\u5927\u91cf\u788e\u7247\u7684\u7d22\u5f15\u8fdb\u884c\u91cd\u5efa\uff0c\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002   <code>sql   ALTER TABLE table_name DROP INDEX index_name, ADD INDEX index_name (column_name);</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#15_1","title":"15. \u81ea\u589e\u4e3b\u952e\u51b2\u7a81","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u591a\u4e3b\u5e93\u67b6\u6784\u6216\u4e3b\u952e\u81ea\u589e\u6b65\u957f\u8bbe\u7f6e\u4e0d\u5408\u7406\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u81ea\u589e\u4e3b\u952e\u51b2\u7a81\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u591a\u4e3b\u5e93\u73af\u5883\uff1a\u591a\u4e2a\u4e3b\u5e93\u540c\u65f6\u5199\u5165\u65f6\uff0c\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e3b\u952e\u51b2\u7a81\u3002 - \u4e0d\u5408\u7406\u7684\u6b65\u957f\u8bbe\u7f6e\uff1a\u4e3b\u952e\u81ea\u589e\u6b65\u957f\uff08<code>auto_increment_increment</code>\uff09\u8bbe\u7f6e\u4e0d\u5f53\uff0c\u5bfc\u81f4\u4e3b\u952e\u91cd\u590d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u914d\u7f6e\u5408\u7406\u7684\u81ea\u589e\u6b65\u957f\uff1a\u5728\u591a\u4e3b\u5e93\u73af\u5883\u4e0b\uff0c\u8bbe\u7f6e\u4e0d\u540c\u7684\u81ea\u589e\u6b65\u957f\u548c\u8d77\u59cb\u503c\uff0c\u907f\u514d\u51b2\u7a81\u3002   <code>sql   SET GLOBAL auto_increment_increment = 2;   SET GLOBAL auto_increment_offset = 1;</code> - \u4f7f\u7528UUID\uff1a\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528 UUID \u4f5c\u4e3a\u4e3b\u952e\uff0c\u907f\u514d\u51b2\u7a81\u3002   <code>sql   INSERT INTO table_name (id, column_name) VALUES (UUID(), value);</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#16","title":"16. \u6162\u67e5\u8be2\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u6162\u67e5\u8be2\u5bfc\u81f4\u6570\u636e\u5e93\u6027\u80fd\u4e0b\u964d\uff0c\u5f71\u54cd\u7cfb\u7edf\u54cd\u5e94\u901f\u5ea6\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u67e5\u8be2\u672a\u4f7f\u7528\u7d22\u5f15\uff1a\u67e5\u8be2\u6761\u4ef6\u672a\u4f7f\u7528\u7d22\u5f15\uff0c\u5bfc\u81f4\u5168\u8868\u626b\u63cf\u3002 - \u590d\u6742\u67e5\u8be2\u8bed\u53e5\uff1a\u67e5\u8be2\u8bed\u53e5\u8fc7\u4e8e\u590d\u6742\uff0c\u6d89\u53ca\u591a\u4e2a\u8868\u7684 JOIN \u64cd\u4f5c\u6216\u5d4c\u5957\u67e5\u8be2\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a\u542f\u7528 MySQL \u7684\u6162\u67e5\u8be2\u65e5\u5fd7\u529f\u80fd\uff0c\u5b9a\u4f4d\u6027\u80fd\u74f6\u9888\u3002   <code>sql   SET GLOBAL slow_query_log = 'ON';   SET GLOBAL long_query_time = 1;</code> - \u4f18\u5316\u67e5\u8be2\u8bed\u53e5\uff1a\u5bf9\u6162\u67e5\u8be2\u8fdb\u884c\u5206\u6790\uff0c\u4f18\u5316\u7d22\u5f15\u548c\u67e5\u8be2\u903b\u8f91\uff0c\u51cf\u5c11\u67e5\u8be2\u65f6\u95f4\u3002   <code>sql   EXPLAIN SELECT * FROM table_name WHERE column_name = value;</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#17","title":"17. \u6570\u636e\u8fc1\u79fb\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u6570\u636e\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u6570\u636e\u4e22\u5931\u6216\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u8fc1\u79fb\u5de5\u5177\u4e0d\u7a33\u5b9a\uff1a\u4f7f\u7528\u7684\u8fc1\u79fb\u5de5\u5177\u6216\u811a\u672c\u4e0d\u7a33\u5b9a\uff0c\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u3002 - \u5e76\u53d1\u5199\u5165\uff1a\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u6709\u65b0\u7684\u6570\u636e\u5199\u5165\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528\u53ef\u9760\u7684\u8fc1\u79fb\u5de5\u5177\uff1a\u4f7f\u7528\u6210\u719f\u7684\u8fc1\u79fb\u5de5\u5177\uff08\u5982 MySQL \u7684 <code>mysqldump</code> \u6216 <code>MySQL Workbench</code>\uff09\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u3002   <code>bash   mysqldump -u root -p database_name &gt; backup.sql</code> - \u8fc1\u79fb\u65f6\u51bb\u7ed3\u6570\u636e\u5199\u5165\uff1a\u5728\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u5c3d\u91cf\u6682\u505c\u6570\u636e\u7684\u5199\u5165\u64cd\u4f5c\uff0c\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#18","title":"18. \u5168\u6587\u68c0\u7d22\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5168\u6587\u68c0\u7d22\u7684\u67e5\u8be2\u7ed3\u679c\u4e0d\u51c6\u786e\u6216\u6027\u80fd\u4e0d\u4f73\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u7d22\u5f15\u672a\u66f4\u65b0\uff1a\u6570\u636e\u66f4\u65b0\u540e\uff0c\u5168\u6587\u68c0\u7d22\u7d22\u5f15\u672a\u53ca\u65f6\u66f4\u65b0\uff0c\u5bfc\u81f4\u68c0\u7d22\u7ed3\u679c\u4e0d\u51c6\u786e\u3002 - \u67e5\u8be2\u4e0d\u5408\u7406\uff1a\u67e5\u8be2\u8bed\u6cd5\u4e0d\u5f53\uff0c\u672a\u5145\u5206\u5229\u7528\u5168\u6587\u7d22\u5f15\u529f\u80fd\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u66f4\u65b0\u5168\u6587\u68c0\u7d22\u7d22\u5f15\uff1a\u5b9a\u671f\u66f4\u65b0\u5168\u6587\u7d22\u5f15\uff0c\u786e\u4fdd\u68c0\u7d22\u7ed3\u679c\u7684\u51c6\u786e\u6027\u3002   <code>sql   ALTER TABLE table_name ADD FULLTEXT(column_name);</code> - \u4f18\u5316\u67e5\u8be2\u8bed\u6cd5\uff1a\u4f7f\u7528\u9002\u5f53\u7684\u67e5\u8be2\u8bed\u6cd5\u548c\u5339\u914d\u6a21\u5f0f\uff0c\u63d0\u9ad8\u67e5\u8be2\u7684\u51c6\u786e\u6027\u548c\u6027\u80fd\u3002   <code>sql   SELECT * FROM table_name WHERE MATCH(column_name) AGAINST('search_term' IN NATURAL LANGUAGE MODE);</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#19","title":"19. \u65f6\u95f4\u6233\u4e0e\u65f6\u533a\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u65f6\u95f4\u6233\u6570\u636e\u5728\u4e0d\u540c\u65f6\u533a\u4e0b\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u65f6\u95f4\u76f8\u5173\u7684\u6570\u636e\u51fa\u73b0\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u65f6\u533a\u914d\u7f6e\u4e0d\u4e00\u81f4\uff1a\u6570\u636e\u5e93\u670d\u52a1\u5668\u3001\u5e94\u7528\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684\u65f6\u533a\u914d\u7f6e\u4e0d\u4e00\u81f4\u3002 - \u65f6\u95f4\u6233\u5b58\u50a8\u4e0d\u5408\u7406\uff1a\u672a\u7edf\u4e00\u65f6\u95f4\u6233\u7684\u5b58\u50a8\u683c\u5f0f\u6216\u65f6\u533a\uff0c\u5bfc\u81f4\u65f6\u95f4\u6570\u636e\u6df7\u4e71\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u7edf\u4e00\u65f6\u533a\u914d\u7f6e\uff1a\u786e\u4fdd\u6570\u636e\u5e93\u670d\u52a1\u5668\u3001\u5e94\u7528\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4f7f\u7528\u76f8\u540c\u7684\u65f6\u533a\u8bbe\u7f6e\u3002   <code>sql   SET time_zone = '+00:00';</code> - \u4f7f\u7528 UTC \u65f6\u95f4\uff1a\u5728\u5b58\u50a8\u65f6\u95f4\u6233\u65f6\uff0c\u7edf\u4e00\u4f7f\u7528 UTC \u65f6\u95f4\uff0c\u907f\u514d\u8de8\u65f6\u533a\u95ee\u9898\u3002   <code>sql   SELECT UTC_TIMESTAMP();</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#20","title":"20. \u5b89\u5168\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u6570\u636e\u5e93\u5b89\u5168\u8bbe\u7f6e\u4e0d\u5f53\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u6cc4\u9732\u6216\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u6743\u9650\u8bbe\u7f6e\u8fc7\u5bbd\uff1a\u7528\u6237\u6743\u9650\u8bbe\u7f6e\u8fc7\u5bbd\uff0c\u5bfc\u81f4\u975e\u6388\u6743\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee\u6216\u4fee\u6539\u6570\u636e\u3002 - \u5b89\u5168\u5ba1\u8ba1\u4e0d\u8db3\uff1a\u7f3a\u4e4f\u6709\u6548\u7684\u5b89\u5168\u5ba1\u8ba1\u548c\u76d1\u63a7\uff0c\u65e0\u6cd5\u53ca\u65f6\u53d1\u73b0\u5b89\u5168\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u6700\u5c0f\u6743\u9650\u539f\u5219\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\uff0c\u4e25\u683c\u8bbe\u7f6e\u7528\u6237\u6743\u9650\uff0c\u786e\u4fdd\u6bcf\u4e2a\u7528\u6237\u53ea\u80fd\u8bbf\u95ee\u5fc5\u8981\u7684\u6570\u636e\u3002   <code>sql   GRANT SELECT, INSERT ON database_name.table_name TO 'user'@'host';</code> - \u542f\u7528\u5b89\u5168\u5ba1\u8ba1\uff1a\u4f7f\u7528 MySQL \u7684\u5b89\u5168\u5ba1\u8ba1\u63d2\u4ef6\u6216\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u5b9a\u671f\u5ba1\u8ba1\u548c\u76d1\u63a7\u6570\u636e\u5e93\u64cd\u4f5c\u3002   <code>sql   INSTALL PLUGIN audit_log SONAME 'audit_log.so';</code></p> <p>\u4ee5\u4e0b\u662f\u66f4\u591a MySQL \u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#21","title":"21. \u9ad8\u5e76\u53d1\u4e0b\u7684\u6570\u636e\u5e93\u8fde\u63a5\u6570\u4e0d\u8db3","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u56e0\u4e3a\u6570\u636e\u5e93\u8fde\u63a5\u6570\u4e0d\u8db3\u800c\u51fa\u73b0\u8fde\u63a5\u8d85\u65f6\u6216\u62d2\u7edd\u8fde\u63a5\u7684\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u8fde\u63a5\u6570\u914d\u7f6e\u8fc7\u4f4e\uff1a\u6570\u636e\u5e93\u7684\u6700\u5927\u8fde\u63a5\u6570\u8bbe\u7f6e\u8f83\u4f4e\uff0c\u65e0\u6cd5\u5e94\u5bf9\u9ad8\u5e76\u53d1\u8bf7\u6c42\u3002 - \u8fde\u63a5\u6c60\u7ba1\u7406\u4e0d\u5f53\uff1a\u5e94\u7528\u7a0b\u5e8f\u8fde\u63a5\u6c60\u672a\u5408\u7406\u914d\u7f6e\uff0c\u5bfc\u81f4\u8fde\u63a5\u6cc4\u9732\u6216\u8fde\u63a5\u590d\u7528\u4e0d\u4f73\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u589e\u52a0\u6700\u5927\u8fde\u63a5\u6570\uff1a\u6839\u636e\u5e94\u7528\u9700\u6c42\u9002\u5f53\u589e\u52a0\u6570\u636e\u5e93\u7684\u6700\u5927\u8fde\u63a5\u6570\u914d\u7f6e\u3002   <code>sql   SET GLOBAL max_connections = 500;</code> - \u4f18\u5316\u8fde\u63a5\u6c60\u914d\u7f6e\uff1a\u5408\u7406\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u7684\u8fde\u63a5\u6c60\u5927\u5c0f\u548c\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u907f\u514d\u8fde\u63a5\u6cc4\u9732\u3002   <code>java   dataSource.setMaxActive(100);   dataSource.setMaxWait(30000);</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#22","title":"22. \u6570\u636e\u5e93\u6b7b\u9501\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u591a\u4e2a\u4e8b\u52a1\u53ef\u80fd\u4f1a\u76f8\u4e92\u7b49\u5f85\u8d44\u6e90\uff0c\u5bfc\u81f4\u6b7b\u9501\u53d1\u751f\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u4e0d\u5408\u7406\u7684\u9501\u5b9a\u987a\u5e8f\uff1a\u4e8b\u52a1\u5728\u8bbf\u95ee\u591a\u4e2a\u8d44\u6e90\u65f6\uff0c\u6ca1\u6709\u9075\u5faa\u4e00\u81f4\u7684\u9501\u5b9a\u987a\u5e8f\uff0c\u5bfc\u81f4\u6b7b\u9501\u3002 - \u957f\u65f6\u95f4\u6301\u6709\u9501\uff1a\u67d0\u4e9b\u4e8b\u52a1\u5728\u6301\u6709\u9501\u7684\u60c5\u51b5\u4e0b\u6267\u884c\u4e86\u8017\u65f6\u64cd\u4f5c\uff0c\u589e\u52a0\u4e86\u6b7b\u9501\u7684\u6982\u7387\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5408\u7406\u8bbe\u8ba1\u4e8b\u52a1\u903b\u8f91\uff1a\u786e\u4fdd\u4e8b\u52a1\u5728\u8bbf\u95ee\u591a\u4e2a\u8d44\u6e90\u65f6\u9075\u5faa\u76f8\u540c\u7684\u9501\u5b9a\u987a\u5e8f\uff0c\u51cf\u5c11\u6b7b\u9501\u6982\u7387\u3002   <code>sql   BEGIN;   SELECT ... FOR UPDATE;   UPDATE ...;   COMMIT;</code> - \u7f29\u77ed\u9501\u5b9a\u65f6\u95f4\uff1a\u5c3d\u91cf\u907f\u514d\u5728\u6301\u6709\u9501\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c\uff0c\u51cf\u5c11\u9501\u7684\u6301\u6709\u65f6\u95f4\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#23","title":"23. \u6162\u67e5\u8be2\u65e5\u5fd7\u8fc7\u5927","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\u540e\uff0c\u65e5\u5fd7\u6587\u4ef6\u8fc5\u901f\u589e\u5927\uff0c\u5360\u7528\u5927\u91cf\u78c1\u76d8\u7a7a\u95f4\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u6162\u67e5\u8be2\u9891\u7e41\u53d1\u751f\uff1a\u5b58\u5728\u5927\u91cf\u6162\u67e5\u8be2\uff0c\u5bfc\u81f4\u65e5\u5fd7\u6587\u4ef6\u5feb\u901f\u589e\u957f\u3002 - \u65e5\u5fd7\u5207\u5206\u7b56\u7565\u4e0d\u5f53\uff1a\u672a\u914d\u7f6e\u6162\u67e5\u8be2\u65e5\u5fd7\u7684\u5207\u5206\u7b56\u7565\uff0c\u5bfc\u81f4\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u6162\u67e5\u8be2\uff1a\u901a\u8fc7\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\u4e2d\u7684\u67e5\u8be2\uff0c\u4f18\u5316\u7d22\u5f15\u548c\u67e5\u8be2\u8bed\u53e5\uff0c\u51cf\u5c11\u6162\u67e5\u8be2\u53d1\u751f\u3002   <code>sql   EXPLAIN SELECT ...;</code> - \u914d\u7f6e\u65e5\u5fd7\u5207\u5206\uff1a\u914d\u7f6e MySQL \u6162\u67e5\u8be2\u65e5\u5fd7\u7684\u81ea\u52a8\u5207\u5206\u7b56\u7565\uff0c\u907f\u514d\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u8fc7\u5927\u3002   <code>ini   log_slow_verbosity = query_plan   log_slow_rate_limit = 100</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#24","title":"24. \u4e3b\u4ece\u590d\u5236\u5ef6\u8fdf","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u4e3b\u4ece\u590d\u5236\u67b6\u6784\u4e2d\uff0c\u4ece\u5e93\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5404\u79cd\u539f\u56e0\u5bfc\u81f4\u6570\u636e\u540c\u6b65\u5ef6\u8fdf\uff0c\u5f71\u54cd\u8bfb\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u4ece\u5e93\u6027\u80fd\u4e0d\u8db3\uff1a\u4ece\u5e93\u7684\u786c\u4ef6\u6027\u80fd\u8f83\u5dee\uff0c\u65e0\u6cd5\u53ca\u65f6\u5904\u7406\u6765\u81ea\u4e3b\u5e93\u7684\u590d\u5236\u8bf7\u6c42\u3002 - \u7f51\u7edc\u5ef6\u8fdf\uff1a\u4e3b\u4ece\u5e93\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u4e0d\u7a33\u5b9a\uff0c\u5bfc\u81f4\u6570\u636e\u4f20\u8f93\u5ef6\u8fdf\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u4ece\u5e93\u914d\u7f6e\uff1a\u63d0\u5347\u4ece\u5e93\u7684\u786c\u4ef6\u914d\u7f6e\uff0c\u6216\u8c03\u6574\u53c2\u6570\u4ee5\u63d0\u9ad8\u590d\u5236\u6027\u80fd\u3002   <code>sql   SET GLOBAL slave_parallel_workers = 4;</code> - \u76d1\u63a7\u548c\u8c03\u4f18\u7f51\u7edc\uff1a\u786e\u4fdd\u4e3b\u4ece\u5e93\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u7a33\u5b9a\uff0c\u5e76\u4f18\u5316\u7f51\u7edc\u914d\u7f6e\u51cf\u5c11\u5ef6\u8fdf\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#25","title":"25. \u8868\u8bbe\u8ba1\u5bfc\u81f4\u7684\u6027\u80fd\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u8868\u8bbe\u8ba1\u4e0d\u5408\u7406\uff0c\u53ef\u80fd\u5bfc\u81f4\u67e5\u8be2\u6027\u80fd\u4e0b\u964d\u6216\u6570\u636e\u5197\u4f59\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5b57\u6bb5\u8bbe\u8ba1\u4e0d\u5408\u7406\uff1a\u8868\u4e2d\u5305\u542b\u5927\u91cf\u5197\u4f59\u5b57\u6bb5\u6216\u4e0d\u5fc5\u8981\u7684 BLOB/TEXT \u5b57\u6bb5\uff0c\u5f71\u54cd\u67e5\u8be2\u6027\u80fd\u3002 - \u7d22\u5f15\u8bbe\u8ba1\u4e0d\u5408\u7406\uff1a\u672a\u6b63\u786e\u5efa\u7acb\u7d22\u5f15\u6216\u7d22\u5f15\u8fc7\u591a\uff0c\u5bfc\u81f4\u67e5\u8be2\u4f18\u5316\u5668\u65e0\u6cd5\u9009\u62e9\u6700\u4f18\u7d22\u5f15\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u8868\u7ed3\u6784\uff1a\u5bf9\u8868\u7ed3\u6784\u8fdb\u884c\u68b3\u7406\uff0c\u79fb\u9664\u4e0d\u5fc5\u8981\u7684\u5b57\u6bb5\uff0c\u4f18\u5316\u6570\u636e\u7c7b\u578b\u3002   <code>sql   ALTER TABLE table_name DROP COLUMN redundant_column;</code> - \u5408\u7406\u8bbe\u8ba1\u7d22\u5f15\uff1a\u6839\u636e\u67e5\u8be2\u9700\u6c42\u5efa\u7acb\u5fc5\u8981\u7684\u7d22\u5f15\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\u6d6a\u8d39\u5b58\u50a8\u548c\u5f71\u54cd\u5199\u6027\u80fd\u3002   <code>sql   CREATE INDEX idx_name ON table_name(column1, column2);</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#26","title":"26. \u5916\u952e\u7ea6\u675f\u5f71\u54cd\u6027\u80fd","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u5916\u952e\u7ea6\u675f\u53ef\u80fd\u5bfc\u81f4\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u6027\u80fd\u4e0b\u964d\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5916\u952e\u5173\u8054\u7684\u6570\u636e\u91cf\u8f83\u5927\uff1a\u5916\u952e\u5173\u8054\u7684\u5927\u91cf\u6570\u636e\u9700\u8981\u5728\u64cd\u4f5c\u65f6\u8fdb\u884c\u989d\u5916\u7684\u68c0\u67e5\uff0c\u5f71\u54cd\u6027\u80fd\u3002 - \u5916\u952e\u5bfc\u81f4\u7684\u6b7b\u9501\uff1a\u590d\u6742\u7684\u5916\u952e\u5173\u7cfb\u53ef\u80fd\u4f1a\u589e\u52a0\u6b7b\u9501\u53d1\u751f\u7684\u6982\u7387\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5ba1\u614e\u4f7f\u7528\u5916\u952e\uff1a\u5728\u6027\u80fd\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\u4e0b\uff0c\u8003\u8651\u901a\u8fc7\u5e94\u7528\u903b\u8f91\u5b9e\u73b0\u6570\u636e\u5b8c\u6574\u6027\uff0c\u907f\u514d\u4f7f\u7528\u5916\u952e\u3002   <code>sql   ALTER TABLE table_name DROP FOREIGN KEY fk_name;</code> - \u4f18\u5316\u5916\u952e\u5173\u8054\u67e5\u8be2\uff1a\u786e\u4fdd\u5916\u952e\u5b57\u6bb5\u6709\u5408\u9002\u7684\u7d22\u5f15\uff0c\u51cf\u5c11\u5173\u8054\u67e5\u8be2\u65f6\u7684\u6027\u80fd\u635f\u8017\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#27","title":"27. \u5206\u533a\u8868\u7ba1\u7406\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5728\u4f7f\u7528\u5206\u533a\u8868\u65f6\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5206\u533a\u8bbe\u8ba1\u4e0d\u5f53\u6216\u7ba1\u7406\u4e0d\u5584\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5206\u533a\u952e\u9009\u62e9\u4e0d\u5f53\uff1a\u5206\u533a\u952e\u9009\u62e9\u4e0d\u5f53\uff0c\u5bfc\u81f4\u6570\u636e\u5206\u5e03\u4e0d\u5747\u5300\u6216\u67d0\u4e9b\u5206\u533a\u8fc7\u5927\u3002 - \u5206\u533a\u8fc7\u591a\u6216\u8fc7\u5c11\uff1a\u5206\u533a\u6570\u91cf\u4e0d\u5408\u7406\uff0c\u8fc7\u591a\u7684\u5206\u533a\u589e\u52a0\u4e86\u7ba1\u7406\u5f00\u9500\uff0c\u8fc7\u5c11\u7684\u5206\u533a\u5f71\u54cd\u5e76\u884c\u67e5\u8be2\u6027\u80fd\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f18\u5316\u5206\u533a\u952e\u9009\u62e9\uff1a\u6839\u636e\u6570\u636e\u5206\u5e03\u9009\u62e9\u5408\u9002\u7684\u5206\u533a\u952e\uff0c\u786e\u4fdd\u6570\u636e\u5747\u5300\u5206\u5e03\u5728\u5404\u5206\u533a\u3002   <code>sql   ALTER TABLE table_name PARTITION BY RANGE(column_name) (PARTITION p1 VALUES LESS THAN (1000), PARTITION p2 VALUES LESS THAN (2000));</code> - \u8c03\u6574\u5206\u533a\u6570\u91cf\uff1a\u6839\u636e\u6570\u636e\u91cf\u548c\u67e5\u8be2\u7279\u70b9\uff0c\u8c03\u6574\u5206\u533a\u6570\u91cf\u4ee5\u5e73\u8861\u6027\u80fd\u548c\u7ba1\u7406\u5f00\u9500\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#28","title":"28. \u9891\u7e41\u7684\u8868\u7ed3\u6784\u53d8\u66f4","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u9891\u7e41\u4fee\u6539\u8868\u7ed3\u6784\uff08\u5982\u6dfb\u52a0\u3001\u5220\u9664\u5b57\u6bb5\uff09\u53ef\u80fd\u4f1a\u5f71\u54cd\u6570\u636e\u5e93\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5728\u5927\u8868\u4e0a\u8fdb\u884c\u64cd\u4f5c\u65f6\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u9891\u7e41\u8c03\u6574\u4e1a\u52a1\u9700\u6c42\uff1a\u4e1a\u52a1\u9700\u6c42\u7ecf\u5e38\u53d8\u52a8\uff0c\u5bfc\u81f4\u8868\u7ed3\u6784\u9700\u8981\u9891\u7e41\u8c03\u6574\u3002 - \u8868\u8bbe\u8ba1\u4e0d\u5408\u7406\uff1a\u521d\u59cb\u8bbe\u8ba1\u65f6\u672a\u5145\u5206\u8003\u8651\u4e1a\u52a1\u53d1\u5c55\uff0c\u5bfc\u81f4\u540e\u7eed\u9891\u7e41\u4fee\u6539\u8868\u7ed3\u6784\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u51cf\u5c11\u7ed3\u6784\u53d8\u66f4\uff1a\u5728\u8bbe\u8ba1\u9636\u6bb5\u5145\u5206\u8003\u8651\u4e1a\u52a1\u9700\u6c42\uff0c\u907f\u514d\u540e\u671f\u9891\u7e41\u4fee\u6539\u8868\u7ed3\u6784\u3002 - \u4f7f\u7528\u5728\u7ebf DDL \u5de5\u5177\uff1a\u5728\u9700\u8981\u53d8\u66f4\u8868\u7ed3\u6784\u65f6\uff0c\u4f7f\u7528 pt-online-schema-change \u7b49\u5de5\u5177\uff0c\u907f\u514d\u957f\u65f6\u95f4\u9501\u8868\u3002   <code>bash   pt-online-schema-change --alter \"ADD COLUMN new_column INT\" D=database,t=table_name --execute;</code></p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#29","title":"29. \u6570\u636e\u5e93\u5907\u4efd\u4e0e\u6062\u590d\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u5907\u4efd\u7b56\u7565\u4e0d\u5f53\u6216\u6062\u590d\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u95ee\u9898\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u6216\u6062\u590d\u5931\u8d25\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u5907\u4efd\u9891\u7387\u4e0d\u591f\uff1a\u5907\u4efd\u4e0d\u53ca\u65f6\uff0c\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u98ce\u9669\u589e\u5927\u3002 - \u6062\u590d\u8fc7\u7a0b\u590d\u6742\uff1a\u6062\u590d\u6b65\u9aa4\u4e0d\u6e05\u6670\u6216\u6062\u590d\u5de5\u5177\u4e0d\u7a33\u5b9a\uff0c\u5bfc\u81f4\u6062\u590d\u5931\u8d25\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5236\u5b9a\u5408\u7406\u7684\u5907\u4efd\u7b56\u7565\uff1a\u6839\u636e\u4e1a\u52a1\u91cd\u8981\u6027\u548c\u6570\u636e\u53d8\u5316\u9891\u7387\uff0c\u5236\u5b9a\u9002\u5f53\u7684\u5907\u4efd\u7b56\u7565\uff0c\u786e\u4fdd\u6570\u636e\u5b89\u5168\u3002   <code>bash   mysqldump -u root -p --single-transaction --routines --triggers --databases database_name &gt; backup.sql</code> - \u5b9a\u671f\u6f14\u7ec3\u6062\u590d\u8fc7\u7a0b\uff1a\u5b9a\u671f\u8fdb\u884c\u5907\u4efd\u6062\u590d\u6f14\u7ec3\uff0c\u786e\u4fdd\u5728\u9700\u8981\u65f6\u80fd\u591f\u5feb\u901f\u6709\u6548\u5730\u6062\u590d\u6570\u636e\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/questions/#30","title":"30. \u4e8b\u52a1\u5904\u7406\u4e0d\u5f53","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a\u4e0d\u5f53\u7684\u4e8b\u52a1\u5904\u7406\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3001\u9501\u51b2\u7a81\u6216\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a - \u4e8b\u52a1\u8fc7\u5927\uff1a\u5355\u4e2a\u4e8b\u52a1\u6d89\u53ca\u592a\u591a\u64cd\u4f5c\uff0c\u5bfc\u81f4\u9501\u7684\u6301\u6709\u65f6\u95f4\u8fc7\u957f\uff0c\u5f71\u54cd\u5176\u4ed6\u64cd\u4f5c\u7684\u5e76\u53d1\u6027\u3002 - \u672a\u6b63\u786e\u5904\u7406\u4e8b\u52a1\u56de\u6eda\uff1a\u5728\u51fa\u73b0\u5f02\u5e38\u65f6\u672a\u80fd\u6b63\u786e\u56de\u6eda\u4e8b\u52a1\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u7f29\u5c0f\u4e8b\u52a1\u8303\u56f4\uff1a\u5c3d\u91cf\u5c06\u4e8b\u52a1\u8303\u56f4\u63a7\u5236\u5728\u6700\u5c0f\u5fc5\u8981\u8303\u56f4\u5185\uff0c\u51cf\u5c11\u9501\u5b9a\u65f6\u95f4\u3002   <code>sql   BEGIN;   UPDATE ...;   COMMIT;</code> - \u6b63\u786e\u5904\u7406\u56de\u6eda\uff1a\u786e\u4fdd\u5728\u5f02\u5e38\u60c5\u51b5\u4e0b\u80fd\u591f\u6b63\u786e\u56de\u6eda\u4e8b\u52a1\uff0c\u7ef4\u62a4\u6570\u636e\u4e00\u81f4\u6027\u3002   <code>sql   BEGIN;   UPDATE ...;   ROLLBACK;</code></p> <p>\u8fd9\u4e9b\u95ee\u9898\u53cd\u6620\u4e86 MySQL \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u5e38\u89c1\u7684\u6311\u6218\u548c\u89e3\u51b3\u7b56\u7565\u3002\u901a\u8fc7\u9488\u5bf9\u6027\u5730\u4f18\u5316\u914d\u7f6e\u3001\u8bbe\u8ba1\u548c\u64cd\u4f5c\u6d41\u7a0b\uff0c\u53ef\u4ee5\u6709\u6548\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u786e\u4fdd\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/","title":"Redis \u57fa\u7840\u6559\u7a0b","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#redis_1","title":"Redis \u57fa\u7840\u6559\u7a0b","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#1-redis","title":"1. Redis \u7b80\u4ecb","text":"<p>Redis\uff08Remote Dictionary Server\uff09\u662f\u4e00\u79cd\u5f00\u6e90\u7684\u5185\u5b58\u6570\u636e\u7ed3\u6784\u5b58\u50a8\u7cfb\u7edf\uff0c\u53ef\u4ee5\u7528\u4f5c\u6570\u636e\u5e93\u3001\u7f13\u5b58\u3001\u6d88\u606f\u4ee3\u7406\u7b49\u3002\u5b83\u652f\u6301\u591a\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u5982\u5b57\u7b26\u4e32\u3001\u54c8\u5e0c\u3001\u5217\u8868\u3001\u96c6\u5408\u3001\u6709\u5e8f\u96c6\u5408\u7b49\uff0c\u5e76\u4e14\u63d0\u4f9b\u9ad8\u6027\u80fd\u7684\u8bfb\u5199\u64cd\u4f5c\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#2-redis","title":"2. \u5b89\u88c5 Redis","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#linux-redis","title":"\u5728 Linux \u7cfb\u7edf\u4e0a\u5b89\u88c5 Redis","text":"<ol> <li> <p>\u66f4\u65b0\u8f6f\u4ef6\u5305\u5217\u8868\uff1a    <code>bash    sudo apt-get update</code></p> </li> <li> <p>\u5b89\u88c5 Redis\uff1a    <code>bash    sudo apt-get install redis-server</code></p> </li> <li> <p>\u542f\u52a8 Redis \u670d\u52a1\uff1a    <code>bash    sudo systemctl start redis-server</code></p> </li> <li> <p>\u68c0\u67e5 Redis \u72b6\u6001\uff1a    <code>bash    sudo systemctl status redis-server</code></p> </li> </ol>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#macos-redis","title":"\u5728 macOS \u7cfb\u7edf\u4e0a\u5b89\u88c5 Redis","text":"<ol> <li> <p>\u4f7f\u7528 Homebrew \u5b89\u88c5 Redis\uff1a    <code>bash    brew install redis</code></p> </li> <li> <p>\u542f\u52a8 Redis\uff1a    <code>bash    redis-server</code></p> </li> </ol>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#3-redis","title":"3. Redis \u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u952e\u503c\u5bf9\uff08Key-Value\uff09\uff1aRedis \u4e2d\u7684\u57fa\u672c\u6570\u636e\u5b58\u50a8\u5355\u4f4d\u662f\u952e\u503c\u5bf9\uff0c\u5176\u4e2d\u952e\u662f\u552f\u4e00\u7684\uff0c\u503c\u53ef\u4ee5\u662f\u5404\u79cd\u6570\u636e\u7c7b\u578b\u3002</li> <li>\u6570\u636e\u7c7b\u578b\uff1aRedis \u652f\u6301\u7684\u4e3b\u8981\u6570\u636e\u7c7b\u578b\u5305\u62ec\uff1a</li> <li>\u5b57\u7b26\u4e32\uff08String\uff09\uff1a\u6700\u7b80\u5355\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7c7b\u4f3c\u4e8e\u666e\u901a\u7684\u6587\u672c\u5b57\u7b26\u4e32\u3002</li> <li>\u54c8\u5e0c\uff08Hash\uff09\uff1a\u4e00\u79cd\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff0c\u9002\u5408\u5b58\u50a8\u5bf9\u8c61\u3002</li> <li>\u5217\u8868\uff08List\uff09\uff1a\u6309\u7167\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\u7684\u5b57\u7b26\u4e32\u5217\u8868\u3002</li> <li>\u96c6\u5408\uff08Set\uff09\uff1a\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u5b57\u7b26\u4e32\u96c6\u5408\u3002</li> <li>\u6709\u5e8f\u96c6\u5408\uff08Sorted Set\uff09\uff1a\u6bcf\u4e2a\u5143\u7d20\u90fd\u6709\u4e00\u4e2a\u5206\u6570\uff0c\u6309\u7167\u5206\u6570\u6392\u5e8f\u7684\u96c6\u5408\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#4-redis","title":"4. Redis \u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#41-string","title":"4.1 \u5b57\u7b26\u4e32\uff08String\uff09","text":"<ul> <li> <p>\u8bbe\u7f6e\u952e\u503c\u5bf9\uff1a   <code>bash   SET key value</code></p> </li> <li> <p>\u83b7\u53d6\u952e\u503c\u5bf9\uff1a   <code>bash   GET key</code></p> </li> <li> <p>\u5220\u9664\u952e\uff1a   <code>bash   DEL key</code></p> </li> <li> <p>\u589e\u52a0\u952e\u7684\u503c\uff08\u6570\u503c\u7c7b\u578b\uff09\uff1a   <code>bash   INCR key</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#42-hash","title":"4.2 \u54c8\u5e0c\uff08Hash\uff09","text":"<ul> <li> <p>\u8bbe\u7f6e\u54c8\u5e0c\u5b57\u6bb5\u7684\u503c\uff1a   <code>bash   HSET hash key value</code></p> </li> <li> <p>\u83b7\u53d6\u54c8\u5e0c\u5b57\u6bb5\u7684\u503c\uff1a   <code>bash   HGET hash key</code></p> </li> <li> <p>\u5220\u9664\u54c8\u5e0c\u5b57\u6bb5\uff1a   <code>bash   HDEL hash key</code></p> </li> <li> <p>\u83b7\u53d6\u6240\u6709\u54c8\u5e0c\u5b57\u6bb5\u548c\u503c\uff1a   <code>bash   HGETALL hash</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#43-list","title":"4.3 \u5217\u8868\uff08List\uff09","text":"<ul> <li> <p>\u5728\u5217\u8868\u5934\u90e8\u6dfb\u52a0\u5143\u7d20\uff1a   <code>bash   LPUSH list value</code></p> </li> <li> <p>\u5728\u5217\u8868\u5c3e\u90e8\u6dfb\u52a0\u5143\u7d20\uff1a   <code>bash   RPUSH list value</code></p> </li> <li> <p>\u83b7\u53d6\u5217\u8868\u4e2d\u7684\u5143\u7d20\uff1a   <code>bash   LRANGE list start stop</code></p> </li> <li> <p>\u5220\u9664\u5217\u8868\u4e2d\u7684\u5143\u7d20\uff1a   <code>bash   LREM list count value</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#44-set","title":"4.4 \u96c6\u5408\uff08Set\uff09","text":"<ul> <li> <p>\u6dfb\u52a0\u5143\u7d20\u5230\u96c6\u5408\uff1a   <code>bash   SADD set value</code></p> </li> <li> <p>\u83b7\u53d6\u96c6\u5408\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff1a   <code>bash   SMEMBERS set</code></p> </li> <li> <p>\u5220\u9664\u96c6\u5408\u4e2d\u7684\u5143\u7d20\uff1a   <code>bash   SREM set value</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#45-sorted-set","title":"4.5 \u6709\u5e8f\u96c6\u5408\uff08Sorted Set\uff09","text":"<ul> <li> <p>\u6dfb\u52a0\u5143\u7d20\u5230\u6709\u5e8f\u96c6\u5408\uff1a   <code>bash   ZADD sorted_set score value</code></p> </li> <li> <p>\u83b7\u53d6\u6709\u5e8f\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u53ca\u5176\u5206\u6570\uff1a   <code>bash   ZRANGE sorted_set start stop WITHSCORES</code></p> </li> <li> <p>\u5220\u9664\u6709\u5e8f\u96c6\u5408\u4e2d\u7684\u5143\u7d20\uff1a   <code>bash   ZREM sorted_set value</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#5-redis","title":"5. Redis \u914d\u7f6e\u6587\u4ef6","text":"<p>Redis \u7684\u914d\u7f6e\u6587\u4ef6\u901a\u5e38\u4f4d\u4e8e <code>/etc/redis/redis.conf</code>\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\u6765\u8c03\u6574 Redis \u7684\u5404\u79cd\u914d\u7f6e\uff0c\u5982\u7aef\u53e3\u3001\u6301\u4e45\u5316\u7b56\u7565\u3001\u5185\u5b58\u9650\u5236\u7b49\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#6-redis","title":"6. Redis \u6301\u4e45\u5316","text":"<p>Redis \u652f\u6301\u4e24\u79cd\u6301\u4e45\u5316\u65b9\u5f0f\uff1a</p> <ul> <li>RDB\uff08\u5feb\u7167\uff09\uff1a\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u5185\u5c06\u6570\u636e\u5b58\u50a8\u5230\u78c1\u76d8\u4e2d\u3002</li> <li> <p>\u914d\u7f6e\uff1a<code>save &lt;seconds&gt; &lt;changes&gt;</code></p> </li> <li> <p>AOF\uff08\u8ffd\u52a0\u6587\u4ef6\uff09\uff1a\u5c06\u6bcf\u6b21\u5199\u64cd\u4f5c\u8ffd\u52a0\u5230\u65e5\u5fd7\u6587\u4ef6\u4e2d\u3002</p> </li> <li>\u914d\u7f6e\uff1a<code>appendonly yes</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#7-redis","title":"7. Redis \u7684\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u7f13\u5b58\uff1a\u53ef\u4ee5\u7528\u6765\u7f13\u5b58\u6570\u636e\u5e93\u67e5\u8be2\u7ed3\u679c\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u8d1f\u62c5\uff0c\u63d0\u9ad8\u7cfb\u7edf\u6027\u80fd\u3002</li> <li>\u4f1a\u8bdd\u7ba1\u7406\uff1a\u5b58\u50a8\u7528\u6237\u4f1a\u8bdd\u4fe1\u606f\uff0c\u5982\u767b\u5f55\u72b6\u6001\u3001\u8d2d\u7269\u8f66\u6570\u636e\u7b49\u3002</li> <li>\u6d88\u606f\u961f\u5217\uff1a\u5229\u7528 Redis \u7684\u5217\u8868\uff08List\uff09\u548c\u53d1\u5e03/\u8ba2\u9605\uff08Pub/Sub\uff09\u529f\u80fd\u5b9e\u73b0\u6d88\u606f\u961f\u5217\u3002</li> <li>\u5b9e\u65f6\u6570\u636e\u5206\u6790\uff1a\u5229\u7528 Redis \u7684\u6570\u636e\u7ed3\u6784\u8fdb\u884c\u5b9e\u65f6\u6570\u636e\u5904\u7406\uff0c\u5982\u7edf\u8ba1\u3001\u8ba1\u6570\u7b49\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#8-redis","title":"8. Redis \u5b89\u5168\u6027","text":"<ul> <li> <p>\u8bbe\u7f6e\u5bc6\u7801\uff1a\u53ef\u4ee5\u5728 Redis \u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u5bc6\u7801\u6765\u9650\u5236\u5bf9 Redis \u5b9e\u4f8b\u7684\u8bbf\u95ee\u3002   <code>bash   requirepass yourpassword</code></p> </li> <li> <p>\u9650\u5236\u8bbf\u95ee\uff1a\u53ef\u4ee5\u914d\u7f6e Redis \u7ed1\u5b9a\u5230\u7279\u5b9a\u7684 IP \u5730\u5740\uff0c\u9650\u5236\u8bbf\u95ee\u8303\u56f4\u3002</p> </li> </ul> <p>\u5f53\u7136\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u6df1\u5165\u63a2\u8ba8 Redis \u7684\u4e00\u4e9b\u9ad8\u7ea7\u7279\u6027\u3001\u4f18\u5316\u6280\u5de7\u4ee5\u53ca\u5e38\u89c1\u7684\u4f7f\u7528\u6a21\u5f0f\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#9-redis","title":"9. Redis \u9ad8\u7ea7\u7279\u6027","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#91-pubsub","title":"9.1 \u53d1\u5e03/\u8ba2\u9605\uff08Pub/Sub\uff09","text":"<p>Redis \u7684\u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f\u5141\u8bb8\u6d88\u606f\u7684\u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u89e3\u8026\u3002\u53d1\u5e03\u8005\u53d1\u9001\u6d88\u606f\u5230\u4e00\u4e2a\u9891\u9053\uff0c\u800c\u8ba2\u9605\u8005\u53ef\u4ee5\u63a5\u6536\u8fd9\u4e9b\u6d88\u606f\u3002</p> <ul> <li> <p>\u8ba2\u9605\u9891\u9053\uff1a   <code>bash   SUBSCRIBE channel</code></p> </li> <li> <p>\u53d1\u5e03\u6d88\u606f\u5230\u9891\u9053\uff1a   <code>bash   PUBLISH channel message</code></p> </li> <li> <p>\u9000\u8ba2\u9891\u9053\uff1a   <code>bash   UNSUBSCRIBE channel</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#92-transactions","title":"9.2 \u4e8b\u52a1\uff08Transactions\uff09","text":"<p>Redis \u652f\u6301\u4e8b\u52a1\u529f\u80fd\uff0c\u53ef\u4ee5\u5c06\u591a\u4e2a\u547d\u4ee4\u6253\u5305\u5728\u4e00\u8d77\u4e00\u6b21\u6027\u6267\u884c\uff0c\u4ee5\u4fdd\u8bc1\u539f\u5b50\u6027\u3002</p> <ul> <li> <p>\u5f00\u59cb\u4e8b\u52a1\uff1a   <code>bash   MULTI</code></p> </li> <li> <p>\u6267\u884c\u591a\u4e2a\u547d\u4ee4\uff1a   <code>bash   SET key1 value1   SET key2 value2</code></p> </li> <li> <p>\u63d0\u4ea4\u4e8b\u52a1\uff1a   <code>bash   EXEC</code></p> </li> <li> <p>\u53d6\u6d88\u4e8b\u52a1\uff1a   <code>bash   DISCARD</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#93-scripting","title":"9.3 \u811a\u672c\uff08Scripting\uff09","text":"<p>Redis \u652f\u6301 Lua \u811a\u672c\uff0c\u5141\u8bb8\u5728\u670d\u52a1\u5668\u7aef\u6267\u884c\u811a\u672c\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u548c\u51cf\u5c11\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7684\u5f80\u8fd4\u6b21\u6570\u3002</p> <ul> <li> <p>\u6267\u884c Lua \u811a\u672c\uff1a   <code>bash   EVAL \"return redis.call('SET', 'key', 'value')\" 0</code></p> </li> <li> <p>\u811a\u672c\u7f13\u5b58\uff1a\u53ef\u4ee5\u5c06\u811a\u672c\u7f13\u5b58\u8d77\u6765\uff0c\u51cf\u5c11\u91cd\u590d\u52a0\u8f7d\uff1a   <code>bash   SCRIPT LOAD \"return redis.call('SET', 'key', 'value')\"</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#94-hyperloglog","title":"9.4 HyperLogLog","text":"<p>HyperLogLog \u662f\u4e00\u79cd\u7528\u4e8e\u57fa\u6570\u4f30\u7b97\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u9ad8\u6548\u4f30\u7b97\u552f\u4e00\u5143\u7d20\u7684\u6570\u91cf\u3002</p> <ul> <li> <p>\u6dfb\u52a0\u5143\u7d20\uff1a   <code>bash   PFADD hyperloglog key1 key2 key3</code></p> </li> <li> <p>\u83b7\u53d6\u57fa\u6570\u4f30\u7b97\u503c\uff1a   <code>bash   PFCOUNT hyperloglog</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#95-geospatial","title":"9.5 GeoSpatial \u6570\u636e","text":"<p>Redis \u63d0\u4f9b\u4e86\u5bf9\u5730\u7406\u7a7a\u95f4\u6570\u636e\u7684\u652f\u6301\uff0c\u53ef\u4ee5\u8fdb\u884c\u8ddd\u79bb\u8ba1\u7b97\u548c\u4f4d\u7f6e\u67e5\u8be2\u3002</p> <ul> <li> <p>\u6dfb\u52a0\u5730\u7406\u4f4d\u7f6e\uff1a   <code>bash   GEOADD key longitude latitude member</code></p> </li> <li> <p>\u83b7\u53d6\u4f4d\u7f6e\uff1a   <code>bash   GEOPOS key member</code></p> </li> <li> <p>\u8ba1\u7b97\u4e24\u4e2a\u4f4d\u7f6e\u7684\u8ddd\u79bb\uff1a   <code>bash   GEODIST key member1 member2 [unit]</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#96-ttl","title":"9.6 \u6570\u636e\u8fc7\u671f\uff08TTL\uff09","text":"<p>Redis \u5141\u8bb8\u8bbe\u7f6e\u952e\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u5f53\u65f6\u95f4\u5230\u671f\u540e\uff0c\u952e\u4f1a\u88ab\u81ea\u52a8\u5220\u9664\u3002</p> <ul> <li> <p>\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1a   <code>bash   EXPIRE key seconds</code></p> </li> <li> <p>\u83b7\u53d6\u5269\u4f59\u65f6\u95f4\uff1a   <code>bash   TTL key</code></p> </li> <li> <p>\u79fb\u9664\u8fc7\u671f\u65f6\u95f4\uff1a   <code>bash   PERSIST key</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#10-redis","title":"10. Redis \u4f18\u5316\u6280\u5de7","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#101","title":"10.1 \u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u4f7f\u7528\u5408\u9002\u7684\u6570\u636e\u7c7b\u578b\uff1a\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7c7b\u578b\uff08\u5982\u4f7f\u7528\u5217\u8868\u4ee3\u66ff\u54c8\u5e0c\uff09\u4ee5\u51cf\u5c11\u5185\u5b58\u6d88\u8017\u3002</li> <li>\u538b\u7f29\u6570\u636e\uff1a\u901a\u8fc7 Redis \u7684\u54c8\u5e0c\u8868\uff08Hash\uff09\u7b49\u6570\u636e\u7ed3\u6784\u5b58\u50a8\u591a\u4e2a\u952e\u503c\u5bf9\u4ee5\u8282\u7701\u5185\u5b58\u3002</li> <li> <p>\u542f\u7528\u5185\u5b58\u9650\u5236\uff1a\u8bbe\u7f6e Redis \u7684\u5185\u5b58\u4e0a\u9650\uff0c\u5f53\u8d85\u51fa\u9650\u5236\u65f6\u81ea\u52a8\u5220\u9664\u65e7\u6570\u636e\u3002   <code>bash   maxmemory 2gb</code></p> </li> <li> <p>\u8bbe\u7f6e\u6dd8\u6c70\u7b56\u7565\uff1a\u914d\u7f6e Redis \u5728\u8fbe\u5230\u5185\u5b58\u9650\u5236\u65f6\u5982\u4f55\u5904\u7406\u8d85\u51fa\u9650\u5236\u7684\u6570\u636e\u3002   <code>bash   maxmemory-policy allkeys-lru</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#102","title":"10.2 \u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u4f7f\u7528\u7ba1\u9053\uff08Pipelining\uff09\uff1a\u53ef\u4ee5\u5c06\u591a\u4e2a\u547d\u4ee4\u4e00\u8d77\u53d1\u9001\u5230 Redis \u670d\u52a1\u5668\uff0c\u51cf\u5c11\u5f80\u8fd4\u5ef6\u8fdf\u3002</li> <li>\u5f02\u6b65\u64cd\u4f5c\uff1a\u4f7f\u7528\u5f02\u6b65\u64cd\u4f5c\u51cf\u5c11\u963b\u585e\uff0c\u63d0\u9ad8\u541e\u5410\u91cf\u3002</li> <li>\u76d1\u63a7 Redis\uff1a\u4f7f\u7528 Redis \u63d0\u4f9b\u7684\u76d1\u63a7\u5de5\u5177\uff08\u5982 <code>INFO</code> \u547d\u4ee4\uff09\u6765\u89c2\u5bdf\u6027\u80fd\u6307\u6807\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#11-redis","title":"11. Redis \u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#111-redis","title":"11.1 Redis \u542f\u52a8\u5931\u8d25","text":"<ul> <li>\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\uff1a\u786e\u4fdd Redis \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u8def\u5f84\u548c\u6743\u9650\u6b63\u786e\u3002</li> <li>\u67e5\u770b\u65e5\u5fd7\uff1a\u67e5\u770b Redis \u65e5\u5fd7\u6587\u4ef6\u4ee5\u83b7\u5f97\u9519\u8bef\u4fe1\u606f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#112","title":"11.2 \u6570\u636e\u4e22\u5931","text":"<ul> <li>\u68c0\u67e5\u6301\u4e45\u5316\u914d\u7f6e\uff1a\u786e\u4fdd RDB \u6216 AOF \u6301\u4e45\u5316\u529f\u80fd\u6b63\u786e\u914d\u7f6e\u5e76\u542f\u7528\u3002</li> <li>\u5b9a\u671f\u5907\u4efd\uff1a\u5b9a\u671f\u5907\u4efd Redis \u6570\u636e\uff0c\u4ee5\u9632\u6570\u636e\u4e22\u5931\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#113","title":"11.3 \u9ad8\u53ef\u7528\u6027","text":"<ul> <li>\u4e3b\u4ece\u590d\u5236\uff1a\u914d\u7f6e\u4e3b\u4ece\u590d\u5236\u4ee5\u63d0\u9ad8\u6570\u636e\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> <li>\u8bbe\u7f6e\u4e3b\u8282\u70b9\uff1a     <code>bash     replicaof master_ip master_port</code></li> <li> <p>\u8bbe\u7f6e\u4ece\u8282\u70b9\uff1a     <code>bash     redis-server --slaveof master_ip master_port</code></p> </li> <li> <p>\u54e8\u5175\u6a21\u5f0f\uff1a\u4f7f\u7528 Redis Sentinel \u5b9e\u73b0\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u548c\u76d1\u63a7\u3002</p> </li> <li>\u914d\u7f6e Sentinel\uff1a     <code>bash     sentinel monitor mymaster master_ip master_port quorum</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#12-redis","title":"12. Redis \u5907\u4efd\u548c\u6062\u590d","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#121","title":"12.1 \u5907\u4efd\u6570\u636e","text":"<ul> <li>RDB \u5907\u4efd\uff1a\u901a\u8fc7\u5c06 RDB \u6587\u4ef6\u590d\u5236\u5230\u5176\u4ed6\u4f4d\u7f6e\u8fdb\u884c\u5907\u4efd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#122","title":"12.2 \u6062\u590d\u6570\u636e","text":"<ul> <li>\u4ece RDB \u6587\u4ef6\u6062\u590d\uff1a\u5c06\u5907\u4efd\u7684 RDB \u6587\u4ef6\u653e\u7f6e\u5230 Redis \u6570\u636e\u76ee\u5f55\u4e2d\uff0c\u5e76\u91cd\u542f Redis \u670d\u52a1\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u4e0b\u9762\u662f\u4e00\u4e9b\u66f4\u6df1\u5165\u7684 Redis \u4f7f\u7528\u548c\u4f18\u5316\u6280\u5de7\uff0c\u6db5\u76d6\u4e86 Redis \u7684\u9ad8\u9636\u7279\u6027\u3001\u6570\u636e\u7ba1\u7406\u3001\u5b89\u5168\u6027\u3001\u96c6\u7fa4\u914d\u7f6e\u7b49\u65b9\u9762\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#13-redis","title":"13. Redis \u96c6\u7fa4","text":"<p>Redis \u96c6\u7fa4\u63d0\u4f9b\u4e86\u5206\u5e03\u5f0f\u6570\u636e\u5b58\u50a8\u548c\u81ea\u52a8\u5206\u7247\u529f\u80fd\uff0c\u652f\u6301\u6c34\u5e73\u6269\u5c55\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#131","title":"13.1 \u96c6\u7fa4\u914d\u7f6e","text":"<ol> <li> <p>\u5b89\u88c5 Redis\uff1a\u786e\u4fdd\u6240\u6709\u8282\u70b9\u90fd\u5b89\u88c5\u4e86 Redis\u3002</p> </li> <li> <p>\u914d\u7f6e\u8282\u70b9\uff1a\u6bcf\u4e2a Redis \u5b9e\u4f8b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u8bbe\u7f6e\u96c6\u7fa4\u76f8\u5173\u53c2\u6570\u3002\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5173\u952e\u53c2\u6570\u5305\u62ec\uff1a    <code>bash    cluster-enabled yes    cluster-config-file nodes.conf    cluster-node-timeout 5000</code></p> </li> <li> <p>\u542f\u52a8\u8282\u70b9\uff1a\u542f\u52a8\u6bcf\u4e2a\u8282\u70b9\uff1a    <code>bash    redis-server /path/to/redis.conf</code></p> </li> <li> <p>\u521b\u5efa\u96c6\u7fa4\uff1a\u4f7f\u7528 <code>redis-cli</code> \u5de5\u5177\u521b\u5efa\u96c6\u7fa4\uff1a    <code>bash    redis-cli --cluster create node1_ip:port node2_ip:port ... --cluster-replicas 1</code></p> </li> </ol>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#132","title":"13.2 \u96c6\u7fa4\u7ba1\u7406","text":"<ul> <li> <p>\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff1a   <code>bash   redis-cli --cluster info node_ip:port</code></p> </li> <li> <p>\u6dfb\u52a0\u8282\u70b9\uff1a   <code>bash   redis-cli --cluster add-node new_node_ip:new_port existing_node_ip:existing_port</code></p> </li> <li> <p>\u5220\u9664\u8282\u70b9\uff1a   <code>bash   redis-cli --cluster del-node existing_node_ip:existing_port node_id</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#14-redis","title":"14. Redis \u6301\u4e45\u5316\u4f18\u5316","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#141-rdb","title":"14.1 RDB \u4f18\u5316","text":"<ul> <li> <p>\u8c03\u6574\u4fdd\u5b58\u9891\u7387\uff1a\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8c03\u6574 RDB \u5feb\u7167\u7684\u4fdd\u5b58\u9891\u7387\u3002   <code>bash   save 900 1   save 300 10   save 60 10000</code></p> </li> <li> <p>\u538b\u7f29 RDB \u6587\u4ef6\uff1a\u542f\u7528 RDB \u6587\u4ef6\u7684\u538b\u7f29\uff0c\u51cf\u5c11\u78c1\u76d8\u4f7f\u7528\u3002   <code>bash   rdbcompression yes</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#142-aof","title":"14.2 AOF \u4f18\u5316","text":"<ul> <li>AOF \u5199\u5165\u7b56\u7565\uff1a\u9009\u62e9\u9002\u5408\u7684 AOF \u5199\u5165\u7b56\u7565\u4ee5\u5e73\u8861\u6027\u80fd\u548c\u6570\u636e\u5b89\u5168\u3002</li> <li>always\uff1a\u6bcf\u6b21\u5199\u64cd\u4f5c\u540e\u7acb\u5373\u5c06\u6570\u636e\u8ffd\u52a0\u5230 AOF \u6587\u4ef6\u4e2d\uff08\u6700\u9ad8\u7684\u6570\u636e\u5b89\u5168\u6027\uff0c\u6700\u4f4e\u7684\u6027\u80fd\uff09\u3002</li> <li>everysec\uff1a\u6bcf\u79d2\u5c06\u6570\u636e\u8ffd\u52a0\u5230 AOF \u6587\u4ef6\u4e2d\uff08\u5e73\u8861\u6027\u80fd\u548c\u6570\u636e\u5b89\u5168\uff09\u3002</li> <li> <p>no\uff1a\u4e0d\u4f7f\u7528 AOF \u5199\u5165\uff08\u6570\u636e\u5b89\u5168\u6027\u8f83\u4f4e\uff09\u3002</p> </li> <li> <p>\u538b\u7f29 AOF \u6587\u4ef6\uff1a\u4f7f\u7528 <code>BGREWRITEAOF</code> \u547d\u4ee4\u6765\u538b\u7f29 AOF \u6587\u4ef6\u3002   <code>bash   BGREWRITEAOF</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#15-redis","title":"15. Redis \u5b89\u5168\u6027","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#151","title":"15.1 \u8ba4\u8bc1\u548c\u6388\u6743","text":"<ul> <li> <p>\u8bbe\u7f6e\u5bc6\u7801\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e <code>requirepass</code> \u4ee5\u8981\u6c42\u5ba2\u6237\u7aef\u8ba4\u8bc1\u3002   <code>bash   requirepass yourpassword</code></p> </li> <li> <p>\u5ba2\u6237\u7aef\u8ba4\u8bc1\uff1a   <code>bash   AUTH yourpassword</code></p> </li> <li> <p>\u4f7f\u7528 ACL\uff1aRedis 6.0 \u5f15\u5165\u4e86 ACL\uff08Access Control Lists\uff09\uff0c\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u7528\u6237\u8bbe\u7f6e\u4e0d\u540c\u7684\u6743\u9650\u3002</p> </li> <li>\u521b\u5efa\u7528\u6237\uff1a     <code>bash     ACL SETUSER username on &gt;password ~* +@all</code></li> <li>\u68c0\u67e5\u7528\u6237\u6743\u9650\uff1a     <code>bash     ACL LIST</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#152","title":"15.2 \u7f51\u7edc\u5b89\u5168","text":"<ul> <li> <p>\u7ed1\u5b9a IP \u5730\u5740\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528 <code>bind</code> \u6307\u4ee4\u9650\u5236 Redis \u7ed1\u5b9a\u5230\u7279\u5b9a IP \u5730\u5740\u3002   <code>bash   bind 127.0.0.1</code></p> </li> <li> <p>\u7981\u7528\u5916\u90e8\u8bbf\u95ee\uff1a\u901a\u8fc7\u9632\u706b\u5899\u6216\u5b89\u5168\u7ec4\u9650\u5236\u5bf9 Redis \u7684\u8bbf\u95ee\uff0c\u53ea\u5141\u8bb8\u6388\u6743\u7684 IP \u8bbf\u95ee\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#16-redis","title":"16. Redis \u6027\u80fd\u76d1\u63a7\u4e0e\u8c03\u4f18","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#161","title":"16.1 \u6027\u80fd\u76d1\u63a7","text":"<ul> <li> <p>\u67e5\u770b Redis \u7edf\u8ba1\u4fe1\u606f\uff1a   <code>bash   INFO</code></p> </li> <li> <p>\u76d1\u63a7\u547d\u4ee4\u6267\u884c\uff1a   <code>bash   MONITOR</code></p> </li> <li> <p>\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a\u542f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\u4ee5\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u9608\u503c\u7684\u547d\u4ee4\u3002   <code>bash   slowlog-log-slower-than 10000</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#162","title":"16.2 \u6027\u80fd\u8c03\u4f18","text":"<ul> <li> <p>\u8c03\u6574\u5185\u5b58\u4f7f\u7528\uff1a\u901a\u8fc7\u914d\u7f6e <code>maxmemory</code> \u548c <code>maxmemory-policy</code> \u8c03\u6574 Redis \u7684\u5185\u5b58\u7ba1\u7406\u7b56\u7565\u3002   <code>bash   maxmemory 2gb   maxmemory-policy allkeys-lru</code></p> </li> <li> <p>\u4f18\u5316\u6570\u636e\u7ed3\u6784\uff1a\u6839\u636e\u4f7f\u7528\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f8b\u5982\u4f7f\u7528\u538b\u7f29\u5217\u8868\uff08ziplist\uff09\u548c\u6574\u6570\u96c6\u5408\uff08intset\uff09\u6765\u51cf\u5c11\u5185\u5b58\u6d88\u8017\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#17-redis","title":"17. Redis \u4e0e\u5176\u4ed6\u6570\u636e\u5e93\u7684\u96c6\u6210","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#171-mysql","title":"17.1 \u4e0e MySQL \u96c6\u6210","text":"<ul> <li>\u7f13\u5b58 MySQL \u67e5\u8be2\u7ed3\u679c\uff1a\u4f7f\u7528 Redis \u7f13\u5b58 MySQL \u67e5\u8be2\u7ed3\u679c\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u8d1f\u8f7d\u3002</li> <li>\u6570\u636e\u540c\u6b65\uff1a\u4f7f\u7528 Redis \u7684\u53d1\u5e03/\u8ba2\u9605\u529f\u80fd\u5b9e\u65f6\u540c\u6b65 MySQL \u6570\u636e\u53d8\u5316\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#172-mongodb","title":"17.2 \u4e0e MongoDB \u96c6\u6210","text":"<ul> <li>\u7f13\u5b58 MongoDB \u67e5\u8be2\u7ed3\u679c\uff1a\u5c06 MongoDB \u7684\u67e5\u8be2\u7ed3\u679c\u7f13\u5b58\u5230 Redis \u4e2d\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u67e5\u8be2\u6b21\u6570\u3002</li> <li>\u6570\u636e\u5904\u7406\uff1a\u5728\u6570\u636e\u5904\u7406\u548c\u5206\u6790\u4efb\u52a1\u4e2d\u4f7f\u7528 Redis \u63d0\u9ad8\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#18-redis","title":"18. Redis \u7684\u5e38\u89c1\u4f7f\u7528\u6a21\u5f0f","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#181","title":"18.1 \u7f13\u5b58","text":"<ul> <li>\u7f13\u5b58\u70ed\u70b9\u6570\u636e\uff1a\u5c06\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u7f13\u5b58\u5230 Redis\uff0c\u51cf\u5c11\u540e\u7aef\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u538b\u529b\u3002</li> <li>\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1a\u4e3a\u7f13\u5b58\u6570\u636e\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u65b0\u9c9c\u5ea6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#182","title":"18.2 \u4f1a\u8bdd\u7ba1\u7406","text":"<ul> <li>\u5b58\u50a8\u7528\u6237\u4f1a\u8bdd\uff1a\u5c06\u7528\u6237\u4f1a\u8bdd\u4fe1\u606f\u5b58\u50a8\u5230 Redis \u4e2d\uff0c\u4ee5\u5b9e\u73b0\u5feb\u901f\u7684\u4f1a\u8bdd\u7ba1\u7406\u3002</li> <li>\u4f1a\u8bdd\u8fc7\u671f\uff1a\u4e3a\u4f1a\u8bdd\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u81ea\u52a8\u6e05\u7406\u4e0d\u518d\u4f7f\u7528\u7684\u4f1a\u8bdd\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#183","title":"18.3 \u6d88\u606f\u961f\u5217","text":"<ul> <li> <p>\u4f7f\u7528\u5217\u8868\u5b9e\u73b0\u961f\u5217\uff1a\u4f7f\u7528 Redis \u5217\u8868\u6570\u636e\u7ed3\u6784\u5b9e\u73b0\u6d88\u606f\u961f\u5217\u3002   <code>bash   LPUSH queue message</code></p> </li> <li> <p>\u6d88\u8d39\u8005\u5904\u7406\u6d88\u606f\uff1a\u4f7f\u7528 <code>BRPOP</code> \u6216 <code>BLPOP</code> \u547d\u4ee4\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u6d88\u606f\u8fdb\u884c\u5904\u7406\u3002   <code>bash   BRPOP queue timeout</code></p> </li> </ul> <p>\u5f53\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63a2\u8ba8 Redis \u7684\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\u3001\u5b9e\u9645\u4f7f\u7528\u6848\u4f8b\u3001\u6570\u636e\u4e00\u81f4\u6027\u4ee5\u53ca\u4f18\u5316\u7b56\u7565\u7b49\u65b9\u9762\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#19-redis","title":"19. Redis \u9ad8\u7ea7\u529f\u80fd","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#191-redis-streams","title":"19.1 Redis Streams","text":"<p>Redis Streams \u662f\u4e00\u79cd\u65e5\u5fd7\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u6570\u636e\u6d41\u548c\u6d88\u606f\u961f\u5217\u7b49\u529f\u80fd\u3002</p> <ul> <li> <p>\u6dfb\u52a0\u6d41\u6570\u636e\uff1a   <code>bash   XADD stream_name * key1 value1 key2 value2</code></p> </li> <li> <p>\u8bfb\u53d6\u6d41\u6570\u636e\uff1a   <code>bash   XRANGE stream_name start end</code></p> </li> <li> <p>\u6d88\u8d39\u6d41\u6570\u636e\uff1a   <code>bash   XREAD COUNT 10 STREAMS stream_name 0</code></p> </li> <li> <p>\u5220\u9664\u6d41\u6570\u636e\uff1a   <code>bash   XDEL stream_name id</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#192-redis-graph","title":"19.2 Redis Graph","text":"<p>Redis Graph \u662f Redis \u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u5904\u7406\u56fe\u5f62\u6570\u636e\u3002</p> <ul> <li> <p>\u521b\u5efa\u56fe\u5f62\uff1a   <code>bash   GRAPH.QUERY graph_name \"CREATE (n:Person {name:'John', age:30})\"</code></p> </li> <li> <p>\u67e5\u8be2\u56fe\u5f62\u6570\u636e\uff1a   <code>bash   GRAPH.QUERY graph_name \"MATCH (n:Person) RETURN n\"</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#193-redis-ai","title":"19.3 Redis AI","text":"<p>Redis AI \u662f\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u6267\u884c\u673a\u5668\u5b66\u4e60\u6a21\u578b\u548c\u63a8\u65ad\u3002</p> <ul> <li> <p>\u52a0\u8f7d\u6a21\u578b\uff1a   <code>bash   AI.MODELSET model_name TF_MODEL CPU INPUTS input1 INPUTS input2 OUTPUTS output1 OUTPUTS output2</code></p> </li> <li> <p>\u8fd0\u884c\u6a21\u578b\u63a8\u65ad\uff1a   <code>bash   AI.MODELRUN model_name INPUTS input_tensor OUTPUTS output_tensor</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#194-redistimeseries","title":"19.4 RedisTimeSeries","text":"<p>RedisTimeSeries \u662f\u7528\u4e8e\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u7684\u6a21\u5757\u3002</p> <ul> <li> <p>\u6dfb\u52a0\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff1a   <code>bash   TS.ADD series_name timestamp value</code></p> </li> <li> <p>\u67e5\u8be2\u65f6\u95f4\u5e8f\u5217\u6570\u636e\uff1a   <code>bash   TS.RANGE series_name start_time end_time</code></p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#20-redis","title":"20. Redis \u6570\u636e\u4e00\u81f4\u6027","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#201","title":"20.1 \u4e3b\u4ece\u590d\u5236\u4e00\u81f4\u6027","text":"<ul> <li>\u540c\u6b65\u6a21\u5f0f\uff1aRedis \u7684\u4e3b\u4ece\u590d\u5236\u53ef\u4ee5\u662f\u540c\u6b65\uff08\u5168\u91cf\u540c\u6b65\uff09\u6216\u5f02\u6b65\uff08\u589e\u91cf\u540c\u6b65\uff09\u3002\u4f7f\u7528\u540c\u6b65\u590d\u5236\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u4f46\u53ef\u80fd\u5f71\u54cd\u6027\u80fd\u3002</li> <li>\u914d\u7f6e\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e <code>slaveof</code> \u4ee5\u5b9a\u4e49\u4e3b\u4ece\u5173\u7cfb\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#202","title":"20.2 \u5206\u5e03\u5f0f\u4e00\u81f4\u6027","text":"<ul> <li>Redis \u96c6\u7fa4\uff1aRedis \u96c6\u7fa4\u901a\u8fc7\u6570\u636e\u5206\u7247\u548c\u526f\u672c\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002\u6bcf\u4e2a\u5206\u7247\u90fd\u6709\u4e00\u4e2a\u4e3b\u8282\u70b9\u548c\u591a\u4e2a\u4ece\u8282\u70b9\u3002</li> <li>\u5206\u7247\u7b56\u7565\uff1aRedis \u96c6\u7fa4\u4f7f\u7528\u54c8\u5e0c\u69fd\uff08hash slots\uff09\u6765\u5206\u7247\u6570\u636e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#21-redis","title":"21. Redis \u6027\u80fd\u4f18\u5316","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#211","title":"21.1 \u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u8c03\u6574\u6570\u636e\u7ed3\u6784\uff1a\u9009\u62e9\u9002\u5f53\u7684\u6570\u636e\u7ed3\u6784\u4ee5\u4f18\u5316\u5185\u5b58\u4f7f\u7528\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u538b\u7f29\u5217\u8868\uff08ziplist\uff09\u4ee3\u66ff\u666e\u901a\u5217\u8868\u3002</li> <li>\u51cf\u5c11\u952e\u7a7a\u95f4\uff1a\u4f7f\u7528\u66f4\u77ed\u7684\u952e\u548c\u66f4\u7d27\u51d1\u7684\u7f16\u7801\u683c\u5f0f\u6765\u51cf\u5c11\u5185\u5b58\u5360\u7528\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#212","title":"21.2 \u547d\u4ee4\u4f18\u5316","text":"<ul> <li>\u6279\u91cf\u64cd\u4f5c\uff1a\u4f7f\u7528\u7ba1\u9053\uff08pipelining\uff09\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\uff0c\u63d0\u9ad8\u6279\u91cf\u64cd\u4f5c\u7684\u6027\u80fd\u3002</li> <li>\u907f\u514d\u963b\u585e\u64cd\u4f5c\uff1a\u907f\u514d\u4f7f\u7528\u53ef\u80fd\u5bfc\u81f4\u963b\u585e\u7684\u64cd\u4f5c\uff08\u5982 <code>BLPOP</code>\uff09\uff0c\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u53ef\u80fd\u5f71\u54cd\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#213","title":"21.3 \u6301\u4e45\u5316\u4f18\u5316","text":"<ul> <li>RDB \u5feb\u7167\u9891\u7387\uff1a\u8c03\u6574 RDB \u5feb\u7167\u7684\u4fdd\u5b58\u9891\u7387\u4ee5\u5e73\u8861\u6027\u80fd\u548c\u6570\u636e\u5b89\u5168\u3002</li> <li>AOF \u91cd\u5199\uff1a\u5b9a\u671f\u91cd\u5199 AOF \u6587\u4ef6\u4ee5\u51cf\u5c11\u6587\u4ef6\u5927\u5c0f\u548c\u63d0\u5347\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#22-redis","title":"22. Redis \u5b9e\u9645\u4f7f\u7528\u6848\u4f8b","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#221","title":"22.1 \u7f51\u7ad9\u7f13\u5b58","text":"<ul> <li>\u7f13\u5b58\u9759\u6001\u5185\u5bb9\uff1a\u7f13\u5b58\u5e38\u89c1\u7684\u9759\u6001\u5185\u5bb9\uff0c\u5982 HTML \u9875\u9762\u3001\u56fe\u7247\u7b49\uff0c\u4ee5\u51cf\u5c11\u540e\u7aef\u670d\u52a1\u5668\u7684\u8d1f\u62c5\u3002</li> <li>\u7f13\u5b58\u6570\u636e\u5e93\u67e5\u8be2\u7ed3\u679c\uff1a\u7f13\u5b58\u6570\u636e\u5e93\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u63d0\u9ad8\u54cd\u5e94\u901f\u5ea6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#222","title":"22.2 \u5b9e\u65f6\u6570\u636e\u5904\u7406","text":"<ul> <li>\u5b9e\u65f6\u5206\u6790\uff1a\u4f7f\u7528 Redis Streams \u5904\u7406\u548c\u5206\u6790\u5b9e\u65f6\u6570\u636e\u6d41\u3002</li> <li>\u5b9e\u65f6\u8ba1\u6570\uff1a\u4f7f\u7528 Redis \u7684 HyperLogLog \u7edf\u8ba1\u552f\u4e00\u7528\u6237\u6216\u4e8b\u4ef6\u7684\u6570\u91cf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#223","title":"22.3 \u6d88\u606f\u961f\u5217","text":"<ul> <li>\u4efb\u52a1\u961f\u5217\uff1a\u4f7f\u7528 Redis \u5217\u8868\u5b9e\u73b0\u4efb\u52a1\u961f\u5217\u7cfb\u7edf\uff0c\u5c06\u4efb\u52a1\u6dfb\u52a0\u5230\u5217\u8868\u4e2d\uff0c\u7531\u5de5\u4f5c\u8fdb\u7a0b\u5904\u7406\u3002</li> <li>\u53d1\u5e03/\u8ba2\u9605\u7cfb\u7edf\uff1a\u5b9e\u73b0\u5b9e\u65f6\u6d88\u606f\u901a\u77e5\u7cfb\u7edf\uff0c\u5982\u804a\u5929\u5e94\u7528\u3001\u5b9e\u65f6\u901a\u77e5\u7b49\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#23-redis","title":"23. Redis \u7684\u6570\u636e\u7ba1\u7406","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#231","title":"23.1 \u6570\u636e\u5907\u4efd","text":"<ul> <li>\u5168\u91cf\u5907\u4efd\uff1a\u4f7f\u7528 RDB \u6587\u4ef6\u8fdb\u884c\u5168\u91cf\u5907\u4efd\uff0c\u5c06 RDB \u6587\u4ef6\u590d\u5236\u5230\u5b89\u5168\u4f4d\u7f6e\u3002</li> <li>\u589e\u91cf\u5907\u4efd\uff1a\u4f7f\u7528 AOF \u6587\u4ef6\u8fdb\u884c\u589e\u91cf\u5907\u4efd\uff0c\u5c06\u5199\u64cd\u4f5c\u8bb0\u5f55\u5230 AOF \u6587\u4ef6\u4e2d\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#232","title":"23.2 \u6570\u636e\u6062\u590d","text":"<ul> <li>\u6062\u590d RDB \u6587\u4ef6\uff1a\u5c06 RDB \u6587\u4ef6\u653e\u7f6e\u5230 Redis \u6570\u636e\u76ee\u5f55\u4e2d\uff0c\u5e76\u91cd\u542f Redis \u670d\u52a1\u3002</li> <li>\u6062\u590d AOF \u6587\u4ef6\uff1a\u5c06 AOF \u6587\u4ef6\u653e\u7f6e\u5230 Redis \u6570\u636e\u76ee\u5f55\u4e2d\uff0c\u542f\u52a8 Redis \u65f6\u4f1a\u81ea\u52a8\u52a0\u8f7d AOF \u6587\u4ef6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#233","title":"23.3 \u6570\u636e\u8fc1\u79fb","text":"<ul> <li>\u6570\u636e\u8fc1\u79fb\u5de5\u5177\uff1a\u4f7f\u7528 Redis \u63d0\u4f9b\u7684\u5de5\u5177\u6216\u7b2c\u4e09\u65b9\u5de5\u5177\uff08\u5982 <code>redis-migrate</code>\uff09\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#24-redis","title":"24. Redis \u76d1\u63a7\u548c\u8fd0\u7ef4","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#241","title":"24.1 \u76d1\u63a7\u5de5\u5177","text":"<ul> <li>Redis \u5185\u7f6e\u5de5\u5177\uff1a\u4f7f\u7528 <code>INFO</code> \u547d\u4ee4\u67e5\u770b Redis \u7684\u8fd0\u884c\u7edf\u8ba1\u4fe1\u606f\u3002</li> <li>\u7b2c\u4e09\u65b9\u76d1\u63a7\uff1a\u4f7f\u7528\u7b2c\u4e09\u65b9\u76d1\u63a7\u5de5\u5177\uff08\u5982 Prometheus\u3001Grafana\uff09\u76d1\u63a7 Redis \u7684\u6027\u80fd\u548c\u5065\u5eb7\u72b6\u51b5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/basic/#242","title":"24.2 \u8fd0\u7ef4\u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>\u5b9a\u671f\u5907\u4efd\uff1a\u5b9a\u671f\u5907\u4efd Redis \u6570\u636e\uff0c\u4ee5\u9632\u6570\u636e\u4e22\u5931\u3002</li> <li>\u6027\u80fd\u8c03\u4f18\uff1a\u6839\u636e Redis \u7684\u4f7f\u7528\u60c5\u51b5\u8c03\u6574\u914d\u7f6e\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u3002</li> <li>\u5b89\u5168\u914d\u7f6e\uff1a\u786e\u4fdd Redis \u7684\u5b89\u5168\u914d\u7f6e\uff0c\u5982\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801\u3001\u9650\u5236\u8bbf\u95ee IP \u7b49\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/","title":"Redis \u9762\u8bd5\u624b\u518c","text":"<p>\u5728\u5927\u5382\u7684\u9762\u8bd5\u4e2d\uff0cRedis \u7684\u9762\u8bd5\u9898\u901a\u5e38\u4f1a\u6db5\u76d6\u57fa\u7840\u77e5\u8bc6\u3001\u5b9e\u9645\u5e94\u7528\u3001\u6027\u80fd\u4f18\u5316\u4ee5\u53ca\u9ad8\u7ea7\u7279\u6027\u7b49\u65b9\u9762\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u5927\u5382\u9762\u8bd5\u5e38\u89c1\u7684 Redis \u9762\u8bd5\u9898\u76ee\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#1-redis","title":"1. Redis \u7684\u4e3b\u8981\u6570\u636e\u7ed3\u6784\u53ca\u5176\u7528\u9014","text":"<p>\u95ee\u9898\uff1a Redis \u63d0\u4f9b\u4e86\u54ea\u4e9b\u4e3b\u8981\u7684\u6570\u636e\u7ed3\u6784\uff1f\u6bcf\u79cd\u6570\u636e\u7ed3\u6784\u7684\u4f7f\u7528\u573a\u666f\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a Redis \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4e3b\u8981\u7684\u6570\u636e\u7ed3\u6784\uff1a</p> <ul> <li>\u5b57\u7b26\u4e32\uff08String\uff09\uff1a</li> <li>\u7528\u9014\uff1a\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u5b58\u50a8\u6587\u672c\u3001\u6570\u5b57\u7b49\u3002\u5e38\u7528\u4e8e\u7f13\u5b58\u7b80\u5355\u6570\u636e\u3002</li> <li> <p>\u793a\u4f8b\uff1a\u5b58\u50a8\u7528\u6237\u4f1a\u8bdd\u4fe1\u606f\u3001\u7f13\u5b58\u9875\u9762\u5185\u5bb9\u7b49\u3002</p> </li> <li> <p>\u54c8\u5e0c\uff08Hash\uff09\uff1a</p> </li> <li>\u7528\u9014\uff1a\u5b58\u50a8\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4f8b\u5982\u7528\u6237\u4fe1\u606f\u3002\u9002\u7528\u4e8e\u5b58\u50a8\u590d\u6742\u7684\u5bf9\u8c61\u548c\u5bf9\u5bf9\u8c61\u7684\u90e8\u5206\u5c5e\u6027\u8fdb\u884c\u64cd\u4f5c\u3002</li> <li> <p>\u793a\u4f8b\uff1a\u5b58\u50a8\u7528\u6237\u7684\u59d3\u540d\u3001\u5e74\u9f84\u3001\u7535\u5b50\u90ae\u4ef6\u7b49\u5c5e\u6027\u3002</p> </li> <li> <p>\u5217\u8868\uff08List\uff09\uff1a</p> </li> <li>\u7528\u9014\uff1a\u5b58\u50a8\u6709\u5e8f\u7684\u5143\u7d20\u5e8f\u5217\uff0c\u53ef\u4ee5\u8fdb\u884c\u64cd\u4f5c\u5982\u63d2\u5165\u3001\u5220\u9664\u548c\u67e5\u8be2\u3002\u9002\u7528\u4e8e\u961f\u5217\u548c\u6808\u7b49\u573a\u666f\u3002</li> <li> <p>\u793a\u4f8b\uff1a\u5b58\u50a8\u6d88\u606f\u961f\u5217\u3001\u7528\u6237\u6d3b\u52a8\u8bb0\u5f55\u7b49\u3002</p> </li> <li> <p>\u96c6\u5408\uff08Set\uff09\uff1a</p> </li> <li>\u7528\u9014\uff1a\u5b58\u50a8\u552f\u4e00\u7684\u5143\u7d20\u96c6\u5408\uff0c\u652f\u6301\u96c6\u5408\u64cd\u4f5c\u5982\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u3002\u9002\u7528\u4e8e\u53bb\u91cd\u548c\u96c6\u5408\u64cd\u4f5c\u3002</li> <li> <p>\u793a\u4f8b\uff1a\u5b58\u50a8\u7528\u6237\u7684\u6807\u7b7e\u3001\u5173\u6ce8\u7684\u5174\u8da3\u7b49\u3002</p> </li> <li> <p>\u6709\u5e8f\u96c6\u5408\uff08Sorted Set\uff09\uff1a</p> </li> <li>\u7528\u9014\uff1a\u5b58\u50a8\u5e26\u6709\u5206\u6570\u7684\u5143\u7d20\uff0c\u6309\u5206\u6570\u6392\u5e8f\u3002\u9002\u7528\u4e8e\u6392\u884c\u699c\u3001\u6392\u540d\u7cfb\u7edf\u7b49\u3002</li> <li> <p>\u793a\u4f8b\uff1a\u5b58\u50a8\u6e38\u620f\u6392\u884c\u699c\u3001\u7528\u6237\u79ef\u5206\u7b49\u3002</p> </li> <li> <p>\u4f4d\u56fe\uff08Bitmap\uff09\uff1a</p> </li> <li>\u7528\u9014\uff1a\u7528\u4e8e\u9ad8\u6548\u5730\u5b58\u50a8\u548c\u64cd\u4f5c\u4f4d\uff080 \u6216 1\uff09\u3002\u9002\u7528\u4e8e\u7edf\u8ba1\u548c\u8ddf\u8e2a\u64cd\u4f5c\u3002</li> <li> <p>\u793a\u4f8b\uff1a\u8ddf\u8e2a\u7528\u6237\u7684\u6d3b\u8dc3\u72b6\u6001\u3001\u7edf\u8ba1\u6bcf\u65e5\u8bbf\u95ee\u91cf\u7b49\u3002</p> </li> <li> <p>HyperLogLog\uff1a</p> </li> <li>\u7528\u9014\uff1a\u7528\u4e8e\u8fd1\u4f3c\u8ba1\u6570\u5927\u6570\u636e\u91cf\u7684\u72ec\u7acb\u5143\u7d20\u3002\u9002\u7528\u4e8e\u8ba1\u7b97\u72ec\u7acb\u5143\u7d20\u7684\u4f30\u8ba1\u503c\u3002</li> <li> <p>\u793a\u4f8b\uff1a\u8ba1\u7b97\u7f51\u7ad9\u7684\u552f\u4e00\u8bbf\u95ee\u7528\u6237\u6570\u3002</p> </li> <li> <p>\u5730\u7406\u7a7a\u95f4\uff08Geospatial\uff09\uff1a</p> </li> <li>\u7528\u9014\uff1a\u7528\u4e8e\u5b58\u50a8\u548c\u64cd\u4f5c\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f\u3002\u9002\u7528\u4e8e\u4f4d\u7f6e\u670d\u52a1\u3002</li> <li>\u793a\u4f8b\uff1a\u8ba1\u7b97\u7528\u6237\u4e0e\u5546\u5e97\u7684\u8ddd\u79bb\u3001\u67e5\u627e\u9644\u8fd1\u7684\u9910\u9986\u7b49\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#2-redis","title":"2. Redis \u4e8b\u52a1\u7684\u5b9e\u73b0\u548c\u5e94\u7528\u573a\u666f","text":"<p>\u95ee\u9898\uff1a Redis \u4e8b\u52a1\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f\u5728\u4ec0\u4e48\u573a\u666f\u4e0b\u4f7f\u7528 Redis \u4e8b\u52a1\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e8b\u52a1\u5b9e\u73b0\uff1a   - \u4e8b\u52a1\u547d\u4ee4\uff1aRedis \u4f7f\u7528 <code>MULTI</code>\u3001<code>EXEC</code>\u3001<code>DISCARD</code> \u548c <code>WATCH</code> \u6765\u5b9e\u73b0\u4e8b\u52a1\u3002     - <code>MULTI</code>\uff1a\u6807\u8bb0\u4e8b\u52a1\u7684\u5f00\u59cb\u3002     - <code>EXEC</code>\uff1a\u6267\u884c\u6240\u6709\u5728\u4e8b\u52a1\u4e2d\u6392\u961f\u7684\u547d\u4ee4\u3002     - <code>DISCARD</code>\uff1a\u53d6\u6d88\u4e8b\u52a1\u3002     - <code>WATCH</code>\uff1a\u76d1\u89c6\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\uff0c\u4e8b\u52a1\u5c06\u5728\u8fd9\u4e9b\u952e\u88ab\u4fee\u6539\u65f6\u4e2d\u65ad\u3002   - \u539f\u5b50\u6027\uff1aRedis \u4e8b\u52a1\u4e2d\u7684\u547d\u4ee4\u5728 <code>EXEC</code> \u88ab\u8c03\u7528\u65f6\u4e00\u8d77\u6267\u884c\uff0c\u786e\u4fdd\u539f\u5b50\u6027\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>MULTI\nSET key1 value1\nSET key2 value2\nEXEC\n</code></pre> <ul> <li>\u5e94\u7528\u573a\u666f\uff1a</li> <li>\u4fdd\u8bc1\u64cd\u4f5c\u539f\u5b50\u6027\uff1a\u5f53\u9700\u8981\u786e\u4fdd\u4e00\u7ec4\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u65f6\u4f7f\u7528 Redis \u4e8b\u52a1\u3002</li> <li>\u6267\u884c\u6279\u91cf\u64cd\u4f5c\uff1a\u5f53\u9700\u8981\u6279\u91cf\u6267\u884c\u591a\u4e2a\u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8b\u52a1\u6765\u4fdd\u8bc1\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#3-redis","title":"3. Redis \u96c6\u7fa4\u7684\u539f\u7406\u548c\u5b9e\u73b0","text":"<p>\u95ee\u9898\uff1a Redis \u96c6\u7fa4\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f\u5b83\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u9ad8\u53ef\u7528\u6027\u548c\u5206\u5e03\u5f0f\u7279\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u96c6\u7fa4\u539f\u7406\uff1a   - \u6570\u636e\u5206\u7247\uff1aRedis \u96c6\u7fa4\u5c06\u6570\u636e\u5206\u7247\u5b58\u50a8\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\u3002\u6bcf\u4e2a\u8282\u70b9\u8d1f\u8d23\u4e00\u90e8\u5206\u6570\u636e\uff0c\u6570\u636e\u901a\u8fc7\u4e00\u81f4\u6027\u54c8\u5e0c\u7b97\u6cd5\u8fdb\u884c\u5206\u7247\u3002   - \u4e3b\u4ece\u590d\u5236\uff1a\u6bcf\u4e2a\u4e3b\u8282\u70b9\u53ef\u4ee5\u6709\u591a\u4e2a\u4ece\u8282\u70b9\uff0c\u4ece\u8282\u70b9\u7528\u4e8e\u6570\u636e\u5907\u4efd\u548c\u8bfb\u53d6\u8bf7\u6c42\u3002   - \u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u5f53\u4e3b\u8282\u70b9\u51fa\u73b0\u6545\u969c\u65f6\uff0cRedis \u96c6\u7fa4\u53ef\u4ee5\u81ea\u52a8\u5c06\u4e00\u4e2a\u4ece\u8282\u70b9\u63d0\u5347\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\uff0c\u4ee5\u4fdd\u8bc1\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u914d\u7f6e Redis \u96c6\u7fa4\u8282\u70b9\nredis-cli --cluster create 192.168.1.1:6379 192.168.1.2:6379 192.168.1.3:6379 --cluster-replicas 1\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#4-redis","title":"4. Redis \u9ad8\u5e76\u53d1\u5904\u7406\u7684\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis \u662f\u5982\u4f55\u5904\u7406\u9ad8\u5e76\u53d1\u8bfb\u5199\u64cd\u4f5c\u7684\uff1f\u6709\u54ea\u4e9b\u7b56\u7565\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\uff1f</p> <p>\u56de\u7b54\uff1a - \u5355\u7ebf\u7a0b\u6a21\u578b\uff1aRedis \u4f7f\u7528\u5355\u7ebf\u7a0b\u6a21\u578b\u5904\u7406\u8bf7\u6c42\uff0c\u907f\u514d\u4e86\u591a\u7ebf\u7a0b\u7684\u590d\u6742\u6027\u548c\u9501\u7ade\u4e89\u3002\u5355\u7ebf\u7a0b\u7684\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u4f7f Redis \u80fd\u591f\u9ad8\u6548\u5730\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8bf7\u6c42\u3002 - \u975e\u963b\u585e I/O\uff1aRedis \u4f7f\u7528 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff08\u5982 epoll\uff09\u6765\u5904\u7406\u591a\u4e2a\u8fde\u63a5\uff0c\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\u3002 - \u7ba1\u9053\u5316\uff1aRedis \u652f\u6301\u7ba1\u9053\u5316\u64cd\u4f5c\uff0c\u53ef\u4ee5\u5c06\u591a\u4e2a\u547d\u4ee4\u6279\u91cf\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u4ece\u800c\u51cf\u5c11\u7f51\u7edc\u5f80\u8fd4\u65f6\u95f4\u3002 - \u5408\u7406\u914d\u7f6e\uff1a\u6839\u636e\u5b9e\u9645\u5e94\u7528\u573a\u666f\u5408\u7406\u914d\u7f6e Redis \u5b9e\u4f8b\u7684\u5185\u5b58\u548c\u6301\u4e45\u5316\u7b56\u7565\uff0c\u4ee5\u4f18\u5316\u6027\u80fd\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u4f7f\u7528 Python \u8fdb\u884c\u7ba1\u9053\u5316\u64cd\u4f5c\nimport redis\n\nredis_client = redis.Redis()\npipe = redis_client.pipeline()\n\nfor i in range(1000):\n    pipe.set(f'key{i}', f'value{i}')\n\npipe.execute()\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#5-redis","title":"5. Redis \u7684\u6301\u4e45\u5316\u673a\u5236\u548c\u6027\u80fd\u5f71\u54cd","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u6301\u4e45\u5316\u673a\u5236\u662f\u4ec0\u4e48\uff1f\u5b83\u5bf9\u6027\u80fd\u6709\u4f55\u5f71\u54cd\uff1f\u5982\u4f55\u9009\u62e9\u5408\u9002\u7684\u6301\u4e45\u5316\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - \u6301\u4e45\u5316\u673a\u5236\uff1a   - RDB\uff08Redis \u6570\u636e\u5e93\u5907\u4efd\uff09\uff1a\u5b9a\u671f\u521b\u5efa\u6570\u636e\u7684\u5feb\u7167\uff0c\u4fdd\u5b58\u5728 RDB \u6587\u4ef6\u4e2d\u3002\u9002\u7528\u4e8e\u5b9a\u671f\u5907\u4efd\u6570\u636e\u548c\u5feb\u901f\u6062\u590d\u3002   - AOF\uff08\u8ffd\u52a0\u6587\u4ef6\uff09\uff1a\u8bb0\u5f55\u6bcf\u4e2a\u5199\u64cd\u4f5c\u5230 AOF \u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>appendfsync</code> \u914d\u7f6e\u540c\u6b65\u7b56\u7565\u3002\u9002\u7528\u4e8e\u66f4\u9ad8\u7684\u6570\u636e\u6301\u4e45\u6027\u8981\u6c42\u3002</p> <ul> <li>\u6027\u80fd\u5f71\u54cd\uff1a</li> <li>RDB\uff1a\u751f\u6210\u5feb\u7167\u671f\u95f4\uff0cRedis \u4f1a\u963b\u585e\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5bf9\u6027\u80fd\u4ea7\u751f\u77ed\u6682\u5f71\u54cd\u3002</li> <li> <p>AOF\uff1a\u8bb0\u5f55\u6bcf\u4e2a\u5199\u64cd\u4f5c\uff0c\u4f1a\u589e\u52a0 I/O \u8d1f\u8f7d\uff0c\u7279\u522b\u662f\u5728 <code>appendfsync always</code> \u914d\u7f6e\u4e0b\uff0c\u4f46\u53ef\u4ee5\u63d0\u4f9b\u66f4\u9ad8\u7684\u6570\u636e\u6301\u4e45\u6027\u3002</p> </li> <li> <p>\u9009\u62e9\u7b56\u7565\uff1a</p> </li> <li>\u5982\u679c\u5bf9\u6570\u636e\u6301\u4e45\u6027\u8981\u6c42\u8f83\u9ad8\uff1a\u53ef\u4ee5\u9009\u62e9 AOF \u6301\u4e45\u5316\u3002</li> <li>\u5982\u679c\u5bf9\u6062\u590d\u901f\u5ea6\u548c\u6027\u80fd\u8981\u6c42\u8f83\u9ad8\uff1a\u53ef\u4ee5\u9009\u62e9 RDB \u6301\u4e45\u5316\u3002</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u914d\u7f6e RDB \u548c AOF \u6301\u4e45\u5316\nsave 900 1\nappendonly yes\nappendfsync everysec\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#6-redis","title":"6. Redis \u7684\u7f13\u5b58\u5931\u6548\u7b56\u7565\u548c\u6dd8\u6c70\u673a\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5904\u7406\u7f13\u5b58\u5931\u6548\uff1f\u6709\u54ea\u4e9b\u7f13\u5b58\u6dd8\u6c70\u7b56\u7565\u53ef\u4ee5\u914d\u7f6e\uff1f</p> <p>\u56de\u7b54\uff1a - \u7f13\u5b58\u5931\u6548\uff1a   - \u4f7f\u7528 <code>EXPIRE</code> \u548c <code>TTL</code>\uff1a\u8bbe\u7f6e\u952e\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u5e76\u901a\u8fc7 <code>TTL</code> \u68c0\u67e5\u5269\u4f59\u751f\u5b58\u65f6\u95f4\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u8bbe\u7f6e\u952e\u7684\u8fc7\u671f\u65f6\u95f4\nEXPIRE mykey 3600\n\n# \u68c0\u67e5\u952e\u7684\u5269\u4f59\u751f\u5b58\u65f6\u95f4\nTTL mykey\n</code></pre> <ul> <li>\u7f13\u5b58\u6dd8\u6c70\u7b56\u7565\uff1a</li> <li><code>allkeys-lru</code>\uff1a\u5bf9\u6240\u6709\u952e\u4f7f\u7528 LRU\uff08\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\uff09\u7b56\u7565\u3002</li> <li><code>volatile-lru</code>\uff1a\u4ec5\u5bf9\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u4f7f\u7528 LRU \u7b56\u7565\u3002</li> <li><code>allkeys-random</code>\uff1a\u968f\u673a\u6dd8\u6c70\u6240\u6709\u952e\u3002</li> <li><code>volatile-random</code>\uff1a\u968f\u673a\u6dd8\u6c70\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u3002</li> <li><code>volatile-ttl</code>\uff1a\u4f18\u5148\u6dd8\u6c70\u5269\u4f59\u751f\u5b58\u65f6\u95f4\u8f83\u77ed\u7684\u952e\u3002</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u914d\u7f6e\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\nmaxmemory 2gb\nmaxmemory-policy allkeys-lru\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#7-redis","title":"7. Redis \u7684\u5206\u5e03\u5f0f\u9501\u5b9e\u73b0\u53ca\u5176\u5e94\u7528","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f7f\u7528 Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1f\u5b83\u9002\u7528\u4e8e\u54ea\u4e9b\u573a\u666f\uff1f</p> <p>\u56de\u7b54\uff1a - \u5206\u5e03\u5f0f\u9501\u5b9e\u73b0\uff1a   - \u4f7f\u7528 <code>SETNX</code> \u547d\u4ee4\uff1a<code>SETNX</code> \u547d\u4ee4\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u4ec5\u5728\u952e\u4e0d\u5b58\u5728\u65f6\u6210\u529f\uff0c\u4ece\u800c\u5b9e\u73b0\u9501\u7684\u83b7\u53d6\u3002   - \u9501\u8d85\u65f6\uff1a\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u673a\u5236\uff0c\u9632\u6b62\u9501\u88ab\u957f\u65f6\u95f4\u5360\u7528\u3002\u53ef\u4ee5\u4f7f\u7528 <code>SET</code> \u547d\u4ee4\u7ed3\u5408 <code>EX</code> \u9009\u9879\u6765\u5b9e\u73b0\u5e26\u8d85\u65f6\u7684\u9501\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u4f7f\u7528 SETNX \u5b9e\u73b0\u9501\nSETNX mylock \"locked\"\nEXPIRE mylock 30\n</code></pre> <ul> <li>\u5e94\u7528\u573a\u666f\uff1a</li> <li>\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u8d44\u6e90\u7ade\u4e89\uff1a\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u6765\u63a7\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u907f\u514d\u591a\u4e2a\u8fdb\u7a0b\u6216\u670d\u52a1\u540c\u65f6\u64cd\u4f5c\u540c\u4e00\u8d44\u6e90\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#8-redis","title":"8. Redis \u7684\u9ad8\u53ef\u7528\u6027\u548c\u6545\u969c\u8f6c\u79fb\u673a\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u548c\u6545\u969c\u8f6c\u79fb\uff1f\u4f7f\u7528 Redis Sentinel \u6709\u4f55\u4f18\u52bf\uff1f</p> <p>\u56de\u7b54\uff1a - \u9ad8\u53ef\u7528\u6027\uff1a   - \u4e3b\u4ece\u590d\u5236\uff1aRedis \u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\uff0c\u4ece\u8282\u70b9\u7528\u4e8e\u5907\u4efd\u548c\u8bfb\u8bf7\u6c42\u3002   - Redis Sentinel\uff1a\u76d1\u89c6\u4e3b\u8282\u70b9\u7684\u72b6\u6001\uff0c\u81ea\u52a8\u8fdb\u884c\u6545\u969c\u8f6c\u79fb\u548c\u901a\u77e5\u5e94\u7528\u7a0b\u5e8f\u3002Sentinel \u53ef\u4ee5\u81ea\u52a8\u5c06\u4ece\u8282\u70b9\u63d0\u5347\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u914d\u7f6e Sentinel\nsentinel monitor mymaster 127.0.0.1 6379 2\nsentinel auth-pass mymaster yourpassword\n</code></pre> <ul> <li>\u4f18\u52bf\uff1a</li> <li>\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u5f53\u4e3b\u8282\u70b9\u53d1\u751f\u6545\u969c\u65f6\uff0cSentinel \u53ef\u4ee5\u81ea\u52a8\u5c06\u4ece\u8282\u70b9\u63d0\u5347\u4e3a\u4e3b\u8282\u70b9\u3002</li> <li>\u9ad8\u53ef\u7528\u6027\u901a\u77e5\uff1aSentinel \u53ef\u4ee5\u901a\u77e5\u5e94\u7528\u7a0b\u5e8f\u4e3b\u8282\u70b9\u7684\u53d8\u5316\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> </ul> <p>\u597d\u7684\uff0c\u8fd9\u91cc\u662f\u66f4\u591a\u7684 Redis \u9762\u8bd5\u9898\u76ee\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff0c\u6d89\u53ca\u66f4\u6df1\u5165\u7684\u4e3b\u9898\u548c\u5b9e\u9645\u5e94\u7528\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#9-redis","title":"9. Redis \u7684\u6301\u4e45\u5316\u914d\u7f6e\u4e0e\u6027\u80fd\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f18\u5316 Redis \u6301\u4e45\u5316\u914d\u7f6e\u4ee5\u63d0\u9ad8\u6027\u80fd\uff1f\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9009\u62e9 RDB \u6216 AOF \u6301\u4e45\u5316\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - \u4f18\u5316\u6301\u4e45\u5316\u914d\u7f6e\uff1a   - RDB\uff1a     - \u4f18\u5316\u7b56\u7565\uff1a\u8c03\u6574 <code>save</code> \u9009\u9879\u6765\u51cf\u5c11 RDB \u5feb\u7167\u7684\u9891\u7387\u3002\u4f8b\u5982\uff0c\u51cf\u5c11\u5feb\u7167\u751f\u6210\u7684\u89e6\u53d1\u6761\u4ef6\uff08\u5982\u51cf\u5c11\u5199\u64cd\u4f5c\u6b21\u6570\uff09\u4ee5\u51cf\u8f7b\u6027\u80fd\u8d1f\u62c5\u3002     - \u793a\u4f8b\uff1a       <code>bash       save 3600 10000  # \u6bcf\u5c0f\u65f6\u5982\u679c\u6709 10000 \u6b21\u5199\u64cd\u4f5c\u5219\u751f\u6210\u5feb\u7167</code></p> <ul> <li> <p>AOF\uff1a</p> <ul> <li>\u4f18\u5316\u7b56\u7565\uff1a\u9009\u62e9\u5408\u9002\u7684 <code>appendfsync</code> \u7b56\u7565\u3002<code>appendfsync everysec</code> \u63d0\u4f9b\u8f83\u597d\u7684\u6027\u80fd\u548c\u6570\u636e\u6301\u4e45\u6027\u5e73\u8861\uff0c\u800c <code>appendfsync no</code> \u5219\u5b8c\u5168\u4f9d\u8d56\u64cd\u4f5c\u7cfb\u7edf\u7f13\u5b58\uff0c\u6027\u80fd\u6700\u4f18\u4f46\u6570\u636e\u4e22\u5931\u98ce\u9669\u8f83\u5927\u3002</li> <li>\u793a\u4f8b\uff1a   <code>bash   appendfsync everysec  # \u6bcf\u79d2\u949f\u540c\u6b65\u4e00\u6b21 AOF \u6587\u4ef6</code></li> </ul> </li> <li> <p>RDB \u4e0e AOF \u7ed3\u5408\uff1a\u53ef\u4ee5\u540c\u65f6\u542f\u7528 RDB \u548c AOF \u6301\u4e45\u5316\uff0c\u4ee5\u4fbf\u5728\u6062\u590d\u65f6\u65e2\u80fd\u5feb\u901f\u6062\u590d\u5feb\u7167\u6570\u636e\uff0c\u53c8\u80fd\u4fdd\u7559\u66f4\u7cbe\u786e\u7684\u5199\u64cd\u4f5c\u65e5\u5fd7\u3002</p> <ul> <li>\u793a\u4f8b\uff1a   <code>bash   save 900 1  # RDB \u6301\u4e45\u5316\u914d\u7f6e   appendonly yes  # \u542f\u7528 AOF</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#10-redis","title":"10. Redis \u7684\u5185\u5b58\u7ba1\u7406\u548c\u5185\u5b58\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a Redis \u662f\u5982\u4f55\u7ba1\u7406\u5185\u5b58\u7684\uff1f\u6709\u54ea\u4e9b\u5185\u5b58\u4f18\u5316\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - \u5185\u5b58\u7ba1\u7406\uff1a   - \u5185\u5b58\u4f7f\u7528\uff1aRedis \u5c06\u6240\u6709\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u4f7f\u7528\u5185\u5b58\u4f5c\u4e3a\u6570\u636e\u5b58\u50a8\u7684\u4e3b\u8981\u4ecb\u8d28\u3002Redis \u63d0\u4f9b\u4e86\u5185\u5b58\u7ba1\u7406\u9009\u9879\u6765\u914d\u7f6e\u6700\u5927\u5185\u5b58\u4f7f\u7528\u91cf\u548c\u6dd8\u6c70\u7b56\u7565\u3002</p> <ul> <li>\u5185\u5b58\u4f18\u5316\u7b56\u7565\uff1a</li> <li> <p>\u8bbe\u7f6e\u6700\u5927\u5185\u5b58\uff1a\u4f7f\u7528 <code>maxmemory</code> \u914d\u7f6e\u9879\u6765\u9650\u5236 Redis \u5b9e\u4f8b\u7684\u6700\u5927\u5185\u5b58\u4f7f\u7528\u91cf\u3002</p> <ul> <li>\u793a\u4f8b\uff1a   <code>bash   maxmemory 2gb  # \u9650\u5236\u6700\u5927\u5185\u5b58\u4e3a 2GB</code></li> </ul> </li> <li> <p>\u9009\u62e9\u5408\u9002\u7684\u6dd8\u6c70\u7b56\u7565\uff1a\u6839\u636e\u5e94\u7528\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff0c\u5982 <code>allkeys-lru</code> \u6216 <code>volatile-lru</code>\u3002</p> <ul> <li>\u793a\u4f8b\uff1a   <code>bash   maxmemory-policy allkeys-lru  # \u4f7f\u7528 LRU \u7b56\u7565\u6dd8\u6c70\u6240\u6709\u952e</code></li> </ul> </li> <li> <p>\u538b\u7f29\u6570\u636e\u7ed3\u6784\uff1a\u4f7f\u7528 Redis \u63d0\u4f9b\u7684\u538b\u7f29\u6570\u636e\u7ed3\u6784\uff08\u5982 Redis \u7684\u5feb\u901f\u5217\u8868\uff09\u6765\u51cf\u5c11\u5185\u5b58\u5360\u7528\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#11-redis","title":"11. Redis \u96c6\u7fa4\u7684\u6545\u969c\u6062\u590d\u4e0e\u6570\u636e\u4e00\u81f4\u6027","text":"<p>\u95ee\u9898\uff1a Redis \u96c6\u7fa4\u5982\u4f55\u5b9e\u73b0\u6545\u969c\u6062\u590d\u548c\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u6545\u969c\u6062\u590d\uff1a   - \u6570\u636e\u5907\u4efd\uff1aRedis \u96c6\u7fa4\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u6765\u5907\u4efd\u6570\u636e\u3002\u6bcf\u4e2a\u4e3b\u8282\u70b9\u53ef\u4ee5\u6709\u591a\u4e2a\u4ece\u8282\u70b9\uff0c\u4ece\u8282\u70b9\u8d1f\u8d23\u6570\u636e\u7684\u5907\u4efd\u548c\u8bfb\u53d6\u8bf7\u6c42\u3002   - \u6545\u969c\u8f6c\u79fb\uff1aRedis \u96c6\u7fa4\u4f7f\u7528 <code>sentinel</code> \u6216 <code>Cluster</code> \u6a21\u5f0f\u6765\u5b9e\u73b0\u6545\u969c\u8f6c\u79fb\u3002\u5f53\u4e3b\u8282\u70b9\u53d1\u751f\u6545\u969c\u65f6\uff0c\u96c6\u7fa4\u53ef\u4ee5\u81ea\u52a8\u5c06\u4e00\u4e2a\u4ece\u8282\u70b9\u63d0\u5347\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\u3002</p> <ul> <li>\u6570\u636e\u4e00\u81f4\u6027\uff1a</li> <li>\u6570\u636e\u5206\u7247\uff1aRedis \u96c6\u7fa4\u901a\u8fc7\u6570\u636e\u5206\u7247\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002\u6bcf\u4e2a\u8282\u70b9\u8d1f\u8d23\u4e00\u90e8\u5206\u6570\u636e\uff0c\u96c6\u7fa4\u901a\u8fc7\u4e00\u81f4\u6027\u54c8\u5e0c\u7b97\u6cd5\u7ba1\u7406\u6570\u636e\u5206\u5e03\u3002</li> <li>\u5199\u5165\u4e00\u81f4\u6027\uff1aRedis \u96c6\u7fa4\u4f7f\u7528 <code>quorum</code> \u673a\u5236\u6765\u786e\u4fdd\u5199\u64cd\u4f5c\u7684\u5b89\u5168\u6027\u3002\u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u9700\u8981\u8fbe\u5230\u4e00\u5b9a\u7684 <code>quorum</code> \u624d\u80fd\u8fdb\u884c\u5199\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#12-redis","title":"12. Redis \u7684\u590d\u5236\u4e0e\u4e3b\u4ece\u540c\u6b65","text":"<p>\u95ee\u9898\uff1a Redis \u590d\u5236\u673a\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f\u4e3b\u4ece\u540c\u6b65\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u590d\u5236\u673a\u5236\uff1a   - \u4e3b\u4ece\u590d\u5236\uff1aRedis \u4e3b\u8282\u70b9\u5c06\u6570\u636e\u590d\u5236\u5230\u4ece\u8282\u70b9\uff0c\u4ece\u8282\u70b9\u901a\u8fc7\u5f02\u6b65\u590d\u5236\u6765\u4fdd\u6301\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002\u4e3b\u8282\u70b9\u5c06\u5199\u64cd\u4f5c\u65e5\u5fd7\u53d1\u9001\u5230\u4ece\u8282\u70b9\uff0c\u4ece\u8282\u70b9\u6839\u636e\u8fd9\u4e9b\u65e5\u5fd7\u8fdb\u884c\u6570\u636e\u66f4\u65b0\u3002   - \u590d\u5236\u8fc7\u7a0b\uff1a\u4ece\u8282\u70b9\u5728\u9996\u6b21\u8fde\u63a5\u65f6\u4f1a\u8fdb\u884c\u5168\u91cf\u540c\u6b65\uff0c\u4e4b\u540e\u4e3b\u4ece\u8282\u70b9\u901a\u8fc7\u589e\u91cf\u540c\u6b65\u6765\u4fdd\u6301\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u4e3b\u4ece\u540c\u6b65\uff1a</li> <li>\u6570\u636e\u4e00\u81f4\u6027\uff1a\u4e3b\u8282\u70b9\u5728\u5c06\u6570\u636e\u5199\u5165\u65e5\u5fd7\u540e\uff0c\u5f02\u6b65\u5c06\u65e5\u5fd7\u53d1\u9001\u5230\u4ece\u8282\u70b9\u3002\u4ece\u8282\u70b9\u901a\u8fc7\u5e94\u7528\u8fd9\u4e9b\u65e5\u5fd7\u6765\u66f4\u65b0\u6570\u636e\u3002</li> <li>\u6570\u636e\u6821\u9a8c\uff1aRedis \u63d0\u4f9b\u4e86\u673a\u5236\u6765\u68c0\u67e5\u4e3b\u4ece\u8282\u70b9\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002\u5982\u679c\u68c0\u6d4b\u5230\u6570\u636e\u4e0d\u4e00\u81f4\uff0c\u4ece\u8282\u70b9\u53ef\u4ee5\u91cd\u65b0\u8fdb\u884c\u5168\u91cf\u540c\u6b65\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#13-redis","title":"13. Redis \u7684\u9ad8\u53ef\u7528\u6027\u8bbe\u8ba1\u548c\u67b6\u6784","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u9ad8\u53ef\u7528\u6027\u662f\u5982\u4f55\u8bbe\u8ba1\u7684\uff1f\u4e3b\u8981\u7684\u9ad8\u53ef\u7528\u6027\u67b6\u6784\u548c\u6280\u672f\u6709\u54ea\u4e9b\uff1f</p> <p>\u56de\u7b54\uff1a - \u9ad8\u53ef\u7528\u6027\u8bbe\u8ba1\uff1a   - \u4e3b\u4ece\u590d\u5236\uff1a\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u6765\u63d0\u4f9b\u6570\u636e\u5907\u4efd\uff0c\u4ece\u8282\u70b9\u4f5c\u4e3a\u4e3b\u8282\u70b9\u7684\u5907\u4efd\u548c\u8bfb\u53d6\u8bf7\u6c42\u7684\u5904\u7406\u8282\u70b9\u3002   - Redis Sentinel\uff1a\u7528\u4e8e\u76d1\u63a7 Redis \u5b9e\u4f8b\u7684\u72b6\u6001\uff0c\u81ea\u52a8\u8fdb\u884c\u6545\u969c\u8f6c\u79fb\u548c\u901a\u77e5\u5ba2\u6237\u7aef\u3002</p> <ul> <li>\u9ad8\u53ef\u7528\u6027\u67b6\u6784\uff1a</li> <li>Redis Sentinel \u67b6\u6784\uff1a\u591a\u4e2a Sentinel \u5b9e\u4f8b\u76d1\u63a7 Redis \u5b9e\u4f8b\u7684\u72b6\u6001\uff0c\u81ea\u52a8\u8fdb\u884c\u4e3b\u8282\u70b9\u6545\u969c\u8f6c\u79fb\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> <li>Redis Cluster \u67b6\u6784\uff1a\u4f7f\u7528\u6570\u636e\u5206\u7247\u6765\u5206\u5e03\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u6545\u969c\u8f6c\u79fb\u548c\u9ad8\u53ef\u7528\u6027\u652f\u6301\u3002Redis \u96c6\u7fa4\u901a\u8fc7\u5206\u7247\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#14-redis","title":"14. Redis \u7684\u7f13\u5b58\u7a7f\u900f\u4e0e\u7f13\u5b58\u51fb\u7a7f\u95ee\u9898","text":"<p>\u95ee\u9898\uff1a \u4ec0\u4e48\u662f Redis \u7f13\u5b58\u7a7f\u900f\u548c\u7f13\u5b58\u51fb\u7a7f\uff1f\u5982\u4f55\u9632\u6b62\u8fd9\u4e24\u79cd\u95ee\u9898\uff1f</p> <p>\u56de\u7b54\uff1a - \u7f13\u5b58\u7a7f\u900f\uff1a   - \u5b9a\u4e49\uff1a\u7f13\u5b58\u7a7f\u900f\u6307\u7684\u662f\u8bf7\u6c42\u7ed5\u8fc7\u7f13\u5b58\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u7f13\u5b58\u4e2d\u6ca1\u6709\u76f8\u5173\u6570\u636e\uff0c\u800c\u6570\u636e\u5e93\u4e5f\u6ca1\u6709\u3002   - \u89e3\u51b3\u65b9\u6cd5\uff1a     - \u4f7f\u7528 Bloom Filter\uff1a\u5728\u7f13\u5b58\u524d\u6dfb\u52a0\u4e00\u4e2a Bloom Filter \u6765\u68c0\u67e5\u8bf7\u6c42\u7684\u6570\u636e\u662f\u5426\u5b58\u5728\uff0c\u51cf\u5c11\u65e0\u6548\u8bf7\u6c42\u5bf9\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u3002     - \u7f13\u5b58\u7a7a\u7ed3\u679c\uff1a\u5f53\u67e5\u8be2\u7ed3\u679c\u4e3a\u7a7a\u65f6\uff0c\u5c06\u7a7a\u7ed3\u679c\u7f13\u5b58\u4e00\u6bb5\u65f6\u95f4\uff0c\u9632\u6b62\u540c\u6837\u7684\u67e5\u8be2\u9891\u7e41\u8bbf\u95ee\u6570\u636e\u5e93\u3002</p> <ul> <li>\u7f13\u5b58\u51fb\u7a7f\uff1a</li> <li>\u5b9a\u4e49\uff1a\u7f13\u5b58\u51fb\u7a7f\u6307\u7684\u662f\u5927\u91cf\u8bf7\u6c42\u540c\u65f6\u8bbf\u95ee\u7f13\u5b58\u4e2d\u7684\u4e00\u4e2a\u8fc7\u671f\u6570\u636e\uff0c\u5bfc\u81f4\u6240\u6709\u8bf7\u6c42\u76f4\u63a5\u6253\u5230\u6570\u636e\u5e93\u3002</li> <li>\u89e3\u51b3\u65b9\u6cd5\uff1a<ul> <li>\u4e92\u65a5\u9501\uff1a\u5728\u7f13\u5b58\u8fc7\u671f\u65f6\uff0c\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u8bf7\u6c42\u4f1a\u67e5\u8be2\u6570\u636e\u5e93\u5e76\u66f4\u65b0\u7f13\u5b58\uff0c\u5176\u4ed6\u8bf7\u6c42\u7b49\u5f85\u7f13\u5b58\u66f4\u65b0\u3002</li> <li>\u52a0\u957f\u8fc7\u671f\u65f6\u95f4\uff1a\u4e3a\u7f13\u5b58\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u51cf\u5c11\u7f13\u5b58\u51fb\u7a7f\u7684\u9891\u7387\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#15-redis","title":"15. Redis \u7684\u5b89\u5168\u6027\u548c\u8bbf\u95ee\u63a7\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u4fdd\u8bc1\u5b89\u5168\u6027\uff1f\u6709\u54ea\u4e9b\u8bbf\u95ee\u63a7\u5236\u548c\u5b89\u5168\u673a\u5236\u53ef\u4ee5\u914d\u7f6e\uff1f</p> <p>\u56de\u7b54\uff1a - \u5b89\u5168\u6027\uff1a   - \u5bc6\u7801\u4fdd\u62a4\uff1a\u4f7f\u7528 <code>requirepass</code> \u914d\u7f6e\u9879\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801\uff0c\u786e\u4fdd\u53ea\u6709\u6388\u6743\u7528\u6237\u624d\u80fd\u8bbf\u95ee Redis \u5b9e\u4f8b\u3002     - \u793a\u4f8b\uff1a       <code>bash       requirepass yourpassword</code></p> <ul> <li> <p>IP \u7ed1\u5b9a\uff1a\u4f7f\u7528 <code>bind</code> \u914d\u7f6e\u9879\u9650\u5236 Redis \u5b9e\u4f8b\u7684\u8bbf\u95ee IP \u5730\u5740\uff0c\u786e\u4fdd\u53ea\u6709\u6307\u5b9a\u7684 IP \u5730\u5740\u53ef\u4ee5\u8bbf\u95ee Redis\u3002</p> <ul> <li>\u793a\u4f8b\uff1a   <code>bash   bind 127.0.0.1</code></li> </ul> </li> <li> <p>\u9632\u706b\u5899\uff1a\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u9632\u706b\u5899\u89c4\u5219\u9650\u5236\u5bf9 Redis \u7aef\u53e3\u7684\u8bbf\u95ee\uff0c\u4ec5\u5141\u8bb8\u6388\u6743\u7684\u5ba2\u6237\u7aef\u8bbf\u95ee Redis \u5b9e\u4f8b\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#16-redis-lua","title":"16. Redis \u7684 Lua \u811a\u672c\u4e0e\u4e8b\u52a1","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u4f7f\u7528 Lua \u811a\u672c\u6765\u5b9e\u73b0\u590d\u6742\u7684\u64cd\u4f5c\uff1fLua \u811a\u672c\u5982\u4f55\u4e0e Redis \u4e8b\u52a1\u914d\u5408\u4f7f\u7528\uff1f</p> <p>\u56de\u7b54\uff1a - Lua \u811a\u672c\uff1a   - \u4f7f\u7528 <code>EVAL</code> \u547d\u4ee4\uff1aRedis \u652f\u6301\u901a\u8fc7 <code>EVAL</code> \u547d\u4ee4\u6267\u884c Lua \u811a\u672c\u3002Lua \u811a\u672c\u5728 Redis \u670d\u52a1\u5668\u4e0a\u6267\u884c\uff0c\u80fd\u591f\u539f\u5b50\u6027\u5730\u5b8c\u6210\u590d\u6742\u64cd\u4f5c\u3002     - \u793a\u4f8b\uff1a       <code>bash       EVAL \"return redis.call('set', KEYS[1], ARGV[1])\" 1 mykey \"myvalue\"</code></p> <ul> <li>Lua \u811a\u672c\u4e0e\u4e8b\u52a1\uff1a</li> <li>\u539f\u5b50\u6027\uff1aLua \u811a\u672c\u5728 Redis \u4e2d\u662f\u539f\u5b50\u6027\u7684\uff0c\u5373\u5728\u811a\u672c\u6267\u884c\u671f\u95f4\u4e0d\u4f1a\u88ab\u5176\u4ed6\u547d\u4ee4\u6253\u65ad\u3002</li> <li>\u4e0e\u4e8b\u52a1\u7ed3\u5408\uff1a\u53ef\u4ee5\u5728 Lua \u811a\u672c\u4e2d\u6267\u884c Redis \u547d\u4ee4\uff0c\u540c\u65f6\u5728\u4e8b\u52a1\u4e2d\u8fd0\u884c\u591a\u4e2a Lua \u811a\u672c\uff0c\u786e\u4fdd\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#17-redis","title":"17. Redis \u7684\u6027\u80fd\u76d1\u63a7\u4e0e\u8c03\u4f18","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u76d1\u63a7 Redis \u7684\u6027\u80fd\uff1f\u6709\u54ea\u4e9b\u6027\u80fd\u8c03\u4f18\u7684\u7b56\u7565\u548c\u5de5\u5177\uff1f</p> <p>\u56de\u7b54\uff1a - \u6027\u80fd\u76d1\u63a7\uff1a   - Redis INFO \u547d\u4ee4\uff1a\u4f7f\u7528 <code>INFO</code> \u547d\u4ee4\u67e5\u770b Redis \u5b9e\u4f8b\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5982\u5185\u5b58\u4f7f\u7528\u3001\u547d\u4ee4\u6267\u884c\u60c5\u51b5\u7b49\u3002     - \u793a\u4f8b\uff1a       <code>bash       INFO memory</code></p> <ul> <li> <p>Redis MONITOR \u547d\u4ee4\uff1a\u4f7f\u7528 <code>MONITOR</code> \u547d\u4ee4\u5b9e\u65f6\u76d1\u63a7 Redis \u7684\u6240\u6709\u547d\u4ee4\u6267\u884c\u60c5\u51b5\u3002</p> <ul> <li>\u793a\u4f8b\uff1a   <code>bash   MONITOR</code></li> </ul> </li> <li> <p>\u6027\u80fd\u8c03\u4f18\uff1a</p> </li> <li>\u4f18\u5316\u6570\u636e\u7ed3\u6784\uff1a\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u6570\u636e\uff0c\u5982\u4f7f\u7528 <code>HASH</code> \u6765\u4f18\u5316\u5b58\u50a8\u3002</li> <li>\u8c03\u6574\u5185\u5b58\u8bbe\u7f6e\uff1a\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8c03\u6574 <code>maxmemory</code> \u548c <code>maxmemory-policy</code> \u8bbe\u7f6e\u3002</li> <li>\u76d1\u63a7\u6162\u67e5\u8be2\uff1a\u4f7f\u7528 <code>SLOWLOG</code> \u76d1\u63a7\u548c\u5206\u6790\u6162\u67e5\u8be2\uff0c\u4f18\u5316\u6267\u884c\u65f6\u95f4\u8f83\u957f\u7684\u547d\u4ee4\u3002<ul> <li>\u793a\u4f8b\uff1a   <code>bash   SLOWLOG get 10  # \u83b7\u53d6\u6700\u8fd1 10 \u6761\u6162\u67e5\u8be2</code></li> </ul> </li> </ul> <p>\u5f53\u7136\uff0c\u8fd9\u91cc\u662f\u66f4\u591a\u7684 Redis \u9762\u8bd5\u9898\u76ee\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff0c\u5305\u62ec\u4e00\u4e9b\u66f4\u9ad8\u7ea7\u7684\u4e3b\u9898\u548c\u5b9e\u9645\u5e94\u7528\u573a\u666f\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#18-redis","title":"18. Redis \u7684\u4e8b\u52a1\u673a\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u4e8b\u52a1\u673a\u5236\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f\u5982\u4f55\u4f7f\u7528\u4e8b\u52a1\u6765\u786e\u4fdd\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e8b\u52a1\u673a\u5236\uff1a   - Redis \u7684\u4e8b\u52a1\u901a\u8fc7 <code>MULTI</code>\u3001<code>EXEC</code>\u3001<code>DISCARD</code> \u548c <code>WATCH</code> \u547d\u4ee4\u5b9e\u73b0\u3002\u4e8b\u52a1\u4e2d\u7684\u547d\u4ee4\u5728 <code>EXEC</code> \u547d\u4ee4\u88ab\u8c03\u7528\u4e4b\u524d\u4e0d\u4f1a\u88ab\u6267\u884c\u3002   - \u539f\u5b50\u6027\uff1a\u6240\u6709\u5728 <code>MULTI</code> \u548c <code>EXEC</code> \u4e4b\u95f4\u7684\u547d\u4ee4\u4f1a\u88ab\u5f53\u4f5c\u4e00\u4e2a\u539f\u5b50\u64cd\u4f5c\u6765\u6267\u884c\uff0c\u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u3002</p> <ul> <li> <p>\u4f7f\u7528\u4e8b\u52a1\u7684\u793a\u4f8b\uff1a   <code>bash   MULTI   SET key1 value1   SET key2 value2   EXEC</code></p> </li> <li> <p>WATCH \u547d\u4ee4\uff1a\u5728\u4e8b\u52a1\u4e2d\u4f7f\u7528 <code>WATCH</code> \u547d\u4ee4\u53ef\u4ee5\u76d1\u89c6\u67d0\u4e9b\u952e\u7684\u53d8\u5316\u3002\u5982\u679c\u5728\u4e8b\u52a1\u6267\u884c\u4e4b\u524d\u76d1\u89c6\u7684\u952e\u88ab\u4fee\u6539\uff0c\u5219\u4e8b\u52a1\u4f1a\u88ab\u6253\u65ad\u3002</p> </li> <li>\u793a\u4f8b\uff1a     <code>bash     WATCH key1     MULTI     SET key1 value1     EXEC</code></li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#19-redis","title":"19. Redis \u6570\u636e\u4e00\u81f4\u6027\u6a21\u578b","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u6570\u636e\u4e00\u81f4\u6027\u6a21\u578b\u662f\u4ec0\u4e48\uff1f\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b Redis \u7684\u6570\u636e\u4e00\u81f4\u6027\u4f1a\u53d7\u5230\u5f71\u54cd\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u4e00\u81f4\u6027\u6a21\u578b\uff1a   - Redis \u63d0\u4f9b\u6700\u7ec8\u4e00\u81f4\u6027\u6a21\u578b\uff0c\u5728\u4e3b\u4ece\u590d\u5236\u67b6\u6784\u4e0b\uff0c\u4e3b\u8282\u70b9\u7684\u6570\u636e\u66f4\u65b0\u4f1a\u5f02\u6b65\u4f20\u9012\u5230\u4ece\u8282\u70b9\u3002\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u53ef\u80fd\u4f1a\u51fa\u73b0\u77ed\u6682\u7684\u5ef6\u8fdf\u3002</p> <ul> <li>\u4e00\u81f4\u6027\u5f71\u54cd\uff1a</li> <li>\u4e3b\u4ece\u590d\u5236\u5ef6\u8fdf\uff1a\u7531\u4e8e\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u5f02\u6b65\u590d\u5236\u673a\u5236\uff0c\u4ece\u8282\u70b9\u53ef\u80fd\u4f1a\u6ede\u540e\u4e8e\u4e3b\u8282\u70b9\uff0c\u5bfc\u81f4\u77ed\u65f6\u95f4\u5185\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> <li>\u7f51\u7edc\u5206\u533a\uff1a\u5728\u7f51\u7edc\u5206\u533a\u60c5\u51b5\u4e0b\uff0cRedis \u96c6\u7fa4\u7684\u4e0d\u540c\u8282\u70b9\u53ef\u80fd\u65e0\u6cd5\u540c\u6b65\u6570\u636e\uff0c\u5bfc\u81f4\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#20-redis","title":"20. Redis \u7684\u6570\u636e\u8fc7\u671f\u4e0e\u6e05\u7406\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5904\u7406\u6570\u636e\u8fc7\u671f\uff1f\u6709\u54ea\u4e9b\u7b56\u7565\u53ef\u4ee5\u7528\u4e8e\u6570\u636e\u7684\u6e05\u7406\u548c\u7ba1\u7406\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u8fc7\u671f\uff1a   - \u8fc7\u671f\u65f6\u95f4\u8bbe\u7f6e\uff1a\u4f7f\u7528 <code>EXPIRE</code> \u547d\u4ee4\u4e3a\u952e\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3002\u952e\u5728\u8fc7\u671f\u540e\u4f1a\u88ab\u81ea\u52a8\u5220\u9664\u3002     - \u793a\u4f8b\uff1a       <code>bash       EXPIRE key 60  # \u952e\u5c06\u5728 60 \u79d2\u540e\u8fc7\u671f</code></p> <ul> <li> <p>\u8fc7\u671f\u7b56\u7565\uff1aRedis \u901a\u8fc7\u60f0\u6027\u5220\u9664\u548c\u5b9a\u671f\u5220\u9664\u4e24\u79cd\u673a\u5236\u6765\u5904\u7406\u8fc7\u671f\u952e\u3002</p> <ul> <li>\u60f0\u6027\u5220\u9664\uff1a\u5f53\u8bbf\u95ee\u4e00\u4e2a\u8fc7\u671f\u952e\u65f6\uff0cRedis \u4f1a\u5220\u9664\u8be5\u952e\u3002</li> <li>\u5b9a\u671f\u5220\u9664\uff1aRedis \u4f1a\u5468\u671f\u6027\u5730\u68c0\u67e5\u8fc7\u671f\u952e\u5e76\u5220\u9664\u3002</li> </ul> </li> <li> <p>\u6e05\u7406\u7b56\u7565\uff1a</p> </li> <li> <p>\u5b9a\u671f\u626b\u63cf\uff1a\u914d\u7f6e <code>hz</code> \u53c2\u6570\u6765\u8c03\u6574 Redis \u626b\u63cf\u8fc7\u671f\u952e\u7684\u9891\u7387\u3002</p> <ul> <li>\u793a\u4f8b\uff1a   <code>bash   hz 10  # \u6bcf 10 \u4e2a\u64cd\u4f5c\u5468\u671f\u626b\u63cf\u8fc7\u671f\u952e</code></li> </ul> </li> <li> <p>\u5185\u5b58\u4f18\u5316\uff1a\u4f7f\u7528\u5408\u9002\u7684 <code>maxmemory</code> \u548c <code>maxmemory-policy</code> \u8bbe\u7f6e\u6765\u4f18\u5316\u5185\u5b58\u4f7f\u7528\u548c\u6570\u636e\u6e05\u7406\u3002</p> <ul> <li>\u793a\u4f8b\uff1a   <code>bash   maxmemory-policy allkeys-lru  # \u4f7f\u7528 LRU \u7b56\u7565\u6dd8\u6c70\u8fc7\u671f\u952e</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#21-redis","title":"21. Redis \u7684\u6301\u4e45\u5316\u6027\u80fd\u5f71\u54cd","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u6301\u4e45\u5316\u673a\u5236\u5bf9\u6027\u80fd\u6709\u4f55\u5f71\u54cd\uff1f\u5982\u4f55\u5728\u6301\u4e45\u5316\u548c\u6027\u80fd\u4e4b\u95f4\u627e\u5230\u5e73\u8861\uff1f</p> <p>\u56de\u7b54\uff1a - \u6301\u4e45\u5316\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff1a   - RDB\uff1a\u751f\u6210\u5feb\u7167\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u5bfc\u81f4 I/O \u64cd\u4f5c\u589e\u52a0\uff0c\u4ece\u800c\u5f71\u54cd Redis \u6027\u80fd\u3002\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574 <code>save</code> \u914d\u7f6e\u6765\u51cf\u5c11\u5feb\u7167\u7684\u751f\u6210\u9891\u7387\uff0c\u51cf\u8f7b\u6027\u80fd\u5f71\u54cd\u3002   - AOF\uff1a\u5199\u5165 AOF \u6587\u4ef6\u65f6\u4f1a\u4ea7\u751f\u989d\u5916\u7684 I/O \u64cd\u4f5c\u3002\u4f7f\u7528 <code>appendfsync everysec</code> \u7b56\u7565\u53ef\u4ee5\u5728\u6027\u80fd\u548c\u6570\u636e\u6301\u4e45\u6027\u4e4b\u95f4\u627e\u5230\u5e73\u8861\u3002</p> <ul> <li>\u6027\u80fd\u4f18\u5316\uff1a</li> <li>RDB \u914d\u7f6e\u4f18\u5316\uff1a\u51cf\u5c11\u5feb\u7167\u9891\u7387\u548c\u8bbe\u7f6e\u5408\u9002\u7684 <code>save</code> \u6761\u4ef6\uff0c\u4ee5\u964d\u4f4e\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002</li> <li>AOF \u914d\u7f6e\u4f18\u5316\uff1a\u8c03\u6574 <code>appendfsync</code> \u7b56\u7565\uff0c\u6839\u636e\u5e94\u7528\u5bf9\u6570\u636e\u6301\u4e45\u6027\u7684\u8981\u6c42\u9009\u62e9\u9002\u5408\u7684\u914d\u7f6e\u3002</li> <li>\u5408\u5e76\u4f7f\u7528\uff1a\u540c\u65f6\u4f7f\u7528 RDB \u548c AOF \u6301\u4e45\u5316\u673a\u5236\uff0c\u4ee5\u5728\u4fdd\u8bc1\u6570\u636e\u6301\u4e45\u6027\u7684\u540c\u65f6\uff0c\u51cf\u5c11\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#22-redis","title":"22. Redis \u7684\u5206\u5e03\u5f0f\u9501\u5b9e\u73b0","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f7f\u7528 Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1f\u4ec0\u4e48\u662f Redis \u5206\u5e03\u5f0f\u9501\u7684\u6700\u4f73\u5b9e\u8df5\uff1f</p> <p>\u56de\u7b54\uff1a - \u5206\u5e03\u5f0f\u9501\u5b9e\u73b0\uff1a   - \u4f7f\u7528 Redis \u7684 <code>SET</code> \u547d\u4ee4\u548c <code>NX</code>\uff08\u53ea\u5728\u952e\u4e0d\u5b58\u5728\u65f6\u8bbe\u7f6e\uff09\u9009\u9879\u6765\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u3002\u8bbe\u7f6e\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\u4ee5\u9632\u6b62\u9501\u7684\u6c38\u4e45\u5b58\u5728\u3002</p> <ul> <li> <p>\u5b9e\u73b0\u793a\u4f8b\uff1a   <code>bash   SET lock_key unique_lock_value NX PX 30000  # \u8bbe\u7f6e\u9501\uff0c\u8fc7\u671f\u65f6\u95f4\u4e3a 30 \u79d2</code></p> </li> <li> <p>\u6700\u4f73\u5b9e\u8df5\uff1a</p> </li> <li>\u4f7f\u7528\u8fc7\u671f\u65f6\u95f4\uff1a\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u9632\u6b62\u9501\u56e0\u5ba2\u6237\u7aef\u5f02\u5e38\u800c\u65e0\u6cd5\u91ca\u653e\u3002</li> <li>\u9501\u7ade\u4e89\uff1a\u4f7f\u7528 <code>SET</code> \u547d\u4ee4\u7684 <code>NX</code> \u9009\u9879\u6765\u907f\u514d\u9501\u7684\u7ade\u4e89\uff0c\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u5ba2\u6237\u7aef\u80fd\u591f\u83b7\u5f97\u9501\u3002</li> <li>\u9501\u91ca\u653e\uff1a\u5728\u9501\u4f7f\u7528\u5b8c\u6210\u540e\uff0c\u786e\u4fdd\u91ca\u653e\u9501\u3002\u53ef\u4ee5\u4f7f\u7528 Lua \u811a\u672c\u5728\u539f\u5b50\u64cd\u4f5c\u4e2d\u91ca\u653e\u9501\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#23-redis","title":"23. Redis \u7684\u4e3b\u4ece\u540c\u6b65\u4e0e\u4e00\u81f4\u6027\u4fdd\u969c","text":"<p>\u95ee\u9898\uff1a Redis \u4e3b\u4ece\u540c\u6b65\u8fc7\u7a0b\u4e2d\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u540c\u6b65\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6cd5\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e3b\u4ece\u540c\u6b65\u4fdd\u969c\uff1a   - \u5168\u91cf\u540c\u6b65\u548c\u589e\u91cf\u540c\u6b65\uff1a\u521d\u6b21\u8fde\u63a5\u65f6\u8fdb\u884c\u5168\u91cf\u540c\u6b65\uff0c\u4e4b\u540e\u901a\u8fc7\u589e\u91cf\u540c\u6b65\u6765\u4fdd\u6301\u6570\u636e\u4e00\u81f4\u6027\u3002   - \u6570\u636e\u4e00\u81f4\u6027\u68c0\u67e5\uff1a\u5728\u540c\u6b65\u8fc7\u7a0b\u4e2d\uff0cRedis \u4f1a\u5b9a\u671f\u68c0\u67e5\u6570\u636e\u4e00\u81f4\u6027\uff0c\u786e\u4fdd\u4e3b\u4ece\u8282\u70b9\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u5e38\u89c1\u95ee\u9898\u53ca\u89e3\u51b3\u65b9\u6cd5\uff1a</li> <li>\u540c\u6b65\u5ef6\u8fdf\uff1a\u4e3b\u8282\u70b9\u5230\u4ece\u8282\u70b9\u7684\u6570\u636e\u540c\u6b65\u53ef\u80fd\u4f1a\u6709\u5ef6\u8fdf\u3002\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574\u7f51\u7edc\u914d\u7f6e\u548c\u4f18\u5316\u4e3b\u4ece\u8282\u70b9\u7684\u6027\u80fd\u6765\u51cf\u5c11\u5ef6\u8fdf\u3002</li> <li>\u6570\u636e\u4e22\u5931\uff1a\u5728\u4e3b\u8282\u70b9\u6545\u969c\u65f6\uff0c\u4ece\u8282\u70b9\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u4e22\u5931\u3002\u4f7f\u7528 Redis Sentinel \u6216 Redis Cluster \u6765\u786e\u4fdd\u4e3b\u4ece\u8282\u70b9\u7684\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#24-redis","title":"24. Redis \u96c6\u7fa4\u7684\u8bbe\u8ba1\u4e0e\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a Redis \u96c6\u7fa4\u7684\u8bbe\u8ba1\u539f\u5219\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f18\u5316 Redis \u96c6\u7fa4\u7684\u6027\u80fd\u548c\u53ef\u6269\u5c55\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u96c6\u7fa4\u8bbe\u8ba1\u539f\u5219\uff1a   - \u6570\u636e\u5206\u7247\uff1a\u901a\u8fc7\u6570\u636e\u5206\u7247\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u63d0\u9ad8\u6570\u636e\u5b58\u50a8\u548c\u5904\u7406\u80fd\u529b\u3002   - \u9ad8\u53ef\u7528\u6027\uff1a\u4f7f\u7528\u4e3b\u4ece\u590d\u5236\u6765\u786e\u4fdd\u6570\u636e\u7684\u9ad8\u53ef\u7528\u6027\uff0c\u4e3b\u8282\u70b9\u6545\u969c\u65f6\u4ece\u8282\u70b9\u53ef\u4ee5\u63a5\u7ba1\u5de5\u4f5c\u3002   - \u8d1f\u8f7d\u5747\u8861\uff1a\u901a\u8fc7\u5747\u5300\u5206\u5e03\u6570\u636e\u548c\u8bf7\u6c42\uff0c\u907f\u514d\u67d0\u4e9b\u8282\u70b9\u8d1f\u8f7d\u8fc7\u9ad8\u3002</p> <ul> <li>\u6027\u80fd\u4f18\u5316\uff1a</li> <li>\u5408\u7406\u5206\u914d\u69fd\uff1a\u5c06\u6570\u636e\u69fd\u5747\u5300\u5206\u914d\u5230\u96c6\u7fa4\u8282\u70b9\uff0c\u786e\u4fdd\u8d1f\u8f7d\u5747\u8861\u3002</li> <li>\u4f18\u5316\u7f51\u7edc\u914d\u7f6e\uff1a\u63d0\u9ad8\u7f51\u7edc\u5e26\u5bbd\u548c\u964d\u4f4e\u5ef6\u8fdf\uff0c\u4ee5\u6539\u5584\u96c6\u7fa4\u7684\u6027\u80fd\u3002</li> <li>\u76d1\u63a7\u548c\u8c03\u4f18\uff1a\u4f7f\u7528 Redis \u63d0\u4f9b\u7684\u76d1\u63a7\u5de5\u5177\u6765\u76d1\u63a7\u96c6\u7fa4\u6027\u80fd\uff0c\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u4f18\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#25-redis","title":"25. Redis \u7684\u5907\u4efd\u4e0e\u6062\u590d","text":"<p>\u95ee\u9898\uff1a Redis \u6570\u636e\u5982\u4f55\u8fdb\u884c\u5907\u4efd\u548c\u6062\u590d\uff1f\u6709\u54ea\u4e9b\u5907\u4efd\u548c\u6062\u590d\u7684\u7b56\u7565\u548c\u5de5\u5177\uff1f</p> <p>\u56de\u7b54\uff1a - \u5907\u4efd\u548c\u6062\u590d\uff1a   - RDB \u5907\u4efd\uff1a\u5b9a\u671f\u751f\u6210 RDB \u5feb\u7167\u4f5c\u4e3a\u6570\u636e\u5907\u4efd\u3002\u53ef\u4ee5\u5c06 RDB \u6587\u4ef6\u590d\u5236\u5230\u5b89\u5168\u7684\u4f4d\u7f6e\u4f5c\u4e3a\u5907\u4efd\u3002     - \u5907\u4efd\u547d\u4ee4\uff1a       <code>bash       BGSAVE</code>   - AOF \u5907\u4efd\uff1a\u5907\u4efd AOF \u6587\u4ef6\uff0cAOF \u6587\u4ef6\u8bb0\u5f55\u4e86\u6240\u6709\u7684\u5199\u64cd\u4f5c\u65e5\u5fd7\u3002\u5b9a\u671f\u5907\u4efd AOF \u6587\u4ef6\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u6301\u4e45\u6027\u3002</p> <ul> <li>\u6062\u590d\u7b56\u7565\uff1a</li> <li>\u4ece RDB \u6587\u4ef6\u6062\u590d\uff1a\u5c06 RDB \u6587\u4ef6\u590d\u5236\u5230 Redis \u6570\u636e\u76ee\u5f55\uff0c\u91cd\u542f Redis \u5b9e\u4f8b\u4f1a\u81ea\u52a8\u52a0\u8f7d RDB \u6587\u4ef6\u4e2d\u7684\u6570\u636e\u3002</li> <li> <p>\u4ece AOF \u6587\u4ef6\u6062\u590d\uff1a\u5c06 AOF \u6587\u4ef6\u590d\u5236\u5230 Redis \u6570\u636e\u76ee\u5f55\uff0c\u91cd\u542f Redis \u5b9e\u4f8b\u4f1a\u6839\u636e AOF \u6587\u4ef6\u6062\u590d\u6570\u636e\u3002</p> </li> <li> <p>\u5907\u4efd\u5de5\u5177\uff1a</p> </li> <li>RDB/AOF \u6587\u4ef6\u590d\u5236\uff1a\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u5907\u4efd\u5de5\u5177\uff08\u5982 <code>rsync</code> \u6216 <code>scp</code>\uff09\u6765\u5b9a\u671f\u5907\u4efd RDB \u6216 AOF \u6587\u4ef6\u3002</li> <li>\u5feb\u7167\u5907\u4efd\uff1a\u4f7f\u7528\u4e91\u670d\u52a1\u63d0\u4f9b\u7684\u5feb\u7167\u529f\u80fd\uff08\u5982 AWS EBS \u5feb\u7167\uff09\u6765\u5907\u4efd Redis \u6570\u636e\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u8fd9\u91cc\u6709\u66f4\u591a\u5173\u4e8e Redis \u9762\u8bd5\u9898\u7684\u5185\u5bb9\uff0c\u6db5\u76d6\u4e00\u4e9b\u8fdb\u9636\u548c\u5b9e\u9645\u5e94\u7528\u573a\u666f\u7684\u95ee\u9898\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#26-redis-cluster","title":"26. Redis Cluster \u7684\u6545\u969c\u6062\u590d\u4e0e\u9ad8\u53ef\u7528\u6027","text":"<p>\u95ee\u9898\uff1a Redis Cluster \u5728\u8282\u70b9\u6545\u969c\u65f6\u5982\u4f55\u8fdb\u884c\u6062\u590d\uff1f\u5982\u4f55\u786e\u4fdd\u9ad8\u53ef\u7528\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u8282\u70b9\u6545\u969c\u6062\u590d\uff1a   - \u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1aRedis Cluster \u4f7f\u7528\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\u7684\u590d\u5236\u5173\u7cfb\u6765\u5b9e\u73b0\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u3002\u5982\u679c\u4e3b\u8282\u70b9\u6545\u969c\uff0c\u4ece\u8282\u70b9\u4f1a\u81ea\u52a8\u63d0\u5347\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\u3002   - \u914d\u7f6e\uff1a\u901a\u8fc7\u914d\u7f6e <code>cluster-require-full-coverage</code> \u9009\u9879\u6765\u63a7\u5236\u96c6\u7fa4\u662f\u5426\u5141\u8bb8\u5728\u67d0\u4e9b\u5206\u7247\u4e0d\u53ef\u7528\u65f6\u7ee7\u7eed\u8fd0\u884c\u3002</p> <ul> <li>\u9ad8\u53ef\u7528\u6027\uff1a</li> <li>\u8282\u70b9\u6570\u91cf\uff1a\u5efa\u8bae\u5728 Redis Cluster \u4e2d\u914d\u7f6e\u81f3\u5c11 3 \u4e2a\u4e3b\u8282\u70b9\u548c 3 \u4e2a\u4ece\u8282\u70b9\uff0c\u4ee5\u786e\u4fdd\u5728\u8282\u70b9\u6545\u969c\u65f6\u6709\u8db3\u591f\u7684\u526f\u672c\u53ef\u7528\u3002</li> <li>\u8282\u70b9\u5065\u5eb7\u68c0\u67e5\uff1aRedis Cluster \u4f1a\u5b9a\u671f\u68c0\u67e5\u8282\u70b9\u7684\u5065\u5eb7\u72b6\u6001\uff0c\u5e76\u5728\u53d1\u73b0\u8282\u70b9\u6545\u969c\u65f6\u8fdb\u884c\u81ea\u52a8\u5904\u7406\u3002</li> <li>Redis Sentinel\uff1a\u53ef\u4ee5\u4e0e Redis Cluster \u914d\u5408\u4f7f\u7528\uff0c\u63d0\u4f9b\u989d\u5916\u7684\u9ad8\u53ef\u7528\u6027\u548c\u76d1\u63a7\u529f\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#27-redis","title":"27. Redis \u7684\u5185\u5b58\u7ba1\u7406\u548c\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u5185\u5b58\u7ba1\u7406\u7b56\u7565\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f18\u5316 Redis \u7684\u5185\u5b58\u4f7f\u7528\uff1f</p> <p>\u56de\u7b54\uff1a - \u5185\u5b58\u7ba1\u7406\u7b56\u7565\uff1a   - \u5185\u5b58\u9650\u5236\uff1a\u901a\u8fc7 <code>maxmemory</code> \u53c2\u6570\u8bbe\u7f6e Redis \u7684\u6700\u5927\u5185\u5b58\u4f7f\u7528\u9650\u5236\u3002\u8d85\u51fa\u9650\u5236\u540e\uff0cRedis \u4f1a\u6839\u636e <code>maxmemory-policy</code> \u914d\u7f6e\u7684\u7b56\u7565\u8fdb\u884c\u6570\u636e\u6dd8\u6c70\u3002   - \u5185\u5b58\u7b56\u7565\uff1a\u5e38\u89c1\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\u5305\u62ec <code>volatile-lru</code>\u3001<code>allkeys-lru</code>\u3001<code>volatile-ttl</code> \u548c <code>noeviction</code>\u3002</p> <ul> <li>\u5185\u5b58\u4f18\u5316\uff1a</li> <li>\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\uff1a\u6839\u636e\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u9009\u62e9\u6700\u5408\u9002\u7684 Redis \u6570\u636e\u7ed3\u6784\uff0c\u5982 <code>HASH</code>\u3001<code>SET</code> \u6216 <code>LIST</code>\u3002</li> <li>\u4f7f\u7528\u5185\u5b58\u4f18\u5316\u9009\u9879\uff1a\u542f\u7528 Redis \u7684\u5185\u5b58\u4f18\u5316\u9009\u9879\uff0c\u5982 <code>ACTUAL_MEMORY</code> \u548c <code>MEMORY_OVERHEAD</code>\uff0c\u6765\u4f18\u5316\u5185\u5b58\u4f7f\u7528\u3002</li> <li>\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\uff1a\u4f7f\u7528 <code>INFO memory</code> \u547d\u4ee4\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u5e76\u6839\u636e\u9700\u8981\u8c03\u6574\u914d\u7f6e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#28-redis","title":"28. Redis \u4e0e\u5176\u4ed6\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u7684\u6bd4\u8f83","text":"<p>\u95ee\u9898\uff1a Redis \u4e0e\u5176\u4ed6\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\uff08\u5982 MongoDB\u3001MySQL\uff09\u76f8\u6bd4\uff0c\u6709\u54ea\u4e9b\u4f18\u52bf\u548c\u52a3\u52bf\uff1f</p> <p>\u56de\u7b54\uff1a - Redis \u7684\u4f18\u52bf\uff1a   - \u5185\u5b58\u5b58\u50a8\uff1aRedis \u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u63d0\u4f9b\u6781\u5feb\u7684\u8bfb\u5199\u901f\u5ea6\u3002   - \u4e30\u5bcc\u7684\u6570\u636e\u7ed3\u6784\uff1aRedis \u652f\u6301\u591a\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u5982 <code>HASH</code>\u3001<code>LIST</code>\u3001<code>SET</code> \u548c <code>ZSET</code>\u3002   - \u9ad8\u6027\u80fd\uff1aRedis \u7684\u6027\u80fd\u975e\u5e38\u9ad8\uff0c\u9002\u5408\u9700\u8981\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u7684\u5e94\u7528\u573a\u666f\u3002</p> <ul> <li>Redis \u7684\u52a3\u52bf\uff1a</li> <li>\u6570\u636e\u6301\u4e45\u5316\uff1a\u867d\u7136 Redis \u652f\u6301 RDB \u548c AOF \u6301\u4e45\u5316\uff0c\u4f46\u76f8\u6bd4\u4e8e\u78c1\u76d8\u5b58\u50a8\u7684\u6570\u636e\u5e93\uff0c\u5176\u6570\u636e\u6301\u4e45\u6027\u4ecd\u7136\u6709\u9650\u3002</li> <li> <p>\u5185\u5b58\u9650\u5236\uff1aRedis \u4e3b\u8981\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u5bf9\u4e8e\u6570\u636e\u91cf\u6781\u5927\u7684\u5e94\u7528\uff0c\u5185\u5b58\u9650\u5236\u53ef\u80fd\u6210\u4e3a\u74f6\u9888\u3002</p> </li> <li> <p>\u4e0e MongoDB \u6bd4\u8f83\uff1a</p> </li> <li>MongoDB\uff1a\u662f\u4e00\u4e2a\u9762\u5411\u6587\u6863\u7684 NoSQL \u6570\u636e\u5e93\uff0c\u652f\u6301\u6301\u4e45\u5316\u5b58\u50a8\u548c\u4e30\u5bcc\u7684\u67e5\u8be2\u529f\u80fd\u3002\u9002\u5408\u9700\u8981\u590d\u6742\u67e5\u8be2\u548c\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u7684\u5e94\u7528\u3002</li> <li> <p>Redis\uff1a\u9002\u5408\u9ad8\u6027\u80fd\u7f13\u5b58\u548c\u5b9e\u65f6\u6570\u636e\u5904\u7406\u573a\u666f\uff0c\u4f46\u5176\u6570\u636e\u6301\u4e45\u5316\u529f\u80fd\u8f83\u5f31\uff0c\u4e0d\u9002\u5408\u5927\u89c4\u6a21\u6301\u4e45\u5316\u5b58\u50a8\u3002</p> </li> <li> <p>\u4e0e MySQL \u6bd4\u8f83\uff1a</p> </li> <li>MySQL\uff1a\u662f\u4e00\u4e2a\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u652f\u6301\u590d\u6742\u7684\u67e5\u8be2\u548c\u4e8b\u52a1\u3002\u9002\u5408\u9700\u8981\u4e8b\u52a1\u6027\u548c\u5173\u7cfb\u578b\u6570\u636e\u5b58\u50a8\u7684\u5e94\u7528\u3002</li> <li>Redis\uff1a\u4e3b\u8981\u7528\u4e8e\u7f13\u5b58\u548c\u9ad8\u6027\u80fd\u6570\u636e\u5b58\u50a8\uff0c\u4e0d\u652f\u6301 SQL \u67e5\u8be2\u548c\u590d\u6742\u7684\u4e8b\u52a1\u7ba1\u7406\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#29-redis-lua","title":"29. Redis \u7684 Lua \u811a\u672c\u5e94\u7528","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u4f7f\u7528 Lua \u811a\u672c\uff1fLua \u811a\u672c\u5728 Redis \u4e2d\u7684\u5e94\u7528\u573a\u666f\u6709\u54ea\u4e9b\uff1f</p> <p>\u56de\u7b54\uff1a - Lua \u811a\u672c\u4f7f\u7528\uff1a   - Redis \u652f\u6301\u5728\u670d\u52a1\u5668\u7aef\u6267\u884c Lua \u811a\u672c\uff0c\u4ee5\u539f\u5b50\u65b9\u5f0f\u6267\u884c\u591a\u4e2a\u547d\u4ee4\u3002\u901a\u8fc7 <code>EVAL</code> \u6216 <code>EVALSHA</code> \u547d\u4ee4\u6765\u6267\u884c Lua \u811a\u672c\u3002   - \u793a\u4f8b\uff1a     <code>bash     EVAL \"return redis.call('SET', 'key', 'value')\" 0</code></p> <ul> <li>\u5e94\u7528\u573a\u666f\uff1a</li> <li>\u539f\u5b50\u64cd\u4f5c\uff1a\u5728\u5355\u4e2a\u811a\u672c\u4e2d\u6267\u884c\u591a\u4e2a\u547d\u4ee4\uff0c\u786e\u4fdd\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u907f\u514d\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u3002</li> <li>\u590d\u6742\u903b\u8f91\uff1a\u5728 Redis \u4e2d\u5b9e\u73b0\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5982\u5206\u5e03\u5f0f\u8ba1\u6570\u5668\u3001\u4e8b\u52a1\u5904\u7406\u7b49\u3002</li> <li>\u6027\u80fd\u4f18\u5316\uff1a\u5c06\u591a\u4e2a\u547d\u4ee4\u5408\u5e76\u5230\u4e00\u4e2a Lua \u811a\u672c\u4e2d\uff0c\u51cf\u5c11\u7f51\u7edc\u5f80\u8fd4\u6b21\u6570\uff0c\u63d0\u9ad8\u6027\u80fd\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#30-redis","title":"30. Redis \u7684\u6570\u636e\u8fc1\u79fb\u4e0e\u5907\u4efd\u6062\u590d","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u5728 Redis \u5b9e\u4f8b\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\uff1f\u6709\u54ea\u4e9b\u5907\u4efd\u548c\u6062\u590d\u7684\u6700\u4f73\u5b9e\u8df5\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u8fc1\u79fb\uff1a   - RDB \u6587\u4ef6\u8fc1\u79fb\uff1a\u901a\u8fc7\u5c06 RDB \u6587\u4ef6\u4ece\u4e00\u4e2a Redis \u5b9e\u4f8b\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u6765\u8fc1\u79fb\u6570\u636e\u3002\u53ef\u4ee5\u4f7f\u7528 <code>BGSAVE</code> \u547d\u4ee4\u751f\u6210 RDB \u6587\u4ef6\uff0c\u7136\u540e\u5c06\u6587\u4ef6\u62f7\u8d1d\u5230\u76ee\u6807\u5b9e\u4f8b\u3002   - AOF \u6587\u4ef6\u8fc1\u79fb\uff1a\u7c7b\u4f3c\u4e8e RDB \u6587\u4ef6\uff0c\u901a\u8fc7\u5c06 AOF \u6587\u4ef6\u4ece\u4e00\u4e2a\u5b9e\u4f8b\u62f7\u8d1d\u5230\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u6765\u8fc1\u79fb\u6570\u636e\u3002   - \u5728\u7ebf\u8fc1\u79fb\u5de5\u5177\uff1a\u4f7f\u7528 Redis \u63d0\u4f9b\u7684\u8fc1\u79fb\u5de5\u5177\uff08\u5982 <code>redis-cli --rdb</code>\uff09\u8fdb\u884c\u5728\u7ebf\u6570\u636e\u8fc1\u79fb\u3002</p> <ul> <li>\u5907\u4efd\u548c\u6062\u590d\uff1a</li> <li>\u5b9a\u671f\u5907\u4efd\uff1a\u5b9a\u671f\u751f\u6210 RDB \u548c AOF \u6587\u4ef6\u5907\u4efd\uff0c\u5e76\u5c06\u5907\u4efd\u6587\u4ef6\u5b58\u50a8\u5728\u5b89\u5168\u7684\u4f4d\u7f6e\u3002</li> <li>\u5907\u4efd\u9a8c\u8bc1\uff1a\u5b9a\u671f\u9a8c\u8bc1\u5907\u4efd\u6587\u4ef6\u7684\u5b8c\u6574\u6027\u548c\u53ef\u6062\u590d\u6027\uff0c\u786e\u4fdd\u5728\u9700\u8981\u65f6\u80fd\u591f\u987a\u5229\u6062\u590d\u6570\u636e\u3002</li> <li>\u5907\u4efd\u7b56\u7565\uff1a\u4f7f\u7528\u589e\u91cf\u5907\u4efd\u548c\u5168\u91cf\u5907\u4efd\u76f8\u7ed3\u5408\u7684\u7b56\u7565\uff0c\u63d0\u9ad8\u5907\u4efd\u6548\u7387\u548c\u6570\u636e\u6062\u590d\u80fd\u529b\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#31-redis","title":"31. Redis \u7684\u5b89\u5168\u6027\u914d\u7f6e","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u8fdb\u884c\u5b89\u5168\u6027\u914d\u7f6e\uff1f\u6709\u54ea\u4e9b\u6700\u4f73\u5b9e\u8df5\u6765\u4fdd\u62a4 Redis \u5b9e\u4f8b\uff1f</p> <p>\u56de\u7b54\uff1a - \u5b89\u5168\u6027\u914d\u7f6e\uff1a   - \u8bbf\u95ee\u63a7\u5236\uff1a\u4f7f\u7528 <code>requirepass</code> \u914d\u7f6e\u5bc6\u7801\u4fdd\u62a4 Redis \u5b9e\u4f8b\uff0c\u9632\u6b62\u672a\u6388\u6743\u8bbf\u95ee\u3002     - \u793a\u4f8b\uff1a       <code>bash       requirepass your_password</code>   - IP \u7ed1\u5b9a\uff1a\u914d\u7f6e <code>bind</code> \u53c2\u6570\u6765\u9650\u5236 Redis \u53ea\u63a5\u53d7\u6765\u81ea\u7279\u5b9a IP \u5730\u5740\u7684\u8fde\u63a5\u3002     - \u793a\u4f8b\uff1a       <code>bash       bind 127.0.0.1</code></p> <ul> <li>\u6700\u4f73\u5b9e\u8df5\uff1a</li> <li>\u914d\u7f6e\u6587\u4ef6\u4fdd\u62a4\uff1a\u786e\u4fdd Redis \u914d\u7f6e\u6587\u4ef6\u7684\u6743\u9650\u8bbe\u7f6e\u6b63\u786e\uff0c\u9632\u6b62\u672a\u7ecf\u6388\u6743\u7684\u4fee\u6539\u3002</li> <li>\u7f51\u7edc\u5b89\u5168\uff1a\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u4f7f\u7528\u9632\u706b\u5899\u6216\u5b89\u5168\u7ec4\u89c4\u5219\u6765\u9650\u5236\u5bf9 Redis \u5b9e\u4f8b\u7684\u8bbf\u95ee\u3002</li> <li>\u5b9a\u671f\u66f4\u65b0\uff1a\u4fdd\u6301 Redis \u548c\u5176\u4f9d\u8d56\u7ec4\u4ef6\u7684\u66f4\u65b0\uff0c\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u5b89\u5168\u4fee\u590d\u548c\u6539\u8fdb\u3002</li> </ul> <p>\u7ee7\u7eed\u6df1\u5165\u63a2\u8ba8 Redis \u9762\u8bd5\u9898\uff0c\u6d89\u53ca\u4e00\u4e9b\u66f4\u9ad8\u9636\u7684\u4e3b\u9898\u548c\u5b9e\u9645\u5e94\u7528\u573a\u666f\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#32-redis","title":"32. Redis \u7684\u7f51\u7edc\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u7f51\u7edc\u914d\u7f6e\u5982\u4f55\u4f18\u5316\uff1f\u6709\u54ea\u4e9b\u7b56\u7565\u53ef\u4ee5\u63d0\u9ad8 Redis \u7684\u7f51\u7edc\u6027\u80fd\uff1f</p> <p>\u56de\u7b54\uff1a - \u7f51\u7edc\u4f18\u5316\uff1a   - \u914d\u7f6e <code>tcp-backlog</code>\uff1a\u8bbe\u7f6e\u64cd\u4f5c\u7cfb\u7edf\u7684 TCP \u8fde\u63a5\u961f\u5217\u957f\u5ea6\uff0c\u4ee5\u63d0\u9ad8\u9ad8\u5e76\u53d1\u8fde\u63a5\u7684\u5904\u7406\u80fd\u529b\u3002     - \u793a\u4f8b\uff1a       <code>bash       tcp-backlog 511</code>   - \u7981\u7528 TCP Nagle \u7b97\u6cd5\uff1a\u901a\u8fc7\u914d\u7f6e Redis \u4f7f\u7528 <code>SO_NOSIGPIPE</code>\uff0c\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\u3002     - \u793a\u4f8b\uff1a       <code>bash       tcp-keepalive 300</code>   - \u4f7f\u7528 <code>rdbcompression</code>\uff1a\u542f\u7528 RDB \u6587\u4ef6\u538b\u7f29\uff0c\u4ee5\u51cf\u5c11\u78c1\u76d8 I/O \u548c\u7f51\u7edc\u4f20\u8f93\u91cf\u3002     - \u793a\u4f8b\uff1a       <code>bash       rdbcompression yes</code></p> <ul> <li>\u6027\u80fd\u76d1\u63a7\uff1a</li> <li>\u4f7f\u7528 <code>MONITOR</code>\uff1a\u5b9e\u65f6\u76d1\u63a7 Redis \u5904\u7406\u7684\u547d\u4ee4\uff0c\u4e86\u89e3\u7f51\u7edc\u8bf7\u6c42\u7684\u6027\u80fd\u3002<ul> <li>\u793a\u4f8b\uff1a   <code>bash   MONITOR</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#33-redis","title":"33. Redis \u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\u4e0e\u4e00\u81f4\u6027","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5b9e\u73b0\u5206\u5e03\u5f0f\u4e8b\u52a1\uff1f\u5982\u4f55\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e0b\u786e\u4fdd\u6570\u636e\u4e00\u81f4\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u5206\u5e03\u5f0f\u4e8b\u52a1\uff1a   - \u57fa\u4e8e Redis \u7684\u4e8b\u52a1\uff1a\u901a\u8fc7\u4f7f\u7528 <code>MULTI</code> \u548c <code>EXEC</code> \u547d\u4ee4\u7ec4\u5408\uff0c\u5b9e\u73b0 Redis \u5185\u90e8\u7684\u539f\u5b50\u64cd\u4f5c\uff0c\u4f46\u8fd9\u53ea\u5728\u5355\u4e2a Redis \u5b9e\u4f8b\u5185\u6709\u6548\u3002   - \u5916\u90e8\u534f\u8c03\uff1a\u4f7f\u7528\u5206\u5e03\u5f0f\u4e8b\u52a1\u534f\u8c03\u5de5\u5177\uff08\u5982 ZooKeeper\u3001Etcd\uff09\u534f\u8c03\u8de8 Redis \u5b9e\u4f8b\u7684\u4e8b\u52a1\u3002</p> <ul> <li>\u6570\u636e\u4e00\u81f4\u6027\uff1a</li> <li>\u6700\u7ec8\u4e00\u81f4\u6027\uff1aRedis \u96c6\u7fa4\u4f7f\u7528\u5f02\u6b65\u590d\u5236\u673a\u5236\u6765\u5b9e\u73b0\u6700\u7ec8\u4e00\u81f4\u6027\uff0c\u4e3b\u8282\u70b9\u7684\u53d8\u66f4\u4f1a\u5f02\u6b65\u4f20\u64ad\u5230\u4ece\u8282\u70b9\u3002</li> <li>CAP \u5b9a\u7406\uff1aRedis \u96c6\u7fa4\u5728\u5206\u533a\u5bb9\u9519\u6027\u548c\u4e00\u81f4\u6027\u4e4b\u95f4\u8fdb\u884c\u6743\u8861\uff0c\u901a\u5e38\u4ee5\u53ef\u7528\u6027\u548c\u5206\u533a\u5bb9\u9519\u6027\u4e3a\u4e3b\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#34-redis","title":"34. Redis \u7684\u96c6\u7fa4\u6545\u969c\u8f6c\u79fb\u4e0e\u6062\u590d","text":"<p>\u95ee\u9898\uff1a Redis \u96c6\u7fa4\u5982\u4f55\u8fdb\u884c\u6545\u969c\u8f6c\u79fb\uff1f\u5728\u8282\u70b9\u5931\u8d25\u540e\uff0c\u5982\u4f55\u6062\u590d\u96c6\u7fa4\u7684\u6b63\u5e38\u8fd0\u884c\uff1f</p> <p>\u56de\u7b54\uff1a - \u6545\u969c\u8f6c\u79fb\uff1a   - \u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1aRedis \u96c6\u7fa4\u5728\u4e3b\u8282\u70b9\u6545\u969c\u65f6\uff0c\u901a\u8fc7\u4ece\u8282\u70b9\u81ea\u52a8\u63d0\u5347\u4e3a\u4e3b\u8282\u70b9\u6765\u5b9e\u73b0\u6545\u969c\u8f6c\u79fb\u3002   - \u624b\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u4f7f\u7528 <code>redis-cli</code> \u547d\u4ee4\u624b\u52a8\u6267\u884c\u6545\u969c\u8f6c\u79fb\uff0c\u8fdb\u884c\u4e3b\u8282\u70b9\u7684\u624b\u52a8\u5207\u6362\u3002</p> <ul> <li>\u6062\u590d\uff1a</li> <li>\u8282\u70b9\u6062\u590d\uff1a\u5c06\u6545\u969c\u7684\u8282\u70b9\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4\uff0c\u5e76\u901a\u8fc7 <code>CLUSTER REPLICATE</code> \u547d\u4ee4\u5c06\u5176\u91cd\u65b0\u914d\u7f6e\u4e3a\u4e3b\u8282\u70b9\u6216\u4ece\u8282\u70b9\u3002</li> <li>\u6570\u636e\u91cd\u5efa\uff1a\u5728\u8282\u70b9\u6062\u590d\u540e\uff0c\u96c6\u7fa4\u4f1a\u81ea\u52a8\u8fdb\u884c\u6570\u636e\u91cd\u5efa\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#35-redis","title":"35. Redis \u7684\u5185\u5b58\u4f18\u5316\u6280\u5de7","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f18\u5316 Redis \u7684\u5185\u5b58\u4f7f\u7528\uff1f\u6709\u54ea\u4e9b\u6280\u5de7\u53ef\u4ee5\u51cf\u5c11 Redis \u7684\u5185\u5b58\u6d88\u8017\uff1f</p> <p>\u56de\u7b54\uff1a - \u5185\u5b58\u4f18\u5316\u6280\u5de7\uff1a   - \u4f7f\u7528\u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784\uff1a\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5982\u4f7f\u7528 <code>HASH</code> \u5b58\u50a8\u591a\u4e2a\u5b57\u6bb5\uff0c\u51cf\u5c11\u5185\u5b58\u5360\u7528\u3002   - \u542f\u7528\u5185\u5b58\u538b\u7f29\uff1a\u5f00\u542f <code>active-defrag</code>\uff0c\u4ee5\u4f18\u5316 Redis \u7684\u5185\u5b58\u788e\u7247\u3002     - \u793a\u4f8b\uff1a       <code>bash       active-defrag yes</code>   - \u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u7b56\u7565\uff1a\u4f7f\u7528 <code>maxmemory-policy</code> \u914d\u7f6e\u5408\u7406\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\u3002     - \u793a\u4f8b\uff1a       <code>bash       maxmemory-policy allkeys-lru</code></p> <ul> <li>\u76d1\u63a7\u4e0e\u5206\u6790\uff1a</li> <li>\u4f7f\u7528 <code>INFO memory</code>\uff1a\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u4e86\u89e3 Redis \u5b9e\u4f8b\u7684\u5185\u5b58\u6d88\u8017\u60c5\u51b5\u3002<ul> <li>\u793a\u4f8b\uff1a   <code>bash   INFO memory</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#36-redis","title":"36. Redis \u7684\u6301\u4e45\u5316\u673a\u5236\u7684\u6027\u80fd\u5f71\u54cd","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u6301\u4e45\u5316\u673a\u5236\uff08RDB \u548c AOF\uff09\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u4f18\u5316\u6301\u4e45\u5316\u8bbe\u7f6e\u4ee5\u51cf\u5c11\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff1f</p> <p>\u56de\u7b54\uff1a - \u6301\u4e45\u5316\u673a\u5236\u7684\u6027\u80fd\u5f71\u54cd\uff1a   - RDB\uff1a\u751f\u6210\u5feb\u7167\u65f6\u4f1a\u4ea7\u751f\u989d\u5916\u7684 I/O \u64cd\u4f5c\uff0c\u5bf9 Redis \u6027\u80fd\u6709\u4e00\u5b9a\u5f71\u54cd\u3002   - AOF\uff1a\u5199\u5165 AOF \u6587\u4ef6\u65f6\u4f1a\u589e\u52a0 I/O \u64cd\u4f5c\uff0c\u5c24\u5176\u662f\u5728 <code>appendfsync everysec</code> \u8bbe\u7f6e\u4e0b\uff0c\u53ef\u80fd\u5bf9\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u3002</p> <ul> <li>\u4f18\u5316\u8bbe\u7f6e\uff1a</li> <li>RDB \u914d\u7f6e\uff1a\u8c03\u6574 <code>save</code> \u914d\u7f6e\uff0c\u51cf\u5c11\u5feb\u7167\u751f\u6210\u7684\u9891\u7387\uff0c\u4ee5\u964d\u4f4e\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002<ul> <li>\u793a\u4f8b\uff1a   <code>bash   save 900 1   save 300 10</code></li> </ul> </li> <li>AOF \u914d\u7f6e\uff1a\u4f7f\u7528 <code>appendfsync everysec</code> \u7b56\u7565\uff0c\u5e73\u8861\u6027\u80fd\u4e0e\u6570\u636e\u6301\u4e45\u6027\u3002<ul> <li>\u793a\u4f8b\uff1a   <code>bash   appendfsync everysec</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#37-redis","title":"37. Redis \u7684\u5f02\u6b65\u590d\u5236\u4e0e\u540c\u6b65\u590d\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5b9e\u73b0\u5f02\u6b65\u590d\u5236\u548c\u540c\u6b65\u590d\u5236\uff1f\u5b83\u4eec\u7684\u4f18\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a - \u5f02\u6b65\u590d\u5236\uff1a   - \u5b9e\u73b0\uff1a\u4e3b\u8282\u70b9\u5c06\u6570\u636e\u66f4\u65b0\u5f02\u6b65\u4f20\u64ad\u5230\u4ece\u8282\u70b9\uff0c\u4ece\u8282\u70b9\u5728\u6536\u5230\u66f4\u65b0\u540e\u5e94\u7528\u6570\u636e\u3002   - \u4f18\u70b9\uff1a\u63d0\u9ad8\u4e3b\u8282\u70b9\u7684\u541e\u5410\u91cf\uff0c\u51cf\u5c11\u4e3b\u8282\u70b9\u7684\u7b49\u5f85\u65f6\u95f4\u3002   - \u7f3a\u70b9\uff1a\u53ef\u80fd\u5bfc\u81f4\u4ece\u8282\u70b9\u6570\u636e\u5ef6\u8fdf\uff0c\u6570\u636e\u4e00\u81f4\u6027\u53ef\u80fd\u4f1a\u53d7\u5230\u5f71\u54cd\u3002</p> <ul> <li>\u540c\u6b65\u590d\u5236\uff1a</li> <li>\u5b9e\u73b0\uff1a\u5728\u6570\u636e\u5199\u5165\u4e3b\u8282\u70b9\u7684\u540c\u65f6\uff0c\u6240\u6709\u4ece\u8282\u70b9\u5fc5\u987b\u540c\u6b65\u63a5\u6536\u5230\u6570\u636e\u5e76\u5e94\u7528\u66f4\u65b0\u3002</li> <li>\u4f18\u70b9\uff1a\u4fdd\u8bc1\u4e3b\u4ece\u8282\u70b9\u6570\u636e\u4e00\u81f4\u6027\uff0c\u51cf\u5c11\u6570\u636e\u5ef6\u8fdf\u3002</li> <li>\u7f3a\u70b9\uff1a\u4f1a\u589e\u52a0\u4e3b\u8282\u70b9\u7684\u8d1f\u8f7d\uff0c\u964d\u4f4e\u541e\u5410\u91cf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#38-redis","title":"38. Redis \u7684\u591a\u6570\u636e\u4e2d\u5fc3\u90e8\u7f72","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5728\u591a\u6570\u636e\u4e2d\u5fc3\u73af\u5883\u4e2d\u90e8\u7f72\uff1f\u5982\u4f55\u786e\u4fdd\u6570\u636e\u5728\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u4e00\u81f4\u6027\u548c\u9ad8\u53ef\u7528\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u591a\u6570\u636e\u4e2d\u5fc3\u90e8\u7f72\uff1a   - \u4e3b\u4ece\u590d\u5236\uff1a\u5728\u4e0d\u540c\u7684\u6570\u636e\u4e2d\u5fc3\u914d\u7f6e\u4e3b\u4ece\u590d\u5236\uff0c\u4e3b\u8282\u70b9\u5728\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\uff0c\u4ece\u8282\u70b9\u5728\u5176\u4ed6\u6570\u636e\u4e2d\u5fc3\u3002   - Redis Cluster\uff1a\u4f7f\u7528 Redis Cluster \u5206\u7247\u548c\u590d\u5236\u673a\u5236\uff0c\u914d\u7f6e\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\u7684\u8282\u70b9\u4ee5\u5b9e\u73b0\u6570\u636e\u5206\u5e03\u548c\u9ad8\u53ef\u7528\u6027\u3002</p> <ul> <li>\u4e00\u81f4\u6027\u548c\u9ad8\u53ef\u7528\u6027\uff1a</li> <li>\u7f51\u7edc\u5ef6\u8fdf\uff1a\u8003\u8651\u8de8\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u7edc\u5ef6\u8fdf\u548c\u5e26\u5bbd\u9650\u5236\uff0c\u4f18\u5316\u6570\u636e\u540c\u6b65\u7b56\u7565\u3002</li> <li>\u6545\u969c\u6062\u590d\uff1a\u914d\u7f6e\u4e3b\u4ece\u8282\u70b9\u7684\u6545\u969c\u8f6c\u79fb\u548c\u81ea\u52a8\u6062\u590d\u7b56\u7565\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u9ad8\u53ef\u7528\u6027\u3002</li> <li>\u6570\u636e\u540c\u6b65\uff1a\u4f7f\u7528\u5de5\u5177\uff08\u5982 <code>redis-replication</code>\uff09\u540c\u6b65\u6570\u636e\uff0c\u786e\u4fdd\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#39-redis","title":"39. Redis \u7684\u5b89\u5168\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis \u63d0\u4f9b\u4e86\u54ea\u4e9b\u5b89\u5168\u7b56\u7565\uff1f\u5982\u4f55\u914d\u7f6e Redis \u4ee5\u63d0\u9ad8\u5176\u5b89\u5168\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u5b89\u5168\u7b56\u7565\uff1a   - \u5bc6\u7801\u4fdd\u62a4\uff1a\u4f7f\u7528 <code>requirepass</code> \u914d\u7f6e\u5bc6\u7801\u4fdd\u62a4 Redis \u5b9e\u4f8b\uff0c\u9632\u6b62\u672a\u6388\u6743\u8bbf\u95ee\u3002     - \u793a\u4f8b\uff1a       <code>bash       requirepass your_password</code>   - IP \u9650\u5236\uff1a\u4f7f\u7528 <code>bind</code> \u914d\u7f6e\u4ec5\u5141\u8bb8\u7279\u5b9a IP \u5730\u5740\u8bbf\u95ee Redis \u5b9e\u4f8b\u3002     - \u793a\u4f8b\uff1a       <code>bash       bind 127.0.0.1</code></p> <ul> <li>\u5176\u4ed6\u5b89\u5168\u914d\u7f6e\uff1a</li> <li>\u9632\u706b\u5899\u914d\u7f6e\uff1a\u4f7f\u7528\u9632\u706b\u5899\u6216\u5b89\u5168\u7ec4\u89c4\u5219\u9650\u5236 Redis \u5b9e\u4f8b\u7684\u7f51\u7edc\u8bbf\u95ee\u3002</li> <li>TLS \u52a0\u5bc6\uff1a\u542f\u7528 TLS/SSL \u52a0\u5bc6\uff0c\u4fdd\u62a4 Redis \u4e0e\u5ba2\u6237\u7aef\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u3002<ul> <li>\u793a\u4f8b\uff1a   <code>bash   tls-port 6379   tls-cert-file /path/to/cert.pem   tls-key-file /path/to/key.pem</code></li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#40-redis","title":"40. Redis \u7684\u591a\u7ebf\u7a0b\u4e0e\u5e76\u53d1\u652f\u6301","text":"<p>\u95ee\u9898\uff1a Redis \u662f\u5426\u652f\u6301\u591a\u7ebf\u7a0b\uff1f\u5982\u4f55\u5904\u7406 Redis \u4e2d\u7684\u5e76\u53d1\u8bf7\u6c42\uff1f</p> <p>\u56de\u7b54\uff1a - \u591a\u7ebf\u7a0b\u652f\u6301\uff1a   - \u5355\u7ebf\u7a0b\u6a21\u578b\uff1aRedis \u9ed8\u8ba4\u4f7f\u7528\u5355\u7ebf\u7a0b\u6a21\u578b\u5904\u7406\u6240\u6709\u8bf7\u6c42\uff0c\u8fd9\u6837\u53ef\u4ee5\u7b80\u5316\u5e76\u53d1\u64cd\u4f5c\u7684\u5b9e\u73b0\u3002   - \u591a\u7ebf\u7a0b\u4f18\u5316\uff1a\u867d\u7136 Redis \u672c\u8eab\u662f\u5355\u7ebf\u7a0b\u7684\uff0c\u4f46\u5b83\u53ef\u4ee5\u901a\u8fc7\u5f02\u6b65 I/O \u548c\u7ebf\u7a0b\u6c60\u6765\u4f18\u5316\u7f51\u7edc I/O \u64cd\u4f5c\u3002</p> <ul> <li>\u5e76\u53d1\u5904\u7406\uff1a</li> <li>\u591a\u8def\u590d\u7528\uff1aRedis \u4f7f\u7528 <code>epoll</code>\uff08Linux\uff09\u6216 <code>kqueue</code>\uff08BSD\uff09\u7b49 I/O \u591a\u8def\u590d\u7528\u673a\u5236\u6765\u9ad8\u6548\u5904\u7406\u5e76\u53d1\u8bf7\u6c42\u3002</li> <li>\u5f02\u6b65\u64cd\u4f5c\uff1a\u4f7f\u7528\u5f02\u6b65 I/O \u673a\u5236\u6765\u5904\u7406\u7f51\u7edc\u8bf7\u6c42\uff0c\u51cf\u5c11\u963b\u585e\u7b49\u5f85\u65f6\u95f4\uff0c\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\u3002</li> </ul> <p>\u7ee7\u7eed\u6df1\u5165 Redis \u9762\u8bd5\u9898\uff0c\u8fd9\u91cc\u6709\u66f4\u591a\u9ad8\u9636\u8bdd\u9898\u548c\u5b9e\u9645\u5e94\u7528\u573a\u666f\u7684\u5185\u5bb9\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#41-redis","title":"41. Redis \u7684\u5206\u5e03\u5f0f\u9501","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f7f\u7528 Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1fRedis \u7684\u5206\u5e03\u5f0f\u9501\u6709\u54ea\u4e9b\u5b9e\u73b0\u65b9\u5f0f\uff1f\u5b83\u4eec\u7684\u4f18\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a - \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1a   - SETNX \u547d\u4ee4\uff1a\u4f7f\u7528 <code>SETNX</code>\uff08SET if Not eXists\uff09\u547d\u4ee4\u8bbe\u7f6e\u9501\u952e\uff0c\u5982\u679c\u952e\u4e0d\u5b58\u5728\u5219\u8bbe\u7f6e\u6210\u529f\u3002\u7ed3\u5408 <code>EXPIRE</code> \u547d\u4ee4\u5b9e\u73b0\u9501\u7684\u8fc7\u671f\u3002     - \u793a\u4f8b\uff1a       <code>bash       SET lock_key unique_value NX PX 30000</code>     - \u4f18\u70b9\uff1a\u5b9e\u73b0\u7b80\u5355\uff0c\u9002\u5408\u77ed\u671f\u9501\u3002     - \u7f3a\u70b9\uff1a\u53ef\u80fd\u4f1a\u56e0\u4e3a Redis \u91cd\u542f\u5bfc\u81f4\u9501\u4e22\u5931\u3002</p> <ul> <li> <p>RedLock \u7b97\u6cd5\uff1aRedis \u5b98\u65b9\u63a8\u8350\u7684\u5206\u5e03\u5f0f\u9501\u7b97\u6cd5\uff0c\u901a\u8fc7\u591a\u4e2a Redis \u5b9e\u4f8b\uff08\u901a\u5e38\u662f 5 \u4e2a\uff09\u6765\u4fdd\u8bc1\u9501\u7684\u53ef\u9760\u6027\u3002</p> <ul> <li>\u6b65\u9aa4\uff1a</li> <li>\u5728\u591a\u4e2a Redis \u5b9e\u4f8b\u4e0a\u5c1d\u8bd5\u83b7\u53d6\u9501\u3002</li> <li>\u9501\u5728\u5927\u591a\u6570 Redis \u5b9e\u4f8b\u4e0a\u6210\u529f\u83b7\u53d6\u65f6\uff0c\u8ba4\u4e3a\u9501\u88ab\u6210\u529f\u83b7\u5f97\u3002</li> <li>\u8bbe\u7f6e\u9501\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u907f\u514d\u9501\u7684\u6b7b\u9501\u95ee\u9898\u3002</li> <li>\u4f18\u70b9\uff1a\u63d0\u9ad8\u4e86\u9501\u7684\u53ef\u9760\u6027\uff0c\u9002\u7528\u4e8e\u590d\u6742\u573a\u666f\u3002</li> <li>\u7f3a\u70b9\uff1a\u5b9e\u73b0\u590d\u6742\uff0c\u9700\u8981\u914d\u7f6e\u591a\u4e2a Redis \u5b9e\u4f8b\u3002</li> </ul> </li> <li> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> </li> <li>\u9501\u8fc7\u671f\uff1a\u786e\u4fdd\u8bbe\u7f6e\u5408\u7406\u7684\u9501\u8fc7\u671f\u65f6\u95f4\uff0c\u4ee5\u9632\u6b62\u9501\u88ab\u957f\u65f6\u95f4\u6301\u6709\u5bfc\u81f4\u7cfb\u7edf\u4e0d\u53ef\u7528\u3002</li> <li>\u9501\u7eed\u671f\uff1a\u5982\u679c\u9501\u9700\u8981\u6301\u6709\u66f4\u957f\u65f6\u95f4\uff0c\u53ef\u4ee5\u5b9e\u73b0\u9501\u7eed\u671f\u673a\u5236\uff0c\u907f\u514d\u8fc7\u671f\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#42-redis","title":"42. Redis \u7684\u6570\u636e\u5206\u7247\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u8fdb\u884c\u6570\u636e\u5206\u7247\uff1f\u5206\u7247\u7b56\u7565\u7684\u9009\u62e9\u4f1a\u5bf9\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u4ec0\u4e48\u5f71\u54cd\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u5206\u7247\u7b56\u7565\uff1a   - \u6c34\u5e73\u5206\u7247\uff1a\u5c06\u6570\u636e\u6839\u636e\u67d0\u4e9b\u952e\u7684\u8303\u56f4\u5206\u5e03\u5230\u591a\u4e2a Redis \u5b9e\u4f8b\u4e0a\u3002Redis Cluster \u4f7f\u7528\u6b64\u7b56\u7565\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\u3002     - \u793a\u4f8b\uff1a\u6570\u636e\u6309\u952e\u7684\u54c8\u5e0c\u503c\u8fdb\u884c\u5206\u7247\uff0c\u786e\u4fdd\u6570\u636e\u5747\u5300\u5206\u5e03\u5728\u5404\u4e2a\u8282\u70b9\u4e0a\u3002</p> <ul> <li> <p>\u4e00\u81f4\u6027\u54c8\u5e0c\uff1a\u4f7f\u7528\u4e00\u81f4\u6027\u54c8\u5e0c\u7b97\u6cd5\u6765\u5206\u5e03\u6570\u636e\uff0c\u51cf\u5c11\u8282\u70b9\u589e\u51cf\u65f6\u7684\u6570\u636e\u8fc1\u79fb\u91cf\u3002</p> <ul> <li>\u4f18\u70b9\uff1a\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u8282\u70b9\u53d8\u52a8\u5e26\u6765\u7684\u6570\u636e\u8fc1\u79fb\u91cf\u3002</li> <li>\u7f3a\u70b9\uff1a\u5b9e\u73b0\u590d\u6742\uff0c\u9700\u8981\u989d\u5916\u7684\u7ba1\u7406\u673a\u5236\u3002</li> </ul> </li> <li> <p>\u6027\u80fd\u5f71\u54cd\uff1a</p> </li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u826f\u597d\u7684\u5206\u7247\u7b56\u7565\u53ef\u4ee5\u5747\u8861\u5404\u4e2a\u8282\u70b9\u7684\u8d1f\u8f7d\uff0c\u907f\u514d\u5355\u70b9\u538b\u529b\u8fc7\u5927\u3002</li> <li>\u6570\u636e\u8fc1\u79fb\uff1a\u5206\u7247\u7b56\u7565\u5f71\u54cd\u6570\u636e\u8fc1\u79fb\u7684\u590d\u6742\u5ea6\uff0c\u5408\u7406\u7684\u5206\u7247\u7b56\u7565\u53ef\u4ee5\u51cf\u5c11\u8fc1\u79fb\u5e26\u6765\u7684\u6027\u80fd\u5f00\u9500\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#43-redis","title":"43. Redis \u7684\u9ad8\u53ef\u7528\u6027\u548c\u6545\u969c\u8f6c\u79fb","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u548c\u6545\u969c\u8f6c\u79fb\uff1f\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u9ad8\u53ef\u7528\u6027\u65b9\u6848\uff1f</p> <p>\u56de\u7b54\uff1a - \u9ad8\u53ef\u7528\u6027\u65b9\u6848\uff1a   - Redis Sentinel\uff1aRedis Sentinel \u76d1\u63a7 Redis \u5b9e\u4f8b\u7684\u72b6\u6001\uff0c\u63d0\u4f9b\u6545\u969c\u8f6c\u79fb\u529f\u80fd\u3002\u5b83\u80fd\u591f\u81ea\u52a8\u68c0\u6d4b\u4e3b\u8282\u70b9\u6545\u969c\u5e76\u5c06\u4ece\u8282\u70b9\u63d0\u5347\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\u3002     - \u4f18\u70b9\uff1a\u914d\u7f6e\u7b80\u5355\uff0c\u9002\u5408\u4e2d\u5c0f\u89c4\u6a21\u7684 Redis \u90e8\u7f72\u3002     - \u7f3a\u70b9\uff1a\u4e3b\u8981\u9002\u7528\u4e8e\u5355\u6570\u636e\u4e2d\u5fc3\u73af\u5883\u3002</p> <ul> <li> <p>Redis Cluster\uff1aRedis Cluster \u63d0\u4f9b\u5206\u5e03\u5f0f Redis \u90e8\u7f72\uff0c\u652f\u6301\u5206\u7247\u548c\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u3002\u8282\u70b9\u4e4b\u95f4\u81ea\u52a8\u534f\u8c03\uff0c\u4e3b\u8282\u70b9\u6545\u969c\u65f6\u81ea\u52a8\u5207\u6362\u5230\u4ece\u8282\u70b9\u3002</p> <ul> <li>\u4f18\u70b9\uff1a\u652f\u6301\u6570\u636e\u5206\u7247\uff0c\u63d0\u4f9b\u66f4\u9ad8\u7684\u53ef\u7528\u6027\u548c\u6269\u5c55\u6027\u3002</li> <li>\u7f3a\u70b9\uff1a\u914d\u7f6e\u590d\u6742\uff0c\u9700\u8981\u8003\u8651\u7f51\u7edc\u5ef6\u8fdf\u548c\u5206\u7247\u7b56\u7565\u3002</li> </ul> </li> <li> <p>\u914d\u7f6e\u6ce8\u610f\u4e8b\u9879\uff1a</p> </li> <li>\u6545\u969c\u68c0\u6d4b\uff1a\u786e\u4fdd Sentinel \u6216 Cluster \u7684\u6545\u969c\u68c0\u6d4b\u673a\u5236\u914d\u7f6e\u6b63\u786e\uff0c\u4ee5\u4fbf\u53ca\u65f6\u53d1\u73b0\u5e76\u5904\u7406\u8282\u70b9\u6545\u969c\u3002</li> <li>\u4e3b\u4ece\u540c\u6b65\uff1a\u786e\u4fdd\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u540c\u6b65\u72b6\u6001\u6b63\u5e38\uff0c\u4ee5\u907f\u514d\u6570\u636e\u4e22\u5931\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#44-redis","title":"44. Redis \u7684\u6570\u636e\u8fc7\u671f\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5904\u7406\u6570\u636e\u7684\u8fc7\u671f\uff1f\u6709\u54ea\u4e9b\u8fc7\u671f\u7b56\u7565\u548c\u4f18\u5316\u65b9\u6cd5\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u8fc7\u671f\u7b56\u7565\uff1a   - \u60f0\u6027\u5220\u9664\uff1a\u5f53\u8bbf\u95ee\u8fc7\u671f\u6570\u636e\u65f6\uff0cRedis \u4f1a\u68c0\u67e5\u6570\u636e\u662f\u5426\u8fc7\u671f\uff0c\u5e76\u5728\u8fc7\u671f\u65f6\u5c06\u5176\u5220\u9664\u3002   - \u5b9a\u671f\u5220\u9664\uff1aRedis \u4f1a\u5b9a\u671f\u68c0\u67e5\u548c\u5220\u9664\u8fc7\u671f\u7684\u952e\u3002\u53ef\u4ee5\u901a\u8fc7 <code>hz</code> \u53c2\u6570\u8c03\u6574\u68c0\u67e5\u9891\u7387\u3002     - \u793a\u4f8b\uff1a       <code>bash       hz 10</code></p> <ul> <li>\u4f18\u5316\u65b9\u6cd5\uff1a</li> <li>\u5408\u7406\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1a\u6839\u636e\u5b9e\u9645\u4e1a\u52a1\u9700\u6c42\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u907f\u514d\u8fc7\u671f\u6570\u636e\u5360\u7528\u5185\u5b58\u3002</li> <li>\u6570\u636e\u6e05\u7406\uff1a\u5b9a\u671f\u76d1\u63a7\u5e76\u6e05\u7406\u4e0d\u518d\u9700\u8981\u7684\u6570\u636e\uff0c\u786e\u4fdd Redis \u5b9e\u4f8b\u7684\u5185\u5b58\u4f7f\u7528\u5728\u5408\u7406\u8303\u56f4\u5185\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#45-redis","title":"45. Redis \u7684\u6301\u4e45\u5316\u9009\u9879\u6bd4\u8f83","text":"<p>\u95ee\u9898\uff1a Redis \u7684 RDB \u548c AOF \u6301\u4e45\u5316\u9009\u9879\u5404\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9\uff1f\u5982\u4f55\u9009\u62e9\u9002\u5408\u7684\u6301\u4e45\u5316\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - RDB \u6301\u4e45\u5316\uff1a   - \u4f18\u70b9\uff1a\u751f\u6210 RDB \u5feb\u7167\u65f6\u5bf9 Redis \u6027\u80fd\u5f71\u54cd\u8f83\u5c0f\uff0c\u5907\u4efd\u6587\u4ef6\u4f53\u79ef\u8f83\u5c0f\u3002   - \u7f3a\u70b9\uff1a\u6570\u636e\u6062\u590d\u65f6\u95f4\u8f83\u957f\uff0c\u53ef\u80fd\u4f1a\u4e22\u5931\u6700\u8fd1\u7684\u64cd\u4f5c\u6570\u636e\uff08\u53d6\u51b3\u4e8e\u5feb\u7167\u9891\u7387\uff09\u3002</p> <ul> <li>AOF \u6301\u4e45\u5316\uff1a</li> <li>\u4f18\u70b9\uff1a\u6bcf\u4e2a\u5199\u64cd\u4f5c\u90fd\u4f1a\u8bb0\u5f55\u5230 AOF \u6587\u4ef6\u4e2d\uff0c\u6570\u636e\u6301\u4e45\u6027\u8f83\u5f3a\uff0c\u80fd\u66f4\u5feb\u5730\u6062\u590d\u5230\u6700\u8fd1\u7684\u72b6\u6001\u3002</li> <li> <p>\u7f3a\u70b9\uff1aAOF \u6587\u4ef6\u8f83\u5927\uff0c\u53ef\u80fd\u4f1a\u5bf9\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\uff0c\u9700\u8981\u5b9a\u671f\u8fdb\u884c\u91cd\u5199\u4ee5\u4f18\u5316\u6587\u4ef6\u4f53\u79ef\u3002</p> </li> <li> <p>\u9009\u62e9\u7b56\u7565\uff1a</p> </li> <li>\u4e1a\u52a1\u9700\u6c42\uff1a\u5982\u679c\u4e1a\u52a1\u5bf9\u6570\u636e\u4e22\u5931\u7684\u5bb9\u5fcd\u5ea6\u4f4e\uff0c\u53ef\u4ee5\u9009\u62e9 AOF \u6301\u4e45\u5316\uff1b\u5982\u679c\u66f4\u6ce8\u91cd\u6027\u80fd\uff0c\u53ef\u4ee5\u9009\u62e9 RDB\u3002</li> <li>\u6df7\u5408\u6a21\u5f0f\uff1a\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528 RDB \u548c AOF \u8fdb\u884c\u6301\u4e45\u5316\uff0c\u7ed3\u5408\u4e24\u8005\u7684\u4f18\u70b9\uff0c\u8fbe\u5230\u66f4\u597d\u7684\u6570\u636e\u6301\u4e45\u5316\u6548\u679c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#46-redis","title":"46. Redis \u7684\u4e3b\u4ece\u590d\u5236\u4e0e\u96c6\u7fa4\u6a21\u5f0f","text":"<p>\u95ee\u9898\uff1a Redis \u4e3b\u4ece\u590d\u5236\u4e0e\u96c6\u7fa4\u6a21\u5f0f\u6709\u4ec0\u4e48\u533a\u522b\uff1f\u5b83\u4eec\u5404\u81ea\u7684\u9002\u7528\u573a\u666f\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e3b\u4ece\u590d\u5236\uff1a   - \u7279\u70b9\uff1a\u4e3b\u8282\u70b9\u5c06\u6570\u636e\u590d\u5236\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u4ece\u8282\u70b9\uff0c\u4ece\u8282\u70b9\u540c\u6b65\u4e3b\u8282\u70b9\u7684\u6570\u636e\uff0c\u7528\u4e8e\u8bfb\u5199\u5206\u79bb\u548c\u6570\u636e\u5907\u4efd\u3002   - \u9002\u7528\u573a\u666f\uff1a\u9002\u5408\u4e8e\u8bfb\u591a\u5199\u5c11\u7684\u5e94\u7528\u573a\u666f\uff0c\u901a\u8fc7\u5c06\u8bfb\u8bf7\u6c42\u5206\u914d\u5230\u4ece\u8282\u70b9\u6765\u63d0\u9ad8\u6027\u80fd\u548c\u53ef\u7528\u6027\u3002</p> <ul> <li>\u96c6\u7fa4\u6a21\u5f0f\uff1a</li> <li>\u7279\u70b9\uff1aRedis Cluster \u901a\u8fc7\u6570\u636e\u5206\u7247\u5c06\u6570\u636e\u5206\u5e03\u5230\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u6bcf\u4e2a\u8282\u70b9\u8d1f\u8d23\u4e00\u90e8\u5206\u6570\u636e\uff0c\u652f\u6301\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u548c\u8d1f\u8f7d\u5747\u8861\u3002</li> <li>\u9002\u7528\u573a\u666f\uff1a\u9002\u5408\u9700\u8981\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u548c\u9ad8\u53ef\u7528\u6027\u7684\u5e94\u7528\u573a\u666f\uff0c\u652f\u6301\u6a2a\u5411\u6269\u5c55\uff0c\u63d0\u4f9b\u66f4\u9ad8\u7684\u53ef\u7528\u6027\u548c\u6269\u5c55\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#47-redis","title":"47. Redis \u7684\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff1f\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u51fa\u73b0\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898\uff0c\u5982\u4f55\u89e3\u51b3\uff1f</p> <p>\u56de\u7b54\uff1a - \u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff1a   - \u4e3b\u4ece\u590d\u5236\uff1a\u901a\u8fc7\u4e3b\u8282\u70b9\u7684\u6570\u636e\u540c\u6b65\u5230\u4ece\u8282\u70b9\uff0c\u786e\u4fdd\u6570\u636e\u5728\u4ece\u8282\u70b9\u4e0e\u4e3b\u8282\u70b9\u7684\u4e00\u81f4\u6027\u3002   - \u4f7f\u7528 Redis Cluster\uff1a\u5728 Redis Cluster \u4e2d\uff0c\u901a\u8fc7\u5206\u7247\u548c\u590d\u5236\u673a\u5236\u6765\u4fdd\u6301\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u4e00\u81f4\u6027\u95ee\u9898\uff1a</li> <li>\u4e3b\u4ece\u6570\u636e\u4e0d\u4e00\u81f4\uff1a\u4e3b\u8282\u70b9\u4e0e\u4ece\u8282\u70b9\u7684\u6570\u636e\u53ef\u80fd\u7531\u4e8e\u7f51\u7edc\u5ef6\u8fdf\u6216\u590d\u5236\u5ef6\u8fdf\u800c\u6682\u65f6\u4e0d\u4e00\u81f4\u3002</li> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u8c03\u6574\u590d\u5236\u7684 <code>min-slaves-to-write</code> \u548c <code>min-slaves-max-lag</code> \u53c2\u6570\uff0c\u786e\u4fdd\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\u624d\u5141\u8bb8\u5199\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#48-redis-lua","title":"48. Redis \u7684 Lua \u811a\u672c\u6027\u80fd\u4e0e\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a Redis \u4e2d\u7684 Lua \u811a\u672c\u5982\u4f55\u4f18\u5316\u6027\u80fd\uff1f\u5982\u4f55\u907f\u514d Lua \u811a\u672c\u5bf9 Redis \u6027\u80fd\u7684\u8d1f\u9762\u5f71\u54cd\uff1f</p> <p>\u56de\u7b54\uff1a - \u4f18\u5316\u6027\u80fd\uff1a   - \u811a\u672c\u4f18\u5316\uff1a\u5c06\u903b\u8f91\u5c3d\u53ef\u80fd\u7b80\u5316\uff0c\u51cf\u5c11\u811a\u672c\u7684\u590d\u6742\u5ea6\u548c\u8ba1\u7b97\u65f6\u95f4\u3002   - \u6700\u5c0f\u5316 I/O \u64cd\u4f5c\uff1a\u5728 Lua \u811a\u672c\u4e2d\u51cf\u5c11\u5bf9 Redis \u547d\u4ee4\u7684\u8c03\u7528\u6b21\u6570\uff0c\u5c3d\u91cf\u5c06\u64cd\u4f5c\u5408\u5e76\u5230\u5355\u6b21\u8c03\u7528\u4e2d\u3002</p> <ul> <li>\u907f\u514d\u8d1f\u9762\u5f71\u54cd\uff1a</li> <li>\u811a\u672c\u8d85\u65f6\uff1a\u907f\u514d\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u811a\u672c\uff0c\u4f7f\u7528 <code>SCRIPT KILL</code> \u547d\u4ee4\u6765\u7ec8\u6b62\u8d85\u65f6\u7684\u811a\u672c\u3002<ul> <li>\u793a\u4f8b\uff1a   <code>bash   SCRIPT KILL</code></li> </ul> </li> <li>\u76d1\u63a7\u548c\u8c03\u4f18\uff1a\u5b9a\u671f\u76d1\u63a7\u811a\u672c\u6267\u884c\u7684\u6027\u80fd\uff0c\u8c03\u6574\u811a\u672c\u903b\u8f91\u4ee5\u63d0\u9ad8\u6267\u884c\u6548\u7387\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#49-redis","title":"49. Redis \u7684\u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f\u5982\u4f55\u5de5\u4f5c\uff1f\u6709\u54ea\u4e9b\u5b9e\u9645\u5e94\u7528\u573a\u666f\uff1f</p> <p>\u56de\u7b54\uff1a - \u5de5\u4f5c\u539f\u7406\uff1a   - \u53d1\u5e03\uff1a\u5ba2\u6237\u7aef\u901a\u8fc7 <code>PUBLISH</code> \u547d\u4ee4\u5c06\u6d88\u606f\u53d1\u5e03\u5230\u67d0\u4e2a\u9891\u9053\u3002   - \u8ba2\u9605\uff1a\u5ba2\u6237\u7aef\u901a\u8fc7 <code>SUBSCRIBE</code> \u547d\u4ee4\u8ba2\u9605\u611f\u5174\u8da3\u7684\u9891\u9053\uff0c\u63a5\u6536\u53d1\u5e03\u5230\u8fd9\u4e9b\u9891\u9053\u7684\u6d88\u606f\u3002     - \u793a\u4f8b\uff1a       <code>bash       PUBLISH channel message       SUBSCRIBE channel</code></p> <ul> <li>\u5e94\u7528\u573a\u666f\uff1a</li> <li>\u5b9e\u65f6\u901a\u77e5\uff1a\u7528\u4e8e\u5b9e\u65f6\u6d88\u606f\u901a\u77e5\u7cfb\u7edf\uff0c\u5982\u5373\u65f6\u804a\u5929\u5e94\u7528\u3001\u5b9e\u65f6\u6570\u636e\u63a8\u9001\u7b49\u3002</li> <li>\u4e8b\u4ef6\u5e7f\u64ad\uff1a\u5728\u7cfb\u7edf\u4e2d\u5e7f\u64ad\u4e8b\u4ef6\u901a\u77e5\uff0c\u4f8b\u5982\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u4e8b\u4ef6\u540c\u6b65\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#50-redis","title":"50. Redis \u7684\u6570\u636e\u6301\u4e45\u5316\u7b56\u7565\u7684\u9009\u62e9","text":"<p>\u95ee\u9898\uff1a \u5728\u9ad8\u5199\u5165\u8d1f\u8f7d\u7684\u73af\u5883\u4e2d\uff0c\u5982\u4f55\u9009\u62e9 Redis \u7684\u6570\u636e\u6301\u4e45\u5316\u7b56\u7565\u4ee5\u5e73\u8861\u6027\u80fd\u548c\u6570\u636e\u5b89\u5168\uff1f</p> <p>\u56de\u7b54\uff1a - \u9009\u62e9\u7b56\u7565\uff1a   - AOF \u6301\u4e45\u5316\uff1a\u9002\u7528\u4e8e\u5bf9\u6570\u636e\u5b89\u5168\u8981\u6c42\u9ad8\u7684\u573a\u666f\uff0c\u5efa\u8bae\u914d\u7f6e <code>appendfsync everysec</code> \u7b56\u7565\uff0c\u5e73\u8861\u6027\u80fd\u4e0e\u6570\u636e\u5b89\u5168\u3002   - RDB \u6301\u4e45\u5316\uff1a\u9002\u7528\u4e8e\u5199\u5165\u8d1f\u8f7d\u8f83\u9ad8\u7684\u73af\u5883\uff0c\u53ef\u4ee5\u51cf\u5c11\u5bf9 Redis \u6027\u80fd\u7684\u5f71\u54cd\uff0c\u4f46\u9700\u8981\u8003\u8651\u6570\u636e\u4e22\u5931\u7684\u98ce\u9669\u3002</p> <ul> <li>\u7efc\u5408\u65b9\u6848\uff1a</li> <li>\u6df7\u5408\u4f7f\u7528\uff1a\u53ef\u4ee5\u540c\u65f6\u542f\u7528 RDB \u548c AOF \u6301\u4e45\u5316\uff0c\u5229\u7528 RDB \u5feb\u7167\u548c AOF \u65e5\u5fd7\u7684\u7ec4\u5408\uff0c\u65e2\u63d0\u9ad8\u6570\u636e\u6301\u4e45\u6027\uff0c\u53c8\u51cf\u5c11\u6027\u80fd\u635f\u8017\u3002</li> </ul> <p>\u7ee7\u7eed\u6df1\u5165 Redis \u5927\u5382\u9762\u8bd5\u9898\uff0c\u6db5\u76d6\u66f4\u591a\u9ad8\u7ea7\u8bdd\u9898\u548c\u590d\u6742\u573a\u666f\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#51-redis","title":"51. Redis \u7684\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u6027\u80fd\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a \u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u4f18\u5316 Redis \u7684\u6027\u80fd\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u6027\u80fd\u74f6\u9888\u548c\u89e3\u51b3\u65b9\u6848\uff1f</p> <p>\u56de\u7b54\uff1a - \u6027\u80fd\u4f18\u5316\uff1a   - \u4f7f\u7528 Redis Cluster\uff1a\u901a\u8fc7\u5206\u7247\u6765\u5206\u62c5\u8d1f\u8f7d\uff0c\u63d0\u9ad8\u5904\u7406\u80fd\u529b\u3002   - \u4f18\u5316\u5ba2\u6237\u7aef\uff1a\u4f7f\u7528\u9ad8\u6027\u80fd\u7684 Redis \u5ba2\u6237\u7aef\u5e93\uff0c\u5e76\u652f\u6301\u8fde\u63a5\u6c60\u3002   - \u5408\u7406\u914d\u7f6e Redis\uff1a\u8c03\u6574 Redis \u7684 <code>maxclients</code> \u53c2\u6570\uff0c\u4ee5\u5141\u8bb8\u66f4\u591a\u7684\u5e76\u53d1\u8fde\u63a5\u3002   - \u4f7f\u7528\u6301\u4e45\u5316\u7b56\u7565\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u6301\u4e45\u5316\u7b56\u7565\uff08RDB\u3001AOF\u3001\u6df7\u5408\uff09\uff0c\u51cf\u5c11\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002   - \u76d1\u63a7\u548c\u8c03\u4f18\uff1a\u4f7f\u7528\u76d1\u63a7\u5de5\u5177\uff08\u5982 Redis \u7684 <code>MONITOR</code> \u547d\u4ee4\u3001Redis Stats \u7b49\uff09\u6765\u8bc6\u522b\u6027\u80fd\u74f6\u9888\uff0c\u5b9a\u671f\u8fdb\u884c\u6027\u80fd\u8c03\u4f18\u3002</p> <ul> <li>\u5e38\u89c1\u74f6\u9888\uff1a</li> <li>\u5185\u5b58\u4f7f\u7528\uff1a\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0cRedis \u7684\u5185\u5b58\u4f7f\u7528\u53ef\u80fd\u6210\u4e3a\u74f6\u9888\u3002\u5b9a\u671f\u6e05\u7406\u4e0d\u5fc5\u8981\u7684\u6570\u636e\uff0c\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\u3002</li> <li>\u7f51\u7edc\u5ef6\u8fdf\uff1a\u7f51\u7edc\u5ef6\u8fdf\u53ef\u80fd\u5f71\u54cd Redis \u7684\u6027\u80fd\uff0c\u4f18\u5316\u7f51\u7edc\u914d\u7f6e\uff0c\u786e\u4fdd Redis \u5b9e\u4f8b\u4e0e\u5ba2\u6237\u7aef\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u7a33\u5b9a\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#52-redis","title":"52. Redis \u7684\u4e3b\u4ece\u590d\u5236\u5ef6\u8fdf\u95ee\u9898","text":"<p>\u95ee\u9898\uff1a Redis \u4e3b\u4ece\u590d\u5236\u5ef6\u8fdf\u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u89e3\u51b3\u4e3b\u4ece\u590d\u5236\u5ef6\u8fdf\u7684\u95ee\u9898\uff1f</p> <p>\u56de\u7b54\uff1a - \u5ef6\u8fdf\u539f\u56e0\uff1a   - \u7f51\u7edc\u5ef6\u8fdf\uff1a\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u540c\u6b65\u7684\u5ef6\u8fdf\u3002   - \u4e3b\u8282\u70b9\u8d1f\u8f7d\u9ad8\uff1a\u4e3b\u8282\u70b9\u8d1f\u8f7d\u8fc7\u9ad8\u65f6\uff0c\u6570\u636e\u540c\u6b65\u5230\u4ece\u8282\u70b9\u7684\u901f\u5ea6\u4f1a\u53d7\u5230\u5f71\u54cd\u3002   - \u4ece\u8282\u70b9\u5904\u7406\u80fd\u529b\u4e0d\u8db3\uff1a\u4ece\u8282\u70b9\u7684\u6027\u80fd\u53ef\u80fd\u4e0d\u8db3\u4ee5\u8ddf\u4e0a\u4e3b\u8282\u70b9\u7684\u6570\u636e\u66f4\u65b0\u901f\u5ea6\u3002</p> <ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a</li> <li>\u4f18\u5316\u7f51\u7edc\u73af\u5883\uff1a\u786e\u4fdd\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u826f\u597d\uff0c\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\u3002</li> <li>\u5206\u62c5\u4e3b\u8282\u70b9\u8d1f\u8f7d\uff1a\u901a\u8fc7\u589e\u52a0 Redis \u5b9e\u4f8b\u6765\u5206\u62c5\u4e3b\u8282\u70b9\u7684\u8d1f\u8f7d\uff0c\u51cf\u5c11\u5bf9\u4e3b\u8282\u70b9\u7684\u538b\u529b\u3002</li> <li>\u4f18\u5316\u4ece\u8282\u70b9\u6027\u80fd\uff1a\u589e\u52a0\u4ece\u8282\u70b9\u7684\u8d44\u6e90\uff08\u5982\u5185\u5b58\u548cCPU\uff09\uff0c\u63d0\u9ad8\u5904\u7406\u80fd\u529b\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#53-redis","title":"53. Redis \u7684\u6570\u636e\u4e00\u81f4\u6027\u4e0e\u5bb9\u9519","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5904\u7406\u6570\u636e\u4e00\u81f4\u6027\u548c\u5bb9\u9519\uff1f\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\uff0c\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u4e00\u81f4\u6027\uff1a   - Redis Sentinel\uff1a\u901a\u8fc7\u76d1\u63a7\u548c\u6545\u969c\u8f6c\u79fb\u6765\u63d0\u4f9b\u4e3b\u4ece\u8282\u70b9\u7684\u4e00\u81f4\u6027\u3002   - Redis Cluster\uff1a\u901a\u8fc7\u5206\u7247\u548c\u590d\u5236\u6765\u7ef4\u62a4\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u5bb9\u9519\u673a\u5236\uff1a</li> <li>\u4e3b\u4ece\u590d\u5236\uff1a\u4ece\u8282\u70b9\u4f5c\u4e3a\u4e3b\u8282\u70b9\u7684\u5907\u4efd\uff0c\u4e3b\u8282\u70b9\u6545\u969c\u65f6\u53ef\u4ee5\u5c06\u4ece\u8282\u70b9\u63d0\u5347\u4e3a\u4e3b\u8282\u70b9\u3002</li> <li>Redis Cluster\uff1a\u652f\u6301\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff0c\u786e\u4fdd\u8282\u70b9\u6545\u969c\u65f6\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u9ad8\u53ef\u7528\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#54-redis","title":"54. Redis \u6570\u636e\u6301\u4e45\u5316\u5bf9\u6027\u80fd\u7684\u5f71\u54cd","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u6570\u636e\u6301\u4e45\u5316\uff08RDB \u548c AOF\uff09\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u5982\u4f55\uff1f\u5982\u4f55\u5e73\u8861\u6301\u4e45\u5316\u7b56\u7565\u4e0e\u7cfb\u7edf\u6027\u80fd\uff1f</p> <p>\u56de\u7b54\uff1a - \u6301\u4e45\u5316\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\uff1a   - RDB\uff1aRDB \u5feb\u7167\u5728\u4fdd\u5b58\u6570\u636e\u65f6\u4f1a\u6682\u505c Redis \u5b9e\u4f8b\u7684\u5199\u64cd\u4f5c\uff0c\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002\u5feb\u7167\u95f4\u9694\u8bbe\u7f6e\u8fc7\u957f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u3002   - AOF\uff1aAOF \u5199\u5165\u64cd\u4f5c\u4f1a\u8bb0\u5f55\u6bcf\u4e2a\u5199\u547d\u4ee4\uff0c\u53ef\u80fd\u4f1a\u589e\u52a0\u78c1\u76d8 I/O \u548c CPU \u6d88\u8017\u3002<code>appendfsync</code> \u914d\u7f6e\u7684\u9891\u7387\u5bf9\u6027\u80fd\u5f71\u54cd\u8f83\u5927\u3002</p> <ul> <li>\u5e73\u8861\u7b56\u7565\uff1a</li> <li>RDB \u548c AOF \u6df7\u5408\u4f7f\u7528\uff1a\u7ed3\u5408 RDB \u548c AOF \u7684\u4f18\u70b9\uff0c\u4f7f\u7528 RDB \u5feb\u7167\u6765\u51cf\u5c11\u78c1\u76d8 I/O\uff0c\u5e76\u4f7f\u7528 AOF \u8bb0\u5f55\u6bcf\u4e2a\u5199\u64cd\u4f5c\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u6301\u4e45\u6027\u3002</li> <li>\u914d\u7f6e\u8c03\u6574\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u8c03\u6574 RDB \u548c AOF \u7684\u914d\u7f6e\uff0c\u4f8b\u5982\u8c03\u6574\u5feb\u7167\u9891\u7387\u548c AOF \u5199\u5165\u7b56\u7565\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#55-redis","title":"55. Redis \u6570\u636e\u8fc1\u79fb\u4e0e\u5907\u4efd\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u5728 Redis \u4e2d\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u548c\u5907\u4efd\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u7b56\u7565\u548c\u5de5\u5177\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u8fc1\u79fb\uff1a   - \u4f7f\u7528 RDB \u6587\u4ef6\uff1a\u901a\u8fc7 RDB \u6587\u4ef6\u5bfc\u51fa\u548c\u5bfc\u5165\u6570\u636e\uff0c\u9002\u7528\u4e8e\u8fc1\u79fb\u5230\u76f8\u540c\u7248\u672c\u7684 Redis \u5b9e\u4f8b\u3002   - \u4f7f\u7528 AOF \u6587\u4ef6\uff1a\u901a\u8fc7 AOF \u6587\u4ef6\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\uff0c\u9002\u7528\u4e8e\u5c06\u6570\u636e\u8fc1\u79fb\u5230\u4e0d\u540c\u7248\u672c\u7684 Redis \u5b9e\u4f8b\u3002   - Redis \u6570\u636e\u540c\u6b65\u5de5\u5177\uff1a\u4f7f\u7528\u5de5\u5177\u5982 <code>redis-cli</code> \u7684 <code>--pipe</code> \u53c2\u6570\u6765\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u3002</p> <ul> <li>\u5907\u4efd\u7b56\u7565\uff1a</li> <li>\u5b9a\u671f\u5907\u4efd\uff1a\u5b9a\u671f\u751f\u6210 RDB \u5feb\u7167\u548c AOF \u6587\u4ef6\u8fdb\u884c\u5907\u4efd\uff0c\u786e\u4fdd\u6570\u636e\u7684\u5b89\u5168\u6027\u3002</li> <li>\u5f02\u5730\u5907\u4efd\uff1a\u5c06\u5907\u4efd\u6587\u4ef6\u5b58\u50a8\u5230\u5f02\u5730\u5b58\u50a8\u670d\u52a1\u4e2d\uff0c\u9632\u6b62\u56e0\u6570\u636e\u4e2d\u5fc3\u6545\u969c\u5bfc\u81f4\u7684\u6570\u636e\u4e22\u5931\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#56-redis","title":"56. Redis \u7684\u4e8b\u52a1\u673a\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u652f\u6301\u4e8b\u52a1\u673a\u5236\u5417\uff1f\u5982\u4f55\u5728 Redis \u4e2d\u4f7f\u7528\u4e8b\u52a1\uff1f\u4e8b\u52a1\u7684\u5c40\u9650\u6027\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e8b\u52a1\u673a\u5236\uff1a   - MULTI\u3001EXEC \u548c DISCARD\uff1aRedis \u901a\u8fc7 <code>MULTI</code> \u547d\u4ee4\u5f00\u59cb\u4e00\u4e2a\u4e8b\u52a1\uff0c\u4f7f\u7528 <code>EXEC</code> \u63d0\u4ea4\u4e8b\u52a1\uff0c\u4f7f\u7528 <code>DISCARD</code> \u53d6\u6d88\u4e8b\u52a1\u3002     - \u793a\u4f8b\uff1a       <code>bash       MULTI       SET key1 value1       SET key2 value2       EXEC</code></p> <ul> <li>\u4e8b\u52a1\u5c40\u9650\u6027\uff1a</li> <li>\u539f\u5b50\u6027\uff1aRedis \u4e8b\u52a1\u4fdd\u8bc1\u547d\u4ee4\u7684\u539f\u5b50\u6027\uff0c\u4f46\u4e0d\u652f\u6301\u56de\u6eda\u3002\u5373\u4f7f\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u5931\u8d25\uff0c\u4e4b\u524d\u7684\u547d\u4ee4\u4ecd\u7136\u4f1a\u88ab\u6267\u884c\u3002</li> <li>\u9694\u79bb\u6027\uff1aRedis \u4e8b\u52a1\u4e2d\u7684\u547d\u4ee4\u6309\u7167\u6267\u884c\u987a\u5e8f\u9010\u4e2a\u6267\u884c\uff0c\u65e0\u6cd5\u5b9e\u73b0\u771f\u6b63\u7684\u9694\u79bb\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#57-redis","title":"57. Redis \u7684\u952e\u8fc7\u671f\u7b56\u7565\u548c\u5185\u5b58\u6dd8\u6c70\u673a\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5904\u7406\u952e\u7684\u8fc7\u671f\u548c\u5185\u5b58\u6dd8\u6c70\uff1f\u6709\u54ea\u4e9b\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - \u952e\u8fc7\u671f\u7b56\u7565\uff1a   - \u60f0\u6027\u5220\u9664\uff1a\u4ec5\u5728\u8bbf\u95ee\u8fc7\u671f\u952e\u65f6\u5220\u9664\u5b83\u4eec\u3002   - \u5b9a\u671f\u5220\u9664\uff1aRedis \u4f1a\u5b9a\u671f\u68c0\u67e5\u8fc7\u671f\u952e\uff0c\u5e76\u5c06\u5176\u5220\u9664\u3002</p> <ul> <li>\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff1a</li> <li>noeviction\uff1a\u8fbe\u5230\u5185\u5b58\u9650\u5236\u65f6\u4e0d\u518d\u63a5\u53d7\u5199\u5165\u8bf7\u6c42\uff0c\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\u3002</li> <li>allkeys-lru\uff1a\u4ece\u6240\u6709\u952e\u4e2d\u9009\u62e9\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u952e\u8fdb\u884c\u6dd8\u6c70\u3002</li> <li>volatile-lru\uff1a\u4ece\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u4e2d\u9009\u62e9\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u952e\u8fdb\u884c\u6dd8\u6c70\u3002</li> <li>allkeys-random\uff1a\u968f\u673a\u6dd8\u6c70\u6240\u6709\u952e\u3002</li> <li>volatile-random\uff1a\u968f\u673a\u6dd8\u6c70\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u3002</li> <li>volatile-ttl\uff1a\u6dd8\u6c70\u5373\u5c06\u8fc7\u671f\u7684\u952e\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#58-redis-lua","title":"58. Redis \u7684 Lua \u811a\u672c\u4e0e\u4e8b\u52a1\u7684\u533a\u522b","text":"<p>\u95ee\u9898\uff1a Redis \u7684 Lua \u811a\u672c\u4e0e\u4e8b\u52a1\u6709\u4ec0\u4e48\u533a\u522b\uff1f\u5728\u4ec0\u4e48\u573a\u666f\u4e0b\u5e94\u8be5\u4f7f\u7528 Lua \u811a\u672c\uff1f</p> <p>\u56de\u7b54\uff1a - Lua \u811a\u672c\uff1a   - \u539f\u5b50\u6027\uff1aLua \u811a\u672c\u5728 Redis \u4e2d\u6267\u884c\u662f\u539f\u5b50\u7684\uff0c\u5373\u811a\u672c\u6267\u884c\u671f\u95f4\u4e0d\u4f1a\u88ab\u4e2d\u65ad\u3002   - \u529f\u80fd\uff1a\u53ef\u4ee5\u5728\u4e00\u4e2a\u539f\u5b50\u64cd\u4f5c\u4e2d\u6267\u884c\u591a\u4e2a Redis \u547d\u4ee4\uff0c\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\u3002</p> <ul> <li>\u4e8b\u52a1\uff1a</li> <li>\u539f\u5b50\u6027\uff1aRedis \u4e8b\u52a1\u4e2d\u7684\u547d\u4ee4\u6309\u987a\u5e8f\u6267\u884c\uff0c\u4f46\u4e0d\u80fd\u56de\u6eda\u3002\u5982\u679c\u4e00\u4e2a\u547d\u4ee4\u5931\u8d25\uff0c\u4e4b\u524d\u7684\u547d\u4ee4\u4ecd\u7136\u4f1a\u6267\u884c\u3002</li> <li> <p>\u529f\u80fd\uff1a\u4e8b\u52a1\u9002\u7528\u4e8e\u9700\u8981\u4fdd\u8bc1\u547d\u4ee4\u987a\u5e8f\u7684\u573a\u666f\uff0c\u4f46\u4e0d\u652f\u6301\u5728\u4e8b\u52a1\u4e2d\u4f7f\u7528\u590d\u6742\u7684\u903b\u8f91\u3002</p> </li> <li> <p>\u4f7f\u7528\u573a\u666f\uff1a</p> </li> <li>Lua \u811a\u672c\uff1a\u9002\u7528\u4e8e\u9700\u8981\u539f\u5b50\u6267\u884c\u591a\u4e2a Redis \u547d\u4ee4\u7684\u573a\u666f\uff0c\u6216\u9700\u8981\u5728 Redis \u4e2d\u5b9e\u73b0\u590d\u6742\u903b\u8f91\u7684\u573a\u666f\u3002</li> <li>\u4e8b\u52a1\uff1a\u9002\u7528\u4e8e\u9700\u8981\u987a\u5e8f\u6267\u884c\u591a\u4e2a Redis \u547d\u4ee4\uff0c\u4f46\u4e0d\u9700\u8981\u590d\u6742\u903b\u8f91\u7684\u573a\u666f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#59-redis","title":"59. Redis \u7684\u590d\u5236\u94fe\u8def","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u590d\u5236\u94fe\u8def\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u7ba1\u7406\u548c\u4f18\u5316 Redis \u7684\u590d\u5236\u94fe\u8def\uff1f</p> <p>\u56de\u7b54\uff1a - \u590d\u5236\u94fe\u8def\uff1a   - \u4e3b\u8282\u70b9\u4e0e\u4ece\u8282\u70b9\uff1a\u4e3b\u8282\u70b9\u5c06\u6570\u636e\u590d\u5236\u5230\u4ece\u8282\u70b9\uff0c\u4ece\u8282\u70b9\u53ef\u4ee5\u4f5c\u4e3a\u8bfb\u53d6\u6570\u636e\u7684\u526f\u672c\u3002   - \u590d\u5236\u94fe\u8def\uff1a\u4e3b\u8282\u70b9\u5230\u4ece\u8282\u70b9\u7684\u6570\u636e\u4f20\u8f93\u94fe\u8def\u3002</p> <ul> <li>\u7ba1\u7406\u548c\u4f18\u5316\uff1a</li> <li>\u4e3b\u4ece\u540c\u6b65\uff1a\u786e\u4fdd\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\u7684\u540c\u6b65\u72b6\u6001\u6b63\u5e38\uff0c\u51cf\u5c11\u6570\u636e\u540c\u6b65\u7684\u5ef6\u8fdf\u3002</li> <li>\u7f51\u7edc\u4f18\u5316\uff1a\u4f18\u5316\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u5ef6\u8fdf\u3002</li> <li>\u4ece\u8282\u70b9\u8d1f\u8f7d\uff1a\u5408\u7406\u914d\u7f6e\u4ece\u8282\u70b9\u7684\u8d1f\u8f7d\uff0c\u907f\u514d\u5355\u4e2a\u4ece\u8282\u70b9\u7684\u8d1f\u8f7d\u8fc7\u9ad8\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#60-redis","title":"60. Redis \u7684\u9ad8\u53ef\u7528\u67b6\u6784\u8bbe\u8ba1","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u8bbe\u8ba1 Redis \u7684\u9ad8\u53ef\u7528\u67b6\u6784\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u9ad8\u53ef\u7528\u65b9\u6848\uff1f</p> <p>\u56de\u7b54\uff1a - \u9ad8\u53ef\u7528\u67b6\u6784\uff1a   - Redis Sentinel\uff1a\u901a\u8fc7\u76d1\u63a7\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\u7684\u72b6\u6001\uff0c\u5b9e\u73b0\u6545\u969c\u8f6c\u79fb\u548c\u9ad8\u53ef\u7528\u3002   - Redis Cluster\uff1a\u901a\u8fc7\u6570\u636e\u5206\u7247\u548c\u4e3b\u4ece\u590d\u5236\u6765\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u5206\u5e03\u3002</p> <ul> <li>\u5e38\u89c1\u65b9\u6848\uff1a</li> <li>Redis Sentinel\uff1a\u9002\u7528\u4e8e\u9700\u8981\u9ad8\u53ef\u7528\u6027\u548c\u6545\u969c\u8f6c\u79fb\u7684\u573a\u666f\uff0c\u652f\u6301\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u548c\u4e3b\u4ece\u8282\u70b9\u76d1\u63a7\u3002</li> <li>Redis Cluster\uff1a\u9002\u7528\u4e8e\u9700\u8981\u5206\u5e03\u5f0f\u6570\u636e\u5b58\u50a8\u548c\u9ad8\u53ef\u7528\u6027\u7684\u573a\u666f\uff0c\u652f\u6301\u6570\u636e\u5206\u7247\u548c\u4e3b\u4ece\u590d\u5236\u3002</li> </ul> <p>\u7ee7\u7eed\u6df1\u5165 Redis \u5927\u5382\u9762\u8bd5\u9898\uff0c\u6db5\u76d6\u66f4\u591a\u9ad8\u7ea7\u8bdd\u9898\u548c\u5b9e\u9645\u5e94\u7528\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#61-redis","title":"61. Redis \u7684\u7f13\u5b58\u7a7f\u900f\u3001\u51fb\u7a7f\u548c\u96ea\u5d29","text":"<p>\u95ee\u9898\uff1a Redis \u4e2d\u7684\u7f13\u5b58\u7a7f\u900f\u3001\u7f13\u5b58\u51fb\u7a7f\u548c\u7f13\u5b58\u96ea\u5d29\u5206\u522b\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u9632\u6b62\u8fd9\u4e9b\u95ee\u9898\uff1f</p> <p>\u56de\u7b54\uff1a - \u7f13\u5b58\u7a7f\u900f\uff1a   - \u5b9a\u4e49\uff1a\u8bf7\u6c42\u76f4\u63a5\u7ed5\u8fc7\u7f13\u5b58\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u901a\u5e38\u7531\u4e8e\u67e5\u8be2\u7684 key \u5728\u7f13\u5b58\u548c\u6570\u636e\u5e93\u4e2d\u90fd\u4e0d\u5b58\u5728\u3002   - \u89e3\u51b3\u65b9\u6cd5\uff1a     - \u8bf7\u6c42\u53c2\u6570\u6821\u9a8c\uff1a\u5bf9\u65e0\u6548\u8bf7\u6c42\u8fdb\u884c\u62e6\u622a\uff0c\u9632\u6b62\u65e0\u6548\u8bf7\u6c42\u7a7f\u900f\u7f13\u5b58\u3002     - \u5e03\u9686\u8fc7\u6ee4\u5668\uff1a\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u5728\u8bf7\u6c42\u5230\u8fbe\u6570\u636e\u5e93\u4e4b\u524d\u5148\u68c0\u67e5\u7f13\u5b58\u4e2d\u662f\u5426\u5b58\u5728\u8be5 key\u3002</p> <ul> <li>\u7f13\u5b58\u51fb\u7a7f\uff1a</li> <li>\u5b9a\u4e49\uff1a\u67d0\u4e2a\u70ed\u70b9 key \u7684\u7f13\u5b58\u5931\u6548\uff0c\u5bfc\u81f4\u5927\u91cf\u5e76\u53d1\u8bf7\u6c42\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u9020\u6210\u6570\u636e\u5e93\u538b\u529b\u8fc7\u5927\u3002</li> <li> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <ul> <li>\u52a0\u9501\uff1a\u5728\u7f13\u5b58\u5931\u6548\u65f6\uff0c\u4e3a\u70ed\u70b9 key \u52a0\u9501\uff0c\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u8bf7\u6c42\u53bb\u67e5\u8be2\u6570\u636e\u5e93\uff0c\u5176\u5b83\u8bf7\u6c42\u7b49\u5f85\u9501\u91ca\u653e\u3002</li> <li>\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1a\u5408\u7406\u8bbe\u7f6e\u7f13\u5b58\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u907f\u514d\u5927\u91cf\u8bf7\u6c42\u540c\u65f6\u8bbf\u95ee\u6570\u636e\u5e93\u3002</li> </ul> </li> <li> <p>\u7f13\u5b58\u96ea\u5d29\uff1a</p> </li> <li>\u5b9a\u4e49\uff1a\u7f13\u5b58\u4e2d\u5927\u91cf\u7684 key \u540c\u65f6\u8fc7\u671f\uff0c\u5bfc\u81f4\u5927\u91cf\u8bf7\u6c42\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u9020\u6210\u6570\u636e\u5e93\u538b\u529b\u8fc7\u5927\u3002</li> <li>\u89e3\u51b3\u65b9\u6cd5\uff1a<ul> <li>\u52a0\u968f\u673a\u8fc7\u671f\u65f6\u95f4\uff1a\u4e3a\u7f13\u5b58\u8bbe\u7f6e\u968f\u673a\u8fc7\u671f\u65f6\u95f4\uff0c\u907f\u514d\u5927\u91cf\u7f13\u5b58\u540c\u65f6\u8fc7\u671f\u3002</li> <li>\u7f13\u5b58\u9884\u70ed\uff1a\u5728\u7cfb\u7edf\u542f\u52a8\u6216\u7f13\u5b58\u6570\u636e\u6062\u590d\u65f6\uff0c\u63d0\u524d\u52a0\u8f7d\u70ed\u70b9\u6570\u636e\u5230\u7f13\u5b58\u4e2d\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#62-redis","title":"62. Redis \u7684\u4e3b\u4ece\u540c\u6b65\u6027\u80fd\u4f18\u5316","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f18\u5316 Redis \u4e3b\u4ece\u540c\u6b65\u7684\u6027\u80fd\uff1f\u54ea\u4e9b\u56e0\u7d20\u4f1a\u5f71\u54cd\u4e3b\u4ece\u540c\u6b65\u7684\u6027\u80fd\uff1f</p> <p>\u56de\u7b54\uff1a - \u6027\u80fd\u4f18\u5316\uff1a   - \u4f18\u5316\u7f51\u7edc\uff1a\u786e\u4fdd\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u5e26\u5bbd\u5145\u8db3\uff0c\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\u3002   - \u4f7f\u7528\u8f83\u65b0\u7684 Redis \u7248\u672c\uff1a\u8f83\u65b0\u7684\u7248\u672c\u901a\u5e38\u4f1a\u6709\u6027\u80fd\u6539\u8fdb\u548c bug \u4fee\u590d\u3002   - \u8c03\u6574\u540c\u6b65\u8bbe\u7f6e\uff1a\u4f18\u5316 <code>repl-backlog-size</code> \u548c <code>repl-diskless-sync</code> \u53c2\u6570\u4ee5\u63d0\u5347\u540c\u6b65\u6027\u80fd\u3002   - \u4f7f\u7528\u6d41\u91cf\u63a7\u5236\uff1a\u8bbe\u7f6e\u4e3b\u8282\u70b9\u7684\u6d41\u91cf\u63a7\u5236\u53c2\u6570\uff0c\u907f\u514d\u8fc7\u591a\u7684\u540c\u6b65\u6570\u636e\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</p> <ul> <li>\u5f71\u54cd\u56e0\u7d20\uff1a</li> <li>\u7f51\u7edc\u5e26\u5bbd\uff1a\u7f51\u7edc\u5e26\u5bbd\u4e0d\u8db3\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u540c\u6b65\u5ef6\u8fdf\u3002</li> <li>\u4e3b\u8282\u70b9\u8d1f\u8f7d\uff1a\u4e3b\u8282\u70b9\u8d1f\u8f7d\u8fc7\u9ad8\u53ef\u80fd\u5f71\u54cd\u6570\u636e\u540c\u6b65\u7684\u901f\u5ea6\u3002</li> <li>\u4ece\u8282\u70b9\u6027\u80fd\uff1a\u4ece\u8282\u70b9\u7684\u6027\u80fd\u4e0d\u8db3\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u540c\u6b65\u7684\u5ef6\u8fdf\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#63-redis","title":"63. Redis \u7684\u6570\u636e\u4e00\u81f4\u6027\u4fdd\u8bc1","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1f\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u51fa\u73b0\u6570\u636e\u4e0d\u4e00\u81f4\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e00\u81f4\u6027\u4fdd\u8bc1\uff1a   - \u5355\u7ebf\u7a0b\u6a21\u578b\uff1aRedis \u4f7f\u7528\u5355\u7ebf\u7a0b\u6a21\u578b\u6765\u5904\u7406\u6240\u6709\u8bf7\u6c42\uff0c\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002   - \u4e3b\u4ece\u540c\u6b65\uff1a\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u6765\u786e\u4fdd\u4ece\u8282\u70b9\u7684\u6570\u636e\u4e0e\u4e3b\u8282\u70b9\u4e00\u81f4\u3002</p> <ul> <li>\u53ef\u80fd\u51fa\u73b0\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u60c5\u51b5\uff1a</li> <li>\u7f51\u7edc\u5206\u533a\uff1a\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u5206\u533a\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> <li>\u6545\u969c\u8f6c\u79fb\uff1a\u5728\u6545\u969c\u8f6c\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u51fa\u73b0\u6682\u65f6\u7684\u4e0d\u4e00\u81f4\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#64-redis","title":"64. Redis \u7684\u6570\u636e\u8fc1\u79fb\u4e0e\u6062\u590d","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u8fdb\u884c Redis \u6570\u636e\u7684\u8fc1\u79fb\u4e0e\u6062\u590d\uff1f\u6709\u54ea\u4e9b\u5de5\u5177\u548c\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u8fc1\u79fb\uff1a   - \u4f7f\u7528 RDB/AOF \u6587\u4ef6\uff1a\u5c06 RDB \u6216 AOF \u6587\u4ef6\u4ece\u65e7\u5b9e\u4f8b\u8fc1\u79fb\u5230\u65b0\u5b9e\u4f8b\uff0c\u901a\u8fc7\u6570\u636e\u52a0\u8f7d\u8fdb\u884c\u8fc1\u79fb\u3002   - <code>redis-cli</code>\uff1a\u4f7f\u7528 <code>redis-cli</code> \u7684 <code>--pipe</code> \u9009\u9879\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\uff0c\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u7684\u6570\u636e\u8fc1\u79fb\u3002   - <code>redis-benchmark</code>\uff1a\u4f7f\u7528 Redis \u7684\u57fa\u51c6\u6d4b\u8bd5\u5de5\u5177\u5bf9\u65b0\u5b9e\u4f8b\u8fdb\u884c\u6570\u636e\u9a8c\u8bc1\u3002</p> <ul> <li>\u6570\u636e\u6062\u590d\uff1a</li> <li>RDB \u5feb\u7167\u6062\u590d\uff1a\u5c06 RDB \u5feb\u7167\u6587\u4ef6\u590d\u5236\u5230 Redis \u6570\u636e\u76ee\u5f55\uff0c\u91cd\u65b0\u542f\u52a8 Redis \u5b9e\u4f8b\u3002</li> <li>AOF \u6062\u590d\uff1a\u4f7f\u7528 AOF \u6587\u4ef6\u8fdb\u884c\u6062\u590d\uff0c\u786e\u4fdd Redis \u5b9e\u4f8b\u7684 AOF \u6587\u4ef6\u53ef\u7528\u4e14\u5b8c\u6574\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#65-redis","title":"65. Redis \u7684\u9ad8\u53ef\u7528\u4e0e\u707e\u5907\u65b9\u6848","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u8bbe\u8ba1 Redis \u7684\u9ad8\u53ef\u7528\u548c\u707e\u5907\u65b9\u6848\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u5b9e\u8df5\u548c\u5de5\u5177\uff1f</p> <p>\u56de\u7b54\uff1a - \u9ad8\u53ef\u7528\u65b9\u6848\uff1a   - Redis Sentinel\uff1a\u63d0\u4f9b\u4e3b\u4ece\u76d1\u63a7\u3001\u6545\u969c\u8f6c\u79fb\u548c\u81ea\u52a8\u6062\u590d\u529f\u80fd\uff0c\u9002\u7528\u4e8e\u9ad8\u53ef\u7528\u6027\u9700\u6c42\u3002   - Redis Cluster\uff1a\u901a\u8fc7\u5206\u7247\u548c\u4e3b\u4ece\u590d\u5236\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u548c\u6570\u636e\u5206\u5e03\u3002</p> <ul> <li>\u707e\u5907\u65b9\u6848\uff1a</li> <li>\u5f02\u5730\u5907\u4efd\uff1a\u5c06\u5907\u4efd\u6587\u4ef6\u5b58\u50a8\u5230\u5f02\u5730\u7684\u5b58\u50a8\u670d\u52a1\u4e2d\uff0c\u4ee5\u9632\u6570\u636e\u4e2d\u5fc3\u7684\u6545\u969c\u3002</li> <li>\u707e\u5907\u5207\u6362\uff1a\u914d\u7f6e\u707e\u5907\u73af\u5883\uff0c\u5b9a\u671f\u8fdb\u884c\u6570\u636e\u540c\u6b65\u548c\u9a8c\u8bc1\uff0c\u786e\u4fdd\u5728\u4e3b\u6570\u636e\u4e2d\u5fc3\u51fa\u73b0\u95ee\u9898\u65f6\u53ef\u4ee5\u5feb\u901f\u5207\u6362\u5230\u5907\u4efd\u73af\u5883\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#66-redis","title":"66. Redis \u7684\u6027\u80fd\u76d1\u63a7\u4e0e\u8c03\u4f18","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u76d1\u63a7\u548c\u8c03\u4f18 Redis \u7684\u6027\u80fd\uff1f\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u5de5\u5177\u548c\u6307\u6807\uff1f</p> <p>\u56de\u7b54\uff1a - \u6027\u80fd\u76d1\u63a7\uff1a   - Redis CLI \u5de5\u5177\uff1a\u4f7f\u7528 <code>INFO</code> \u547d\u4ee4\u67e5\u770b Redis \u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u5185\u5b58\u4f7f\u7528\u3001\u547d\u4e2d\u7387\u7b49\u3002   - Redis Slow Log\uff1a\u4f7f\u7528\u6162\u65e5\u5fd7\u8bb0\u5f55\u6162\u67e5\u8be2\uff0c\u4ee5\u4fbf\u5206\u6790\u548c\u4f18\u5316\u6027\u80fd\u3002</p> <ul> <li>\u6027\u80fd\u8c03\u4f18\uff1a</li> <li>\u5185\u5b58\u7ba1\u7406\uff1a\u76d1\u63a7 Redis \u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u5408\u7406\u8bbe\u7f6e <code>maxmemory</code> \u53c2\u6570\uff0c\u9009\u62e9\u5408\u9002\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\u3002</li> <li>\u6301\u4e45\u5316\u8bbe\u7f6e\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u8c03\u6574\u6301\u4e45\u5316\u7b56\u7565\uff0c\u5e73\u8861\u6027\u80fd\u548c\u6570\u636e\u6301\u4e45\u6027\u3002</li> <li>\u7f51\u7edc\u914d\u7f6e\uff1a\u4f18\u5316 Redis \u7684\u7f51\u7edc\u914d\u7f6e\uff0c\u786e\u4fdd\u7f51\u7edc\u5ef6\u8fdf\u548c\u5e26\u5bbd\u6ee1\u8db3\u9700\u6c42\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#67-redis","title":"67. Redis \u7684\u7f13\u5b58\u7b56\u7565\u4e0e\u5e94\u7528\u573a\u666f","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u7f13\u5b58\u7b56\u7565\u6709\u54ea\u4e9b\uff1f\u5728\u4ec0\u4e48\u6837\u7684\u5e94\u7528\u573a\u666f\u4e0b\u5e94\u8be5\u4f7f\u7528\u8fd9\u4e9b\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - \u7f13\u5b58\u7b56\u7565\uff1a   - LRU (Least Recently Used)\uff1a\u6dd8\u6c70\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\uff0c\u9002\u7528\u4e8e\u7f13\u5b58\u6570\u636e\u7684\u8bbf\u95ee\u6a21\u5f0f\u3002   - LFU (Least Frequently Used)\uff1a\u6dd8\u6c70\u4f7f\u7528\u9891\u7387\u6700\u4f4e\u7684\u952e\uff0c\u9002\u7528\u4e8e\u5bf9\u7f13\u5b58\u70ed\u70b9\u6570\u636e\u7684\u4f18\u5316\u3002   - \u968f\u673a\u6dd8\u6c70\uff1a\u968f\u673a\u9009\u62e9\u952e\u8fdb\u884c\u6dd8\u6c70\uff0c\u9002\u7528\u4e8e\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u4e0d\u53ef\u9884\u6d4b\u7684\u573a\u666f\u3002</p> <ul> <li>\u5e94\u7528\u573a\u666f\uff1a</li> <li>LRU\uff1a\u9002\u7528\u4e8e\u7528\u6237\u4f1a\u9891\u7e41\u8bbf\u95ee\u7684\u7f13\u5b58\u6570\u636e\uff0c\u5982\u7528\u6237\u4f1a\u8bdd\u4fe1\u606f\u3002</li> <li>LFU\uff1a\u9002\u7528\u4e8e\u9700\u8981\u7f13\u5b58\u70ed\u70b9\u6570\u636e\uff0c\u5982\u70ed\u95e8\u5546\u54c1\u7684\u7f13\u5b58\u3002</li> <li>\u968f\u673a\u6dd8\u6c70\uff1a\u9002\u7528\u4e8e\u7f13\u5b58\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u4e0d\u53ef\u9884\u6d4b\u7684\u573a\u666f\uff0c\u5982\u65e5\u5fd7\u7f13\u5b58\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#68-redis","title":"68. Redis \u7684\u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis \u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u7684\u6700\u4f73\u5b9e\u8df5\u662f\u4ec0\u4e48\uff1f\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u5907\u4efd\u548c\u6062\u590d\u5de5\u5177\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u5907\u4efd\uff1a   - \u5b9a\u671f\u5feb\u7167\uff1a\u901a\u8fc7\u5b9a\u671f\u751f\u6210 RDB \u5feb\u7167\u6765\u5907\u4efd\u6570\u636e\uff0c\u8bbe\u7f6e\u5408\u9002\u7684\u5feb\u7167\u7b56\u7565\u4ee5\u51cf\u5c11\u5907\u4efd\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002   - AOF \u5907\u4efd\uff1a\u5b9a\u671f\u5907\u4efd AOF \u6587\u4ef6\uff0c\u8bb0\u5f55\u6240\u6709\u5199\u64cd\u4f5c\uff0c\u786e\u4fdd\u6570\u636e\u7684\u6301\u4e45\u6027\u548c\u6062\u590d\u80fd\u529b\u3002</p> <ul> <li>\u6570\u636e\u6062\u590d\uff1a</li> <li>RDB \u6062\u590d\uff1a\u5c06 RDB \u6587\u4ef6\u590d\u5236\u5230 Redis \u6570\u636e\u76ee\u5f55\u4e2d\uff0c\u91cd\u65b0\u542f\u52a8 Redis \u5b9e\u4f8b\u8fdb\u884c\u6062\u590d\u3002</li> <li>AOF \u6062\u590d\uff1a\u4f7f\u7528 AOF \u6587\u4ef6\u8fdb\u884c\u6570\u636e\u6062\u590d\uff0c\u786e\u4fdd AOF \u6587\u4ef6\u7684\u5b8c\u6574\u6027\u3002</li> </ul> <p>\u7ee7\u7eed\u6df1\u5165 Redis \u5927\u5382\u9762\u8bd5\u9898\uff0c\u6db5\u76d6\u66f4\u590d\u6742\u7684\u5e94\u7528\u573a\u666f\u548c\u95ee\u9898\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#69-redis","title":"69. Redis \u7684\u5f02\u6b65\u590d\u5236\u4e0e\u540c\u6b65\u590d\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u652f\u6301\u5f02\u6b65\u590d\u5236\u548c\u540c\u6b65\u590d\u5236\u5417\uff1f\u8fd9\u4e24\u79cd\u590d\u5236\u65b9\u5f0f\u5404\u81ea\u7684\u4f18\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a - \u5f02\u6b65\u590d\u5236\uff1a   - \u5b9a\u4e49\uff1a\u4e3b\u8282\u70b9\u5c06\u6570\u636e\u5199\u5165\u5e76\u8fd4\u56de\u5ba2\u6237\u7aef\u540e\uff0c\u5f02\u6b65\u5730\u5c06\u6570\u636e\u590d\u5236\u5230\u4ece\u8282\u70b9\u3002   - \u4f18\u70b9\uff1a     - \u6027\u80fd\u8f83\u9ad8\uff1a\u4e3b\u8282\u70b9\u65e0\u9700\u7b49\u5f85\u4ece\u8282\u70b9\u786e\u8ba4\u6570\u636e\u5199\u5165\u3002     - \u5ef6\u8fdf\u8f83\u4f4e\uff1a\u9002\u5408\u9ad8\u541e\u5410\u91cf\u7684\u573a\u666f\u3002   - \u7f3a\u70b9\uff1a     - \u6570\u636e\u4e22\u5931\u98ce\u9669\uff1a\u5728\u4e3b\u8282\u70b9\u6545\u969c\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u4f1a\u4e22\u5931\u5c1a\u672a\u540c\u6b65\u5230\u4ece\u8282\u70b9\u7684\u6570\u636e\u3002</p> <ul> <li>\u540c\u6b65\u590d\u5236\uff1a</li> <li>\u5b9a\u4e49\uff1a\u4e3b\u8282\u70b9\u5728\u5199\u5165\u6570\u636e\u540e\uff0c\u7b49\u5f85\u6240\u6709\u4ece\u8282\u70b9\u786e\u8ba4\u6570\u636e\u5199\u5165\u540e\u624d\u8fd4\u56de\u5ba2\u6237\u7aef\u3002</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u6570\u636e\u4e00\u81f4\u6027\u9ad8\uff1a\u4e3b\u8282\u70b9\u548c\u4ece\u8282\u70b9\u7684\u6570\u636e\u5b8c\u5168\u4e00\u81f4\u3002</li> </ul> </li> <li>\u7f3a\u70b9\uff1a<ul> <li>\u6027\u80fd\u8f83\u4f4e\uff1a\u4e3b\u8282\u70b9\u9700\u8981\u7b49\u5f85\u6240\u6709\u4ece\u8282\u70b9\u7684\u786e\u8ba4\uff0c\u53ef\u80fd\u5bfc\u81f4\u5ef6\u8fdf\u589e\u52a0\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#70-redis","title":"70. Redis \u4e8b\u52a1\u7684\u4f7f\u7528\u573a\u666f\u4e0e\u9650\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u4e8b\u52a1\u9002\u5408\u4ec0\u4e48\u573a\u666f\uff1f\u6709\u54ea\u4e9b\u9650\u5236\u548c\u5e38\u89c1\u8bef\u533a\uff1f</p> <p>\u56de\u7b54\uff1a - \u4f7f\u7528\u573a\u666f\uff1a   - \u7b80\u5355\u64cd\u4f5c\uff1a\u9002\u7528\u4e8e\u9700\u8981\u6309\u987a\u5e8f\u6267\u884c\u591a\u4e2a Redis \u547d\u4ee4\u7684\u573a\u666f\uff0c\u4f8b\u5982\u6279\u91cf\u66f4\u65b0\u64cd\u4f5c\u3002   - \u6570\u636e\u4e00\u81f4\u6027\uff1a\u5728\u9700\u8981\u786e\u4fdd\u547d\u4ee4\u6309\u987a\u5e8f\u6267\u884c\u7684\u573a\u666f\u4e2d\uff0c\u4e8b\u52a1\u53ef\u4ee5\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u3002</p> <ul> <li>\u9650\u5236\u548c\u8bef\u533a\uff1a</li> <li>\u4e0d\u652f\u6301\u56de\u6eda\uff1aRedis \u7684\u4e8b\u52a1\u4e0d\u652f\u6301\u56de\u6eda\uff0c\u5982\u679c\u67d0\u4e2a\u547d\u4ee4\u5931\u8d25\uff0c\u4e4b\u524d\u7684\u547d\u4ee4\u4ecd\u7136\u4f1a\u88ab\u6267\u884c\u3002</li> <li>\u6ca1\u6709\u9694\u79bb\u6027\uff1a\u4e8b\u52a1\u4e2d\u7684\u547d\u4ee4\u4e0d\u4f1a\u88ab\u5176\u4ed6\u547d\u4ee4\u6253\u65ad\uff0c\u4f46\u5728\u4e8b\u52a1\u5916\u7684\u547d\u4ee4\u4ecd\u7136\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002</li> <li>\u4e8b\u52a1\u4e0d\u53ef\u89c1\uff1a\u4e8b\u52a1\u4e2d\u7684\u547d\u4ee4\u5728\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u524d\u4e0d\u53ef\u89c1\uff0c\u4e0d\u652f\u6301\u4e8b\u52a1\u7ea7\u522b\u7684\u8bfb\u53d6\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#71-redis-cluster","title":"71. Redis Cluster \u7684\u6570\u636e\u5206\u5e03\u4e0e\u5206\u7247\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis Cluster \u5982\u4f55\u8fdb\u884c\u6570\u636e\u5206\u5e03\u548c\u5206\u7247\uff1f\u5206\u7247\u7b56\u7565\u7684\u4f18\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u5206\u5e03\u4e0e\u5206\u7247\uff1a   - \u54c8\u5e0c\u69fd\uff1aRedis Cluster \u4f7f\u7528 16384 \u4e2a\u54c8\u5e0c\u69fd\u5c06\u6570\u636e\u5206\u7247\uff0c\u6bcf\u4e2a\u8282\u70b9\u8d1f\u8d23\u4e00\u90e8\u5206\u54c8\u5e0c\u69fd\u3002   - \u5206\u7247\u7b56\u7565\uff1a\u952e\u901a\u8fc7\u54c8\u5e0c\u7b97\u6cd5\u5206\u914d\u5230\u4e0d\u540c\u7684\u54c8\u5e0c\u69fd\uff0c\u4ece\u800c\u5b9e\u73b0\u6570\u636e\u7684\u5206\u7247\u3002</p> <ul> <li>\u4f18\u7f3a\u70b9\uff1a</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u6a2a\u5411\u6269\u5c55\uff1a\u901a\u8fc7\u589e\u52a0\u8282\u70b9\u6570\u91cf\u6765\u6269\u5c55\u96c6\u7fa4\u7684\u5bb9\u91cf\u548c\u6027\u80fd\u3002</li> <li>\u9ad8\u53ef\u7528\u6027\uff1a\u652f\u6301\u4e3b\u4ece\u590d\u5236\u548c\u6545\u969c\u8f6c\u79fb\uff0c\u63d0\u4f9b\u6570\u636e\u7684\u9ad8\u53ef\u7528\u6027\u3002</li> </ul> </li> <li>\u7f3a\u70b9\uff1a<ul> <li>\u590d\u6742\u6027\u9ad8\uff1a\u9700\u8981\u7ba1\u7406\u54c8\u5e0c\u69fd\u548c\u8282\u70b9\uff0c\u914d\u7f6e\u548c\u7ef4\u62a4\u590d\u6742\u3002</li> <li>\u6570\u636e\u8fc1\u79fb\uff1a\u5728\u8282\u70b9\u6dfb\u52a0\u6216\u79fb\u9664\u65f6\uff0c\u9700\u8981\u91cd\u65b0\u5206\u914d\u54c8\u5e0c\u69fd\uff0c\u53ef\u80fd\u5f71\u54cd\u6027\u80fd\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#72-redis","title":"72. Redis \u6570\u636e\u7c7b\u578b\u7684\u5b58\u50a8\u548c\u68c0\u7d22","text":"<p>\u95ee\u9898\uff1a Redis \u652f\u6301\u54ea\u4e9b\u6570\u636e\u7c7b\u578b\uff1f\u4e0d\u540c\u6570\u636e\u7c7b\u578b\u7684\u5b58\u50a8\u548c\u68c0\u7d22\u6027\u80fd\u5982\u4f55\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u7c7b\u578b\uff1a   - \u5b57\u7b26\u4e32\uff08String\uff09\uff1a\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7528\u4e8e\u5b58\u50a8\u7b80\u5355\u7684\u952e\u503c\u5bf9\u3002\u6027\u80fd\u8f83\u9ad8\uff0c\u9002\u7528\u4e8e\u5b58\u50a8\u7f13\u5b58\u6570\u636e\u3002   - \u54c8\u5e0c\uff08Hash\uff09\uff1a\u7528\u4e8e\u5b58\u50a8\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff0c\u9002\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\u5c5e\u6027\u3002\u6027\u80fd\u4f18\u8d8a\uff0c\u9002\u5408\u4e8e\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\u3002   - \u5217\u8868\uff08List\uff09\uff1a\u6709\u5e8f\u7684\u5b57\u7b26\u4e32\u96c6\u5408\uff0c\u652f\u6301\u5728\u4e24\u7aef\u63a8\u9001\u548c\u5f39\u51fa\u64cd\u4f5c\uff0c\u9002\u7528\u4e8e\u6d88\u606f\u961f\u5217\u7b49\u573a\u666f\u3002   - \u96c6\u5408\uff08Set\uff09\uff1a\u65e0\u5e8f\u7684\u5b57\u7b26\u4e32\u96c6\u5408\uff0c\u652f\u6301\u96c6\u5408\u8fd0\u7b97\uff08\u5982\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\uff09\uff0c\u9002\u7528\u4e8e\u53bb\u91cd\u548c\u96c6\u5408\u64cd\u4f5c\u3002   - \u6709\u5e8f\u96c6\u5408\uff08Sorted Set\uff09\uff1a\u5e26\u6709\u5206\u6570\u7684\u6709\u5e8f\u96c6\u5408\uff0c\u652f\u6301\u6309\u5206\u6570\u6392\u5e8f\uff0c\u9002\u7528\u4e8e\u6392\u884c\u699c\u548c\u4f18\u5148\u961f\u5217\u3002   - \u4f4d\u56fe\uff08Bitmap\uff09\uff1a\u7528\u4e8e\u5b58\u50a8\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u9002\u7528\u4e8e\u7edf\u8ba1\u548c\u8ba1\u6570\u64cd\u4f5c\u3002   - \u8d85\u65e5\u5fd7\uff08HyperLogLog\uff09\uff1a\u7528\u4e8e\u4f30\u7b97\u552f\u4e00\u5143\u7d20\u7684\u6570\u91cf\uff0c\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u6570\u636e\u7684\u7edf\u8ba1\u3002</p> <ul> <li>\u6027\u80fd\uff1a</li> <li>\u5b57\u7b26\u4e32\uff1a\u5b58\u50a8\u548c\u68c0\u7d22\u6027\u80fd\u6700\u9ad8\u3002</li> <li>\u54c8\u5e0c\uff1a\u9002\u5408\u5b58\u50a8\u548c\u68c0\u7d22\u5927\u91cf\u5b57\u6bb5\uff0c\u4f46\u4f1a\u6d88\u8017\u66f4\u591a\u7684\u5185\u5b58\u3002</li> <li>\u5217\u8868\uff1a\u652f\u6301\u9ad8\u6548\u7684\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\uff0c\u4f46\u68c0\u7d22\u64cd\u4f5c\u6027\u80fd\u8f83\u4f4e\u3002</li> <li>\u96c6\u5408\uff1a\u652f\u6301\u9ad8\u6548\u7684\u96c6\u5408\u64cd\u4f5c\uff0c\u4f46\u9700\u8981\u66f4\u591a\u7684\u5185\u5b58\u3002</li> <li>\u6709\u5e8f\u96c6\u5408\uff1a\u652f\u6301\u9ad8\u6548\u7684\u6392\u5e8f\u548c\u6392\u540d\u64cd\u4f5c\uff0c\u4f46\u64cd\u4f5c\u590d\u6742\u5ea6\u8f83\u9ad8\u3002</li> <li>\u4f4d\u56fe\u548c\u8d85\u65e5\u5fd7\uff1a\u9002\u5408\u5927\u89c4\u6a21\u6570\u636e\u7edf\u8ba1\uff0c\u4f46\u4e0d\u652f\u6301\u5177\u4f53\u7684\u5143\u7d20\u5b58\u50a8\u548c\u68c0\u7d22\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#73-redis","title":"73. Redis \u7684\u6301\u4e45\u5316\u7b56\u7565\u5bf9\u6027\u80fd\u7684\u5f71\u54cd","text":"<p>\u95ee\u9898\uff1a Redis \u652f\u6301\u54ea\u4e9b\u6301\u4e45\u5316\u7b56\u7565\uff1f\u8fd9\u4e9b\u7b56\u7565\u5982\u4f55\u5f71\u54cd Redis \u7684\u6027\u80fd\uff1f</p> <p>\u56de\u7b54\uff1a - \u6301\u4e45\u5316\u7b56\u7565\uff1a   - RDB\uff08\u5feb\u7167\uff09\uff1a\u5468\u671f\u6027\u5730\u751f\u6210\u6570\u636e\u5feb\u7167\uff0c\u4fdd\u5b58\u5230\u78c1\u76d8\u3002   - AOF\uff08\u8ffd\u52a0\u6587\u4ef6\uff09\uff1a\u8bb0\u5f55\u6bcf\u4e2a\u5199\u64cd\u4f5c\uff0c\u5e76\u5c06\u5176\u8ffd\u52a0\u5230 AOF \u6587\u4ef6\u4e2d\u3002   - RDB + AOF \u6df7\u5408\u6a21\u5f0f\uff1a\u7ed3\u5408 RDB \u548c AOF \u7684\u4f18\u70b9\uff0c\u63d0\u4f9b\u6570\u636e\u6301\u4e45\u6027\u548c\u6062\u590d\u80fd\u529b\u3002</p> <ul> <li>\u6027\u80fd\u5f71\u54cd\uff1a</li> <li>RDB\uff1a<ul> <li>\u4f18\u70b9\uff1a\u5bf9\u6027\u80fd\u5f71\u54cd\u8f83\u5c0f\uff0c\u5feb\u7167\u751f\u6210\u65f6\u4e0d\u4f1a\u5f71\u54cd\u6b63\u5e38\u64cd\u4f5c\u3002</li> <li>\u7f3a\u70b9\uff1a\u751f\u6210\u5feb\u7167\u65f6\u4f1a\u6682\u505c\u5199\u64cd\u4f5c\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</li> </ul> </li> <li>AOF\uff1a<ul> <li>\u4f18\u70b9\uff1a\u63d0\u4f9b\u66f4\u9ad8\u7684\u6570\u636e\u6301\u4e45\u6027\uff0c\u652f\u6301\u66f4\u7ec6\u7c92\u5ea6\u7684\u6062\u590d\u3002</li> <li>\u7f3a\u70b9\uff1a\u5199\u5165\u6027\u80fd\u8f83\u4f4e\uff0cAOF \u6587\u4ef6\u589e\u957f\u53ef\u80fd\u5f71\u54cd\u6027\u80fd\u3002</li> </ul> </li> <li>RDB + AOF\uff1a<ul> <li>\u4f18\u70b9\uff1a\u7ed3\u5408\u4e86 RDB \u548c AOF \u7684\u4f18\u70b9\uff0c\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u548c\u6027\u80fd\u3002</li> <li>\u7f3a\u70b9\uff1a\u914d\u7f6e\u590d\u6742\uff0c\u9700\u8981\u5408\u7406\u8bbe\u7f6e\u53c2\u6570\u4ee5\u5e73\u8861\u6027\u80fd\u548c\u6301\u4e45\u6027\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#74-redis","title":"74. Redis \u4e0e\u5176\u4ed6\u7f13\u5b58\u6280\u672f\u7684\u6bd4\u8f83","text":"<p>\u95ee\u9898\uff1a Redis \u4e0e Memcached\u3001Ehcache \u7b49\u5176\u4ed6\u7f13\u5b58\u6280\u672f\u76f8\u6bd4\uff0c\u6709\u54ea\u4e9b\u4f18\u52bf\u548c\u52a3\u52bf\uff1f</p> <p>\u56de\u7b54\uff1a - Redis\uff1a   - \u4f18\u52bf\uff1a     - \u4e30\u5bcc\u7684\u6570\u636e\u7c7b\u578b\uff1a\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u5982\u54c8\u5e0c\u3001\u5217\u8868\u3001\u96c6\u5408\u7b49\u3002     - \u9ad8\u53ef\u7528\u6027\uff1a\u652f\u6301\u4e3b\u4ece\u590d\u5236\u3001Sentinel \u548c Cluster\uff0c\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u548c\u6545\u969c\u8f6c\u79fb\u3002     - \u6301\u4e45\u5316\u652f\u6301\uff1a\u652f\u6301 RDB\u3001AOF \u548c\u6df7\u5408\u6a21\u5f0f\u7684\u6570\u636e\u6301\u4e45\u5316\u3002   - \u52a3\u52bf\uff1a     - \u5185\u5b58\u6d88\u8017\uff1a\u6bd4\u4e00\u4e9b\u5176\u4ed6\u7f13\u5b58\u6280\u672f\u66f4\u9ad8\u7684\u5185\u5b58\u6d88\u8017\u3002     - \u590d\u6742\u6027\uff1a\u914d\u7f6e\u548c\u7ef4\u62a4\u8f83\u590d\u6742\uff0c\u7279\u522b\u662f\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u3002</p> <ul> <li>Memcached\uff1a</li> <li>\u4f18\u52bf\uff1a<ul> <li>\u7b80\u5355\u6613\u7528\uff1a\u8bbe\u8ba1\u7b80\u5355\uff0c\u6613\u4e8e\u5b89\u88c5\u548c\u4f7f\u7528\u3002</li> <li>\u6027\u80fd\u9ad8\uff1a\u5185\u5b58\u8bbf\u95ee\u901f\u5ea6\u5feb\uff0c\u9002\u5408\u9ad8\u5e76\u53d1\u7684\u7f13\u5b58\u9700\u6c42\u3002</li> </ul> </li> <li> <p>\u52a3\u52bf\uff1a</p> <ul> <li>\u6570\u636e\u7c7b\u578b\u6709\u9650\uff1a\u4ec5\u652f\u6301\u7b80\u5355\u7684\u952e\u503c\u5bf9\u5b58\u50a8\uff0c\u4e0d\u652f\u6301\u590d\u6742\u6570\u636e\u7c7b\u578b\u3002</li> <li>\u65e0\u6301\u4e45\u5316\uff1a\u4e0d\u652f\u6301\u6570\u636e\u6301\u4e45\u5316\uff0c\u6570\u636e\u4e22\u5931\u98ce\u9669\u8f83\u9ad8\u3002</li> </ul> </li> <li> <p>Ehcache\uff1a</p> </li> <li>\u4f18\u52bf\uff1a<ul> <li>\u4e0e Java \u96c6\u6210\uff1a\u4e0e Java \u5e94\u7528\u7a0b\u5e8f\u96c6\u6210\u826f\u597d\uff0c\u652f\u6301\u591a\u79cd\u7f13\u5b58\u7b56\u7565\u3002</li> <li>\u6301\u4e45\u5316\u652f\u6301\uff1a\u652f\u6301\u5185\u5b58\u548c\u78c1\u76d8\u6301\u4e45\u5316\u3002</li> </ul> </li> <li>\u52a3\u52bf\uff1a<ul> <li>\u5206\u5e03\u5f0f\u652f\u6301\uff1a\u4e0d\u5982 Redis \u7684\u5206\u5e03\u5f0f\u652f\u6301\u5f3a\u5927\uff0c\u6269\u5c55\u6027\u8f83\u5dee\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#75-redis","title":"75. Redis \u7684\u5b89\u5168\u6027\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u5b89\u5168\u6027\u5982\u4f55\u4fdd\u969c\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u5b89\u5168\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848\uff1f</p> <p>\u56de\u7b54\uff1a - \u5e38\u89c1\u5b89\u5168\u95ee\u9898\uff1a   - \u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b Redis \u4e0d\u9650\u5236\u8bbf\u95ee\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u3002   - \u6570\u636e\u6cc4\u9732\uff1aRedis \u53ef\u80fd\u4f1a\u6cc4\u9732\u654f\u611f\u6570\u636e\uff0c\u7279\u522b\u662f\u5728\u914d\u7f6e\u4e0d\u5f53\u7684\u60c5\u51b5\u4e0b\u3002   - \u6ce8\u5165\u653b\u51fb\uff1aRedis \u547d\u4ee4\u6ce8\u5165\u53ef\u80fd\u5bfc\u81f4\u5b89\u5168\u6f0f\u6d1e\u3002</p> <ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a</li> <li>\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801\uff1a\u901a\u8fc7\u914d\u7f6e <code>requirepass</code> \u53c2\u6570\u8bbe\u7f6e\u8bbf\u95ee\u5bc6\u7801\uff0c\u9650\u5236\u8bbf\u95ee\u6743\u9650\u3002</li> <li>\u9650\u5236 IP \u5730\u5740\uff1a\u901a\u8fc7\u914d\u7f6e <code>bind</code> \u53c2\u6570\u9650\u5236 Redis \u4ec5\u5141\u8bb8\u6307\u5b9a IP \u5730\u5740\u8bbf\u95ee\u3002</li> <li>\u4f7f\u7528\u9632\u706b\u5899\uff1a\u914d\u7f6e\u9632\u706b\u5899\u89c4\u5219\uff0c\u9650\u5236 Redis \u7684\u8bbf\u95ee\u7aef\u53e3\u3002</li> <li>\u52a0\u5bc6\u901a\u4fe1\uff1a\u4f7f\u7528 TLS/SSL \u5bf9 Redis \u7684\u901a\u4fe1\u8fdb\u884c\u52a0\u5bc6\uff0c\u4fdd\u62a4\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\u3002</li> </ul> <p>\u7ee7\u7eed\u6df1\u5165 Redis \u5927\u5382\u9762\u8bd5\u9898\uff0c\u6d89\u53ca\u66f4\u7ec6\u5316\u548c\u4e13\u4e1a\u5316\u7684\u5185\u5bb9\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#76-redis-keyspace-notifications","title":"76. Redis \u6570\u636e\u5e93\u7684\u952e\u7a7a\u95f4\u901a\u77e5\uff08Keyspace Notifications\uff09","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u952e\u7a7a\u95f4\u901a\u77e5\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u914d\u7f6e\u548c\u4f7f\u7528\u952e\u7a7a\u95f4\u901a\u77e5\uff1f</p> <p>\u56de\u7b54\uff1a - \u952e\u7a7a\u95f4\u901a\u77e5\uff1a   - \u5b9a\u4e49\uff1a\u952e\u7a7a\u95f4\u901a\u77e5\u662f Redis \u63d0\u4f9b\u7684\u4e00\u79cd\u673a\u5236\uff0c\u7528\u4e8e\u5728\u952e\u7684\u751f\u547d\u5468\u671f\uff08\u5982\u8fc7\u671f\u3001\u5220\u9664\uff09\u53d1\u751f\u53d8\u5316\u65f6\u901a\u77e5\u5ba2\u6237\u7aef\u3002   - \u7528\u9014\uff1a\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u7f13\u5b58\u5931\u6548\u56de\u8c03\u3001\u6570\u636e\u540c\u6b65\u7b49\u529f\u80fd\u3002</p> <ul> <li>\u914d\u7f6e\uff1a</li> <li>\u5f00\u542f\u901a\u77e5\uff1a\u901a\u8fc7 <code>notify-keyspace-events</code> \u914d\u7f6e\u9879\u5f00\u542f\u901a\u77e5\u529f\u80fd\u3002\u914d\u7f6e\u683c\u5f0f\u4e3a <code>notify-keyspace-events &lt;event_types&gt;</code>\uff0c\u5176\u4e2d <code>&lt;event_types&gt;</code> \u53ef\u4ee5\u662f\u4ee5\u4e0b\u5b57\u7b26\u7684\u7ec4\u5408\uff1a<ul> <li><code>K</code>\uff1a\u952e\u7a7a\u95f4\u4e8b\u4ef6\uff08\u5982\u8fc7\u671f\u3001\u5220\u9664\uff09\u3002</li> <li><code>E</code>\uff1a\u952e\u4e8b\u4ef6\uff08\u5982\u8fc7\u671f\uff09\u3002</li> <li><code>g</code>\uff1a\u6240\u6709\u4e8b\u4ef6\u3002</li> </ul> </li> <li> <p>\u793a\u4f8b\uff1a     <code>sh     notify-keyspace-events KE</code>     \u8fd9\u4e2a\u914d\u7f6e\u4f1a\u542f\u7528\u952e\u8fc7\u671f\u548c\u5220\u9664\u4e8b\u4ef6\u7684\u901a\u77e5\u3002</p> </li> <li> <p>\u4f7f\u7528\uff1a</p> </li> <li>\u8ba2\u9605\uff1a\u4f7f\u7528 Redis \u53d1\u5e03/\u8ba2\u9605\u673a\u5236\uff0c\u901a\u8fc7 <code>PSUBSCRIBE</code> \u547d\u4ee4\u8ba2\u9605\u76f8\u5173\u7684\u4e8b\u4ef6\u9891\u9053\u3002\u4f8b\u5982\uff0c\u8ba2\u9605\u952e\u8fc7\u671f\u4e8b\u4ef6\uff1a     <code>sh     PSUBSCRIBE __keyevent@0__:expired</code>     \u8fd9\u5c06\u8ba2\u9605\u6570\u636e\u5e93 0 \u4e2d\u952e\u8fc7\u671f\u4e8b\u4ef6\u7684\u901a\u77e5\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#77-redis-lru","title":"77. Redis \u7684 LRU \u8fc7\u671f\u7b56\u7565\u548c\u5185\u5b58\u7ba1\u7406","text":"<p>\u95ee\u9898\uff1a Redis \u7684 LRU \u8fc7\u671f\u7b56\u7565\u5982\u4f55\u5de5\u4f5c\uff1f\u5982\u4f55\u8fdb\u884c\u5185\u5b58\u7ba1\u7406\u548c\u4f18\u5316\uff1f</p> <p>\u56de\u7b54\uff1a - LRU \u8fc7\u671f\u7b56\u7565\uff1a   - \u5b9a\u4e49\uff1aLRU\uff08Least Recently Used\uff09\u7b56\u7565\u7528\u4e8e\u6dd8\u6c70\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u952e\uff0c\u4ee5\u817e\u51fa\u7a7a\u95f4\u3002   - \u914d\u7f6e\uff1a\u901a\u8fc7 <code>maxmemory-policy</code> \u914d\u7f6e\u9879\u8bbe\u7f6e\u7f13\u5b58\u6dd8\u6c70\u7b56\u7565\uff0c\u5305\u62ec <code>allkeys-lru</code> \u548c <code>volatile-lru</code> \u7b49\u3002     - <code>allkeys-lru</code>\uff1a\u5bf9\u6240\u6709\u952e\u4f7f\u7528 LRU \u7b56\u7565\u3002     - <code>volatile-lru</code>\uff1a\u4ec5\u5bf9\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u4f7f\u7528 LRU \u7b56\u7565\u3002</p> <ul> <li>\u5185\u5b58\u7ba1\u7406\u4e0e\u4f18\u5316\uff1a</li> <li>\u8bbe\u7f6e\u5185\u5b58\u9650\u5236\uff1a\u901a\u8fc7 <code>maxmemory</code> \u914d\u7f6e\u9879\u8bbe\u7f6e Redis \u5b9e\u4f8b\u7684\u6700\u5927\u5185\u5b58\u9650\u5236\u3002</li> <li>\u9009\u62e9\u6dd8\u6c70\u7b56\u7565\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff0c\u5982 LRU\u3001LFU \u6216\u968f\u673a\u6dd8\u6c70\u3002</li> <li>\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\uff1a\u4f7f\u7528 <code>INFO memory</code> \u547d\u4ee4\u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u786e\u4fdd\u5185\u5b58\u914d\u7f6e\u5408\u7406\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#78-redis","title":"78. Redis \u7684\u5907\u4efd\u4e0e\u6062\u590d\u4e2d\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u95ee\u9898","text":"<p>\u95ee\u9898\uff1a \u5728 Redis \u7684\u5907\u4efd\u548c\u6062\u590d\u8fc7\u7a0b\u4e2d\uff0c\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e00\u81f4\u6027\uff1a   - \u4f7f\u7528 AOF\uff1a\u901a\u8fc7 AOF \u6587\u4ef6\u8bb0\u5f55\u6bcf\u4e2a\u5199\u64cd\u4f5c\uff0c\u786e\u4fdd\u6570\u636e\u7684\u8fde\u7eed\u6027\u548c\u4e00\u81f4\u6027\u3002   - \u7981\u7528\u5199\u64cd\u4f5c\uff1a\u5728\u5907\u4efd\u8fc7\u7a0b\u4e2d\uff0c\u7981\u7528\u5199\u64cd\u4f5c\uff0c\u4ee5\u786e\u4fdd\u5907\u4efd\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u5b8c\u6574\u6027\uff1a</li> <li>\u6821\u9a8c\u5907\u4efd\u6587\u4ef6\uff1a\u4f7f\u7528\u5de5\u5177\uff08\u5982 <code>redis-check-aof</code>\uff09\u68c0\u67e5 AOF \u6587\u4ef6\u7684\u5b8c\u6574\u6027\uff0c\u786e\u4fdd\u5907\u4efd\u6587\u4ef6\u672a\u635f\u574f\u3002</li> <li>\u5b9a\u671f\u5907\u4efd\uff1a\u5b9a\u671f\u751f\u6210 RDB \u548c AOF \u6587\u4ef6\u7684\u5907\u4efd\uff0c\u786e\u4fdd\u6570\u636e\u6062\u590d\u65f6\u7684\u5b8c\u6574\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#79-redis-hyperloglog","title":"79. Redis \u7684 HyperLogLog \u6570\u636e\u7ed3\u6784\u7684\u5e94\u7528\u573a\u666f","text":"<p>\u95ee\u9898\uff1a Redis \u7684 HyperLogLog \u6570\u636e\u7ed3\u6784\u9002\u7528\u4e8e\u4ec0\u4e48\u573a\u666f\uff1f\u5982\u4f55\u4f7f\u7528\u5b83\u8fdb\u884c\u5927\u89c4\u6a21\u6570\u636e\u7edf\u8ba1\uff1f</p> <p>\u56de\u7b54\uff1a - \u5e94\u7528\u573a\u666f\uff1a   - \u552f\u4e00\u8ba1\u6570\uff1a\u9002\u7528\u4e8e\u9700\u8981\u7edf\u8ba1\u5927\u89c4\u6a21\u552f\u4e00\u5143\u7d20\u6570\u91cf\u7684\u573a\u666f\uff0c\u5982\u7528\u6237\u8bbf\u95ee\u91cf\u3001\u72ec\u7acb\u7528\u6237\u7edf\u8ba1\u7b49\u3002   - \u9ad8\u6548\u7edf\u8ba1\uff1a\u9002\u5408\u9700\u8981\u9ad8\u6548\u3001\u4f4e\u5185\u5b58\u6d88\u8017\u8fdb\u884c\u6570\u636e\u7edf\u8ba1\u7684\u573a\u666f\u3002</p> <ul> <li>\u4f7f\u7528\u65b9\u6cd5\uff1a</li> <li>\u6dfb\u52a0\u5143\u7d20\uff1a\u4f7f\u7528 <code>PFADD</code> \u547d\u4ee4\u5c06\u5143\u7d20\u6dfb\u52a0\u5230 HyperLogLog \u4e2d\u3002\u4f8b\u5982\uff1a     <code>sh     PFADD myHyperLogLog element1 element2</code></li> <li>\u83b7\u53d6\u4f30\u7b97\u503c\uff1a\u4f7f\u7528 <code>PFCOUNT</code> \u547d\u4ee4\u83b7\u53d6\u4f30\u7b97\u7684\u552f\u4e00\u5143\u7d20\u6570\u91cf\u3002\u4f8b\u5982\uff1a     <code>sh     PFCOUNT myHyperLogLog</code></li> <li>\u793a\u4f8b\uff1a\u7edf\u8ba1\u7f51\u7ad9\u7684\u72ec\u7acb\u8bbf\u5ba2\u6570\u91cf\uff0c\u4f7f\u7528 HyperLogLog \u8fdb\u884c\u9ad8\u6548\u4f30\u7b97\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#80-redis","title":"80. Redis \u6570\u636e\u5e93\u7684\u96c6\u7fa4\u7ba1\u7406\u4e0e\u6545\u969c\u6062\u590d","text":"<p>\u95ee\u9898\uff1a Redis \u96c6\u7fa4\u7684\u7ba1\u7406\u548c\u6545\u969c\u6062\u590d\u7b56\u7565\u662f\u4ec0\u4e48\uff1f\u5982\u4f55\u786e\u4fdd\u96c6\u7fa4\u7684\u9ad8\u53ef\u7528\u6027\u548c\u7a33\u5b9a\u6027\uff1f</p> <p>\u56de\u7b54\uff1a - \u96c6\u7fa4\u7ba1\u7406\uff1a   - \u8282\u70b9\u76d1\u63a7\uff1a\u4f7f\u7528 Redis \u7684\u76d1\u63a7\u5de5\u5177\u6216\u7b2c\u4e09\u65b9\u76d1\u63a7\u7cfb\u7edf\u76d1\u63a7\u96c6\u7fa4\u8282\u70b9\u7684\u72b6\u6001\u3002   - \u6570\u636e\u8fc1\u79fb\uff1a\u5728\u6dfb\u52a0\u6216\u79fb\u9664\u8282\u70b9\u65f6\uff0c\u5408\u7406\u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u548c\u54c8\u5e0c\u69fd\u8c03\u6574\u3002   - \u914d\u7f6e\u7ba1\u7406\uff1a\u4fdd\u6301\u96c6\u7fa4\u914d\u7f6e\u7684\u4e00\u81f4\u6027\uff0c\u5b9a\u671f\u68c0\u67e5\u914d\u7f6e\u548c\u8282\u70b9\u72b6\u6001\u3002</p> <ul> <li>\u6545\u969c\u6062\u590d\uff1a</li> <li>\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u4f7f\u7528 Redis Sentinel \u6216 Redis Cluster \u7684\u6545\u969c\u8f6c\u79fb\u529f\u80fd\uff0c\u81ea\u52a8\u68c0\u6d4b\u6545\u969c\u5e76\u5207\u6362\u5230\u5907\u4efd\u8282\u70b9\u3002</li> <li>\u5907\u4efd\u6062\u590d\uff1a\u5b9a\u671f\u5907\u4efd Redis \u6570\u636e\uff0c\u786e\u4fdd\u5728\u6545\u969c\u53d1\u751f\u65f6\u53ef\u4ee5\u901a\u8fc7\u5907\u4efd\u6062\u590d\u6570\u636e\u3002</li> <li>\u8282\u70b9\u91cd\u5efa\uff1a\u5728\u8282\u70b9\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u901a\u8fc7\u5907\u4efd\u6570\u636e\u91cd\u5efa\u8282\u70b9\uff0c\u6062\u590d\u96c6\u7fa4\u7684\u6b63\u5e38\u8fd0\u884c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#81-redis","title":"81. Redis \u7684\u4e8b\u52a1\u9694\u79bb\u4e0e\u5e76\u53d1\u63a7\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u4e8b\u52a1\u5982\u4f55\u5904\u7406\u5e76\u53d1\u64cd\u4f5c\uff1f\u662f\u5426\u652f\u6301\u4e8b\u52a1\u9694\u79bb\uff1f\u5982\u4f55\u63a7\u5236\u5e76\u53d1\uff1f</p> <p>\u56de\u7b54\uff1a - \u4e8b\u52a1\u5904\u7406\u5e76\u53d1\uff1a   - \u5355\u7ebf\u7a0b\u6a21\u578b\uff1aRedis \u4f7f\u7528\u5355\u7ebf\u7a0b\u5904\u7406\u6240\u6709\u547d\u4ee4\uff0c\u786e\u4fdd\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u548c\u987a\u5e8f\u6027\uff0c\u4ece\u800c\u907f\u514d\u4e86\u5e76\u53d1\u95ee\u9898\u3002   - \u4e8b\u52a1\u547d\u4ee4\uff1a\u4f7f\u7528 <code>MULTI</code>\u3001<code>EXEC</code>\u3001<code>WATCH</code> \u7b49\u547d\u4ee4\u6765\u7ba1\u7406\u4e8b\u52a1\uff0c\u786e\u4fdd\u4e00\u7cfb\u5217\u547d\u4ee4\u6309\u987a\u5e8f\u6267\u884c\u3002</p> <ul> <li>\u4e8b\u52a1\u9694\u79bb\uff1a</li> <li>\u9694\u79bb\u7ea7\u522b\uff1aRedis \u7684\u4e8b\u52a1\u4e0d\u652f\u6301\u4f20\u7edf\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u5982\u8bfb\u5df2\u63d0\u4ea4\u3001\u53ef\u91cd\u590d\u8bfb\u7b49\u3002\u4e8b\u52a1\u4e2d\u7684\u547d\u4ee4\u5728\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u524d\u4e0d\u53ef\u89c1\u3002</li> <li>\u5e76\u53d1\u63a7\u5236\uff1a\u901a\u8fc7 <code>WATCH</code> \u547d\u4ee4\u5bf9\u952e\u8fdb\u884c\u76d1\u89c6\uff0c\u5b9e\u73b0\u4e50\u89c2\u9501\uff0c\u907f\u514d\u5e76\u53d1\u64cd\u4f5c\u5bfc\u81f4\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#82-redis","title":"82. Redis \u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u96c6\u6210","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u5c06 Redis \u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u5982 MySQL\uff09\u96c6\u6210\uff1f\u5e38\u89c1\u7684\u96c6\u6210\u6a21\u5f0f\u548c\u6700\u4f73\u5b9e\u8df5\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a - \u96c6\u6210\u6a21\u5f0f\uff1a   - \u7f13\u5b58\u6a21\u5f0f\uff1a\u5c06 Redis \u4f5c\u4e3a\u6570\u636e\u5e93\u7684\u7f13\u5b58\u5c42\uff0c\u7528\u4e8e\u52a0\u901f\u6570\u636e\u8bfb\u53d6\u64cd\u4f5c\u3002\u4f8b\u5982\uff0c\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\u4ee5\u51cf\u5c11\u6570\u636e\u5e93\u8bbf\u95ee\u3002   - \u6570\u636e\u540c\u6b65\uff1a\u901a\u8fc7\u5e94\u7528\u5c42\u903b\u8f91\u6216\u4e2d\u95f4\u4ef6\u5b9e\u73b0 Redis \u548c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u6570\u636e\u540c\u6b65\uff0c\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u6700\u4f73\u5b9e\u8df5\uff1a</li> <li>\u6570\u636e\u4e00\u81f4\u6027\uff1a\u786e\u4fdd\u7f13\u5b58\u548c\u6570\u636e\u5e93\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u907f\u514d\u6570\u636e\u5931\u6548\u6216\u4e0d\u4e00\u81f4\u3002</li> <li>\u7f13\u5b58\u5931\u6548\u7b56\u7565\uff1a\u8bbe\u7f6e\u5408\u7406\u7684\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u548c\u66f4\u65b0\u7b56\u7565\uff0c\u786e\u4fdd\u7f13\u5b58\u6570\u636e\u7684\u51c6\u786e\u6027\u3002</li> <li>\u76d1\u63a7\u4e0e\u62a5\u8b66\uff1a\u76d1\u63a7 Redis \u548c\u6570\u636e\u5e93\u7684\u6027\u80fd\u548c\u72b6\u6001\uff0c\u8bbe\u7f6e\u62a5\u8b66\u673a\u5236\u4ee5\u4fbf\u53ca\u65f6\u53d1\u73b0\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#83-redis","title":"83. Redis \u7684\u96c6\u7fa4\u8282\u70b9\u5e73\u8861\u4e0e\u8d1f\u8f7d\u5747\u8861","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u5728 Redis \u96c6\u7fa4\u4e2d\u8fdb\u884c\u8282\u70b9\u5e73\u8861\u548c\u8d1f\u8f7d\u5747\u8861\uff1f\u6709\u54ea\u4e9b\u5de5\u5177\u548c\u7b56\u7565\u53ef\u4ee5\u4f7f\u7528\uff1f</p> <p>\u56de\u7b54\uff1a - \u8282\u70b9\u5e73\u8861\uff1a   - \u54c8\u5e0c\u69fd\u5206\u914d\uff1a\u901a\u8fc7\u8c03\u6574\u54c8\u5e0c\u69fd\u7684\u5206\u914d\uff0c\u5b9e\u73b0\u8282\u70b9\u95f4\u7684\u6570\u636e\u5e73\u8861\u3002Redis Cluster \u63d0\u4f9b\u4e86\u81ea\u52a8\u7684\u54c8\u5e0c\u69fd\u5206\u914d\u529f\u80fd\u3002   - \u6570\u636e\u8fc1\u79fb\uff1a\u5728\u8282\u70b9\u6dfb\u52a0\u6216\u79fb\u9664\u65f6\uff0c\u4f7f\u7528 Redis \u7684\u6570\u636e\u8fc1\u79fb\u529f\u80fd\uff0c\u91cd\u65b0\u5206\u914d\u6570\u636e\uff0c\u786e\u4fdd\u96c6\u7fa4\u8d1f\u8f7d\u5747\u8861\u3002</p> <ul> <li>\u8d1f\u8f7d\u5747\u8861\uff1a</li> <li>\u5ba2\u6237\u7aef\u8d1f\u8f7d\u5747\u8861\uff1a\u5728\u5e94\u7528\u5c42\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff0c\u4f7f\u7528\u5ba2\u6237\u7aef\u5e93\uff08\u5982 <code>redis-py</code>\u3001<code>Jedis</code>\uff09\u8fdb\u884c\u8bf7\u6c42\u7684\u8d1f\u8f7d\u5747\u8861\u3002</li> <li>\u4ee3\u7406\u8d1f\u8f7d\u5747\u8861\uff1a\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\uff08\u5982 Twemproxy\uff09\u5bf9 Redis \u96c6\u7fa4\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\uff0c\u7b80\u5316\u96c6\u7fa4\u7ba1\u7406\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#84-redis","title":"84. Redis \u7684\u5206\u5e03\u5f0f\u9501\u5b9e\u73b0","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f7f\u7528 Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1f\u6709\u54ea\u4e9b\u5b9e\u73b0\u65b9\u5f0f\u548c\u6ce8\u610f\u4e8b\u9879\uff1f</p> <p>\u56de\u7b54\uff1a - \u5b9e\u73b0\u65b9\u5f0f\uff1a   - SETNX \u547d\u4ee4\uff1a\u4f7f\u7528 <code>SETNX</code> \u547d\u4ee4\u521b\u5efa\u9501\uff0c\u786e\u4fdd\u53ea\u6709\u4e00\u4e2a\u5ba2\u6237\u7aef\u80fd\u591f\u6210\u529f\u83b7\u53d6\u9501\u3002\u4f8b\u5982\uff1a     <code>sh     SETNX lock_key unique_value</code>   - \u9501\u8d85\u65f6\uff1a\u8bbe\u7f6e\u9501\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u9632\u6b62\u6b7b\u9501\u73b0\u8c61\u3002\u4f8b\u5982\uff1a     <code>sh     SET lock_key unique_value NX PX 30000</code>   - \u91ca\u653e\u9501\uff1a\u5728\u6301\u6709\u9501\u7684\u5ba2\u6237\u7aef\u5b8c\u6210\u4efb\u52a1\u540e\uff0c\u5220\u9664\u9501\u3002\u4f8b\u5982\uff1a     <code>sh     DEL lock_key</code></p> <ul> <li>\u6ce8\u610f\u4e8b\u9879\uff1a</li> <li>\u9501\u7684\u8fc7\u671f\u65f6\u95f4\uff1a\u8bbe\u7f6e\u5408\u7406\u7684\u9501\u8fc7\u671f\u65f6\u95f4\uff0c\u907f\u514d\u957f\u65f6\u95f4\u6301\u6709\u9501\u5bfc\u81f4\u7684\u6b7b\u9501\u3002</li> <li>\u9501\u7684\u539f\u5b50\u6027\uff1a\u786e\u4fdd\u9501\u7684\u83b7\u53d6\u548c\u91ca\u653e\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u907f\u514d\u7ade\u6001\u6761\u4ef6\u5bfc\u81f4\u7684\u9501\u5931\u6548\u3002</li> <li>RedLock \u7b97\u6cd5\uff1a\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\uff0c\u4f7f\u7528 RedLock \u7b97\u6cd5\u786e\u4fdd\u9501\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#85-redis-stream","title":"85. Redis \u7684 Stream \u6570\u636e\u7ed3\u6784\u4e0e\u6d88\u606f\u961f\u5217","text":"<p>\u95ee\u9898\uff1a Redis \u7684 Stream \u6570\u636e\u7ed3\u6784\u5982\u4f55\u5de5\u4f5c\uff1f\u5982\u4f55\u4f7f\u7528 Stream \u5b9e\u73b0\u6d88\u606f\u961f\u5217\uff1f</p> <p>\u56de\u7b54\uff1a - Stream \u6570\u636e\u7ed3\u6784\uff1a   - \u5b9a\u4e49\uff1aStream \u662f Redis 5.0 \u5f15\u5165\u7684\u4e00\u79cd\u65b0\u578b\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5904\u7406\u5927\u89c4\u6a21\u7684\u6570\u636e\u6d41\u3002   - \u7279\u70b9\uff1a\u652f\u6301\u6d88\u606f\u7684\u6301\u4e45\u5316\u3001\u6d88\u8d39\u5206\u7ec4\u548c\u6d88\u8d39\u8ddf\u8e2a\uff0c\u9002\u5408\u9ad8\u541e\u5410\u91cf\u7684\u6570\u636e\u5904\u7406\u573a\u666f\u3002</p> <ul> <li>\u6d88\u606f\u961f\u5217\u7684\u5b9e\u73b0\uff1a</li> <li>\u6dfb\u52a0\u6d88\u606f\uff1a\u4f7f\u7528 <code>XADD</code> \u547d\u4ee4\u5411 Stream \u4e2d\u6dfb\u52a0\u6d88\u606f\u3002\u4f8b\u5982\uff1a     <code>sh     XADD mystream * field1 value1 field2 value2</code></li> <li>\u8bfb\u53d6\u6d88\u606f\uff1a\u4f7f\u7528 <code>XREAD</code> \u6216 <code>XREADGROUP</code> \u547d\u4ee4\u8bfb\u53d6\u6d88\u606f\u3002\u4f8b\u5982\uff1a     <code>sh     XREAD COUNT 10 STREAMS mystream 0</code></li> <li>\u6d88\u8d39\u7ec4\uff1a\u4f7f\u7528 <code>XGROUP</code> \u547d\u4ee4\u521b\u5efa\u6d88\u8d39\u7ec4\uff0c\u8ddf\u8e2a\u6bcf\u4e2a\u6d88\u8d39\u8005\u7684\u6d88\u606f\u5904\u7406\u8fdb\u5ea6\uff0c\u786e\u4fdd\u6d88\u606f\u4e0d\u4f1a\u91cd\u590d\u6d88\u8d39\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#86-redis-scripting-lua","title":"86. Redis \u7684 Scripting \u529f\u80fd\u4e0e Lua \u811a\u672c","text":"<p>\u95ee\u9898\uff1a Redis \u7684 Scripting \u529f\u80fd\u5982\u4f55\u5de5\u4f5c\uff1f\u5982\u4f55\u4f7f\u7528 Lua \u811a\u672c\u5b9e\u73b0\u590d\u6742\u64cd\u4f5c\uff1f</p> <p>\u56de\u7b54\uff1a - Scripting \u529f\u80fd\uff1a   - \u5b9a\u4e49\uff1aRedis \u652f\u6301\u4f7f\u7528 Lua \u811a\u672c\u6267\u884c\u590d\u6742\u7684\u539f\u5b50\u64cd\u4f5c\uff0c\u901a\u8fc7 <code>EVAL</code> \u547d\u4ee4\u6267\u884c Lua \u811a\u672c\u3002   - \u7279\u70b9\uff1a\u811a\u672c\u6267\u884c\u5728 Redis \u7684\u5355\u7ebf\u7a0b\u4e2d\uff0c\u786e\u4fdd\u811a\u672c\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u539f\u5b50\u6027\u7684\u3002</p> <ul> <li>Lua \u811a\u672c\u7684\u4f7f\u7528\uff1a</li> <li>\u7f16\u5199\u811a\u672c\uff1a\u7f16\u5199 Lua \u811a\u672c\uff0c\u5b9e\u73b0\u590d\u6742\u7684\u903b\u8f91\u64cd\u4f5c\u3002\u4f8b\u5982\uff0c\u539f\u5b50\u6027\u5730\u589e\u52a0\u4e00\u4e2a\u952e\u7684\u503c\uff1a     <code>lua     local current = redis.call('GET', KEYS[1])     redis.call('SET', KEYS[1], current + ARGV[1])     return current + ARGV[1]</code></li> <li>\u6267\u884c\u811a\u672c\uff1a\u4f7f\u7528 <code>EVAL</code> \u547d\u4ee4\u6267\u884c Lua \u811a\u672c\u3002\u4f8b\u5982\uff1a     <code>sh     EVAL \"return redis.call('SET', KEYS[1], ARGV[1])\" 1 mykey myvalue</code></li> <li>\u7f13\u5b58\u811a\u672c\uff1a\u901a\u8fc7 <code>SCRIPT LOAD</code> \u548c <code>EVALSHA</code> \u547d\u4ee4\u7f13\u5b58\u811a\u672c\uff0c\u63d0\u9ad8\u811a\u672c\u6267\u884c\u6548\u7387\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#87-redis","title":"87. Redis \u7684\u5206\u7247\u673a\u5236\u4e0e\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u5728 Redis \u4e2d\u5b9e\u73b0\u5206\u7247\u673a\u5236\uff1f\u5982\u4f55\u7ba1\u7406\u548c\u5b58\u50a8\u5927\u89c4\u6a21\u6570\u636e\uff1f</p> <p>\u56de\u7b54\uff1a - \u5206\u7247\u673a\u5236\uff1a   - \u54c8\u5e0c\u5206\u7247\uff1a\u901a\u8fc7\u4e00\u81f4\u6027\u54c8\u5e0c\u7b97\u6cd5\u6216\u7b80\u5355\u54c8\u5e0c\u7b97\u6cd5\uff0c\u5c06\u6570\u636e\u5206\u7247\u5b58\u50a8\u5230\u4e0d\u540c\u7684 Redis \u5b9e\u4f8b\u4e2d\uff0c\u5b9e\u73b0\u6c34\u5e73\u6269\u5c55\u3002   - Redis Cluster\uff1aRedis \u81ea\u5e26\u7684\u5206\u7247\u673a\u5236\uff0c\u81ea\u52a8\u7ba1\u7406\u54c8\u5e0c\u69fd\u548c\u6570\u636e\u5206\u7247\uff0c\u7b80\u5316\u5927\u89c4\u6a21\u6570\u636e\u7684\u5b58\u50a8\u7ba1\u7406\u3002</p> <ul> <li>\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\uff1a</li> <li>\u6570\u636e\u538b\u7f29\uff1a\u4f7f\u7528 Redis \u7684\u5185\u7f6e\u6570\u636e\u538b\u7f29\u529f\u80fd\u6216\u5e94\u7528\u5c42\u538b\u7f29\u7b56\u7565\uff0c\u51cf\u5c11\u5185\u5b58\u5360\u7528\u3002</li> <li>\u5206\u5e03\u5f0f\u7f13\u5b58\uff1a\u7ed3\u5408 Redis Cluster \u6216\u5176\u4ed6\u5206\u5e03\u5f0f\u7f13\u5b58\u7b56\u7565\uff0c\u5b58\u50a8\u548c\u7ba1\u7406\u5927\u89c4\u6a21\u6570\u636e\u3002</li> <li>\u6301\u4e45\u5316\u7b56\u7565\uff1a\u9009\u62e9\u5408\u9002\u7684\u6301\u4e45\u5316\u7b56\u7565\uff08RDB\u3001AOF\uff09\u786e\u4fdd\u5927\u89c4\u6a21\u6570\u636e\u7684\u53ef\u9760\u5b58\u50a8\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#88-redis","title":"88. Redis \u7684\u6027\u80fd\u4f18\u5316\u4e0e\u8c03\u4f18","text":"<p>\u95ee\u9898\uff1a \u5982\u4f55\u4f18\u5316 Redis \u7684\u6027\u80fd\uff1f\u6709\u54ea\u4e9b\u8c03\u4f18\u6280\u5de7\u548c\u7b56\u7565\uff1f</p> <p>\u56de\u7b54\uff1a - \u4f18\u5316\u7b56\u7565\uff1a   - \u51cf\u5c11\u963b\u585e\u64cd\u4f5c\uff1a\u907f\u514d\u5728 Redis \u4e2d\u6267\u884c\u963b\u585e\u6216\u8017\u65f6\u7684\u64cd\u4f5c\uff0c\u786e\u4fdd\u547d\u4ee4\u7684\u5feb\u901f\u54cd\u5e94\u3002   - \u4f7f\u7528\u7ba1\u9053\uff1a\u901a\u8fc7 Redis \u7684\u7ba1\u9053\u529f\u80fd\u4e00\u6b21\u6027\u53d1\u9001\u591a\u4e2a\u547d\u4ee4\uff0c\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\u3002   - \u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\uff1a\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u6700\u4f18\u7684\u6570\u636e\u7ed3\u6784\uff0c\u907f\u514d\u4f7f\u7528\u8fc7\u5927\u7684\u952e\u6216\u590d\u6742\u7684\u5d4c\u5957\u6570\u636e\u7ed3\u6784\u3002</p> <ul> <li>\u8c03\u4f18\u6280\u5de7\uff1a</li> <li>\u5185\u5b58\u7ba1\u7406\uff1a\u5408\u7406\u914d\u7f6e\u5185\u5b58\u9650\u5236\uff0c\u9009\u62e9\u5408\u9002\u7684\u6dd8\u6c70\u7b56\u7565\uff0c\u907f\u514d\u5185\u5b58\u6ea2\u51fa\u3002</li> <li>\u6301\u4e45\u5316\u914d\u7f6e\uff1a\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u8c03\u6574 RDB \u548c AOF \u7684\u6301\u4e45\u5316\u9891\u7387\uff0c\u5e73\u8861\u6570\u636e\u6301\u4e45\u5316\u548c\u6027\u80fd\u3002</li> <li>\u96c6\u7fa4\u914d\u7f6e\uff1a\u5728 Redis Cluster \u4e2d\u5408\u7406\u914d\u7f6e\u8282\u70b9\u6570\u91cf\u548c\u54c8\u5e0c\u69fd\u5206\u914d\uff0c\u786e\u4fdd\u96c6\u7fa4\u8d1f\u8f7d\u5747\u8861\u548c\u6027\u80fd\u7a33\u5b9a\u3002</li> </ul> <p>\u4ee5\u4e0b\u662f\u7ee7\u7eed\u6df1\u5165 Redis \u5927\u5382\u9762\u8bd5\u9898\u7684\u5185\u5bb9\uff0c\u6d89\u53ca\u66f4\u9ad8\u7ea7\u548c\u5177\u4f53\u7684\u573a\u666f\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#89-redis-pipeline","title":"89. Redis \u7684 Pipeline \u4e0e\u6279\u91cf\u64cd\u4f5c","text":"<p>\u95ee\u9898\uff1a \u4ec0\u4e48\u662f Redis \u7684 Pipeline\uff1f\u5982\u4f55\u5229\u7528 Pipeline \u8fdb\u884c\u6279\u91cf\u64cd\u4f5c\uff1f\u6709\u54ea\u4e9b\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff1f</p> <p>\u56de\u7b54\uff1a - Pipeline \u6982\u5ff5\uff1a   - \u5b9a\u4e49\uff1aPipeline \u662f Redis \u63d0\u4f9b\u7684\u4e00\u79cd\u673a\u5236\uff0c\u5141\u8bb8\u5ba2\u6237\u7aef\u4e00\u6b21\u6027\u53d1\u9001\u591a\u4e2a\u547d\u4ee4\uff0c\u800c\u4e0d\u9700\u8981\u7b49\u5f85\u6bcf\u4e2a\u547d\u4ee4\u7684\u54cd\u5e94\uff0c\u4ece\u800c\u51cf\u5c11\u7f51\u7edc\u5f80\u8fd4\u65f6\u95f4\uff0c\u63d0\u5347\u6027\u80fd\u3002   - \u5de5\u4f5c\u539f\u7406\uff1a\u5ba2\u6237\u7aef\u5c06\u4e00\u7cfb\u5217\u547d\u4ee4\u7f13\u5b58\u5728\u672c\u5730\uff0c\u5e76\u5728\u4e00\u6b21\u7f51\u7edc\u8bf7\u6c42\u4e2d\u53d1\u9001\u7ed9 Redis\u3002Redis \u4f9d\u6b21\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4\uff0c\u5e76\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</p> <ul> <li>\u6279\u91cf\u64cd\u4f5c\uff1a</li> <li>\u4f7f\u7528\u573a\u666f\uff1a\u9002\u7528\u4e8e\u9700\u8981\u6279\u91cf\u5904\u7406\u6570\u636e\u7684\u573a\u666f\uff0c\u5982\u6279\u91cf\u5199\u5165\u3001\u8bfb\u53d6\u6570\u636e\u3001\u6216\u6267\u884c\u4e00\u7ec4\u539f\u5b50\u64cd\u4f5c\u3002</li> <li> <p>\u793a\u4f8b\uff1a     <code>python     import redis     r = redis.Redis(host='localhost', port=6379, db=0)     pipe = r.pipeline()     pipe.set('foo', 'bar')     pipe.get('foo')     results = pipe.execute()</code>     \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>SET</code> \u548c <code>GET</code> \u547d\u4ee4\u88ab\u6253\u5305\u6210\u4e00\u4e2a Pipeline \u8bf7\u6c42\uff0c\u4e00\u6b21\u6027\u53d1\u9001\u7ed9 Redis\u3002</p> </li> <li> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> </li> <li>\u539f\u5b50\u6027\uff1aPipeline \u4e2d\u7684\u547d\u4ee4\u662f\u6309\u987a\u5e8f\u6267\u884c\u7684\uff0c\u4f46\u5e76\u4e0d\u4fdd\u8bc1\u6240\u6709\u547d\u4ee4\u7684\u539f\u5b50\u6027\u3002\u9700\u8981\u786e\u4fdd\u64cd\u4f5c\u7684\u987a\u5e8f\u548c\u4e00\u81f4\u6027\u3002</li> <li>\u5185\u5b58\u5360\u7528\uff1aPipeline \u53ef\u4ee5\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\uff0c\u4f46\u4e5f\u4f1a\u589e\u52a0 Redis \u670d\u52a1\u5668\u7684\u5185\u5b58\u8d1f\u62c5\uff0c\u5c24\u5176\u662f\u5728\u5927\u91cf\u6570\u636e\u64cd\u4f5c\u65f6\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#90-redis","title":"90. Redis \u7684\u6162\u67e5\u8be2\u65e5\u5fd7","text":"<p>\u95ee\u9898\uff1a \u4ec0\u4e48\u662f Redis \u7684\u6162\u67e5\u8be2\u65e5\u5fd7\uff1f\u5982\u4f55\u914d\u7f6e\u548c\u4f7f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\u6765\u5206\u6790\u548c\u4f18\u5316 Redis \u7684\u6027\u80fd\uff1f</p> <p>\u56de\u7b54\uff1a - \u6162\u67e5\u8be2\u65e5\u5fd7\u6982\u5ff5\uff1a   - \u5b9a\u4e49\uff1aRedis \u63d0\u4f9b\u7684\u6162\u67e5\u8be2\u65e5\u5fd7\u529f\u80fd\uff0c\u7528\u4e8e\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u7279\u5b9a\u9608\u503c\u7684\u547d\u4ee4\uff0c\u5e2e\u52a9\u8bc6\u522b\u548c\u4f18\u5316\u6027\u80fd\u74f6\u9888\u3002   - \u914d\u7f6e\uff1a\u901a\u8fc7\u914d\u7f6e <code>slowlog-log-slower-than</code> \u53c2\u6570\u8bbe\u7f6e\u6162\u67e5\u8be2\u7684\u65f6\u95f4\u9608\u503c\uff08\u4ee5\u5fae\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u4f8b\u5982\uff0c\u8bbe\u7f6e\u4e3a 10000 \u5fae\u79d2\uff0810 \u6beb\u79d2\uff09\uff1a     <code>sh     slowlog-log-slower-than 10000</code>   - \u65e5\u5fd7\u5b58\u50a8\uff1a\u901a\u8fc7 <code>slowlog-max-len</code> \u53c2\u6570\u8bbe\u7f6e\u6162\u67e5\u8be2\u65e5\u5fd7\u7684\u6700\u5927\u6761\u76ee\u6570\u3002\u8d85\u51fa\u90e8\u5206\u5c06\u88ab\u4e22\u5f03\uff1a     <code>sh     slowlog-max-len 128</code></p> <ul> <li>\u67e5\u770b\u548c\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a</li> <li>\u547d\u4ee4\uff1a\u4f7f\u7528 <code>SLOWLOG</code> \u547d\u4ee4\u67e5\u770b\u6162\u67e5\u8be2\u65e5\u5fd7\u3002\u4f8b\u5982\uff0c\u67e5\u770b\u6700\u8fd1\u7684\u6162\u67e5\u8be2\uff1a     <code>sh     SLOWLOG GET</code></li> <li>\u5206\u6790\uff1a\u901a\u8fc7\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u53ef\u4ee5\u8bc6\u522b\u51fa\u54ea\u4e9b\u547d\u4ee4\u6d88\u8017\u4e86\u8fc7\u591a\u7684\u65f6\u95f4\uff0c\u4ece\u800c\u9488\u5bf9\u6027\u5730\u4f18\u5316\u76f8\u5173\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#91-redis-geo","title":"91. Redis \u7684 GEO \u6570\u636e\u7ed3\u6784\u4e0e\u5730\u7406\u4f4d\u7f6e\u64cd\u4f5c","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u5904\u7406\u5730\u7406\u4f4d\u7f6e\u6570\u636e\uff1f\u6709\u54ea\u4e9b\u5e38\u7528\u7684 GEO \u547d\u4ee4\u548c\u4f7f\u7528\u573a\u666f\uff1f</p> <p>\u56de\u7b54\uff1a - GEO \u6570\u636e\u7ed3\u6784\uff1a   - \u5b9a\u4e49\uff1aRedis \u63d0\u4f9b\u4e86\u539f\u751f\u7684 GEO \u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u5b58\u50a8\u5730\u7406\u4f4d\u7f6e\uff08\u7ecf\u7eac\u5ea6\uff09\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u4e00\u7cfb\u5217\u5730\u7406\u4f4d\u7f6e\u76f8\u5173\u7684\u547d\u4ee4\u3002   - \u5b9e\u73b0\uff1aGEO \u57fa\u4e8e Sorted Set \u5b9e\u73b0\uff0c\u4f7f\u7528 Geohash \u7b97\u6cd5\u5bf9\u5730\u7406\u5750\u6807\u8fdb\u884c\u7f16\u7801\u3002</p> <ul> <li>\u5e38\u7528 GEO \u547d\u4ee4\uff1a</li> <li>GEOADD\uff1a\u6dfb\u52a0\u5730\u7406\u4f4d\u7f6e\u6570\u636e\u5230 Redis\u3002\u4f8b\u5982\uff1a     <code>sh     GEOADD mygeo 13.361389 38.115556 \"Palermo\"     GEOADD mygeo 15.087269 37.502669 \"Catania\"</code></li> <li>GEODIST\uff1a\u8ba1\u7b97\u4e24\u4e2a\u5730\u7406\u4f4d\u7f6e\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u4f8b\u5982\uff1a     <code>sh     GEODIST mygeo \"Palermo\" \"Catania\" km</code></li> <li>GEORADIUS\uff1a\u6839\u636e\u7ed9\u5b9a\u7684\u4e2d\u5fc3\u70b9\u548c\u534a\u5f84\uff0c\u8fd4\u56de\u4f4d\u4e8e\u6307\u5b9a\u8303\u56f4\u5185\u7684\u6240\u6709\u5730\u7406\u4f4d\u7f6e\u3002\u4f8b\u5982\uff1a     <code>sh     GEORADIUS mygeo 15 37 200 km</code></li> <li> <p>GEORADIUSBYMEMBER\uff1a\u7c7b\u4f3c <code>GEORADIUS</code>\uff0c\u4f46\u4f7f\u7528\u5df2\u5b58\u50a8\u7684\u6210\u5458\u4f5c\u4e3a\u4e2d\u5fc3\u70b9\u3002</p> </li> <li> <p>\u5e94\u7528\u573a\u666f\uff1a</p> </li> <li>\u4f4d\u7f6e\u641c\u7d22\uff1a\u57fa\u4e8e\u7528\u6237\u4f4d\u7f6e\u63d0\u4f9b\u9644\u8fd1\u5546\u5e97\u3001\u9910\u9986\u7b49\u670d\u52a1\u7684\u641c\u7d22\u529f\u80fd\u3002</li> <li>\u8ddd\u79bb\u8ba1\u7b97\uff1a\u5728\u793e\u4ea4\u5e94\u7528\u4e2d\u8ba1\u7b97\u7528\u6237\u4e4b\u95f4\u7684\u8ddd\u79bb\u6216\u63d0\u4f9b\u57fa\u4e8e\u8ddd\u79bb\u7684\u5339\u914d\u670d\u52a1\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#92-redis","title":"92. Redis \u7684\u5185\u5b58\u56de\u6536\u4e0e\u6700\u5927\u5185\u5b58\u7b56\u7565","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u8fdb\u884c\u5185\u5b58\u56de\u6536\uff1f\u6709\u54ea\u4e9b\u6700\u5927\u5185\u5b58\u7b56\u7565\u53ef\u4ee5\u914d\u7f6e\uff1f</p> <p>\u56de\u7b54\uff1a - \u5185\u5b58\u56de\u6536\uff1a   - \u88ab\u52a8\u56de\u6536\uff1a\u5f53 Redis \u8fbe\u5230\u6700\u5927\u5185\u5b58\u9650\u5236\u65f6\uff0c\u4f1a\u6839\u636e\u914d\u7f6e\u7684\u7b56\u7565\u81ea\u52a8\u56de\u6536\u5185\u5b58\u3002\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e <code>maxmemory</code> \u53c2\u6570\u6765\u9650\u5236 Redis \u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u3002   - \u4e3b\u52a8\u56de\u6536\uff1a\u5b9a\u671f\u89e6\u53d1\u5185\u5b58\u56de\u6536\uff0c\u901a\u8fc7\u540e\u53f0\u8fdb\u7a0b\u626b\u63cf\u5e76\u6e05\u9664\u8fc7\u671f\u7684\u952e\u3002</p> <ul> <li>\u6700\u5927\u5185\u5b58\u7b56\u7565\uff1a</li> <li> <p>\u7b56\u7565\u79cd\u7c7b\uff1a</p> <ul> <li><code>noeviction</code>\uff1a\u4e0d\u5220\u9664\u4efb\u4f55\u6570\u636e\uff0c\u5f53\u5185\u5b58\u4e0d\u8db3\u65f6\uff0c\u8fd4\u56de\u9519\u8bef\u3002</li> <li><code>allkeys-lru</code>\uff1a\u5220\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u952e\u3002</li> <li><code>volatile-lru</code>\uff1a\u5220\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u3001\u5e26\u6709\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u3002</li> <li><code>allkeys-random</code>\uff1a\u968f\u673a\u5220\u9664\u67d0\u4e2a\u952e\u3002</li> <li><code>volatile-random</code>\uff1a\u968f\u673a\u5220\u9664\u67d0\u4e2a\u5e26\u6709\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u3002</li> <li><code>volatile-ttl</code>\uff1a\u5220\u9664\u5b58\u6d3b\u65f6\u95f4\u6700\u77ed\u7684\u952e\u3002</li> </ul> </li> <li> <p>\u793a\u4f8b\u914d\u7f6e\uff1a   <code>sh   maxmemory 256mb   maxmemory-policy allkeys-lru</code>   \u8fd9\u4e2a\u914d\u7f6e\u6307\u5b9a\u4e86 Redis \u6700\u5927\u5185\u5b58\u4e3a 256MB\uff0c\u4e14\u5728\u5185\u5b58\u4e0d\u8db3\u65f6\uff0c\u5220\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u952e\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#93-redis","title":"93. Redis \u7684\u6301\u4e45\u5316\u4e0e\u6570\u636e\u6062\u590d\u673a\u5236","text":"<p>\u95ee\u9898\uff1a Redis \u7684\u6301\u4e45\u5316\u673a\u5236\u6709\u54ea\u4e9b\uff1f\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u5728\u7cfb\u7edf\u6545\u969c\u540e\u7684\u6062\u590d\uff1f</p> <p>\u56de\u7b54\uff1a - \u6301\u4e45\u5316\u673a\u5236\uff1a   - RDB\uff08Redis Database File\uff09\uff1a     - \u5b9a\u4e49\uff1a\u901a\u8fc7\u5b9a\u671f\u751f\u6210\u5feb\u7167\u7684\u65b9\u5f0f\uff0c\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u5199\u5165\u78c1\u76d8\u3002\u53ef\u4ee5\u624b\u52a8\u6216\u901a\u8fc7\u914d\u7f6e\u5b9a\u65f6\u89e6\u53d1\u5feb\u7167\u3002     - \u4f18\u70b9\uff1a\u5360\u7528\u78c1\u76d8\u7a7a\u95f4\u5c11\uff0c\u6062\u590d\u901f\u5ea6\u5feb\u3002     - \u7f3a\u70b9\uff1a\u5728\u6545\u969c\u53d1\u751f\u65f6\uff0c\u53ef\u80fd\u4f1a\u4e22\u5931\u6700\u540e\u4e00\u6b21\u5feb\u7167\u540e\u7684\u6570\u636e\u3002   - AOF\uff08Append-Only File\uff09\uff1a     - \u5b9a\u4e49\uff1a\u5c06\u6bcf\u4e2a\u5199\u64cd\u4f5c\u8bb0\u5f55\u5230\u65e5\u5fd7\u6587\u4ef6\u4e2d\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u8fde\u7eed\u6027\u548c\u5b89\u5168\u6027\u3002     - \u4f18\u70b9\uff1a\u6301\u4e45\u5316\u66f4\u5b89\u5168\uff0c\u6570\u636e\u4e22\u5931\u98ce\u9669\u5c0f\u3002     - \u7f3a\u70b9\uff1a\u6587\u4ef6\u8f83\u5927\uff0c\u6062\u590d\u65f6\u95f4\u8f83\u957f\u3002   - \u6df7\u5408\u6301\u4e45\u5316\uff1aRedis 4.0 \u5f15\u5165\uff0c\u5c06 RDB \u5feb\u7167\u4e0e AOF \u7ed3\u5408\u4f7f\u7528\uff0c\u65e2\u4fdd\u8bc1\u6062\u590d\u901f\u5ea6\uff0c\u53c8\u51cf\u5c11\u6570\u636e\u4e22\u5931\u3002</p> <ul> <li>\u6570\u636e\u6062\u590d\uff1a</li> <li>RDB \u6062\u590d\uff1a\u5f53 Redis \u542f\u52a8\u65f6\uff0c\u81ea\u52a8\u52a0\u8f7d RDB \u6587\u4ef6\u6062\u590d\u6570\u636e\u3002</li> <li>AOF \u6062\u590d\uff1a\u901a\u8fc7\u91cd\u653e AOF \u6587\u4ef6\u4e2d\u7684\u547d\u4ee4\u6062\u590d\u6570\u636e\u3002</li> <li>\u5907\u4efd\u4e0e\u6062\u590d\uff1a\u5b9a\u671f\u5907\u4efd RDB \u548c AOF \u6587\u4ef6\uff0c\u5728\u6570\u636e\u4e22\u5931\u6216\u635f\u574f\u65f6\uff0c\u901a\u8fc7\u5907\u4efd\u6587\u4ef6\u6062\u590d\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#94-redis","title":"94. Redis \u7684\u6570\u636e\u4e00\u81f4\u6027\u4e0e\u590d\u5236\u5ef6\u8fdf","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u4fdd\u8bc1\u4e3b\u4ece\u590d\u5236\u7684\u6570\u636e\u4e00\u81f4\u6027\uff1f\u5982\u4f55\u5904\u7406\u590d\u5236\u5ef6\u8fdf\u95ee\u9898\uff1f</p> <p>\u56de\u7b54\uff1a - \u6570\u636e\u4e00\u81f4\u6027\uff1a   - \u5f02\u6b65\u590d\u5236\uff1aRedis \u9ed8\u8ba4\u4f7f\u7528\u5f02\u6b65\u590d\u5236\uff0c\u4e3b\u8282\u70b9\u5728\u5c06\u5199\u64cd\u4f5c\u4f20\u64ad\u5230\u4ece\u8282\u70b9\u4e4b\u524d\uff0c\u5148\u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u7ed3\u679c\u3002\u8fd9\u79cd\u65b9\u5f0f\u6548\u7387\u9ad8\uff0c\u4f46\u53ef\u80fd\u5bfc\u81f4\u77ed\u65f6\u95f4\u5185\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002   - \u534a\u540c\u6b65\u590d\u5236\uff1a\u901a\u8fc7\u914d\u7f6e <code>min-slaves-to-write</code> \u548c <code>min-slaves-max-lag</code> \u53c2\u6570\uff0c\u5f3a\u5236\u4e3b\u8282\u70b9\u7b49\u5f85\u81f3\u5c11\u4e00\u4e2a\u4ece\u8282\u70b9\u786e\u8ba4\u5199\u64cd\u4f5c\uff0c\u4ee5\u63d0\u9ad8\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u590d\u5236\u5ef6\u8fdf\uff1a</li> <li>\u5ef6\u8fdf\u539f\u56e0\uff1a\u7f51\u7edc\u5ef6\u8fdf\u3001\u4ece\u8282\u70b9\u5904\u7406\u80fd\u529b\u4e0d\u8db3\u6216\u4e3b\u8282\u70b9\u8d1f\u8f7d\u8fc7\u9ad8\u90fd\u53ef\u80fd\u5bfc\u81f4\u590d\u5236\u5ef6\u8fdf\u3002</li> <li>\u5ef6\u8fdf\u76d1\u63a7\uff1a\u901a\u8fc7 <code>INFO replication</code> \u547d\u4ee4\u67e5\u770b\u590d\u5236\u5ef6\u8fdf\u65f6\u95f4\uff0c\u5e76\u6839\u636e <code>lag</code> \u53c2\u6570\u5b9e\u65f6\u76d1\u63a7\u3002</li> <li>\u89e3\u51b3\u65b9\u6848\uff1a<ul> <li>\u4f18\u5316\u7f51\u7edc\uff1a\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf\uff0c\u786e\u4fdd\u4e3b\u4ece\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u7a33\u5b9a\u3002</li> <li>\u8c03\u6574\u8d1f\u8f7d\uff1a\u901a\u8fc7\u5206\u7247\u3001\u96c6\u7fa4\u7b49\u65b9\u5f0f\u51cf\u5c11\u5355\u4e2a\u8282\u70b9\u7684\u8d1f\u8f7d\uff0c\u51cf\u5c0f\u5ef6\u8fdf\u3002</li> <li>\u589e\u5f3a\u786c\u4ef6\uff1a\u5347\u7ea7\u4ece\u8282\u70b9\u7684\u786c\u4ef6\u914d\u7f6e\uff0c\u63d0\u9ad8\u5176\u5904\u7406\u80fd\u529b\u3002</li> </ul> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#95-redis","title":"95. Redis \u7684\u6a21\u5757\u5316\u4e0e\u6269\u5c55","text":"<p>\u95ee\u9898\uff1a Redis \u5982\u4f55\u652f\u6301\u6a21\u5757\u5316\u5f00\u53d1\uff1f\u5982\u4f55\u5f00\u53d1\u548c\u52a0\u8f7d\u81ea\u5b9a\u4e49\u6a21\u5757\uff1f</p> <p>\u56de\u7b54\uff1a - \u6a21\u5757\u5316\u652f\u6301\uff1a   - \u6a21\u5757\u6982\u5ff5\uff1aRedis \u4ece 4.0 \u5f00\u59cb\u652f\u6301\u6a21\u5757\u5316\uff0c\u901a\u8fc7\u81ea\u5b9a\u4e49 C \u8bed\u8a00\u4ee3\u7801\uff0c\u53ef\u4ee5\u6269\u5c55 Redis \u7684\u529f\u80fd\uff0c\u6dfb\u52a0\u65b0\u7684\u6570\u636e\u7ed3\u6784\u6216\u547d\u4ee4\u3002   - \u6a21\u5757\u63a5\u53e3\uff1aRedis \u63d0\u4f9b\u4e86 C \u8bed\u8a00 API \u63a5\u53e3\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u57fa\u4e8e\u8fd9\u4e9b\u63a5\u53e3\u5f00\u53d1\u6a21\u5757\u3002</p> <ul> <li>\u5f00\u53d1\u81ea\u5b9a\u4e49\u6a21\u5757\uff1a</li> <li>\u5f00\u53d1\u6d41\u7a0b\uff1a<ol> <li>\u521b\u5efa\u6a21\u5757\uff1a\u4f7f\u7528 C \u8bed\u8a00\u7f16\u5199\u6a21\u5757\u4ee3\u7801\uff0c\u5305\u542b\u521d\u59cb\u5316\u51fd\u6570\u3001\u547d\u4ee4\u5904\u7406\u51fd\u6570\u7b49\u3002</li> <li>\u7f16\u8bd1\u6a21\u5757\uff1a\u5c06\u6a21\u5757\u4ee3\u7801\u7f16\u8bd1\u4e3a\u52a8\u6001\u5e93\u6587\u4ef6\uff08.so \u6587\u4ef6\uff09\u3002</li> <li>\u52a0\u8f7d\u6a21\u5757\uff1a\u901a\u8fc7 <code>MODULE LOAD</code> \u547d\u4ee4\u5c06\u6a21\u5757\u52a0\u8f7d\u5230 Redis \u5b9e\u4f8b\u4e2d\u3002\u4f8b\u5982\uff1a    <code>sh    MODULE LOAD /path/to/yourmodule.so</code></li> </ol> </li> <li> <p>\u793a\u4f8b\uff1a</p> <ul> <li>\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u5757\uff0c\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u547d\u4ee4 <code>helloworld</code>\uff0c\u8fd4\u56de \"Hello, World!\"\u3002</li> <li>\u7f16\u5199\u6a21\u5757\u4ee3\u7801\uff1a   ```c   int HelloWorldCommand(RedisModuleCtx ctx, RedisModuleString *argv, int argc) {       RedisModule_ReplyWithSimpleString(ctx, \"Hello, World!\");       return REDISMODULE_OK;   }</li> </ul> <p>int RedisModule_OnLoad(RedisModuleCtx ctx, RedisModuleString *argv, int argc) {       if (RedisModule_Init(ctx, \"helloworld\", 1, REDISMODULE_APIVER_1) == REDISMODULE_ERR)           return REDISMODULE_ERR;       if (RedisModule_CreateCommand(ctx, \"helloworld\", HelloWorldCommand, \"readonly\", 0, 0, 0) == REDISMODULE_ERR)           return REDISMODULE_ERR;       return REDISMODULE_OK;   }   <code>- \u7f16\u8bd1\u5e76\u52a0\u8f7d\u6a21\u5757\u540e\uff0c\u4f7f\u7528 `helloworld` \u547d\u4ee4\u9a8c\u8bc1\u529f\u80fd\uff1a</code>sh   helloworld   ```   \u8f93\u51fa\uff1a\"Hello, World!\"</p> </li> <li> <p>\u6a21\u5757\u7ba1\u7406\uff1a</p> </li> <li>\u5378\u8f7d\u6a21\u5757\uff1a\u4f7f\u7528 <code>MODULE UNLOAD</code> \u547d\u4ee4\u5378\u8f7d\u6a21\u5757\u3002</li> <li>\u6a21\u5757\u5b89\u5168\u6027\uff1a\u786e\u4fdd\u81ea\u5b9a\u4e49\u6a21\u5757\u7684\u5b89\u5168\u6027\uff0c\u907f\u514d\u5f15\u5165\u6f5c\u5728\u7684\u6f0f\u6d1e\u6216\u6027\u80fd\u95ee\u9898\u3002</li> </ul> <p>\u4ee5\u4e0b\u662f\u8fdb\u4e00\u6b65\u6df1\u5165\u7684 Redis \u5927\u5382\u9762\u8bd5\u9898\u89e3\u6790\uff0c\u6db5\u76d6\u4e00\u4e9b\u9ad8\u7ea7\u6982\u5ff5\u548c\u5b9e\u9645\u5e94\u7528\u573a\u666f\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#96-redis-sentinel","title":"96. Redis \u7684\u54e8\u5175\u6a21\u5f0f\uff08Sentinel\uff09","text":"<p>\u95ee\u9898\uff1a \u4ec0\u4e48\u662f Redis \u54e8\u5175\u6a21\u5f0f\uff1f\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff0c\u5982\u4f55\u914d\u7f6e\u548c\u4f7f\u7528\uff1f</p> <p>\u56de\u7b54\uff1a - \u54e8\u5175\u6a21\u5f0f\u6982\u5ff5\uff1a   - \u5b9a\u4e49\uff1aRedis \u54e8\u5175\uff08Sentinel\uff09\u6a21\u5f0f\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u7684\u673a\u5236\uff0c\u901a\u8fc7\u76d1\u63a7\u4e3b\u4ece\u8282\u70b9\u7684\u72b6\u6001\uff0c\u81ea\u52a8\u5316\u6545\u969c\u8f6c\u79fb\uff0c\u4ece\u800c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u7a33\u5b9a\u8fd0\u884c\u3002   - \u5de5\u4f5c\u539f\u7406\uff1a     - \u76d1\u63a7\uff08Monitoring\uff09\uff1aSentinel \u8fdb\u7a0b\u4f1a\u5b9a\u671f\u68c0\u67e5\u4e3b\u4ece\u8282\u70b9\u7684\u5065\u5eb7\u72b6\u6001\u3002     - \u901a\u77e5\uff08Notification\uff09\uff1a\u5f53\u4e3b\u8282\u70b9\u51fa\u73b0\u95ee\u9898\u65f6\uff0cSentinel \u4f1a\u901a\u8fc7\u914d\u7f6e\u7684\u901a\u77e5\u7cfb\u7edf\u544a\u77e5\u7ba1\u7406\u5458\u3002     - \u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff08Automatic Failover\uff09\uff1a\u5982\u679c\u4e3b\u8282\u70b9\u5b95\u673a\uff0cSentinel \u4f1a\u9009\u4e3e\u4e00\u4e2a\u4ece\u8282\u70b9\u4e3a\u65b0\u7684\u4e3b\u8282\u70b9\uff0c\u5e76\u66f4\u65b0\u5176\u4ed6\u4ece\u8282\u70b9\u7684\u590d\u5236\u76ee\u6807\u3002     - \u914d\u7f6e\u63d0\u4f9b\u8005\uff08Configuration Provider\uff09\uff1aSentinel \u5c06\u65b0\u7684\u4e3b\u8282\u70b9\u4fe1\u606f\u544a\u77e5\u5ba2\u6237\u7aef\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u8fde\u63a5\u65b0\u7684\u4e3b\u8282\u70b9\u3002</p> <ul> <li>\u914d\u7f6e\u4e0e\u4f7f\u7528\uff1a</li> <li> <p>\u57fa\u672c\u914d\u7f6e\uff1a</p> <ul> <li>\u521b\u5efa\u4e00\u4e2a <code>sentinel.conf</code> \u6587\u4ef6\uff0c\u914d\u7f6e\u5185\u5bb9\u5982\u4e0b\uff1a   <code>sh   sentinel monitor mymaster 127.0.0.1 6379 2   sentinel auth-pass mymaster yourpassword   sentinel down-after-milliseconds mymaster 5000   sentinel failover-timeout mymaster 60000   sentinel parallel-syncs mymaster 1</code></li> <li>\u53c2\u6570\u89e3\u91ca\uff1a</li> <li><code>mymaster</code>\uff1a\u4e3b\u8282\u70b9\u540d\u79f0\u3002</li> <li><code>127.0.0.1 6379</code>\uff1a\u4e3b\u8282\u70b9\u7684 IP \u548c\u7aef\u53e3\u3002</li> <li><code>2</code>\uff1a\u6700\u5c11\u6709\u51e0\u4e2a Sentinel \u540c\u610f\u4e3b\u8282\u70b9\u5b95\u673a\u624d\u4f1a\u89e6\u53d1\u6545\u969c\u8f6c\u79fb\u3002</li> <li><code>down-after-milliseconds</code>\uff1a\u4e3b\u8282\u70b9\u5931\u8054\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u5c06\u88ab\u8ba4\u4e3a\u5b95\u673a\u3002</li> <li><code>failover-timeout</code>\uff1a\u6545\u969c\u8f6c\u79fb\u7684\u8d85\u65f6\u65f6\u95f4\u3002</li> <li><code>parallel-syncs</code>\uff1a\u65b0\u4e3b\u8282\u70b9\u4e0a\u7ebf\u540e\uff0c\u540c\u65f6\u4e0e\u51e0\u4e2a\u4ece\u8282\u70b9\u8fdb\u884c\u6570\u636e\u540c\u6b65\u3002</li> </ul> </li> <li> <p>\u4f18\u7f3a\u70b9\uff1a</p> </li> <li>\u4f18\u70b9\uff1a\u9ad8\u53ef\u7528\u6027\u5f3a\u3001\u81ea\u52a8\u5316\u7a0b\u5ea6\u9ad8\u3001\u914d\u7f6e\u7075\u6d3b\u3002</li> <li>\u7f3a\u70b9\uff1a\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u9002\u7528\u4e8e\u5927\u578b\u5206\u5e03\u5f0f\u73af\u5883\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#97-redis-cluster","title":"97. Redis \u96c6\u7fa4\u6a21\u5f0f\uff08Cluster\uff09","text":"<p>\u95ee\u9898\uff1a Redis \u96c6\u7fa4\u6a21\u5f0f\u662f\u4ec0\u4e48\uff1f\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff0c\u5982\u4f55\u914d\u7f6e\u548c\u4f7f\u7528\uff1f</p> <p>\u56de\u7b54\uff1a - \u96c6\u7fa4\u6a21\u5f0f\u6982\u5ff5\uff1a   - \u5b9a\u4e49\uff1aRedis \u96c6\u7fa4\u6a21\u5f0f\u662f\u4e00\u79cd\u53bb\u4e2d\u5fc3\u5316\u7684\u9ad8\u53ef\u7528\u3001\u9ad8\u6269\u5c55\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5b83\u5c06\u6570\u636e\u5206\u5e03\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u63d0\u4f9b\u81ea\u52a8\u7684\u5206\u7247\uff08sharding\uff09\u548c\u6545\u969c\u6062\u590d\u673a\u5236\u3002   - \u5de5\u4f5c\u539f\u7406\uff1a     - \u5206\u7247\uff08Sharding\uff09\uff1a\u6570\u636e\u88ab\u5206\u7247\u5b58\u50a8\u5728\u4e0d\u540c\u7684\u8282\u70b9\u4e2d\uff0c\u4f7f\u7528\u54c8\u5e0c\u69fd\uff08hash slot\uff09\u8fdb\u884c\u6620\u5c04\u3002Redis \u96c6\u7fa4\u5c06 16384 \u4e2a\u54c8\u5e0c\u69fd\u5747\u5300\u5206\u5e03\u5728\u96c6\u7fa4\u7684\u6240\u6709\u8282\u70b9\u4e0a\u3002     - \u8282\u70b9\u89d2\u8272\uff1a\u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u5206\u4e3a\u4e3b\u8282\u70b9\uff08master\uff09\u548c\u4ece\u8282\u70b9\uff08slave\uff09\uff0c\u4e3b\u8282\u70b9\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\uff0c\u4ece\u8282\u70b9\u8d1f\u8d23\u5907\u4efd\u6570\u636e\u548c\u63d0\u4f9b\u9ad8\u53ef\u7528\u6027\u652f\u6301\u3002     - \u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff1a\u5f53\u4e00\u4e2a\u4e3b\u8282\u70b9\u5931\u6548\u65f6\uff0c\u96c6\u7fa4\u4e2d\u7684\u4ece\u8282\u70b9\u4f1a\u81ea\u52a8\u5347\u7ea7\u4e3a\u4e3b\u8282\u70b9\uff0c\u7ee7\u7eed\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1\u3002</p> <ul> <li>\u914d\u7f6e\u4e0e\u4f7f\u7528\uff1a</li> <li> <p>\u521b\u5efa\u96c6\u7fa4\uff1a</p> <ul> <li>\u51c6\u5907\u591a\u4e2a Redis \u5b9e\u4f8b\uff0c\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 <code>redis.conf</code>\uff0c\u4e3b\u8981\u914d\u7f6e\u9879\u5305\u62ec\uff1a   <code>sh   cluster-enabled yes   cluster-config-file nodes.conf   cluster-node-timeout 5000   appendonly yes</code></li> <li>\u542f\u52a8 Redis \u5b9e\u4f8b\u540e\uff0c\u4f7f\u7528 <code>redis-cli</code> \u521b\u5efa\u96c6\u7fa4\uff1a   <code>sh   redis-cli --cluster create 127.0.0.1:7000 127.0.0.1:7001 127.0.0.1:7002 --cluster-replicas 1</code></li> <li>\u8fd9\u4e2a\u547d\u4ee4\u8868\u793a\u521b\u5efa\u4e00\u4e2a\u96c6\u7fa4\uff0c\u5305\u542b 3 \u4e2a\u4e3b\u8282\u70b9\u548c 3 \u4e2a\u4ece\u8282\u70b9\uff0c\u6bcf\u4e2a\u4e3b\u8282\u70b9\u5bf9\u5e94\u4e00\u4e2a\u4ece\u8282\u70b9\u3002</li> </ul> </li> <li> <p>\u4f18\u7f3a\u70b9\uff1a</p> </li> <li>\u4f18\u70b9\uff1a\u63d0\u4f9b\u7ebf\u6027\u6269\u5c55\u6027\u3001\u53bb\u4e2d\u5fc3\u5316\u3001\u81ea\u52a8\u6545\u969c\u6062\u590d\u3002</li> <li>\u7f3a\u70b9\uff1a\u914d\u7f6e\u548c\u7ef4\u62a4\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u4e0d\u652f\u6301\u591a\u952e\u4e8b\u52a1\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#98-redis-hyperloglog","title":"98. Redis \u4e2d\u7684 HyperLogLog","text":"<p>\u95ee\u9898\uff1a \u4ec0\u4e48\u662f HyperLogLog\uff1f\u5b83\u5728 Redis \u4e2d\u7684\u5e94\u7528\u573a\u666f\u6709\u54ea\u4e9b\uff1f</p> <p>\u56de\u7b54\uff1a - HyperLogLog \u6982\u5ff5\uff1a   - \u5b9a\u4e49\uff1aHyperLogLog \u662f\u4e00\u79cd\u57fa\u4e8e\u6982\u7387\u7684\u7b97\u6cd5\uff0c\u7528\u4e8e\u5feb\u901f\u4f30\u8ba1\u5927\u89c4\u6a21\u6570\u636e\u96c6\u5408\u7684\u57fa\u6570\uff08\u4e0d\u91cd\u590d\u5143\u7d20\u7684\u4e2a\u6570\uff09\uff0c\u5176\u5185\u5b58\u5360\u7528\u6781\u5c0f\uff0c\u9002\u7528\u4e8e\u8ba1\u6570\u4e0d\u91cd\u590d\u7684\u5de8\u5927\u6570\u636e\u96c6\u3002   - \u5b9e\u73b0\u539f\u7406\uff1a\u901a\u8fc7\u54c8\u5e0c\u51fd\u6570\u5c06\u6570\u636e\u6620\u5c04\u5230\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u6570\u7ec4\u4e2d\uff0c\u6839\u636e\u54c8\u5e0c\u503c\u7684\u4e8c\u8fdb\u5236\u7279\u5f81\u4f30\u8ba1\u96c6\u5408\u7684\u57fa\u6570\u3002\u867d\u7136\u6709\u4e00\u5b9a\u8bef\u5dee\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574\u7cbe\u5ea6\u6765\u63a7\u5236\u3002</p> <ul> <li>\u5e94\u7528\u573a\u666f\uff1a</li> <li>\u72ec\u7acb\u7528\u6237\u6570\u7edf\u8ba1\uff1a\u9002\u7528\u4e8e\u7edf\u8ba1\u7f51\u7ad9\u7684\u72ec\u7acb\u8bbf\u95ee\u7528\u6237\uff08UV\uff09\uff0c\u53ef\u4ee5\u663e\u8457\u8282\u7701\u5185\u5b58\u3002</li> <li> <p>\u53bb\u91cd\u8ba1\u6570\uff1a\u7528\u4e8e\u53bb\u91cd\u4f46\u4e0d\u9700\u8981\u51c6\u786e\u8ba1\u6570\u7684\u573a\u666f\uff0c\u4f8b\u5982\u793e\u4ea4\u7f51\u7edc\u4e2d\u597d\u53cb\u6570\u3001\u70b9\u8d5e\u6570\u7b49\u3002</p> </li> <li> <p>Redis \u4e2d\u7684\u4f7f\u7528\uff1a</p> </li> <li>\u547d\u4ee4\uff1a<ul> <li><code>PFADD key element [element ...]</code>\uff1a\u5c06\u5143\u7d20\u6dfb\u52a0\u5230 HyperLogLog \u4e2d\u3002</li> <li><code>PFCOUNT key [key ...]</code>\uff1a\u8fd4\u56de HyperLogLog \u4f30\u7b97\u7684\u57fa\u6570\u3002</li> <li><code>PFMERGE destkey sourcekey [sourcekey ...]</code>\uff1a\u5c06\u591a\u4e2a HyperLogLog \u5408\u5e76\u4e3a\u4e00\u4e2a\u3002</li> </ul> </li> <li> <p>\u793a\u4f8b\uff1a     <code>sh     PFADD hll user1 user2 user3     PFCOUNT hll</code></p> </li> <li> <p>\u4f18\u7f3a\u70b9\uff1a</p> </li> <li>\u4f18\u70b9\uff1a\u6781\u5c0f\u7684\u5185\u5b58\u5360\u7528\uff0c\u9ad8\u6548\u7684\u57fa\u6570\u4f30\u7b97\u3002</li> <li>\u7f3a\u70b9\uff1a\u6709\u4e00\u5b9a\u7684\u8bef\u5dee\uff08\u901a\u5e38\u5728 0.81% \u5de6\u53f3\uff09\uff0c\u4e0d\u9002\u7528\u4e8e\u9700\u8981\u7cbe\u786e\u8ba1\u6570\u7684\u573a\u666f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#99-redis-bitmaps","title":"99. Redis \u7684 Bitmaps \u4e0e\u4f4d\u64cd\u4f5c","text":"<p>\u95ee\u9898\uff1a Redis \u7684 Bitmaps \u662f\u4ec0\u4e48\uff1f\u6709\u54ea\u4e9b\u5e38\u89c1\u7684\u4f4d\u64cd\u4f5c\uff0c\u9002\u7528\u7684\u573a\u666f\u6709\u54ea\u4e9b\uff1f</p> <p>\u56de\u7b54\uff1a - Bitmaps \u6982\u5ff5\uff1a   - \u5b9a\u4e49\uff1aBitmaps \u662f\u4e00\u79cd\u5229\u7528 Redis \u7684\u5b57\u7b26\u4e32\u6570\u636e\u7c7b\u578b\uff0c\u5c06\u6570\u636e\u4ee5\u4e8c\u8fdb\u5236\u4f4d\u7684\u5f62\u5f0f\u5b58\u50a8\uff0c\u7528\u4e8e\u5904\u7406\u5927\u89c4\u6a21\u7684\u5e03\u5c14\u503c\u96c6\u5408\u6216\u8ba1\u6570\u573a\u666f\u3002   - \u5b9e\u73b0\u539f\u7406\uff1a\u901a\u8fc7\u64cd\u4f5c\u5b57\u7b26\u4e32\u7684\u7279\u5b9a\u4f4d\u6765\u8868\u793a\u5e03\u5c14\u503c\u6216\u6574\u6570\uff0c\u9002\u7528\u4e8e\u72b6\u6001\u8bb0\u5f55\u548c\u5e03\u5c14\u8fd0\u7b97\u3002</p> <ul> <li>\u5e38\u89c1\u4f4d\u64cd\u4f5c\uff1a</li> <li><code>SETBIT key offset value</code>\uff1a\u5c06\u6307\u5b9a\u952e\u7684\u6307\u5b9a\u504f\u79fb\u4f4d\u7f6e\u8bbe\u7f6e\u4e3a 0 \u6216 1\u3002</li> <li><code>GETBIT key offset</code>\uff1a\u83b7\u53d6\u6307\u5b9a\u952e\u7684\u6307\u5b9a\u504f\u79fb\u4f4d\u7f6e\u7684\u503c\u3002</li> <li><code>BITCOUNT key [start end]</code>\uff1a\u7edf\u8ba1\u952e\u4e2d\u503c\u4e3a 1 \u7684\u4f4d\u7684\u6570\u91cf\u3002</li> <li> <p><code>BITOP operation destkey key [key ...]</code>\uff1a\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\u6267\u884c\u4f4d\u8fd0\u7b97\uff08AND\u3001OR\u3001XOR\u3001NOT\uff09\u3002</p> </li> <li> <p>\u5e94\u7528\u573a\u666f\uff1a</p> </li> <li>\u7528\u6237\u884c\u4e3a\u8ddf\u8e2a\uff1a\u9002\u7528\u4e8e\u8bb0\u5f55\u6bcf\u65e5\u7528\u6237\u767b\u5f55\u72b6\u6001\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f4d\u56fe\u6765\u7edf\u8ba1\u67d0\u4e00\u65f6\u95f4\u6bb5\u5185\u7684\u6d3b\u8dc3\u7528\u6237\u3002</li> <li> <p>A/B \u6d4b\u8bd5\uff1a\u901a\u8fc7\u4f4d\u64cd\u4f5c\u5feb\u901f\u5b9e\u73b0\u5927\u89c4\u6a21\u6570\u636e\u96c6\u5408\u7684\u4ea4\u96c6\u3001\u5e76\u96c6\u8fd0\u7b97\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li> <p>\u8bb0\u5f55\u7528\u6237\u6bcf\u65e5\u7b7e\u5230\uff1a     <code>sh     SETBIT user:1001:2024-09-04 1 1     GETBIT user:1001:2024-09-04 1     BITCOUNT user:1001:2024-09-04</code></p> </li> <li> <p>\u4f18\u7f3a\u70b9\uff1a</p> </li> <li>\u4f18\u70b9\uff1a\u8282\u7701\u7a7a\u95f4\uff0c\u64cd\u4f5c\u6548\u7387\u9ad8\uff0c\u9002\u5408\u5904\u7406\u5927\u89c4\u6a21\u5e03\u5c14\u96c6\u5408\u3002</li> <li>\u7f3a\u70b9\uff1a\u4ec5\u9002\u7528\u4e8e\u7279\u5b9a\u4f4d\u64cd\u4f5c\uff0c\u4e0d\u9002\u5408\u5b58\u50a8\u590d\u6742\u6570\u636e\u7ed3\u6784\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#100-redis-stream","title":"100. Redis \u7684 Stream \u6570\u636e\u7c7b\u578b","text":"<p>\u95ee\u9898\uff1a Redis 5.0 \u5f15\u5165\u7684 Stream \u6570\u636e\u7c7b\u578b\u662f\u4ec0\u4e48\uff1f\u5b83\u7684\u4f7f\u7528\u573a\u666f\u548c\u5e38\u7528\u547d\u4ee4\u6709\u54ea\u4e9b\uff1f</p> <p>\u56de\u7b54\uff1a - Stream \u6570\u636e\u7c7b\u578b\u6982\u5ff5\uff1a   - \u5b9a\u4e49\uff1aStream \u662f Redis 5.0 \u5f15\u5165\u7684\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u5904\u7406\u65e5\u5fd7\u3001\u6d88\u606f\u961f\u5217\u7b49\u6d41\u5f0f\u6570\u636e\uff0c\u7c7b\u4f3c\u4e8e Kafka \u7b49\u6d41\u5904\u7406\u7cfb\u7edf\u3002   - \u5b9e\u73b0\u539f\u7406\uff1aStream \u4ee5\u65f6\u95f4\u5e8f\u5217\u7684\u5f62\u5f0f\u5b58\u50a8\u6570\u636e\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u547d\u4ee4\u7528\u4e8e\u751f\u4ea7\u548c\u6d88\u8d39\u6d88\u606f\u3002</p> <ul> <li>\u5e38\u7528\u547d\u4ee4\uff1a</li> <li><code>XADD key ID field value [field value ...]</code>\uff1a\u5411 Stream \u4e2d\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55\uff0cID \u901a\u5e38\u662f\u7531 Redis \u81ea\u52a8\u751f\u6210\u7684\u65f6\u95f4\u6233\u3002</li> <li><code>XRANGE key start end [COUNT count]</code>\uff1a\u6309\u8303\u56f4\u8bfb\u53d6 Stream \u4e2d\u7684\u6570\u636e\u3002</li> <li><code>XREAD [COUNT count] [BLOCK milliseconds] STREAMS key ID [key ID ...]</code>\uff1a\u8bfb\u53d6 Stream \u4e2d\u7684\u65b0\u8bb0\u5f55\uff0cID \u4e3a\u4e0a\u6b21\u8bfb\u53d6\u7684\u4f4d\u7f6e\u3002</li> <li><code>XGROUP CREATE groupname key ID</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u6d88\u8d39\u7ec4\uff0c\u6d88\u8d39\u7ec4\u7684\u6d88\u8d39\u8005\u53ef\u4ee5\u5e76\u884c\u5904\u7406\u6d88\u606f\u3002</li> <li> <p><code>XREADGROUP GROUP groupname consumername STREAMS key ID</code>\uff1a\u4ece\u6d88\u8d39\u7ec4\u4e2d\u8bfb\u53d6\u6d88\u606f\u3002</p> </li> <li> <p>\u5e94\u7528\u573a\u666f\uff1a</p> </li> <li>\u65e5\u5fd7\u8bb0\u5f55\uff1a\u7528\u4e8e\u9ad8\u9891\u65e5\u5fd7\u7684\u5b9e\u65f6\u5b58\u50a8\u548c\u67e5\u8be2\u3002</li> <li>\u6d88\u606f\u961f\u5217\uff1aStream \u53ef\u4ee5\u4f5c\u4e3a\u8f7b\u91cf\u7ea7\u7684\u6d88\u606f\u961f\u5217\uff0c\u652f\u6301\u6d88\u8d39\u7ec4\u3001\u591a\u6d88\u8d39\u8005\u7b49\u529f\u80fd\u3002</li> <li> <p>\u4e8b\u4ef6\u6eaf\u6e90\uff1a\u9002\u5408\u7528\u4e8e\u4e8b\u4ef6\u6eaf\u6e90\u7cfb\u7edf\uff0c\u6309\u65f6\u95f4\u987a\u5e8f\u8bb0\u5f55\u4e8b\u4ef6\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>\u6dfb\u52a0\u65e5\u5fd7\u8bb0\u5f55\uff1a     <code>sh     XADD mystream * message \"Hello, Redis!\"     XRANGE mystream - +</code></li> <li> <p>\u6d88\u8d39\u7ec4\u4f7f\u7528\uff1a     <code>sh     XGROUP CREATE mygroup mystream $     XREADGROUP GROUP mygroup consumer1 STREAMS mystream &gt;</code></p> </li> <li> <p>\u4f18\u7f3a\u70b9\uff1a</p> </li> <li>\u4f18\u70b9\uff1a\u652f\u6301\u65f6\u95f4\u5e8f\u5217\u5b58\u50a8\u3001\u8f7b\u91cf\u7ea7\u6d88\u606f\u961f\u5217\u3001\u591a\u6d88\u8d39\u8005\u6a21\u578b\u3002</li> <li>\u7f3a\u70b9\uff1a\u9700\u8981\u4e00\u5b9a\u7684\u5b66\u4e60\u6210\u672c\uff0c\u4e0d\u9002\u7528\u4e8e\u7b80\u5355\u7684\u952e\u503c\u5b58\u50a8\u573a\u666f\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/interview/#_1","title":"\u8865\u5145\u9898\u76ee","text":"<p>Redis\u8865\u5145\u9898\u76ee</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/","title":"Redis \u5de5\u4f5c\u4e2d\u5e38\u89c1\u95ee\u9898","text":""},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#redis_1","title":"Redis \u5de5\u4f5c\u4e2d\u5e38\u89c1\u95ee\u9898\u53ca\u89e3\u51b3\u65b9\u6848\u8be6\u89e3","text":"<p>\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\uff0cRedis \u4f5c\u4e3a\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u5185\u5b58\u6570\u636e\u5e93\uff0c\u867d\u7136\u8868\u73b0\u975e\u5e38\u4f18\u79c0\uff0c\u4f46\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u4ecd\u7136\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u53ca\u5176\u89e3\u51b3\u65b9\u6848\u7684\u8be6\u89e3\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#1","title":"1. \u5185\u5b58\u4e0d\u8db3\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a Redis \u662f\u4e00\u4e2a\u5185\u5b58\u6570\u636e\u5e93\uff0c\u6240\u6709\u7684\u6570\u636e\u90fd\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u56e0\u6b64\u5185\u5b58\u4e0d\u8db3\u662f Redis \u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e38\u89c1\u7684\u95ee\u9898\u3002\u5f53 Redis \u5b9e\u4f8b\u7684\u5185\u5b58\u4f7f\u7528\u63a5\u8fd1\u670d\u52a1\u5668\u7269\u7406\u5185\u5b58\u9650\u5236\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 OOM\uff08Out of Memory\uff09\u9519\u8bef\uff0c\u751a\u81f3\u5bfc\u81f4 Redis \u8fdb\u7a0b\u88ab\u64cd\u4f5c\u7cfb\u7edf\u6740\u6b7b\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff1a   Redis \u63d0\u4f9b\u4e86\u591a\u79cd\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff08eviction policy\uff09\uff0c\u5982 <code>volatile-lru</code>\u3001<code>allkeys-lru</code>\u3001<code>volatile-ttl</code>\u3001<code>noeviction</code> \u7b49\u3002\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u6dd8\u6c70\u7b56\u7565\u3002   <code>bash   maxmemory-policy allkeys-lru</code></p> <ul> <li> <p>\u5408\u7406\u8bbe\u7f6e maxmemory\uff1a   \u914d\u7f6e <code>maxmemory</code> \u9650\u5236 Redis \u5b9e\u4f8b\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u3002   <code>bash   maxmemory 2gb</code></p> </li> <li> <p>\u4f18\u5316\u6570\u636e\u7ed3\u6784\uff1a   \u4f18\u5316\u5b58\u50a8\u5728 Redis \u4e2d\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4f8b\u5982\u4f7f\u7528\u66f4\u7d27\u51d1\u7684\u6570\u636e\u7ed3\u6784\u6216\u8005\u538b\u7f29\u6570\u636e\u3002</p> </li> <li> <p>\u5206\u5e03\u5f0f\u90e8\u7f72\uff1a   \u4f7f\u7528 Redis Cluster \u6216\u5206\u7247\uff08sharding\uff09\u673a\u5236\uff0c\u5c06\u6570\u636e\u5206\u6563\u5230\u591a\u4e2a Redis \u5b9e\u4f8b\u4e0a\uff0c\u4ee5\u51cf\u8f7b\u5355\u4e2a\u5b9e\u4f8b\u7684\u5185\u5b58\u538b\u529b\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#2-redis","title":"2. Redis \u963b\u585e\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u9ad8\u5e76\u53d1\u73af\u5883\u4e2d\uff0c\u67d0\u4e9b Redis \u547d\u4ee4\uff08\u5982 <code>BLPOP</code>\u3001<code>BRPOP</code>\uff09\u53ef\u80fd\u4f1a\u5f15\u53d1 Redis \u7684\u963b\u585e\u95ee\u9898\uff0c\u5bfc\u81f4 Redis \u65e0\u6cd5\u5904\u7406\u5176\u4ed6\u8bf7\u6c42\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u907f\u514d\u957f\u65f6\u95f4\u7684\u963b\u585e\u547d\u4ee4\uff1a   \u5728\u4f7f\u7528 <code>BLPOP</code> \u7b49\u547d\u4ee4\u65f6\uff0c\u8bbe\u7f6e\u5408\u7406\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u907f\u514d\u957f\u65f6\u95f4\u963b\u585e\u3002   <code>bash   BLPOP myqueue 1</code></p> <ul> <li> <p>\u4f7f\u7528\u975e\u963b\u585e\u547d\u4ee4\uff1a   \u5c3d\u91cf\u4f7f\u7528\u975e\u963b\u585e\u7684\u547d\u4ee4\u6216\u901a\u8fc7\u5ba2\u6237\u7aef\u5c42\u9762\u7684\u5f02\u6b65\u5904\u7406\u6765\u51cf\u5c11\u963b\u585e\u7684\u5f71\u54cd\u3002</p> </li> <li> <p>\u62c6\u5206\u5927\u547d\u4ee4\uff1a   \u5982\u679c\u547d\u4ee4\u5904\u7406\u7684\u6570\u636e\u91cf\u975e\u5e38\u5927\uff0c\u53ef\u4ee5\u5c06\u5176\u62c6\u5206\u4e3a\u591a\u4e2a\u5c0f\u547d\u4ee4\u6267\u884c\uff0c\u51cf\u5c11\u5355\u6b21\u547d\u4ee4\u7684\u6267\u884c\u65f6\u95f4\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#3","title":"3. \u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u4f7f\u7528 Redis \u65f6\uff0c\u7279\u522b\u662f\u5728\u4e3b\u4ece\u590d\u5236\uff08Replication\uff09\u548c\u96c6\u7fa4\u6a21\u5f0f\u4e0b\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u4e3b\u4ece\u540c\u6b65\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u8bfb\u5230\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u8bbe\u7f6e\u5408\u9002\u7684\u590d\u5236\u5ef6\u8fdf\u7b56\u7565\uff1a   \u901a\u8fc7\u8c03\u6574 <code>min-slaves-to-write</code> \u548c <code>min-slaves-max-lag</code> \u914d\u7f6e\uff0c\u786e\u4fdd\u4e3b\u8282\u70b9\u5728\u4e00\u5b9a\u6570\u91cf\u7684\u4ece\u8282\u70b9\u540c\u6b65\u6570\u636e\u540e\u518d\u8fdb\u884c\u5199\u5165\u64cd\u4f5c\u3002   <code>bash   min-slaves-to-write 1   min-slaves-max-lag 10</code></p> <ul> <li> <p>\u4f7f\u7528\u5f3a\u4e00\u81f4\u6027\u7b56\u7565\uff1a   \u5728 Redis Cluster \u6a21\u5f0f\u4e0b\uff0c\u901a\u8fc7\u914d\u7f6e <code>wait</code> \u547d\u4ee4\u786e\u4fdd\u5199\u64cd\u4f5c\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\u751f\u6548\u540e\u624d\u8fd4\u56de\u3002   <code>bash   WAIT 1 1000</code></p> </li> <li> <p>\u5408\u7406\u9009\u62e9\u6570\u636e\u4e00\u81f4\u6027\u7b56\u7565\uff1a   \u6839\u636e\u4e1a\u52a1\u9700\u6c42\uff0c\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u4e00\u81f4\u6027\u7b56\u7565\uff0c\u4f8b\u5982 CAP \u7406\u8bba\u4e2d\u7684 AP \u6216 CP \u6a21\u5f0f\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#4","title":"4. \u7f13\u5b58\u96ea\u5d29\u3001\u51fb\u7a7f\u548c\u7a7f\u900f\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a - \u7f13\u5b58\u96ea\u5d29\uff1a\u5927\u91cf\u7f13\u5b58\u540c\u65f6\u5931\u6548\uff0c\u5bfc\u81f4\u5927\u91cf\u8bf7\u6c42\u76f4\u63a5\u6253\u5230\u6570\u636e\u5e93\u4e0a\uff0c\u53ef\u80fd\u5f15\u53d1\u6570\u636e\u5e93\u538b\u529b\u8fc7\u5927\u751a\u81f3\u5d29\u6e83\u3002 - \u7f13\u5b58\u51fb\u7a7f\uff1a\u70ed\u70b9\u6570\u636e\u5728\u7f13\u5b58\u5931\u6548\u7684\u77ac\u95f4\uff0c\u6709\u5927\u91cf\u8bf7\u6c42\u540c\u65f6\u8bbf\u95ee\uff0c\u5bfc\u81f4\u6570\u636e\u5e93\u538b\u529b\u9aa4\u589e\u3002 - \u7f13\u5b58\u7a7f\u900f\uff1a\u67e5\u8be2\u7684 key \u4e0d\u5b58\u5728\u4e8e\u7f13\u5b58\u548c\u6570\u636e\u5e93\u4e2d\uff0c\u5bfc\u81f4\u6240\u6709\u8bf7\u6c42\u90fd\u6253\u5230\u6570\u636e\u5e93\u4e0a\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u7f13\u5b58\u96ea\u5d29\uff1a   - \u8bbe\u7f6e\u4e0d\u540c\u7684\u8fc7\u671f\u65f6\u95f4\uff1a\u5bf9\u4e0d\u540c\u7684\u7f13\u5b58\u8bbe\u7f6e\u4e0d\u540c\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u907f\u514d\u5927\u91cf\u7f13\u5b58\u540c\u65f6\u5931\u6548\u3002   - \u4f7f\u7528\u9501\u673a\u5236\uff1a\u5728\u7f13\u5b58\u91cd\u5efa\u65f6\uff0c\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u673a\u5236\u907f\u514d\u591a\u4e2a\u8bf7\u6c42\u540c\u65f6\u53bb\u67e5\u8be2\u6570\u636e\u5e93\u3002</p> <ul> <li>\u7f13\u5b58\u51fb\u7a7f\uff1a</li> <li>\u70ed\u70b9\u6570\u636e\u6c38\u4e0d\u8fc7\u671f\uff1a\u5bf9\u4e8e\u70ed\u70b9\u6570\u636e\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u6c38\u4e0d\u8fc7\u671f\u6216\u4f7f\u7528\u4e3b\u52a8\u66f4\u65b0\u673a\u5236\u3002</li> <li> <p>\u52a0\u9501\u6216\u961f\u5217\uff1a\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u6216\u8005\u961f\u5217\u673a\u5236\uff0c\u786e\u4fdd\u540c\u4e00\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u67e5\u8be2\u6570\u636e\u5e93\u3002</p> </li> <li> <p>\u7f13\u5b58\u7a7f\u900f\uff1a</p> </li> <li>\u7f13\u5b58\u7a7a\u503c\uff1a\u5bf9\u4e8e\u67e5\u8be2\u4e0d\u5230\u7684\u6570\u636e\uff0c\u5c06\u7a7a\u7ed3\u679c\u4e5f\u7f13\u5b58\u8d77\u6765\uff0c\u5e76\u8bbe\u7f6e\u77ed\u65f6\u95f4\u8fc7\u671f\u3002</li> <li>\u5e03\u9686\u8fc7\u6ee4\u5668\uff1a\u5728\u7f13\u5b58\u4e4b\u524d\uff0c\u4f7f\u7528\u5e03\u9686\u8fc7\u6ee4\u5668\u62e6\u622a\u4e0d\u5408\u6cd5\u7684 key\uff0c\u51cf\u5c11\u5bf9\u6570\u636e\u5e93\u7684\u538b\u529b\u3002</li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#5","title":"5. \u4e3b\u4ece\u5207\u6362\u7684\u8111\u88c2\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728 Redis \u4e3b\u4ece\u67b6\u6784\u4e2d\uff0c\u5982\u679c\u7f51\u7edc\u5206\u533a\u6216\u8005\u5176\u4ed6\u6545\u969c\u5bfc\u81f4\u4e3b\u4ece\u8282\u70b9\u5931\u8054\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u8111\u88c2\u95ee\u9898\uff0c\u5373\u6709\u591a\u4e2a\u8282\u70b9\u8ba4\u4e3a\u81ea\u5df1\u662f\u4e3b\u8282\u70b9\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u914d\u7f6e <code>protected-mode</code>\uff1a   \u5f00\u542f Redis \u7684 <code>protected-mode</code> \u4ee5\u907f\u514d\u5728\u7f51\u7edc\u5206\u533a\u540e\u51fa\u73b0\u591a\u4e2a\u4e3b\u8282\u70b9\u3002   <code>bash   protected-mode yes</code></p> <ul> <li> <p>\u4f7f\u7528 Redis Sentinel\uff1a   \u901a\u8fc7 Redis Sentinel \u5b9e\u73b0\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\uff0c\u5e76\u914d\u7f6e\u5408\u9002\u7684\u6545\u969c\u8f6c\u79fb\u65f6\u95f4\uff0c\u51cf\u5c11\u8111\u88c2\u53ef\u80fd\u6027\u3002   <code>bash   sentinel monitor mymaster 127.0.0.1 6379 2</code></p> </li> <li> <p>\u5b9a\u671f\u76d1\u63a7\u548c\u6d4b\u8bd5\uff1a   \u5b9a\u671f\u6d4b\u8bd5\u548c\u76d1\u63a7\u4e3b\u4ece\u8282\u70b9\u7684\u72b6\u6001\uff0c\u53ca\u65f6\u53d1\u73b0\u548c\u5904\u7406\u8111\u88c2\u95ee\u9898\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#6","title":"6. \u6301\u4e45\u5316\u6027\u80fd\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a Redis \u63d0\u4f9b RDB \u548c AOF \u4e24\u79cd\u6301\u4e45\u5316\u65b9\u5f0f\uff0c\u4f46\u5728\u9ad8\u5e76\u53d1\u5199\u5165\u573a\u666f\u4e0b\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cd\u6301\u4e45\u5316\u7684\u6027\u80fd\uff0c\u5bfc\u81f4\u5199\u5165\u5ef6\u8fdf\u6216\u8005\u6301\u4e45\u5316\u6587\u4ef6\u635f\u574f\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u8c03\u6574\u6301\u4e45\u5316\u914d\u7f6e\uff1a   \u6839\u636e\u4e1a\u52a1\u9700\u6c42\uff0c\u5408\u7406\u914d\u7f6e\u6301\u4e45\u5316\u53c2\u6570\uff0c\u5982 <code>save</code> \u7684\u9891\u7387\u3001<code>appendfsync</code> \u7684\u7b56\u7565\u3002   <code>bash   save 900 1   save 300 10   save 60 10000</code></p> <ul> <li> <p>RDB \u548c AOF \u6df7\u5408\u4f7f\u7528\uff1a   \u5728\u6ee1\u8db3\u6027\u80fd\u7684\u524d\u63d0\u4e0b\uff0c\u8003\u8651\u4f7f\u7528 RDB \u8fdb\u884c\u5b9a\u671f\u5feb\u7167\uff0cAOF \u8fdb\u884c\u589e\u91cf\u6301\u4e45\u5316\u3002</p> </li> <li> <p>\u5206\u7247\u5b58\u50a8\uff1a   \u5728\u5206\u5e03\u5f0f\u573a\u666f\u4e0b\uff0c\u4f7f\u7528\u5206\u7247\u5b58\u50a8\u6765\u5206\u6563\u6301\u4e45\u5316\u8d1f\u8f7d\uff0c\u51cf\u5c11\u5355\u70b9\u538b\u529b\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#7","title":"7. \u76d1\u63a7\u4e0e\u544a\u8b66\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u7f3a\u4e4f\u5bf9 Redis \u7684\u76d1\u63a7\u548c\u544a\u8b66\u53ef\u80fd\u4f1a\u5bfc\u81f4\u95ee\u9898\u53d1\u751f\u65f6\u65e0\u6cd5\u53ca\u65f6\u53d1\u73b0\uff0c\u8fdb\u800c\u5f71\u54cd\u4e1a\u52a1\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528 Redis \u81ea\u5e26\u7684\u76d1\u63a7\u547d\u4ee4\uff1a   \u901a\u8fc7 <code>INFO</code> \u547d\u4ee4\u76d1\u63a7 Redis \u7684\u8fd0\u884c\u72b6\u6001\u3002   <code>bash   redis-cli INFO</code></p> <ul> <li> <p>\u4f7f\u7528\u7b2c\u4e09\u65b9\u76d1\u63a7\u5de5\u5177\uff1a   \u5982 Prometheus + Grafana \u7ec4\u5408\uff0c\u901a\u8fc7 Redis Exporter \u83b7\u53d6\u76d1\u63a7\u6570\u636e\uff0c\u5e76\u8bbe\u7f6e\u544a\u8b66\u89c4\u5219\u3002</p> </li> <li> <p>\u65e5\u5fd7\u5206\u6790\uff1a   \u5b9a\u671f\u5206\u6790 Redis \u65e5\u5fd7\uff0c\u901a\u8fc7\u811a\u672c\u6216\u5de5\u5177\u68c0\u67e5\u5f02\u5e38\u65e5\u5fd7\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#8","title":"8. \u6570\u636e\u8fc1\u79fb\u4e0e\u5347\u7ea7\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u4e1a\u52a1\u6269\u5c55\u6216\u7cfb\u7edf\u5347\u7ea7\u8fc7\u7a0b\u4e2d\uff0cRedis \u6570\u636e\u8fc1\u79fb\u548c\u7248\u672c\u5347\u7ea7\u53ef\u80fd\u4f1a\u9047\u5230\u517c\u5bb9\u6027\u95ee\u9898\u6216\u6570\u636e\u4e22\u5931\u98ce\u9669\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528 <code>redis-cli --rdb</code> \u8fdb\u884c\u6570\u636e\u8fc1\u79fb\uff1a   \u5728\u8fc1\u79fb\u6570\u636e\u65f6\uff0c\u5148\u4f7f\u7528 <code>redis-cli --rdb</code> \u751f\u6210 RDB \u6587\u4ef6\uff0c\u518d\u5bfc\u5165\u65b0\u7684\u5b9e\u4f8b\u3002   <code>bash   redis-cli --rdb dump.rdb</code></p> <ul> <li> <p>\u4f7f\u7528 Redis Cluster \u8fdb\u884c\u5e73\u6ed1\u8fc1\u79fb\uff1a   \u5728\u591a\u8282\u70b9\u73af\u5883\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7 Redis Cluster \u5b9e\u73b0\u5e73\u6ed1\u7684\u6570\u636e\u8fc1\u79fb\u548c\u6269\u5bb9\u3002</p> </li> <li> <p>\u5347\u7ea7\u524d\u8fdb\u884c\u517c\u5bb9\u6027\u6d4b\u8bd5\uff1a   \u5728\u5347\u7ea7 Redis \u7248\u672c\u524d\uff0c\u5148\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8fdb\u884c\u517c\u5bb9\u6027\u6d4b\u8bd5\uff0c\u786e\u4fdd\u65b0\u7248\u672c\u80fd\u6b63\u5e38\u8fd0\u884c\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#9-redis","title":"9. Redis \u6027\u80fd\u4f18\u5316\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u968f\u7740\u4e1a\u52a1\u89c4\u6a21\u7684\u6269\u5927\uff0cRedis \u7684\u6027\u80fd\u53ef\u80fd\u4f1a\u51fa\u73b0\u74f6\u9888\uff0c\u5bfc\u81f4\u54cd\u5e94\u65f6\u95f4\u589e\u52a0\u6216\u541e\u5410\u91cf\u4e0b\u964d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5408\u7406\u9009\u62e9\u6570\u636e\u7ed3\u6784\uff1a   \u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\u5728 Redis \u4e2d\u6709\u4e0d\u540c\u7684\u6027\u80fd\u8868\u73b0\uff0c\u9009\u62e9\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\u975e\u5e38\u91cd\u8981\u3002\u4f8b\u5982\uff0c<code>HASH</code> \u9002\u7528\u4e8e\u5b58\u50a8\u8f83\u5c0f\u7684\u952e\u503c\u5bf9\u96c6\u5408\uff0c\u800c <code>SET</code> \u9002\u5408\u5904\u7406\u65e0\u5e8f\u96c6\u5408\u3002</p> <ul> <li> <p>\u51cf\u5c11\u963b\u585e\u64cd\u4f5c\uff1a   \u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u963b\u585e\u5f0f\u547d\u4ee4\uff08\u5982 <code>KEYS</code>\u3001<code>SORT</code>\uff09\u6216\u5927\u6570\u636e\u91cf\u64cd\u4f5c\uff08\u5982\u5bf9\u5927\u91cf\u5143\u7d20\u7684 <code>LRANGE</code>\uff09\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f1a\u963b\u585e Redis \u7684\u4e8b\u4ef6\u5faa\u73af\u3002</p> </li> <li> <p>\u4f7f\u7528 Pipelining\uff1a   \u5728\u9ad8\u5e76\u53d1\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u7ba1\u9053\uff08Pipelining\uff09\u6279\u91cf\u53d1\u9001\u547d\u4ee4\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u6027\u80fd\u3002   <code>python   pipe = r.pipeline()   for i in range(10000):       pipe.set(f'key{i}', i)   pipe.execute()</code></p> </li> <li> <p>\u5206\u7247\u548c\u96c6\u7fa4\uff1a   \u901a\u8fc7 Redis Cluster \u6216\u5206\u7247\u673a\u5236\uff0c\u5c06\u6570\u636e\u548c\u6d41\u91cf\u5206\u6563\u5230\u591a\u4e2a Redis \u5b9e\u4f8b\u4e0a\uff0c\u63d0\u5347\u6574\u4f53\u6027\u80fd\u3002</p> </li> <li> <p>\u5b9a\u671f\u6e05\u7406\uff1a   \u5b9a\u671f\u6e05\u7406\u4e0d\u5fc5\u8981\u7684\u952e\u503c\u5bf9\uff0c\u51cf\u5c11\u5185\u5b58\u5360\u7528\u548c CPU \u8d1f\u62c5\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#10-redis","title":"10. Redis \u4e2d\u7684\u70ed\u70b9\u6570\u636e\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728 Redis \u4e2d\uff0c\u67d0\u4e9b\u952e\u53ef\u80fd\u88ab\u9891\u7e41\u8bbf\u95ee\uff0c\u8fd9\u4f1a\u5bfc\u81f4 Redis \u7684\u8bfb\u5199\u4e0d\u5747\u8861\uff0c\u5f71\u54cd\u7cfb\u7edf\u7684\u6574\u4f53\u6027\u80fd\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528\u5206\u5e03\u5f0f\u7f13\u5b58\uff1a   \u901a\u8fc7\u5c06\u70ed\u70b9\u6570\u636e\u5206\u5e03\u5230\u591a\u4e2a Redis \u5b9e\u4f8b\u4e2d\uff0c\u51cf\u5c11\u5355\u4e2a\u5b9e\u4f8b\u7684\u538b\u529b\u3002</p> <ul> <li> <p>\u589e\u52a0\u526f\u672c\uff1a   \u589e\u52a0\u70ed\u70b9\u6570\u636e\u7684\u526f\u672c\uff0c\u5141\u8bb8\u66f4\u591a\u7684\u8bfb\u8bf7\u6c42\u5206\u5e03\u5230\u4e0d\u540c\u7684\u526f\u672c\u4e0a\uff0c\u7f13\u89e3\u5355\u70b9\u538b\u529b\u3002</p> </li> <li> <p>\u51b7\u70ed\u6570\u636e\u5206\u79bb\uff1a   \u5c06\u70ed\u70b9\u6570\u636e\uff08\u51b7\u6570\u636e\uff09\u4e0e\u4e00\u822c\u6570\u636e\u5206\u5f00\u5b58\u50a8\uff0c\u5206\u522b\u8fdb\u884c\u4e0d\u540c\u7684\u7f13\u5b58\u7b56\u7565\u4f18\u5316\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#11-redis","title":"11. Redis \u4e0e\u6301\u4e45\u5316\u5b58\u50a8\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5f53 Redis \u4f5c\u4e3a\u7f13\u5b58\u5c42\u4e0e\u6301\u4e45\u5316\u5b58\u50a8\uff08\u5982 MySQL\u3001PostgreSQL\uff09\u914d\u5408\u4f7f\u7528\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002\u4f8b\u5982\uff0c\u5728 Redis \u4e2d\u7684\u6570\u636e\u4e0e\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u4e0d\u540c\u6b65\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528\u6d88\u606f\u961f\u5217\uff1a   \u4f7f\u7528\u6d88\u606f\u961f\u5217\uff08\u5982 Kafka\u3001RabbitMQ\uff09\u8fdb\u884c\u5f02\u6b65\u66f4\u65b0\uff0c\u786e\u4fdd Redis \u548c\u6301\u4e45\u5316\u5b58\u50a8\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\u3002</p> <ul> <li> <p>\u4f7f\u7528\u53cc\u5199\u673a\u5236\uff1a   \u5728\u66f4\u65b0\u6570\u636e\u5e93\u7684\u540c\u65f6\uff0c\u4e5f\u66f4\u65b0 Redis \u7f13\u5b58\uff0c\u786e\u4fdd\u4e24\u4e2a\u5b58\u50a8\u7cfb\u7edf\u7684\u6570\u636e\u540c\u6b65\u3002</p> </li> <li> <p>\u7f13\u5b58\u66f4\u65b0\u7b56\u7565\uff1a   \u91c7\u7528\u5408\u9002\u7684\u7f13\u5b58\u66f4\u65b0\u7b56\u7565\uff0c\u5982\u7f13\u5b58\u5931\u6548\u7b56\u7565\uff08cache-aside pattern\uff09\uff0c\u907f\u514d\u7f13\u5b58\u548c\u6570\u636e\u5e93\u6570\u636e\u4e0d\u4e00\u81f4\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#12-redis","title":"12. Redis \u7684\u76d1\u63a7\u4e0e\u62a5\u8b66\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u7f3a\u4e4f\u5bf9 Redis \u7684\u76d1\u63a7\u548c\u62a5\u8b66\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u51fa\u73b0\u95ee\u9898\u65f6\u4e0d\u80fd\u53ca\u65f6\u53d1\u73b0\uff0c\u4ece\u800c\u5f71\u54cd\u4e1a\u52a1\u7684\u7a33\u5b9a\u6027\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u4f7f\u7528 <code>INFO</code> \u547d\u4ee4\u8fdb\u884c\u76d1\u63a7\uff1a   Redis \u63d0\u4f9b\u4e86 <code>INFO</code> \u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770b\u670d\u52a1\u5668\u7684\u72b6\u6001\u548c\u6027\u80fd\u6307\u6807\u3002   <code>bash   redis-cli INFO</code></p> <ul> <li> <p>\u914d\u7f6e Redis \u7684\u65e5\u5fd7\u7ea7\u522b\uff1a   \u8bbe\u7f6e\u9002\u5f53\u7684\u65e5\u5fd7\u7ea7\u522b\uff08\u5982 <code>debug</code>\u3001<code>notice</code>\uff09\uff0c\u4ee5\u4fbf\u83b7\u53d6\u8db3\u591f\u7684\u4fe1\u606f\u6765\u76d1\u63a7 Redis \u7684\u8fd0\u884c\u60c5\u51b5\u3002</p> </li> <li> <p>\u7b2c\u4e09\u65b9\u76d1\u63a7\u5de5\u5177\uff1a   \u4f7f\u7528\u5982 Prometheus\u3001Grafana \u7b49\u7b2c\u4e09\u65b9\u76d1\u63a7\u5de5\u5177\uff0c\u5bf9 Redis \u7684\u6027\u80fd\u6307\u6807\u8fdb\u884c\u53ef\u89c6\u5316\u76d1\u63a7\uff0c\u5e76\u8bbe\u7f6e\u62a5\u8b66\u673a\u5236\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#13-redis","title":"13. Redis \u7684\u6570\u636e\u6062\u590d\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5f53 Redis \u5b9e\u4f8b\u5d29\u6e83\u6216\u6570\u636e\u635f\u574f\u65f6\uff0c\u5982\u4f55\u5feb\u901f\u6062\u590d\u6570\u636e\u662f\u4e00\u4e2a\u975e\u5e38\u5173\u952e\u7684\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5b9a\u671f\u5907\u4efd\uff1a   \u5b9a\u671f\u6267\u884c Redis \u6570\u636e\u5907\u4efd\uff08\u5982\u751f\u6210 RDB \u5feb\u7167\u6216 AOF \u6587\u4ef6\uff09\uff0c\u4ee5\u786e\u4fdd\u5728\u51fa\u73b0\u6545\u969c\u65f6\u80fd\u591f\u6062\u590d\u6570\u636e\u3002</p> <ul> <li> <p>\u4f7f\u7528 RDB \u548c AOF \u7ec4\u5408\u7b56\u7565\uff1a   \u7ed3\u5408\u4f7f\u7528 RDB \u548c AOF\uff0c\u65e2\u4fdd\u8bc1\u6570\u636e\u7684\u6062\u590d\u901f\u5ea6\uff0c\u4e5f\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002</p> </li> <li> <p>\u4f7f\u7528 <code>redis-check-aof</code> \u4fee\u590d\u5de5\u5177\uff1a   \u5f53 AOF \u6587\u4ef6\u635f\u574f\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 Redis \u63d0\u4f9b\u7684 <code>redis-check-aof</code> \u5de5\u5177\u8fdb\u884c\u4fee\u590d\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#14-redis","title":"14. Redis \u7684\u7248\u672c\u517c\u5bb9\u6027\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u5347\u7ea7 Redis \u7248\u672c\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u7248\u672c\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u5982\u65b0\u7248\u672c\u4e0d\u652f\u6301\u65e7\u7248\u672c\u7684\u4e00\u4e9b\u914d\u7f6e\u6216\u547d\u4ee4\uff0c\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8fdb\u884c\u5168\u9762\u6d4b\u8bd5\uff1a   \u5728\u6b63\u5f0f\u5347\u7ea7 Redis \u4e4b\u524d\uff0c\u5148\u5728\u6d4b\u8bd5\u73af\u5883\u4e2d\u8fdb\u884c\u5168\u9762\u7684\u517c\u5bb9\u6027\u6d4b\u8bd5\uff0c\u786e\u4fdd\u65b0\u7248\u672c\u4e0d\u4f1a\u5bf9\u73b0\u6709\u4e1a\u52a1\u4ea7\u751f\u5f71\u54cd\u3002</p> <ul> <li> <p>\u9010\u6b65\u5347\u7ea7\uff1a   \u5982\u679c\u6d89\u53ca\u5230\u591a\u4e2a Redis \u5b9e\u4f8b\uff0c\u5efa\u8bae\u9010\u6b65\u5347\u7ea7\uff0c\u6bcf\u6b21\u5347\u7ea7\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u76d1\u63a7\u5176\u8fd0\u884c\u60c5\u51b5\u3002</p> </li> <li> <p>\u9605\u8bfb\u7248\u672c\u53d1\u5e03\u8bf4\u660e\uff1a   \u5728\u5347\u7ea7\u524d\u4ed4\u7ec6\u9605\u8bfb Redis \u7684\u7248\u672c\u53d1\u5e03\u8bf4\u660e\uff0c\u4e86\u89e3\u65b0\u7248\u672c\u7684\u7279\u6027\u548c\u53ef\u80fd\u7684\u7834\u574f\u6027\u53d8\u66f4\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#15-redis","title":"15. Redis \u7684\u5185\u5b58\u788e\u7247\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u968f\u7740 Redis \u4e2d\u6570\u636e\u7684\u9891\u7e41\u5199\u5165\u548c\u5220\u9664\uff0c\u5185\u5b58\u788e\u7247\u4f1a\u9010\u6e10\u589e\u591a\uff0c\u5bfc\u81f4 Redis \u7684\u5185\u5b58\u5229\u7528\u6548\u7387\u964d\u4f4e\uff0c\u751a\u81f3\u51fa\u73b0 OOM\uff08Out of Memory\uff09\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5185\u5b58\u788e\u7247\u7684\u68c0\u6d4b\uff1a   \u4f7f\u7528 <code>INFO MEMORY</code> \u547d\u4ee4\u67e5\u770b Redis \u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u5305\u62ec\u5185\u5b58\u788e\u7247\u7387\uff08fragmentation ratio\uff09\u3002\u5982\u679c\u788e\u7247\u7387\u9ad8\uff0c\u53ef\u4ee5\u8003\u8651\u8fdb\u884c\u5185\u5b58\u4f18\u5316\u3002</p> <p><code>bash   redis-cli INFO MEMORY</code></p> <ul> <li> <p>\u8c03\u6574 maxmemory-policy\uff1a   \u901a\u8fc7\u914d\u7f6e <code>maxmemory-policy</code>\uff0c\u8bbe\u7f6e\u5408\u7406\u7684\u5185\u5b58\u56de\u6536\u7b56\u7565\uff0c\u6bd4\u5982\u4f7f\u7528 LRU\uff08Least Recently Used\uff09\u7b56\u7565\u6765\u4f18\u5148\u5220\u9664\u4e0d\u5e38\u7528\u7684\u952e\u3002</p> </li> <li> <p>\u5b9a\u671f\u8fdb\u884c\u5185\u5b58\u6574\u7406\uff1a   \u5728 Redis \u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u8003\u8651\u5b9a\u671f\u8fdb\u884c\u5185\u5b58\u6574\u7406\u64cd\u4f5c\uff0c\u51cf\u5c11\u788e\u7247\u4ea7\u751f\u3002\u6b64\u64cd\u4f5c\u9700\u8981\u5728\u4e1a\u52a1\u4f4e\u5cf0\u671f\u8fdb\u884c\uff0c\u4ee5\u907f\u514d\u5bf9\u670d\u52a1\u4ea7\u751f\u5f71\u54cd\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#16-redis","title":"16. Redis \u7684\u6162\u67e5\u8be2\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728 Redis \u4e2d\uff0c\u67d0\u4e9b\u590d\u6742\u67e5\u8be2\u53ef\u80fd\u6267\u884c\u65f6\u95f4\u8f83\u957f\uff0c\u5f71\u54cd\u6574\u4f53\u6027\u80fd\u3002\u8fd9\u79cd\u73b0\u8c61\u901a\u5e38\u88ab\u79f0\u4e3a\u201c\u6162\u67e5\u8be2\u201d\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u542f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a   Redis \u63d0\u4f9b\u4e86\u6162\u67e5\u8be2\u65e5\u5fd7\u529f\u80fd\uff0c\u53ef\u4ee5\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u9608\u503c\u7684\u547d\u4ee4\u3002\u901a\u8fc7\u914d\u7f6e <code>slowlog-log-slower-than</code> \u548c <code>slowlog-max-len</code> \u53c2\u6570\uff0c\u53ef\u4ee5\u542f\u7528\u548c\u8c03\u6574\u6162\u67e5\u8be2\u65e5\u5fd7\u3002</p> <p><code>bash   CONFIG SET slowlog-log-slower-than 10000  # \u8bbe\u7f6e\u6162\u67e5\u8be2\u9608\u503c\u4e3a10ms   CONFIG SET slowlog-max-len 128            # \u8bbe\u7f6e\u6162\u67e5\u8be2\u65e5\u5fd7\u6700\u5927\u957f\u5ea6</code></p> <ul> <li> <p>\u5206\u6790\u6162\u67e5\u8be2\u65e5\u5fd7\uff1a   \u4f7f\u7528 <code>SLOWLOG GET</code> \u547d\u4ee4\u67e5\u770b\u6700\u8fd1\u7684\u6162\u67e5\u8be2\u8bb0\u5f55\uff0c\u6839\u636e\u67e5\u8be2\u65e5\u5fd7\u5b9a\u4f4d\u548c\u4f18\u5316\u6162\u67e5\u8be2\u547d\u4ee4\u3002</p> </li> <li> <p>\u4f18\u5316\u67e5\u8be2\uff1a   \u5bf9\u4e8e\u5e38\u89c1\u7684\u6162\u67e5\u8be2\uff0c\u8003\u8651\u4f7f\u7528\u66f4\u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784\u6216\u91cd\u65b0\u8bbe\u8ba1\u67e5\u8be2\u903b\u8f91\uff0c\u907f\u514d\u4f7f\u7528\u590d\u6742\u547d\u4ee4\uff08\u5982 <code>SORT</code>\u3001<code>ZRANGE</code>\uff09\u5904\u7406\u5927\u6570\u636e\u91cf\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#17-redis","title":"17. Redis \u7684\u9ad8\u53ef\u7528\u6027\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0cRedis \u4f5c\u4e3a\u7f13\u5b58\u6216\u6570\u636e\u5e93\u7684\u5355\u70b9\u6545\u969c\u4f1a\u5bf9\u4e1a\u52a1\u4ea7\u751f\u4e25\u91cd\u5f71\u54cd\uff0c\u56e0\u6b64\u9700\u8981\u4fdd\u8bc1 Redis \u7684\u9ad8\u53ef\u7528\u6027\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - Redis Sentinel\uff1a   \u4f7f\u7528 Redis Sentinel \u5b9e\u73b0 Redis \u7684\u9ad8\u53ef\u7528\u6027\u3002Sentinel \u53ef\u4ee5\u81ea\u52a8\u76d1\u63a7\u4e3b\u8282\u70b9\u7684\u72b6\u6001\uff0c\u5f53\u4e3b\u8282\u70b9\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u81ea\u52a8\u8fdb\u884c\u4e3b\u4ece\u5207\u6362\uff0c\u786e\u4fdd\u670d\u52a1\u7684\u6301\u7eed\u6027\u3002</p> <ul> <li> <p>Redis Cluster\uff1a   Redis Cluster \u662f\u4e00\u79cd\u5206\u5e03\u5f0f\u7684 Redis \u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7\u5c06\u6570\u636e\u5206\u7247\u5b58\u50a8\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\uff0c\u786e\u4fdd\u5373\u4f7f\u67d0\u4e9b\u8282\u70b9\u51fa\u73b0\u6545\u969c\uff0c\u5176\u4ed6\u8282\u70b9\u4ecd\u80fd\u7ee7\u7eed\u670d\u52a1\u3002Cluster \u8fd8\u5177\u5907\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\u7684\u529f\u80fd\u3002</p> </li> <li> <p>\u4f7f\u7528 Keepalived\uff1a   \u914d\u5408 Keepalived \u5b9e\u73b0 Redis \u7684\u865a\u62df IP \u5207\u6362\u3002\u5f53\u4e3b\u8282\u70b9\u6545\u969c\u65f6\uff0cKeepalived \u4f1a\u81ea\u52a8\u5c06\u865a\u62df IP \u5207\u6362\u5230\u5907\u8282\u70b9\uff0c\u4fdd\u969c\u670d\u52a1\u7684\u53ef\u7528\u6027\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#18-redis","title":"18. Redis \u4e0e\u5176\u4ed6\u5b58\u50a8\u7cfb\u7edf\u7684\u6df7\u5408\u4f7f\u7528\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728\u5927\u578b\u7cfb\u7edf\u4e2d\uff0c\u901a\u5e38\u4f1a\u540c\u65f6\u4f7f\u7528 Redis \u548c\u5176\u4ed6\u5b58\u50a8\u7cfb\u7edf\uff08\u5982 MySQL\u3001Elasticsearch \u7b49\uff09\uff0c\u4f46\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5982\u4f55\u9ad8\u6548\u534f\u540c\u7684\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5408\u7406\u7684\u6570\u636e\u5206\u5c42\uff1a   \u6839\u636e\u4e1a\u52a1\u9700\u6c42\uff0c\u5c06\u6570\u636e\u8fdb\u884c\u5206\u5c42\u5b58\u50a8\uff0c\u4f8b\u5982\uff0c\u70ed\u6570\u636e\u5b58\u50a8\u5728 Redis \u4e2d\uff0c\u51b7\u6570\u636e\u5b58\u50a8\u5728 MySQL \u4e2d\uff1b\u5b9e\u65f6\u67e5\u8be2\u4f7f\u7528 Redis\uff0c\u590d\u6742\u67e5\u8be2\u4f7f\u7528 Elasticsearch\u3002</p> <ul> <li> <p>\u5f02\u6b65\u540c\u6b65\u673a\u5236\uff1a   \u4f7f\u7528\u6d88\u606f\u961f\u5217\u6216\u4efb\u52a1\u8c03\u5ea6\u5668\uff0c\u5c06 Redis \u4e0e\u5176\u4ed6\u5b58\u50a8\u7cfb\u7edf\u7684\u6570\u636e\u5f02\u6b65\u540c\u6b65\uff0c\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u4e0e\u5b8c\u6574\u6027\u3002</p> </li> <li> <p>\u7f13\u5b58\u7a7f\u900f\u4e0e\u7f13\u5b58\u96ea\u5d29\u7684\u5904\u7406\uff1a   \u5728\u4f7f\u7528 Redis \u7f13\u5b58\u65f6\uff0c\u9632\u6b62\u7f13\u5b58\u7a7f\u900f\u4e0e\u7f13\u5b58\u96ea\u5d29\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u7f13\u5b58\u7a7f\u900f\u53ef\u4ee5\u901a\u8fc7\u5e03\u9686\u8fc7\u6ee4\u5668\u89e3\u51b3\uff0c\u7f13\u5b58\u96ea\u5d29\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u968f\u673a\u8fc7\u671f\u65f6\u95f4\u548c\u9650\u6d41\u63aa\u65bd\u7f13\u89e3\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#19-redis","title":"19. Redis \u7684\u51b7\u542f\u52a8\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a \u5728 Redis \u51b7\u542f\u52a8\u65f6\uff0c\u7531\u4e8e\u7f13\u5b58\u4e3a\u7a7a\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5927\u91cf\u8bf7\u6c42\u76f4\u63a5\u6253\u5230\u6570\u636e\u5e93\uff0c\u5bfc\u81f4\u6570\u636e\u5e93\u8d1f\u8f7d\u6fc0\u589e\uff0c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u9884\u70ed\u7f13\u5b58\uff1a   \u5728 Redis \u51b7\u542f\u52a8\u524d\uff0c\u9884\u5148\u5c06\u70ed\u70b9\u6570\u636e\u52a0\u8f7d\u5230\u7f13\u5b58\u4e2d\uff0c\u907f\u514d\u51b7\u542f\u52a8\u65f6\u5927\u91cf\u8bf7\u6c42\u6d8c\u5165\u6570\u636e\u5e93\u3002</p> <ul> <li> <p>\u5206\u6b65\u52a0\u8f7d\uff1a   \u5206\u6279\u52a0\u8f7d\u7f13\u5b58\u6570\u636e\uff0c\u9010\u6b65\u6062\u590d Redis \u7684\u7f13\u5b58\u72b6\u6001\uff0c\u51cf\u8f7b\u6570\u636e\u5e93\u538b\u529b\u3002</p> </li> <li> <p>\u9650\u6d41\u63aa\u65bd\uff1a   \u5728 Redis \u51b7\u542f\u52a8\u671f\u95f4\uff0c\u5bf9\u6570\u636e\u5e93\u8bf7\u6c42\u8fdb\u884c\u9650\u6d41\uff0c\u9632\u6b62\u6570\u636e\u5e93\u56e0\u6d41\u91cf\u6fc0\u589e\u800c\u5d29\u6e83\u3002</p> </li> </ul>"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/questions/#20-redis","title":"20. Redis \u7684\u6570\u636e\u8fc7\u671f\u4e0e\u6e05\u7406\u95ee\u9898","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a Redis \u4e2d\u7684\u952e\u503c\u5bf9\u53ef\u4ee5\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u4f46\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u6570\u636e\u7684\u8fc7\u671f\u4e0e\u6e05\u7406\u7b56\u7565\u9700\u8981\u7cbe\u7ec6\u8c03\u6574\uff0c\u4ee5\u907f\u514d\u5bf9\u6027\u80fd\u9020\u6210\u5f71\u54cd\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a - \u5408\u7406\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1a   \u4e3a\u6bcf\u4e2a\u952e\u8bbe\u7f6e\u5408\u7406\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u907f\u514d\u6570\u636e\u957f\u671f\u5360\u7528\u5185\u5b58\u3002\u53ef\u4ee5\u901a\u8fc7 <code>EXPIRE</code> \u547d\u4ee4\u4e3a\u952e\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\u3002</p> <p><code>bash   EXPIRE mykey 60  # \u8bbe\u7f6e mykey \u7684\u8fc7\u671f\u65f6\u95f4\u4e3a60\u79d2</code></p> <ul> <li> <p>\u4f7f\u7528 <code>volatile-*</code> \u7b56\u7565\uff1a   \u914d\u7f6e Redis \u7684\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\u4e3a <code>volatile-*</code>\uff0c\u5373\u53ea\u5bf9\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684\u952e\u8fdb\u884c\u5185\u5b58\u56de\u6536\u3002</p> </li> <li> <p>\u5b9a\u671f\u6e05\u7406\u673a\u5236\uff1a   \u4f7f\u7528 Redis \u7684\u5185\u7f6e\u673a\u5236\uff0c\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u6570\u636e\uff0c\u907f\u514d\u8fc7\u671f\u6570\u636e\u957f\u65f6\u95f4\u9a7b\u7559\u5185\u5b58\u3002</p> </li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/","title":"nginx \u57fa\u7840","text":"<p>Nginx \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684 HTTP \u670d\u52a1\u5668\u3001\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u548c\u90ae\u4ef6\u4ee3\u7406\u670d\u52a1\u5668\u3002\u5b83\u88ab\u5e7f\u6cdb\u7528\u4e8e\u8d1f\u8f7d\u5747\u8861\u3001\u9759\u6001\u5185\u5bb9\u63d0\u4f9b\u3001\u53cd\u5411\u4ee3\u7406\u7b49\u5e94\u7528\u573a\u666f\u3002\u4ee5\u4e0b\u662f Nginx \u7684\u8be6\u7ec6\u6559\u7a0b\uff0c\u6db5\u76d6\u4ece\u57fa\u672c\u5b89\u88c5\u5230\u914d\u7f6e\u548c\u5e38\u89c1\u5e94\u7528\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_1","title":"\u4e00\u3001Nginx \u7b80\u4ecb","text":"<p>Nginx \u7531 Igor Sysoev \u5f00\u53d1\uff0c\u6700\u521d\u7528\u4e8e\u4fc4\u7f57\u65af\u7684 Rambler.ru \u7f51\u7ad9\u3002\u5b83\u4ee5\u9ad8\u6027\u80fd\u3001\u4f4e\u8d44\u6e90\u6d88\u8017\u548c\u6a21\u5757\u5316\u8bbe\u8ba1\u8457\u79f0\uff0c\u80fd\u591f\u5904\u7406\u5927\u91cf\u7684\u5e76\u53d1\u8fde\u63a5\uff0c\u662f\u5f53\u524d\u6700\u53d7\u6b22\u8fce\u7684 Web \u670d\u52a1\u5668\u4e4b\u4e00\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_2","title":"\u4e8c\u3001Nginx \u5b89\u88c5","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#21-ubuntu","title":"2.1 \u5728 Ubuntu \u4e0a\u5b89\u88c5","text":"<pre><code>sudo apt update\nsudo apt install nginx\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#22-centos","title":"2.2 \u5728 CentOS \u4e0a\u5b89\u88c5","text":"<pre><code>sudo yum update\nsudo yum install nginx\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#23-nginx","title":"2.3 \u542f\u52a8\u548c\u7ba1\u7406 Nginx","text":"<p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6765\u542f\u52a8\u3001\u505c\u6b62\u548c\u91cd\u542f Nginx\uff1a</p> <pre><code>sudo systemctl start nginx    # \u542f\u52a8 Nginx\nsudo systemctl stop nginx     # \u505c\u6b62 Nginx\nsudo systemctl restart nginx  # \u91cd\u542f Nginx\n</code></pre> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee <code>http://your_server_ip/</code> \u6765\u68c0\u67e5 Nginx \u662f\u5426\u8fd0\u884c\u6210\u529f\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_3","title":"\u4e09\u3001Nginx \u914d\u7f6e\u6587\u4ef6\u7ed3\u6784","text":"<p>Nginx \u7684\u4e3b\u914d\u7f6e\u6587\u4ef6\u901a\u5e38\u4f4d\u4e8e <code>/etc/nginx/nginx.conf</code>\u3002Nginx \u7684\u914d\u7f6e\u6587\u4ef6\u7531\u6307\u4ee4\u548c\u5757\u7ec4\u6210\uff0c\u5e38\u89c1\u7684\u5757\u5305\u62ec <code>events</code>\u3001<code>http</code> \u548c <code>server</code> \u5757\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#31","title":"3.1 \u914d\u7f6e\u6587\u4ef6\u793a\u4f8b","text":"<pre><code>user  nginx;\nworker_processes  1;\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    include /etc/nginx/conf.d/*.conf;\n}\n</code></pre> <ul> <li><code>user</code>\uff1a\u6307\u5b9a\u8fd0\u884c Nginx \u7684\u7528\u6237\u3002</li> <li><code>worker_processes</code>\uff1a\u6307\u5b9a\u5de5\u4f5c\u8fdb\u7a0b\u7684\u6570\u91cf\u3002</li> <li><code>error_log</code>\uff1a\u5b9a\u4e49\u9519\u8bef\u65e5\u5fd7\u7684\u8def\u5f84\u3002</li> <li><code>events</code>\uff1a\u8bbe\u7f6e\u5de5\u4f5c\u8fdb\u7a0b\u7684\u4e8b\u4ef6\u5904\u7406\u6a21\u578b\u3002</li> <li><code>http</code>\uff1a\u5305\u542b\u5904\u7406 HTTP \u8bf7\u6c42\u7684\u914d\u7f6e\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_4","title":"\u56db\u3001Nginx \u57fa\u672c\u914d\u7f6e","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#41-server-block","title":"4.1 \u521b\u5efa\u670d\u52a1\u5668\u5757\uff08Server Block\uff09","text":"<p>\u670d\u52a1\u5668\u5757\u7528\u4e8e\u5b9a\u4e49\u4e0d\u540c\u7684\u7f51\u7ad9\u914d\u7f6e\uff0c\u7c7b\u4f3c\u4e8e Apache \u7684\u865a\u62df\u4e3b\u673a\u3002\u4f60\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u7ad9\u70b9\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684\u670d\u52a1\u5668\u5757\u3002</p> <pre><code>server {\n    listen       80;\n    server_name  example.com www.example.com;\n\n    location / {\n        root   /var/www/example.com;\n        index  index.html index.htm;\n    }\n\n    error_page  404 /404.html;\n    location = /40x.html {\n    }\n\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n    }\n}\n</code></pre> <ul> <li><code>listen</code>\uff1a\u6307\u5b9a Nginx \u76d1\u542c\u7684\u7aef\u53e3\uff08\u901a\u5e38\u4e3a 80 \u6216 443\uff09\u3002</li> <li><code>server_name</code>\uff1a\u5b9a\u4e49\u670d\u52a1\u5668\u540d\u79f0\uff0c\u53ef\u4ee5\u662f\u57df\u540d\u6216 IP \u5730\u5740\u3002</li> <li><code>location</code>\uff1a\u5b9a\u4e49\u8bf7\u6c42 URI \u5339\u914d\u7684\u5904\u7406\u65b9\u5f0f\u3002</li> <li><code>root</code>\uff1a\u6307\u5b9a\u7ad9\u70b9\u7684\u6839\u76ee\u5f55\u3002</li> <li><code>index</code>\uff1a\u5b9a\u4e49\u9ed8\u8ba4\u7684\u7d22\u5f15\u6587\u4ef6\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#42","title":"4.2 \u8bbe\u7f6e\u9ed8\u8ba4\u7ad9\u70b9","text":"<p>\u9ed8\u8ba4\u7ad9\u70b9\u901a\u5e38\u914d\u7f6e\u5728 <code>/etc/nginx/sites-available/default</code> \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\u6765\u8bbe\u7f6e\u9ed8\u8ba4\u7ad9\u70b9\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_5","title":"\u4e94\u3001Nginx \u53cd\u5411\u4ee3\u7406","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#51","title":"5.1 \u57fa\u672c\u53cd\u5411\u4ee3\u7406\u914d\u7f6e","text":"<p>Nginx \u53ef\u4ee5\u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230\u540e\u7aef\u670d\u52a1\u5668\u3002</p> <pre><code>server {\n    listen 80;\n    server_name example.com;\n\n    location / {\n        proxy_pass http://localhost:8080;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n</code></pre> <ul> <li><code>proxy_pass</code>\uff1a\u5b9a\u4e49\u8bf7\u6c42\u8f6c\u53d1\u7684\u540e\u7aef\u670d\u52a1\u5668\u3002</li> <li><code>proxy_set_header</code>\uff1a\u8bbe\u7f6e\u4f20\u9012\u5230\u540e\u7aef\u670d\u52a1\u5668\u7684\u5934\u4fe1\u606f\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_6","title":"\u516d\u3001Nginx \u8d1f\u8f7d\u5747\u8861","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#61","title":"6.1 \u8f6e\u8be2\u8d1f\u8f7d\u5747\u8861","text":"<p>Nginx \u652f\u6301\u591a\u79cd\u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\uff0c\u8f6e\u8be2\u662f\u6700\u57fa\u672c\u7684\u4e00\u79cd\u3002</p> <pre><code>upstream backend {\n    server backend1.example.com;\n    server backend2.example.com;\n}\n\nserver {\n    location / {\n        proxy_pass http://backend;\n    }\n}\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#62","title":"6.2 \u52a0\u6743\u8f6e\u8be2\u8d1f\u8f7d\u5747\u8861","text":"<p>\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u670d\u52a1\u5668\u5206\u914d\u4e0d\u540c\u7684\u6743\u91cd\uff0c\u4ee5\u4fbf\u67d0\u4e9b\u670d\u52a1\u5668\u5904\u7406\u66f4\u591a\u7684\u8bf7\u6c42\u3002</p> <pre><code>upstream backend {\n    server backend1.example.com weight=3;\n    server backend2.example.com weight=1;\n}\n\nserver {\n    location / {\n        proxy_pass http://backend;\n    }\n}\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_7","title":"\u4e03\u3001Nginx \u5b89\u5168\u914d\u7f6e","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#71-https","title":"7.1 \u8bbe\u7f6e HTTPS","text":"<p>Nginx \u652f\u6301 SSL/TLS\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e HTTPS \u6765\u4fdd\u62a4\u7f51\u7ad9\u5b89\u5168\u3002</p> <pre><code>server {\n    listen 443 ssl;\n    server_name example.com;\n\n    ssl_certificate /etc/ssl/certs/example.com.crt;\n    ssl_certificate_key /etc/ssl/private/example.com.key;\n\n    location / {\n        root   /var/www/example.com;\n        index  index.html index.htm;\n    }\n}\n</code></pre> <ul> <li><code>ssl_certificate</code>\uff1a\u6307\u5b9a SSL \u8bc1\u4e66\u6587\u4ef6\u8def\u5f84\u3002</li> <li><code>ssl_certificate_key</code>\uff1a\u6307\u5b9a SSL \u8bc1\u4e66\u5bc6\u94a5\u6587\u4ef6\u8def\u5f84\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#72","title":"7.2 \u7981\u7528\u4e0d\u5b89\u5168\u7684\u534f\u8bae\u548c\u52a0\u5bc6\u5957\u4ef6","text":"<p>\u786e\u4fdd\u4ec5\u4f7f\u7528\u5f3a\u52a0\u5bc6\u534f\u8bae\u548c\u5957\u4ef6\u6765\u589e\u5f3a\u5b89\u5168\u6027\u3002</p> <pre><code>ssl_protocols TLSv1.2 TLSv1.3;\nssl_ciphers 'HIGH:!aNULL:!MD5';\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_8","title":"\u516b\u3001Nginx \u6027\u80fd\u4f18\u5316","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#81","title":"8.1 \u7f13\u5b58\u9759\u6001\u5185\u5bb9","text":"<p>\u901a\u8fc7\u7f13\u5b58\u9759\u6001\u5185\u5bb9\uff0c\u53ef\u4ee5\u51cf\u5c11\u670d\u52a1\u5668\u8d1f\u8f7d\u5e76\u52a0\u5feb\u9875\u9762\u52a0\u8f7d\u901f\u5ea6\u3002</p> <pre><code>location ~* \\.(jpg|jpeg|png|gif|ico|css|js)$ {\n    expires 30d;\n    access_log off;\n}\n</code></pre> <ul> <li><code>expires</code>\uff1a\u8bbe\u7f6e\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#82-gzip","title":"8.2 \u542f\u7528 Gzip \u538b\u7f29","text":"<p>Gzip \u538b\u7f29\u53ef\u4ee5\u51cf\u5c11\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c\u4ece\u800c\u63d0\u9ad8\u54cd\u5e94\u901f\u5ea6\u3002</p> <pre><code>gzip on;\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\ngzip_min_length 1000;\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_9","title":"\u4e5d\u3001Nginx \u5e38\u89c1\u95ee\u9898\u6392\u67e5","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#91","title":"9.1 \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u8bed\u6cd5","text":"<p>\u5728\u5e94\u7528\u914d\u7f6e\u66f4\u6539\u4e4b\u524d\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 Nginx \u914d\u7f6e\u6587\u4ef6\u7684\u8bed\u6cd5\uff1a</p> <pre><code>sudo nginx -t\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#92","title":"9.2 \u67e5\u770b\u65e5\u5fd7\u6587\u4ef6","text":"<p>Nginx \u7684\u65e5\u5fd7\u6587\u4ef6\u901a\u5e38\u5b58\u50a8\u5728 <code>/var/log/nginx/</code> \u76ee\u5f55\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b <code>error.log</code> \u548c <code>access.log</code> \u6765\u6392\u67e5\u95ee\u9898\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#nginx_10","title":"\u5341\u3001Nginx \u6a21\u5757","text":"<p>Nginx \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6a21\u5757\u6765\u6269\u5c55\u5176\u529f\u80fd\uff0c\u5305\u62ec\u7b2c\u4e09\u65b9\u6a21\u5757\u3002\u5e38\u89c1\u6a21\u5757\u6709\uff1a - HTTP \u6838\u5fc3\u6a21\u5757\uff1a\u7528\u4e8e\u5904\u7406 HTTP \u8bf7\u6c42\u3002 - Gzip \u6a21\u5757\uff1a\u7528\u4e8e\u5185\u5bb9\u538b\u7f29\u3002 - SSL \u6a21\u5757\uff1a\u7528\u4e8e\u5904\u7406 SSL/TLS\u3002</p> <p>\u53ef\u4ee5\u5728\u7f16\u8bd1 Nginx \u65f6\u6dfb\u52a0\u6a21\u5757\uff0c\u6216\u8005\u4f7f\u7528\u4e00\u4e9b\u5e38\u7528\u7684\u9884\u7f16\u8bd1\u5305\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/basic/#_1","title":"\u7ed3\u8bed","text":"<p>Nginx \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u4e14\u7075\u6d3b\u7684\u670d\u52a1\u5668\u8f6f\u4ef6\uff0c\u9002\u7528\u4e8e\u5404\u79cd Web \u5e94\u7528\u573a\u666f\u3002\u901a\u8fc7\u672c\u6559\u7a0b\u7684\u5b66\u4e60\uff0c\u4f60\u5e94\u8be5\u80fd\u591f\u638c\u63e1 Nginx \u7684\u57fa\u672c\u4f7f\u7528\uff0c\u5e76\u80fd\u6839\u636e\u9700\u6c42\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\u3001\u8d1f\u8f7d\u5747\u8861\u3001HTTPS \u7b49\u529f\u80fd\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/","title":"nginx \u9762\u8bd5\u624b\u518c","text":"<p>\u5728\u5927\u5382\u9762\u8bd5\u4e2d\uff0cNginx \u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u8003\u5bdf\u70b9\u3002\u9762\u8bd5\u5b98\u901a\u5e38\u4f1a\u8be2\u95ee\u6709\u5173 Nginx \u7684\u67b6\u6784\u3001\u914d\u7f6e\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u53cd\u5411\u4ee3\u7406\u7b49\u76f8\u5173\u95ee\u9898\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 Nginx \u9762\u8bd5\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u51c6\u5907\u9762\u8bd5\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#nginx_1","title":"\u4e00\u3001Nginx \u57fa\u7840\u77e5\u8bc6","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#11-nginx","title":"1.1 \u4ec0\u4e48\u662f Nginx\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>Nginx\uff1a\u662f\u4e00\u6b3e\u9ad8\u6027\u80fd\u7684 HTTP \u548c\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u540c\u65f6\u4e5f\u662f\u4e00\u4e2a IMAP/POP3/SMTP \u4ee3\u7406\u670d\u52a1\u5668\u3002Nginx \u4ee5\u5176\u9ad8\u5e76\u53d1\u3001\u9ad8\u7a33\u5b9a\u6027\u3001\u4f4e\u5185\u5b58\u5360\u7528\u800c\u5e7f\u6cdb\u7528\u4e8e Web \u670d\u52a1\u5668\u3001\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u548c\u8d1f\u8f7d\u5747\u8861\u5668\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#12-nginx","title":"1.2 Nginx \u7684\u5de5\u4f5c\u539f\u7406\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>Nginx \u91c7\u7528\u4e86\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784\u548c\u5f02\u6b65\u975e\u963b\u585e\u7684\u65b9\u5f0f\u5904\u7406\u8bf7\u6c42\u3002\u6bcf\u4e2a\u8bf7\u6c42\u7531\u4e00\u4e2a\u72ec\u7acb\u7684 worker \u8fdb\u7a0b\u5904\u7406\uff0cworker \u8fdb\u7a0b\u4f7f\u7528\u4e8b\u4ef6\u901a\u77e5\u673a\u5236\u6765\u5904\u7406\u591a\u4e2a\u8fde\u63a5\uff0c\u907f\u514d\u4e86\u8fdb\u7a0b/\u7ebf\u7a0b\u5207\u6362\u7684\u5f00\u9500\uff0c\u4ece\u800c\u63d0\u5347\u4e86\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#13-nginx","title":"1.3 Nginx \u7684\u4f18\u70b9\u6709\u54ea\u4e9b\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u9ad8\u5e76\u53d1\u5904\u7406\u80fd\u529b\uff1a\u80fd\u591f\u5904\u7406\u6570\u4e07\u751a\u81f3\u6570\u5341\u4e07\u4e2a\u5e76\u53d1\u8fde\u63a5\u3002</li> <li>\u4f4e\u5185\u5b58\u5360\u7528\uff1a\u5728\u9ad8\u5e76\u53d1\u60c5\u51b5\u4e0b\uff0cNginx \u7684\u5185\u5b58\u4f7f\u7528\u76f8\u5bf9\u8f83\u4f4e\u3002</li> <li>\u9ad8\u7a33\u5b9a\u6027\uff1a\u5728\u957f\u671f\u9ad8\u8d1f\u8f7d\u60c5\u51b5\u4e0b\uff0cNginx \u7684\u8868\u73b0\u975e\u5e38\u7a33\u5b9a\u3002</li> <li>\u7075\u6d3b\u7684\u914d\u7f6e\uff1aNginx \u652f\u6301\u4e30\u5bcc\u7684\u6a21\u5757\u5316\u914d\u7f6e\uff0c\u80fd\u591f\u7075\u6d3b\u5e94\u5bf9\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#nginx_2","title":"\u4e8c\u3001Nginx \u914d\u7f6e\u6587\u4ef6","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#21-nginx","title":"2.1 Nginx \u914d\u7f6e\u6587\u4ef6\u7684\u57fa\u672c\u7ed3\u6784\u662f\u600e\u6837\u7684\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>Nginx \u914d\u7f6e\u6587\u4ef6\u4e3b\u8981\u7531\u4ee5\u4e0b\u51e0\u90e8\u5206\u7ec4\u6210\uff1a<ul> <li>\u5168\u5c40\u5757\uff1a\u5b9a\u4e49\u5f71\u54cd\u6574\u4e2a Nginx \u670d\u52a1\u7684\u914d\u7f6e\uff0c\u5982\u7528\u6237\u3001\u5de5\u4f5c\u8fdb\u7a0b\u6570\u3001\u65e5\u5fd7\u8def\u5f84\u7b49\u3002</li> <li>http \u5757\uff1a\u5b9a\u4e49\u4e0e HTTP \u670d\u52a1\u76f8\u5173\u7684\u914d\u7f6e\uff0c\u5982 MIME \u7c7b\u578b\u3001\u65e5\u5fd7\u683c\u5f0f\u3001\u53cd\u5411\u4ee3\u7406\u8bbe\u7f6e\u7b49\u3002</li> <li>server \u5757\uff1a\u5b9a\u4e49\u865a\u62df\u4e3b\u673a\u914d\u7f6e\uff0c\u5305\u62ec\u57df\u540d\u3001\u76d1\u542c\u7aef\u53e3\u3001SSL \u914d\u7f6e\u7b49\u3002</li> <li>location \u5757\uff1a\u5b9a\u4e49\u8bf7\u6c42 URI \u7684\u5339\u914d\u548c\u5904\u7406\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8fdb\u884c\u8def\u5f84\u91cd\u5199\u3001\u53cd\u5411\u4ee3\u7406\u7b49\u64cd\u4f5c\u3002</li> </ul> </li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#22-nginx","title":"2.2 \u5982\u4f55\u914d\u7f6e Nginx \u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u53cd\u5411\u4ee3\u7406\uff1a\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u540e\u7aef\u670d\u52a1\u5668\uff0c\u5e76\u5c06\u540e\u7aef\u670d\u52a1\u5668\u7684\u54cd\u5e94\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002Nginx \u5e38\u7528\u4e8e\u53cd\u5411\u4ee3\u7406\u6765\u5206\u53d1\u8d1f\u8f7d\u6216\u4f5c\u4e3a\u7f13\u5b58\u5c42\u3002</li> <li>\u914d\u7f6e\u793a\u4f8b\uff1a     ```nginx     server {         listen 80;         server_name example.com;<pre><code>location / {\n    proxy_pass http://backend_server;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n}\n</code></pre> <p>} <code>``   - **\u89e3\u91ca**\uff1a -</code>proxy_pass<code>\u6307\u5b9a\u540e\u7aef\u670d\u52a1\u5668\u7684\u5730\u5740\u3002 -</code>proxy_set_header` \u8bbe\u7f6e\u8f6c\u53d1\u7ed9\u540e\u7aef\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u5934\u3002</p> </li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#23-nginx","title":"2.3 \u5982\u4f55\u914d\u7f6e Nginx \u7684\u8d1f\u8f7d\u5747\u8861\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u901a\u8fc7\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u5206\u53d1\u5230\u591a\u4e2a\u540e\u7aef\u670d\u52a1\u5668\u6765\u5206\u62c5\u8d1f\u8f7d\uff0c\u63d0\u5347\u670d\u52a1\u7684\u53ef\u7528\u6027\u548c\u6027\u80fd\u3002</li> <li> <p>\u914d\u7f6e\u793a\u4f8b\uff1a     ```nginx     upstream backend {         server backend1.example.com weight=3;         server backend2.example.com;         server backend3.example.com backup;     }</p> <p>server {     listen 80;     server_name example.com;</p> <pre><code>location / {\n    proxy_pass http://backend;\n}\n</code></pre> <p>} <code>``   - **\u89e3\u91ca**\uff1a -</code>upstream<code>\u5b9a\u4e49\u540e\u7aef\u670d\u52a1\u5668\u96c6\u7fa4\uff0c</code>weight<code>\u6307\u5b9a\u670d\u52a1\u5668\u7684\u6743\u91cd\uff0c</code>backup<code>\u8868\u793a\u5907\u7528\u670d\u52a1\u5668\u3002 - \u8bf7\u6c42\u5c06\u6309\u7167</code>upstream` \u5757\u4e2d\u7684\u89c4\u5219\u5206\u53d1\u7ed9\u4e0d\u540c\u7684\u540e\u7aef\u670d\u52a1\u5668\u3002</p> </li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#nginx_3","title":"\u4e09\u3001Nginx \u6027\u80fd\u4f18\u5316","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#31-nginx","title":"3.1 \u5982\u4f55\u4f18\u5316 Nginx \u7684\u6027\u80fd\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u4f18\u5316 worker \u8fdb\u7a0b\u6570\uff1a\u901a\u8fc7\u8c03\u6574 <code>worker_processes</code> \u53c2\u6570\uff0c\u4f7f\u5176\u4e0e\u670d\u52a1\u5668\u7684 CPU \u6838\u5fc3\u6570\u76f8\u5339\u914d\uff0c\u5145\u5206\u5229\u7528\u591a\u6838 CPU \u63d0\u5347\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002</li> <li>\u542f\u7528\u7f13\u5b58\uff1a\u4f7f\u7528 <code>proxy_cache</code> \u7b49\u7f13\u5b58\u673a\u5236\uff0c\u51cf\u5c11\u540e\u7aef\u670d\u52a1\u5668\u7684\u8d1f\u8f7d\u3002</li> <li>\u51cf\u5c11\u65e5\u5fd7\u8bb0\u5f55\uff1a\u9002\u5f53\u51cf\u5c11\u65e5\u5fd7\u8bb0\u5f55\u7684\u8be6\u7ec6\u7a0b\u5ea6\uff0c\u964d\u4f4e\u78c1\u76d8 I/O \u5f00\u9500\u3002</li> <li>Gzip \u538b\u7f29\uff1a\u5f00\u542f <code>gzip</code> \u538b\u7f29\uff0c\u51cf\u5c11\u7f51\u7edc\u4f20\u8f93\u7684\u6570\u636e\u91cf\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#32-keepalive-nginx-keepalive","title":"3.2 \u4ec0\u4e48\u662f <code>keepalive</code> \u8fde\u63a5\uff1f\u5982\u4f55\u5728 Nginx \u4e2d\u914d\u7f6e <code>keepalive</code>\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>Keepalive \u8fde\u63a5\uff1a\u662f\u6307\u5728 HTTP/1.1 \u4e2d\uff0c\u5141\u8bb8\u540c\u4e00\u4e2a TCP \u8fde\u63a5\u590d\u7528\u591a\u4e2a HTTP \u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u51cf\u5c11\u5efa\u7acb\u8fde\u63a5\u7684\u5f00\u9500\u3002</li> <li> <p>\u914d\u7f6e\u793a\u4f8b\uff1a     ```nginx     upstream backend {         server backend1.example.com;         server backend2.example.com;         keepalive 32;     }</p> <p>server {     listen 80;     server_name example.com;</p> <pre><code>location / {\n    proxy_pass http://backend;\n    proxy_http_version 1.1;\n    proxy_set_header Connection \"\";\n}\n</code></pre> <p>} <code>``   - **\u89e3\u91ca**\uff1a -</code>keepalive<code>\u53c2\u6570\u8bbe\u7f6e\u4fdd\u6301\u8fde\u63a5\u7684\u6570\u91cf\u3002 - \u5728</code>proxy_pass<code>\u914d\u7f6e\u4e2d\uff0c\u6307\u5b9a</code>proxy_http_version 1.1<code>\u5e76\u8bbe\u7f6e</code>Connection` \u5934\u4e3a\u7a7a\uff0c\u542f\u7528 keepalive \u8fde\u63a5\u3002</p> </li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#nginx_4","title":"\u56db\u3001Nginx \u5b89\u5168\u6027","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#41-nginx-ssl","title":"4.1 \u5982\u4f55\u5728 Nginx \u4e2d\u914d\u7f6e SSL\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>SSL\uff08Secure Sockets Layer\uff09\uff1a\u7528\u4e8e\u52a0\u5bc6 HTTP \u6d41\u91cf\uff0c\u5f62\u6210 HTTPS \u534f\u8bae\uff0c\u4fdd\u969c\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\u6027\u3002</li> <li>\u914d\u7f6e\u793a\u4f8b\uff1a     ```nginx     server {         listen 443 ssl;         server_name example.com;<pre><code>ssl_certificate /path/to/cert.pem;\nssl_certificate_key /path/to/key.pem;\n\nlocation / {\n    proxy_pass http://backend;\n}\n</code></pre> <p>} <code>``   - **\u89e3\u91ca**\uff1a -</code>listen 443 ssl<code>\uff1a\u5f00\u542f HTTPS \u670d\u52a1\u3002 -</code>ssl_certificate<code>\u548c</code>ssl_certificate_key` \u6307\u5b9a SSL \u8bc1\u4e66\u548c\u5bc6\u94a5\u7684\u8def\u5f84\u3002</p> </li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#42-nginx-ddos","title":"4.2 \u5982\u4f55\u9632\u6b62 Nginx \u88ab DDoS \u653b\u51fb\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u9650\u5236\u8fde\u63a5\u6570\u548c\u8bf7\u6c42\u6570\uff1a\u4f7f\u7528 <code>limit_conn</code> \u548c <code>limit_req</code> \u6a21\u5757\u9650\u5236\u540c\u4e00 IP \u7684\u5e76\u53d1\u8fde\u63a5\u6570\u548c\u8bf7\u6c42\u6570\u3002</li> <li>\u914d\u7f6e\u793a\u4f8b\uff1a     ```nginx     http {         limit_conn_zone $binary_remote_addr zone=addr:10m;         limit_req_zone $binary_remote_addr zone=req:10m rate=1r/s;<pre><code>server {\n    listen 80;\n    server_name example.com;\n\n    location / {\n        limit_conn addr 10;\n        limit_req zone=req burst=5;\n        proxy_pass http://backend;\n    }\n}\n</code></pre> <p>} <code>``   - **\u89e3\u91ca**\uff1a -</code>limit_conn_zone<code>\u5b9a\u4e49\u8fde\u63a5\u9650\u5236\u7684\u5171\u4eab\u5185\u5b58\u533a\u57df\u3002 -</code>limit_req_zone<code>\u5b9a\u4e49\u8bf7\u6c42\u9650\u5236\u7684\u5171\u4eab\u5185\u5b58\u533a\u57df\u548c\u901f\u7387\u3002 -</code>limit_conn<code>\u548c</code>limit_req` \u5206\u522b\u5e94\u7528\u5230\u5177\u4f53\u7684\u8bf7\u6c42\u8def\u5f84\u4e0a\u3002</p> </li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#nginx_5","title":"\u4e94\u3001Nginx \u5e38\u89c1\u95ee\u9898","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#51-nginx","title":"5.1 Nginx \u542f\u52a8\u5931\u8d25\u600e\u4e48\u529e\uff1f","text":"<ul> <li>\u6392\u67e5\u6b65\u9aa4\uff1a</li> <li>\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\uff1a\u4f7f\u7528 <code>nginx -t</code> \u547d\u4ee4\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u7684\u8bed\u6cd5\u662f\u5426\u6b63\u786e\u3002</li> <li>\u67e5\u770b\u65e5\u5fd7\uff1a\u68c0\u67e5 Nginx \u9519\u8bef\u65e5\u5fd7\uff08\u901a\u5e38\u4f4d\u4e8e <code>/var/log/nginx/error.log</code>\uff09\u4e2d\u7684\u9519\u8bef\u4fe1\u606f\u3002</li> <li>\u7aef\u53e3\u51b2\u7a81\uff1a\u786e\u4fdd Nginx \u4f7f\u7528\u7684\u7aef\u53e3\uff08\u5982 80 \u6216 443\uff09\u6ca1\u6709\u88ab\u5176\u4ed6\u8fdb\u7a0b\u5360\u7528\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#52-502-bad-gateway","title":"5.2 \u5982\u4f55\u5904\u7406 502 Bad Gateway \u9519\u8bef\uff1f","text":"<ul> <li>\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5\uff1a</li> <li>\u540e\u7aef\u670d\u52a1\u5668\u4e0d\u53ef\u7528\uff1a\u68c0\u67e5\u540e\u7aef\u670d\u52a1\u5668\u662f\u5426\u8fd0\u884c\u6b63\u5e38\u3002</li> <li>Nginx \u4e0e\u540e\u7aef\u670d\u52a1\u5668\u7684\u8fde\u63a5\u8d85\u65f6\uff1a\u589e\u52a0 <code>proxy_connect_timeout</code>\u3001<code>proxy_read_timeout</code> \u548c <code>proxy_send_timeout</code> \u7684\u503c\u3002</li> <li>PHP-FPM \u7b49\u540e\u7aef\u670d\u52a1\u8fc7\u8f7d\uff1a\u589e\u52a0\u540e\u7aef\u670d\u52a1\u7684\u5904\u7406\u80fd\u529b\u6216\u4f18\u5316\u4ee3\u7801\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/interview/#_1","title":"\u516d\u3001\u5b9e\u8df5\u4e0e\u9762\u8bd5\u6280\u5de7","text":"<ul> <li>\u719f\u6089\u5e38\u89c1\u914d\u7f6e\uff1a\u638c\u63e1\u53cd\u5411\u4ee3\u7406\u3001\u8d1f\u8f7d\u5747\u8861\u3001SSL \u914d\u7f6e\u7b49\u5e38\u89c1\u573a\u666f\u7684\u914d\u7f6e\u3002</li> <li>\u638c\u63e1\u6545\u969c\u6392\u67e5\uff1a\u4e86\u89e3\u5982\u4f55\u901a\u8fc7\u65e5\u5fd7\u3001\u547d\u4ee4\u884c\u5de5\u5177\uff08\u5982 <code>curl</code>\u3001<code>netstat</code>\uff09\u6392\u67e5 Nginx \u7684\u5e38\u89c1\u95ee\u9898\u3002</li> <li>\u5b9e\u9645\u90e8\u7f72\u7ecf\u9a8c\uff1a\u5c1d\u8bd5\u5728\u672c\u5730\u6216\u4e91\u670d\u52a1\u5668\u4e0a\u90e8\u7f72 Nginx\uff0c\u5e76\u914d\u7f6e</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/","title":"uvicorn \u6559\u7a0b","text":"<p><code>uvicorn</code> \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684 ASGI \u670d\u52a1\u5668\uff0c\u5e38\u7528\u4e8e\u90e8\u7f72 FastAPI \u548c\u5176\u4ed6 ASGI \u5e94\u7528\u7a0b\u5e8f\u3002\u4e0b\u9762\u662f <code>uvicorn</code> \u7684\u8be6\u7ec6\u6559\u7a0b\uff0c\u5305\u62ec\u57fa\u672c\u5b89\u88c5\u3001\u914d\u7f6e\u3001\u4f7f\u7528\u548c\u5e38\u89c1\u95ee\u9898\u89e3\u51b3\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#uvicorn_1","title":"\u4e00\u3001\u5b89\u88c5 Uvicorn","text":"<p>\u8981\u4f7f\u7528 <code>uvicorn</code>\uff0c\u9996\u5148\u9700\u8981\u5b89\u88c5\u5b83\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>pip</code> \u6765\u5b89\u88c5\uff1a</p> <pre><code>pip install uvicorn\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#_1","title":"\u4e8c\u3001\u8fd0\u884c\u7b80\u5355\u5e94\u7528","text":"<p>\u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u7b80\u5355\u7684 FastAPI \u5e94\u7528\u4fdd\u5b58\u5728 <code>main.py</code> \u6587\u4ef6\u4e2d\uff1a</p> <pre><code># main.py\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")\ndef read_root():\n    return {\"Hello\": \"World\"}\n</code></pre> <p>\u4f7f\u7528 <code>uvicorn</code> \u6765\u8fd0\u884c\u8fd9\u4e2a\u5e94\u7528\uff1a</p> <pre><code>uvicorn main:app --reload\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#_2","title":"\u53c2\u6570\u8bf4\u660e\uff1a","text":"<ul> <li><code>main:app</code>\uff1a\u6307\u5b9a\u6a21\u5757\u548c ASGI \u5e94\u7528\u5b9e\u4f8b\u3002<code>main</code> \u662f Python \u6587\u4ef6\u7684\u540d\u5b57\uff08\u53bb\u6389 <code>.py</code> \u540e\u7f00\uff09\uff0c<code>app</code> \u662f FastAPI \u5b9e\u4f8b\u7684\u540d\u79f0\u3002</li> <li><code>--reload</code>\uff1a\u542f\u7528\u81ea\u52a8\u91cd\u8f7d\u529f\u80fd\uff0c\u8fd9\u5bf9\u4e8e\u5f00\u53d1\u8fc7\u7a0b\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u4f60\u5728\u4ee3\u7801\u4fee\u6539\u540e\u81ea\u52a8\u91cd\u542f\u670d\u52a1\u5668\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#_3","title":"\u4e09\u3001\u914d\u7f6e\u9009\u9879","text":"<p><code>uvicorn</code> \u63d0\u4f9b\u4e86\u591a\u4e2a\u914d\u7f6e\u9009\u9879\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u9009\u9879\uff1a</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#31","title":"3.1 \u7aef\u53e3\u548c\u4e3b\u673a","text":"<p>\u4f60\u53ef\u4ee5\u6307\u5b9a\u4e3b\u673a\u548c\u7aef\u53e3\u6765\u8fd0\u884c <code>uvicorn</code>\uff1a</p> <pre><code>uvicorn main:app --host 0.0.0.0 --port 8000\n</code></pre> <ul> <li><code>--host</code>\uff1a\u6307\u5b9a\u76d1\u542c\u7684 IP \u5730\u5740\u3002<code>0.0.0.0</code> \u8868\u793a\u76d1\u542c\u6240\u6709\u7f51\u7edc\u63a5\u53e3\u3002</li> <li><code>--port</code>\uff1a\u6307\u5b9a\u7aef\u53e3\u53f7\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#32","title":"3.2 \u5de5\u4f5c\u8fdb\u7a0b","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>--workers</code> \u53c2\u6570\u6307\u5b9a\u5de5\u4f5c\u8fdb\u7a0b\u6570\uff1a</p> <pre><code>uvicorn main:app --workers 4\n</code></pre> <ul> <li><code>--workers</code>\uff1a\u8bbe\u7f6e\u5de5\u4f5c\u8fdb\u7a0b\u7684\u6570\u91cf\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#33","title":"3.3 \u65e5\u5fd7","text":"<p>\u901a\u8fc7 <code>--log-level</code> \u53c2\u6570\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\uff1a</p> <pre><code>uvicorn main:app --log-level info\n</code></pre> <ul> <li><code>--log-level</code>\uff1a\u53ef\u4ee5\u8bbe\u7f6e\u4e3a <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, \u6216 <code>critical</code>\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#_4","title":"\u56db\u3001\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>.env</code> \u6587\u4ef6\u6216\u914d\u7f6e\u6587\u4ef6\u6765\u8bbe\u7f6e <code>uvicorn</code> \u7684\u53c2\u6570\u3002\u4f8b\u5982\uff0c\u4f7f\u7528 <code>uvicorn</code> \u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code># config.py\nimport os\n\nbind = os.getenv(\"UVICORN_BIND\", \"0.0.0.0:8000\")\nworkers = int(os.getenv(\"UVICORN_WORKERS\", \"4\"))\nlog_level = os.getenv(\"UVICORN_LOG_LEVEL\", \"info\")\n</code></pre> <p>\u7136\u540e\u901a\u8fc7 <code>uvicorn</code> \u8fd0\u884c\u914d\u7f6e\uff1a</p> <pre><code>uvicorn main:app --config config.py\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#_5","title":"\u4e94\u3001\u96c6\u6210\u5176\u4ed6\u5de5\u5177","text":"<p><code>uvicorn</code> \u53ef\u4ee5\u4e0e\u591a\u79cd\u5de5\u5177\u96c6\u6210\uff0c\u4ee5\u63d0\u9ad8\u529f\u80fd\u6027\u548c\u6027\u80fd\uff1a</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#51-gunicorn","title":"5.1 \u4e0e Gunicorn \u96c6\u6210","text":"<p><code>uvicorn</code> \u53ef\u4ee5\u4e0e <code>gunicorn</code> \u7ed3\u5408\u4f7f\u7528\uff0c\u540e\u8005\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684 WSGI HTTP \u670d\u52a1\u5668\uff0c\u652f\u6301\u5e76\u53d1\u5904\u7406\uff1a</p> <pre><code>pip install gunicorn\n</code></pre> <p>\u4f7f\u7528 <code>gunicorn</code> \u542f\u52a8 <code>uvicorn</code>\uff1a</p> <pre><code>gunicorn -w 4 -k uvicorn.workers.UvicornWorker main:app\n</code></pre> <ul> <li><code>-w 4</code>\uff1a\u6307\u5b9a\u5de5\u4f5c\u8fdb\u7a0b\u6570\u3002</li> <li><code>-k uvicorn.workers.UvicornWorker</code>\uff1a\u6307\u5b9a\u4f7f\u7528 <code>uvicorn</code> \u7684\u5de5\u4f5c\u7c7b\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#52-docker","title":"5.2 \u4e0e Docker \u96c6\u6210","text":"<p>\u5728 Docker \u5bb9\u5668\u4e2d\u8fd0\u884c <code>uvicorn</code>\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b <code>Dockerfile</code>\uff1a</p> <pre><code># Dockerfile\nFROM python:3.9\n\nWORKDIR /app\n\nCOPY requirements.txt .\n\nRUN pip install -r requirements.txt\n\nCOPY . .\n\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre> <p>\u7136\u540e\u6784\u5efa\u548c\u8fd0\u884c Docker \u955c\u50cf\uff1a</p> <pre><code>docker build -t myapp .\ndocker run -p 8000:8000 myapp\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#_6","title":"\u516d\u3001\u6027\u80fd\u4f18\u5316","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#61","title":"6.1 \u8c03\u6574\u5e76\u53d1\u5904\u7406","text":"<p>\u786e\u4fdd\u6839\u636e\u5b9e\u9645\u8d1f\u8f7d\u914d\u7f6e\u8db3\u591f\u7684\u5de5\u4f5c\u8fdb\u7a0b\u6570\u3002\u53ef\u4ee5\u6839\u636e\u670d\u52a1\u5668\u7684 CPU \u6838\u5fc3\u6570\u6765\u51b3\u5b9a\u5de5\u4f5c\u8fdb\u7a0b\u7684\u6570\u91cf\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#62","title":"6.2 \u4f18\u5316\u5e94\u7528\u4ee3\u7801","text":"<p>\u4f7f\u7528\u5f02\u6b65\u7f16\u7a0b\uff08\u4f8b\u5982 <code>async</code> \u548c <code>await</code>\uff09\u6765\u5904\u7406 I/O \u64cd\u4f5c\uff0c\u4ee5\u5145\u5206\u5229\u7528 <code>uvicorn</code> \u7684\u5f02\u6b65\u80fd\u529b\u3002</p>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#63","title":"6.3 \u4f7f\u7528\u53cd\u5411\u4ee3\u7406","text":"<p>\u4f7f\u7528 Nginx \u6216\u5176\u4ed6\u53cd\u5411\u4ee3\u7406\u6765\u5904\u7406 HTTPS\u3001\u8d1f\u8f7d\u5747\u8861\u7b49\u4efb\u52a1\uff0c\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230 <code>uvicorn</code> \u5b9e\u4f8b\u3002\u914d\u7f6e Nginx \u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406\u7684\u57fa\u672c\u793a\u4f8b\uff1a</p> <pre><code>server {\n    listen 80;\n    server_name yourdomain.com;\n\n    location / {\n        proxy_pass http://localhost:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n</code></pre>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#_7","title":"\u4e03\u3001\u5e38\u89c1\u95ee\u9898","text":""},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#71-address-already-in-use","title":"7.1 \u9047\u5230\u201cAddress already in use\u201d\u9519\u8bef\u600e\u4e48\u529e\uff1f","text":"<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u68c0\u67e5\u7aef\u53e3\u662f\u5426\u5df2\u88ab\u5176\u4ed6\u8fdb\u7a0b\u5360\u7528\u3002\u53ef\u4ee5\u4f7f\u7528 <code>lsof -i :8000</code> \u6216 <code>netstat -tuln | grep 8000</code> \u547d\u4ee4\u67e5\u770b\u7aef\u53e3\u4f7f\u7528\u60c5\u51b5\u3002\u5c1d\u8bd5\u505c\u6b62\u5360\u7528\u8be5\u7aef\u53e3\u7684\u8fdb\u7a0b\u6216\u66f4\u6539 <code>uvicorn</code> \u4f7f\u7528\u7684\u7aef\u53e3\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#72-importerror","title":"7.2 \u5982\u4f55\u5904\u7406\u201cImportError\u201d\u9519\u8bef\uff1f","text":"<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a\u68c0\u67e5 Python \u73af\u5883\u548c\u4f9d\u8d56\u5e93\u662f\u5426\u5df2\u6b63\u786e\u5b89\u88c5\u3002\u786e\u4fdd <code>uvicorn</code> \u548c\u6240\u6709\u76f8\u5173\u6a21\u5757\u5df2\u7ecf\u5b89\u88c5\u5728\u6b63\u786e\u7684\u865a\u62df\u73af\u5883\u4e2d\u3002</li> </ul>"},{"location":"%E6%9C%8D%E5%8A%A1%E5%99%A8/uvicorn/basic/#73","title":"7.3 \u5982\u4f55\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u63d0\u9ad8\u5b89\u5168\u6027\uff1f","text":"<ul> <li>\u89e3\u51b3\u65b9\u6848\uff1a</li> <li>\u542f\u7528 HTTPS\uff1a\u4f7f\u7528\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\uff08\u5982 Nginx\uff09\u6765\u5904\u7406 HTTPS \u6d41\u91cf\u3002</li> <li>\u9650\u5236\u8bbf\u95ee\uff1a\u914d\u7f6e\u9632\u706b\u5899\u6216\u4f7f\u7528\u53cd\u5411\u4ee3\u7406\u6765\u9650\u5236\u5bf9 <code>uvicorn</code> \u670d\u52a1\u5668\u7684\u76f4\u63a5\u8bbf\u95ee\u3002</li> </ul> <p>\u8fd9\u4e2a\u6559\u7a0b\u6db5\u76d6\u4e86 <code>uvicorn</code> \u7684\u57fa\u672c\u4f7f\u7528\u3001\u914d\u7f6e\u3001\u4f18\u5316\u548c\u96c6\u6210\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u90e8\u7f72\u548c\u7ba1\u7406 FastAPI \u548c\u5176\u4ed6 ASGI \u5e94\u7528\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/","title":"http \u624b\u518c","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u66f4\u8be6\u7ec6\u7684 HTTP \u9762\u8bd5\u624b\u518c\uff0c\u5305\u542b\u4e86\u6982\u5ff5\u3001\u6d41\u7a0b\u3001\u5e38\u89c1\u95ee\u9898\u4ee5\u53ca\u56fe\u8868\u548c\u8868\u683c\u6765\u5e2e\u52a9\u7406\u89e3\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#http_1","title":"HTTP \u9762\u8bd5\u624b\u518c","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#1-http","title":"1. HTTP \u57fa\u7840\u6982\u5ff5","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#11-http","title":"1.1 HTTP \u534f\u8bae\u6982\u8ff0","text":"<p>HTTP\uff08Hypertext Transfer Protocol\uff09\u662f\u4e00\u4e2a\u57fa\u4e8e\u8bf7\u6c42-\u54cd\u5e94\u6a21\u5f0f\u7684\u5e94\u7528\u5c42\u534f\u8bae\u3002\u5b83\u5b9a\u4e49\u4e86\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u89c4\u5219\u3002HTTP \u662f\u65e0\u72b6\u6001\u534f\u8bae\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u6ca1\u6709\u4e0a\u4e0b\u6587\u5173\u8054\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#12-http","title":"1.2 HTTP \u7248\u672c","text":"<ul> <li>HTTP/0.9: \u6700\u521d\u7248\u672c\uff0c\u53ea\u6709\u7b80\u5355\u7684 GET \u8bf7\u6c42\u3002</li> <li>HTTP/1.0: \u652f\u6301\u66f4\u591a\u8bf7\u6c42\u65b9\u6cd5\uff08\u5982 POST \u548c HEAD\uff09\u548c\u54cd\u5e94\u72b6\u6001\u7801\u3002</li> <li>HTTP/1.1: \u589e\u52a0\u4e86\u6301\u4e45\u8fde\u63a5\u3001\u5206\u5757\u4f20\u8f93\u7f16\u7801\u7b49\u7279\u6027\uff0c\u662f\u76ee\u524d\u6700\u5e7f\u6cdb\u4f7f\u7528\u7684\u7248\u672c\u3002</li> <li>HTTP/2: \u5f15\u5165\u4e8c\u8fdb\u5236\u5e27\u3001\u591a\u8def\u590d\u7528\u3001\u5934\u90e8\u538b\u7f29\u7b49\u7279\u6027\uff0c\u63d0\u5347\u4e86\u6027\u80fd\u3002</li> <li>HTTP/3: \u57fa\u4e8e QUIC \u534f\u8bae\uff0c\u8fdb\u4e00\u6b65\u51cf\u5c11\u4e86\u5ef6\u8fdf\uff0c\u63d0\u9ad8\u4e86\u4f20\u8f93\u6548\u7387\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#13-http","title":"1.3 HTTP \u8bf7\u6c42\u4e0e\u54cd\u5e94\u7ed3\u6784","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#_1","title":"\u8bf7\u6c42\u7ed3\u6784","text":"<ul> <li>\u8bf7\u6c42\u884c: \u5305\u542b HTTP \u65b9\u6cd5\u3001\u8bf7\u6c42 URL\u3001HTTP \u7248\u672c\u3002</li> <li>\u8bf7\u6c42\u5934: \u5305\u542b\u5ba2\u6237\u7aef\u7684\u4fe1\u606f\u3001\u8bf7\u6c42\u53c2\u6570\u7b49\u3002</li> <li>\u8bf7\u6c42\u4f53: \u5305\u542b POST\u3001PUT \u7b49\u65b9\u6cd5\u7684\u6570\u636e\u5185\u5bb9\uff08\u5982\u8868\u5355\u6570\u636e\uff09\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#_2","title":"\u54cd\u5e94\u7ed3\u6784","text":"<ul> <li>\u72b6\u6001\u884c: \u5305\u542b HTTP \u7248\u672c\u3001\u72b6\u6001\u7801\u3001\u72b6\u6001\u77ed\u8bed\u3002</li> <li>\u54cd\u5e94\u5934: \u5305\u542b\u670d\u52a1\u5668\u4fe1\u606f\u3001\u54cd\u5e94\u6570\u636e\u7684\u5c5e\u6027\u7b49\u3002</li> <li>\u54cd\u5e94\u4f53: \u5305\u542b\u5b9e\u9645\u7684\u54cd\u5e94\u6570\u636e\uff08\u5982 HTML \u6587\u6863\u3001JSON \u6570\u636e\uff09\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#2-http","title":"2. HTTP \u8bf7\u6c42\u65b9\u6cd5","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#21-http","title":"2.1 \u5e38\u89c1 HTTP \u65b9\u6cd5","text":"\u65b9\u6cd5 \u4f5c\u7528 \u662f\u5426\u5e42\u7b49 \u662f\u5426\u5b89\u5168 GET \u8bf7\u6c42\u8d44\u6e90 \u662f \u662f POST \u63d0\u4ea4\u6570\u636e\u5904\u7406\u8bf7\u6c42 \u5426 \u5426 PUT \u66f4\u65b0\u6307\u5b9a\u8d44\u6e90 \u662f \u5426 DELETE \u5220\u9664\u6307\u5b9a\u8d44\u6e90 \u662f \u5426 HEAD \u83b7\u53d6\u8d44\u6e90\u7684\u5934\u90e8\u4fe1\u606f \u662f \u662f OPTIONS \u83b7\u53d6\u670d\u52a1\u5668\u652f\u6301\u7684\u8bf7\u6c42\u65b9\u6cd5 \u662f \u662f PATCH \u90e8\u5206\u66f4\u65b0\u6307\u5b9a\u8d44\u6e90 \u5426 \u5426"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#22-get-post","title":"2.2 GET \u4e0e POST \u7684\u533a\u522b","text":"<ul> <li>GET</li> <li>\u53c2\u6570\u901a\u8fc7 URL \u4f20\u9012\u3002</li> <li>\u6570\u636e\u5927\u5c0f\u53d7\u9650\u4e8e URL \u957f\u5ea6\u3002</li> <li>\u8bf7\u6c42\u53ef\u4ee5\u88ab\u7f13\u5b58\u3001\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u4e2d\u3002</li> <li> <p>\u5e38\u7528\u4e8e\u83b7\u53d6\u6570\u636e\u3002</p> </li> <li> <p>POST</p> </li> <li>\u53c2\u6570\u901a\u8fc7\u8bf7\u6c42\u4f53\u4f20\u9012\u3002</li> <li>\u6ca1\u6709\u6570\u636e\u5927\u5c0f\u9650\u5236\u3002</li> <li>\u8bf7\u6c42\u4e0d\u4f1a\u88ab\u7f13\u5b58\uff0c\u4e0d\u4f1a\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u4e2d\u3002</li> <li>\u5e38\u7528\u4e8e\u63d0\u4ea4\u8868\u5355\u6570\u636e\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#23","title":"2.3 \u72b6\u6001\u7801\u8be6\u89e3","text":"\u5206\u7c7b \u72b6\u6001\u7801 \u542b\u4e49 \u793a\u4f8b 1xx 100 \u7ee7\u7eed\uff08Continue\uff09 \u8bf7\u6c42\u6536\u5230\uff0c\u7ee7\u7eed\u5904\u7406 2xx 200 \u6210\u529f\uff08OK\uff09 \u8bf7\u6c42\u6210\u529f\uff0c\u8fd4\u56de\u6240\u9700\u8d44\u6e90 204 \u65e0\u5185\u5bb9\uff08No Content\uff09 \u8bf7\u6c42\u6210\u529f\uff0c\u65e0\u8fd4\u56de\u5185\u5bb9 3xx 301 \u6c38\u4e45\u91cd\u5b9a\u5411\uff08Moved Permanently\uff09 \u8bf7\u6c42\u7684\u8d44\u6e90\u5df2\u88ab\u6c38\u4e45\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e 304 \u672a\u4fee\u6539\uff08Not Modified\uff09 \u8d44\u6e90\u672a\u4fee\u6539\uff0c\u53ef\u4ee5\u4f7f\u7528\u7f13\u5b58 4xx 400 \u9519\u8bef\u8bf7\u6c42\uff08Bad Request\uff09 \u8bf7\u6c42\u53c2\u6570\u9519\u8bef 401 \u672a\u6388\u6743\uff08Unauthorized\uff09 \u8bf7\u6c42\u672a\u901a\u8fc7\u8ba4\u8bc1 403 \u7981\u6b62\uff08Forbidden\uff09 \u670d\u52a1\u5668\u62d2\u7edd\u6267\u884c\u8bf7\u6c42 404 \u672a\u627e\u5230\uff08Not Found\uff09 \u8d44\u6e90\u672a\u627e\u5230 5xx 500 \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\uff08Internal Server Error\uff09 \u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef 503 \u670d\u52a1\u4e0d\u53ef\u7528\uff08Service Unavailable\uff09 \u670d\u52a1\u5668\u6682\u65f6\u65e0\u6cd5\u5904\u7406\u8bf7\u6c42"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#3-http","title":"3. HTTP \u62a5\u6587\u7ed3\u6784","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#31","title":"3.1 \u8bf7\u6c42\u62a5\u6587","text":"<pre><code>GET /index.html HTTP/1.1\nHost: www.example.com\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nAccept-Language: en-US,en;q=0.9\nConnection: keep-alive\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#32","title":"3.2 \u54cd\u5e94\u62a5\u6587","text":"<pre><code>HTTP/1.1 200 OK\nDate: Tue, 27 Jul 2021 12:28:53 GMT\nServer: Apache/2.4.1 (Unix)\nLast-Modified: Mon, 26 Jul 2021 15:00:00 GMT\nContent-Length: 44\nContent-Type: text/html\nConnection: Closed\n\n&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#33","title":"3.3 \u62a5\u6587\u5934\u90e8\u5e38\u89c1\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d\u79f0 \u7528\u9014 Host \u8bf7\u6c42\u8d44\u6e90\u6240\u5728\u7684\u4e3b\u673a\u5730\u5740 User-Agent \u5ba2\u6237\u7aef\u8f6f\u4ef6\u7684\u540d\u79f0\u548c\u7248\u672c Accept \u5ba2\u6237\u7aef\u80fd\u591f\u5904\u7406\u7684\u5185\u5bb9\u7c7b\u578b Content-Type \u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u5185\u5bb9\u7c7b\u578b Content-Length \u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u5185\u5bb9\u957f\u5ea6 Connection \u63a7\u5236\u8fde\u63a5\u7684\u7ba1\u7406\uff08\u5982\uff1akeep-alive \u4ee5\u4fdd\u6301\u8fde\u63a5\uff09 Cookie \u5ba2\u6237\u7aef\u53d1\u9001\u7684 Cookie\uff0c\u7528\u4e8e\u4f1a\u8bdd\u7ba1\u7406\u548c\u72b6\u6001\u4fdd\u6301"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#4-http","title":"4. HTTP \u7279\u6027","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#41","title":"4.1 \u65e0\u72b6\u6001\u6027","text":"<p>HTTP \u662f\u65e0\u72b6\u6001\u534f\u8bae\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u662f\u72ec\u7acb\u7684\uff0c\u670d\u52a1\u5668\u4e0d\u4f1a\u4fdd\u7559\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u72b6\u6001\u4fe1\u606f\u3002\u65e0\u72b6\u6001\u6027\u7b80\u5316\u4e86\u670d\u52a1\u5668\u7684\u8bbe\u8ba1\uff0c\u4f46\u5728\u9700\u8981\u72b6\u6001\u7ba1\u7406\u65f6\uff0c\u9700\u8981\u4f7f\u7528 Cookie\u3001Session \u6216 Token\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#42","title":"4.2 \u6301\u4e45\u8fde\u63a5","text":"<p>HTTP/1.1 \u9ed8\u8ba4\u4f7f\u7528\u6301\u4e45\u8fde\u63a5\uff0c\u5141\u8bb8\u591a\u4e2a\u8bf7\u6c42\u590d\u7528\u540c\u4e00\u4e2a TCP \u8fde\u63a5\uff0c\u51cf\u5c11\u4e86\u63e1\u624b\u5ef6\u8fdf\uff0c\u63d0\u9ad8\u4e86\u6027\u80fd\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#43","title":"4.3 \u7f13\u5b58\u673a\u5236","text":"<ul> <li>\u5f3a\u7f13\u5b58: \u4f7f\u7528 <code>Expires</code> \u6216 <code>Cache-Control</code> \u5934\u6765\u63a7\u5236\u7f13\u5b58\u3002</li> <li>\u534f\u5546\u7f13\u5b58: \u4f7f\u7528 <code>Last-Modified</code> \u548c <code>ETag</code> \u5934\u6765\u5224\u65ad\u8d44\u6e90\u662f\u5426\u9700\u8981\u66f4\u65b0\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#44","title":"4.4 \u91cd\u5b9a\u5411","text":"<p>\u670d\u52a1\u5668\u53ef\u4ee5\u901a\u8fc7\u8fd4\u56de 3xx \u72b6\u6001\u7801\u548c <code>Location</code> \u5934\u90e8\u5b9e\u73b0\u91cd\u5b9a\u5411\uff0c\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u91cd\u5b9a\u5411\u5230\u5176\u4ed6 URL\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#5-http","title":"5. HTTP \u5b89\u5168\u6027","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#51-https","title":"5.1 HTTPS","text":"<p>HTTPS\uff08HTTP Secure\uff09\u662f\u5728 HTTP \u57fa\u7840\u4e0a\u589e\u52a0\u4e86 SSL/TLS \u52a0\u5bc6\u5c42\uff0c\u4fdd\u969c\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\u6027\u3002\u5b83\u901a\u8fc7\u8bc1\u4e66\u9a8c\u8bc1\u670d\u52a1\u5668\u8eab\u4efd\uff0c\u5e76\u52a0\u5bc6\u6570\u636e\u4ee5\u9632\u6b62\u88ab\u7a83\u542c\u6216\u7be1\u6539\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#52","title":"5.2 \u5e38\u89c1\u7684\u5b89\u5168\u95ee\u9898","text":"<ul> <li>\u4e2d\u95f4\u4eba\u653b\u51fb: \u653b\u51fb\u8005\u7a83\u542c\u6216\u7be1\u6539\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</li> <li>XSS\uff08\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff09: \u653b\u51fb\u8005\u901a\u8fc7\u6ce8\u5165\u6076\u610f\u811a\u672c\u6765\u653b\u51fb\u7528\u6237\u7684\u6d4f\u89c8\u5668\u3002</li> <li>CSRF\uff08\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff09: \u653b\u51fb\u8005\u8bf1\u4f7f\u7528\u6237\u5728\u5df2\u8ba4\u8bc1\u7684\u72b6\u6001\u4e0b\u6267\u884c\u6076\u610f\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#6-http2-http3","title":"6. HTTP/2 \u548c HTTP/3","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#61-http2","title":"6.1 HTTP/2","text":"<ul> <li>\u4e8c\u8fdb\u5236\u534f\u8bae: HTTP/2 \u4f7f\u7528\u4e8c\u8fdb\u5236\u5e27\u8fdb\u884c\u4f20\u8f93\uff0c\u63d0\u9ad8\u4e86\u4f20\u8f93\u6548\u7387\u3002</li> <li>\u591a\u8def\u590d\u7528: \u4e00\u4e2a\u8fde\u63a5\u4e0a\u53ef\u4ee5\u5e76\u884c\u53d1\u9001\u591a\u4e2a\u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u51cf\u5c11\u4e86\u5ef6\u8fdf\u3002</li> <li>\u5934\u90e8\u538b\u7f29: \u4f7f\u7528 HPACK \u7b97\u6cd5\u5bf9\u5934\u90e8\u8fdb\u884c\u538b\u7f29\uff0c\u964d\u4f4e\u4e86\u6570\u636e\u4f20\u8f93\u91cf\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#62-http3","title":"6.2 HTTP/3","text":"<ul> <li>\u57fa\u4e8e QUIC: HTTP/3 \u4f7f\u7528\u57fa\u4e8e UDP \u7684 QUIC \u534f\u8bae\u4ee3\u66ff\u4e86\u4f20\u7edf\u7684 TCP\uff0c\u51cf\u5c11\u4e86\u8fde\u63a5\u5efa\u7acb\u548c\u6062\u590d\u7684\u5ef6\u8fdf\u3002</li> <li>\u66f4\u5feb\u7684\u8fde\u63a5\u6062\u590d: QUIC \u652f\u6301\u66f4\u5feb\u901f\u7684\u8fde\u63a5\u6062\u590d\u673a\u5236\uff0c\u7279\u522b\u662f\u5728\u7f51\u7edc\u4e0d\u7a33\u5b9a\u7684\u73af\u5883\u4e0b\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#7","title":"7. \u9762\u8bd5\u5e38\u89c1\u95ee\u9898","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#71-http-https","title":"7.1 HTTP \u548c HTTPS \u7684\u533a\u522b","text":"<ul> <li>\u5b89\u5168\u6027: HTTPS \u589e\u52a0\u4e86 SSL/TLS \u52a0\u5bc6\u5c42\uff0c\u4fdd\u969c\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\u6027\u3002</li> <li>\u7aef\u53e3: HTTP \u4f7f\u7528 80 \u7aef\u53e3\uff0cHTTPS \u4f7f\u7528 443 \u7aef\u53e3\u3002</li> <li>\u901f\u5ea6: HTTPS \u7531\u4e8e\u52a0\u5bc6\u89e3\u5bc6\u8fc7\u7a0b\uff0c\u53ef\u80fd\u7a0d\u6162\u4e8e HTTP\uff0c\u4f46\u7531\u4e8e HTTP/2 \u7684\u5f15\u5165\uff0c\u5dee\u8ddd\u7f29\u5c0f\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#72-http","title":"7.2 \u5982\u4f55\u5b9e\u73b0 HTTP \u7f13\u5b58\u673a\u5236\uff1f","text":"<p>\u4f7f\u7528 <code>Cache-Control</code> \u548c <code>Expires</code> \u8fdb\u884c\u5f3a\u7f13\u5b58\u63a7\u5236\uff0c\u4f7f\u7528 <code>ETag</code> \u548c <code>Last-Modified</code> \u8fdb\u884c\u534f\u5546\u7f13\u5b58\u63a7\u5236\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#73-http","title":"7.3 \u4e3a\u4ec0\u4e48 HTTP \u662f\u65e0\u72b6\u6001\u7684\uff1f","text":"<p>\u65e0\u72b6\u6001\u6027\u7b80\u5316\u4e86\u670d\u52a1\u5668\u7684\u8bbe\u8ba1\uff0c\u964d\u4f4e\u4e86\u8d44\u6e90\u5360\u7528\uff0c\u4f46\u5728\u9700\u8981\u72b6\u6001\u7ba1\u7406\u65f6\uff0c\u9700\u8981\u4f9d\u8d56 Cookie\u3001Session \u7b49\u6280\u672f\u3002</p> <p>\u7ee7\u7eed\u6df1\u5165\u63a2\u8ba8 HTTP \u76f8\u5173\u77e5\u8bc6\uff0c\u5e76\u8865\u5145\u66f4\u591a\u5185\u5bb9\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#8-http","title":"8. HTTP \u4f1a\u8bdd\u7ba1\u7406","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#81-cookie","title":"8.1 Cookie","text":"<p>Cookie \u662f\u4e00\u79cd\u5728\u5ba2\u6237\u7aef\u5b58\u50a8\u5c11\u91cf\u6570\u636e\u7684\u6280\u672f\uff0c\u901a\u5e38\u7528\u4e8e\u4f1a\u8bdd\u7ba1\u7406\u3001\u7528\u6237\u8ddf\u8e2a\u548c\u4e2a\u6027\u5316\u8bbe\u7f6e\u3002 - \u6301\u4e45\u6027: Cookie \u53ef\u4ee5\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u6210\u4e3a\u6301\u4e45 Cookie\u3002 - \u4f5c\u7528\u57df: Cookie \u7684\u4f5c\u7528\u57df\u7531 <code>Domain</code> \u548c <code>Path</code> \u5c5e\u6027\u51b3\u5b9a\u3002 - \u5b89\u5168\u6027: \u901a\u8fc7 <code>Secure</code> \u6807\u8bb0\u53ea\u5141\u8bb8\u5728 HTTPS \u8fde\u63a5\u4e2d\u4f20\u8f93\uff0c<code>HttpOnly</code> \u6807\u8bb0\u7981\u6b62 JavaScript \u8bbf\u95ee\u3002</p> <p>Cookie \u793a\u4f8b:</p> <pre><code>Set-Cookie: sessionId=abc123; Expires=Wed, 09 Jun 2024 10:18:14 GMT; Path=/; Secure; HttpOnly\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#82-session","title":"8.2 Session","text":"<p>Session \u662f\u4e00\u79cd\u5728\u670d\u52a1\u5668\u7aef\u4fdd\u5b58\u7528\u6237\u4f1a\u8bdd\u6570\u636e\u7684\u6280\u672f\uff0c\u901a\u5e38\u4f7f\u7528 Session ID \u8fdb\u884c\u6807\u8bc6\u3002Session ID \u901a\u5e38\u901a\u8fc7 Cookie \u6216 URL \u53c2\u6570\u4f20\u9012\u3002 - \u6301\u4e45\u6027: Session \u901a\u5e38\u662f\u77ed\u6682\u7684\uff0c\u9ed8\u8ba4\u5728\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\u6216\u8d85\u65f6\u540e\u5931\u6548\u3002 - \u5b58\u50a8\u4f4d\u7f6e: Session \u6570\u636e\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef\uff0c\u901a\u5e38\u5728\u5185\u5b58\u3001\u6570\u636e\u5e93\u6216\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#83-token","title":"8.3 Token","text":"<p>Token \u662f\u4e00\u79cd\u65e0\u72b6\u6001\u7684\u8ba4\u8bc1\u673a\u5236\uff0c\u5e38\u89c1\u7684\u5982 JWT\uff08JSON Web Token\uff09\u3002\u5b83\u5305\u542b\u7528\u6237\u7684\u8eab\u4efd\u4fe1\u606f\uff0c\u670d\u52a1\u5668\u901a\u8fc7\u9a8c\u8bc1 Token \u6765\u8bc6\u522b\u7528\u6237\uff0c\u800c\u65e0\u9700\u5b58\u50a8\u4f1a\u8bdd\u6570\u636e\u3002 - \u65e0\u72b6\u6001\u6027: Token \u662f\u65e0\u72b6\u6001\u7684\uff0c\u9002\u5408\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002 - \u5b89\u5168\u6027: Token \u53ef\u4ee5\u88ab\u7b7e\u540d\u548c\u52a0\u5bc6\uff0c\u786e\u4fdd\u6570\u636e\u5b8c\u6574\u6027\u548c\u4fdd\u5bc6\u6027\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#9-http","title":"9. HTTP \u62a5\u5934\u8be6\u89e3","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#91","title":"9.1 \u5e38\u89c1\u8bf7\u6c42\u5934\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d\u79f0 \u89e3\u91ca \u793a\u4f8b Host \u6307\u5b9a\u8bf7\u6c42\u8d44\u6e90\u7684\u4e3b\u673a\u548c\u7aef\u53e3 <code>Host: www.example.com</code> User-Agent \u5ba2\u6237\u7aef\u8f6f\u4ef6\u4fe1\u606f <code>User-Agent: Mozilla/5.0</code> Accept \u5ba2\u6237\u7aef\u53ef\u5904\u7406\u7684 MIME \u7c7b\u578b <code>Accept: text/html,application/xhtml+xml</code> Content-Type \u8bf7\u6c42\u4f53\u5185\u5bb9\u7684\u7c7b\u578b <code>Content-Type: application/json</code> Authorization \u8bf7\u6c42\u8d44\u6e90\u7684\u8ba4\u8bc1\u4fe1\u606f <code>Authorization: Basic YWxhZGRpbjpvcGVuc2VzYW1l</code> Referer \u8bf7\u6c42\u7684\u6765\u6e90\u9875\u9762 <code>Referer: https://www.google.com/</code> Cookie \u8bf7\u6c42\u9644\u5e26\u7684 Cookie \u4fe1\u606f <code>Cookie: sessionId=abc123</code>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#92","title":"9.2 \u5e38\u89c1\u54cd\u5e94\u5934\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d\u79f0 \u89e3\u91ca \u793a\u4f8b Content-Type \u54cd\u5e94\u5185\u5bb9\u7684 MIME \u7c7b\u578b <code>Content-Type: text/html; charset=UTF-8</code> Content-Length \u54cd\u5e94\u4f53\u7684\u5b57\u8282\u957f\u5ea6 <code>Content-Length: 1234</code> Set-Cookie \u8bbe\u7f6e\u5ba2\u6237\u7aef\u7684 Cookie <code>Set-Cookie: sessionId=abc123; HttpOnly</code> Cache-Control \u6307\u5b9a\u7f13\u5b58\u7b56\u7565 <code>Cache-Control: no-cache</code> Expires \u6307\u5b9a\u8d44\u6e90\u7684\u8fc7\u671f\u65f6\u95f4 <code>Expires: Wed, 09 Jun 2024 10:18:14 GMT</code> ETag \u8d44\u6e90\u7684\u5b9e\u4f53\u6807\u7b7e\uff0c\u7528\u4e8e\u7f13\u5b58\u9a8c\u8bc1 <code>ETag: \"5d8c72a5edda9c7\"</code> Server \u670d\u52a1\u5668\u8f6f\u4ef6\u7684\u4fe1\u606f <code>Server: Apache/2.4.1 (Unix)</code>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#10-http","title":"10. HTTP \u7f13\u5b58\u673a\u5236","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#101","title":"10.1 \u5f3a\u7f13\u5b58","text":"<p>\u5f3a\u7f13\u5b58 \u662f\u6307\u5ba2\u6237\u7aef\u53ef\u4ee5\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u8d44\u6e90\uff0c\u800c\u4e0d\u9700\u8981\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u3002\u5f3a\u7f13\u5b58\u7531 <code>Expires</code> \u548c <code>Cache-Control</code> \u5934\u90e8\u63a7\u5236\u3002</p> <ul> <li> <p>Expires: \u6307\u5b9a\u8d44\u6e90\u7684\u5230\u671f\u65f6\u95f4\uff0c\u57fa\u4e8e\u670d\u52a1\u5668\u65f6\u95f4\u3002   <code>plaintext   Expires: Wed, 09 Jun 2024 10:18:14 GMT</code></p> </li> <li> <p>Cache-Control: \u63d0\u4f9b\u66f4\u7075\u6d3b\u7684\u7f13\u5b58\u63a7\u5236\u9009\u9879\uff0c\u4f8b\u5982\uff1a</p> </li> <li><code>max-age</code>: \u6307\u5b9a\u8d44\u6e90\u7684\u6700\u5927\u7f13\u5b58\u65f6\u95f4\u3002</li> <li><code>no-cache</code>: \u6bcf\u6b21\u4f7f\u7528\u7f13\u5b58\u524d\u5fc5\u987b\u5411\u670d\u52a1\u5668\u9a8c\u8bc1\u3002</li> <li><code>no-store</code>: \u4e0d\u7f13\u5b58\u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u4efb\u4f55\u5185\u5bb9\u3002</li> </ul> <p><code>plaintext   Cache-Control: max-age=3600</code></p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#102","title":"10.2 \u534f\u5546\u7f13\u5b58","text":"<p>\u534f\u5546\u7f13\u5b58 \u662f\u6307\u5ba2\u6237\u7aef\u9700\u8981\u5411\u670d\u52a1\u5668\u9a8c\u8bc1\u7f13\u5b58\u7684\u8d44\u6e90\u662f\u5426\u5df2\u66f4\u65b0\uff0c\u5982\u679c\u672a\u66f4\u65b0\uff0c\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u7f13\u5b58\u8d44\u6e90\u3002\u5e38\u7528\u7684\u5934\u90e8\u5b57\u6bb5\u6709 <code>Last-Modified</code> \u548c <code>ETag</code>\u3002</p> <ul> <li> <p>Last-Modified: \u6307\u5b9a\u8d44\u6e90\u7684\u6700\u540e\u4fee\u6539\u65f6\u95f4\u3002   <code>plaintext   Last-Modified: Wed, 09 Jun 2023 10:18:14 GMT</code></p> </li> <li> <p>ETag: \u4e3a\u8d44\u6e90\u751f\u6210\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u7528\u4e8e\u5224\u65ad\u8d44\u6e90\u662f\u5426\u4fee\u6539\u3002   <code>plaintext   ETag: \"5d8c72a5edda9c7\"</code></p> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#11-http_1","title":"11. HTTP \u72b6\u6001\u7801\u8be6\u89e3","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#111-1xx","title":"11.1 1xx \u4fe1\u606f\u54cd\u5e94","text":"\u72b6\u6001\u7801 \u542b\u4e49 \u8bf4\u660e 100 \u7ee7\u7eed\uff08Continue\uff09 \u5ba2\u6237\u7aef\u5e94\u7ee7\u7eed\u8bf7\u6c42 101 \u5207\u6362\u534f\u8bae\uff08Switching Protocols\uff09 \u670d\u52a1\u5668\u540c\u610f\u5207\u6362\u534f\u8bae"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#112-2xx","title":"11.2 2xx \u6210\u529f\u54cd\u5e94","text":"\u72b6\u6001\u7801 \u542b\u4e49 \u8bf4\u660e 200 \u6210\u529f\uff08OK\uff09 \u8bf7\u6c42\u6210\u529f\uff0c\u8fd4\u56de\u8bf7\u6c42\u7684\u6570\u636e 201 \u5df2\u521b\u5efa\uff08Created\uff09 \u8bf7\u6c42\u6210\u529f\u5e76\u4e14\u670d\u52a1\u5668\u521b\u5efa\u4e86\u65b0\u8d44\u6e90 204 \u65e0\u5185\u5bb9\uff08No Content\uff09 \u8bf7\u6c42\u6210\u529f\uff0c\u4f46\u6ca1\u6709\u8fd4\u56de\u5185\u5bb9"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#113-3xx","title":"11.3 3xx \u91cd\u5b9a\u5411\u54cd\u5e94","text":"\u72b6\u6001\u7801 \u542b\u4e49 \u8bf4\u660e 301 \u6c38\u4e45\u79fb\u52a8\uff08Moved Permanently\uff09 \u8bf7\u6c42\u7684\u8d44\u6e90\u5df2\u88ab\u6c38\u4e45\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e 302 \u4e34\u65f6\u79fb\u52a8\uff08Found\uff09 \u8bf7\u6c42\u7684\u8d44\u6e90\u6682\u65f6\u4ece\u4e0d\u540c\u7684 URI \u54cd\u5e94 304 \u672a\u4fee\u6539\uff08Not Modified\uff09 \u7f13\u5b58\u7684\u8d44\u6e90\u4ecd\u662f\u6700\u65b0\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#114-4xx","title":"11.4 4xx \u5ba2\u6237\u7aef\u9519\u8bef","text":"\u72b6\u6001\u7801 \u542b\u4e49 \u8bf4\u660e 400 \u9519\u8bef\u8bf7\u6c42\uff08Bad Request\uff09 \u8bf7\u6c42\u5b58\u5728\u8bed\u6cd5\u95ee\u9898\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u7406\u89e3 401 \u672a\u6388\u6743\uff08Unauthorized\uff09 \u8bf7\u6c42\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1 403 \u7981\u6b62\uff08Forbidden\uff09 \u670d\u52a1\u5668\u7406\u89e3\u8bf7\u6c42\uff0c\u4f46\u62d2\u7edd\u6267\u884c 404 \u672a\u627e\u5230\uff08Not Found\uff09 \u670d\u52a1\u5668\u65e0\u6cd5\u627e\u5230\u8bf7\u6c42\u7684\u8d44\u6e90"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#115-5xx","title":"11.5 5xx \u670d\u52a1\u5668\u9519\u8bef","text":"\u72b6\u6001\u7801 \u542b\u4e49 \u8bf4\u660e 500 \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\uff08Internal Server Error\uff09 \u670d\u52a1\u5668\u9047\u5230\u610f\u5916\u60c5\u51b5\uff0c\u65e0\u6cd5\u5b8c\u6210\u8bf7\u6c42 502 \u9519\u8bef\u7f51\u5173\uff08Bad Gateway\uff09 \u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\u65f6\u6536\u5230\u65e0\u6548\u54cd\u5e94 503 \u670d\u52a1\u4e0d\u53ef\u7528\uff08Service Unavailable\uff09 \u670d\u52a1\u5668\u6682\u65f6\u65e0\u6cd5\u5904\u7406\u8bf7\u6c42"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#12-http-restful-api","title":"12. HTTP \u4e0e RESTful API","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#121-restful-api","title":"12.1 RESTful API \u6982\u5ff5","text":"<p>REST\uff08Representational State Transfer\uff09 \u662f\u4e00\u79cd\u67b6\u6784\u98ce\u683c\uff0c\u5e38\u7528\u4e8e\u8bbe\u8ba1\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u3002RESTful API \u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a - \u8d44\u6e90: \u4e00\u5207\u7686\u8d44\u6e90\uff0c\u6bcf\u4e2a\u8d44\u6e90\u90fd\u7531\u4e00\u4e2a URI \u552f\u4e00\u6807\u8bc6\u3002 - \u65b9\u6cd5: \u4f7f\u7528\u6807\u51c6\u7684 HTTP \u65b9\u6cd5\uff08GET\u3001POST\u3001PUT\u3001DELETE\uff09\u5bf9\u8d44\u6e90\u8fdb\u884c\u64cd\u4f5c\u3002 - \u72b6\u6001\u8f6c\u79fb: \u901a\u8fc7\u8d85\u94fe\u63a5\u5728\u8d44\u6e90\u4e4b\u95f4\u5bfc\u822a\uff0c\u5b9e\u73b0\u72b6\u6001\u8f6c\u79fb\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#122-restful-api","title":"12.2 RESTful API \u7684\u8bbe\u8ba1\u8981\u70b9","text":"<ul> <li>URI \u8bbe\u8ba1: \u7b80\u6d01\u4e14\u6709\u5c42\u6b21\u7ed3\u6784\u7684 URI \u8bbe\u8ba1\uff0c\u5982 <code>/users/{id}/posts</code>\u3002</li> <li>\u4f7f\u7528 HTTP \u65b9\u6cd5: \u6839\u636e\u64cd\u4f5c\u7c7b\u578b\u9009\u62e9\u5408\u9002\u7684 HTTP \u65b9\u6cd5\u3002</li> <li>\u8fd4\u56de\u683c\u5f0f: \u901a\u5e38\u4f7f\u7528 JSON \u4f5c\u4e3a\u6570\u636e\u4ea4\u6362\u683c\u5f0f\u3002</li> <li>\u72b6\u6001\u7801: \u4f7f\u7528\u6807\u51c6\u7684 HTTP \u72b6\u6001\u7801\u8868\u793a\u64cd\u4f5c\u7ed3\u679c\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#123-restful-api","title":"12.3 RESTful API \u7684\u4f18\u52bf","text":"<ul> <li>\u7b80\u5355\u6027: \u57fa\u4e8e HTTP \u534f\u8bae\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u5b9e\u73b0\u3002</li> <li>\u65e0\u72b6\u6001\u6027: \u6bcf\u4e2a\u8bf7\u6c42\u72ec\u7acb\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u670d\u52a1\u5668\u7684\u5b58\u50a8\u72b6\u6001\u3002</li> <li>\u53ef\u6269\u5c55\u6027: RESTful API \u9002\u5408\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u8bbe\u8ba1\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#13-http_1","title":"13. HTTP \u5b89\u5168\u4e0e\u4f18\u5316","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#131-http","title":"13.1 HTTP \u5b89\u5168\u6027","text":"<ul> <li>SSL/TLS: \u4f7f\u7528 SSL/TLS \u534f\u8bae\u6765\u52a0\u5bc6 HTTP \u901a\u4fe1\uff0c\u5f62\u6210 HTTPS\uff0c\u4fdd\u969c\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\u6027\u3002</li> <li>\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff08XSS\uff09: \u901a\u8fc7\u8f93\u51fa\u8fc7\u6ee4\u3001\u9632\u6b62\u7528\u6237\u8f93\u5165\u6076\u610f\u811a\u672c\u6765\u9632\u8303 XSS \u653b\u51fb\u3002</li> <li>\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08CSRF\uff09: \u901a\u8fc7\u9a8c\u8bc1\u8bf7\u6c42\u6765\u6e90\u548c\u4f7f\u7528 CSRF Token \u9632\u6b62 CSRF \u653b\u51fb\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#132-http","title":"13.2 HTTP \u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u538b\u7f29: \u4f7f\u7528 Gzip \u538b\u7f29\u54cd\u5e94\u6570\u636e\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u91cf\u3002</li> <li>\u7f13\u5b58: \u5229\u7528\u5f3a\u7f13\u5b58\u548c\u534f\u5546\u7f13\u5b58\u51cf\u5c11\u670d\u52a1\u5668\u8d1f\u62c5\u548c\u54cd\u5e94\u65f6\u95f4\u3002</li> <li>\u5185\u5bb9\u5206\u53d1\u7f51\u7edc\uff08CDN\uff09: \u4f7f\u7528 CDN \u52a0\u901f\u5185\u5bb9\u5206\u53d1\uff0c\u51cf\u5c11\u670d\u52a1\u5668\u8d1f\u8f7d\u3002</li> </ul> <p>\u7ee7\u7eed\u6269\u5c55 HTTP \u9762\u8bd5\u624b\u518c\u7684\u5185\u5bb9\uff0c\u4ee5\u5e2e\u52a9\u4f60\u5168\u9762\u4e86\u89e3 HTTP \u534f\u8bae\u53ca\u5176\u76f8\u5173\u7684\u6280\u672f\u7ec6\u8282\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#14-http","title":"14. HTTP \u4ee3\u7406\u670d\u52a1\u5668","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#141","title":"14.1 \u6b63\u5411\u4ee3\u7406","text":"<p>\u6b63\u5411\u4ee3\u7406 \u662f\u4f4d\u4e8e\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4e00\u79cd\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u901a\u8fc7\u6b63\u5411\u4ee3\u7406\u8bbf\u95ee\u76ee\u6807\u670d\u52a1\u5668\u3002\u5e38\u89c1\u7528\u9014\u5305\u62ec\uff1a - \u8bbf\u95ee\u63a7\u5236: \u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u8fc7\u6ee4\u4e0d\u7b26\u5408\u7b56\u7565\u7684\u8bf7\u6c42\u3002 - \u7f13\u5b58: \u5728\u4ee3\u7406\u670d\u52a1\u5668\u4e2d\u7f13\u5b58\u54cd\u5e94\uff0c\u4ee5\u51cf\u5c11\u8bf7\u6c42\u6b21\u6570\u548c\u5e26\u5bbd\u6d88\u8017\u3002 - \u533f\u540d\u8bbf\u95ee: \u901a\u8fc7\u4ee3\u7406\u9690\u85cf\u5ba2\u6237\u7aef\u7684\u771f\u5b9e IP \u5730\u5740\u3002</p> <p>\u6b63\u5411\u4ee3\u7406\u793a\u610f\u56fe:</p> <pre><code>\u5ba2\u6237\u7aef --&gt; \u4ee3\u7406\u670d\u52a1\u5668 --&gt; \u76ee\u6807\u670d\u52a1\u5668\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#142","title":"14.2 \u53cd\u5411\u4ee3\u7406","text":"<p>\u53cd\u5411\u4ee3\u7406 \u662f\u4f4d\u4e8e\u670d\u52a1\u5668\u7aef\u7684\u4e00\u79cd\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u5e76\u4e0d\u77e5\u9053\u5176\u8bf7\u6c42\u7684\u8d44\u6e90\u5b9e\u9645\u6765\u81ea\u54ea\u4e2a\u670d\u52a1\u5668\u3002\u5e38\u89c1\u7528\u9014\u5305\u62ec\uff1a - \u8d1f\u8f7d\u5747\u8861: \u53cd\u5411\u4ee3\u7406\u5c06\u8bf7\u6c42\u5206\u53d1\u5230\u591a\u4e2a\u540e\u7aef\u670d\u52a1\u5668\uff0c\u4ee5\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3002 - \u5b89\u5168\u6027: \u53cd\u5411\u4ee3\u7406\u53ef\u4ee5\u9690\u85cf\u540e\u7aef\u670d\u52a1\u5668\u7684\u771f\u5b9e\u5730\u5740\uff0c\u589e\u5f3a\u5b89\u5168\u6027\u3002 - \u7f13\u5b58: \u5728\u53cd\u5411\u4ee3\u7406\u4e2d\u7f13\u5b58\u9759\u6001\u5185\u5bb9\uff0c\u51cf\u5c11\u540e\u7aef\u670d\u52a1\u5668\u7684\u8d1f\u8f7d\u3002</p> <p>\u53cd\u5411\u4ee3\u7406\u793a\u610f\u56fe:</p> <pre><code>\u5ba2\u6237\u7aef --&gt; \u53cd\u5411\u4ee3\u7406 --&gt; \u591a\u4e2a\u540e\u7aef\u670d\u52a1\u5668\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#143","title":"14.3 \u900f\u660e\u4ee3\u7406","text":"<p>\u900f\u660e\u4ee3\u7406 \u662f\u4e00\u79cd\u4e0d\u9700\u8981\u5ba2\u6237\u7aef\u914d\u7f6e\u7684\u4ee3\u7406\u670d\u52a1\u5668\u3002\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u88ab\u900f\u660e\u4ee3\u7406\u6355\u83b7\u548c\u5904\u7406\uff0c\u800c\u5ba2\u6237\u7aef\u4e0d\u611f\u77e5\u4ee3\u7406\u7684\u5b58\u5728\u3002\u5e38\u7528\u4e8e\u7f51\u7edc\u76d1\u63a7\u548c\u5185\u5bb9\u8fc7\u6ee4\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#15-http2","title":"15. HTTP/2 \u534f\u8bae\u8be6\u89e3","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#151-http2","title":"15.1 HTTP/2 \u7b80\u4ecb","text":"<p>HTTP/2 \u662f HTTP/1.1 \u7684\u5347\u7ea7\u7248\u672c\uff0c\u65e8\u5728\u63d0\u9ad8 Web \u6027\u80fd\u548c\u6548\u7387\u3002HTTP/2 \u7684\u4e3b\u8981\u7279\u70b9\u5305\u62ec\uff1a - \u4e8c\u8fdb\u5236\u5e27: HTTP/2 \u4f7f\u7528\u4e8c\u8fdb\u5236\u683c\u5f0f\u4f20\u8f93\u6570\u636e\uff0c\u76f8\u6bd4 HTTP/1.x \u7684\u6587\u672c\u683c\u5f0f\u66f4\u9ad8\u6548\u3002 - \u591a\u8def\u590d\u7528: \u5728\u540c\u4e00\u4e2a TCP \u8fde\u63a5\u4e0a\uff0c\u53ef\u4ee5\u5e76\u53d1\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u907f\u514d\u4e86 HTTP/1.x \u7684\u961f\u5934\u963b\u585e\uff08Head-of-Line Blocking\uff09\u3002 - \u5934\u90e8\u538b\u7f29: HTTP/2 \u4f7f\u7528 HPACK \u7b97\u6cd5\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u5934\u90e8\u8fdb\u884c\u538b\u7f29\uff0c\u51cf\u5c11\u4f20\u8f93\u7684\u6570\u636e\u91cf\u3002 - \u670d\u52a1\u5668\u63a8\u9001: \u670d\u52a1\u5668\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u8bf7\u6c42\u4e4b\u524d\uff0c\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u8d44\u6e90\uff0c\u8fdb\u4e00\u6b65\u63d0\u5347\u6027\u80fd\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#152-http2-http11","title":"15.2 HTTP/2 \u4e0e HTTP/1.1 \u7684\u5bf9\u6bd4","text":"\u7279\u6027 HTTP/1.1 HTTP/2 \u6570\u636e\u683c\u5f0f \u6587\u672c \u4e8c\u8fdb\u5236 \u591a\u8def\u590d\u7528 \u4e0d\u652f\u6301 \u652f\u6301 \u5934\u90e8\u538b\u7f29 \u4e0d\u652f\u6301 \u652f\u6301\uff08HPACK\uff09 \u670d\u52a1\u5668\u63a8\u9001 \u4e0d\u652f\u6301 \u652f\u6301 \u8fde\u63a5\u7ba1\u7406 \u591a\u4e2a\u5e76\u53d1\u8fde\u63a5 \u5355\u4e2a\u8fde\u63a5"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#153-http2","title":"15.3 HTTP/2 \u7684\u4f18\u5316\u673a\u5236","text":"<ul> <li>\u8fde\u63a5\u590d\u7528: \u901a\u8fc7\u5355\u4e2a TCP \u8fde\u63a5\u4f20\u8f93\u591a\u4e2a\u5e76\u53d1\u8bf7\u6c42\uff0c\u51cf\u5c11\u4e86 TCP \u63e1\u624b\u548c\u8fde\u63a5\u7ba1\u7406\u7684\u5f00\u9500\u3002</li> <li>\u6d41\u4f18\u5148\u7ea7: \u6bcf\u4e2a HTTP/2 \u6d41\u90fd\u6709\u4e00\u4e2a\u4f18\u5148\u7ea7\uff0c\u670d\u52a1\u5668\u53ef\u4ee5\u6839\u636e\u4f18\u5148\u7ea7\u51b3\u5b9a\u8d44\u6e90\u5206\u914d\u7b56\u7565\u3002</li> <li>\u6d41\u91cf\u63a7\u5236: HTTP/2 \u5141\u8bb8\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u5bf9\u6d41\u8fdb\u884c\u6d41\u91cf\u63a7\u5236\uff0c\u907f\u514d\u5e26\u5bbd\u88ab\u67d0\u4e2a\u6d41\u72ec\u5360\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#16-http3-quic","title":"16. HTTP/3 \u4e0e QUIC \u534f\u8bae","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#161-http3","title":"16.1 HTTP/3 \u7b80\u4ecb","text":"<p>HTTP/3 \u662f\u57fa\u4e8e QUIC \u534f\u8bae\u7684 HTTP \u534f\u8bae\u7248\u672c\uff0c\u65e8\u5728\u8fdb\u4e00\u6b65\u63d0\u9ad8\u7f51\u7edc\u4f20\u8f93\u6548\u7387\u548c\u53ef\u9760\u6027\u3002QUIC \u662f\u7531 Google \u5f00\u53d1\u7684\u57fa\u4e8e UDP \u7684\u4f20\u8f93\u534f\u8bae\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#162-http3","title":"16.2 HTTP/3 \u7684\u4f18\u52bf","text":"<ul> <li>\u57fa\u4e8e UDP: QUIC \u57fa\u4e8e UDP\uff0c\u800c\u975e TCP\uff0c\u8fd9\u4f7f\u5f97\u8fde\u63a5\u5efa\u7acb\u66f4\u5feb\uff0c\u6570\u636e\u4f20\u8f93\u5ef6\u8fdf\u66f4\u4f4e\u3002</li> <li>\u65e0\u961f\u5934\u963b\u585e: QUIC \u901a\u8fc7\u591a\u8def\u4f20\u8f93\u673a\u5236\u907f\u514d\u4e86 TCP \u7684\u961f\u5934\u963b\u585e\u95ee\u9898\u3002</li> <li>\u96c6\u6210 TLS: QUIC \u5c06 TLS \u96c6\u6210\u5230\u534f\u8bae\u672c\u8eab\u4e2d\uff0c\u5b9e\u73b0\u4e86\u66f4\u5feb\u901f\u7684\u52a0\u5bc6\u63e1\u624b\u8fc7\u7a0b\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#163-http3","title":"16.3 HTTP/3 \u7684\u5173\u952e\u6280\u672f","text":"<ul> <li>\u8fde\u63a5\u8fc1\u79fb: QUIC \u652f\u6301\u8fde\u63a5\u8fc1\u79fb\uff0c\u8fd9\u610f\u5473\u7740\u5728\u7f51\u7edc\u5207\u6362\u65f6\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u8fde\u63a5\u4e0d\u4f1a\u4e2d\u65ad\u3002</li> <li>\u5305\u91cd\u4f20\u673a\u5236: QUIC \u4f7f\u7528\u5305\u7ea7\u522b\u7684\u91cd\u4f20\u673a\u5236\uff0c\u51cf\u5c11\u4e86\u6570\u636e\u4e22\u5931\u5bf9\u4f20\u8f93\u901f\u5ea6\u7684\u5f71\u54cd\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#17-http","title":"17. HTTP \u65b9\u6cd5\u5b89\u5168\u6027\u4e0e\u5e42\u7b49\u6027","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#171-http","title":"17.1 HTTP \u65b9\u6cd5\u5b89\u5168\u6027","text":"<p>HTTP \u65b9\u6cd5\u6839\u636e\u5176\u5bf9\u670d\u52a1\u5668\u8d44\u6e90\u7684\u5f71\u54cd\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a - \u5b89\u5168\u65b9\u6cd5: \u4e0d\u4f1a\u4fee\u6539\u670d\u52a1\u5668\u8d44\u6e90\u7684 HTTP \u65b9\u6cd5\uff0c\u4e3b\u8981\u5305\u62ec GET\u3001HEAD \u548c OPTIONS\u3002\u5b89\u5168\u65b9\u6cd5\u7684\u8bf7\u6c42\u53ef\u4ee5\u91cd\u590d\u6267\u884c\uff0c\u800c\u4e0d\u4f1a\u6539\u53d8\u670d\u52a1\u5668\u7684\u72b6\u6001\u3002 - \u975e\u5b89\u5168\u65b9\u6cd5: \u53ef\u80fd\u4fee\u6539\u670d\u52a1\u5668\u8d44\u6e90\u7684 HTTP \u65b9\u6cd5\uff0c\u4e3b\u8981\u5305\u62ec POST\u3001PUT\u3001DELETE\u3002\u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u8bf7\u6c42\u7684\u526f\u4f5c\u7528\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#172-http","title":"17.2 HTTP \u65b9\u6cd5\u7684\u5e42\u7b49\u6027","text":"<p>\u5e42\u7b49\u6027\u662f\u6307\u67d0\u4e2a\u64cd\u4f5c\u65e0\u8bba\u6267\u884c\u591a\u5c11\u6b21\uff0c\u7ed3\u679c\u90fd\u4e0d\u4f1a\u6539\u53d8\u3002\u5728 HTTP \u65b9\u6cd5\u4e2d\uff0c\u4ee5\u4e0b\u65b9\u6cd5\u662f\u5e42\u7b49\u7684\uff1a - GET: \u591a\u6b21\u83b7\u53d6\u540c\u4e00\u8d44\u6e90\uff0c\u7ed3\u679c\u76f8\u540c\u3002 - PUT: \u591a\u6b21\u4e0a\u4f20\u76f8\u540c\u7684\u8d44\u6e90\uff0c\u7ed3\u679c\u76f8\u540c\u3002 - DELETE: \u591a\u6b21\u5220\u9664\u76f8\u540c\u7684\u8d44\u6e90\uff0c\u7ed3\u679c\u76f8\u540c\uff08\u8d44\u6e90\u4e0d\u5b58\u5728\u65f6\u5220\u9664\u64cd\u4f5c\u65e0\u6548\uff09\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#173","title":"17.3 \u975e\u5e42\u7b49\u65b9\u6cd5","text":"<p>POST \u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u521b\u5efa\u8d44\u6e90\u6216\u63d0\u4ea4\u6570\u636e\uff0c\u56e0\u4e3a\u6bcf\u6b21 POST \u8bf7\u6c42\u90fd\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u56e0\u6b64\u5b83\u662f\u975e\u5e42\u7b49\u7684\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#18-http","title":"18. HTTP \u72b6\u6001\u7801\u8be6\u89e3\uff08\u8865\u5145\uff09","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#181-426-upgrade-required","title":"18.1 426 Upgrade Required","text":"<p>426 Upgrade Required \u72b6\u6001\u7801\u8868\u793a\u5ba2\u6237\u7aef\u5e94\u5207\u6362\u5230\u4e0d\u540c\u7684\u534f\u8bae\u7248\u672c\uff0c\u4f8b\u5982\u4ece HTTP/1.1 \u5347\u7ea7\u5230 HTTP/2\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#182-451-unavailable-for-legal-reasons","title":"18.2 451 Unavailable For Legal Reasons","text":"<p>451 Unavailable For Legal Reasons \u72b6\u6001\u7801\u8868\u793a\u7531\u4e8e\u6cd5\u5f8b\u539f\u56e0\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u63d0\u4f9b\u6240\u8bf7\u6c42\u7684\u8d44\u6e90\u3002\u4f8b\u5982\uff0c\u67d0\u4e9b\u56fd\u5bb6\u6216\u5730\u533a\u7684\u6cd5\u5f8b\u9650\u5236\u8bbf\u95ee\u67d0\u4e9b\u5185\u5bb9\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#19-http","title":"19. HTTP \u62a5\u6587\u7684\u8be6\u7ec6\u7ed3\u6784","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#191-http","title":"19.1 HTTP \u8bf7\u6c42\u62a5\u6587","text":"<p>HTTP \u8bf7\u6c42\u62a5\u6587\u7531\u4ee5\u4e0b\u51e0\u90e8\u5206\u7ec4\u6210\uff1a 1. \u8bf7\u6c42\u884c: \u5305\u542b HTTP \u65b9\u6cd5\u3001\u8bf7\u6c42\u76ee\u6807 URI \u548c\u534f\u8bae\u7248\u672c\u3002\u4f8b\u5982\uff1a    <code>GET /index.html HTTP/1.1</code> 2. \u8bf7\u6c42\u5934\u90e8: \u5305\u542b\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u5404\u79cd\u4fe1\u606f\u548c\u53c2\u6570\uff0c\u4f8b\u5982 Host\u3001User-Agent \u7b49\u3002 3. \u7a7a\u884c: \u8bf7\u6c42\u5934\u90e8\u4e0e\u8bf7\u6c42\u4f53\u4e4b\u95f4\u7684\u7a7a\u884c\uff0c\u7528\u4e8e\u5206\u9694\u5934\u90e8\u548c\u6b63\u6587\u3002 4. \u8bf7\u6c42\u4f53: \u53d1\u9001\u7ed9\u670d\u52a1\u5668\u7684\u6570\u636e\uff0c\u901a\u5e38\u7528\u4e8e POST\u3001PUT \u7b49\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#192-http","title":"19.2 HTTP \u54cd\u5e94\u62a5\u6587","text":"<p>HTTP \u54cd\u5e94\u62a5\u6587\u7531\u4ee5\u4e0b\u51e0\u90e8\u5206\u7ec4\u6210\uff1a 1. \u72b6\u6001\u884c: \u5305\u542b\u534f\u8bae\u7248\u672c\u3001\u72b6\u6001\u7801\u548c\u72b6\u6001\u63cf\u8ff0\u3002\u4f8b\u5982\uff1a    <code>HTTP/1.1 200 OK</code> 2. \u54cd\u5e94\u5934\u90e8: \u5305\u542b\u670d\u52a1\u5668\u7aef\u7684\u4fe1\u606f\u548c\u8bf7\u6c42\u7684\u54cd\u5e94\u53c2\u6570\uff0c\u4f8b\u5982 Content-Type\u3001Content-Length \u7b49\u3002 3. \u7a7a\u884c: \u54cd\u5e94\u5934\u90e8\u4e0e\u54cd\u5e94\u4f53\u4e4b\u95f4\u7684\u7a7a\u884c\uff0c\u7528\u4e8e\u5206\u9694\u5934\u90e8\u548c\u6b63\u6587\u3002 4. \u54cd\u5e94\u4f53: \u670d\u52a1\u5668\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7684\u6570\u636e\uff0c\u901a\u5e38\u662f HTML\u3001JSON \u7b49\u683c\u5f0f\u7684\u5185\u5bb9\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#20-http","title":"20. \u5e38\u89c1\u7684 HTTP \u5b89\u5168\u6f0f\u6d1e\u53ca\u9632\u62a4","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#201-xss","title":"20.1 \u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff08XSS\uff09","text":"<p>XSS \u662f\u4e00\u79cd\u901a\u8fc7\u5728\u7f51\u9875\u4e2d\u6ce8\u5165\u6076\u610f\u811a\u672c\u6765\u653b\u51fb\u7528\u6237\u7684\u6280\u672f\uff0c\u4e3b\u8981\u9632\u62a4\u63aa\u65bd\u5305\u62ec\uff1a - \u8f93\u5165\u8fc7\u6ee4: \u5bf9\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u8fdb\u884c\u4e25\u683c\u7684\u8fc7\u6ee4\u548c\u9a8c\u8bc1\u3002 - \u8f93\u51fa\u7f16\u7801: \u5728\u8f93\u51fa\u5230\u7f51\u9875\u524d\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u7f16\u7801\uff0c\u907f\u514d\u811a\u672c\u6267\u884c\u3002 - \u5185\u5bb9\u5b89\u5168\u7b56\u7565\uff08CSP\uff09: \u4f7f\u7528 CSP \u9650\u5236\u7f51\u9875\u4e2d\u5141\u8bb8\u6267\u884c\u7684\u811a\u672c\u6765\u6e90\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#202-csrf","title":"20.2 \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08CSRF\uff09","text":"<p>CSRF \u662f\u4e00\u79cd\u901a\u8fc7\u4f2a\u9020\u7528\u6237\u8bf7\u6c42\u6765\u6267\u884c\u672a\u6388\u6743\u64cd\u4f5c\u7684\u653b\u51fb\uff0c\u4e3b\u8981\u9632\u62a4\u63aa\u65bd\u5305\u62ec\uff1a - CSRF Token: \u5728\u8868\u5355\u63d0\u4ea4\u65f6\u52a0\u5165\u552f\u4e00\u7684 Token\uff0c\u5e76\u5728\u670d\u52a1\u5668\u7aef\u9a8c\u8bc1\u8be5 Token \u7684\u6709\u6548\u6027\u3002 - \u9a8c\u8bc1\u6765\u6e90: \u9a8c\u8bc1\u8bf7\u6c42\u7684\u6765\u6e90\u662f\u5426\u53ef\u4fe1\uff0c\u4f8b\u5982\u901a\u8fc7 Referer \u5934\u90e8\u6216 Origin \u5934\u90e8\u8fdb\u884c\u68c0\u67e5\u3002 - \u53cc\u91cd\u63d0\u4ea4 Cookie: \u5728 Cookie \u548c\u8868\u5355\u4e2d\u540c\u65f6\u4f20\u9012 Token\uff0c\u5e76\u5728\u670d\u52a1\u5668\u7aef\u8fdb\u884c\u6bd4\u5bf9\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#203-mitm","title":"20.3 \u4e2d\u95f4\u4eba\u653b\u51fb\uff08MITM\uff09","text":"<p>\u4e2d\u95f4\u4eba\u653b\u51fb \u662f\u6307\u653b\u51fb\u8005\u5728\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u62e6\u622a\u548c\u7be1\u6539\u901a\u4fe1\u5185\u5bb9\uff0c\u4e3b\u8981\u9632\u62a4\u63aa\u65bd\u5305\u62ec\uff1a - \u4f7f\u7528 HTTPS: \u901a\u8fc7 SSL/TLS \u52a0\u5bc6\u901a\u4fe1\uff0c\u9632\u6b62\u6570\u636e\u88ab\u7be1\u6539\u548c\u7a83\u53d6\u3002 - \u8bc1\u4e66\u9a8c\u8bc1: \u5ba2\u6237\u7aef\u9a8c\u8bc1\u670d\u52a1\u5668\u63d0\u4f9b\u7684 SSL \u8bc1\u4e66\u662f\u5426\u53ef\u4fe1\uff0c\u907f\u514d\u8fde\u63a5\u5230\u5047\u5192\u670d\u52a1\u5668\u3002</p> <p>\u7ee7\u7eed\u6269\u5c55 HTTP \u9762\u8bd5\u624b\u518c\u7684\u5185\u5bb9\uff0c\u4e3a\u4f60\u63d0\u4f9b\u66f4\u5168\u9762\u7684\u77e5\u8bc6\u8986\u76d6\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#21-http-keep-alive","title":"21. HTTP Keep-Alive \u673a\u5236","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#211-keep-alive","title":"21.1 Keep-Alive \u7b80\u4ecb","text":"<p>Keep-Alive \u673a\u5236\uff0c\u4e5f\u79f0\u4e3a\u6301\u4e45\u8fde\u63a5\uff0c\u662f HTTP/1.1 \u7684\u9ed8\u8ba4\u884c\u4e3a\u3002\u5b83\u5141\u8bb8\u5728\u540c\u4e00 TCP \u8fde\u63a5\u4e0a\u590d\u7528\u591a\u4e2a HTTP \u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u51cf\u5c11\u8fde\u63a5\u5efa\u7acb\u548c\u5173\u95ed\u7684\u5f00\u9500\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#212-keep-alive","title":"21.2 Keep-Alive \u7684\u4f18\u52bf","text":"<ul> <li>\u51cf\u5c11\u5ef6\u8fdf: \u907f\u514d\u6bcf\u6b21\u8bf7\u6c42\u90fd\u8981\u91cd\u65b0\u5efa\u7acb TCP \u8fde\u63a5\uff0c\u4ece\u800c\u964d\u4f4e\u5ef6\u8fdf\u3002</li> <li>\u8282\u7701\u8d44\u6e90: \u590d\u7528\u8fde\u63a5\u53ef\u4ee5\u51cf\u5c11\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684\u8d44\u6e90\u6d88\u8017\uff0c\u5982 CPU \u548c\u5185\u5b58\u4f7f\u7528\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#213-keep-alive","title":"21.3 Keep-Alive \u7684\u5de5\u4f5c\u539f\u7406","text":"<ul> <li>\u6301\u4e45\u8fde\u63a5: HTTP/1.1 \u9ed8\u8ba4\u4f7f\u7528\u6301\u4e45\u8fde\u63a5\uff0c\u9664\u975e\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u660e\u786e\u5173\u95ed\u8fde\u63a5\u3002</li> <li><code>Connection: keep-alive</code> \u5934: \u5728 HTTP/1.0 \u4e2d\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u53ef\u4ee5\u901a\u8fc7 <code>Connection: keep-alive</code> \u5934\u90e8\u6307\u793a\u7ee7\u7eed\u4fdd\u6301\u8fde\u63a5\u3002</li> <li>\u8fde\u63a5\u8d85\u65f6: \u670d\u52a1\u5668\u901a\u5e38\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u5982\u679c\u5728\u6b64\u65f6\u95f4\u5185\u6ca1\u6709\u65b0\u7684\u8bf7\u6c42\uff0c\u8fde\u63a5\u5c06\u88ab\u5173\u95ed\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#22-http","title":"22. HTTP \u8ba4\u8bc1\u673a\u5236","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#221-basic","title":"22.1 Basic \u8ba4\u8bc1","text":"<p>Basic \u8ba4\u8bc1 \u662f\u6700\u7b80\u5355\u7684 HTTP \u8ba4\u8bc1\u673a\u5236\uff0c\u5ba2\u6237\u7aef\u901a\u8fc7\u5c06\u7528\u6237\u540d\u548c\u5bc6\u7801\u8fdb\u884c Base64 \u7f16\u7801\u540e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002\u5c3d\u7ba1\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u5176\u5b89\u5168\u6027\u8f83\u4f4e\uff0c\u56e0\u4e3a\u7f16\u7801\u540e\u7684\u5b57\u7b26\u4e32\u5bb9\u6613\u88ab\u89e3\u7801\u3002</p> <p>Basic \u8ba4\u8bc1\u793a\u4f8b:</p> <pre><code>Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#222-digest","title":"22.2 Digest \u8ba4\u8bc1","text":"<p>Digest \u8ba4\u8bc1 \u63d0\u4f9b\u4e86\u6bd4 Basic \u8ba4\u8bc1\u66f4\u9ad8\u7684\u5b89\u5168\u6027\uff0c\u901a\u8fc7\u5bf9\u7528\u6237\u51ed\u636e\u8fdb\u884c MD5 \u54c8\u5e0c\uff0c\u5e76\u9644\u52a0\u968f\u673a\u6570\uff08nonce\uff09\u6765\u9632\u6b62\u91cd\u653e\u653b\u51fb\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#223-bearer-token","title":"22.3 Bearer Token","text":"<p>Bearer Token \u662f OAuth 2.0 \u4e2d\u5e38\u7528\u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u5ba2\u6237\u7aef\u901a\u8fc7\u643a\u5e26\u4ee4\u724c\uff08Token\uff09\u6765\u8bbf\u95ee\u53d7\u4fdd\u62a4\u7684\u8d44\u6e90\u3002\u670d\u52a1\u5668\u9a8c\u8bc1\u4ee4\u724c\u7684\u6709\u6548\u6027\u540e\u5141\u8bb8\u8bbf\u95ee\u3002</p> <p>Bearer Token \u793a\u4f8b:</p> <pre><code>Authorization: Bearer &lt;token&gt;\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#224-http","title":"22.4 HTTP \u8ba4\u8bc1\u5934\u90e8","text":"<p>\u5e38\u7528\u7684 HTTP \u8ba4\u8bc1\u5934\u90e8\u5305\u62ec\uff1a - Authorization: \u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8ba4\u8bc1\u4fe1\u606f\u3002 - WWW-Authenticate: \u670d\u52a1\u5668\u8981\u6c42\u5ba2\u6237\u7aef\u63d0\u4f9b\u8ba4\u8bc1\u4fe1\u606f\u65f6\u8fd4\u56de\u7684\u5934\u90e8\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#23-http","title":"23. HTTP \u5934\u90e8\u8be6\u89e3","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#231","title":"23.1 \u5e38\u89c1\u8bf7\u6c42\u5934\u90e8","text":"<ul> <li>Host: \u6307\u5b9a\u8bf7\u6c42\u7684\u4e3b\u673a\u548c\u7aef\u53e3\u53f7\uff0cHTTP/1.1 \u4e2d\u662f\u5fc5\u9700\u7684\u3002</li> <li>User-Agent: \u6807\u8bc6\u5ba2\u6237\u7aef\u7684\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\u3002</li> <li>Accept: \u6307\u5b9a\u5ba2\u6237\u7aef\u80fd\u591f\u5904\u7406\u7684\u5185\u5bb9\u7c7b\u578b\uff08MIME \u7c7b\u578b\uff09\u3002</li> <li>Accept-Encoding: \u6307\u5b9a\u5ba2\u6237\u7aef\u652f\u6301\u7684\u5185\u5bb9\u7f16\u7801\u65b9\u5f0f\uff0c\u5982 gzip\u3001deflate\u3002</li> <li>Accept-Language: \u6307\u5b9a\u5ba2\u6237\u7aef\u9996\u9009\u7684\u8bed\u8a00\u548c\u533a\u57df\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#232","title":"23.2 \u5e38\u89c1\u54cd\u5e94\u5934\u90e8","text":"<ul> <li>Content-Type: \u6307\u5b9a\u54cd\u5e94\u5185\u5bb9\u7684 MIME \u7c7b\u578b\uff0c\u5982 <code>text/html</code>\u3001<code>application/json</code>\u3002</li> <li>Content-Length: \u6307\u5b9a\u54cd\u5e94\u5185\u5bb9\u7684\u5b57\u8282\u957f\u5ea6\u3002</li> <li>Content-Encoding: \u6307\u5b9a\u54cd\u5e94\u5185\u5bb9\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5982 <code>gzip</code>\u3002</li> <li>Cache-Control: \u63a7\u5236\u7f13\u5b58\u7684\u884c\u4e3a\uff0c\u5982 <code>no-cache</code>\u3001<code>no-store</code>\u3002</li> <li>Expires: \u6307\u5b9a\u54cd\u5e94\u5185\u5bb9\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u7528\u4e8e\u7f13\u5b58\u63a7\u5236\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#233","title":"23.3 \u5b89\u5168\u76f8\u5173\u5934\u90e8","text":"<ul> <li>Strict-Transport-Security (HSTS): \u5f3a\u5236\u5ba2\u6237\u7aef\u901a\u8fc7 HTTPS \u8bbf\u95ee\uff0c\u5e76\u9632\u6b62\u964d\u7ea7\u653b\u51fb\u3002</li> <li>Content-Security-Policy (CSP): \u9650\u5236\u7f51\u9875\u4e2d\u53ef\u4ee5\u6267\u884c\u7684\u5185\u5bb9\u6765\u6e90\uff0c\u9632\u6b62 XSS \u653b\u51fb\u3002</li> <li>X-Content-Type-Options: \u9632\u6b62\u6d4f\u89c8\u5668 MIME \u7c7b\u578b\u55c5\u63a2\uff0c\u786e\u4fdd\u5185\u5bb9\u4ee5\u58f0\u660e\u7684\u7c7b\u578b\u5904\u7406\u3002</li> <li>X-Frame-Options: \u9632\u6b62\u7f51\u9875\u88ab\u5d4c\u5165\u5230\u5176\u4ed6\u7ad9\u70b9\u7684 iframe \u4e2d\uff0c\u9632\u6b62\u70b9\u51fb\u52ab\u6301\u653b\u51fb\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#24-http","title":"24. HTTP \u534f\u8bae\u5728\u79fb\u52a8\u7aef\u7684\u5e94\u7528","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#241-http","title":"24.1 \u79fb\u52a8\u7aef HTTP \u4f18\u5316","text":"<ul> <li>\u51cf\u5c11\u8bf7\u6c42\u6570: \u5408\u5e76\u8bf7\u6c42\uff0c\u4f7f\u7528\u96ea\u78a7\u56fe\uff08Sprite\uff09\u3001\u5185\u8054\u8d44\u6e90\u7b49\u6280\u672f\u51cf\u5c11 HTTP \u8bf7\u6c42\u6570\u3002</li> <li>\u5185\u5bb9\u538b\u7f29: \u4f7f\u7528 Gzip\u3001Brotli \u7b49\u538b\u7f29\u6280\u672f\u51cf\u5c0f\u54cd\u5e94\u5185\u5bb9\u5927\u5c0f\u3002</li> <li>\u56fe\u7247\u4f18\u5316: \u4f7f\u7528 WebP \u7b49\u9ad8\u6548\u56fe\u7247\u683c\u5f0f\uff0c\u5e76\u6839\u636e\u7f51\u7edc\u72b6\u51b5\u8c03\u6574\u56fe\u7247\u8d28\u91cf\u3002</li> <li>\u61d2\u52a0\u8f7d: \u5ef6\u8fdf\u52a0\u8f7d\u4e0d\u5728\u89c6\u53e3\u5185\u7684\u8d44\u6e90\uff0c\u4ee5\u51cf\u5c11\u521d\u59cb\u52a0\u8f7d\u65f6\u95f4\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#242","title":"24.2 \u79fb\u52a8\u7aef\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u5f3a\u7f13\u5b58: \u4f7f\u7528 <code>Cache-Control</code> \u548c <code>Expires</code> \u5934\u90e8\u8bbe\u7f6e\u9759\u6001\u8d44\u6e90\u7684\u7f13\u5b58\u65f6\u95f4\u3002</li> <li>\u534f\u5546\u7f13\u5b58: \u4f7f\u7528 <code>ETag</code> \u548c <code>Last-Modified</code> \u5934\u90e8\u5b9e\u73b0\u8d44\u6e90\u66f4\u65b0\u7684\u68c0\u67e5\u673a\u5236\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#25-http","title":"25. HTTP \u8bf7\u6c42\u65b9\u6cd5\u7684\u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#251-put-patch","title":"25.1 PUT \u4e0e PATCH \u7684\u533a\u522b","text":"<ul> <li>PUT: \u7528\u4e8e\u66f4\u65b0\u8d44\u6e90\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u4f53\u5305\u542b\u5b8c\u6574\u7684\u8d44\u6e90\u8868\u793a\u3002</li> <li>PATCH: \u7528\u4e8e\u90e8\u5206\u66f4\u65b0\u8d44\u6e90\uff0c\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u4f53\u53ea\u5305\u542b\u8981\u4fee\u6539\u7684\u5b57\u6bb5\u3002</li> </ul> <p>\u793a\u4f8b:</p> <pre><code>PUT /users/1 HTTP/1.1\nContent-Type: application/json\n\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\"\n}\n</code></pre> <pre><code>PATCH /users/1 HTTP/1.1\nContent-Type: application/json\n\n{\n  \"email\": \"new.email@example.com\"\n}\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#252-options","title":"25.2 OPTIONS \u65b9\u6cd5","text":"<p>OPTIONS \u65b9\u6cd5\u7528\u4e8e\u67e5\u8be2\u670d\u52a1\u5668\u652f\u6301\u7684 HTTP \u65b9\u6cd5\u548c\u5176\u4ed6\u901a\u4fe1\u9009\u9879\uff0c\u901a\u5e38\u7528\u4e8e\u8de8\u57df\u8bf7\u6c42\u7684\u9884\u68c0\uff08preflight\uff09\u8bf7\u6c42\u3002</p> <p>\u793a\u4f8b:</p> <pre><code>OPTIONS /api/v1/users HTTP/1.1\nHost: example.com\n</code></pre> <p>\u670d\u52a1\u5668\u7684\u54cd\u5e94\u53ef\u80fd\u5305\u542b\u4ee5\u4e0b\u5934\u90e8:</p> <pre><code>Allow: GET, POST, PUT, DELETE, OPTIONS\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#253-trace","title":"25.3 TRACE \u65b9\u6cd5","text":"<p>TRACE \u65b9\u6cd5\u7528\u4e8e\u56de\u663e\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u4e3b\u8981\u7528\u4e8e\u8c03\u8bd5\u76ee\u7684\u3002\u7531\u4e8e\u5b89\u5168\u6027\u8f83\u4f4e\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u901a\u5e38\u7981\u7528\u8be5\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#26-http-websocket","title":"26. HTTP \u4e0e WebSocket","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#261-websocket","title":"26.1 WebSocket \u7b80\u4ecb","text":"<p>WebSocket \u662f\u4e00\u79cd\u5728\u5355\u4e2a TCP \u8fde\u63a5\u4e0a\u63d0\u4f9b\u5168\u53cc\u5de5\u901a\u4fe1\u7684\u534f\u8bae\uff0c\u7528\u4e8e\u5b9e\u65f6\u5e94\u7528\uff0c\u5982\u5728\u7ebf\u804a\u5929\u548c\u5b9e\u65f6\u6570\u636e\u66f4\u65b0\u3002\u4e0e HTTP \u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0cWebSocket \u4e00\u65e6\u8fde\u63a5\u5efa\u7acb\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u53d1\u9001\u6570\u636e\uff0c\u800c\u65e0\u9700\u518d\u53d1\u8d77\u65b0\u7684 HTTP \u8bf7\u6c42\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#262-http-websocket","title":"26.2 HTTP \u548c WebSocket \u7684\u5173\u7cfb","text":"<ul> <li>\u63e1\u624b\u9636\u6bb5: WebSocket \u8fde\u63a5\u4ece HTTP \u534f\u8bae\u5f00\u59cb\uff0c\u901a\u8fc7 HTTP Upgrade \u5934\u90e8\u5c06\u534f\u8bae\u5347\u7ea7\u4e3a WebSocket\u3002</li> <li>\u6301\u4e45\u8fde\u63a5: WebSocket \u8fde\u63a5\u4e00\u65e6\u5efa\u7acb\uff0c\u901a\u5e38\u4fdd\u6301\u6253\u5f00\u72b6\u6001\uff0c\u76f4\u5230\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u4e3b\u52a8\u5173\u95ed\u8fde\u63a5\u3002</li> <li>\u4f4e\u5ef6\u8fdf: WebSocket \u9002\u7528\u4e8e\u4f4e\u5ef6\u8fdf\u7684\u5e94\u7528\u573a\u666f\uff0c\u56e0\u4e3a\u5b83\u6d88\u9664\u4e86 HTTP \u7684\u8bf7\u6c42/\u54cd\u5e94\u5ef6\u8fdf\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#263-websocket","title":"26.3 WebSocket \u7684\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u5b9e\u65f6\u804a\u5929\u5e94\u7528: WebSocket \u652f\u6301\u53cc\u5411\u901a\u4fe1\uff0c\u9002\u5408\u7528\u4e8e\u5b9e\u73b0\u5b9e\u65f6\u804a\u5929\u529f\u80fd\u3002</li> <li>\u5b9e\u65f6\u6570\u636e\u63a8\u9001: \u5728\u91d1\u878d\u3001\u4f53\u80b2\u7b49\u9700\u8981\u5b9e\u65f6\u6570\u636e\u66f4\u65b0\u7684\u5e94\u7528\u4e2d\uff0cWebSocket \u53ef\u4ee5\u5b9e\u65f6\u63a8\u9001\u6570\u636e\u5230\u5ba2\u6237\u7aef\u3002</li> <li>\u591a\u4eba\u5728\u7ebf\u6e38\u620f: WebSocket \u7684\u4f4e\u5ef6\u8fdf\u7279\u6027\u4f7f\u5176\u6210\u4e3a\u591a\u4eba\u5728\u7ebf\u6e38\u620f\u901a\u4fe1\u7684\u7406\u60f3\u9009\u62e9\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#27-http","title":"27. HTTP \u7684\u6f14\u8fdb\u53ca\u672a\u6765\u53d1\u5c55","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#271-http10-http2","title":"27.1 HTTP/1.0 \u5230 HTTP/2 \u7684\u6f14\u8fdb","text":"<ul> <li>HTTP/1.0: \u65e9\u671f\u7248\u672c\uff0c\u91c7\u7528\u65e0\u72b6\u6001\u7684\u8bf7\u6c42/\u54cd\u5e94\u6a21\u578b\uff0c\u6bcf\u6b21\u8bf7\u6c42\u90fd\u9700\u8981\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\u3002</li> <li>HTTP/1.1: \u5f15\u5165\u6301\u4e45\u8fde\u63a5\u548c\u7ba1\u9053\u5316\uff0c\u51cf\u5c11\u8fde\u63a5\u5f00\u9500\uff0c\u5e76\u652f\u6301 Host \u5934\u90e8\uff0c\u5b9e\u73b0\u865a\u62df\u4e3b\u673a\u529f\u80fd\u3002</li> <li>HTTP/2: \u901a\u8fc7\u591a\u8def\u590d\u7528\u3001\u5934\u90e8\u538b\u7f29\u548c\u670d\u52a1\u5668\u63a8\u9001\u7b49\u673a\u5236\uff0c\u5927\u5e45\u63d0\u5347\u4e86 Web \u6027\u80fd\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#272-http3","title":"27.2 HTTP/3 \u7684\u672a\u6765","text":"<p>HTTP/3 \u57fa\u4e8e QUIC \u534f\u8bae\uff0c\u4f7f\u7528 UDP \u4ee3\u66ff TCP \u63d0\u4f9b\u53ef\u9760\u4f20\u8f93\uff0c\u76ee\u6807\u662f\u8fdb\u4e00\u6b65\u964d\u4f4e\u5ef6\u8fdf\uff0c\u63d0\u9ad8\u7f51\u7edc\u4f20\u8f93\u6548\u7387\u3002HTTP/3 \u7684\u53d1\u5c55\u5c06\u7ee7\u7eed\u63a8\u52a8\u4e92\u8054\u7f51\u534f\u8bae\u7684\u6f14\u8fdb\uff0c\u7279\u522b\u662f\u5728\u79fb\u52a8\u8bbe\u5907\u548c\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u7684\u5e94\u7528\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#273-http","title":"27.3 \u57fa\u4e8e HTTP \u7684\u73b0\u4ee3\u5e94\u7528\u534f\u8bae","text":"<ul> <li>GraphQL: \u57fa\u4e8e HTTP \u7684\u67e5\u8be2\u8bed\u8a00\uff0c\u5141\u8bb8\u5ba2\u6237\u7aef\u6307\u5b9a\u6240\u9700\u7684\u6570\u636e\u7ed3\u6784\uff0c\u51cf\u5c11\u6570\u636e\u4f20\u8f93\u91cf\u3002</li> <li>gRPC: \u57fa\u4e8e HTTP/2 \u7684\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff08RPC\uff09\u6846\u67b6\uff0c\u4f7f\u7528 Protocol Buffers \u8fdb\u884c\u5e8f\u5217\u5316\uff0c\u652f\u6301\u9ad8\u6548\u7684\u6570\u636e\u4f20\u8f93\u548c\u53cc\u5411\u6d41\u901a\u4fe1\u3002</li> </ul> <p>\u7ee7\u7eed\u6269\u5c55 HTTP \u9762\u8bd5\u624b\u518c\uff0c\u6db5\u76d6\u66f4\u5e7f\u6cdb\u7684\u4e3b\u9898\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#28-http-cors","title":"28. HTTP CORS \u8de8\u57df\u8d44\u6e90\u5171\u4eab","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#281-cors","title":"28.1 CORS \u6982\u8ff0","text":"<p>\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff08CORS\uff09 \u662f\u4e00\u79cd\u673a\u5236\uff0c\u5141\u8bb8\u6d4f\u89c8\u5668\u4ece\u4e0e\u63d0\u4f9b\u8d44\u6e90\u7684\u670d\u52a1\u5668\u4e0d\u540c\u7684\u57df\u4e2d\u8bf7\u6c42\u8d44\u6e90\u3002CORS \u4f9d\u8d56\u4e8e HTTP \u5934\u90e8\u6765\u544a\u77e5\u6d4f\u89c8\u5668\u8bf7\u6c42\u662f\u5426\u88ab\u5141\u8bb8\u8de8\u57df\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#282","title":"28.2 \u540c\u6e90\u7b56\u7565","text":"<p>\u540c\u6e90\u7b56\u7565\u8981\u6c42\uff0c\u7f51\u9875\u7684\u8d44\u6e90\u53ea\u80fd\u4ece\u4e0e\u5176\u6240\u5728\u9875\u9762\u76f8\u540c\u6e90\u7684 URL \u83b7\u53d6\u3002\u6e90\u5305\u62ec\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3\u3002CORS \u5141\u8bb8\u5728\u7b26\u5408\u6761\u4ef6\u65f6\u7a81\u7834\u540c\u6e90\u7b56\u7565\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#283-cors","title":"28.3 CORS \u7684\u5173\u952e\u5934\u90e8","text":"<ul> <li><code>Access-Control-Allow-Origin</code>: \u6307\u5b9a\u54ea\u4e9b\u57df\u540d\u53ef\u4ee5\u8bbf\u95ee\u8d44\u6e90\uff0c\u5e38\u89c1\u503c\u5305\u62ec\u5355\u4e2a\u57df\u540d\u6216\u901a\u914d\u7b26 <code>*</code>\u3002</li> <li><code>Access-Control-Allow-Methods</code>: \u6307\u5b9a\u5141\u8bb8\u7684 HTTP \u65b9\u6cd5\uff0c\u5982 <code>GET</code>, <code>POST</code>, <code>PUT</code>\u3002</li> <li><code>Access-Control-Allow-Headers</code>: \u6307\u5b9a\u5141\u8bb8\u7684\u8bf7\u6c42\u5934\u90e8\uff0c\u5982 <code>Content-Type</code>\u3002</li> <li><code>Access-Control-Allow-Credentials</code>: \u6307\u5b9a\u662f\u5426\u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\u643a\u5e26\u51ed\u8bc1\uff08\u5982 Cookies\uff09\u3002</li> <li><code>Access-Control-Max-Age</code>: \u6307\u5b9a\u6d4f\u89c8\u5668\u53ef\u4ee5\u7f13\u5b58\u9884\u68c0\u8bf7\u6c42\u7ed3\u679c\u7684\u65f6\u95f4\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#284","title":"28.4 \u9884\u68c0\u8bf7\u6c42","text":"<p>\u5f53\u8de8\u57df\u8bf7\u6c42\u4f7f\u7528\u4e86\u975e\u7b80\u5355\u8bf7\u6c42\u65b9\u6cd5\uff08\u5982 <code>PUT</code>, <code>DELETE</code>\uff09\u6216\u81ea\u5b9a\u4e49\u5934\u90e8\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u5728\u5b9e\u9645\u8bf7\u6c42\u524d\u53d1\u9001\u4e00\u4e2a OPTIONS \u8bf7\u6c42\uff0c\u79f0\u4e3a\u9884\u68c0\u8bf7\u6c42\uff08Preflight Request\uff09\u3002\u670d\u52a1\u5668\u54cd\u5e94\u540e\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u53d1\u9001\u5b9e\u9645\u8bf7\u6c42\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#285","title":"28.5 \u5b9e\u6218\u793a\u4f8b","text":"<p>CORS \u8bf7\u6c42\u793a\u4f8b:</p> <pre><code>GET /api/data HTTP/1.1\nHost: api.example.com\nOrigin: https://www.example.com\n</code></pre> <p>CORS \u54cd\u5e94\u793a\u4f8b:</p> <pre><code>HTTP/1.1 200 OK\nAccess-Control-Allow-Origin: https://www.example.com\nAccess-Control-Allow-Methods: GET, POST\nAccess-Control-Allow-Headers: Content-Type\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#29-http","title":"29. HTTP \u6d41\u5a92\u4f53\u4f20\u8f93","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#291","title":"29.1 \u6d41\u5a92\u4f53\u6982\u8ff0","text":"<p>\u6d41\u5a92\u4f53\u4f20\u8f93 \u662f\u6307\u5728\u7f51\u7edc\u4e0a\u5b9e\u65f6\u4f20\u9001\u97f3\u9891\u3001\u89c6\u9891\u6216\u591a\u5a92\u4f53\u6570\u636e\u7684\u6280\u672f\u3002HTTP \u5e38\u7528\u4e8e\u4f20\u8f93\u6d41\u5a92\u4f53\u5185\u5bb9\uff0c\u5982\u89c6\u9891\u70b9\u64ad\u3001\u76f4\u64ad\u7b49\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#292-http","title":"29.2 \u57fa\u4e8e HTTP \u7684\u6d41\u5a92\u4f53\u534f\u8bae","text":"<ul> <li>HLS\uff08HTTP Live Streaming\uff09: \u7531 Apple \u5f00\u53d1\u7684\u6d41\u5a92\u4f53\u534f\u8bae\uff0c\u4f7f\u7528 HTTP/HTTPS \u4f20\u8f93\u89c6\u9891\u5185\u5bb9\uff0c\u652f\u6301\u591a\u79cd\u6bd4\u7279\u7387\u7684\u5207\u6362\uff0c\u9002\u7528\u4e8e\u76f4\u64ad\u548c\u70b9\u64ad\u3002</li> <li>DASH\uff08Dynamic Adaptive Streaming over HTTP\uff09: \u901a\u8fc7\u5206\u7247\u5c06\u89c6\u9891\u5185\u5bb9\u6309\u8d28\u91cf\u548c\u6bd4\u7279\u7387\u8fdb\u884c\u52a8\u6001\u8c03\u6574\uff0c\u5e7f\u6cdb\u652f\u6301\u5404\u7c7b\u7ec8\u7aef\u8bbe\u5907\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#293-http","title":"29.3 \u6d41\u5a92\u4f53\u4f20\u8f93\u7684 HTTP \u5934\u90e8","text":"<ul> <li>Content-Type: \u6307\u5b9a\u5a92\u4f53\u7c7b\u578b\uff0c\u5982 <code>video/mp4</code>, <code>audio/mpeg</code>\u3002</li> <li>Content-Length: \u6307\u5b9a\u89c6\u9891\u6216\u97f3\u9891\u7247\u6bb5\u7684\u957f\u5ea6\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u3002</li> <li>Accept-Ranges: \u6307\u5b9a\u662f\u5426\u652f\u6301\u8303\u56f4\u8bf7\u6c42\uff0c\u901a\u5e38\u7528\u4e8e\u89c6\u9891\u7684\u5feb\u8fdb\u548c\u5012\u9000\u3002</li> <li>Transfer-Encoding: chunked: \u7528\u4e8e\u5206\u5757\u4f20\u8f93\u6d41\u5a92\u4f53\u5185\u5bb9\uff0c\u907f\u514d\u4e00\u6b21\u6027\u53d1\u9001\u8fc7\u5927\u7684\u6570\u636e\u5305\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#294","title":"29.4 \u5b9e\u6218\u793a\u4f8b","text":"<p>HLS \u8bf7\u6c42\u793a\u4f8b:</p> <pre><code>GET /stream/playlist.m3u8 HTTP/1.1\nHost: media.example.com\n</code></pre> <p>HLS \u54cd\u5e94\u793a\u4f8b:</p> <pre><code>HTTP/1.1 200 OK\nContent-Type: application/vnd.apple.mpegurl\nContent-Length: 320\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#30-http","title":"30. HTTP \u5b89\u5168\u6027\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#301-https","title":"30.1 \u4f7f\u7528 HTTPS","text":"<p>HTTPS \u662f HTTP \u7684\u52a0\u5bc6\u7248\u672c\uff0c\u4f7f\u7528 SSL/TLS \u534f\u8bae\u52a0\u5bc6\u6570\u636e\u4f20\u8f93\uff0c\u786e\u4fdd\u901a\u4fe1\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u548c\u8eab\u4efd\u9a8c\u8bc1\u3002\u6240\u6709\u73b0\u4ee3 Web \u5e94\u7528\u90fd\u5e94\u5f3a\u5236\u4f7f\u7528 HTTPS \u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#302-https","title":"30.2 \u5f3a\u5236 HTTPS","text":"<p>\u901a\u8fc7\u8bbe\u7f6e HTTP Strict Transport Security (HSTS) \u5934\u90e8\uff0c\u53ef\u4ee5\u544a\u77e5\u6d4f\u89c8\u5668\u5728\u672a\u6765\u7684\u8bf7\u6c42\u4e2d\u81ea\u52a8\u4f7f\u7528 HTTPS\uff0c\u9632\u6b62\u4e2d\u95f4\u4eba\u653b\u51fb\u3002</p> <p>HSTS \u5934\u90e8\u793a\u4f8b:</p> <pre><code>Strict-Transport-Security: max-age=31536000; includeSubDomains\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#303","title":"30.3 \u9632\u8303\u5e38\u89c1\u653b\u51fb","text":"<ul> <li>\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff08XSS\uff09: \u901a\u8fc7\u4f7f\u7528 Content-Security-Policy (CSP) \u5934\u90e8\u9650\u5236\u8d44\u6e90\u7684\u52a0\u8f7d\u6765\u6e90\u3002</li> <li>\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08CSRF\uff09: \u4f7f\u7528 CSRF \u4ee4\u724c\uff08Token\uff09\u6765\u9a8c\u8bc1\u6bcf\u4e2a\u8bf7\u6c42\u7684\u5408\u6cd5\u6027\uff0c\u9632\u6b62\u6076\u610f\u7f51\u7ad9\u5192\u5145\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u3002</li> <li>\u70b9\u51fb\u52ab\u6301: \u4f7f\u7528 X-Frame-Options \u5934\u90e8\u9632\u6b62\u9875\u9762\u88ab\u5d4c\u5165\u5230 iframe \u4e2d\uff0c\u4ece\u800c\u907f\u514d\u70b9\u51fb\u52ab\u6301\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#304-api","title":"30.4 API \u5b89\u5168\u6027","text":"<p>\u4e3a REST API \u6dfb\u52a0\u8eab\u4efd\u9a8c\u8bc1\u548c\u6388\u6743\u673a\u5236\uff0c\u5982\u4f7f\u7528 OAuth 2.0 \u6216 JWT\uff08JSON Web Token\uff09\uff0c\u786e\u4fdd API \u8d44\u6e90\u53ea\u80fd\u88ab\u6388\u6743\u7528\u6237\u8bbf\u95ee\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#31-http","title":"31. HTTP \u72b6\u6001\u7801\u7684\u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#311","title":"31.1 \u91cd\u5b9a\u5411\u72b6\u6001\u7801","text":"<ul> <li>301 Moved Permanently: \u7528\u4e8e\u6c38\u4e45\u6027\u91cd\u5b9a\u5411\uff0c\u6d4f\u89c8\u5668\u4f1a\u7f13\u5b58\u91cd\u5b9a\u5411\u7ed3\u679c\u3002</li> <li>302 Found: \u7528\u4e8e\u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u6d4f\u89c8\u5668\u4e0d\u4f1a\u7f13\u5b58\u7ed3\u679c\u3002</li> <li>303 See Other: \u901a\u5e38\u7528\u4e8e\u8868\u5355\u63d0\u4ea4\u540e\u91cd\u5b9a\u5411\u5230\u53e6\u4e00\u8d44\u6e90\uff0c\u5ba2\u6237\u7aef\u5e94\u4f7f\u7528 GET \u8bf7\u6c42\u3002</li> <li>307 Temporary Redirect: \u7c7b\u4f3c\u4e8e 302\uff0c\u4f46\u8981\u6c42\u5ba2\u6237\u7aef\u91cd\u65b0\u53d1\u8d77\u76f8\u540c\u7684\u8bf7\u6c42\u65b9\u6cd5\uff08\u5982 POST\uff09\u3002</li> <li>308 Permanent Redirect: \u7c7b\u4f3c\u4e8e 301\uff0c\u4f46\u8981\u6c42\u5ba2\u6237\u7aef\u4f7f\u7528\u76f8\u540c\u7684\u8bf7\u6c42\u65b9\u6cd5\u8fdb\u884c\u91cd\u5b9a\u5411\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#312","title":"31.2 \u5ba2\u6237\u7aef\u9519\u8bef\u72b6\u6001\u7801","text":"<ul> <li>400 Bad Request: \u8868\u793a\u8bf7\u6c42\u683c\u5f0f\u9519\u8bef\u6216\u53c2\u6570\u65e0\u6548\u3002</li> <li>401 Unauthorized: \u8868\u793a\u8bf7\u6c42\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u3002</li> <li>403 Forbidden: \u8868\u793a\u670d\u52a1\u5668\u62d2\u7edd\u8bf7\u6c42\uff0c\u5373\u4f7f\u5ba2\u6237\u7aef\u5df2\u901a\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u3002</li> <li>404 Not Found: \u8868\u793a\u8bf7\u6c42\u7684\u8d44\u6e90\u4e0d\u5b58\u5728\u3002</li> <li>429 Too Many Requests: \u8868\u793a\u5ba2\u6237\u7aef\u53d1\u9001\u4e86\u8fc7\u591a\u8bf7\u6c42\uff0c\u88ab\u9650\u901f\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#313","title":"31.3 \u670d\u52a1\u5668\u9519\u8bef\u72b6\u6001\u7801","text":"<ul> <li>500 Internal Server Error: \u8868\u793a\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\uff0c\u65e0\u6cd5\u5904\u7406\u8bf7\u6c42\u3002</li> <li>502 Bad Gateway: \u8868\u793a\u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\u65f6\u6536\u5230\u65e0\u6548\u54cd\u5e94\u3002</li> <li>503 Service Unavailable: \u8868\u793a\u670d\u52a1\u5668\u4e34\u65f6\u4e0d\u53ef\u7528\uff0c\u901a\u5e38\u7528\u4e8e\u7ef4\u62a4\u6216\u8fc7\u8f7d\u3002</li> <li>504 Gateway Timeout: \u8868\u793a\u670d\u52a1\u5668\u4f5c\u4e3a\u7f51\u5173\u6216\u4ee3\u7406\u65f6\uff0c\u7b49\u5f85\u53e6\u4e00\u4e2a\u670d\u52a1\u5668\u7684\u54cd\u5e94\u8d85\u65f6\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#32-http-restful-api","title":"32. HTTP \u4e0e RESTful API","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#321-restful-api","title":"32.1 RESTful API \u7684\u57fa\u672c\u539f\u5219","text":"<p>REST\uff08Representational State Transfer\uff09 \u662f\u4e00\u79cd\u8f6f\u4ef6\u67b6\u6784\u98ce\u683c\uff0c\u5229\u7528 HTTP \u534f\u8bae\u7684\u8bed\u4e49\u6784\u5efa\u9762\u5411\u8d44\u6e90\u7684 API\u3002RESTful API \u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <ul> <li>\u65e0\u72b6\u6001\u6027: \u6bcf\u4e2a\u8bf7\u6c42\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u670d\u52a1\u5668\u4e0d\u4fdd\u5b58\u5ba2\u6237\u7aef\u7684\u72b6\u6001\u3002</li> <li>\u7edf\u4e00\u63a5\u53e3: \u901a\u8fc7\u6807\u51c6\u7684 HTTP \u65b9\u6cd5\uff08GET, POST, PUT, DELETE\uff09\u5bf9\u8d44\u6e90\u8fdb\u884c\u64cd\u4f5c\u3002</li> <li>\u8d44\u6e90\u8868\u793a: \u8d44\u6e90\u901a\u8fc7 URL \u8868\u793a\uff0c\u901a\u5e38\u4f7f\u7528 JSON \u8fdb\u884c\u6570\u636e\u4ea4\u6362\u3002</li> <li>\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u67b6\u6784: \u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7684\u804c\u8d23\u660e\u786e\u5206\u79bb\uff0c\u5ba2\u6237\u7aef\u53ea\u8d1f\u8d23\u754c\u9762\u548c\u7528\u6237\u4ea4\u4e92\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#322-restful-api","title":"32.2 RESTful API \u7684\u8bbe\u8ba1","text":"<ul> <li>\u8d44\u6e90\u8def\u5f84: \u4f7f\u7528\u540d\u8bcd\u8868\u793a\u8d44\u6e90\uff0c\u5982 <code>/users</code> \u8868\u793a\u7528\u6237\u8d44\u6e90\u3002</li> <li>HTTP \u65b9\u6cd5: \u4f7f\u7528\u4e0d\u540c\u7684 HTTP \u65b9\u6cd5\u8fdb\u884c\u8d44\u6e90\u64cd\u4f5c\uff0c\u5982 <code>GET /users</code> \u83b7\u53d6\u7528\u6237\u5217\u8868\uff0c<code>POST /users</code> \u521b\u5efa\u65b0\u7528\u6237\u3002</li> <li>\u72b6\u6001\u7801: \u4f7f\u7528\u9002\u5f53\u7684 HTTP \u72b6\u6001\u7801\u8868\u793a\u64cd\u4f5c\u7ed3\u679c\uff0c\u5982 <code>201 Created</code> \u8868\u793a\u6210\u529f\u521b\u5efa\u8d44\u6e90\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#323-restful-api","title":"32.3 RESTful API \u7684\u7248\u672c\u63a7\u5236","text":"<p>\u901a\u8fc7\u5728 URL \u6216\u8bf7\u6c42\u5934\u4e2d\u6307\u5b9a API \u7248\u672c\u53f7\u6765\u5b9e\u73b0\u7248\u672c\u63a7\u5236\uff0c\u786e\u4fdd API \u7684\u5411\u540e\u517c\u5bb9\u6027\u3002</p> <p>\u793a\u4f8b:</p> <pre><code>GET /api/v1/users\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#324-restful-api","title":"32.4 RESTful API \u7684\u5b89\u5168\u6027","text":"<ul> <li>\u8eab\u4efd\u9a8c\u8bc1: \u4f7f\u7528 OAuth 2.0 \u6216 JWT \u786e\u4fdd\u53ea\u6709\u6388\u6743\u7684\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee API\u3002</li> <li>\u901f\u7387\u9650\u5236: \u9650\u5236\u5ba2\u6237\u7aef\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u7684\u8bf7\u6c42\u6570\u91cf\uff0c\u9632\u6b62\u6ee5\u7528 API \u8d44\u6e90\u3002</li> <li>\u6570\u636e\u52a0\u5bc6: \u4f7f\u7528 HTTPS \u786e\u4fdd\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u88ab\u7a83\u53d6\u6216\u7be1\u6539\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#33-http","title":"33. HTTP \u7684\u672a\u6765\u53d1\u5c55\u8d8b\u52bf","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#331-http3","title":"33.1 \u57fa\u4e8e HTTP/3 \u7684\u5e94\u7528\u573a\u666f","text":"<p>HTTP/3 \u57fa\u4e8e QUIC \u534f\u8bae\uff0c\u65e8\u5728\u51cf\u5c11\u8fde\u63a5\u5efa\u7acb\u65f6\u95f4\u548c\u63d0\u9ad8\u4f20\u8f93\u6548\u7387\u3002\u9002\u7528\u4e8e\u5ef6\u8fdf\u654f\u611f\u7684\u5e94\u7528\uff0c\u5982\u89c6\u9891\u4f1a\u8bae\u3001\u5728\u7ebf\u6e38\u620f\u548c\u9ad8\u9891\u4ea4\u6613\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#332","title":"33.2 \u589e\u5f3a\u578b\u5b89\u5168\u534f\u8bae","text":"<p>\u968f\u7740\u7f51\u7edc\u653b\u51fb\u7684\u590d\u6742\u6027\u589e\u52a0\uff0c\u672a\u6765\u7684 HTTP \u7248\u672c\u53ef\u80fd\u96c6\u6210\u66f4\u591a\u7684\u5b89\u5168\u7279\u6027\uff0c\u5982\u57fa\u4e8e\u96f6\u4fe1\u4efb\u6a21\u578b\u7684\u8eab\u4efd\u9a8c\u8bc1\u548c\u66f4\u5f3a\u5927\u7684\u52a0\u5bc6\u7b97\u6cd5\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#333-http","title":"33.3 HTTP \u7684\u53bb\u4e2d\u5fc3\u5316\u5e94\u7528","text":"<p>\u968f\u7740 Web3 \u548c\u533a\u5757\u94fe\u6280\u672f\u7684\u53d1\u5c55\uff0c\u53bb\u4e2d\u5fc3\u5316\u5e94\u7528\uff08DApps\uff09\u53ef\u80fd\u4f1a\u4f7f\u7528 HTTP \u534f\u8bae\u4e0e\u667a\u80fd\u5408\u7ea6\u4ea4\u4e92\uff0c\u63a8\u52a8 Web \u6280\u672f\u5411\u53bb\u4e2d\u5fc3\u5316\u65b9\u5411\u53d1\u5c55\u3002</p> <p>\u7ee7\u7eed\u6269\u5c55 HTTP \u9762\u8bd5\u624b\u518c\uff0c\u6db5\u76d6\u66f4\u591a\u9ad8\u7ea7\u8bdd\u9898\u548c\u6280\u672f\u7ec6\u8282\uff1a</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#34-http","title":"34. HTTP \u8d1f\u8f7d\u5747\u8861","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#341","title":"34.1 \u8d1f\u8f7d\u5747\u8861\u6982\u8ff0","text":"<p>\u8d1f\u8f7d\u5747\u8861 \u662f\u6307\u5c06\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u5206\u914d\u5230\u591a\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u63d0\u9ad8\u5e94\u7528\u7684\u53ef\u7528\u6027\u3001\u6027\u80fd\u548c\u6269\u5c55\u6027\u3002\u8d1f\u8f7d\u5747\u8861\u53ef\u4ee5\u5728\u4e0d\u540c\u5c42\u6b21\u8fdb\u884c\uff0c\u5982 DNS \u5c42\u3001\u5e94\u7528\u5c42\u548c\u7f51\u7edc\u5c42\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#342","title":"34.2 \u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5","text":"<ul> <li>\u8f6e\u8be2\uff08Round Robin\uff09: \u6309\u987a\u5e8f\u5c06\u8bf7\u6c42\u5206\u914d\u7ed9\u6bcf\u4e2a\u670d\u52a1\u5668\u3002</li> <li>\u52a0\u6743\u8f6e\u8be2\uff08Weighted Round Robin\uff09: \u6839\u636e\u670d\u52a1\u5668\u7684\u6743\u91cd\u5206\u914d\u8bf7\u6c42\uff0c\u6743\u91cd\u8d8a\u9ad8\u7684\u670d\u52a1\u5668\u83b7\u5f97\u66f4\u591a\u8bf7\u6c42\u3002</li> <li>\u6700\u5c11\u8fde\u63a5\uff08Least Connections\uff09: \u5c06\u8bf7\u6c42\u5206\u914d\u7ed9\u5f53\u524d\u8fde\u63a5\u6570\u6700\u5c11\u7684\u670d\u52a1\u5668\u3002</li> <li>IP \u54c8\u5e0c\uff08IP Hash\uff09: \u6839\u636e\u5ba2\u6237\u7aef IP \u5730\u5740\u7684\u54c8\u5e0c\u503c\u9009\u62e9\u670d\u52a1\u5668\uff0c\u786e\u4fdd\u540c\u4e00 IP \u7684\u8bf7\u6c42\u59cb\u7ec8\u88ab\u5206\u914d\u5230\u540c\u4e00\u670d\u52a1\u5668\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#343","title":"34.3 \u8d1f\u8f7d\u5747\u8861\u7684\u5b9e\u73b0\u65b9\u5f0f","text":"<ul> <li>DNS \u8d1f\u8f7d\u5747\u8861: \u901a\u8fc7 DNS \u5c06\u4e0d\u540c\u7684 IP \u5730\u5740\u5206\u914d\u7ed9\u8bf7\u6c42\u8005\uff0c\u9002\u5408\u4e8e\u8f83\u4f4e\u5c42\u6b21\u7684\u8d1f\u8f7d\u5747\u8861\u3002</li> <li>\u786c\u4ef6\u8d1f\u8f7d\u5747\u8861\u5668: \u4e13\u7528\u786c\u4ef6\u8bbe\u5907\uff0c\u80fd\u591f\u5904\u7406\u5927\u91cf\u7684\u6d41\u91cf\uff0c\u901a\u5e38\u914d\u7f6e\u590d\u6742\u4f46\u6027\u80fd\u9ad8\u3002</li> <li>\u8f6f\u4ef6\u8d1f\u8f7d\u5747\u8861\u5668: \u8f6f\u4ef6\u89e3\u51b3\u65b9\u6848\uff0c\u5982 NGINX\u3001HAProxy\uff0c\u5177\u6709\u7075\u6d3b\u6027\u548c\u53ef\u914d\u7f6e\u6027\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#344","title":"34.4 \u5b9e\u6218\u793a\u4f8b","text":"<p>NGINX \u914d\u7f6e\u793a\u4f8b:</p> <pre><code>http {\n    upstream backend {\n        server backend1.example.com;\n        server backend2.example.com;\n    }\n\n    server {\n        location / {\n            proxy_pass http://backend;\n        }\n    }\n}\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#35-http","title":"35. HTTP \u7f13\u5b58\u673a\u5236","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#351","title":"35.1 \u7f13\u5b58\u6982\u8ff0","text":"<p>\u7f13\u5b58 \u673a\u5236\u7528\u4e8e\u51cf\u5c11\u91cd\u590d\u8bf7\u6c42\u7684\u5f00\u9500\uff0c\u63d0\u5347\u5e94\u7528\u6027\u80fd\u548c\u54cd\u5e94\u901f\u5ea6\u3002\u7f13\u5b58\u53ef\u4ee5\u53d1\u751f\u5728\u6d4f\u89c8\u5668\u3001\u4ee3\u7406\u670d\u52a1\u5668\u548c CDN \u4e2d\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#352-http","title":"35.2 HTTP \u7f13\u5b58\u5934\u90e8","text":"<ul> <li><code>Cache-Control</code>: \u6307\u5b9a\u7f13\u5b58\u6307\u4ee4\uff0c\u5982 <code>max-age</code>, <code>no-cache</code>, <code>no-store</code>\u3002</li> <li><code>Expires</code>: \u6307\u5b9a\u8d44\u6e90\u8fc7\u671f\u7684\u65f6\u95f4\uff0c\u82e5\u7f13\u5b58\u65f6\u95f4\u8fc7\u671f\uff0c\u7f13\u5b58\u5185\u5bb9\u88ab\u89c6\u4e3a\u65e0\u6548\u3002</li> <li><code>ETag</code>: \u8d44\u6e90\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u9a8c\u8bc1\u7f13\u5b58\u662f\u5426\u4ecd\u7136\u6709\u6548\u3002</li> <li><code>Last-Modified</code>: \u8d44\u6e90\u7684\u6700\u540e\u4fee\u6539\u65f6\u95f4\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u6839\u636e\u6b64\u65f6\u95f4\u6765\u68c0\u67e5\u8d44\u6e90\u662f\u5426\u66f4\u65b0\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#353","title":"35.3 \u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u5f3a\u7f13\u5b58: \u4f7f\u7528 <code>Cache-Control</code> \u548c <code>Expires</code> \u5934\u90e8\u63a7\u5236\u7f13\u5b58\u5185\u5bb9\u7684\u6709\u6548\u671f\u3002</li> <li>\u534f\u5546\u7f13\u5b58: \u4f7f\u7528 <code>ETag</code> \u6216 <code>Last-Modified</code> \u5934\u90e8\uff0c\u5ba2\u6237\u7aef\u8bf7\u6c42\u65f6\u68c0\u67e5\u7f13\u5b58\u662f\u5426\u6709\u6548\uff0c\u670d\u52a1\u5668\u6839\u636e\u7f13\u5b58\u72b6\u6001\u51b3\u5b9a\u662f\u5426\u8fd4\u56de\u65b0\u5185\u5bb9\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#354","title":"35.4 \u5b9e\u6218\u793a\u4f8b","text":"<p>\u7f13\u5b58\u8bf7\u6c42\u793a\u4f8b:</p> <pre><code>GET /resource HTTP/1.1\nHost: example.com\nCache-Control: max-age=3600\n</code></pre> <p>\u7f13\u5b58\u54cd\u5e94\u793a\u4f8b:</p> <pre><code>HTTP/1.1 200 OK\nCache-Control: max-age=3600\nETag: \"abc123\"\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#36-http2-http3","title":"36. HTTP/2 \u548c HTTP/3 \u7684\u5bf9\u6bd4","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#361-http2","title":"36.1 HTTP/2 \u7684\u7279\u6027","text":"<ul> <li>\u591a\u8def\u590d\u7528\uff08Multiplexing\uff09: \u5728\u4e00\u4e2a\u8fde\u63a5\u4e0a\u5e76\u884c\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u907f\u514d\u4e86\u961f\u5934\u963b\u585e\u95ee\u9898\u3002</li> <li>\u5934\u90e8\u538b\u7f29\uff08Header Compression\uff09: \u4f7f\u7528 HPACK \u7b97\u6cd5\u538b\u7f29 HTTP \u5934\u90e8\uff0c\u51cf\u5c11\u5e26\u5bbd\u5360\u7528\u3002</li> <li>\u670d\u52a1\u5668\u63a8\u9001\uff08Server Push\uff09: \u5141\u8bb8\u670d\u52a1\u5668\u4e3b\u52a8\u63a8\u9001\u8d44\u6e90\u5230\u5ba2\u6237\u7aef\uff0c\u51cf\u5c11\u52a0\u8f7d\u65f6\u95f4\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#362-http3","title":"36.2 HTTP/3 \u7684\u7279\u6027","text":"<ul> <li>\u57fa\u4e8e QUIC \u534f\u8bae: HTTP/3 \u4f7f\u7528 QUIC \u534f\u8bae\u4f5c\u4e3a\u4f20\u8f93\u5c42\uff0c\u63d0\u4f9b\u66f4\u4f4e\u7684\u5ef6\u8fdf\u548c\u66f4\u597d\u7684\u62e5\u585e\u63a7\u5236\u3002</li> <li>\u96f6\u8fde\u63a5\u5efa\u7acb\uff08Zero Round Trip Time, 0-RTT\uff09: \u652f\u6301\u96f6\u5ef6\u8fdf\u8fde\u63a5\u5efa\u7acb\uff0c\u63d0\u5347\u8fde\u63a5\u901f\u5ea6\u3002</li> <li>\u66f4\u5f3a\u7684\u52a0\u5bc6: QUIC \u534f\u8bae\u5185\u7f6e\u4e86\u52a0\u5bc6\u673a\u5236\uff0c\u786e\u4fdd\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\u6027\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#363","title":"36.3 \u6027\u80fd\u5bf9\u6bd4","text":"\u7279\u6027 HTTP/1.1 HTTP/2 HTTP/3 \u591a\u8def\u590d\u7528 \u5426 \u662f \u662f \u5934\u90e8\u538b\u7f29 \u5426 \u662f \u662f \u670d\u52a1\u5668\u63a8\u9001 \u5426 \u662f \u662f \u4f20\u8f93\u5c42\u534f\u8bae TCP TCP QUIC \u8fde\u63a5\u5efa\u7acb\u5ef6\u8fdf \u9ad8 \u8f83\u4f4e \u66f4\u4f4e"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#37-http2","title":"37. HTTP/2 \u6d41\u91cf\u63a7\u5236","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#371","title":"37.1 \u6d41\u91cf\u63a7\u5236\u6982\u8ff0","text":"<p>\u6d41\u91cf\u63a7\u5236 \u662f\u4e00\u79cd\u673a\u5236\uff0c\u7528\u4e8e\u63a7\u5236\u6570\u636e\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4f20\u8f93\u901f\u7387\uff0c\u907f\u514d\u7f51\u7edc\u62e5\u5835\u548c\u6570\u636e\u4e22\u5931\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#372-http2","title":"37.2 HTTP/2 \u7684\u6d41\u91cf\u63a7\u5236\u673a\u5236","text":"<ul> <li>\u7a97\u53e3\u5927\u5c0f\uff08Window Size\uff09: \u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u4f7f\u7528\u6d41\u91cf\u63a7\u5236\u7a97\u53e3\u5927\u5c0f\u6765\u63a7\u5236\u63a5\u6536\u6570\u636e\u7684\u80fd\u529b\u3002\u7a97\u53e3\u5927\u5c0f\u5728 HTTP/2 \u4e2d\u662f\u52a8\u6001\u8c03\u6574\u7684\uff0c\u786e\u4fdd\u6570\u636e\u4f20\u8f93\u7684\u9ad8\u6548\u6027\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#373","title":"37.3 \u6d41\u91cf\u63a7\u5236\u793a\u4f8b","text":"<p>\u8bbe\u7f6e\u6d41\u91cf\u63a7\u5236\u7a97\u53e3:</p> <pre><code>SETTINGS FRAME: WINDOW_SIZE = 65535\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#38-http-api","title":"38. HTTP \u7684 API \u8bbe\u8ba1\u539f\u5219","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#381-restful-api","title":"38.1 RESTful API \u8bbe\u8ba1","text":"<ul> <li>\u8d44\u6e90\u7684\u552f\u4e00\u6027: \u6bcf\u4e2a\u8d44\u6e90\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684 URL\u3002</li> <li>\u65e0\u72b6\u6001\u6027: \u6bcf\u6b21\u8bf7\u6c42\u90fd\u5305\u542b\u6240\u6709\u5904\u7406\u8be5\u8bf7\u6c42\u6240\u9700\u7684\u4fe1\u606f\u3002</li> <li>\u5c42\u6b21\u5316\u7cfb\u7edf: \u901a\u8fc7\u4e2d\u95f4\u5c42\uff08\u5982\u8d1f\u8f7d\u5747\u8861\u5668\u3001\u7f13\u5b58\uff09\u63d0\u5347\u7cfb\u7edf\u7684\u53ef\u6269\u5c55\u6027\u548c\u6027\u80fd\u3002</li> <li>\u8868\u73b0\u5c42: \u8d44\u6e90\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u8fdb\u884c\u64cd\u4f5c\uff0c\u901a\u5e38\u4f7f\u7528 JSON \u6216 XML \u4f5c\u4e3a\u6570\u636e\u683c\u5f0f\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#382-api","title":"38.2 \u8bbe\u8ba1\u826f\u597d\u7684 API","text":"<ul> <li>\u7b80\u6d01\u6027: API \u8bbe\u8ba1\u5e94\u5c3d\u91cf\u7b80\u6d01\u6613\u61c2\uff0c\u907f\u514d\u590d\u6742\u7684\u8def\u5f84\u548c\u53c2\u6570\u3002</li> <li>\u4e00\u81f4\u6027: API \u7684\u8bbe\u8ba1\u5e94\u4fdd\u6301\u4e00\u81f4\u6027\uff0c\u5982\u4f7f\u7528\u7edf\u4e00\u7684\u547d\u540d\u89c4\u5219\u548c\u54cd\u5e94\u683c\u5f0f\u3002</li> <li>\u6587\u6863\u5316: \u63d0\u4f9b\u8be6\u5c3d\u7684 API \u6587\u6863\uff0c\u63cf\u8ff0\u6bcf\u4e2a\u7aef\u70b9\u7684\u529f\u80fd\u3001\u8bf7\u6c42\u53c2\u6570\u548c\u54cd\u5e94\u683c\u5f0f\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#383","title":"38.3 \u5b9e\u6218\u793a\u4f8b","text":"<p>API \u8bbe\u8ba1:</p> <pre><code>GET /api/v1/users/{id}   # \u83b7\u53d6\u7528\u6237\u4fe1\u606f\nPOST /api/v1/users       # \u521b\u5efa\u65b0\u7528\u6237\nPUT /api/v1/users/{id}   # \u66f4\u65b0\u7528\u6237\u4fe1\u606f\nDELETE /api/v1/users/{id} # \u5220\u9664\u7528\u6237\n</code></pre> <p>\u4ee5\u4e0a\u662f\u5bf9 HTTP \u76f8\u5173\u7684\u66f4\u8be6\u7ec6\u7684\u5185\u5bb9\uff0c\u5305\u62ec\u8d1f\u8f7d\u5747\u8861\u3001\u7f13\u5b58\u673a\u5236\u3001HTTP/2 \u548c HTTP/3 \u7684\u5bf9\u6bd4\u3001\u6d41\u91cf\u63a7\u5236\u3001API \u8bbe\u8ba1\u7b49\u65b9\u9762\u3002\u5982\u679c\u4f60\u8fd8\u6709\u5176\u4ed6\u95ee\u9898\u6216\u9700\u8981\u66f4\u591a\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u544a\u77e5\u6211\uff01</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#api","title":"\u6d41\u91cf\u63a7\u5236\u548cAPI\u8bbe\u8ba1","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#_3","title":"\u6d41\u91cf\u63a7\u5236","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#1","title":"1. \u6d41\u91cf\u63a7\u5236\u6982\u8ff0","text":"<p>\u6d41\u91cf\u63a7\u5236\u662f\u4e00\u79cd\u673a\u5236\uff0c\u65e8\u5728\u7ba1\u7406\u548c\u8c03\u8282\u6570\u636e\u5728\u7f51\u7edc\u4e2d\u7684\u4f20\u8f93\u901f\u7387\uff0c\u4ee5\u9632\u6b62\u7f51\u7edc\u62e5\u585e\u3001\u6570\u636e\u4e22\u5931\u4ee5\u53ca\u786e\u4fdd\u4f20\u8f93\u7684\u9ad8\u6548\u6027\u3002\u5b83\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u8fdb\u884c\uff0c\u5c24\u5176\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u6d41\u91cf\u63a7\u5236\u7684\u6709\u6548\u6027\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#2","title":"2. \u6d41\u91cf\u63a7\u5236\u7684\u4f5c\u7528","text":"<ul> <li>\u9632\u6b62\u62e5\u585e: \u901a\u8fc7\u9650\u5236\u6570\u636e\u53d1\u9001\u901f\u7387\uff0c\u907f\u514d\u7f51\u7edc\u5e26\u5bbd\u88ab\u8d85\u8d1f\u8377\u4f7f\u7528\uff0c\u4ece\u800c\u9632\u6b62\u7f51\u7edc\u62e5\u585e\u3002</li> <li>\u6570\u636e\u5b8c\u6574\u6027: \u63a7\u5236\u6d41\u91cf\u53ef\u4ee5\u51cf\u5c11\u6570\u636e\u5305\u4e22\u5931\u7684\u98ce\u9669\uff0c\u786e\u4fdd\u6570\u636e\u5b8c\u6574\u4f20\u8f93\u3002</li> <li>\u4f18\u5316\u8d44\u6e90\u5229\u7528: \u6839\u636e\u63a5\u6536\u7aef\u7684\u5904\u7406\u80fd\u529b\u52a8\u6001\u8c03\u6574\u53d1\u9001\u6570\u636e\u7684\u901f\u7387\uff0c\u907f\u514d\u8d44\u6e90\u6d6a\u8d39\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#3-http2","title":"3. HTTP/2 \u6d41\u91cf\u63a7\u5236","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#31-flow-control-window","title":"3.1 \u6d41\u91cf\u63a7\u5236\u7a97\u53e3\uff08Flow Control Window\uff09","text":"<ul> <li>\u521d\u59cb\u7a97\u53e3\u5927\u5c0f: HTTP/2 \u7684\u6bcf\u4e2a\u8fde\u63a5\u548c\u6d41\u90fd\u6709\u4e00\u4e2a\u521d\u59cb\u7a97\u53e3\u5927\u5c0f\uff0c\u9ed8\u8ba4\u503c\u901a\u5e38\u4e3a 65,535 \u5b57\u8282\u3002\u8fd9\u4e2a\u503c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u5e27\uff08SETTINGS FRAME\uff09\u8fdb\u884c\u8c03\u6574\u3002</li> <li>\u52a8\u6001\u8c03\u6574: \u5728\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff0c\u63a5\u6536\u65b9\u53ef\u4ee5\u901a\u8fc7 <code>WINDOW_UPDATE</code> \u5e27\u52a8\u6001\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\uff0c\u4ee5\u544a\u77e5\u53d1\u9001\u65b9\u5176\u63a5\u6536\u6570\u636e\u7684\u80fd\u529b\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#32_1","title":"3.2 \u6d41\u91cf\u63a7\u5236\u7684\u5c42\u6b21","text":"<ul> <li>\u8fde\u63a5\u7ea7\u6d41\u91cf\u63a7\u5236: \u63a7\u5236\u6574\u4e2a HTTP/2 \u8fde\u63a5\u4e0a\u7684\u6d41\u91cf\u4f20\u8f93\uff0c\u786e\u4fdd\u4e0d\u4f1a\u8d85\u51fa\u63a5\u6536\u65b9\u7684\u5904\u7406\u80fd\u529b\u3002</li> <li>\u6d41\u7ea7\u6d41\u91cf\u63a7\u5236: \u63a7\u5236\u5355\u4e2a\u6d41\u7684\u6570\u636e\u4f20\u8f93\uff0c\u907f\u514d\u67d0\u4e00\u6d41\u5360\u7528\u8fc7\u591a\u5e26\u5bbd\uff0c\u5f71\u54cd\u5176\u4ed6\u6d41\u7684\u6570\u636e\u4f20\u8f93\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#33_1","title":"3.3 \u5b9e\u6218\u793a\u4f8b","text":"<p>HTTP/2 \u6d41\u91cf\u63a7\u5236\u7684\u5de5\u4f5c\u6d41\u7a0b: 1. \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u5efa\u7acb HTTP/2 \u8fde\u63a5\uff0c\u521d\u59cb\u7a97\u53e3\u5927\u5c0f\u4e3a 65,535 \u5b57\u8282\u3002 2. \u670d\u52a1\u5668\u6839\u636e\u7a97\u53e3\u5927\u5c0f\uff0c\u6309\u9700\u53d1\u9001\u6570\u636e\u3002 3. \u5982\u679c\u5ba2\u6237\u7aef\u7684\u63a5\u6536\u7f13\u51b2\u533a\u63a5\u8fd1\u6ee1\u8f7d\uff0c\u5b83\u4f1a\u53d1\u9001 <code>WINDOW_UPDATE</code> \u5e27\uff0c\u51cf\u5c11\u7a97\u53e3\u5927\u5c0f\u3002 4. \u670d\u52a1\u5668\u63a5\u6536\u5230\u66f4\u65b0\u7684\u7a97\u53e3\u5927\u5c0f\u540e\uff0c\u8c03\u6574\u6570\u636e\u53d1\u9001\u901f\u7387\uff0c\u907f\u514d\u6570\u636e\u4e22\u5931\u6216\u4f20\u8f93\u963b\u585e\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#api_1","title":"API \u8bbe\u8ba1","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#1-api","title":"1. API \u8bbe\u8ba1\u6982\u8ff0","text":"<p>API\uff08\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\uff09\u662f\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u901a\u4fe1\u7684\u6865\u6881\u3002\u826f\u597d\u7684 API \u8bbe\u8ba1\u6709\u52a9\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u7684\u53ef\u7ef4\u62a4\u6027\u3001\u6269\u5c55\u6027\u4ee5\u53ca\u5f00\u53d1\u6548\u7387\u3002RESTful API \u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u8bbe\u8ba1\u98ce\u683c\u4e4b\u4e00\uff0c\u5b83\u4f9d\u8d56 HTTP \u534f\u8bae\uff0c\u4ee5\u8d44\u6e90\u4e3a\u4e2d\u5fc3\uff0c\u901a\u8fc7\u6807\u51c6\u5316\u7684\u64cd\u4f5c\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#2-restful-api","title":"2. RESTful API \u8bbe\u8ba1\u539f\u5219","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#21","title":"2.1 \u8d44\u6e90\u7684\u552f\u4e00\u6027","text":"<p>\u6bcf\u4e2a\u8d44\u6e90\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684 URI \u6807\u8bc6\u7b26\uff0c\u4f8b\u5982 <code>/users/{id}</code> \u8868\u793a\u7279\u5b9a\u7528\u6237\u8d44\u6e90\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#22","title":"2.2 \u65e0\u72b6\u6001\u6027","text":"<p>\u6bcf\u4e2a\u8bf7\u6c42\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u5fc5\u987b\u5305\u542b\u5904\u7406\u8be5\u8bf7\u6c42\u6240\u9700\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u670d\u52a1\u5668\u4e0d\u4fdd\u7559\u5ba2\u6237\u7aef\u72b6\u6001\u3002\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97 API \u66f4\u52a0\u7075\u6d3b\u548c\u53ef\u6269\u5c55\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#23_1","title":"2.3 \u5c42\u6b21\u5316\u7cfb\u7edf","text":"<p>API \u53ef\u4ee5\u901a\u8fc7\u591a\u5c42\u67b6\u6784\u8fdb\u884c\u8bbe\u8ba1\uff0c\u5982\u52a0\u5165\u7f13\u5b58\u5c42\u3001\u8d1f\u8f7d\u5747\u8861\u5668\u7b49\uff0c\u8fd9\u4e9b\u4e2d\u95f4\u5c42\u63d0\u9ad8\u4e86 API \u7684\u53ef\u6269\u5c55\u6027\u548c\u6027\u80fd\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#24","title":"2.4 \u8868\u73b0\u5c42","text":"<p>API \u7684\u64cd\u4f5c\u63a5\u53e3\u7edf\u4e00\uff0c\u901a\u5e38\u4f7f\u7528 JSON \u6216 XML \u4f5c\u4e3a\u6570\u636e\u683c\u5f0f\uff0c\u8fd9\u6837\u5ba2\u6237\u7aef\u53ef\u4ee5\u4e0e\u4e0d\u540c\u7c7b\u578b\u7684\u670d\u52a1\u5668\u4ea4\u4e92\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#3-api","title":"3. API \u8bbe\u8ba1\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#31_1","title":"3.1 \u6e05\u6670\u7b80\u6d01\u7684\u8def\u5f84\u8bbe\u8ba1","text":"<p>API \u8def\u5f84\u5e94\u6e05\u6670\u7b80\u6d01\uff0c\u53cd\u6620\u8d44\u6e90\u7684\u5c42\u6b21\u7ed3\u6784\u3002\u4f8b\u5982\uff0c\u4f7f\u7528 <code>/api/v1/users/{id}</code> \u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u800c\u4e0d\u662f <code>/getUserInfoById</code>.</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#32-http","title":"3.2 \u4f7f\u7528\u6807\u51c6\u7684 HTTP \u65b9\u6cd5","text":"<ul> <li>GET: \u7528\u4e8e\u68c0\u7d22\u8d44\u6e90\uff0c\u4e0d\u5e94\u5bf9\u670d\u52a1\u5668\u72b6\u6001\u4ea7\u751f\u526f\u4f5c\u7528\u3002</li> <li>POST: \u7528\u4e8e\u521b\u5efa\u65b0\u8d44\u6e90\u3002</li> <li>PUT: \u7528\u4e8e\u66f4\u65b0\u73b0\u6709\u8d44\u6e90\u3002</li> <li>DELETE: \u7528\u4e8e\u5220\u9664\u8d44\u6e90\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#33_2","title":"3.3 \u4e00\u81f4\u6027\u548c\u53ef\u9884\u6d4b\u6027","text":"<p>API \u7684\u8bbe\u8ba1\u5e94\u4fdd\u6301\u4e00\u81f4\u6027\uff0c\u5982\u7edf\u4e00\u7684\u547d\u540d\u89c4\u5219\u3001\u9519\u8bef\u5904\u7406\u65b9\u5f0f\u4ee5\u53ca\u54cd\u5e94\u683c\u5f0f\u3002\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u5f00\u53d1\u8005\u7684\u5b66\u4e60\u6210\u672c\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#34","title":"3.4 \u7248\u672c\u63a7\u5236","text":"<p>\u901a\u8fc7\u5728\u8def\u5f84\u4e2d\u5305\u542b\u7248\u672c\u53f7\uff08\u5982 <code>/api/v1/</code>\uff09\uff0c\u53ef\u4ee5\u786e\u4fdd API \u7684\u5411\u540e\u517c\u5bb9\u6027\uff0c\u5e76\u5728\u5fc5\u8981\u65f6\u8fdb\u884c\u7248\u672c\u5347\u7ea7\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#35","title":"3.5 \u5b89\u5168\u6027","text":"<p>API \u9700\u8981\u8003\u8651\u5b89\u5168\u6027\uff0c\u5982\u4f7f\u7528 HTTPS \u52a0\u5bc6\u4f20\u8f93\u3001OAuth \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3001\u4ee5\u53ca\u907f\u514d\u66b4\u9732\u654f\u611f\u4fe1\u606f\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#36","title":"3.6 \u5b9e\u65f6\u6587\u6863","text":"<p>\u63d0\u4f9b\u8be6\u5c3d\u7684 API \u6587\u6863\uff0c\u63cf\u8ff0\u6bcf\u4e2a\u7aef\u70b9\u7684\u529f\u80fd\u3001\u8bf7\u6c42\u53c2\u6570\u3001\u54cd\u5e94\u683c\u5f0f\u3001\u9519\u8bef\u4ee3\u7801\u7b49\u4fe1\u606f\u3002Swagger \u662f\u4e00\u4e2a\u6d41\u884c\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u81ea\u52a8\u751f\u6210\u548c\u7ef4\u62a4 API \u6587\u6863\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#4","title":"4. \u5b9e\u6218\u793a\u4f8b","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#41-api","title":"4.1 API \u8def\u5f84\u8bbe\u8ba1","text":"<pre><code>GET /api/v1/users          # \u83b7\u53d6\u6240\u6709\u7528\u6237\nGET /api/v1/users/{id}     # \u83b7\u53d6\u6307\u5b9a\u7528\u6237\nPOST /api/v1/users         # \u521b\u5efa\u65b0\u7528\u6237\nPUT /api/v1/users/{id}     # \u66f4\u65b0\u6307\u5b9a\u7528\u6237\nDELETE /api/v1/users/{id}  # \u5220\u9664\u6307\u5b9a\u7528\u6237\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#42-json","title":"4.2 JSON \u54cd\u5e94\u793a\u4f8b","text":"<pre><code>{\n    \"id\": 123,\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"created_at\": \"2024-09-03T10:00:00Z\"\n}\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/http/#43_1","title":"4.3 \u9519\u8bef\u5904\u7406\u793a\u4f8b","text":"<pre><code>{\n    \"error\": {\n        \"code\": 404,\n        \"message\": \"User not found\"\n    }\n}\n</code></pre> <p>\u901a\u8fc7\u6d41\u91cf\u63a7\u5236\uff0cHTTP/2 \u53ef\u4ee5\u6709\u6548\u7ba1\u7406\u6570\u636e\u4f20\u8f93\u901f\u7387\uff0c\u907f\u514d\u62e5\u585e\uff1b\u800c\u826f\u597d\u7684 API \u8bbe\u8ba1\u5219\u786e\u4fdd\u4e86\u63a5\u53e3\u7684\u6613\u7528\u6027\u3001\u6269\u5c55\u6027\u548c\u5b89\u5168\u6027\u3002\u8fd9\u4e9b\u90fd\u662f\u5f00\u53d1\u9ad8\u8d28\u91cf\u8f6f\u4ef6\u7cfb\u7edf\u7684\u5173\u952e\u3002\u5982\u679c\u4f60\u6709\u66f4\u591a\u95ee\u9898\u6216\u9700\u8981\u6df1\u5165\u63a2\u8ba8\u67d0\u4e00\u4e3b\u9898\uff0c\u8bf7\u968f\u65f6\u544a\u8bc9\u6211\uff01</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u9762\u8bd5\u624b\u518c","text":"<p>\u5728\u5927\u5382\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u9762\u8bd5\u4e2d\uff0c\u9762\u8bd5\u5b98\u901a\u5e38\u4f1a\u8003\u5bdf\u4f60\u5bf9\u7f51\u7edc\u57fa\u672c\u6982\u5ff5\u3001\u534f\u8bae\u3001\u67b6\u6784\u3001\u6027\u80fd\u4f18\u5316\u7b49\u65b9\u9762\u7684\u7406\u89e3\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u9762\u8bd5\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff0c\u4f9b\u4f60\u51c6\u5907\u9762\u8bd5\u65f6\u53c2\u8003\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#_2","title":"\u4e00\u3001\u7f51\u7edc\u57fa\u7840","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#11","title":"1.1 \u4ec0\u4e48\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\uff1a\u662f\u7531\u591a\u4e2a\u8ba1\u7b97\u673a\u548c\u7f51\u7edc\u8bbe\u5907\u901a\u8fc7\u901a\u4fe1\u4ecb\u8d28\u8fde\u63a5\u8d77\u6765\uff0c\u4ee5\u5b9e\u73b0\u6570\u636e\u5171\u4eab\u548c\u8d44\u6e90\u5171\u4eab\u7684\u7cfb\u7edf\u3002\u8ba1\u7b97\u673a\u7f51\u7edc\u53ef\u4ee5\u5206\u4e3a\u5c40\u57df\u7f51\uff08LAN\uff09\u3001\u5e7f\u57df\u7f51\uff08WAN\uff09\u3001\u4e92\u8054\u7f51\u7b49\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#12-ip","title":"1.2 \u4ec0\u4e48\u662f IP \u5730\u5740\uff1f\u4ec0\u4e48\u662f\u5b50\u7f51\u63a9\u7801\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>IP \u5730\u5740\uff1a\u662f\u7f51\u7edc\u4e2d\u6bcf\u4e2a\u8bbe\u5907\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u7528\u4e8e\u5728\u7f51\u7edc\u4e2d\u5b9a\u4f4d\u8bbe\u5907\u3002IP \u5730\u5740\u5206\u4e3a IPv4\uff0832 \u4f4d\uff09\u548c IPv6\uff08128 \u4f4d\uff09\u4e24\u79cd\u3002</li> <li>\u5b50\u7f51\u63a9\u7801\uff1a\u7528\u4e8e\u5c06 IP \u5730\u5740\u5206\u4e3a\u7f51\u7edc\u90e8\u5206\u548c\u4e3b\u673a\u90e8\u5206\u3002\u5b50\u7f51\u63a9\u7801\u4e0e IP \u5730\u5740\u914d\u5408\u4f7f\u7528\uff0c\u4ee5\u786e\u5b9a\u7f51\u7edc\u7684\u8303\u56f4\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#13-mac","title":"1.3 \u4ec0\u4e48\u662f MAC \u5730\u5740\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>MAC \u5730\u5740\uff08\u5a92\u4f53\u8bbf\u95ee\u63a7\u5236\u5730\u5740\uff09\uff1a\u662f\u7f51\u5361\u5728\u7f51\u7edc\u4e2d\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u901a\u5e38\u7531\u7f51\u7edc\u63a5\u53e3\u5361\u7684\u5236\u9020\u5546\u5206\u914d\u3002\u5b83\u7528\u4e8e\u5c40\u57df\u7f51\u4e2d\u7684\u6570\u636e\u5305\u5bfb\u5740\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#_3","title":"\u4e8c\u3001\u7f51\u7edc\u534f\u8bae","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#21-tcpip","title":"2.1 \u4ec0\u4e48\u662f TCP/IP \u534f\u8bae\uff1f\u5b83\u5305\u62ec\u54ea\u4e9b\u4e3b\u8981\u534f\u8bae\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>TCP/IP \u534f\u8bae\uff1a\u662f\u4e00\u7ec4\u7528\u4e8e\u4e92\u8054\u7f51\u548c\u5c40\u57df\u7f51\u7684\u901a\u4fe1\u534f\u8bae\uff0c\u5305\u62ec\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff08TCP\uff09\u548c\u4e92\u8054\u7f51\u534f\u8bae\uff08IP\uff09\u3002</li> <li>\u4e3b\u8981\u534f\u8bae\uff1a<ul> <li>IP\uff08Internet Protocol\uff09\uff1a\u8d1f\u8d23\u5c06\u6570\u636e\u5305\u4ece\u6e90\u5730\u5740\u4f20\u8f93\u5230\u76ee\u7684\u5730\u5740\u3002</li> <li>TCP\uff08Transmission Control Protocol\uff09\uff1a\u63d0\u4f9b\u53ef\u9760\u7684\u3001\u9762\u5411\u8fde\u63a5\u7684\u901a\u4fe1\uff0c\u786e\u4fdd\u6570\u636e\u7684\u6b63\u786e\u4f20\u8f93\u3002</li> <li>UDP\uff08User Datagram Protocol\uff09\uff1a\u63d0\u4f9b\u65e0\u8fde\u63a5\u7684\u3001\u4e0d\u53ef\u9760\u7684\u901a\u4fe1\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5feb\u901f\u4f20\u8f93\u7684\u6570\u636e\u3002</li> <li>HTTP/HTTPS\uff1a\u7528\u4e8e\u5728\u7f51\u9875\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u8d85\u6587\u672c\u3002</li> <li>FTP\uff08File Transfer Protocol\uff09\uff1a\u7528\u4e8e\u5728\u7f51\u7edc\u4e0a\u4f20\u8f93\u6587\u4ef6\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#22-tcp-udp","title":"2.2 TCP \u548c UDP \u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>TCP\uff1a<ul> <li>\u8fde\u63a5\u5bfc\u5411\uff1a\u5728\u6570\u636e\u4f20\u8f93\u524d\u9700\u8981\u5efa\u7acb\u8fde\u63a5\u3002</li> <li>\u53ef\u9760\u6027\uff1a\u4fdd\u8bc1\u6570\u636e\u5305\u7684\u987a\u5e8f\u548c\u5b8c\u6574\u6027\uff0c\u901a\u8fc7\u786e\u8ba4\u548c\u91cd\u4f20\u673a\u5236\u786e\u4fdd\u6570\u636e\u7684\u53ef\u9760\u4f20\u8f93\u3002</li> <li>\u6d41\u91cf\u63a7\u5236\uff1a\u9632\u6b62\u7f51\u7edc\u62e5\u585e\u3002</li> </ul> </li> <li>UDP\uff1a<ul> <li>\u65e0\u8fde\u63a5\uff1a\u4e0d\u9700\u8981\u5efa\u7acb\u8fde\u63a5\uff0c\u6570\u636e\u5305\u76f4\u63a5\u53d1\u9001\u3002</li> <li>\u4e0d\u53ef\u9760\u6027\uff1a\u4e0d\u4fdd\u8bc1\u6570\u636e\u5305\u7684\u987a\u5e8f\u548c\u5b8c\u6574\u6027\uff0c\u9002\u7528\u4e8e\u5bf9\u5b9e\u65f6\u6027\u8981\u6c42\u9ad8\u7684\u5e94\u7528\uff08\u5982\u89c6\u9891\u4f1a\u8bae\uff09\u3002</li> <li>\u65e0\u6d41\u91cf\u63a7\u5236\uff1a\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u6216\u91cd\u590d\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#23-http-https","title":"2.3 \u4ec0\u4e48\u662f HTTP \u548c HTTPS\uff1f\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>HTTP\uff08Hypertext Transfer Protocol\uff09\uff1a\u662f\u4e00\u79cd\u65e0\u72b6\u6001\u7684\u3001\u660e\u6587\u4f20\u8f93\u7684\u534f\u8bae\uff0c\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u8d85\u6587\u672c\u6570\u636e\u3002</li> <li>HTTPS\uff08HTTP Secure\uff09\uff1a\u662f HTTP \u7684\u5b89\u5168\u7248\u672c\uff0c\u901a\u8fc7 SSL/TLS \u534f\u8bae\u5bf9\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\uff0c\u4fdd\u8bc1\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027\u3002</li> <li>\u4e3b\u8981\u533a\u522b\uff1a<ul> <li>\u52a0\u5bc6\uff1aHTTPS \u4f7f\u7528\u52a0\u5bc6\u4fdd\u62a4\u6570\u636e\uff0c\u800c HTTP \u4e0d\u4f7f\u7528\u52a0\u5bc6\u3002</li> <li>\u7aef\u53e3\uff1aHTTP \u4f7f\u7528 80 \u7aef\u53e3\uff0cHTTPS \u4f7f\u7528 443 \u7aef\u53e3\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#_4","title":"\u4e09\u3001\u7f51\u7edc\u67b6\u6784\u4e0e\u8bbe\u8ba1","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#31-osi","title":"3.1 \u4ec0\u4e48\u662f OSI \u6a21\u578b\uff1f\u5b83\u5305\u62ec\u54ea\u4e9b\u5c42\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>OSI \u6a21\u578b\uff1a\u5f00\u653e\u7cfb\u7edf\u4e92\u8054\u6a21\u578b\uff0c\u662f\u4e00\u79cd\u5206\u5c42\u7684\u7f51\u7edc\u67b6\u6784\u6a21\u578b\uff0c\u7528\u4e8e\u6807\u51c6\u5316\u7f51\u7edc\u901a\u4fe1\u3002</li> <li>\u5c42\u7ea7\uff1a<ul> <li>\u7269\u7406\u5c42\uff08Physical Layer\uff09\uff1a\u8d1f\u8d23\u6570\u636e\u7684\u7269\u7406\u4f20\u8f93\uff08\u5982\u7535\u7f06\u3001\u5149\u7ea4\uff09\u3002</li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff08Data Link Layer\uff09\uff1a\u8d1f\u8d23\u6570\u636e\u5e27\u7684\u4f20\u8f93\u548c\u9519\u8bef\u68c0\u6d4b\uff08\u5982 MAC \u5730\u5740\uff09\u3002</li> <li>\u7f51\u7edc\u5c42\uff08Network Layer\uff09\uff1a\u8d1f\u8d23\u6570\u636e\u5305\u7684\u8def\u7531\u548c\u8f6c\u53d1\uff08\u5982 IP \u5730\u5740\uff09\u3002</li> <li>\u4f20\u8f93\u5c42\uff08Transport Layer\uff09\uff1a\u8d1f\u8d23\u6570\u636e\u7684\u53ef\u9760\u4f20\u8f93\uff08\u5982 TCP\u3001UDP\uff09\u3002</li> <li>\u4f1a\u8bdd\u5c42\uff08Session Layer\uff09\uff1a\u7ba1\u7406\u4f1a\u8bdd\uff08\u5982\u5efa\u7acb\u3001\u7ef4\u62a4\u548c\u7ec8\u6b62\u4f1a\u8bdd\uff09\u3002</li> <li>\u8868\u793a\u5c42\uff08Presentation Layer\uff09\uff1a\u8d1f\u8d23\u6570\u636e\u7684\u683c\u5f0f\u5316\u548c\u52a0\u5bc6\uff08\u5982 ASCII\u3001JPEG\uff09\u3002</li> <li>\u5e94\u7528\u5c42\uff08Application Layer\uff09\uff1a\u63d0\u4f9b\u7f51\u7edc\u670d\u52a1\u548c\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\uff08\u5982 HTTP\u3001FTP\uff09\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#32-nat","title":"3.2 \u4ec0\u4e48\u662f NAT\uff1f\u5b83\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>NAT\uff08Network Address Translation\uff09\uff1a\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff0c\u7528\u4e8e\u5c06\u5185\u90e8\u7f51\u7edc\u7684\u79c1\u6709 IP \u5730\u5740\u8f6c\u6362\u4e3a\u516c\u5171 IP \u5730\u5740\uff0c\u4ee5\u4fbf\u8fdb\u884c\u4e92\u8054\u7f51\u901a\u4fe1\u3002</li> <li>\u4f5c\u7528\uff1a<ul> <li>IP \u5730\u5740\u8282\u7701\uff1a\u591a\u4e2a\u8bbe\u5907\u53ef\u4ee5\u5171\u4eab\u4e00\u4e2a\u516c\u5171 IP \u5730\u5740\u3002</li> <li>\u5b89\u5168\u6027\uff1a\u9690\u85cf\u5185\u90e8\u7f51\u7edc\u7ed3\u6784\uff0c\u63d0\u9ad8\u5b89\u5168\u6027\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#33","title":"3.3 \u4ec0\u4e48\u662f\u8d1f\u8f7d\u5747\u8861\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981\u8d1f\u8f7d\u5747\u8861\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u662f\u4e00\u79cd\u6280\u672f\uff0c\u901a\u8fc7\u5c06\u8bf7\u6c42\u5206\u914d\u5230\u591a\u4e2a\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u5e73\u8861\u8d1f\u8f7d\uff0c\u4f18\u5316\u8d44\u6e90\u5229\u7528\u548c\u63d0\u9ad8\u7cfb\u7edf\u6027\u80fd\u3002</li> <li>\u9700\u8981\u539f\u56e0\uff1a<ul> <li>\u63d0\u9ad8\u53ef\u9760\u6027\uff1a\u901a\u8fc7\u5206\u914d\u8d1f\u8f7d\uff0c\u907f\u514d\u5355\u70b9\u6545\u969c\u3002</li> <li>\u63d0\u9ad8\u6027\u80fd\uff1a\u5206\u6563\u8bf7\u6c42\u538b\u529b\uff0c\u51cf\u5c11\u54cd\u5e94\u65f6\u95f4\u3002</li> <li>\u6269\u5c55\u6027\uff1a\u65b9\u4fbf\u7cfb\u7edf\u6269\u5c55\uff0c\u589e\u52a0\u5904\u7406\u80fd\u529b\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#_5","title":"\u56db\u3001\u7f51\u7edc\u5b89\u5168","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#41","title":"4.1 \u4ec0\u4e48\u662f\u9632\u706b\u5899\uff1f\u5b83\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u9632\u706b\u5899\uff1a\u662f\u4e00\u79cd\u7f51\u7edc\u5b89\u5168\u8bbe\u5907\uff0c\u7528\u4e8e\u76d1\u63a7\u548c\u63a7\u5236\u8fdb\u51fa\u7f51\u7edc\u7684\u6570\u636e\u6d41\u3002</li> <li>\u4f5c\u7528\uff1a<ul> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u5141\u8bb8\u6216\u963b\u6b62\u7279\u5b9a\u6d41\u91cf\u3002</li> <li>\u5b89\u5168\u7b56\u7565\uff1a\u6839\u636e\u5b89\u5168\u7b56\u7565\u8fc7\u6ee4\u6d41\u91cf\uff0c\u9632\u6b62\u672a\u6388\u6743\u8bbf\u95ee\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#42-ddos-ddos","title":"4.2 \u4ec0\u4e48\u662f DDoS \u653b\u51fb\uff1f\u5982\u4f55\u9632\u5fa1 DDoS \u653b\u51fb\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>DDoS \u653b\u51fb\uff08Distributed Denial of Service\uff09\uff1a\u901a\u8fc7\u5927\u91cf\u7684\u865a\u5047\u8bf7\u6c42\u6df9\u6ca1\u76ee\u6807\u7cfb\u7edf\uff0c\u5bfc\u81f4\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u670d\u52a1\u3002</li> <li>\u9632\u5fa1\u65b9\u6cd5\uff1a<ul> <li>\u6d41\u91cf\u8fc7\u6ee4\uff1a\u4f7f\u7528\u9632\u706b\u5899\u548c\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\u8fc7\u6ee4\u6076\u610f\u6d41\u91cf\u3002</li> <li>\u6d41\u91cf\u6e05\u6d17\uff1a\u4f7f\u7528 DDoS \u9632\u62a4\u670d\u52a1\u6e05\u6d17\u6d41\u91cf\u3002</li> <li>\u5206\u5e03\u5f0f\u90e8\u7f72\uff1a\u5728\u591a\u4e2a\u4f4d\u7f6e\u90e8\u7f72\u7cfb\u7edf\uff0c\u63d0\u9ad8\u6297\u653b\u51fb\u80fd\u529b\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#_6","title":"\u4e94\u3001\u7f51\u7edc\u6027\u80fd\u4f18\u5316","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#51","title":"5.1 \u4ec0\u4e48\u662f\u5e26\u5bbd\uff1f\u4ec0\u4e48\u662f\u5ef6\u8fdf\uff1f\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u5e26\u5bbd\uff1a\u662f\u6307\u7f51\u7edc\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c\u901a\u5e38\u4ee5 bps\uff08\u6bd4\u7279\u6bcf\u79d2\uff09\u8868\u793a\u3002</li> <li>\u5ef6\u8fdf\uff1a\u662f\u6307\u6570\u636e\u4ece\u6e90\u5230\u76ee\u7684\u5730\u7684\u4f20\u8f93\u65f6\u95f4\uff0c\u5305\u62ec\u4f20\u64ad\u5ef6\u8fdf\u3001\u5904\u7406\u5ef6\u8fdf\u548c\u6392\u961f\u5ef6\u8fdf\u7b49\u3002</li> <li>\u5173\u7cfb\uff1a\u5e26\u5bbd\u51b3\u5b9a\u4e86\u7f51\u7edc\u7684\u6700\u5927\u4f20\u8f93\u901f\u5ea6\uff0c\u800c\u5ef6\u8fdf\u5f71\u54cd\u6570\u636e\u7684\u4f20\u8f93\u65f6\u95f4\u3002\u9ad8\u5e26\u5bbd\u901a\u5e38\u53ef\u4ee5\u51cf\u5c11\u5ef6\u8fdf\u7684\u5f71\u54cd\uff0c\u4f46\u5ef6\u8fdf\u548c\u5e26\u5bbd\u662f\u4e0d\u540c\u7684\u6982\u5ff5\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#52-tcp","title":"5.2 \u4ec0\u4e48\u662f TCP \u62e5\u585e\u63a7\u5236\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>TCP \u62e5\u585e\u63a7\u5236\uff1a\u662f\u4e00\u79cd\u673a\u5236\uff0c\u7528\u4e8e\u907f\u514d\u56e0\u8fc7\u591a\u6570\u636e\u53d1\u9001\u800c\u5bfc\u81f4\u7f51\u7edc\u62e5\u585e\u3002TCP \u62e5\u585e\u63a7\u5236\u901a\u8fc7\u52a8\u6001\u8c03\u6574\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\u6765\u9002\u5e94\u7f51\u7edc\u7684\u62e5\u585e\u72b6\u6001\u3002</li> <li>\u4e3b\u8981\u7b97\u6cd5\uff1a<ul> <li>\u6162\u542f\u52a8\uff1a\u521d\u59cb\u9636\u6bb5\u9010\u6b65\u589e\u52a0\u7a97\u53e3\u5927\u5c0f\u3002</li> <li>\u62e5\u585e\u907f\u514d\uff1a\u5728\u7a97\u53e3\u8fbe\u5230\u9608\u503c\u540e\uff0c\u589e\u901f\u51cf\u6162\uff0c\u9632\u6b62\u8fc7\u5ea6\u62e5\u585e\u3002</li> <li>\u5feb\u91cd\u4f20\uff1a\u5feb\u901f\u68c0\u6d4b\u4e22\u5305\uff0c\u5e76\u91cd\u4f20\u6570\u636e\u3002</li> <li>\u5feb\u6062\u590d\uff1a\u5728\u68c0\u6d4b\u5230\u4e22\u5305\u540e\uff0c\u91cd\u65b0\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#_7","title":"\u516d\u3001\u5e38\u89c1\u7f51\u7edc\u534f\u8bae\u4e0e\u5de5\u5177","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#61-dns","title":"6.1 \u4ec0\u4e48\u662f DNS\uff1f\u5b83\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>DNS\uff08Domain Name System\uff09\uff1a\u662f\u4e00\u79cd\u5c06\u57df\u540d\u8f6c\u6362\u4e3a IP \u5730\u5740\u7684\u7cfb\u7edf\uff0c\u4f7f\u7528\u6237\u80fd\u591f\u901a\u8fc7\u6613\u8bb0\u7684\u57df\u540d\u8bbf\u95ee\u7f51\u7edc\u8d44\u6e90\u3002</li> <li>\u4f5c\u7528\uff1a\u5c06\u7528\u6237\u8f93\u5165\u7684\u57df\u540d\uff08\u5982 www.example.com\uff09\u89e3\u6790\u4e3a IP \u5730\u5740\uff08\u5982 192.0.2.1\uff09\uff0c\u4ee5\u4fbf\u5728\u7f51\u7edc\u4e2d\u5b9a\u4f4d\u548c\u8bbf\u95ee\u76ee\u6807\u8d44\u6e90\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#62-traceroute","title":"6.2 \u4ec0\u4e48\u662f traceroute \u547d\u4ee4\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>traceroute\uff1a\u662f\u4e00\u79cd\u7f51\u7edc\u8bca\u65ad\u5de5\u5177\uff0c\u7528\u4e8e\u8ddf\u8e2a\u6570\u636e\u5305\u4ece\u6e90\u5230\u76ee\u7684\u5730\u7684\u8def\u5f84\uff0c\u663e\u793a\u4e2d\u95f4\u7ecf\u8fc7\u7684\u8def\u7531\u5668\u548c\u8282\u70b9\u3002</li> <li>\u4f7f\u7528\u65b9\u6cd5\uff1a\u5728\u547d\u4ee4\u884c\u8f93\u5165 <code>traceroute &lt;\u76ee\u6807\u57df\u540d\u6216IP&gt;</code>\uff08\u5728 Windows \u7cfb\u7edf\u4e2d\u4e3a <code>tracert</code>\uff09\uff0c\u53ef\u4ee5\u663e\u793a\u6570\u636e\u5305\u7684\u8def\u5f84\u548c\u5ef6\u8fdf\u60c5\u51b5\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/network/#_8","title":"\u603b\u7ed3","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u9762\u8bd5\u9898\u901a\u5e38\u6db5\u76d6\u4e86\u7f51\u7edc\u7684\u57fa\u7840\u77e5\u8bc6\u3001\u534f\u8bae\u3001\u67b6\u6784\u3001\u6027\u80fd\u4f18\u5316\u548c\u5b89\u5168\u7b49\u65b9\u9762\u3002\u5728\u51c6\u5907\u8fd9\u4e9b\u9898\u76ee\u65f6\uff0c\u9664\u4e86\u7406\u89e3\u7406\u8bba\u77e5\u8bc6\u5916\uff0c\u8fd8\u9700\u8981\u638c\u63e1\u5b9e\u9645\u64cd\u4f5c\u548c\u95ee\u9898\u89e3\u51b3\u80fd\u529b\u3002\u901a\u8fc7\u7cfb\u7edf\u5b66\u4e60\u548c\u5b9e\u8df5\uff0c\u4f60\u53ef\u4ee5\u66f4\u597d\u5730\u5e94\u5bf9\u5927\u5382\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u9762\u8bd5\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/","title":"\u64cd\u4f5c\u7cfb\u7edf\u9762\u8bd5\u624b\u518c","text":"<p>\u5728\u5927\u5382\u7684\u64cd\u4f5c\u7cfb\u7edf\u9762\u8bd5\u4e2d\uff0c\u9762\u8bd5\u5b98\u901a\u5e38\u4f1a\u8003\u5bdf\u4f60\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u6838\u5fc3\u6982\u5ff5\u3001\u8bbe\u8ba1\u539f\u7406\u53ca\u5176\u5b9e\u9645\u5e94\u7528\u7684\u7406\u89e3\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u64cd\u4f5c\u7cfb\u7edf\u9762\u8bd5\u9898\u53ca\u5176\u8be6\u7ec6\u89e3\u7b54\uff0c\u5e2e\u52a9\u4f60\u51c6\u5907\u5927\u5382\u7684\u9762\u8bd5\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#_2","title":"\u4e00\u3001\u8fdb\u7a0b\u7ba1\u7406","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#11","title":"1.1 \u4ec0\u4e48\u662f\u8fdb\u7a0b\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u8fdb\u7a0b\uff1a\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u5b9e\u4f8b\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u8d44\u6e90\u7684\u57fa\u672c\u5355\u4f4d\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\u3001\u4ee3\u7801\u3001\u6570\u636e\u3001\u5806\u6808\u548c\u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\u3002\u8fdb\u7a0b\u662f\u52a8\u6001\u7684\uff0c\u5177\u6709\u751f\u547d\u5468\u671f\uff0c\u5305\u62ec\u521b\u5efa\u3001\u6267\u884c\u548c\u7ec8\u6b62\u7b49\u9636\u6bb5\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#12","title":"1.2 \u4ec0\u4e48\u662f\u7ebf\u7a0b\uff1f\u4e0e\u8fdb\u7a0b\u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u7ebf\u7a0b\uff1a\u662f\u8fdb\u7a0b\u4e2d\u7684\u4e00\u4e2a\u6267\u884c\u5355\u5143\u3002\u7ebf\u7a0b\u5171\u4eab\u540c\u4e00\u8fdb\u7a0b\u7684\u8d44\u6e90\uff0c\u5982\u5730\u5740\u7a7a\u95f4\u548c\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u4f46\u6bcf\u4e2a\u7ebf\u7a0b\u6709\u81ea\u5df1\u7684\u5806\u6808\u548c\u5bc4\u5b58\u5668\u3002</li> <li>\u533a\u522b\uff1a<ul> <li>\u8d44\u6e90\uff1a\u7ebf\u7a0b\u95f4\u5171\u4eab\u8d44\u6e90\uff0c\u800c\u8fdb\u7a0b\u95f4\u662f\u9694\u79bb\u7684\u3002</li> <li>\u5f00\u9500\uff1a\u521b\u5efa\u548c\u5207\u6362\u7ebf\u7a0b\u7684\u5f00\u9500\u8f83\u5c0f\uff0c\u56e0\u4e3a\u5b83\u4eec\u5171\u4eab\u8d44\u6e90\uff1b\u800c\u8fdb\u7a0b\u7684\u5f00\u9500\u8f83\u5927\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#13","title":"1.3 \u4ec0\u4e48\u662f\u8fdb\u7a0b\u7684\u72b6\u6001\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u65b0\u5efa\uff08New\uff09\uff1a\u8fdb\u7a0b\u521a\u88ab\u521b\u5efa\u3002</li> <li>\u5c31\u7eea\uff08Ready\uff09\uff1a\u8fdb\u7a0b\u5df2\u51c6\u5907\u597d\u6267\u884c\uff0c\u7b49\u5f85 CPU \u65f6\u95f4\u3002</li> <li>\u8fd0\u884c\uff08Running\uff09\uff1a\u8fdb\u7a0b\u6b63\u5728\u6267\u884c\u3002</li> <li>\u7b49\u5f85\uff08Blocked/Waiting\uff09\uff1a\u8fdb\u7a0b\u7b49\u5f85\u67d0\u4e2a\u4e8b\u4ef6\u6216\u8d44\u6e90\u3002</li> <li>\u7ed3\u675f\uff08Terminated\uff09\uff1a\u8fdb\u7a0b\u5b8c\u6210\u6267\u884c\u6216\u88ab\u7ec8\u6b62\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#_3","title":"\u4e8c\u3001\u5185\u5b58\u7ba1\u7406","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#21","title":"2.1 \u4ec0\u4e48\u662f\u865a\u62df\u5185\u5b58\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u865a\u62df\u5185\u5b58\uff1a\u662f\u4e00\u79cd\u5185\u5b58\u7ba1\u7406\u6280\u672f\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528\u6bd4\u7269\u7406\u5185\u5b58\u66f4\u591a\u7684\u5185\u5b58\u3002\u901a\u8fc7\u5c06\u4e0d\u5e38\u7528\u7684\u6570\u636e\u5b58\u50a8\u5728\u78c1\u76d8\u4e0a\u7684\u4ea4\u6362\u7a7a\u95f4\uff08swap space\uff09\u4e2d\uff0c\u865a\u62df\u5185\u5b58\u63d0\u4f9b\u4e86\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u5e76\u5141\u8bb8\u591a\u4e2a\u7a0b\u5e8f\u540c\u65f6\u8fd0\u884c\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#22-paging","title":"2.2 \u4ec0\u4e48\u662f\u5206\u9875\uff08Paging\uff09\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u5206\u9875\uff1a\u662f\u4e00\u79cd\u5185\u5b58\u7ba1\u7406\u65b9\u5f0f\uff0c\u5c06\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u9875\u3002\u7269\u7406\u5185\u5b58\u4e5f\u88ab\u5212\u5206\u4e3a\u76f8\u540c\u5927\u5c0f\u7684\u9875\u6846\u3002\u8fdb\u7a0b\u7684\u9875\u901a\u8fc7\u9875\u8868\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\u7684\u9875\u6846\u4e2d\u3002\u8fd9\u79cd\u65b9\u5f0f\u51cf\u5c11\u4e86\u5916\u90e8\u788e\u7247\uff0c\u4f46\u53ef\u80fd\u4ea7\u751f\u5185\u90e8\u788e\u7247\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#23","title":"2.3 \u5982\u4f55\u5904\u7406\u5185\u5b58\u788e\u7247\u95ee\u9898\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u5185\u90e8\u788e\u7247\uff1a\u7531\u4e8e\u5206\u9875\u5927\u5c0f\u4e0d\u5339\u914d\uff0c\u5185\u5b58\u4e2d\u53ef\u80fd\u51fa\u73b0\u672a\u4f7f\u7528\u7684\u7a7a\u95f4\u3002\u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528\u66f4\u5c0f\u7684\u9875\u9762\u5927\u5c0f\u6765\u51cf\u5c11\u5185\u90e8\u788e\u7247\u3002</li> <li>\u5916\u90e8\u788e\u7247\uff1a\u5728\u52a8\u6001\u5206\u914d\u5185\u5b58\u65f6\uff0c\u5185\u5b58\u4e2d\u53ef\u80fd\u51fa\u73b0\u672a\u4f7f\u7528\u7684\u7a7a\u95f2\u533a\u57df\u3002\u89e3\u51b3\u529e\u6cd5\u5305\u62ec\u5408\u5e76\u76f8\u90bb\u7684\u7a7a\u95f2\u5757\uff08\u5185\u5b58\u5408\u5e76\uff09\u3001\u4f7f\u7528\u5206\u9875\u6216\u5206\u6bb5\u6280\u672f\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#_4","title":"\u4e09\u3001\u6587\u4ef6\u7cfb\u7edf","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#31","title":"3.1 \u4ec0\u4e48\u662f\u6587\u4ef6\u7cfb\u7edf\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u6587\u4ef6\u7cfb\u7edf\uff1a\u662f\u4e00\u79cd\u7ec4\u7ec7\u548c\u7ba1\u7406\u5b58\u50a8\u4ecb\u8d28\u4e2d\u6570\u636e\u7684\u7ed3\u6784\u548c\u65b9\u6cd5\u3002\u5b83\u8d1f\u8d23\u6587\u4ef6\u7684\u5b58\u50a8\u3001\u547d\u540d\u3001\u8bbf\u95ee\u6743\u9650\u4ee5\u53ca\u6570\u636e\u7684\u7ec4\u7ec7\u548c\u7ba1\u7406\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#32","title":"3.2 \u4ec0\u4e48\u662f\u6587\u4ef6\u6743\u9650\uff1f\u5982\u4f55\u7ba1\u7406\u6587\u4ef6\u6743\u9650\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u6587\u4ef6\u6743\u9650\uff1a\u5305\u62ec\u8bfb\uff08r\uff09\u3001\u5199\uff08w\uff09\u548c\u6267\u884c\uff08x\uff09\u3002\u6587\u4ef6\u6743\u9650\u63a7\u5236\u5bf9\u6587\u4ef6\u7684\u8bbf\u95ee\u548c\u64cd\u4f5c\u3002</li> <li>\u7ba1\u7406\uff1a\u5728 Unix/Linux \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>chmod</code> \u547d\u4ee4\u6765\u4fee\u6539\u6743\u9650\u3002\u6587\u4ef6\u6743\u9650\u53ef\u4ee5\u7528\u4e09\u79cd\u65b9\u5f0f\u8868\u793a\uff1a\u7b26\u53f7\u8868\u793a\uff08\u5982 <code>rwxr-xr--</code>\uff09\u548c\u6570\u5b57\u8868\u793a\uff08\u5982 <code>755</code>\uff09\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#33-journaling","title":"3.3 \u4ec0\u4e48\u662f\u6587\u4ef6\u7cfb\u7edf\u7684\u65e5\u5fd7\uff08Journaling\uff09\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u65e5\u5fd7\uff08Journaling\uff09\uff1a\u662f\u4e00\u79cd\u6587\u4ef6\u7cfb\u7edf\u6280\u672f\uff0c\u7528\u4e8e\u8bb0\u5f55\u6587\u4ef6\u7cfb\u7edf\u7684\u66f4\u6539\u64cd\u4f5c\u3002\u65e5\u5fd7\u8bb0\u5f55\u4e86\u5bf9\u6587\u4ef6\u7cfb\u7edf\u7684\u64cd\u4f5c\uff0c\u4ee5\u4fbf\u5728\u7cfb\u7edf\u5d29\u6e83\u6216\u7535\u6e90\u6545\u969c\u540e\u6062\u590d\u6587\u4ef6\u7cfb\u7edf\u7684\u4e00\u81f4\u6027\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#_5","title":"\u56db\u3001\u8f93\u5165\u8f93\u51fa\u7ba1\u7406","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#41-io","title":"4.1 \u4ec0\u4e48\u662f I/O \u7f13\u51b2\u533a\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>I/O \u7f13\u51b2\u533a\uff1a\u662f\u4e00\u4e2a\u4e34\u65f6\u5b58\u50a8\u533a\u57df\uff0c\u7528\u4e8e\u5b58\u50a8\u4ece I/O \u8bbe\u5907\u8bfb\u5165\u6216\u5199\u51fa\u7684\u6570\u636e\u3002\u5b83\u63d0\u9ad8\u4e86 I/O \u64cd\u4f5c\u7684\u6548\u7387\uff0c\u4f7f\u5f97\u8fdb\u7a0b\u53ef\u4ee5\u5728\u7b49\u5f85\u6570\u636e\u4f20\u8f93\u5b8c\u6210\u7684\u540c\u65f6\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#42-io","title":"4.2 \u5982\u4f55\u7ba1\u7406 I/O \u8bbe\u5907\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u9a71\u52a8\u7a0b\u5e8f\uff1a\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u8d1f\u8d23\u4e0e\u786c\u4ef6\u8bbe\u5907\u8fdb\u884c\u901a\u4fe1\uff0c\u5904\u7406\u8bbe\u5907\u7684\u64cd\u4f5c\u3002</li> <li>\u8bbe\u5907\u63a7\u5236\u5668\uff1a\u7ba1\u7406\u8bbe\u5907\u7684\u5177\u4f53\u64cd\u4f5c\uff08\u5982\u6570\u636e\u4f20\u8f93\uff09\u3002</li> <li>\u4e2d\u65ad\u5904\u7406\uff1a\u5904\u7406\u6765\u81ea\u8bbe\u5907\u7684\u4e2d\u65ad\u4fe1\u53f7\uff0c\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u5982\u8bfb\u53d6\u6570\u636e\u6216\u5904\u7406\u9519\u8bef\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#_6","title":"\u4e94\u3001\u5e76\u53d1\u4e0e\u540c\u6b65","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#51","title":"5.1 \u4ec0\u4e48\u662f\u6b7b\u9501\uff1f\u5982\u4f55\u907f\u514d\u6b7b\u9501\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u6b7b\u9501\uff1a\u662f\u6307\u4e24\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u56e0\u4e89\u593a\u8d44\u6e90\u800c\u4e92\u76f8\u7b49\u5f85\uff0c\u5bfc\u81f4\u6240\u6709\u8fdb\u7a0b\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u3002</li> <li>\u907f\u514d\u6b7b\u9501\uff1a<ul> <li>\u8d44\u6e90\u5206\u914d\u56fe\uff1a\u4f7f\u7528\u8d44\u6e90\u5206\u914d\u56fe\u6765\u68c0\u6d4b\u548c\u907f\u514d\u6b7b\u9501\u3002</li> <li>\u907f\u514d\u5faa\u73af\u7b49\u5f85\uff1a\u786e\u4fdd\u7cfb\u7edf\u4e2d\u4e0d\u5b58\u5728\u8d44\u6e90\u7684\u5faa\u73af\u7b49\u5f85\u3002</li> <li>\u4f7f\u7528\u94f6\u884c\u5bb6\u7b97\u6cd5\uff1a\u52a8\u6001\u5206\u914d\u8d44\u6e90\uff0c\u786e\u4fdd\u7cfb\u7edf\u59cb\u7ec8\u5904\u4e8e\u5b89\u5168\u72b6\u6001\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#52","title":"5.2 \u4ec0\u4e48\u662f\u4e34\u754c\u533a\uff1f\u5982\u4f55\u5b9e\u73b0\u4e34\u754c\u533a\u7684\u4e92\u65a5\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u4e34\u754c\u533a\uff1a\u662f\u6307\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u7684\u4ee3\u7801\u6bb5\uff0c\u5728\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u6267\u884c\u8be5\u4ee3\u7801\u6bb5\u3002</li> <li>\u5b9e\u73b0\u4e92\u65a5\uff1a<ul> <li>\u4e92\u65a5\u9501\uff1a\u4f7f\u7528\u4e92\u65a5\u9501\uff08\u5982 <code>mutex</code>\uff09\u6765\u786e\u4fdd\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\u8fdb\u5165\u4e34\u754c\u533a\u3002</li> <li>\u4fe1\u53f7\u91cf\uff1a\u4f7f\u7528\u4fe1\u53f7\u91cf\uff08\u5982 <code>semaphore</code>\uff09\u6765\u63a7\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#_7","title":"\u516d\u3001\u865a\u62df\u5316\u4e0e\u5bb9\u5668","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#61","title":"6.1 \u4ec0\u4e48\u662f\u865a\u62df\u5316\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u865a\u62df\u5316\uff1a\u662f\u4e00\u79cd\u6280\u672f\uff0c\u901a\u8fc7\u5728\u5355\u4e00\u7269\u7406\u786c\u4ef6\u4e0a\u521b\u5efa\u591a\u4e2a\u865a\u62df\u8ba1\u7b97\u673a\uff0c\u4f7f\u6bcf\u4e2a\u865a\u62df\u673a\u90fd\u80fd\u8fd0\u884c\u81ea\u5df1\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c\u5e94\u7528\u7a0b\u5e8f\u3002\u865a\u62df\u5316\u6280\u672f\u5305\u62ec\u786c\u4ef6\u865a\u62df\u5316\u3001\u64cd\u4f5c\u7cfb\u7edf\u865a\u62df\u5316\u548c\u5e94\u7528\u865a\u62df\u5316\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#62","title":"6.2 \u4ec0\u4e48\u662f\u5bb9\u5668\u5316\uff1f\u4e0e\u865a\u62df\u5316\u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u5bb9\u5668\u5316\uff1a\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u865a\u62df\u5316\u6280\u672f\uff0c\u901a\u8fc7\u5c06\u5e94\u7528\u7a0b\u5e8f\u53ca\u5176\u4f9d\u8d56\u6253\u5305\u5230\u4e00\u4e2a\u5bb9\u5668\u4e2d\uff0c\u5728\u540c\u4e00\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fd0\u884c\u591a\u4e2a\u5bb9\u5668\u3002\u5bb9\u5668\u5171\u4eab\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\uff0c\u4f46\u5177\u6709\u72ec\u7acb\u7684\u8fd0\u884c\u73af\u5883\u3002</li> <li>\u533a\u522b\uff1a<ul> <li>\u865a\u62df\u5316\uff1a\u5728\u865a\u62df\u673a\u4e2d\u8fd0\u884c\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6bcf\u4e2a\u865a\u62df\u673a\u6709\u81ea\u5df1\u7684\u5185\u6838\uff0c\u5f00\u9500\u8f83\u5927\u3002</li> <li>\u5bb9\u5668\u5316\uff1a\u5171\u4eab\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\uff0c\u5f00\u9500\u8f83\u5c0f\uff0c\u542f\u52a8\u66f4\u5feb\uff0c\u4f46\u5bb9\u5668\u4e4b\u95f4\u7684\u9694\u79bb\u6027\u8f83\u865a\u62df\u673a\u5dee\u3002</li> </ul> </li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#_8","title":"\u4e03\u3001\u6027\u80fd\u4f18\u5316","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/system/#71","title":"7.1 \u5982\u4f55\u5904\u7406\u7cfb\u7edf\u4e2d\u7684\u6027\u80fd\u74f6\u9888\uff1f","text":"<ul> <li>\u89e3\u91ca\uff1a</li> <li>\u8bc6\u522b\u74f6\u9888\uff1a<ul> <li>\u6027\u80fd\u76d1\u63a7\uff1a\u4f7f\u7528\u5de5\u5177\uff08\u5982 <code>top</code>\u3001<code>vmstat</code>\u3001<code>iostat</code>\uff09\u76d1\u63a7\u7cfb\u7edf\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u3002</li> <li>\u5206\u6790\u65e5\u5fd7\uff1a\u68c0\u67e5\u7cfb\u7edf\u548c\u5e94\u7528\u65e5\u5fd7\u627e\u51fa\u6027\u80fd\u95ee\u9898\u3002</li> </ul> </li> <li>\u89e3\u51b3\u74f6\u9888\uff1a<ul> <li>\u4f18\u5316\u4ee3\u7801\uff1a\u6539\u8fdb\u5e94\u7528\u7a0b\u5e8f\u7684\u4ee3\u7801\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002</li> <li>\u589e\u52a0\u8d44\u6e90\uff1a\u6269\u5c55\u7cfb\u7edf\u8d44\u6e90\uff08\u5982\u589e\u52a0\u5185\u5b58\u3001CPU\uff09\u3002</li> <li>\u4f18\u5316\u914d\u7f6e\uff1a\u8c03\u6574\u7cfb\u7edf\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u914d\u7f6e\u4ee5\u63d0\u9ad8\u6548\u7387\u3002</li> </ul> </li> </ul> <p>\u8fd9\u4e9b\u9762\u8bd5\u9898\u8986\u76d6\u4e86\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e3b\u8981\u6982\u5ff5\u548c\u5b9e\u9645\u5e94\u7528\uff0c\u51c6\u5907\u8fd9\u4e9b\u9898\u76ee\u65f6\u8981\u6df1\u5165\u7406\u89e3\u5e76\u80fd\u591f\u8fdb\u884c\u5b9e\u9645\u64cd\u4f5c\u548c\u95ee\u9898\u89e3\u51b3\u3002\u638c\u63e1\u8fd9\u4e9b\u5185\u5bb9\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5927\u5382\u7684\u64cd\u4f5c\u7cfb\u7edf\u9762\u8bd5\u4e2d\u8868\u73b0\u51fa\u8272\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/","title":"Websocket","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#websocket","title":"\u4e00\u3001WebSocket \u7684\u8be6\u7ec6\u6982\u5ff5","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#1-websocket","title":"1. WebSocket \u7684\u5386\u53f2\u80cc\u666f","text":"<p>\u5728\u4f20\u7edf\u7684 HTTP \u8bf7\u6c42-\u54cd\u5e94\u6a21\u578b\u4e2d\uff0c\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u540e\uff0c\u670d\u52a1\u5668\u624d\u80fd\u8fd4\u56de\u6570\u636e\u3002\u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0c\u5b9e\u65f6\u6027\u8f83\u5dee\uff0c\u5e76\u4e14\u6bcf\u6b21\u8bf7\u6c42\u90fd\u9700\u8981\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\uff0c\u5e26\u6765\u8f83\u5927\u7684\u5f00\u9500\u3002WebSocket \u7684\u51fa\u73b0\u89e3\u51b3\u4e86\u8fd9\u4e9b\u95ee\u9898\uff0c\u4f7f\u5f97\u670d\u52a1\u5668\u53ef\u4ee5\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u6570\u636e\uff0c\u6781\u5927\u5730\u63d0\u5347\u4e86\u5b9e\u65f6\u901a\u4fe1\u7684\u6548\u7387\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#2-websocket","title":"2. WebSocket \u7684\u5de5\u4f5c\u6d41\u7a0b","text":"<ul> <li>\u63e1\u624b\u9636\u6bb5\uff1aWebSocket \u4f7f\u7528 HTTP/1.1 \u534f\u8bae\u7684 <code>Upgrade</code> \u673a\u5236\u8fdb\u884c\u63e1\u624b\u3002\u5ba2\u6237\u7aef\u53d1\u9001\u5305\u542b <code>Upgrade: websocket</code> \u5934\u7684 HTTP \u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u5982\u679c\u652f\u6301 WebSocket \u5219\u8fd4\u56de 101 \u72b6\u6001\u7801\u4ee5\u793a\u534f\u8bae\u5207\u6362\u6210\u529f\uff0c\u968f\u540e\u8fde\u63a5\u5347\u7ea7\u4e3a WebSocket \u534f\u8bae\u3002</li> <li>\u6570\u636e\u5e27\u683c\u5f0f\uff1aWebSocket \u91c7\u7528\u5e27\uff08frame\uff09\u6765\u4f20\u8f93\u6570\u636e\u3002\u6bcf\u4e2a\u5e27\u5305\u542b\u4e00\u4e2a\u56fa\u5b9a\u7684\u5934\u90e8\uff0c\u63a5\u7740\u662f\u53ef\u9009\u7684\u6269\u5c55\u6570\u636e\u548c\u5b9e\u9645\u8d1f\u8f7d\u6570\u636e\u3002WebSocket \u652f\u6301\u6587\u672c\uff08text\uff09\u3001\u4e8c\u8fdb\u5236\uff08binary\uff09\u3001\u5173\u95ed\uff08close\uff09\u3001ping \u548c pong \u4e94\u79cd\u7c7b\u578b\u7684\u6570\u636e\u5e27\u3002</li> <li>\u8fde\u63a5\u4fdd\u6301\uff1a\u4e00\u65e6\u8fde\u63a5\u5efa\u7acb\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u53ef\u4ee5\u81ea\u7531\u5730\u4f20\u8f93\u6570\u636e\u5e27\uff0c\u76f4\u5230\u8fde\u63a5\u5173\u95ed\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#3-websocket-http","title":"3. WebSocket \u4e0e HTTP \u7684\u533a\u522b","text":"<ul> <li>\u5168\u53cc\u5de5\u901a\u4fe1\uff1aHTTP \u662f\u534a\u53cc\u5de5\u7684\uff0c\u8bf7\u6c42\u548c\u54cd\u5e94\u4e0d\u80fd\u540c\u65f6\u8fdb\u884c\uff1bWebSocket \u662f\u5168\u53cc\u5de5\u7684\uff0c\u5141\u8bb8\u540c\u65f6\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u3002</li> <li>\u8fde\u63a5\u6301\u4e45\u6027\uff1aHTTP \u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u5efa\u7acb\u548c\u5173\u95ed\u8fde\u63a5\uff1bWebSocket \u5728\u8fde\u63a5\u5efa\u7acb\u540e\u4fdd\u6301\u5f00\u653e\uff0c\u76f4\u5230\u660e\u786e\u5173\u95ed\u3002</li> <li>\u6570\u636e\u5934\u5f00\u9500\uff1aHTTP \u6bcf\u6b21\u8bf7\u6c42\u548c\u54cd\u5e94\u90fd\u5305\u542b\u5b8c\u6574\u7684\u5934\u4fe1\u606f\uff0c\u5f00\u9500\u8f83\u5927\uff1bWebSocket \u7684\u6570\u636e\u5e27\u5934\u90e8\u8f83\u5c0f\uff0c\u8282\u7701\u5e26\u5bbd\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#python-websocket","title":"\u4e8c\u3001\u4f7f\u7528 Python \u6784\u5efa WebSocket \u670d\u52a1\u5668","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#1","title":"1. \u5b89\u88c5\u4e0e\u51c6\u5907","text":"<p>\u5728 Python \u4e2d\uff0c<code>websockets</code> \u5e93\u662f\u6700\u5e38\u7528\u7684\u5b9e\u73b0 WebSocket \u7684\u5e93\u4e4b\u4e00\u3002\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5b89\u88c5\u8fd9\u4e2a\u5e93\uff1a</p> <pre><code>pip install websockets\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#2-websocket_1","title":"2. \u57fa\u672c\u7684 WebSocket \u670d\u52a1\u5668\u5b9e\u73b0","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684 WebSocket \u670d\u52a1\u5668\uff0c\u5904\u7406\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u6d88\u606f\u5e76\u56de\u9001\u3002</p> <pre><code>import asyncio\nimport websockets\n\nasync def echo(websocket, path):\n    async for message in websocket:\n        print(f\"Received message: {message}\")\n        await websocket.send(f\"Echo: {message}\")\n\nstart_server = websockets.serve(echo, \"localhost\", 8765)\n\nasyncio.get_event_loop().run_until_complete(start_server)\nasyncio.get_event_loop().run_forever()\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#_1","title":"\u8be6\u7ec6\u89e3\u91ca\uff1a","text":"<ul> <li><code>websockets.serve</code>: \u7528\u4e8e\u542f\u52a8 WebSocket \u670d\u52a1\u5668\u3002\u5b83\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff1a\u4e00\u4e2a\u5904\u7406\u6bcf\u4e2a\u8fde\u63a5\u7684\u534f\u7a0b\u51fd\u6570\u548c\u670d\u52a1\u5668\u7684\u5730\u5740\u548c\u7aef\u53e3\u3002</li> <li><code>echo</code> \u534f\u7a0b\u51fd\u6570: \u7528\u4e8e\u5904\u7406\u6bcf\u4e2a\u8fde\u63a5\u7684\u56de\u8c03\u51fd\u6570\u3002<code>async for message in websocket</code> \u8868\u793a\u6301\u7eed\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u6d88\u606f\uff0c\u5e76\u4f7f\u7528 <code>await websocket.send</code> \u5c06\u6d88\u606f\u539f\u6837\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</li> <li>\u4e8b\u4ef6\u5faa\u73af: \u4f7f\u7528 <code>asyncio</code> \u7684\u4e8b\u4ef6\u5faa\u73af\u6765\u7ba1\u7406 WebSocket \u670d\u52a1\u5668\u7684\u751f\u547d\u5468\u671f\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#3-websocket","title":"3. \u66f4\u590d\u6742\u7684 WebSocket \u670d\u52a1\u5668","text":"<p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u5904\u7406\u591a\u79cd\u60c5\u51b5\uff0c\u4f8b\u5982\u5e7f\u64ad\u6d88\u606f\u3001\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3001\u7ba1\u7406\u591a\u4e2a\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u7b49\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u5e7f\u64ad\u6d88\u606f\u7684\u4f8b\u5b50\u3002</p> <pre><code>import asyncio\nimport websockets\n\nconnected = set()\n\nasync def handler(websocket, path):\n    # \u65b0\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u52a0\u5165\u8fde\u63a5\u96c6\u5408\n    connected.add(websocket)\n    try:\n        async for message in websocket:\n            print(f\"Received: {message}\")\n            # \u5e7f\u64ad\u6d88\u606f\u7ed9\u6240\u6709\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\n            for conn in connected:\n                await conn.send(f\"Broadcast: {message}\")\n    finally:\n        # \u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\uff0c\u4ece\u96c6\u5408\u4e2d\u79fb\u9664\n        connected.remove(websocket)\n\nstart_server = websockets.serve(handler, \"localhost\", 8765)\n\nasyncio.get_event_loop().run_until_complete(start_server)\nasyncio.get_event_loop().run_forever()\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#_2","title":"\u8be6\u7ec6\u89e3\u91ca\uff1a","text":"<ul> <li><code>connected</code> \u96c6\u5408: \u7528\u4e8e\u5b58\u50a8\u6240\u6709\u5f53\u524d\u8fde\u63a5\u7684 WebSocket \u5ba2\u6237\u7aef\u3002</li> <li>\u5e7f\u64ad\u6d88\u606f: \u6bcf\u5f53\u4e00\u4e2a\u5ba2\u6237\u7aef\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u670d\u52a1\u5668\u4f1a\u5c06\u6d88\u606f\u5e7f\u64ad\u7ed9\u6240\u6709\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#websocket_1","title":"\u4e09\u3001WebSocket \u5ba2\u6237\u7aef\u7684\u5b9e\u73b0","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#1-websocket_1","title":"1. \u57fa\u672c\u7684 WebSocket \u5ba2\u6237\u7aef","text":"<p>\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u670d\u52a1\u5668\u5e76\u53d1\u9001\u6d88\u606f\uff0c\u670d\u52a1\u5668\u5c06\u6d88\u606f\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</p> <pre><code>import asyncio\nimport websockets\n\nasync def hello():\n    uri = \"ws://localhost:8765\"\n    async with websockets.connect(uri) as websocket:\n        await websocket.send(\"Hello, WebSocket!\")\n        response = await websocket.recv()\n        print(f\"Received from server: {response}\")\n\nasyncio.get_event_loop().run_until_complete(hello())\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#_3","title":"\u8be6\u7ec6\u89e3\u91ca\uff1a","text":"<ul> <li><code>websockets.connect</code>: \u7528\u4e8e\u8fde\u63a5\u5230 WebSocket \u670d\u52a1\u5668\u3002\u8fde\u63a5\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>send</code> \u53d1\u9001\u6d88\u606f\uff0c\u901a\u8fc7 <code>recv</code> \u63a5\u6536\u670d\u52a1\u5668\u7684\u54cd\u5e94\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#2","title":"2. \u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e","text":"<p>WebSocket \u9664\u4e86\u4f20\u8f93\u6587\u672c\u6570\u636e\uff0c\u8fd8\u53ef\u4ee5\u4f20\u8f93\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u53d1\u9001\u548c\u63a5\u6536\u4e8c\u8fdb\u5236\u6570\u636e\u3002</p> <pre><code>import asyncio\nimport websockets\n\nasync def binary_example():\n    uri = \"ws://localhost:8765\"\n    async with websockets.connect(uri) as websocket:\n        await websocket.send(b'\\x00\\x01\\x02\\x03\\x04')\n        response = await websocket.recv()\n        print(f\"Received binary data: {response}\")\n\nasyncio.get_event_loop().run_until_complete(binary_example())\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#_4","title":"\u8be6\u7ec6\u89e3\u91ca\uff1a","text":"<ul> <li>\u4e8c\u8fdb\u5236\u6570\u636e: \u4f7f\u7528\u5b57\u8282\u5bf9\u8c61\uff08\u5982 <code>b'\\x00\\x01\\x02\\x03\\x04'</code>\uff09\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#websocket_2","title":"\u56db\u3001WebSocket \u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u7684\u5e94\u7528","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#1_1","title":"1. \u5b9e\u65f6\u901a\u77e5\u7cfb\u7edf","text":"<p>\u5728\u901a\u77e5\u7cfb\u7edf\u4e2d\uff0cWebSocket \u53ef\u4ee5\u5b9e\u65f6\u63a8\u9001\u4e8b\u4ef6\u901a\u77e5\uff0c\u4f8b\u5982\u5373\u65f6\u6d88\u606f\u3001\u7cfb\u7edf\u62a5\u8b66\u7b49\u3002\u76f8\u6bd4\u8f6e\u8be2\u7684\u65b9\u5f0f\uff0cWebSocket \u5927\u5927\u51cf\u5c11\u4e86\u5ef6\u8fdf\u548c\u670d\u52a1\u5668\u8d1f\u62c5\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#2_1","title":"2. \u5b9e\u65f6\u6570\u636e\u6d41","text":"<p>\u5728\u91d1\u878d\u9886\u57df\uff0cWebSocket \u7528\u4e8e\u5b9e\u65f6\u4f20\u8f93\u5e02\u573a\u6570\u636e\uff0c\u786e\u4fdd\u7528\u6237\u53ef\u4ee5\u7b2c\u4e00\u65f6\u95f4\u770b\u5230\u4ef7\u683c\u53d8\u5316\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#3","title":"3. \u591a\u4eba\u5728\u7ebf\u6e38\u620f","text":"<p>\u5728\u591a\u4eba\u5728\u7ebf\u6e38\u620f\u4e2d\uff0cWebSocket \u53ef\u4ee5\u5904\u7406\u73a9\u5bb6\u4e4b\u95f4\u7684\u5b9e\u65f6\u4e92\u52a8\uff0c\u786e\u4fdd\u6e38\u620f\u7684\u6d41\u7545\u4f53\u9a8c\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#websocket_3","title":"\u4e94\u3001WebSocket \u7684\u9ad8\u7ea7\u529f\u80fd","text":""},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#1_2","title":"1. \u5904\u7406\u65ad\u5f00\u4e0e\u91cd\u8fde","text":"<p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u7f51\u7edc\u8fde\u63a5\u53ef\u80fd\u4f1a\u4e2d\u65ad\u3002\u4e3a\u4e86\u63d0\u9ad8\u7528\u6237\u4f53\u9a8c\uff0c\u5ba2\u6237\u7aef\u901a\u5e38\u9700\u8981\u5b9e\u73b0\u81ea\u52a8\u91cd\u8fde\u529f\u80fd\u3002</p> <pre><code>import asyncio\nimport websockets\n\nasync def stable_connection(uri):\n    while True:\n        try:\n            async with websockets.connect(uri) as websocket:\n                await websocket.send(\"Hello, WebSocket!\")\n                response = await websocket.recv()\n                print(f\"Received from server: {response}\")\n        except websockets.ConnectionClosed:\n            print(\"Connection closed, retrying in 5 seconds...\")\n            await asyncio.sleep(5)\n\nasyncio.get_event_loop().run_until_complete(stable_connection(\"ws://localhost:8765\"))\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#_5","title":"\u8be6\u7ec6\u89e3\u91ca\uff1a","text":"<ul> <li>\u81ea\u52a8\u91cd\u8fde: \u4f7f\u7528 <code>try-except</code> \u6355\u83b7\u8fde\u63a5\u4e2d\u65ad\u7684\u5f02\u5e38\uff0c\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u540e\u91cd\u65b0\u8fde\u63a5\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#2-websocket_2","title":"2. \u52a0\u5bc6\u7684 WebSocket \u901a\u4fe1","text":"<p>WebSocket \u652f\u6301\u901a\u8fc7 <code>wss://</code> \u8fdb\u884c\u52a0\u5bc6\u4f20\u8f93\uff0c\u8fd9\u5bf9\u4e8e\u654f\u611f\u6570\u636e\u7684\u4f20\u8f93\u975e\u5e38\u91cd\u8981\u3002</p> <pre><code>uri = \"wss://example.com/socket\"\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#_6","title":"\u8be6\u7ec6\u89e3\u91ca\uff1a","text":"<ul> <li>\u52a0\u5bc6\u901a\u4fe1: \u4e0e HTTPS \u7c7b\u4f3c\uff0c<code>wss://</code> \u63d0\u4f9b\u4e86\u52a0\u5bc6\u7684 WebSocket \u901a\u4fe1\uff0c\u786e\u4fdd\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u88ab\u7a83\u53d6\u6216\u7be1\u6539\u3002</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/websocket/#_7","title":"\u516d\u3001\u603b\u7ed3","text":"<p>\u901a\u8fc7\u672c\u6559\u7a0b\uff0c\u4f60\u5e94\u8be5\u5bf9 WebSocket \u7684\u6982\u5ff5\u3001\u5de5\u4f5c\u539f\u7406\u3001Python \u4e2d\u7684\u5b9e\u73b0\uff0c\u4ee5\u53ca\u5982\u4f55\u5e94\u7528\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u6709\u4e86\u5168\u9762\u7684\u4e86\u89e3\u3002WebSocket \u63d0\u4f9b\u4e86\u4f4e\u5ef6\u8fdf\u7684\u53cc\u5411\u901a\u4fe1\u673a\u5236\uff0c\u975e\u5e38\u9002\u5408\u5b9e\u65f6\u5e94\u7528\u573a\u666f\u3002\u5728 Python \u4e2d\uff0c<code>websockets</code> \u5e93\u8ba9 WebSocket \u7684\u5b9e\u73b0\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u548c\u7075\u6d3b\u3002\u638c\u63e1\u8fd9\u4e9b\u77e5\u8bc6\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u7075\u6d3b\u8fd0\u7528 WebSocket \u6765\u5b9e\u73b0\u5404\u79cd\u5b9e\u65f6\u901a\u4fe1\u7684\u9700\u6c42\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/","title":"Python \u8fdb\u9636\u6559\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#map-reduce","title":"\u4e00\u3001 map \u548c reduce\u51fd\u6570","text":"<p><code>map</code> \u548c <code>reduce</code> \u662f Python \u4e2d\u5e38\u7528\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\u5de5\u5177\u3002\u5b83\u4eec\u63d0\u4f9b\u4e86\u4e00\u79cd\u4ee5\u58f0\u660e\u5f0f\u7f16\u7a0b\u98ce\u683c\u5904\u7406\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u5904\u7406\u5217\u8868\u6216\u5176\u4ed6\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002\u4ee5\u4e0b\u662f\u5bf9 <code>map</code> \u548c <code>reduce</code> \u51fd\u6570\u7684\u8be6\u7ec6\u89e3\u91ca\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-map","title":"1. <code>map</code> \u51fd\u6570","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#11","title":"1.1 \u529f\u80fd","text":"<p><code>map</code> \u51fd\u6570\u7528\u4e8e\u5c06\u4e00\u4e2a\u51fd\u6570\u5e94\u7528\u5230\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5982\u5217\u8868\u3001\u5143\u7ec4\u7b49\uff09\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0a\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u7ed3\u679c\u7684\u8fed\u4ee3\u5668\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#12","title":"1.2 \u8bed\u6cd5","text":"<pre><code>map(function, iterable, ...)\n</code></pre> <ul> <li>function: \u9700\u8981\u5e94\u7528\u5230\u6bcf\u4e2a\u5143\u7d20\u4e0a\u7684\u51fd\u6570\u3002</li> <li>iterable: \u8981\u5904\u7406\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002<code>map</code> \u51fd\u6570\u4f1a\u5c06 <code>function</code> \u5e94\u7528\u5230 <code>iterable</code> \u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0a\u3002</li> <li>...: \u53ef\u9009\u7684\u591a\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u5982\u591a\u4e2a\u5217\u8868\uff09\uff0c\u5982\u679c\u63d0\u4f9b\u4e86\u591a\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c<code>function</code> \u5fc5\u987b\u63a5\u53d7\u4e0e\u53ef\u8fed\u4ee3\u5bf9\u8c61\u6570\u91cf\u76f8\u540c\u7684\u53c2\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#13","title":"1.3 \u793a\u4f8b","text":"<p>\u5c06\u6bcf\u4e2a\u6570\u5b57\u5e73\u65b9\uff1a</p> <pre><code>numbers = [1, 2, 3, 4, 5]\nsquared = map(lambda x: x**2, numbers)\nprint(list(squared))  # [1, 4, 9, 16, 25]\n</code></pre> <p>\u5c06\u4e24\u4e2a\u5217\u8868\u4e2d\u7684\u5143\u7d20\u9010\u5bf9\u76f8\u52a0\uff1a</p> <pre><code>list1 = [1, 2, 3]\nlist2 = [4, 5, 6]\nsummed = map(lambda x, y: x + y, list1, list2)\nprint(list(summed))  # [5, 7, 9]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-reduce","title":"2. <code>reduce</code> \u51fd\u6570","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#21","title":"2.1 \u529f\u80fd","text":"<p><code>reduce</code> \u51fd\u6570\u7528\u4e8e\u5bf9\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u5143\u7d20\u8fdb\u884c\u7d2f\u79ef\u64cd\u4f5c\uff0c\u5c06\u5176\u5408\u5e76\u6210\u4e00\u4e2a\u5355\u4e00\u7684\u7ed3\u679c\u3002\u5b83\u901a\u8fc7\u4e00\u4e2a\u7d2f\u79ef\u51fd\u6570\u5c06\u524d\u4e24\u4e2a\u5143\u7d20\u5408\u5e76\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u4e0e\u4e0b\u4e00\u4e2a\u5143\u7d20\u5408\u5e76\uff0c\u76f4\u5230\u5904\u7406\u5b8c\u6240\u6709\u5143\u7d20\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#22","title":"2.2 \u8bed\u6cd5","text":"<p><code>reduce</code> \u51fd\u6570\u5728 Python 3.x \u4e2d\u4f4d\u4e8e <code>functools</code> \u6a21\u5757\u4e2d\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>functools.reduce(function, iterable, [initializer])\n</code></pre> <ul> <li>function: \u7d2f\u79ef\u51fd\u6570\uff0c\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u7684\u7d2f\u79ef\u503c\u548c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e2d\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\u3002</li> <li>iterable: \u8981\u5904\u7406\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002</li> <li>initializer: \u53ef\u9009\u7684\u521d\u59cb\u503c\u3002\u5982\u679c\u63d0\u4f9b\u4e86 <code>initializer</code>\uff0c\u5219\u4f1a\u5728\u7b2c\u4e00\u6b21\u8c03\u7528 <code>function</code> \u65f6\u4f7f\u7528\u3002\u5426\u5219\uff0c<code>reduce</code> \u4f1a\u5c06 <code>iterable</code> \u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4f5c\u4e3a\u521d\u59cb\u503c\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#23","title":"2.3 \u793a\u4f8b","text":"<p>\u8ba1\u7b97\u5217\u8868\u4e2d\u6240\u6709\u5143\u7d20\u7684\u4e58\u79ef\uff1a</p> <pre><code>from functools import reduce\n\nnumbers = [1, 2, 3, 4, 5]\nproduct = reduce(lambda x, y: x * y, numbers)\nprint(product)  # 120\n</code></pre> <p>\u5c06\u5217\u8868\u4e2d\u7684\u5b57\u7b26\u4e32\u5408\u5e76\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff1a</p> <pre><code>words = [\"Hello\", \"world\", \"from\", \"reduce\"]\nsentence = reduce(lambda x, y: x + \" \" + y, words)\nprint(sentence)  # \"Hello world from reduce\"\n</code></pre> <p>\u4f7f\u7528\u521d\u59cb\u503c\u8fdb\u884c\u7d2f\u79ef\u64cd\u4f5c\uff1a</p> <pre><code>from functools import reduce\n\nnumbers = [1, 2, 3, 4, 5]\nsum_with_initial = reduce(lambda x, y: x + y, numbers, 10)\nprint(sum_with_initial)  # 25\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3","title":"3. \u603b\u7ed3","text":"<ul> <li><code>map</code> \u51fd\u6570: \u5c06\u4e00\u4e2a\u51fd\u6570\u5e94\u7528\u5230\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0a\uff0c\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u7ed3\u679c\u7684\u8fed\u4ee3\u5668\u3002\u9002\u5408\u4e8e\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u76f8\u540c\u7684\u64cd\u4f5c\u3002</li> <li><code>reduce</code> \u51fd\u6570: \u5c06\u4e00\u4e2a\u7d2f\u79ef\u51fd\u6570\u5e94\u7528\u5230\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u5143\u7d20\u4e0a\uff0c\u5408\u5e76\u6210\u4e00\u4e2a\u5355\u4e00\u7684\u7ed3\u679c\u3002\u9002\u5408\u4e8e\u9700\u8981\u7d2f\u79ef\u64cd\u4f5c\u7684\u573a\u666f\uff0c\u4f8b\u5982\u6c42\u548c\u3001\u4e58\u79ef\u7b49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4","title":"4. \u5bf9\u6bd4\u548c\u9002\u7528\u573a\u666f","text":"<ul> <li><code>map</code>: \u9002\u7528\u4e8e\u5f53\u4f60\u9700\u8981\u5bf9\u6bcf\u4e2a\u5143\u7d20\u6267\u884c\u76f8\u540c\u64cd\u4f5c\u65f6\uff0c\u6bd4\u5982\u8f6c\u6362\u3001\u8fc7\u6ee4\u7b49\u3002\u5b83\u4e0d\u4f1a\u6539\u53d8\u6570\u636e\u7684\u957f\u5ea6\u3002</li> <li><code>reduce</code>: \u9002\u7528\u4e8e\u5c06\u591a\u4e2a\u5143\u7d20\u5408\u5e76\u6210\u4e00\u4e2a\u7ed3\u679c\u65f6\uff0c\u5982\u805a\u5408\u3001\u7d2f\u79ef\u7b49\u3002\u5b83\u4f1a\u51cf\u5c11\u6570\u636e\u7684\u957f\u5ea6\uff0c\u6700\u7ec8\u5f97\u5230\u4e00\u4e2a\u5355\u4e00\u7684\u503c\u3002</li> </ul> <p>\u901a\u8fc7\u5408\u7406\u4f7f\u7528 <code>map</code> \u548c <code>reduce</code>\uff0c\u4f60\u53ef\u4ee5\u5199\u51fa\u66f4\u7b80\u6d01\u3001\u529f\u80fd\u5f3a\u5927\u7684\u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_1","title":"\u4e8c\u3001\u7f51\u7edc\u7f16\u7a0b","text":"<p>Python \u7684\u7f51\u7edc\u7f16\u7a0b\u529f\u80fd\u975e\u5e38\u5f3a\u5927\uff0c\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u5404\u79cd\u7f51\u7edc\u901a\u4fe1\u4efb\u52a1\u3002\u4ee5\u4e0b\u662f\u5bf9 Python \u7f51\u7edc\u7f16\u7a0b\u7684\u8be6\u7ec6\u89e3\u91ca\uff0c\u5305\u62ec\u57fa\u672c\u7684\u7f51\u7edc\u7f16\u7a0b\u6982\u5ff5\u3001\u5e38\u7528\u7684\u6a21\u5757\u548c\u5e93\u3001\u4ee5\u53ca\u4e00\u4e9b\u5e38\u89c1\u7684\u7f51\u7edc\u7f16\u7a0b\u4efb\u52a1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1","title":"1. \u7f51\u7edc\u7f16\u7a0b\u57fa\u672c\u6982\u5ff5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#11-socket","title":"1.1 \u5957\u63a5\u5b57\uff08Socket\uff09","text":"<p>\u5957\u63a5\u5b57\u662f\u7f51\u7edc\u901a\u4fe1\u7684\u57fa\u672c\u63a5\u53e3\uff0c\u5141\u8bb8\u7a0b\u5e8f\u5728\u7f51\u7edc\u4e0a\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002\u5b83\u652f\u6301 TCP \u548c UDP \u534f\u8bae\uff0c\u53ef\u4ee5\u7528\u4e8e\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p> <ul> <li>TCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09: \u9762\u5411\u8fde\u63a5\u7684\u534f\u8bae\uff0c\u63d0\u4f9b\u53ef\u9760\u7684\u3001\u6309\u987a\u5e8f\u7684\u6570\u636e\u4f20\u8f93\u3002</li> <li>UDP\uff08\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\uff09: \u65e0\u8fde\u63a5\u7684\u534f\u8bae\uff0c\u9002\u7528\u4e8e\u9700\u8981\u4f4e\u5ef6\u8fdf\u548c\u8f83\u5c0f\u5f00\u9500\u7684\u573a\u666f\uff0c\u4f46\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u4f20\u8f93\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#12-ip","title":"1.2 IP \u5730\u5740\u548c\u7aef\u53e3","text":"<ul> <li>IP \u5730\u5740: \u552f\u4e00\u6807\u8bc6\u7f51\u7edc\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8bbe\u5907\uff0c\u4f8b\u5982 <code>192.168.1.1</code>\u3002</li> <li>\u7aef\u53e3: \u7528\u4e8e\u533a\u5206\u540c\u4e00\u53f0\u8bbe\u5907\u4e0a\u7684\u4e0d\u540c\u670d\u52a1\u3002\u4f8b\u5982\uff0cHTTP \u534f\u8bae\u901a\u5e38\u4f7f\u7528\u7aef\u53e3 80\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-python","title":"2. Python \u7f51\u7edc\u7f16\u7a0b\u5e38\u7528\u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#21-socket","title":"2.1 <code>socket</code> \u6a21\u5757","text":"<p><code>socket</code> \u6a21\u5757\u662f Python \u63d0\u4f9b\u7684\u6807\u51c6\u5e93\uff0c\u7528\u4e8e\u5b9e\u73b0\u4f4e\u7ea7\u522b\u7684\u7f51\u7edc\u901a\u4fe1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#211-tcp","title":"2.1.1 \u521b\u5efa TCP \u5ba2\u6237\u7aef","text":"<pre><code>import socket\n\n# \u521b\u5efa TCP/IP \u5957\u63a5\u5b57\nclient_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n# \u8fde\u63a5\u5230\u670d\u52a1\u5668\nclient_socket.connect(('localhost', 12345))\n\n# \u53d1\u9001\u6570\u636e\nclient_socket.sendall(b'Hello, Server')\n\n# \u63a5\u6536\u6570\u636e\ndata = client_socket.recv(1024)\nprint('Received', data.decode())\n\n# \u5173\u95ed\u8fde\u63a5\nclient_socket.close()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#212-tcp","title":"2.1.2 \u521b\u5efa TCP \u670d\u52a1\u5668","text":"<pre><code>import socket\n\n# \u521b\u5efa TCP/IP \u5957\u63a5\u5b57\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n# \u7ed1\u5b9a\u5230\u5730\u5740\u548c\u7aef\u53e3\nserver_socket.bind(('localhost', 12345))\n\n# \u76d1\u542c\u8fde\u63a5\nserver_socket.listen(1)\n\nprint('Waiting for a connection...')\nconnection, client_address = server_socket.accept()\n\ntry:\n    print('Connection from', client_address)\n    while True:\n        data = connection.recv(1024)\n        if data:\n            print('Received', data.decode())\n            connection.sendall(b'Hello, Client')\n        else:\n            break\nfinally:\n    connection.close()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#22-http","title":"2.2 <code>http</code> \u6a21\u5757","text":"<p>Python \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 HTTP \u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u529f\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#221-http","title":"2.2.1 \u521b\u5efa HTTP \u670d\u52a1\u5668","text":"<pre><code>from http.server import BaseHTTPRequestHandler, HTTPServer\n\nclass SimpleHTTPRequestHandler(BaseHTTPRequestHandler):\n    def do_GET(self):\n        self.send_response(200)\n        self.send_header('Content-type', 'text/html')\n        self.end_headers()\n        self.wfile.write(b'Hello, world!')\n\nhttpd = HTTPServer(('localhost', 8080), SimpleHTTPRequestHandler)\nprint('Starting server at http://localhost:8080')\nhttpd.serve_forever()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#222-http","title":"2.2.2 \u521b\u5efa HTTP \u5ba2\u6237\u7aef","text":"<pre><code>import http.client\n\n# \u521b\u5efa HTTP \u8fde\u63a5\nconnection = http.client.HTTPConnection('localhost', 8080)\n\n# \u53d1\u9001 GET \u8bf7\u6c42\nconnection.request('GET', '/')\n\n# \u83b7\u53d6\u54cd\u5e94\nresponse = connection.getresponse()\nprint('Status:', response.status)\nprint('Reason:', response.reason)\nprint('Response:', response.read().decode())\n\n# \u5173\u95ed\u8fde\u63a5\nconnection.close()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#23-requests","title":"2.3 <code>requests</code> \u6a21\u5757","text":"<p><code>requests</code> \u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff0c\u7b80\u5316\u4e86 HTTP \u8bf7\u6c42\u7684\u5904\u7406\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#231-get","title":"2.3.1 \u53d1\u9001 GET \u8bf7\u6c42","text":"<pre><code>import requests\n\nresponse = requests.get('https://jsonplaceholder.typicode.com/posts/1')\nprint('Status Code:', response.status_code)\nprint('Response:', response.json())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#232-post","title":"2.3.2 \u53d1\u9001 POST \u8bf7\u6c42","text":"<pre><code>import requests\n\ndata = {'key': 'value'}\nresponse = requests.post('https://httpbin.org/post', data=data)\nprint('Status Code:', response.status_code)\nprint('Response:', response.json())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3_1","title":"3. \u9ad8\u7ea7\u7f51\u7edc\u7f16\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#31","title":"3.1 \u5f02\u6b65\u7f16\u7a0b","text":"<p><code>asyncio</code> \u6a21\u5757\u652f\u6301\u5f02\u6b65 I/O \u64cd\u4f5c\uff0c\u4f7f\u5f97\u53ef\u4ee5\u7f16\u5199\u9ad8\u6548\u7684\u7f51\u7edc\u5e94\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#311-tcp","title":"3.1.1 \u5f02\u6b65 TCP \u670d\u52a1\u5668","text":"<pre><code>import asyncio\n\nasync def handle_client(reader, writer):\n    data = await reader.read(100)\n    message = data.decode()\n    addr = writer.get_extra_info('peername')\n    print(f\"Received {message} from {addr}\")\n    writer.write(data)\n    await writer.drain()\n    writer.close()\n\nasync def main():\n    server = await asyncio.start_server(handle_client, '127.0.0.1', 8888)\n    addr = server.sockets[0].getsockname()\n    print(f'Serving on {addr}')\n    async with server:\n        await server.serve_forever()\n\nasyncio.run(main())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#312-tcp","title":"3.1.2 \u5f02\u6b65 TCP \u5ba2\u6237\u7aef","text":"<pre><code>import asyncio\n\nasync def tcp_client():\n    reader, writer = await asyncio.open_connection('127.0.0.1', 8888)\n    writer.write(b'Hello, World!')\n    await writer.drain()\n    data = await reader.read(100)\n    print(f'Received: {data.decode()}')\n    writer.close()\n    await writer.wait_closed()\n\nasyncio.run(tcp_client())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#32-websocket","title":"3.2 WebSocket","text":"<p><code>websockets</code> \u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff0c\u7528\u4e8e\u5b9e\u73b0 WebSocket \u534f\u8bae\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#321-websocket","title":"3.2.1 WebSocket \u670d\u52a1\u5668","text":"<pre><code>import asyncio\nimport websockets\n\nasync def echo(websocket, path):\n    async for message in websocket:\n        await websocket.send(message)\n\nstart_server = websockets.serve(echo, \"localhost\", 8765)\n\nasyncio.get_event_loop().run_until_complete(start_server)\nasyncio.get_event_loop().run_forever()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#322-websocket","title":"3.2.2 WebSocket \u5ba2\u6237\u7aef","text":"<pre><code>import asyncio\nimport websockets\n\nasync def hello():\n    uri = \"ws://localhost:8765\"\n    async with websockets.connect(uri) as websocket:\n        await websocket.send(\"Hello, World!\")\n        response = await websocket.recv()\n        print(f\"Received: {response}\")\n\nasyncio.run(hello())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4_1","title":"4. \u7f51\u7edc\u7f16\u7a0b\u7684\u5e38\u89c1\u4efb\u52a1","text":"<ul> <li>\u6587\u4ef6\u4e0a\u4f20/\u4e0b\u8f7d: \u4f7f\u7528 HTTP \u534f\u8bae\u5b9e\u73b0\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d\u529f\u80fd\u3002</li> <li>\u7f51\u7edc\u534f\u8bae\u5b9e\u73b0: \u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684\u7f51\u7edc\u534f\u8bae\uff0c\u5904\u7406\u7279\u6b8a\u7684\u5e94\u7528\u9700\u6c42\u3002</li> <li>\u5e76\u53d1\u5904\u7406: \u4f7f\u7528\u5f02\u6b65\u7f16\u7a0b\u6216\u591a\u7ebf\u7a0b\u5904\u7406\u5e76\u53d1\u7684\u7f51\u7edc\u8bf7\u6c42\u3002</li> <li>\u5b89\u5168\u6027: \u5b9e\u73b0 HTTPS \u534f\u8bae\uff0c\u5904\u7406\u6570\u636e\u52a0\u5bc6\u548c\u8ba4\u8bc1\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#41","title":"4.1 \u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d","text":"<p>\u5728 Python \u4e2d\uff0c\u6587\u4ef6\u7684\u4e0a\u4f20\u548c\u4e0b\u8f7d\u64cd\u4f5c\u901a\u5e38\u6d89\u53ca\u5230 HTTP \u534f\u8bae\u3002\u4ee5\u4e0b\u662f\u5982\u4f55\u4f7f\u7528 Python \u5b9e\u73b0\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d\u7684\u8be6\u7ec6\u6559\u7a0b\uff0c\u5305\u62ec\u4f7f\u7528 <code>requests</code> \u5e93\u6765\u5904\u7406\u5ba2\u6237\u7aef\u7684\u64cd\u4f5c\u548c\u4f7f\u7528 <code>Flask</code> \u6846\u67b6\u6765\u521b\u5efa\u7b80\u5355\u7684\u6587\u4ef6\u4e0a\u4f20/\u4e0b\u8f7d\u670d\u52a1\u5668\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-requests","title":"1. \u4f7f\u7528 <code>requests</code> \u5e93\u5b9e\u73b0\u6587\u4ef6\u4e0a\u4f20","text":"<p><code>requests</code> \u662f\u4e00\u4e2a\u6d41\u884c\u7684 HTTP \u5e93\uff0c\u53ef\u4ee5\u7528\u6765\u53d1\u9001 HTTP \u8bf7\u6c42\uff0c\u5305\u62ec\u6587\u4ef6\u4e0a\u4f20\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_2","title":"\u4e0a\u4f20\u6587\u4ef6\u5230\u670d\u52a1\u5668","text":"<p>\u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u6587\u4ef6 <code>example.txt</code>\uff0c\u4f60\u60f3\u4e0a\u4f20\u5230\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u6765\u5b9e\u73b0\uff1a</p> <pre><code>import requests\n\nurl = 'http://example.com/upload'\n\n# \u4f7f\u7528 with \u8bed\u53e5\u6765\u786e\u4fdd\u6587\u4ef6\u88ab\u6b63\u786e\u5173\u95ed\nwith open('example.txt', 'rb') as file:\n    files = {'file': file}\n    response = requests.post(url, files=files)\n\nprint(response.status_code)\nprint(response.text)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_3","title":"\u89e3\u91ca\uff1a","text":"<ul> <li><code>files = {'file': open('example.txt', 'rb')}</code>\uff1a\u5c06\u6587\u4ef6\u4ee5\u4e8c\u8fdb\u5236\u6a21\u5f0f\u6253\u5f00\uff0c\u5e76\u5c06\u5176\u5c01\u88c5\u5230 <code>files</code> \u53c2\u6570\u4e2d\u3002</li> <li><code>requests.post(url, files=files)</code>\uff1a\u5411\u670d\u52a1\u5668\u53d1\u9001 POST \u8bf7\u6c42\uff0c\u4e0a\u4f20\u6587\u4ef6\u3002</li> <li><code>response.status_code</code> \u548c <code>response.text</code>\uff1a\u5206\u522b\u8fd4\u56de\u54cd\u5e94\u7684\u72b6\u6001\u7801\u548c\u5185\u5bb9\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-requests","title":"2. \u4f7f\u7528 <code>requests</code> \u5e93\u5b9e\u73b0\u6587\u4ef6\u4e0b\u8f7d","text":"<p>\u6587\u4ef6\u4e0b\u8f7d\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>requests</code> \u5e93\u8f7b\u677e\u5b9e\u73b0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#url","title":"\u4ece URL \u4e0b\u8f7d\u6587\u4ef6","text":"<p>\u4ee5\u4e0b\u4ee3\u7801\u5c55\u793a\u4e86\u5982\u4f55\u4ece\u6307\u5b9a\u7684 URL \u4e0b\u8f7d\u6587\u4ef6\u5e76\u4fdd\u5b58\u5230\u672c\u5730\uff1a</p> <pre><code>import requests\n\nurl = 'http://example.com/example.txt'\nresponse = requests.get(url)\n\nwith open('downloaded_example.txt', 'wb') as f:\n    f.write(response.content)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_4","title":"\u89e3\u91ca\uff1a","text":"<ul> <li><code>requests.get(url)</code>\uff1a\u53d1\u9001 GET \u8bf7\u6c42\uff0c\u83b7\u53d6\u6587\u4ef6\u5185\u5bb9\u3002</li> <li><code>response.content</code>\uff1a\u83b7\u53d6\u54cd\u5e94\u7684\u4e8c\u8fdb\u5236\u5185\u5bb9\u3002</li> <li><code>with open('downloaded_example.txt', 'wb') as f</code>\uff1a\u5c06\u4e0b\u8f7d\u7684\u6587\u4ef6\u4fdd\u5b58\u5230\u672c\u5730\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3-flask","title":"3. \u4f7f\u7528 <code>Flask</code> \u521b\u5efa\u6587\u4ef6\u4e0a\u4f20/\u4e0b\u8f7d\u670d\u52a1\u5668","text":"<p><code>Flask</code> \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684 Web \u6846\u67b6\uff0c\u4f7f\u7528\u5b83\u53ef\u4ee5\u5feb\u901f\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20/\u4e0b\u8f7d\u7684\u670d\u52a1\u5668\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_5","title":"\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u6587\u4ef6\u4e0a\u4f20\u670d\u52a1\u5668","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u57fa\u672c\u7684 Flask \u670d\u52a1\u5668\u793a\u4f8b\uff0c\u652f\u6301\u6587\u4ef6\u4e0a\u4f20\uff1a</p> <pre><code>from flask import Flask, request, redirect, url_for, send_from_directory\nimport os\n\napp = Flask(__name__)\nUPLOAD_FOLDER = './uploads'\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\n\nif not os.path.exists(UPLOAD_FOLDER):\n    os.makedirs(UPLOAD_FOLDER)\n\n@app.route('/')\ndef index():\n    return '''\n    &lt;!doctype html&gt;\n    &lt;title&gt;Upload a file&lt;/title&gt;\n    &lt;h1&gt;Upload a file&lt;/h1&gt;\n    &lt;form method=post enctype=multipart/form-data&gt;\n      &lt;input type=file name=file&gt;\n      &lt;input type=submit value=Upload&gt;\n    &lt;/form&gt;\n    '''\n\n@app.route('/upload', methods=['POST'])\ndef upload_file():\n    if 'file' not in request.files:\n        return 'No file part'\n    file = request.files['file']\n    if file.filename == '':\n        return 'No selected file'\n    if file:\n        filepath = os.path.join(app.config['UPLOAD_FOLDER'], file.filename)\n        file.save(filepath)\n        return 'File uploaded successfully'\n\n@app.route('/uploads/&lt;filename&gt;')\ndef uploaded_file(filename):\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_6","title":"\u89e3\u91ca\uff1a","text":"<ul> <li><code>UPLOAD_FOLDER</code>\uff1a\u6307\u5b9a\u4e0a\u4f20\u6587\u4ef6\u4fdd\u5b58\u7684\u76ee\u5f55\u3002</li> <li><code>index()</code>\uff1a\u8fd4\u56de\u4e00\u4e2a\u7b80\u5355\u7684 HTML \u8868\u5355\uff0c\u5141\u8bb8\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u3002</li> <li><code>upload_file()</code>\uff1a\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u8bf7\u6c42\uff0c\u5e76\u5c06\u6587\u4ef6\u4fdd\u5b58\u5230\u6307\u5b9a\u76ee\u5f55\u3002</li> <li><code>uploaded_file()</code>\uff1a\u63d0\u4f9b\u6587\u4ef6\u4e0b\u8f7d\u529f\u80fd\uff0c\u901a\u8fc7 URL \u8bbf\u95ee\u4e0a\u4f20\u7684\u6587\u4ef6\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_7","title":"\u542f\u52a8\u670d\u52a1\u5668","text":"<p>\u4fdd\u5b58\u4e0a\u8ff0\u4ee3\u7801\u5230 <code>app.py</code>\uff0c\u7136\u540e\u5728\u547d\u4ee4\u884c\u4e2d\u8fd0\u884c\uff1a</p> <pre><code>python app.py\n</code></pre> <p>\u8bbf\u95ee <code>http://127.0.0.1:5000/</code> \u5373\u53ef\u770b\u5230\u4e0a\u4f20\u6587\u4ef6\u7684\u8868\u5355\u3002\u4e0a\u4f20\u6210\u529f\u540e\uff0c\u6587\u4ef6\u5c06\u4fdd\u5b58\u5728 <code>./uploads</code> \u6587\u4ef6\u5939\u4e2d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4-requests-flask","title":"4. \u4f7f\u7528 <code>requests</code> \u5e93\u4e0a\u4f20\u6587\u4ef6\u5230 Flask \u670d\u52a1\u5668","text":"<p>\u4e00\u65e6 Flask \u670d\u52a1\u5668\u51c6\u5907\u5c31\u7eea\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b Python \u811a\u672c\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230 Flask \u670d\u52a1\u5668\uff1a</p> <pre><code>import requests\n\nurl = 'http://127.0.0.1:5000/upload'\nfiles = {'file': open('example.txt', 'rb')}\n\nresponse = requests.post(url, files=files)\n\nprint(response.status_code)\nprint(response.text)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5-requests-flask","title":"5. \u4f7f\u7528 <code>requests</code> \u5e93\u4ece Flask \u670d\u52a1\u5668\u4e0b\u8f7d\u6587\u4ef6","text":"<p>\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 <code>requests</code> \u5e93\u4ece\u670d\u52a1\u5668\u4e0b\u8f7d\u6587\u4ef6\uff1a</p> <pre><code>import requests\n\nurl = 'http://127.0.0.1:5000/uploads/example.txt'\nresponse = requests.get(url)\n\nwith open('downloaded_example.txt', 'wb') as f:\n    f.write(response.content)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#6","title":"6. \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u6ce8\u610f\u4e8b\u9879","text":"<p>\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d\u7684\u5904\u7406\u9700\u8981\u8003\u8651\u66f4\u591a\u56e0\u7d20\uff1a - \u5b89\u5168\u6027\uff1a\u786e\u4fdd\u4e0a\u4f20\u7684\u6587\u4ef6\u4e0d\u5305\u542b\u6076\u610f\u4ee3\u7801\u3002\u53ef\u4ee5\u5bf9\u4e0a\u4f20\u6587\u4ef6\u7c7b\u578b\u8fdb\u884c\u4e25\u683c\u7684\u9a8c\u8bc1\u3002 - \u6587\u4ef6\u5927\u5c0f\u9650\u5236\uff1a\u8bbe\u7f6e\u4e0a\u4f20\u6587\u4ef6\u7684\u5927\u5c0f\u9650\u5236\uff0c\u9632\u6b62\u5360\u7528\u8fc7\u591a\u670d\u52a1\u5668\u8d44\u6e90\u3002 - \u6587\u4ef6\u5b58\u50a8\uff1a\u8003\u8651\u5c06\u6587\u4ef6\u5b58\u50a8\u5728\u5916\u90e8\u5b58\u50a8\u7cfb\u7edf\uff08\u5982 AWS S3\uff09\u800c\u975e\u672c\u5730\u670d\u52a1\u5668\uff0c\u4ee5\u63d0\u9ad8\u53ef\u6269\u5c55\u6027\u548c\u53ef\u9760\u6027\u3002</p> <p>\u901a\u8fc7\u8fd9\u4e9b\u793a\u4f8b\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0 Python \u4e2d\u7684\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d\u529f\u80fd\uff0c\u5e76\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8fdb\u884c\u6269\u5c55\u548c\u4f18\u5316\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5","title":"5. \u603b\u7ed3","text":"<p>Python \u7684\u7f51\u7edc\u7f16\u7a0b\u529f\u80fd\u901a\u8fc7\u6807\u51c6\u5e93\u548c\u7b2c\u4e09\u65b9\u5e93\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u652f\u6301\u3002<code>socket</code> \u6a21\u5757\u9002\u5408\u4f4e\u7ea7\u522b\u7684\u7f51\u7edc\u901a\u4fe1\uff0c<code>http</code> \u6a21\u5757\u548c <code>requests</code> \u5e93\u7b80\u5316\u4e86 HTTP \u8bf7\u6c42\u5904\u7406\uff0c\u800c <code>asyncio</code> \u548c <code>websockets</code> \u5e93\u63d0\u4f9b\u4e86\u9ad8\u6548\u7684\u5f02\u6b65\u7f16\u7a0b\u652f\u6301\u3002\u901a\u8fc7\u638c\u63e1\u8fd9\u4e9b\u5de5\u5177\uff0c\u4f60\u53ef\u4ee5\u5b9e\u73b0\u5404\u79cd\u7f51\u7edc\u5e94\u7528\uff0c\u4ece\u7b80\u5355\u7684\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u901a\u4fe1\u5230\u590d\u6742\u7684\u5b9e\u65f6\u6570\u636e\u4f20\u8f93\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_8","title":"\u4e09\u3001\u5e76\u53d1\u7f16\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1_1","title":"1. \u5e76\u53d1\u7f16\u7a0b\u57fa\u7840\u6982\u5ff5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#11_1","title":"1.1 \u5e76\u53d1\u4e0e\u5e76\u884c","text":"<ul> <li>\u5e76\u53d1\uff08Concurrency\uff09: \u5e76\u53d1\u662f\u6307\u5728\u540c\u4e00\u65f6\u95f4\u6bb5\u5185\uff0c\u7cfb\u7edf\u80fd\u591f\u5904\u7406\u591a\u4e2a\u4efb\u52a1\u3002\u4efb\u52a1\u4e4b\u95f4\u53ef\u80fd\u662f\u4ea4\u66ff\u8fdb\u884c\u7684\uff0c\u4f46\u5728\u903b\u8f91\u4e0a\u770b\u8d77\u6765\u662f\u540c\u65f6\u8fdb\u884c\u7684\u3002\u5e76\u53d1\u4efb\u52a1\u53ef\u4ee5\u5728\u4e00\u4e2a\u6838\u5fc3\u4e0a\u4ea4\u66ff\u8fd0\u884c\u3002</li> <li>\u5e76\u884c\uff08Parallelism\uff09: \u5e76\u884c\u662f\u6307\u5728\u540c\u4e00\u65f6\u523b\uff0c\u591a\u4e2a\u4efb\u52a1\u5728\u4e0d\u540c\u7684\u5904\u7406\u5668\u6838\u5fc3\u4e0a\u540c\u65f6\u8fd0\u884c\u3002\u5e76\u884c\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u540c\u65f6\u6267\u884c\uff0c\u901a\u5e38\u4f9d\u8d56\u4e8e\u591a\u6838 CPU\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#12_1","title":"1.2 \u7ebf\u7a0b\u4e0e\u8fdb\u7a0b","text":"<ul> <li>\u7ebf\u7a0b\uff08Thread\uff09: \u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u80fd\u591f\u72ec\u7acb\u6267\u884c\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7ebf\u7a0b\u3002\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u76f8\u540c\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd9\u4f7f\u5f97\u7ebf\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u975e\u5e38\u9ad8\u6548\uff0c\u4f46\u4e5f\u5e26\u6765\u4e86\u7ebf\u7a0b\u540c\u6b65\u7684\u95ee\u9898\u3002</li> <li>\u8fdb\u7a0b\uff08Process\uff09: \u8fdb\u7a0b\u662f\u4e00\u4e2a\u8fd0\u884c\u7684\u7a0b\u5e8f\u5b9e\u4f8b\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u9700\u8981\u901a\u8fc7\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff08IPC\uff09\u673a\u5236\uff0c\u5982\u7ba1\u9053\u3001\u6d88\u606f\u961f\u5217\u7b49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2","title":"2. \u591a\u7ebf\u7a0b\u7f16\u7a0b","text":"<p>Python \u591a\u7ebf\u7a0b\u7f16\u7a0b\u4e3b\u8981\u901a\u8fc7 <code>threading</code> \u6a21\u5757\u6765\u5b9e\u73b0\u3002\u591a\u7ebf\u7a0b\u7f16\u7a0b\u9002\u5408\u5904\u7406 I/O \u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u5982\u6587\u4ef6\u8bfb\u5199\u3001\u7f51\u7edc\u8bf7\u6c42\u7b49\uff09\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u4efb\u52a1\u5728\u7b49\u5f85\u8d44\u6e90\u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u8ba9\u51fa\u7ebf\u7a0b\uff0c\u4ece\u800c\u63d0\u9ad8\u6574\u4f53\u6548\u7387\u3002\u4ee5\u4e0b\u662f Python \u591a\u7ebf\u7a0b\u7f16\u7a0b\u7684\u8be6\u7ec6\u4ecb\u7ecd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-python-threading","title":"1. Python <code>threading</code> \u6a21\u5757\u57fa\u7840","text":"<p><code>threading</code> \u6a21\u5757\u662f Python \u63d0\u4f9b\u7684\u6807\u51c6\u5e93\u6a21\u5757\uff0c\u7528\u4e8e\u521b\u5efa\u548c\u7ba1\u7406\u7ebf\u7a0b\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u6982\u5ff5\u548c\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#11_2","title":"1.1 \u521b\u5efa\u7ebf\u7a0b","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>threading.Thread</code> \u7c7b\u521b\u5efa\u4e00\u4e2a\u65b0\u7ebf\u7a0b\u3002\u7ebf\u7a0b\u7684\u76ee\u6807\u4efb\u52a1\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\u6216\u65b9\u6cd5\u3002</p> <pre><code>import threading\n\ndef print_numbers():\n    for i in range(5):\n        print(i)\n\n# \u521b\u5efa\u7ebf\u7a0b\nthread = threading.Thread(target=print_numbers)\n\n# \u542f\u52a8\u7ebf\u7a0b\nthread.start()\n\n# \u7b49\u5f85\u7ebf\u7a0b\u7ed3\u675f\nthread.join()\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c<code>thread.start()</code> \u542f\u52a8\u4e86\u65b0\u7ebf\u7a0b\uff0c\u65b0\u7ebf\u7a0b\u5f00\u59cb\u6267\u884c <code>print_numbers</code> \u51fd\u6570\u3002<code>thread.join()</code> \u7528\u4e8e\u7b49\u5f85\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#12_2","title":"1.2 \u4f7f\u7528\u7c7b\u65b9\u6cd5\u521b\u5efa\u7ebf\u7a0b","text":"<p>\u9664\u4e86\u76f4\u63a5\u4f7f\u7528\u51fd\u6570\u4f5c\u4e3a\u7ebf\u7a0b\u76ee\u6807\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7c7b\u65b9\u6cd5\u6765\u521b\u5efa\u7ebf\u7a0b\u3002\u8fd9\u79cd\u65b9\u5f0f\u6709\u52a9\u4e8e\u5728\u590d\u6742\u4efb\u52a1\u4e2d\u7ba1\u7406\u7ebf\u7a0b\u72b6\u6001\u3002</p> <pre><code>import threading\n\nclass MyThread(threading.Thread):\n    def run(self):\n        for i in range(5):\n            print(i)\n\n# \u521b\u5efa\u5e76\u542f\u52a8\u7ebf\u7a0b\nthread = MyThread()\nthread.start()\nthread.join()\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c<code>MyThread</code> \u7c7b\u7ee7\u627f\u81ea <code>threading.Thread</code>\uff0c\u5e76\u8986\u76d6\u4e86 <code>run()</code> \u65b9\u6cd5\u3002<code>run()</code> \u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801\u5c06\u5728\u65b0\u7ebf\u7a0b\u4e2d\u6267\u884c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2_1","title":"2. \u7ebf\u7a0b\u540c\u6b65","text":"<p>\u5728\u591a\u7ebf\u7a0b\u7f16\u7a0b\u4e2d\uff0c\u5982\u679c\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\uff08\u5982\u5168\u5c40\u53d8\u91cf\uff09\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7ade\u4e89\u6761\u4ef6\uff08Race Condition\uff09\u548c\u6570\u636e\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0cPython \u63d0\u4f9b\u4e86\u9501\uff08Lock\uff09\u673a\u5236\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#21-lock","title":"2.1 \u4f7f\u7528 <code>Lock</code> \u5b9e\u73b0\u7ebf\u7a0b\u540c\u6b65","text":"<p><code>Lock</code> \u662f\u4e00\u79cd\u6700\u7b80\u5355\u7684\u7ebf\u7a0b\u540c\u6b65\u673a\u5236\u3002\u53ea\u6709\u5728\u9501\u88ab\u91ca\u653e\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u624d\u80fd\u591f\u83b7\u5f97\u9501\u5e76\u7ee7\u7eed\u6267\u884c\u3002</p> <pre><code>import threading\n\ncounter = 0\nlock = threading.Lock()\n\ndef increment_counter():\n    global counter\n    for _ in range(100000):\n        # \u83b7\u53d6\u9501\n        with lock:\n            counter += 1\n\nthreads = []\nfor _ in range(2):\n    thread = threading.Thread(target=increment_counter)\n    thread.start()\n    threads.append(thread)\n\nfor thread in threads:\n    thread.join()\n\nprint(counter)  # \u8f93\u51fa 200000\uff0c\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\n</code></pre> <p>\u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c<code>with lock</code> \u786e\u4fdd\u4e86 <code>counter += 1</code> \u64cd\u4f5c\u5728\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u662f\u5b89\u5168\u7684\uff0c\u5373\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#22-rlock","title":"2.2 \u4f7f\u7528 <code>RLock</code>","text":"<p><code>RLock</code>\uff08\u53ef\u91cd\u5165\u9501\uff09\u5141\u8bb8\u540c\u4e00\u4e2a\u7ebf\u7a0b\u591a\u6b21\u83b7\u53d6\u9501\uff0c\u800c\u4e0d\u4f1a\u5bfc\u81f4\u6b7b\u9501\u3002\u8fd9\u5728\u9700\u8981\u9012\u5f52\u9501\u5b9a\u7684\u60c5\u51b5\u4e0b\u975e\u5e38\u6709\u7528\u3002</p> <pre><code>import threading\n\nlock = threading.RLock()\n\ndef recursive_function(n):\n    with lock:\n        if n &gt; 0:\n            print(f\"Recursion level {n}\")\n            recursive_function(n - 1)\n\nthread = threading.Thread(target=recursive_function, args=(5,))\nthread.start()\nthread.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3_2","title":"3. \u7ebf\u7a0b\u95f4\u901a\u4fe1","text":"<p>\u5728 Python \u4e2d\uff0c\u7ebf\u7a0b\u95f4\u901a\u4fe1\u901a\u5e38\u901a\u8fc7\u5171\u4eab\u6570\u636e\u7ed3\u6784\u6216\u4f7f\u7528\u540c\u6b65\u539f\u8bed\uff08\u5982\u9501\u3001\u4e8b\u4ef6\u3001\u6761\u4ef6\u53d8\u91cf\u7b49\uff09\u6765\u5b9e\u73b0\u3002<code>queue</code> \u6a21\u5757\u662f\u5176\u4e2d\u4e00\u79cd\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u5b83\u63d0\u4f9b\u4e86\u7ebf\u7a0b\u5b89\u5168\u7684\u961f\u5217\uff0c\u7528\u4e8e\u5728\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7ebf\u7a0b\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u65b9\u5f0f\u8fdb\u884c\u7ebf\u7a0b\u95f4\u7684\u901a\u4fe1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-queue","title":"1. \u4f7f\u7528 <code>queue</code> \u6a21\u5757\u8fdb\u884c\u7ebf\u7a0b\u95f4\u901a\u4fe1","text":"<p><code>queue.Queue</code> \u662f\u4e00\u4e2a\u7ebf\u7a0b\u5b89\u5168\u7684\u961f\u5217\uff0c\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u7ebf\u7a0b\u5c06\u6570\u636e\u653e\u5165\u961f\u5217\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u6570\u636e\u3002</p> <pre><code>import threading\nimport queue\nimport time\n\n# \u521b\u5efa\u4e00\u4e2a\u961f\u5217\nq = queue.Queue()\n\n# \u751f\u4ea7\u8005\u7ebf\u7a0b\ndef producer():\n    for i in range(5):\n        item = f'item-{i}'\n        q.put(item)\n        print(f'Produced {item}')\n        time.sleep(1)\n\n# \u6d88\u8d39\u8005\u7ebf\u7a0b\ndef consumer():\n    while True:\n        item = q.get()\n        if item is None:\n            break\n        print(f'Consumed {item}')\n        q.task_done()\n\n# \u542f\u52a8\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u7ebf\u7a0b\nt1 = threading.Thread(target=producer)\nt2 = threading.Thread(target=consumer)\n\nt1.start()\nt2.start()\n\nt1.join()\nq.put(None)  # \u5411\u961f\u5217\u53d1\u9001None\u4fe1\u53f7\uff0c\u8868\u793a\u6d88\u8d39\u7ed3\u675f\nt2.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-threadingevent","title":"2. \u4f7f\u7528 <code>threading.Event</code> \u8fdb\u884c\u7ebf\u7a0b\u95f4\u901a\u4fe1","text":"<p><code>threading.Event</code> \u662f\u4e00\u79cd\u7b80\u5355\u7684\u540c\u6b65\u539f\u8bed\uff0c\u7528\u4e8e\u5728\u7ebf\u7a0b\u4e4b\u95f4\u53d1\u9001\u4fe1\u53f7\u3002</p> <pre><code>import threading\nimport time\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\nevent = threading.Event()\n\ndef worker():\n    print(\"Worker waiting for event to start...\")\n    event.wait()  # \u7b49\u5f85\u4e8b\u4ef6\u88ab\u8bbe\u7f6e\n    print(\"Worker started...\")\n\ndef controller():\n    print(\"Controller is starting the worker...\")\n    time.sleep(3)\n    event.set()  # \u89e6\u53d1\u4e8b\u4ef6\n\n# \u542f\u52a8\u5de5\u4f5c\u7ebf\u7a0b\u548c\u63a7\u5236\u5668\u7ebf\u7a0b\nt1 = threading.Thread(target=worker)\nt2 = threading.Thread(target=controller)\n\nt1.start()\nt2.start()\n\nt1.join()\nt2.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3-threadingcondition","title":"3. \u4f7f\u7528 <code>threading.Condition</code> \u8fdb\u884c\u590d\u6742\u540c\u6b65","text":"<p><code>threading.Condition</code> \u53ef\u4ee5\u5728\u7279\u5b9a\u6761\u4ef6\u4e0b\u5524\u9192\u7b49\u5f85\u7684\u7ebf\u7a0b\uff0c\u5b83\u901a\u5e38\u4e0e\u9501\u4e00\u8d77\u4f7f\u7528\u3002</p> <pre><code>import threading\nimport time\n\ncondition = threading.Condition()\n\nitems = []\n\n# \u751f\u4ea7\u8005\u7ebf\u7a0b\ndef producer():\n    with condition:\n        for i in range(5):\n            items.append(i)\n            print(f'Produced {i}')\n            condition.notify()  # \u901a\u77e5\u6d88\u8d39\u8005\u7ebf\u7a0b\n            time.sleep(1)\n\n# \u6d88\u8d39\u8005\u7ebf\u7a0b\ndef consumer():\n    while True:\n        with condition:\n            condition.wait()  # \u7b49\u5f85\u901a\u77e5\n            item = items.pop(0)\n            print(f'Consumed {item}')\n            if item == 4:  # \u6d88\u8d39\u7ed3\u675f\u6761\u4ef6\n                break\n\n# \u542f\u52a8\u7ebf\u7a0b\nt1 = threading.Thread(target=producer)\nt2 = threading.Thread(target=consumer)\n\nt1.start()\nt2.start()\n\nt1.join()\nt2.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4_2","title":"4. \u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u548c\u9501\u8fdb\u884c\u7ebf\u7a0b\u95f4\u901a\u4fe1","text":"<p>\u5c3d\u7ba1\u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u7528\u4e8e\u7ebf\u7a0b\u95f4\u5171\u4eab\u6570\u636e\uff0c\u4f46\u9700\u8981\u4f7f\u7528\u9501\u6765\u907f\u514d\u7ade\u4e89\u6761\u4ef6\u3002</p> <pre><code>import threading\n\nlock = threading.Lock()\nshared_data = []\n\ndef producer():\n    global shared_data\n    for i in range(5):\n        with lock:\n            shared_data.append(i)\n            print(f'Produced {i}')\n\ndef consumer():\n    global shared_data\n    while True:\n        with lock:\n            if shared_data:\n                item = shared_data.pop(0)\n                print(f'Consumed {item}')\n                if item == 4:  # \u6d88\u8d39\u7ed3\u675f\u6761\u4ef6\n                    break\n\n# \u542f\u52a8\u7ebf\u7a0b\nt1 = threading.Thread(target=producer)\nt2 = threading.Thread(target=consumer)\n\nt1.start()\nt2.start()\n\nt1.join()\nt2.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_9","title":"\u603b\u7ed3","text":"<p>\u5728 Python \u4e2d\uff0c\u7ebf\u7a0b\u95f4\u901a\u4fe1\u6709\u591a\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\uff0c<code>queue</code> \u6a21\u5757\u662f\u6700\u5e38\u7528\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u4e00\u79cd\u3002\u5176\u4ed6\u65b9\u5f0f\u5982 <code>Event</code>\u3001<code>Condition</code> \u4ee5\u53ca\u5168\u5c40\u53d8\u91cf\u52a0\u9501\u7684\u65b9\u5f0f\u4e5f\u53ef\u4ee5\u7528\u4e8e\u7279\u5b9a\u573a\u666f\u3002\u9009\u62e9\u54ea\u79cd\u65b9\u6cd5\u53d6\u51b3\u4e8e\u5177\u4f53\u7684\u5e94\u7528\u9700\u6c42\u548c\u590d\u6742\u5ea6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4_3","title":"4. \u4f7f\u7528\u7ebf\u7a0b\u6c60","text":"<p>\u7ebf\u7a0b\u6c60\u662f\u4e00\u79cd\u7ba1\u7406\u591a\u4e2a\u7ebf\u7a0b\u7684\u9ad8\u7ea7\u673a\u5236\u3002Python \u7684 <code>concurrent.futures</code> \u6a21\u5757\u63d0\u4f9b\u4e86 <code>ThreadPoolExecutor</code> \u7c7b\uff0c\u7528\u4e8e\u65b9\u4fbf\u5730\u7ba1\u7406\u7ebf\u7a0b\u6c60\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#41-threadpoolexecutor","title":"4.1 \u4f7f\u7528 <code>ThreadPoolExecutor</code>","text":"<pre><code>from concurrent.futures import ThreadPoolExecutor\n\ndef square(n):\n    return n * n\n\n# \u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u6c60\uff0c\u5305\u542b 3 \u4e2a\u7ebf\u7a0b\nwith ThreadPoolExecutor(max_workers=3) as executor:\n    results = executor.map(square, range(10))\n\nprint(list(results))  # \u8f93\u51fa [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]\n</code></pre> <p><code>ThreadPoolExecutor</code> \u81ea\u52a8\u7ba1\u7406\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u9500\u6bc1\uff0c\u4f7f\u5f97\u5e76\u53d1\u7f16\u7a0b\u66f4\u52a0\u7b80\u6d01\u548c\u9ad8\u6548\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5_1","title":"5. \u591a\u7ebf\u7a0b\u7684\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#51-gil","title":"5.1 GIL \u7684\u5f71\u54cd","text":"<p>Python \u7684\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff08GIL\uff09\u9650\u5236\u4e86\u591a\u7ebf\u7a0b\u7684\u5e76\u884c\u6267\u884c\uff0c\u5c24\u5176\u662f\u5728 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u4e2d\u3002\u591a\u7ebf\u7a0b\u66f4\u9002\u5408 I/O \u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u5982\u679c\u9700\u8981\u5904\u7406 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u901a\u5e38\u63a8\u8350\u4f7f\u7528\u591a\u8fdb\u7a0b\uff08<code>multiprocessing</code>\uff09\u6765\u66ff\u4ee3\u591a\u7ebf\u7a0b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#52","title":"5.2 \u7ebf\u7a0b\u5b89\u5168\u6027","text":"<p>\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e2d\uff0c\u786e\u4fdd\u5171\u4eab\u8d44\u6e90\u7684\u7ebf\u7a0b\u5b89\u5168\u6027\u975e\u5e38\u91cd\u8981\u3002\u4f7f\u7528\u9501\u3001\u961f\u5217\u6216\u5176\u4ed6\u540c\u6b65\u673a\u5236\u53ef\u4ee5\u907f\u514d\u6570\u636e\u7ade\u4e89\u548c\u6b7b\u9501\u7b49\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#6_1","title":"6. \u5c0f\u7ed3","text":"<p>Python \u7684 <code>threading</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u521b\u5efa\u548c\u7ba1\u7406\u7ebf\u7a0b\u7684\u5f3a\u5927\u5de5\u5177\u3002\u591a\u7ebf\u7a0b\u7f16\u7a0b\u5728\u5904\u7406 I/O \u5bc6\u96c6\u578b\u4efb\u52a1\u65f6\u7279\u522b\u6709\u7528\uff0c\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u54cd\u5e94\u80fd\u529b\u3002\u7136\u800c\uff0c\u5728\u5904\u7406 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u65f6\uff0c\u9700\u8981\u6ce8\u610f GIL \u7684\u5f71\u54cd\uff0c\u5e76\u8003\u8651\u4f7f\u7528\u591a\u8fdb\u7a0b\u6216\u5176\u4ed6\u5e76\u53d1\u7f16\u7a0b\u65b9\u5f0f\u3002\u7406\u89e3\u5e76\u6b63\u786e\u4f7f\u7528\u7ebf\u7a0b\u540c\u6b65\u673a\u5236\uff0c\u53ef\u4ee5\u907f\u514d\u591a\u7ebf\u7a0b\u7f16\u7a0b\u4e2d\u7684\u5e38\u89c1\u95ee\u9898\uff0c\u5982\u6570\u636e\u7ade\u4e89\u548c\u6b7b\u9501\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3_3","title":"3. \u591a\u8fdb\u7a0b\u7f16\u7a0b","text":"<p>Python \u591a\u8fdb\u7a0b\u7f16\u7a0b\u4e3b\u8981\u901a\u8fc7 <code>multiprocessing</code> \u6a21\u5757\u6765\u5b9e\u73b0\u3002\u8be5\u6a21\u5757\u5141\u8bb8\u4f60\u521b\u5efa\u548c\u7ba1\u7406\u591a\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\uff0c\u4ece\u800c\u5b9e\u73b0\u771f\u6b63\u7684\u5e76\u884c\u8ba1\u7b97\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u9700\u8981\u5145\u5206\u5229\u7528\u591a\u6838 CPU \u7684\u4efb\u52a1\u3002\u5728\u591a\u8fdb\u7a0b\u7f16\u7a0b\u4e2d\uff0c\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff08IPC, Inter-Process Communication\uff09\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u65b9\u9762\uff0c\u7528\u4e8e\u5728\u4e0d\u540c\u7684\u8fdb\u7a0b\u4e4b\u95f4\u5171\u4eab\u6570\u636e\u6216\u540c\u6b65\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1_2","title":"1. \u4ec0\u4e48\u662f\u591a\u8fdb\u7a0b\u7f16\u7a0b\uff1f","text":"<ul> <li> <p>\u8fdb\u7a0b\uff08Process\uff09\uff1a\u8fdb\u7a0b\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6267\u884c\u5355\u5143\uff0c\u5177\u6709\u81ea\u5df1\u7684\u5185\u5b58\u7a7a\u95f4\u3001\u5168\u5c40\u53d8\u91cf\u548c\u5176\u4ed6\u7cfb\u7edf\u8d44\u6e90\u3002\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u8fdb\u7a0b\u6267\u884c\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u7684 CPU \u6838\u5fc3\u4e0a\u5e76\u884c\u8fd0\u884c\u591a\u4e2a\u8fdb\u7a0b\u3002</p> </li> <li> <p>\u7ebf\u7a0b\u4e0e\u8fdb\u7a0b\u7684\u533a\u522b\uff1a\u7ebf\u7a0b\u662f\u8fdb\u7a0b\u4e2d\u7684\u4e00\u4e2a\u6267\u884c\u8def\u5f84\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u548c\u8d44\u6e90\u3002\u8fdb\u7a0b\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u8fdb\u7a0b\u95f4\u901a\u4fe1\u9700\u8981\u4e13\u95e8\u7684\u673a\u5236\uff0c\u800c\u7ebf\u7a0b\u95f4\u5171\u4eab\u6570\u636e\u76f8\u5bf9\u5bb9\u6613\uff0c\u4f46\u9700\u8981\u89e3\u51b3\u540c\u6b65\u95ee\u9898\u3002</p> </li> <li> <p>GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\uff1aPython \u7684 GIL \u9650\u5236\u4e86\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c Python \u5b57\u8282\u7801\uff0c\u8fd9\u5bf9\u591a\u7ebf\u7a0b\u7684\u5e76\u884c\u6027\u80fd\u6709\u5f71\u54cd\u3002\u4f46\u591a\u8fdb\u7a0b\u53ef\u4ee5\u7ed5\u8fc7 GIL \u9650\u5236\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684 Python \u89e3\u91ca\u5668\u5b9e\u4f8b\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2_2","title":"2. \u57fa\u7840\u591a\u8fdb\u7a0b\u64cd\u4f5c","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#21_1","title":"2.1 \u521b\u5efa\u548c\u542f\u52a8\u8fdb\u7a0b","text":"<p><code>multiprocessing.Process</code> \u7c7b\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\u3002</p> <pre><code>import multiprocessing\n\ndef worker(num):\n    \"\"\"\u8fdb\u7a0b\u8981\u6267\u884c\u7684\u4efb\u52a1\"\"\"\n    print(f'Worker: {num}')\n\nif __name__ == '__main__':\n    processes = []\n    for i in range(5):\n        p = multiprocessing.Process(target=worker, args=(i,))\n        processes.append(p)\n        p.start()\n\n    for p in processes:\n        p.join()\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u521b\u5efa\u4e86 5 \u4e2a\u8fdb\u7a0b\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u6267\u884c <code>worker</code> \u51fd\u6570\u3002<code>start()</code> \u65b9\u6cd5\u7528\u4e8e\u542f\u52a8\u8fdb\u7a0b\uff0c<code>join()</code> \u65b9\u6cd5\u7528\u4e8e\u7b49\u5f85\u8fdb\u7a0b\u5b8c\u6210\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#22_1","title":"2.2 \u4f7f\u7528\u7c7b\u65b9\u6cd5\u521b\u5efa\u8fdb\u7a0b","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f <code>Process</code> \u7c7b\u5e76\u91cd\u5199 <code>run</code> \u65b9\u6cd5\u6765\u521b\u5efa\u81ea\u5b9a\u4e49\u8fdb\u7a0b\u7c7b\u3002</p> <pre><code>import multiprocessing\n\nclass MyProcess(multiprocessing.Process):\n    def __init__(self, num):\n        super().__init__()\n        self.num = num\n\n    def run(self):\n        print(f'Process: {self.num}')\n\nif __name__ == '__main__':\n    processes = []\n    for i in range(5):\n        p = MyProcess(i)\n        processes.append(p)\n        p.start()\n\n    for p in processes:\n        p.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3_4","title":"3. \u8fdb\u7a0b\u95f4\u901a\u4fe1","text":"<p>\u591a\u8fdb\u7a0b\u7f16\u7a0b\u4e2d\uff0c\u4e0d\u540c\u8fdb\u7a0b\u5177\u6709\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u56e0\u6b64\u9700\u8981\u4f7f\u7528\u7279\u5b9a\u7684\u673a\u5236\u8fdb\u884c\u8fdb\u7a0b\u95f4\u901a\u4fe1\u3002Python \u63d0\u4f9b\u4e86\u591a\u79cd IPC \u65b9\u5f0f\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#31-queue","title":"3.1 \u4f7f\u7528 <code>Queue</code>","text":"<p><code>multiprocessing.Queue</code> \u63d0\u4f9b\u4e86\u4e00\u4e2a\u8fdb\u7a0b\u5b89\u5168\u7684\u961f\u5217\uff0c\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u95f4\u8fdb\u884c\u6570\u636e\u4f20\u9012\u3002</p> <pre><code>import multiprocessing\nimport time\n\ndef producer(queue):\n    for i in range(5):\n        print(f'Producing {i}')\n        queue.put(i)\n        time.sleep(1)\n\ndef consumer(queue):\n    while True:\n        item = queue.get()\n        if item is None:  # \u9000\u51fa\u6761\u4ef6\n            break\n        print(f'Consuming {item}')\n\nif __name__ == '__main__':\n    q = multiprocessing.Queue()\n\n    p1 = multiprocessing.Process(target=producer, args=(q,))\n    p2 = multiprocessing.Process(target=consumer, args=(q,))\n\n    p1.start()\n    p2.start()\n\n    p1.join()\n    q.put(None)  # \u901a\u77e5\u6d88\u8d39\u8005\u8fdb\u7a0b\u7ed3\u675f\n    p2.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#32-pipe","title":"3.2 \u4f7f\u7528 <code>Pipe</code>","text":"<p><code>Pipe</code> \u63d0\u4f9b\u4e86\u4e00\u4e2a\u53cc\u5411\u7684\u901a\u4fe1\u901a\u9053\uff0c\u9002\u5408\u7b80\u5355\u7684\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p> <pre><code>import multiprocessing\n\ndef sender(pipe):\n    pipe.send(\"Hello from sender!\")\n    pipe.close()\n\ndef receiver(pipe):\n    msg = pipe.recv()\n    print(f'Received: {msg}')\n    pipe.close()\n\nif __name__ == '__main__':\n    parent_conn, child_conn = multiprocessing.Pipe()\n\n    p1 = multiprocessing.Process(target=sender, args=(child_conn,))\n    p2 = multiprocessing.Process(target=receiver, args=(parent_conn,))\n\n    p1.start()\n    p2.start()\n\n    p1.join()\n    p2.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#33-manager","title":"3.3 \u4f7f\u7528 <code>Manager</code> \u5171\u4eab\u590d\u6742\u6570\u636e","text":"<p><code>multiprocessing.Manager</code> \u662f Python \u6807\u51c6\u5e93 <code>multiprocessing</code> \u6a21\u5757\u4e2d\u7684\u4e00\u4e2a\u7c7b\uff0c\u7528\u4e8e\u5728\u591a\u8fdb\u7a0b\u4e4b\u95f4\u5171\u4eab\u6570\u636e\u3002<code>Manager</code> \u63d0\u4f9b\u4e86\u4e00\u79cd\u4fbf\u6377\u7684\u65b9\u5f0f\uff0c\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u5728\u5171\u4eab\u72b6\u6001\u4e0b\u5de5\u4f5c\uff0c\u800c\u4e0d\u9700\u8981\u624b\u52a8\u5904\u7406\u590d\u6742\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\uff0c\u5982\u7ba1\u9053\u6216\u961f\u5217\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-multiprocessingmanager","title":"1. <code>multiprocessing.Manager</code> \u7684\u6982\u8ff0","text":"<ul> <li>\u5171\u4eab\u6570\u636e: <code>Manager</code> \u53ef\u4ee5\u751f\u6210\u5404\u79cd\u7c7b\u578b\u7684\u5171\u4eab\u6570\u636e\u7ed3\u6784\uff0c\u5982\u5217\u8868\u3001\u5b57\u5178\u3001\u961f\u5217\u3001\u547d\u540d\u7a7a\u95f4\u3001\u9501\u7b49\u3002\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u88ab\u591a\u4e2a\u8fdb\u7a0b\u5b89\u5168\u5730\u5171\u4eab\u548c\u64cd\u4f5c\u3002</li> <li>\u8fdb\u7a0b\u5b89\u5168: <code>Manager</code> \u521b\u5efa\u7684\u5bf9\u8c61\u90fd\u662f\u8fdb\u7a0b\u5b89\u5168\u7684\uff0c\u610f\u5473\u7740\u5b83\u4eec\u53ef\u4ee5\u88ab\u591a\u4e2a\u8fdb\u7a0b\u5e76\u53d1\u8bbf\u95ee\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u6570\u636e\u7ade\u4e89\u95ee\u9898\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2_3","title":"2. \u5e38\u7528\u65b9\u6cd5","text":"<ul> <li><code>Manager()</code>: \u521b\u5efa\u4e00\u4e2a <code>Manager</code> \u5bf9\u8c61\u3002\u901a\u8fc7\u8be5\u5bf9\u8c61\u53ef\u4ee5\u521b\u5efa\u5404\u79cd\u5171\u4eab\u6570\u636e\u7ed3\u6784\u3002</li> <li><code>list()</code>: \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u7684\u5217\u8868\u5bf9\u8c61\u3002</li> <li><code>dict()</code>: \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u7684\u5b57\u5178\u5bf9\u8c61\u3002</li> <li><code>Queue()</code>: \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u7684\u961f\u5217\u5bf9\u8c61\u3002</li> <li><code>Namespace()</code>: \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u7684\u547d\u540d\u7a7a\u95f4\u5bf9\u8c61\uff0c\u7c7b\u4f3c\u4e8e\u5bf9\u8c61\uff0c\u5141\u8bb8\u52a8\u6001\u5730\u6dfb\u52a0\u5c5e\u6027\u3002</li> <li><code>Lock()</code>: \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u7684\u9501\u5bf9\u8c61\uff0c\u7528\u4e8e\u63a7\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3_5","title":"3. \u793a\u4f8b\u4ee3\u7801","text":"<p>\u4ee5\u4e0b\u662f\u4f7f\u7528 <code>multiprocessing.Manager</code> \u7684\u4e00\u4e9b\u793a\u4f8b\uff0c\u5c55\u793a\u5982\u4f55\u5728\u591a\u8fdb\u7a0b\u4e2d\u5171\u4eab\u6570\u636e\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_10","title":"# \u5171\u4eab\u5217\u8868\u793a\u4f8b","text":"<pre><code>import multiprocessing\n\ndef worker(shared_list, index, value):\n    shared_list[index] = value\n\nif __name__ == '__main__':\n    with multiprocessing.Manager() as manager:\n        shared_list = manager.list([0] * 5)  # \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u5217\u8868\n        processes = []\n\n        for i in range(5):\n            p = multiprocessing.Process(target=worker, args=(shared_list, i, i*10))\n            processes.append(p)\n            p.start()\n\n        for p in processes:\n            p.join()\n\n        print(shared_list)  # \u8f93\u51fa: [0, 10, 20, 30, 40]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_11","title":"# \u5171\u4eab\u5b57\u5178\u793a\u4f8b","text":"<pre><code>import multiprocessing\n\ndef worker(shared_dict, key, value):\n    shared_dict[key] = value\n\nif __name__ == '__main__':\n    with multiprocessing.Manager() as manager:\n        shared_dict = manager.dict()  # \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u5b57\u5178\n        processes = []\n\n        for i in range(5):\n            p = multiprocessing.Process(target=worker, args=(shared_dict, f'key{i}', i*10))\n            processes.append(p)\n            p.start()\n\n        for p in processes:\n            p.join()\n\n        print(shared_dict)  # \u8f93\u51fa: {'key0': 0, 'key1': 10, 'key2': 20, 'key3': 30, 'key4': 40}\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_12","title":"# \u5171\u4eab\u547d\u540d\u7a7a\u95f4\u793a\u4f8b","text":"<pre><code>import multiprocessing\n\ndef worker(namespace, value):\n    namespace.value = value\n\nif __name__ == '__main__':\n    with multiprocessing.Manager() as manager:\n        namespace = manager.Namespace()  # \u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u547d\u540d\u7a7a\u95f4\n        namespace.value = 0\n\n        processes = []\n\n        for i in range(5):\n            p = multiprocessing.Process(target=worker, args=(namespace, i*10))\n            processes.append(p)\n            p.start()\n\n        for p in processes:\n            p.join()\n\n        print(namespace.value)  # \u8f93\u51fa: 40 (\u6700\u540e\u4e00\u4e2a\u8fdb\u7a0b\u5199\u5165\u7684\u503c)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4_4","title":"4. \u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5171\u4eab\u72b6\u6001\u7ba1\u7406: \u5728\u591a\u8fdb\u7a0b\u7f16\u7a0b\u4e2d\uff0c<code>Manager</code> \u975e\u5e38\u9002\u5408\u7528\u4e8e\u7ba1\u7406\u5171\u4eab\u72b6\u6001\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u4e2a\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u578b\u4e2d\uff0c<code>Manager</code> \u53ef\u4ee5\u7528\u4e8e\u7ba1\u7406\u5171\u4eab\u961f\u5217\u3002</li> <li>\u8fdb\u7a0b\u95f4\u901a\u4fe1: <code>Manager</code> \u63d0\u4f9b\u7684\u5171\u4eab\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u5728\u591a\u4e2a\u8fdb\u7a0b\u95f4\u5b89\u5168\u901a\u4fe1\uff0c\u907f\u514d\u624b\u52a8\u5904\u7406\u7ba1\u9053\u3001\u961f\u5217\u7b49\u4f4e\u7ea7\u901a\u4fe1\u65b9\u5f0f\u3002</li> <li>\u590d\u6742\u540c\u6b65: \u4f7f\u7528 <code>Manager</code> \u521b\u5efa\u7684\u9501\u5bf9\u8c61\u53ef\u4ee5\u5728\u591a\u4e2a\u8fdb\u7a0b\u95f4\u5171\u4eab\uff0c\u7528\u4e8e\u63a7\u5236\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u907f\u514d\u7ade\u6001\u6761\u4ef6\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5_2","title":"5. \u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u6027\u80fd\u95ee\u9898: <code>Manager</code> \u63d0\u4f9b\u7684\u5171\u4eab\u5bf9\u8c61\u662f\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u8fdb\u7a0b\u4e2d\u7ba1\u7406\u7684\uff0c\u56e0\u6b64\u6bcf\u6b21\u8bbf\u95ee\u8fd9\u4e9b\u5bf9\u8c61\u90fd\u4f1a\u6d89\u53ca\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff0c\u53ef\u80fd\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\u3002\u5bf9\u4e8e\u9700\u8981\u9ad8\u6027\u80fd\u7684\u5e94\u7528\uff0c\u624b\u52a8\u4f7f\u7528 <code>Queue</code> \u6216 <code>Pipe</code> \u53ef\u80fd\u4f1a\u66f4\u9ad8\u6548\u3002</li> <li>\u53ef\u6269\u5c55\u6027: \u867d\u7136 <code>Manager</code> \u63d0\u4f9b\u4e86\u6613\u7528\u7684\u5171\u4eab\u5bf9\u8c61\uff0c\u4f46\u5728\u975e\u5e38\u590d\u6742\u6216\u5927\u89c4\u6a21\u7684\u5e76\u884c\u4efb\u52a1\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u52a0\u5b9a\u5236\u5316\u7684\u540c\u6b65\u673a\u5236\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_13","title":"\u603b\u7ed3","text":"<p><code>multiprocessing.Manager</code> \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u5141\u8bb8\u5728 Python \u7684\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\u8f7b\u677e\u5171\u4eab\u548c\u7ba1\u7406\u6570\u636e\u7ed3\u6784\u3002\u5b83\u7b80\u5316\u4e86\u591a\u8fdb\u7a0b\u540c\u6b65\u7684\u5b9e\u73b0\uff0c\u9002\u7528\u4e8e\u5927\u591a\u6570\u9700\u8981\u5171\u4eab\u72b6\u6001\u7684\u5e76\u884c\u4efb\u52a1\u3002\u7136\u800c\uff0c\u5728\u5bf9\u6027\u80fd\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u8003\u8651\u4f7f\u7528\u5176\u4ed6\u66f4\u52a0\u8f7b\u91cf\u7ea7\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4_5","title":"4. \u8fdb\u7a0b\u540c\u6b65","text":"<p>\u5728\u591a\u8fdb\u7a0b\u73af\u5883\u4e0b\uff0c\u5f53\u591a\u4e2a\u8fdb\u7a0b\u9700\u8981\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u6570\u636e\u7ade\u4e89\uff0c\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u3002<code>multiprocessing</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u591a\u79cd\u540c\u6b65\u673a\u5236\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#41-lock","title":"4.1 \u4f7f\u7528 <code>Lock</code> \u8fdb\u884c\u540c\u6b65","text":"<p><code>multiprocessing.Lock</code> \u53ef\u4ee5\u786e\u4fdd\u4e00\u6b21\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\uff0c\u4ece\u800c\u907f\u514d\u6570\u636e\u7ade\u4e89\u3002</p> <pre><code>import multiprocessing\n\nlock = multiprocessing.Lock()\ncounter = 0\n\ndef increment_counter(lock):\n    global counter\n    for _ in range(100000):\n        with lock:\n            counter += 1\n\nif __name__ == '__main__':\n    processes = []\n    for _ in range(2):\n        p = multiprocessing.Process(target=increment_counter, args=(lock,))\n        processes.append(p)\n        p.start()\n\n    for p in processes:\n        p.join()\n\n    print(counter)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#42-event","title":"4.2 \u4f7f\u7528 <code>Event</code> \u540c\u6b65\u8fdb\u7a0b","text":"<p><code>Event</code> \u662f\u4e00\u79cd\u7b80\u5355\u7684\u4fe1\u53f7\u673a\u5236\uff0c\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u7b49\u5f85\u67d0\u4e2a\u4e8b\u4ef6\u53d1\u751f\u3002</p> <pre><code>import multiprocessing\nimport time\n\ndef wait_for_event(e):\n    print('wait_for_event: waiting for event to start')\n    e.wait()\n    print('wait_for_event: event received, continuing')\n\ndef start_event(e):\n    print('start_event: sleeping before starting event')\n    time.sleep(3)\n    e.set()\n\nif __name__ == '__main__':\n    event = multiprocessing.Event()\n\n    p1 = multiprocessing.Process(target=wait_for_event, args=(event,))\n    p2 = multiprocessing.Process(target=start_event, args=(event,))\n\n    p1.start()\n    p2.start()\n\n    p1.join()\n    p2.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5-pool","title":"5. \u8fdb\u7a0b\u6c60\uff08Pool\uff09","text":"<p>\u8fdb\u7a0b\u6c60\uff08<code>multiprocessing.Pool</code>\uff09\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u9ad8\u6548\u7684\u8fdb\u7a0b\u7ba1\u7406\u65b9\u5f0f\uff0c\u5c24\u5176\u5728\u9700\u8981\u5904\u7406\u5927\u91cf\u5c0f\u4efb\u52a1\u65f6\u975e\u5e38\u6709\u7528\u3002</p> <pre><code>import multiprocessing\n\ndef square(x):\n    return x * x\n\nif __name__ == '__main__':\n    with multiprocessing.Pool(processes=4) as pool:\n        results = pool.map(square, range(10))\n    print(results)\n</code></pre> <p><code>Pool.map</code> \u51fd\u6570\u4f1a\u81ea\u52a8\u5206\u914d\u4efb\u52a1\u5230\u8fdb\u7a0b\u6c60\u4e2d\u7684\u591a\u4e2a\u8fdb\u7a0b\u6267\u884c\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\u5217\u8868\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#6-value-array","title":"6. \u4f7f\u7528 <code>Value</code> \u548c <code>Array</code> \u5171\u4eab\u6570\u636e","text":"<p><code>multiprocessing.Value</code> \u548c <code>Array</code> \u5141\u8bb8\u5728\u8fdb\u7a0b\u95f4\u5171\u4eab\u7b80\u5355\u7684\u6570\u636e\u7c7b\u578b\uff08\u5982\u6574\u6570\u3001\u6d6e\u70b9\u6570\u548c\u6570\u7ec4\uff09\u3002</p> <pre><code>import multiprocessing\n\ndef increment_value(val, arr):\n    val.value += 1\n    for i in range(len(arr)):\n        arr[i] += 1\n\nif __name__ == '__main__':\n    v = multiprocessing.Value('i', 0)  # 'i' \u8868\u793a\u6574\u578b\n    a = multiprocessing.Array('i', [1, 2, 3, 4])\n\n    processes = []\n    for _ in range(2):\n        p = multiprocessing.Process(target=increment_value, args=(v, a))\n        processes.append(p)\n        p.start()\n\n    for p in processes:\n        p.join()\n\n    print(v.value)  # \u8f93\u51fa 2\n    print(a[:])     # \u8f93\u51fa [3, 4, 5, 6]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#7","title":"7. \u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p>\u6027\u80fd\u5f00\u9500\uff1a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u3001\u8fdb\u7a0b\u7684\u521b\u5efa\u548c\u9500\u6bc1\u90fd\u4f1a\u5e26\u6765\u6027\u80fd\u5f00\u9500\u3002\u56e0\u6b64\uff0c\u591a\u8fdb\u7a0b\u7f16\u7a0b\u9002\u5408\u4efb\u52a1\u8f83\u91cd\u4e14\u5177\u6709\u5e76\u884c\u8ba1\u7b97\u9700\u6c42\u7684\u573a\u666f\u3002</p> </li> <li> <p>\u6570\u636e\u4e00\u81f4\u6027\uff1a\u591a\u8fdb\u7a0b\u7f16\u7a0b\u4e2d\u5171\u4eab\u6570\u636e\u65f6\u9700\u7279\u522b\u6ce8\u610f\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898\uff0c\u4f7f\u7528\u5408\u9002\u7684\u540c\u6b65\u673a\u5236\u786e\u4fdd\u6570\u636e\u7684\u6b63\u786e\u6027\u3002</p> </li> <li> <p>\u6b7b\u9501\u95ee\u9898\uff1a\u907f\u514d\u5728\u591a\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u591a\u628a\u9501\u6216\u5d4c\u5957\u9501\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6b7b\u9501\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#8","title":"8. \u5c0f\u7ed3","text":"<p>Python \u7684 <code>multiprocessing</code> \u6a21\u5757\u4e3a\u591a\u8fdb\u7a0b\u7f16\u7a0b\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5de5\u5177\uff0c\u4ece\u7b80\u5355\u7684\u8fdb\u7a0b\u521b\u5efa\u5230\u590d\u6742\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u548c\u540c\u6b65\u3002\u901a\u8fc7\u4f7f\u7528 <code>Queue</code>\u3001<code>Pipe</code>\u3001<code>Manager</code> \u7b49\u5de5\u5177\uff0c\u4f60\u53ef\u4ee5\u5728\u591a\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u6709\u6548\u5730\u4f20\u9012\u6570\u636e\u548c\u6d88\u606f\u3002\u901a\u8fc7 <code>Lock</code>\u3001<code>Event</code> \u7b49\u540c\u6b65\u673a\u5236\uff0c\u4f60\u53ef\u4ee5\u786e\u4fdd\u5728\u5e76\u53d1\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\u4e0d\u4f1a\u51fa\u73b0\u6570\u636e\u7ade\u4e89\u95ee\u9898\u3002</p> <p>\u591a\u8fdb\u7a0b\u7f16\u7a0b\u5bf9\u4e8e\u5904\u7406 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u548c\u9700\u8981\u5e76\u884c\u8ba1\u7b97\u7684\u573a\u666f\u975e\u5e38\u6709\u6548\u3002\u5e0c\u671b\u8fd9\u7bc7\u8bb2\u89e3\u80fd\u591f\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u548c\u5e94\u7528 Python \u7684\u591a\u8fdb\u7a0b\u7f16\u7a0b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_14","title":"\u56db\u3001\u5f02\u6b65\u7f16\u7a0b","text":"<p>\u5f02\u6b65\u7f16\u7a0b\u662f\u4e00\u79cd\u5904\u7406\u5e76\u53d1\u4efb\u52a1\u7684\u7f16\u7a0b\u65b9\u5f0f\uff0c\u65e8\u5728\u9ad8\u6548\u5730\u6267\u884c I/O \u64cd\u4f5c\u6216\u5176\u4ed6\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\uff0c\u800c\u65e0\u9700\u963b\u585e\u4e3b\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u3002\u4e0e\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u4e0d\u540c\uff0c\u5f02\u6b65\u7f16\u7a0b\u901a\u8fc7\u975e\u963b\u585e\u64cd\u4f5c\u6765\u63d0\u9ad8\u7a0b\u5e8f\u7684\u54cd\u5e94\u6027\u548c\u6027\u80fd\u3002Python \u63d0\u4f9b\u4e86\u591a\u4e2a\u5de5\u5177\u548c\u5e93\u6765\u5b9e\u73b0\u5f02\u6b65\u7f16\u7a0b\uff0c\u6700\u4e3b\u8981\u7684\u662f <code>asyncio</code> \u6a21\u5757\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1_3","title":"1. \u5f02\u6b65\u7f16\u7a0b\u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#11_3","title":"1.1 \u540c\u6b65\u4e0e\u5f02\u6b65","text":"<ul> <li> <p>\u540c\u6b65\uff08Synchronous\uff09\uff1a\u7a0b\u5e8f\u5728\u6267\u884c\u4e00\u4e2a\u64cd\u4f5c\u65f6\uff0c\u5fc5\u987b\u7b49\u5f85\u5176\u5b8c\u6210\u540e\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u6b65\u3002\u8fd9\u79cd\u65b9\u5f0f\u7b80\u5355\u6613\u7406\u89e3\uff0c\u4f46\u5728\u7b49\u5f85\u5916\u90e8\u8d44\u6e90\uff08\u5982\u6587\u4ef6\u3001\u7f51\u7edc\u8bf7\u6c42\uff09\u65f6\u4f1a\u5bfc\u81f4\u963b\u585e\uff0c\u964d\u4f4e\u7a0b\u5e8f\u7684\u6027\u80fd\u3002</p> </li> <li> <p>\u5f02\u6b65\uff08Asynchronous\uff09\uff1a\u7a0b\u5e8f\u5728\u6267\u884c\u4e00\u4e2a\u64cd\u4f5c\u65f6\uff0c\u4e0d\u5fc5\u7b49\u5f85\u5176\u5b8c\u6210\uff0c\u800c\u662f\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002\u5f53\u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u4f1a\u901a\u77e5\u7a0b\u5e8f\u8fdb\u884c\u540e\u7eed\u5904\u7406\u3002\u5f02\u6b65\u7f16\u7a0b\u901a\u8fc7\u907f\u514d\u963b\u585e\uff0c\u63d0\u9ad8\u4e86\u5e76\u53d1\u4efb\u52a1\u7684\u6267\u884c\u6548\u7387\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#12_3","title":"1.2 \u963b\u585e\u4e0e\u975e\u963b\u585e","text":"<ul> <li> <p>\u963b\u585e\uff08Blocking\uff09\uff1a\u8c03\u7528\u67d0\u4e2a\u64cd\u4f5c\u65f6\uff0c\u7a0b\u5e8f\u6682\u505c\u6267\u884c\uff0c\u76f4\u5230\u64cd\u4f5c\u5b8c\u6210\u3002</p> </li> <li> <p>\u975e\u963b\u585e\uff08Non-blocking\uff09\uff1a\u8c03\u7528\u67d0\u4e2a\u64cd\u4f5c\u65f6\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u6682\u505c\u6267\u884c\uff0c\u53ef\u4ee5\u7acb\u5373\u7ee7\u7eed\u505a\u5176\u4ed6\u4e8b\u60c5\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#13_1","title":"1.3 \u56de\u8c03\u4e0e\u4e8b\u4ef6\u5faa\u73af","text":"<ul> <li> <p>\u56de\u8c03\uff08Callback\uff09\uff1a\u5728\u5f02\u6b65\u7f16\u7a0b\u4e2d\uff0c\u56de\u8c03\u51fd\u6570\u662f\u5728\u4efb\u52a1\u5b8c\u6210\u540e\u81ea\u52a8\u8c03\u7528\u7684\u51fd\u6570\u3002\u4f20\u7edf\u7684\u5f02\u6b65\u7f16\u7a0b\u5e38\u4f7f\u7528\u56de\u8c03\u6765\u5904\u7406\u5f02\u6b65\u4efb\u52a1\u7684\u7ed3\u679c\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u5faa\u73af\uff08Event Loop\uff09\uff1a\u4e8b\u4ef6\u5faa\u73af\u662f\u5f02\u6b65\u7f16\u7a0b\u7684\u6838\u5fc3\uff0c\u8d1f\u8d23\u7ba1\u7406\u548c\u8c03\u5ea6\u5f02\u6b65\u4efb\u52a1\u3002\u5b83\u4e0d\u65ad\u68c0\u67e5\u5f85\u6267\u884c\u7684\u4efb\u52a1\uff0c\u5e76\u5728\u4efb\u52a1\u5b8c\u6210\u65f6\u89e6\u53d1\u76f8\u5e94\u7684\u56de\u8c03\u6216\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u6b65\u9aa4\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-python_1","title":"2. Python \u4e2d\u7684\u5f02\u6b65\u7f16\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#21-asyncio","title":"2.1 <code>asyncio</code> \u6a21\u5757","text":"<p>Python \u7684 <code>asyncio</code> \u6a21\u5757\u662f\u6784\u5efa\u5f02\u6b65\u5e94\u7528\u7684\u57fa\u7840\u3002\u5b83\u63d0\u4f9b\u4e86\u4e8b\u4ef6\u5faa\u73af\u3001\u534f\u7a0b\u3001\u4efb\u52a1\u3001\u4ee5\u53ca\u5f02\u6b65 I/O \u64cd\u4f5c\u7684\u652f\u6301\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#211-coroutine","title":"2.1.1 \u534f\u7a0b\uff08Coroutine\uff09","text":"<p>\u534f\u7a0b\u662f Python \u4e2d\u7684\u4e00\u79cd\u7279\u6b8a\u51fd\u6570\uff0c\u7528\u4e8e\u5b9e\u73b0\u5f02\u6b65\u64cd\u4f5c\u3002\u5b9a\u4e49\u534f\u7a0b\u9700\u8981\u4f7f\u7528 <code>async def</code> \u8bed\u6cd5\uff0c\u5e76\u901a\u8fc7 <code>await</code> \u5173\u952e\u5b57\u6765\u6302\u8d77\u534f\u7a0b\u7684\u6267\u884c\uff0c\u4ee5\u7b49\u5f85\u5f02\u6b65\u64cd\u4f5c\u5b8c\u6210\u3002</p> <pre><code>import asyncio\n\nasync def say_hello():\n    print(\"Hello\")\n    await asyncio.sleep(1)\n    print(\"World\")\n\nasyncio.run(say_hello())\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>say_hello</code> \u662f\u4e00\u4e2a\u534f\u7a0b\u51fd\u6570\uff0c\u5b83\u5728\u6253\u5370 \"Hello\" \u540e\uff0c\u901a\u8fc7 <code>await asyncio.sleep(1)</code> \u6302\u8d77\u81ea\u5df1 1 \u79d2\u949f\uff0c\u7136\u540e\u518d\u6253\u5370 \"World\"\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#212-event-loop","title":"2.1.2 \u4e8b\u4ef6\u5faa\u73af\uff08Event Loop\uff09","text":"<p>\u4e8b\u4ef6\u5faa\u73af\u662f\u7ba1\u7406\u548c\u8c03\u5ea6\u534f\u7a0b\u7684\u6838\u5fc3\u7ec4\u4ef6\u3002<code>asyncio.run()</code> \u51fd\u6570\u4f1a\u542f\u52a8\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u5e76\u6267\u884c\u6307\u5b9a\u7684\u534f\u7a0b\u3002</p> <pre><code>async def main():\n    print(\"Start\")\n    await asyncio.sleep(1)\n    print(\"End\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#213","title":"2.1.3 \u521b\u5efa\u548c\u8c03\u5ea6\u4efb\u52a1","text":"<p>\u4efb\u52a1\u662f\u534f\u7a0b\u7684\u5305\u88c5\u5668\uff0c\u5b83\u5c06\u534f\u7a0b\u63d0\u4ea4\u7ed9\u4e8b\u4ef6\u5faa\u73af\u4ee5\u4fbf\u6267\u884c\u3002\u901a\u8fc7 <code>asyncio.create_task()</code> \u6216 <code>loop.create_task()</code> \u53ef\u4ee5\u663e\u5f0f\u5730\u521b\u5efa\u4efb\u52a1\u3002</p> <pre><code>import asyncio\n\nasync def task(name, duration):\n    print(f\"Task {name} started\")\n    await asyncio.sleep(duration)\n    print(f\"Task {name} finished\")\n\nasync def main():\n    task1 = asyncio.create_task(task(\"A\", 2))\n    task2 = asyncio.create_task(task(\"B\", 1))\n\n    await task1\n    await task2\n\nasyncio.run(main())\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4e24\u4e2a\u4efb\u52a1 <code>task1</code> \u548c <code>task2</code> \u4f1a\u5e76\u53d1\u6267\u884c\uff0c\u6700\u7ec8\u8f93\u51fa\u987a\u5e8f\u53ef\u80fd\u4e3a \"Task A started\" -&gt; \"Task B started\" -&gt; \"Task B finished\" -&gt; \"Task A finished\"\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#214","title":"2.1.4 \u5e76\u53d1\u6267\u884c\u591a\u4e2a\u4efb\u52a1","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>await asyncio.gather()</code> \u6765\u5e76\u53d1\u6267\u884c\u591a\u4e2a\u534f\u7a0b\u3002</p> <pre><code>import asyncio\n\nasync def task(name, duration):\n    print(f\"Task {name} started\")\n    await asyncio.sleep(duration)\n    print(f\"Task {name} finished\")\n\nasync def main():\n    await asyncio.gather(\n        task(\"A\", 2),\n        task(\"B\", 1),\n        task(\"C\", 3)\n    )\n\nasyncio.run(main())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#215","title":"2.1.5 \u8d85\u65f6\u4e0e\u53d6\u6d88\u4efb\u52a1","text":"<p><code>asyncio.wait_for()</code> \u53ef\u4ee5\u8bbe\u7f6e\u534f\u7a0b\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5982\u679c\u8d85\u65f6\u5219\u629b\u51fa <code>asyncio.TimeoutError</code> \u5f02\u5e38\u3002</p> <pre><code>import asyncio\n\nasync def long_task():\n    await asyncio.sleep(5)\n    return \"Finished\"\n\nasync def main():\n    try:\n        result = await asyncio.wait_for(long_task(), timeout=3)\n        print(result)\n    except asyncio.TimeoutError:\n        print(\"Task timed out\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3-io","title":"3. \u5f02\u6b65 I/O \u64cd\u4f5c","text":"<p>\u5f02\u6b65\u7f16\u7a0b\u7684\u4e00\u4e2a\u91cd\u8981\u5e94\u7528\u573a\u666f\u662f I/O \u64cd\u4f5c\uff0c\u5982\u6587\u4ef6\u8bfb\u5199\u3001\u7f51\u7edc\u8bf7\u6c42\u7b49\u3002<code>asyncio</code> \u63d0\u4f9b\u4e86\u5f02\u6b65\u7684 I/O \u64cd\u4f5c\uff0c\u907f\u514d\u5728\u7b49\u5f85 I/O \u5b8c\u6210\u65f6\u963b\u585e\u4e8b\u4ef6\u5faa\u73af\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#31_1","title":"3.1 \u5f02\u6b65\u6587\u4ef6\u64cd\u4f5c","text":"<p>Python 3.8 \u5f15\u5165\u4e86 <code>aiofiles</code> \u5e93\uff0c\u5b83\u5141\u8bb8\u4f60\u5f02\u6b65\u8bfb\u5199\u6587\u4ef6\u3002</p> <pre><code>import asyncio\nimport aiofiles\n\nasync def async_write_read():\n    async with aiofiles.open('example.txt', mode='w') as f:\n        await f.write('Hello, world!')\n\n    async with aiofiles.open('example.txt', mode='r') as f:\n        content = await f.read()\n        print(content)\n\nasyncio.run(async_write_read())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#32","title":"3.2 \u5f02\u6b65\u7f51\u7edc\u64cd\u4f5c","text":"<p><code>aiohttp</code> \u662f\u4e00\u4e2a\u57fa\u4e8e <code>asyncio</code> \u7684\u5f02\u6b65 HTTP \u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u5e93\u3002</p> <pre><code>import aiohttp\nimport asyncio\n\nasync def fetch(url):\n    async with aiohttp.ClientSession() as session:\n        async with session.get(url) as response:\n            return await response.text()\n\nasync def main():\n    html = await fetch('https://www.example.com')\n    print(html)\n\nasyncio.run(main())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4_6","title":"4. \u9ad8\u7ea7\u5f02\u6b65\u7f16\u7a0b\u6982\u5ff5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#41_1","title":"4.1 \u5f02\u6b65\u751f\u6210\u5668","text":"<p>\u5f02\u6b65\u751f\u6210\u5668\u662f\u751f\u6210\u5668\u7684\u5f02\u6b65\u7248\u672c\uff0c\u5141\u8bb8\u4f60\u5728 <code>async for</code> \u5faa\u73af\u4e2d\u4f7f\u7528 <code>await</code>\u3002</p> <pre><code>import asyncio\n\nasync def async_generator():\n    for i in range(5):\n        await asyncio.sleep(1)\n        yield i\n\nasync def main():\n    async for value in async_generator():\n        print(value)\n\nasyncio.run(main())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#42","title":"4.2 \u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>\u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u5141\u8bb8\u4f60\u5728 <code>async with</code> \u8bed\u53e5\u4e2d\u4f7f\u7528 <code>await</code>\uff0c\u7528\u4e8e\u5f02\u6b65\u5730\u7ba1\u7406\u8d44\u6e90\u3002</p> <pre><code>import asyncio\n\nclass AsyncContextManager:\n    async def __aenter__(self):\n        print('Entering context')\n        await asyncio.sleep(1)\n        return self\n\n    async def __aexit__(self, exc_type, exc, tb):\n        print('Exiting context')\n        await asyncio.sleep(1)\n\nasync def main():\n    async with AsyncContextManager() as manager:\n        print('Inside context')\n\nasyncio.run(main())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5_3","title":"5. \u5f02\u6b65\u7f16\u7a0b\u7684\u4f18\u70b9\u4e0e\u7f3a\u70b9","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#51","title":"5.1 \u4f18\u70b9","text":"<ul> <li>\u9ad8\u6548\u7684 I/O \u64cd\u4f5c\uff1a\u5f02\u6b65\u7f16\u7a0b\u80fd\u591f\u5728\u7b49\u5f85 I/O \u64cd\u4f5c\u65f6\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u963b\u585e\u3002</li> <li>\u9002\u5408 I/O \u5bc6\u96c6\u578b\u4efb\u52a1\uff1a\u5f02\u6b65\u7f16\u7a0b\u7279\u522b\u9002\u5408\u5904\u7406\u5927\u91cf\u7684 I/O \u64cd\u4f5c\uff0c\u5982\u7f51\u7edc\u8bf7\u6c42\u3001\u6587\u4ef6\u8bfb\u5199\u7b49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#52_1","title":"5.2 \u7f3a\u70b9","text":"<ul> <li>\u590d\u6742\u6027\u589e\u52a0\uff1a\u5f02\u6b65\u7f16\u7a0b\u7684\u4ee3\u7801\u903b\u8f91\u6bd4\u540c\u6b65\u4ee3\u7801\u66f4\u590d\u6742\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u9519\u8bef\u548c\u53d6\u6d88\u4efb\u52a1\u65f6\u3002</li> <li>\u96be\u4ee5\u8c03\u8bd5\uff1a\u7531\u4e8e\u5f02\u6b65\u4ee3\u7801\u7684\u975e\u7ebf\u6027\u6267\u884c\uff0c\u8c03\u8bd5\u548c\u8ffd\u8e2a\u9519\u8bef\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#6_2","title":"6. \u5c0f\u7ed3","text":"<p>Python \u7684\u5f02\u6b65\u7f16\u7a0b\u63d0\u4f9b\u4e86\u4e00\u79cd\u9ad8\u6548\u5904\u7406\u5e76\u53d1\u4efb\u52a1\u7684\u65b9\u5f0f\uff0c\u7279\u522b\u9002\u7528\u4e8e I/O \u5bc6\u96c6\u578b\u4efb\u52a1\u3002\u901a\u8fc7 <code>asyncio</code> \u6a21\u5757\uff0cPython \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5f02\u6b65\u7f16\u7a0b\u652f\u6301\uff0c\u5305\u62ec\u534f\u7a0b\u3001\u4efb\u52a1\u3001\u4e8b\u4ef6\u5faa\u73af\u3001\u4ee5\u53ca\u5f02\u6b65 I/O \u64cd\u4f5c\u3002\u5c3d\u7ba1\u5f02\u6b65\u7f16\u7a0b\u53ef\u80fd\u589e\u52a0\u4ee3\u7801\u590d\u6742\u6027\uff0c\u4f46\u5728\u9700\u8981\u5904\u7406\u5927\u91cf\u5e76\u53d1\u64cd\u4f5c\u7684\u573a\u666f\u4e0b\uff0c\u5b83\u7684\u4f18\u70b9\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u7406\u89e3\u5e76\u638c\u63e1\u5f02\u6b65\u7f16\u7a0b\u6280\u5de7\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7f16\u5199\u66f4\u9ad8\u6548\u3001\u66f4\u54cd\u5e94\u7684 Python \u7a0b\u5e8f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#io","title":"IO\u6a21\u5f0f","text":"<p>I/O\uff08\u8f93\u5165/\u8f93\u51fa\uff09\u6a21\u5f0f\u662f\u64cd\u4f5c\u7cfb\u7edf\u548c\u7a0b\u5e8f\u4e0e\u786c\u4ef6\u8bbe\u5907\uff08\u5982\u78c1\u76d8\u3001\u7f51\u7edc\u3001\u7ec8\u7aef\u7b49\uff09\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\u7684\u65b9\u5f0f\u3002\u5728\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0cI/O \u64cd\u4f5c\u662f\u975e\u5e38\u5173\u952e\u7684\uff0c\u56e0\u4e3a\u5b83\u6d89\u53ca\u5230\u6570\u636e\u7684\u8bfb\u53d6\u548c\u5199\u5165\uff0c\u76f4\u63a5\u5f71\u54cd\u5230\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u54cd\u5e94\u80fd\u529b\u3002</p> <p>\u5728\u64cd\u4f5c\u7cfb\u7edf\u548c\u7f16\u7a0b\u4e2d\uff0cI/O \u6a21\u5f0f\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-io-blocking-io","title":"1. \u963b\u585e I/O (Blocking I/O)","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_15","title":"\u6982\u5ff5","text":"<ul> <li>\u5b9a\u4e49: \u5728\u963b\u585e I/O \u6a21\u5f0f\u4e0b\uff0c\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u6267\u884c I/O \u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u64cd\u4f5c\u65e0\u6cd5\u7acb\u5373\u5b8c\u6210\uff0c\u8fdb\u7a0b\u5c06\u88ab\u963b\u585e\uff0c\u76f4\u5230\u64cd\u4f5c\u5b8c\u6210\u4e3a\u6b62\u3002\u6b64\u65f6\uff0c\u8fdb\u7a0b\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u65e0\u6cd5\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\u3002</li> <li>\u7279\u70b9:</li> <li>\u7b80\u5355\u6613\u7528\uff0c\u4ee3\u7801\u7f16\u5199\u548c\u7406\u89e3\u8f83\u4e3a\u76f4\u89c2\u3002</li> <li>\u7531\u4e8e\u8fdb\u7a0b\u88ab\u963b\u585e\uff0c\u8d44\u6e90\u5229\u7528\u7387\u8f83\u4f4e\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u591a\u4e2a I/O \u8bf7\u6c42\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u74f6\u9888\u3002</li> <li>\u5e94\u7528\u573a\u666f: \u5e38\u7528\u4e8e\u7b80\u5355\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5982\u6587\u4ef6\u8bfb\u53d6\u3001\u57fa\u672c\u7f51\u7edc\u901a\u4fe1\u7b49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_16","title":"\u793a\u4f8b","text":"<p>\u5047\u8bbe\u4f60\u9700\u8981\u8bfb\u53d6\u4e00\u4e2a\u6587\u4ef6\u5185\u5bb9\uff0c\u4f7f\u7528\u963b\u585e I/O \u6a21\u5f0f\u7684\u4ee3\u7801\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>with open('example.txt', 'r') as file:\n    data = file.read()  # \u963b\u585e\u7b49\u5f85\u6570\u636e\u8bfb\u53d6\u5b8c\u6210\n</code></pre> <p>\u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c<code>read</code> \u64cd\u4f5c\u4f1a\u963b\u585e\u8fdb\u7a0b\uff0c\u76f4\u5230\u6587\u4ef6\u8bfb\u53d6\u5b8c\u6210\u4e3a\u6b62\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-io-non-blocking-io","title":"2. \u975e\u963b\u585e I/O (Non-blocking I/O)","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_17","title":"\u6982\u5ff5","text":"<ul> <li>\u5b9a\u4e49: \u5728\u975e\u963b\u585e I/O \u6a21\u5f0f\u4e0b\uff0cI/O \u64cd\u4f5c\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u800c\u4e0d\u7ba1\u6570\u636e\u662f\u5426\u5df2\u7ecf\u51c6\u5907\u597d\u3002\u5982\u679c\u64cd\u4f5c\u65e0\u6cd5\u7acb\u5373\u5b8c\u6210\uff0c\u7cfb\u7edf\u4f1a\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\uff08\u5982 <code>EWOULDBLOCK</code>\uff09\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\u3002</li> <li>\u7279\u70b9:</li> <li>\u63d0\u9ad8\u4e86\u8fdb\u7a0b\u7684\u5e76\u53d1\u6027\uff0c\u56e0\u4e3a\u8fdb\u7a0b\u4e0d\u4f1a\u56e0\u7b49\u5f85 I/O \u800c\u88ab\u963b\u585e\u3002</li> <li>\u9700\u8981\u5904\u7406\u8fd4\u56de\u7684\u9519\u8bef\u6216\u7a7a\u7ed3\u679c\uff0c\u8fd9\u4f7f\u5f97\u7f16\u7a0b\u66f4\u52a0\u590d\u6742\u3002</li> <li>\u5e94\u7528\u573a\u666f: \u5e38\u7528\u4e8e\u9700\u8981\u5904\u7406\u9ad8\u5e76\u53d1\u7684\u7f51\u7edc\u670d\u52a1\u5668\u7b49\u573a\u666f\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_18","title":"\u793a\u4f8b","text":"<p>\u5728\u975e\u963b\u585e\u6a21\u5f0f\u4e0b\u8bfb\u53d6\u6587\u4ef6\u7684\u793a\u4f8b\uff1a</p> <pre><code>int fd = open(\"example.txt\", O_RDONLY | O_NONBLOCK);  // \u4ee5\u975e\u963b\u585e\u6a21\u5f0f\u6253\u5f00\u6587\u4ef6\nchar buffer[128];\nint n = read(fd, buffer, 128);  // \u5982\u679c\u6ca1\u6709\u6570\u636e\u7acb\u5373\u53ef\u8bfb\uff0cread \u4f1a\u7acb\u5373\u8fd4\u56de\u800c\u4e0d\u4f1a\u963b\u585e\n</code></pre> <p>\u8fd9\u91cc\u7684 <code>read</code> \u51fd\u6570\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u4e0d\u8bba\u6570\u636e\u662f\u5426\u51c6\u5907\u597d\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u5176\u4ed6\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3-io-io-multiplexing","title":"3. I/O \u591a\u8def\u590d\u7528 (I/O Multiplexing)","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_19","title":"\u6982\u5ff5","text":"<ul> <li>\u5b9a\u4e49: I/O \u591a\u8def\u590d\u7528\u5141\u8bb8\u4e00\u4e2a\u8fdb\u7a0b\u540c\u65f6\u76d1\u89c6\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5f53\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u5c31\u7eea\u65f6\uff08\u5982\u53ef\u8bfb\u6216\u53ef\u5199\uff09\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c I/O \u64cd\u4f5c\u3002\u8fd9\u79cd\u6a21\u5f0f\u901a\u8fc7\u51cf\u5c11\u8fdb\u7a0b\u7684\u963b\u585e\u65f6\u95f4\u6765\u63d0\u9ad8\u5e76\u53d1\u6027\u3002</li> <li>\u5e38\u89c1\u65b9\u6cd5: <code>select</code>\u3001<code>poll</code> \u548c <code>epoll</code> \u662f\u5e38\u89c1\u7684 I/O \u591a\u8def\u590d\u7528\u65b9\u6cd5\u3002</li> <li>\u7279\u70b9:</li> <li>\u9002\u5408\u5904\u7406\u5927\u91cf I/O \u8bf7\u6c42\uff0c\u5982\u9700\u8981\u540c\u65f6\u5904\u7406\u591a\u4e2a\u7f51\u7edc\u8fde\u63a5\u7684\u670d\u52a1\u5668\u3002</li> <li>\u53ef\u80fd\u5728\u5904\u7406\u5927\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u65f6\u4ea7\u751f\u6027\u80fd\u74f6\u9888\uff0c\u7279\u522b\u662f\u5728\u4f7f\u7528 <code>select</code> \u548c <code>poll</code> \u65f6\u3002</li> <li>\u5e94\u7528\u573a\u666f: \u5e38\u7528\u4e8e\u9ad8\u5e76\u53d1\u670d\u52a1\u5668\u3001\u7f51\u7edc\u7f16\u7a0b\u7b49\u9700\u8981\u540c\u65f6\u5904\u7406\u591a\u4e2a I/O \u64cd\u4f5c\u7684\u573a\u666f\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_20","title":"\u793a\u4f8b","text":"<p>\u4f7f\u7528 <code>select</code> \u76d1\u89c6\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u793a\u4f8b\uff1a</p> <pre><code>fd_set readfds;\nFD_ZERO(&amp;readfds);\nFD_SET(fd1, &amp;readfds);\nFD_SET(fd2, &amp;readfds);\nselect(fd2 + 1, &amp;readfds, NULL, NULL, NULL);  // \u963b\u585e\u7b49\u5f85\u4efb\u610f\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u53ef\u8bfb\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>select</code> \u4f1a\u963b\u585e\uff0c\u76f4\u5230 <code>fd1</code> \u6216 <code>fd2</code> \u4e2d\u6709\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u53ef\u8bfb\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4-io-signal-driven-io","title":"4. \u4fe1\u53f7\u9a71\u52a8 I/O (Signal-driven I/O)","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_21","title":"\u6982\u5ff5","text":"<ul> <li>\u5b9a\u4e49: \u4fe1\u53f7\u9a71\u52a8 I/O \u5141\u8bb8\u8fdb\u7a0b\u5728 I/O \u8bbe\u5907\u51c6\u5907\u597d\u65f6\u63a5\u6536\u5230\u4e00\u4e2a\u4fe1\u53f7\uff0c\u7136\u540e\u5728\u4fe1\u53f7\u5904\u7406\u7a0b\u5e8f\u4e2d\u6267\u884c I/O \u64cd\u4f5c\u3002\u5b83\u662f\u4e00\u79cd\u5f02\u6b65 I/O \u7684\u5f62\u5f0f\u3002</li> <li>\u7279\u70b9:</li> <li>\u8fdb\u7a0b\u5728\u7b49\u5f85 I/O \u8bbe\u5907\u5c31\u7eea\u65f6\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0cI/O \u8bbe\u5907\u5c31\u7eea\u540e\u901a\u8fc7\u4fe1\u53f7\u901a\u77e5\u8fdb\u7a0b\u3002</li> <li>\u7f16\u7a0b\u8f83\u4e3a\u590d\u6742\uff0c\u9700\u8981\u5904\u7406\u4fe1\u53f7\u548c\u4fe1\u53f7\u5904\u7406\u7a0b\u5e8f\u3002</li> <li>\u5e94\u7528\u573a\u666f: \u7528\u4e8e\u5bf9\u5b9e\u65f6\u6027\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\uff0c\u5982\u7f51\u7edc\u5e94\u7528\u4e2d\u7684\u5f02\u6b65\u4e8b\u4ef6\u5904\u7406\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_22","title":"\u793a\u4f8b","text":"<p>\u4f2a\u4ee3\u7801\u793a\u4f8b\uff1a</p> <pre><code>signal(SIGIO, io_handler);  // \u8bbe\u7f6e\u4fe1\u53f7\u5904\u7406\u7a0b\u5e8f\nfcntl(fd, F_SETFL, O_ASYNC);  // \u4f7f\u80fd\u5f02\u6b65 I/O\n// \u5f53 fd \u53ef\u8bfb\u65f6\uff0c\u4f1a\u89e6\u53d1 SIGIO \u4fe1\u53f7\uff0c\u8c03\u7528 io_handler \u5904\u7406 I/O\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5-io-asynchronous-io-aio","title":"5. \u5f02\u6b65 I/O (Asynchronous I/O, AIO)","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_23","title":"\u6982\u5ff5","text":"<ul> <li>\u5b9a\u4e49: \u5728\u5f02\u6b65 I/O \u6a21\u5f0f\u4e0b\uff0c\u8fdb\u7a0b\u53d1\u8d77 I/O \u64cd\u4f5c\u540e\u7acb\u5373\u8fd4\u56de\uff0c\u800c\u4e0d\u7b49\u5f85\u64cd\u4f5c\u5b8c\u6210\u3002I/O \u64cd\u4f5c\u7531\u64cd\u4f5c\u7cfb\u7edf\u5728\u540e\u53f0\u5b8c\u6210\uff0c\u5b8c\u6210\u540e\u4f1a\u901a\u77e5\u8fdb\u7a0b\uff08\u901a\u8fc7\u4fe1\u53f7\u6216\u56de\u8c03\u51fd\u6570\uff09\uff0c\u6b64\u65f6\u8fdb\u7a0b\u53ef\u4ee5\u5904\u7406 I/O \u7ed3\u679c\u3002</li> <li>\u7279\u70b9:</li> <li>\u6700\u5927\u5316 CPU \u548c I/O \u8bbe\u5907\u7684\u5229\u7528\u7387\uff0c\u9002\u5408\u9ad8\u6027\u80fd\u5e94\u7528\u3002</li> <li>\u7f16\u7a0b\u8f83\u4e3a\u590d\u6742\uff0c\u9700\u8981\u7ba1\u7406 I/O \u64cd\u4f5c\u7684\u56de\u8c03\u548c\u901a\u77e5\u3002</li> <li>\u5e94\u7528\u573a\u666f: \u5e38\u7528\u4e8e\u9ad8\u6027\u80fd\u670d\u52a1\u5668\u3001\u6570\u636e\u5e93\u7cfb\u7edf\u7b49\u9700\u8981\u6700\u5927\u5316\u5e76\u53d1\u548c\u6027\u80fd\u7684\u5e94\u7528\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_24","title":"\u793a\u4f8b","text":"<p>\u4f7f\u7528\u5f02\u6b65 I/O \u8bfb\u53d6\u6587\u4ef6\u7684\u4f2a\u4ee3\u7801\uff1a</p> <pre><code>struct aiocb cb;\ncb.aio_fildes = fd;\ncb.aio_buf = buffer;\ncb.aio_nbytes = 128;\naio_read(&amp;cb);  // \u53d1\u8d77\u5f02\u6b65\u8bfb\u53d6\u8bf7\u6c42\uff0c\u7acb\u5373\u8fd4\u56de\n// \u7a0b\u5e8f\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u7a0d\u540e\u4f1a\u6536\u5230 I/O \u5b8c\u6210\u901a\u77e5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_25","title":"\u603b\u7ed3","text":"<ul> <li>\u963b\u585e I/O: \u7b80\u5355\u76f4\u89c2\uff0c\u4f46\u4f1a\u5bfc\u81f4\u8fdb\u7a0b\u7b49\u5f85 I/O \u64cd\u4f5c\u5b8c\u6210\u800c\u963b\u585e\u3002</li> <li>\u975e\u963b\u585e I/O: \u63d0\u9ad8\u4e86\u5e76\u53d1\u6027\uff0c\u4f46\u9700\u8981\u624b\u52a8\u5904\u7406\u672a\u5b8c\u6210\u7684 I/O \u64cd\u4f5c\u3002</li> <li>I/O \u591a\u8def\u590d\u7528: \u5141\u8bb8\u540c\u65f6\u76d1\u89c6\u591a\u4e2a I/O \u64cd\u4f5c\uff0c\u63d0\u9ad8\u4e86\u5e76\u53d1\u6027\uff0c\u9002\u5408\u5904\u7406\u5927\u91cf I/O \u8bf7\u6c42\u3002</li> <li>\u4fe1\u53f7\u9a71\u52a8 I/O: \u901a\u8fc7\u4fe1\u53f7\u5f02\u6b65\u5904\u7406 I/O \u64cd\u4f5c\uff0c\u9002\u5408\u5b9e\u65f6\u6027\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\u3002</li> <li>\u5f02\u6b65 I/O: \u63d0\u4f9b\u6700\u9ad8\u7684\u5e76\u53d1\u548c\u6027\u80fd\uff0c\u4f46\u7f16\u7a0b\u590d\u6742\u5ea6\u4e5f\u6700\u9ad8\u3002</li> </ul> <p>\u4e0d\u540c\u7684 I/O \u6a21\u5f0f\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\uff0c\u9009\u62e9\u5408\u9002\u7684 I/O \u6a21\u5f0f\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u54cd\u5e94\u80fd\u529b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_26","title":"\u5b9e\u73b0","text":"<p>I/O \u591a\u8def\u590d\u7528\u662f\u4e00\u79cd\u5141\u8bb8\u7a0b\u5e8f\u540c\u65f6\u76d1\u63a7\u591a\u4e2a I/O \u901a\u9053\uff08\u5982\u7f51\u7edc\u8fde\u63a5\u3001\u6587\u4ef6\u63cf\u8ff0\u7b26\u7b49\uff09\u7684\u65b9\u6cd5\uff0c\u901a\u5e38\u7528\u4e8e\u5904\u7406\u7f51\u7edc\u670d\u52a1\u5668\u3001\u5e76\u53d1\u5ba2\u6237\u7aef\u7b49\u573a\u666f\u3002\u5b83\u53ef\u4ee5\u907f\u514d\u5728\u5904\u7406\u591a\u4e2a I/O \u64cd\u4f5c\u65f6\u963b\u585e\u7ebf\u7a0b\u6216\u8fdb\u7a0b\uff0c\u4ece\u800c\u63d0\u9ad8\u7cfb\u7edf\u7684\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002\u4e0b\u9762\u8be6\u7ec6\u8bb2\u89e3 I/O \u591a\u8def\u590d\u7528\u7684\u6982\u5ff5\u3001\u673a\u5236\u3001\u5e94\u7528\u573a\u666f\u548c\u5177\u4f53\u5b9e\u73b0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-io","title":"1. I/O \u591a\u8def\u590d\u7528\u7684\u6982\u5ff5","text":"<p>I/O \u591a\u8def\u590d\u7528\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u5355\u4e00\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u6765\u76d1\u63a7\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff08\u6587\u4ef6\u3001\u5957\u63a5\u5b57\u7b49\uff09\uff0c\u5f53\u8fd9\u4e9b\u63cf\u8ff0\u7b26\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u51c6\u5907\u597d\u6267\u884c I/O \u64cd\u4f5c\uff08\u5982\u8bfb\u6216\u5199\uff09\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u901a\u77e5\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e94\u7528\u7a0b\u5e8f\u5219\u5bf9\u8be5\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-io","title":"2. I/O \u6a21\u578b\u6982\u8ff0","text":"<p>\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u5e38\u89c1\u7684 I/O \u6a21\u578b\u5305\u62ec\uff1a</p> <ul> <li> <p>\u963b\u585e I/O\uff1a\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 I/O \u64cd\u4f5c\u65f6\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u64cd\u4f5c\u5b8c\u6210\u3002</p> </li> <li> <p>\u975e\u963b\u585e I/O\uff1a\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 I/O \u64cd\u4f5c\u65f6\u7acb\u5373\u8fd4\u56de\uff0c\u5982\u679c\u6ca1\u6709\u6570\u636e\u53ef\u7528\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u3002</p> </li> <li> <p>I/O \u591a\u8def\u590d\u7528\uff1a\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528 <code>select</code>\u3001<code>poll</code> \u6216 <code>epoll</code>\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u76d1\u63a7\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u53ea\u6709\u5728\u67d0\u4e9b\u63cf\u8ff0\u7b26\u53ef\u7528\u65f6\u624d\u8fdb\u884c\u5b9e\u9645\u7684 I/O \u64cd\u4f5c\u3002</p> </li> <li> <p>\u4fe1\u53f7\u9a71\u52a8 I/O\uff1a\u4f7f\u7528\u4fe1\u53f7\u901a\u77e5\u5e94\u7528\u7a0b\u5e8f\u4f55\u65f6\u53ef\u4ee5\u6267\u884c I/O \u64cd\u4f5c\u3002</p> </li> <li> <p>\u5f02\u6b65 I/O\uff1a\u5e94\u7528\u7a0b\u5e8f\u53d1\u51fa I/O \u8bf7\u6c42\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5728\u64cd\u4f5c\u5b8c\u6210\u540e\u901a\u77e5\u5e94\u7528\u7a0b\u5e8f\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3-io_1","title":"3. I/O \u591a\u8def\u590d\u7528\u7684\u673a\u5236","text":"<p>IO\u591a\u8def\u590d\u7528\u8be6\u89e3</p> <p>\u4ee5\u4e0b\u662f <code>select</code>\u3001<code>poll</code> \u548c <code>epoll</code> \u7684\u5bf9\u6bd4\u8868\u683c\uff0c\u6db5\u76d6\u4e86\u5b83\u4eec\u7684\u4e3b\u8981\u7279\u6027\u548c\u9002\u7528\u573a\u666f\uff1a</p> \u7279\u6027 <code>select</code> <code>poll</code> <code>epoll</code> \u5b9e\u73b0\u673a\u5236 \u57fa\u4e8e\u8f6e\u8be2\u7684\u673a\u5236 \u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u7684\u673a\u5236 \u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u7684\u673a\u5236\uff0c\u9002\u7528\u4e8e Linux \u6587\u4ef6\u63cf\u8ff0\u7b26\u9650\u5236 \u901a\u5e38\u4e3a 1024\uff08\u53d6\u51b3\u4e8e\u7cfb\u7edf\u8bbe\u7f6e\uff09 \u65e0\u56fa\u5b9a\u9650\u5236 \u65e0\u56fa\u5b9a\u9650\u5236 \u6027\u80fd \u6027\u80fd\u968f\u7740\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u589e\u52a0\u800c\u4e0b\u964d \u6027\u80fd\u4f18\u4e8e <code>select</code>\uff0c\u9002\u5408\u66f4\u591a\u6587\u4ef6\u63cf\u8ff0\u7b26 \u6027\u80fd\u4f18\u79c0\uff0c\u9002\u5408\u5927\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26 \u5185\u6838/\u7528\u6237\u6001\u5f00\u9500 \u6bcf\u6b21\u8c03\u7528 <code>select</code> \u65f6\uff0c\u4f20\u9012\u548c\u63a5\u6536\u6574\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408 \u6bcf\u6b21\u8c03\u7528 <code>poll</code> \u65f6\uff0c\u4f20\u9012\u548c\u63a5\u6536\u4e8b\u4ef6\u6570\u7ec4 \u9ad8\u6548\u7684\u4e8b\u4ef6\u901a\u77e5\uff0c\u5185\u6838\u53ea\u7ef4\u62a4\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u8868 \u9002\u7528\u573a\u666f \u9002\u5408\u5c11\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u573a\u666f \u9002\u5408\u4e2d\u7b49\u6570\u91cf\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26 \u9002\u5408\u9ad8\u5e76\u53d1\u3001\u5927\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u573a\u666f \u4e8b\u4ef6\u901a\u77e5\u65b9\u5f0f \u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u4e2d\u54ea\u4e9b\u51c6\u5907\u597d\u8fdb\u884c I/O \u64cd\u4f5c \u8fd4\u56de\u6240\u6709\u51c6\u5907\u597d\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u53ca\u5176\u4e8b\u4ef6 \u4f7f\u7528\u4e8b\u4ef6\u8868\uff0c\u8fd4\u56de\u53d1\u751f\u4e8b\u4ef6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26 \u7f16\u7a0b\u590d\u6742\u5ea6 \u7f16\u7a0b\u7b80\u5355\uff0c\u4f46\u6548\u7387\u8f83\u4f4e \u7f16\u7a0b\u8f83\u7b80\u5355\uff0c\u6027\u80fd\u8f83\u9ad8 \u7f16\u7a0b\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u4f46\u6027\u80fd\u548c\u6269\u5c55\u6027\u6700\u4f18 \u7ebf\u7a0b\u5b89\u5168 \u9700\u8981\u6ce8\u610f\u7ebf\u7a0b\u5b89\u5168\u7684\u95ee\u9898 \u9700\u8981\u6ce8\u610f\u7ebf\u7a0b\u5b89\u5168\u7684\u95ee\u9898 \u7ebf\u7a0b\u5b89\u5168\uff0c\u9002\u5408\u9ad8\u5e76\u53d1\u5e94\u7528 \u9002\u7528\u64cd\u4f5c\u7cfb\u7edf \u4e3b\u8981\u9002\u7528\u4e8e Unix/Linux \u548c Windows \u4e3b\u8981\u9002\u7528\u4e8e Unix/Linux \u4e3b\u8981\u9002\u7528\u4e8e Linux"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_27","title":"\u8be6\u7ec6\u8bf4\u660e","text":"<ul> <li> <p><code>select</code>\uff1a\u9002\u7528\u4e8e\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u8f83\u5c11\u7684\u60c5\u51b5\uff0c\u7b80\u5355\u6613\u7528\uff0c\u4f46\u5728\u5904\u7406\u5927\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u65f6\u6027\u80fd\u4f1a\u53d7\u5230\u5f71\u54cd\u3002\u6bcf\u6b21\u8c03\u7528\u90fd\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\uff0c\u4e14\u6709\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u7684\u4e0a\u9650\u3002</p> </li> <li> <p><code>poll</code>\uff1a\u5728\u5904\u7406\u5927\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u65f6\u6027\u80fd\u4f18\u4e8e <code>select</code>\uff0c\u6ca1\u6709\u56fa\u5b9a\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u9650\u5236\u3002\u6bcf\u6b21\u8c03\u7528\u53ea\u9700\u4f20\u9012\u548c\u63a5\u6536\u4e8b\u4ef6\u6570\u7ec4\uff0c\u9002\u5408\u4e2d\u7b49\u89c4\u6a21\u7684\u5e94\u7528\u3002</p> </li> <li> <p><code>epoll</code>\uff1a\u4e13\u4e3a Linux \u8bbe\u8ba1\uff0c\u80fd\u591f\u5904\u7406\u6210\u5343\u4e0a\u4e07\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u6027\u80fd\u6700\u597d\u3002\u652f\u6301\u8fb9\u7f18\u89e6\u53d1\u548c\u6c34\u5e73\u89e6\u53d1\u6a21\u5f0f\uff0c\u9002\u5408\u9ad8\u5e76\u53d1\u7684\u573a\u666f\u3002\u76f8\u6bd4 <code>select</code> \u548c <code>poll</code>\uff0c<code>epoll</code> \u5728\u5904\u7406\u5927\u89c4\u6a21\u5e76\u53d1\u8fde\u63a5\u65f6\u6548\u7387\u6700\u9ad8\u3002</p> </li> </ul> <p>\u6839\u636e\u5b9e\u9645\u5e94\u7528\u573a\u666f\u548c\u9700\u6c42\uff0c\u53ef\u4ee5\u9009\u62e9\u6700\u9002\u5408\u7684 I/O \u591a\u8def\u590d\u7528\u673a\u5236\u6765\u4f18\u5316\u7cfb\u7edf\u7684\u6027\u80fd\u3002</p> <p>I/O \u591a\u8def\u590d\u7528\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u5b9e\u73b0\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\u673a\u5236\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-select","title":"1. <code>select</code>","text":"<p><code>select</code> \u662f\u4e00\u79cd\u6700\u65e9\u7684 I/O \u591a\u8def\u590d\u7528\u673a\u5236\uff0c\u9002\u7528\u4e8e\u76d1\u89c6\u5c11\u91cf\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002</p> <ul> <li>\u4f7f\u7528\u65b9\u6cd5\uff1a</li> <li>\u5e94\u7528\u7a0b\u5e8f\u5c06\u4e00\u7ec4\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u4f20\u9012\u7ed9 <code>select</code>\u3002</li> <li><code>select</code> \u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5185\u963b\u585e\uff0c\u76f4\u5230\u5176\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u53d8\u4e3a\u53ef\u8bfb\u3001\u53ef\u5199\u6216\u53d1\u751f\u5f02\u5e38\u3002</li> <li> <p>\u8fd4\u56de\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u904d\u5386\u96c6\u5408\uff0c\u627e\u51fa\u90a3\u4e9b\u5c31\u7eea\u7684\u63cf\u8ff0\u7b26\u8fdb\u884c\u5904\u7406\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u7684\u5927\u5c0f\u6709\u9650\u5236\uff08\u901a\u5e38\u4e3a 1024\uff09\uff0c\u4e14\u6bcf\u6b21\u8c03\u7528\u90fd\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u96c6\u5408\uff0c\u6027\u80fd\u8f83\u5dee\u3002</p> </li> </ul> <p>\u4ee3\u7801\u793a\u4f8b\uff1a</p> <pre><code>import select\nimport socket\n\n# \u521b\u5efa\u76d1\u542c\u5957\u63a5\u5b57\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver_socket.bind(('localhost', 12345))\nserver_socket.listen(5)\nserver_socket.setblocking(False)\n\n# \u8bbe\u7f6e\u9700\u8981\u76d1\u63a7\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\ninputs = [server_socket]\noutputs = []\n\nwhile inputs:\n    readable, writable, exceptional = select.select(inputs, outputs, inputs)\n\n    for s in readable:\n        if s is server_socket:\n            connection, client_address = s.accept()\n            connection.setblocking(False)\n            inputs.append(connection)\n        else:\n            data = s.recv(1024)\n            if data:\n                outputs.append(s)\n            else:\n                inputs.remove(s)\n                s.close()\n\n    for s in writable:\n        s.send(b'ACK')\n        outputs.remove(s)\n\n    for s in exceptional:\n        inputs.remove(s)\n        if s in outputs:\n            outputs.remove(s)\n        s.close()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-poll","title":"2. <code>poll</code>","text":"<p><code>poll</code> \u662f <code>select</code> \u7684\u6539\u8fdb\u7248\u672c\uff0c\u53bb\u9664\u4e86\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u9650\u5236\uff0c\u5e76\u8fd4\u56de\u6240\u6709\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002</p> <ul> <li>\u4f7f\u7528\u65b9\u6cd5\uff1a</li> <li>\u5e94\u7528\u7a0b\u5e8f\u5c06\u6587\u4ef6\u63cf\u8ff0\u7b26\u53ca\u5176\u611f\u5174\u8da3\u7684\u4e8b\u4ef6\u6ce8\u518c\u5230 <code>poll</code> \u4e2d\u3002</li> <li> <p><code>poll</code> \u963b\u585e\u7b49\u5f85\u4e8b\u4ef6\u53d1\u751f\uff0c\u4e00\u65e6\u53d1\u751f\u5c31\u8fd4\u56de\u6240\u6709\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a\u6ca1\u6709\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u91cf\u9650\u5236\uff0c\u6027\u80fd\u4f18\u4e8e <code>select</code>\u3002</p> </li> </ul> <p>\u4ee3\u7801\u793a\u4f8b\uff1a</p> <pre><code>import select\nimport socket\n\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver_socket.bind(('localhost', 12345))\nserver_socket.listen(5)\nserver_socket.setblocking(False)\n\npoller = select.poll()\npoller.register(server_socket, select.POLLIN)\n\nfd_to_socket = {server_socket.fileno(): server_socket}\n\nwhile True:\n    events = poller.poll()\n    for fd, flag in events:\n        s = fd_to_socket[fd]\n        if flag &amp; select.POLLIN:\n            if s is server_socket:\n                connection, client_address = s.accept()\n                connection.setblocking(False)\n                fd_to_socket[connection.fileno()] = connection\n                poller.register(connection, select.POLLIN)\n            else:\n                data = s.recv(1024)\n                if data:\n                    poller.modify(s, select.POLLOUT)\n                else:\n                    poller.unregister(s)\n                    s.close()\n                    del fd_to_socket[fd]\n        elif flag &amp; select.POLLOUT:\n            s.send(b'ACK')\n            poller.modify(s, select.POLLIN)\n        elif flag &amp; select.POLLHUP:\n            poller.unregister(s)\n            s.close()\n            del fd_to_socket[fd]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3-epoll","title":"3. <code>epoll</code>","text":"<p><code>epoll</code> \u662f Linux \u7cfb\u7edf\u4e2d\u7279\u6709\u7684 I/O \u591a\u8def\u590d\u7528\u673a\u5236\uff0c\u9002\u7528\u4e8e\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8fde\u63a5\uff0c\u6027\u80fd\u4f18\u8d8a\u3002</p> <ul> <li>\u4f7f\u7528\u65b9\u6cd5\uff1a</li> <li><code>epoll_create</code>\uff1a\u521b\u5efa\u4e00\u4e2a epoll \u5b9e\u4f8b\u3002</li> <li><code>epoll_ctl</code>\uff1a\u5c06\u6587\u4ef6\u63cf\u8ff0\u7b26\u53ca\u5176\u611f\u5174\u8da3\u7684\u4e8b\u4ef6\u6ce8\u518c\u5230 epoll \u4e2d\u3002</li> <li> <p><code>epoll_wait</code>\uff1a\u7b49\u5f85\u4e8b\u4ef6\u53d1\u751f\u5e76\u8fd4\u56de\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a\u6548\u7387\u9ad8\u3001\u9002\u5408\u9ad8\u5e76\u53d1\u573a\u666f\uff0c\u4e0d\u9700\u8981\u6bcf\u6b21\u8c03\u7528\u90fd\u91cd\u65b0\u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u3002</p> </li> </ul> <p>\u4ee3\u7801\u793a\u4f8b\uff1a</p> <pre><code>import select\nimport socket\n\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver_socket.bind(('localhost', 12345))\nserver_socket.listen(5)\nserver_socket.setblocking(False)\n\nepoll = select.epoll()\nepoll.register(server_socket.fileno(), select.EPOLLIN)\n\nfd_to_socket = {server_socket.fileno(): server_socket}\n\nwhile True:\n    events = epoll.poll()\n    for fd, event in events:\n        s = fd_to_socket[fd]\n        if event &amp; select.EPOLLIN:\n            if s is server_socket:\n                connection, client_address = s.accept()\n                connection.setblocking(False)\n                fd_to_socket[connection.fileno()] = connection\n                epoll.register(connection.fileno(), select.EPOLLIN)\n            else:\n                data = s.recv(1024)\n                if data:\n                    epoll.modify(s.fileno(), select.EPOLLOUT)\n                else:\n                    epoll.unregister(s.fileno())\n                    s.close()\n                    del fd_to_socket[fd]\n        elif event &amp; select.EPOLLOUT:\n            s.send(b'ACK')\n            epoll.modify(s.fileno(), select.EPOLLIN)\n        elif event &amp; select.EPOLLHUP:\n            epoll.unregister(s.fileno())\n            s.close()\n            del fd_to_socket[fd]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4-io","title":"4. I/O \u591a\u8def\u590d\u7528\u7684\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u9ad8\u5e76\u53d1\u7f51\u7edc\u670d\u52a1\u5668\uff1a\u5982 Web \u670d\u52a1\u5668\u3001\u804a\u5929\u670d\u52a1\u5668\uff0c\u9700\u8981\u540c\u65f6\u5904\u7406\u5927\u91cf\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\u3002</li> <li>\u5b9e\u65f6\u6570\u636e\u5904\u7406\uff1a\u5982\u4ea4\u6613\u7cfb\u7edf\u3001\u65e5\u5fd7\u7cfb\u7edf\uff0c\u80fd\u591f\u9ad8\u6548\u5904\u7406\u591a\u4e2a\u6570\u636e\u6e90\u7684\u5b9e\u65f6\u6570\u636e\u3002</li> <li>\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7ba1\u7406\uff1a\u7ba1\u7406\u591a\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u4f18\u5316\u8d44\u6e90\u5229\u7528\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5-io","title":"5. I/O \u591a\u8def\u590d\u7528\u7684\u4f18\u7f3a\u70b9","text":"<ul> <li>\u4f18\u70b9\uff1a</li> <li>\u63d0\u9ad8\u4e86\u7cfb\u7edf\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8fde\u63a5\u7684\u80fd\u529b\u3002</li> <li>\u907f\u514d\u4e86\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u7684\u9891\u7e41\u5207\u6362\uff0c\u964d\u4f4e\u4e86\u7cfb\u7edf\u5f00\u9500\u3002</li> <li> <p>\u63d0\u4f9b\u4e86\u8f83\u597d\u7684\u7075\u6d3b\u6027\uff0c\u9002\u5e94\u591a\u79cd I/O \u64cd\u4f5c\u9700\u6c42\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u7f16\u7a0b\u590d\u6742\u5ea6\u9ad8\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u5927\u91cf\u5e76\u53d1\u8fde\u63a5\u65f6\uff0c\u9700\u8981\u8003\u8651\u5404\u79cd\u5f02\u5e38\u60c5\u51b5\u3002</li> <li>\u5728\u4e00\u4e9b\u7279\u5b9a\u573a\u666f\u4e0b\uff0c\u6027\u80fd\u53ef\u80fd\u4e0d\u5982\u76f4\u63a5\u4f7f\u7528\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u6a21\u578b\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#6_3","title":"6. \u603b\u7ed3","text":"<p>I/O \u591a\u8def\u590d\u7528\u662f\u73b0\u4ee3\u9ad8\u6027\u80fd\u670d\u52a1\u5668\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u4e00\u9879\u6280\u672f\u3002\u901a\u8fc7 <code>select</code>\u3001<code>poll</code> \u548c <code>epoll</code> \u7b49\u673a\u5236\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u9ad8\u6548\u5730\u5904\u7406\u591a\u4e2a I/O \u901a\u9053\u7684\u5e76\u53d1\u64cd\u4f5c\u3002\u8fd9\u4e9b\u673a\u5236\u5404\u6709\u4f18\u7f3a\u70b9\uff0c\u5f00\u53d1\u8005\u5e94\u6839\u636e\u5177\u4f53\u7684\u5e94\u7528\u573a\u666f\u9009\u62e9\u5408\u9002\u7684 I/O \u591a\u8def\u590d\u7528\u6280\u672f\uff0c\u4ee5\u63d0\u9ad8\u7cfb\u7edf\u7684\u5e76\u53d1\u80fd\u529b\u548c\u6027\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#python_1","title":"\u4e94\u3001python\u547d\u4ee4","text":"<p>Python \u547d\u4ee4\u884c\u9009\u9879\u63d0\u4f9b\u4e86\u591a\u79cd\u529f\u80fd\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u63a7\u5236 Python \u89e3\u91ca\u5668\u7684\u884c\u4e3a\u3001\u6267\u884c\u7279\u5b9a\u7684\u4efb\u52a1\u6216\u8fdb\u884c\u8c03\u8bd5\u3002\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684 Python \u547d\u4ee4\u884c\u9009\u9879\u7684\u8be6\u7ec6\u89e3\u91ca\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1-c-command","title":"1. <code>-c command</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u76f4\u63a5\u6267\u884c\u5b57\u7b26\u4e32\u4e2d\u7684 Python \u4ee3\u7801\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -c \"print('Hello, World!')\"</code></p> <p>\u8fd9\u5c06\u76f4\u63a5\u8f93\u51fa <code>Hello, World!</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2-m-module-name","title":"2. <code>-m module-name</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u4ee5\u811a\u672c\u7684\u65b9\u5f0f\u8fd0\u884c\u6307\u5b9a\u7684\u6a21\u5757\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -m http.server</code></p> <p>\u8fd9\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u542f\u52a8\u4e00\u4e2a\u7b80\u5355\u7684 HTTP \u670d\u52a1\u5668\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3-v-version","title":"3. <code>-V</code> \u6216 <code>--version</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u663e\u793a Python \u7248\u672c\u4fe1\u606f\u5e76\u9000\u51fa\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -V</code></p> <p>\u8fd9\u5c06\u8f93\u51fa Python \u7684\u7248\u672c\u53f7\uff0c\u4f8b\u5982 <code>Python 3.9.1</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4-v","title":"4. <code>-v</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u8be6\u7ec6\u6a21\u5f0f\uff0c\u8f93\u51fa\u66f4\u8be6\u7ec6\u7684\u5bfc\u5165\u4fe1\u606f\u548c\u5176\u4ed6\u8c03\u8bd5\u4fe1\u606f\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -v script.py</code></p> <p>\u8fd9\u5c06\u8fd0\u884c <code>script.py</code>\uff0c\u5e76\u8f93\u51fa\u6a21\u5757\u5bfc\u5165\u7684\u8be6\u7ec6\u4fe1\u606f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5-o","title":"5. <code>-O</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u4ee5\u4f18\u5316\u6a21\u5f0f\u8fd0\u884c\uff0c\u79fb\u9664\u65ad\u8a00\u8bed\u53e5\u5e76\u751f\u6210\u4f18\u5316\u7684\u5b57\u8282\u7801\u6587\u4ef6\uff08<code>.pyo</code>\uff09\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -O script.py</code></p> <p>\u8fd9\u5c06\u4ee5\u4f18\u5316\u6a21\u5f0f\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#6-oo","title":"6. <code>-OO</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u8fdb\u4e00\u6b65\u4f18\u5316\uff0c\u79fb\u9664\u65ad\u8a00\u8bed\u53e5\u548c <code>__doc__</code> \u6587\u6863\u5b57\u7b26\u4e32\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -OO script.py</code></p> <p>\u8fd9\u5c06\u79fb\u9664\u6240\u6709\u65ad\u8a00\u548c\u6587\u6863\u5b57\u7b26\u4e32\uff0c\u5e76\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#7-b","title":"7. <code>-B</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u7981\u6b62\u751f\u6210 <code>.pyc</code> \u6587\u4ef6\uff08\u7f16\u8bd1\u7684\u5b57\u8282\u7801\u6587\u4ef6\uff09\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -B script.py</code></p> <p>\u8fd9\u5c06\u8fd0\u884c <code>script.py</code>\uff0c\u4f46\u4e0d\u4f1a\u751f\u6210 <code>.pyc</code> \u6587\u4ef6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#8-e","title":"8. <code>-E</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u5ffd\u7565\u6240\u6709\u4e0e\u73af\u5883\u53d8\u91cf\u6709\u5173\u7684\u8bbe\u7f6e\uff0c\u5982 <code>PYTHONPATH</code>\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -E script.py</code></p> <p>\u8fd9\u5c06\u5ffd\u7565\u6240\u6709 Python \u76f8\u5173\u7684\u73af\u5883\u53d8\u91cf\u5e76\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#9-s","title":"9. <code>-s</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u5728\u542f\u52a8\u65f6\u5ffd\u7565\u7528\u6237\u7684 <code>site-packages</code> \u76ee\u5f55\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -s script.py</code></p> <p>\u8fd9\u5c06\u5ffd\u7565 <code>site-packages</code> \u4e2d\u7684\u5185\u5bb9\u5e76\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#10-s","title":"10. <code>-S</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u542f\u52a8\u65f6\u4e0d\u81ea\u52a8\u5bfc\u5165 <code>site</code> \u6a21\u5757\uff0c\u8fd9\u53ef\u4ee5\u51cf\u5c11\u542f\u52a8\u65f6\u95f4\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -S script.py</code></p> <p>\u8fd9\u5c06\u4e0d\u5bfc\u5165 <code>site</code> \u6a21\u5757\uff0c\u5e76\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#11-u","title":"11. <code>-u</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u5f3a\u5236\u8f93\u5165\u8f93\u51fa\u6d41\u4f7f\u7528\u975e\u7f13\u51b2\u6a21\u5f0f\uff0c\u4e3b\u8981\u7528\u4e8e\u5b9e\u65f6\u65e5\u5fd7\u8f93\u51fa\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -u script.py</code></p> <p>\u8fd9\u5c06\u4ee5\u975e\u7f13\u51b2\u6a21\u5f0f\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#12-i","title":"12. <code>-i</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u5728\u811a\u672c\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u8fdb\u5165\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -i script.py</code></p> <p>\u8fd9\u5c06\u8fd0\u884c <code>script.py</code>\uff0c\u6267\u884c\u5b8c\u6bd5\u540e\u8fdb\u5165 Python \u4ea4\u4e92\u6a21\u5f0f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#13-t","title":"13. <code>-t</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u53d1\u51fa\u5173\u4e8e\u7f29\u8fdb\u6df7\u7528\u7684\u8b66\u544a\uff0c\u4f7f\u7528\u4e24\u6b21 <code>-t</code> \u5219\u4f1a\u5c06\u8fd9\u4e9b\u8b66\u544a\u4f5c\u4e3a\u9519\u8bef\u5904\u7406\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -t script.py</code></p> <p>\u5982\u679c\u4ee3\u7801\u4e2d\u6709\u6df7\u5408\u4f7f\u7528\u7a7a\u683c\u548c\u5236\u8868\u7b26\u7684\u60c5\u51b5\uff0c\u5c06\u4f1a\u53d1\u51fa\u8b66\u544a\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#14-x","title":"14. <code>-x</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u8df3\u8fc7\u811a\u672c\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\uff08\u7528\u4e8e\u5904\u7406\u5305\u542b Unix shebang \u7684\u811a\u672c\uff09\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -x script.py</code></p> <p>\u8fd9\u5c06\u8df3\u8fc7 <code>script.py</code> \u7684\u7b2c\u4e00\u884c\u5e76\u7ee7\u7eed\u6267\u884c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#15-help-h","title":"15. <code>--help</code> \u6216 <code>-h</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u663e\u793a Python \u547d\u4ee4\u884c\u9009\u9879\u7684\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python --help</code></p> <p>\u8fd9\u5c06\u5217\u51fa\u6240\u6709 Python \u547d\u4ee4\u884c\u9009\u9879\u53ca\u5176\u7b80\u8981\u8bf4\u660e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#16-w","title":"16. <code>-W</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u63a7\u5236\u8b66\u544a\u7684\u663e\u793a\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u5ffd\u7565\u3001\u9ed8\u8ba4\u3001\u9519\u8bef\u3001\u4e00\u6b21\u6027\u3001\u603b\u662f\u7b49\u4e0d\u540c\u7ea7\u522b\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -W ignore script.py</code></p> <p>\u8fd9\u5c06\u8fd0\u884c <code>script.py</code> \u5e76\u5ffd\u7565\u6240\u6709\u8b66\u544a\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#17-r","title":"17. <code>-R</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u542f\u7528\u54c8\u5e0c\u968f\u673a\u5316\u529f\u80fd\uff0c\u7528\u4e8e\u5b89\u5168\u76ee\u7684\uff0c\u9632\u6b62\u7279\u5b9a\u7c7b\u578b\u7684\u653b\u51fb\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -R script.py</code></p> <p>\u8fd9\u5c06\u542f\u7528\u54c8\u5e0c\u968f\u673a\u5316\u5e76\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#18-q","title":"18. <code>-Q</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u63a7\u5236 <code>/</code> \u8fd0\u7b97\u7b26\u7684\u6574\u6570\u9664\u6cd5\u884c\u4e3a\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -Qnew script.py</code></p> <p>\u5f3a\u5236 <code>/</code> \u4f7f\u7528\u771f\u6b63\u7684\u9664\u6cd5\uff0c\u5373\u4f7f\u662f\u5728 Python 2.x \u4e2d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#19-x","title":"19. <code>-X</code>","text":"<ul> <li>\u4f5c\u7528\uff1a\u8bbe\u7f6e\u7279\u5b9a\u7684\u5b9e\u73b0\u9009\u9879\uff0c\u5982 <code>-X faulthandler</code> \u7528\u4e8e\u542f\u7528\u6545\u969c\u5904\u7406\u7a0b\u5e8f\u3002</li> <li>\u793a\u4f8b\uff1a</li> </ul> <p><code>bash   python -X faulthandler script.py</code></p> <p>\u8fd9\u5c06\u542f\u7528\u6545\u969c\u5904\u7406\u7a0b\u5e8f\u5e76\u8fd0\u884c <code>script.py</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#_28","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u8fd9\u4e9b\u547d\u4ee4\u884c\u9009\u9879\uff0c\u4f60\u53ef\u4ee5\u66f4\u7075\u6d3b\u5730\u63a7\u5236 Python \u89e3\u91ca\u5668\u7684\u884c\u4e3a\uff0c\u4ece\u800c\u9002\u5e94\u4e0d\u540c\u7684\u5f00\u53d1\u548c\u8c03\u8bd5\u573a\u666f\u3002\u719f\u6089\u8fd9\u4e9b\u9009\u9879\u53ef\u4ee5\u5e2e\u52a9\u4f60\u66f4\u9ad8\u6548\u5730\u7f16\u5199\u3001\u8c03\u8bd5\u548c\u8fd0\u884c Python \u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#python_2","title":"python \u81ea\u5b9a\u4e49\u5305","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5173\u4e8e\u5982\u4f55\u521b\u5efa\u5e76\u53d1\u5e03 Python \u81ea\u5b9a\u4e49\u5305\u7684\u8be6\u7ec6\u793a\u4f8b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#1_4","title":"1. \u51c6\u5907\u9879\u76ee\u7ed3\u6784","text":"<p>\u5047\u8bbe\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>simplemath</code> \u7684 Python \u5305\uff0c\u63d0\u4f9b\u4e00\u4e9b\u7b80\u5355\u7684\u6570\u5b66\u8fd0\u7b97\u529f\u80fd\u3002\u9879\u76ee\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>simplemath/\n\u2502\n\u251c\u2500\u2500 simplemath/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 addition.py\n\u2502   \u2514\u2500\u2500 subtraction.py\n\u2502\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 test_operations.py\n\u2502\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 setup.py\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#2_4","title":"2. \u7f16\u5199\u4ee3\u7801","text":"<p>\u5728 <code>simplemath/simplemath/</code> \u76ee\u5f55\u4e0b\uff0c\u6211\u4eec\u5206\u522b\u521b\u5efa <code>addition.py</code> \u548c <code>subtraction.py</code>\uff0c\u7528\u4e8e\u5b9e\u73b0\u52a0\u6cd5\u548c\u51cf\u6cd5\u529f\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#additionpy","title":"<code>addition.py</code>","text":"<pre><code>def add(a, b):\n    return a + b\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#subtractionpy","title":"<code>subtraction.py</code>","text":"<pre><code>def subtract(a, b):\n    return a - b\n</code></pre> <p>\u5728 <code>__init__.py</code> \u4e2d\uff0c\u5bfc\u5165\u8fd9\u4e9b\u6a21\u5757\uff0c\u4ee5\u4fbf\u5305\u7684\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5b83\u4eec\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#__init__py","title":"<code>__init__.py</code>","text":"<pre><code>from .addition import add\nfrom .subtraction import subtract\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#3_6","title":"3. \u7f16\u5199\u6d4b\u8bd5","text":"<p>\u5728 <code>tests/</code> \u76ee\u5f55\u4e0b\uff0c\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801\uff0c\u786e\u4fdd\u6211\u4eec\u7684\u529f\u80fd\u6b63\u5e38\u8fd0\u884c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#test_operationspy","title":"<code>test_operations.py</code>","text":"<pre><code>import unittest\nfrom simplemath import add, subtract\n\nclass TestSimpleMath(unittest.TestCase):\n    def test_add(self):\n        self.assertEqual(add(3, 4), 7)\n\n    def test_subtract(self):\n        self.assertEqual(subtract(10, 5), 5)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#4-setuppy","title":"4. \u7f16\u5199 <code>setup.py</code> \u6587\u4ef6","text":"<p>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa <code>setup.py</code> \u6587\u4ef6\uff0c\u914d\u7f6e\u5305\u7684\u5143\u6570\u636e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#setuppy","title":"<code>setup.py</code>","text":"<pre><code>from setuptools import setup, find_packages\n\nsetup(\n    name=\"simplemath\",\n    version=\"0.1.0\",\n    author=\"Your Name\",\n    author_email=\"your.email@example.com\",\n    description=\"A simple math operations package\",\n    long_description=open(\"README.md\").read(),\n    long_description_content_type=\"text/markdown\",\n    url=\"https://github.com/yourusername/simplemath\",\n    packages=find_packages(),\n    classifiers=[\n        \"Programming Language :: Python :: 3\",\n        \"License :: OSI Approved :: MIT License\",\n        \"Operating System :: OS Independent\",\n    ],\n    python_requires='&gt;=3.6',\n)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#5-readmemd","title":"5. \u7f16\u5199 <code>README.md</code> \u6587\u4ef6","text":"<p>\u5728 <code>README.md</code> \u6587\u4ef6\u4e2d\u4ecb\u7ecd\u5305\u7684\u529f\u80fd\u548c\u7528\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#readmemd","title":"<code>README.md</code>","text":"<pre><code># SimpleMath\n\nSimpleMath is a Python package that provides basic math operations like addition and subtraction.\n\n## Installation\n\nYou can install this package via pip:\n\n```bash\npip install simplemath\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#usage","title":"Usage","text":"<pre><code>from simplemath import add, subtract\n\nprint(add(3, 4))        # Output: 7\nprint(subtract(10, 5))  # Output: 5\n</code></pre> <pre><code>### 6. **\u7f16\u5199 LICENSE \u6587\u4ef6**\n\u9009\u62e9\u4e00\u4e2a\u5f00\u6e90\u8bb8\u53ef\u8bc1\uff0c\u6bd4\u5982 MIT License\uff0c\u5e76\u5c06\u5176\u5185\u5bb9\u653e\u5165 `LICENSE` \u6587\u4ef6\u4e2d\u3002\n\n#### `LICENSE`\n```text\nMIT License\n\nCopyright (c) 2024 Your Name\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\n...\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#7_1","title":"7. \u6253\u5305\u548c\u53d1\u5e03","text":"<p>\u5728\u6253\u5305\u4e4b\u524d\uff0c\u786e\u4fdd <code>setuptools</code> \u548c <code>wheel</code> \u5df2\u5b89\u88c5\uff1a</p> <pre><code>pip install setuptools wheel\n</code></pre> <p>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6253\u5305\uff1a</p> <pre><code>python setup.py sdist bdist_wheel\n</code></pre> <p>\u8fd9\u5c06\u5728 <code>dist/</code> \u76ee\u5f55\u4e2d\u751f\u6210 <code>.tar.gz</code> \u548c <code>.whl</code> \u6587\u4ef6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#8-pypi","title":"8. \u4e0a\u4f20\u5230 PyPI","text":"<p>\u4f7f\u7528 <code>twine</code> \u4e0a\u4f20\u5305\u5230 PyPI\uff1a</p> <pre><code>pip install twine\ntwine upload dist/*\n</code></pre> <p>\u4e0a\u4f20\u6210\u529f\u540e\uff0c\u5176\u4ed6\u7528\u6237\u5c31\u53ef\u4ee5\u901a\u8fc7 <code>pip install simplemath</code> \u6765\u5b89\u88c5\u5e76\u4f7f\u7528\u4f60\u7684\u5305\u4e86\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#9","title":"9. \u9a8c\u8bc1\u5b89\u88c5","text":"<p>\u53ef\u4ee5\u5728\u865a\u62df\u73af\u5883\u4e2d\u9a8c\u8bc1\u5305\u7684\u5b89\u88c5\uff1a</p> <pre><code>pip install simplemath\n</code></pre> <p>\u7136\u540e\u6d4b\u8bd5\u5305\u7684\u529f\u80fd\uff1a</p> <pre><code>from simplemath import add, subtract\n\nprint(add(3, 4))        # Output: 7\nprint(subtract(10, 5))  # Output: 5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/advance/#10","title":"10. \u66f4\u65b0\u5305","text":"<p>\u5982\u679c\u9700\u8981\u66f4\u65b0\u5305\uff0c\u4fee\u6539\u4ee3\u7801\u540e\u66f4\u65b0 <code>setup.py</code> \u4e2d\u7684\u7248\u672c\u53f7\uff0c\u7136\u540e\u91cd\u65b0\u6253\u5305\u5e76\u4e0a\u4f20\u5373\u53ef\u3002</p> <p>\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4f60\u5e94\u8be5\u80fd\u591f\u7406\u89e3\u5982\u4f55\u521b\u5efa\u3001\u6253\u5305\u5e76\u53d1\u5e03\u4e00\u4e2a Python \u81ea\u5b9a\u4e49\u5305\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/","title":"python \u57fa\u7840\u6559\u7a0b","text":"<p>Python \u662f\u4e00\u79cd\u975e\u5e38\u6d41\u884c\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u56e0\u5176\u7b80\u5355\u6613\u5b66\u3001\u529f\u80fd\u5f3a\u5927\u800c\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u8be6\u7ec6\u7684 Python \u6559\u7a0b\uff0c\u6db5\u76d6\u4e86\u57fa\u7840\u8bed\u6cd5\u3001\u6570\u636e\u7c7b\u578b\u3001\u63a7\u5236\u7ed3\u6784\u3001\u51fd\u6570\u3001\u7c7b\u4e0e\u5bf9\u8c61\u3001\u6a21\u5757\u4e0e\u5305\u3001\u6587\u4ef6\u64cd\u4f5c\u7b49\u5185\u5bb9\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#1-python","title":"1. Python \u7b80\u4ecb","text":"<p>Python \u662f\u4e00\u79cd\u89e3\u91ca\u578b\u3001\u9762\u5411\u5bf9\u8c61\u3001\u52a8\u6001\u6570\u636e\u7c7b\u578b\u7684\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00\u3002\u5b83\u5177\u6709\u4e30\u5bcc\u7684\u6807\u51c6\u5e93\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e Web \u5f00\u53d1\u3001\u6570\u636e\u5206\u6790\u3001\u4eba\u5de5\u667a\u80fd\u3001\u79d1\u5b66\u8ba1\u7b97\u3001\u81ea\u52a8\u5316\u811a\u672c\u7b49\u9886\u57df\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#2-python","title":"2. \u5b89\u88c5 Python","text":"<p>\u4f60\u53ef\u4ee5\u4ece Python \u5b98\u65b9\u7f51\u7ad9 \u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684 Python\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u8f93\u5165 <code>python</code> \u6216 <code>python3</code> \u6765\u542f\u52a8 Python \u89e3\u91ca\u5668\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#3-python","title":"3. Python \u57fa\u7840\u8bed\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#31","title":"3.1 \u6ce8\u91ca","text":"<p>Python \u4f7f\u7528 <code>#</code> \u6765\u8868\u793a\u5355\u884c\u6ce8\u91ca\uff0c\u591a\u884c\u6ce8\u91ca\u53ef\u4ee5\u4f7f\u7528\u4e09\u5f15\u53f7 <code>'''</code> \u6216 <code>\"\"\"</code>\u3002</p> <pre><code># \u8fd9\u662f\u4e00\u4e2a\u5355\u884c\u6ce8\u91ca\n\n\"\"\"\n\u8fd9\u662f\u4e00\u4e2a\n\u591a\u884c\u6ce8\u91ca\n\"\"\"\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#32","title":"3.2 \u53d8\u91cf","text":"<p>Python \u53d8\u91cf\u662f\u52a8\u6001\u7c7b\u578b\u7684\uff0c\u53ef\u4ee5\u968f\u65f6\u6539\u53d8\u5176\u503c\u548c\u7c7b\u578b\u3002\u53d8\u91cf\u4e0d\u9700\u8981\u58f0\u660e\u7c7b\u578b\uff0c\u76f4\u63a5\u8d4b\u503c\u5373\u53ef\u3002</p> <pre><code>x = 10        # \u6574\u6570\ny = 3.14      # \u6d6e\u70b9\u6570\nname = \"Alice\" # \u5b57\u7b26\u4e32\nis_active = True  # \u5e03\u5c14\u503c\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#33","title":"3.3 \u6570\u636e\u7c7b\u578b","text":"<p>Python \u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u5305\u62ec\uff1a\u6574\u6570 (<code>int</code>)\u3001\u6d6e\u70b9\u6570 (<code>float</code>)\u3001\u5b57\u7b26\u4e32 (<code>str</code>)\u3001\u5e03\u5c14\u503c (<code>bool</code>)\u3001\u5217\u8868 (<code>list</code>)\u3001\u5143\u7ec4 (<code>tuple</code>)\u3001\u5b57\u5178 (<code>dict</code>)\u3001\u96c6\u5408 (<code>set</code>) \u7b49\u3002</p> <pre><code># \u6574\u6570\u548c\u6d6e\u70b9\u6570\na = 5\nb = 2.5\n\n# \u5b57\u7b26\u4e32\ns = \"Hello, Python\"\n\n# \u5217\u8868\nlst = [1, 2, 3, \"a\", \"b\", \"c\"]\n\n# \u5143\u7ec4\ntup = (1, 2, 3, \"a\", \"b\", \"c\")\n\n# \u5b57\u5178\nd = {\"name\": \"Alice\", \"age\": 25}\n\n# \u96c6\u5408\nst = {1, 2, 3, 4, 5}\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#4","title":"4. \u63a7\u5236\u7ed3\u6784","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#41","title":"4.1 \u6761\u4ef6\u8bed\u53e5","text":"<p>Python \u4f7f\u7528 <code>if</code>\u3001<code>elif</code> \u548c <code>else</code> \u8fdb\u884c\u6761\u4ef6\u5224\u65ad\u3002</p> <pre><code>x = 10\n\nif x &gt; 0:\n    print(\"x \u662f\u6b63\u6570\")\nelif x == 0:\n    print(\"x \u662f\u96f6\")\nelse:\n    print(\"x \u662f\u8d1f\u6570\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#42","title":"4.2 \u5faa\u73af","text":"<p>Python \u63d0\u4f9b <code>while</code> \u548c <code>for</code> \u4e24\u79cd\u5faa\u73af\u7ed3\u6784\u3002</p> <ul> <li><code>while</code> \u5faa\u73af\uff1a</li> </ul> <pre><code>i = 0\nwhile i &lt; 5:\n    print(i)\n    i += 1\n</code></pre> <ul> <li><code>for</code> \u5faa\u73af\uff1a</li> </ul> <pre><code>for i in range(5):\n    print(i)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#43","title":"4.3 \u5faa\u73af\u63a7\u5236","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>break</code> \u6765\u63d0\u524d\u9000\u51fa\u5faa\u73af\uff0c\u4f7f\u7528 <code>continue</code> \u6765\u8df3\u8fc7\u672c\u6b21\u5faa\u73af\u3002</p> <pre><code>for i in range(10):\n    if i == 5:\n        break  # \u63d0\u524d\u9000\u51fa\u5faa\u73af\n    if i % 2 == 0:\n        continue  # \u8df3\u8fc7\u672c\u6b21\u5faa\u73af\n    print(i)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#5","title":"5. \u51fd\u6570","text":"<p>\u51fd\u6570\u662f\u4ee3\u7801\u91cd\u7528\u7684\u91cd\u8981\u5de5\u5177\u3002Python \u4f7f\u7528 <code>def</code> \u5173\u952e\u5b57\u5b9a\u4e49\u51fd\u6570\u3002</p> <pre><code>def greet(name):\n    return f\"Hello, {name}!\"\n\n# \u8c03\u7528\u51fd\u6570\nprint(greet(\"Alice\"))\n</code></pre> <p>\u51fd\u6570\u53ef\u4ee5\u6709\u9ed8\u8ba4\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u4f20\u9012\u4efb\u610f\u6570\u91cf\u7684\u53c2\u6570\u3002</p> <pre><code>def add(a, b=10):\n    return a + b\n\nprint(add(5))        # \u8f93\u51fa 15\nprint(add(5, 20))    # \u8f93\u51fa 25\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#51","title":"5.1 \u533f\u540d\u51fd\u6570","text":"<p>Python \u8fd8\u652f\u6301\u4f7f\u7528 <code>lambda</code> \u5b9a\u4e49\u533f\u540d\u51fd\u6570\u3002</p> <pre><code>square = lambda x: x * x\nprint(square(5))  # \u8f93\u51fa 25\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#6","title":"6. \u7c7b\u4e0e\u5bf9\u8c61","text":"<p>Python \u662f\u4e00\u95e8\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>class</code> \u5173\u952e\u5b57\u5b9a\u4e49\u7c7b\u3002</p> <pre><code>class Dog:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n    def bark(self):\n        return f\"{self.name} is barking!\"\n\n# \u521b\u5efa\u5bf9\u8c61\nmy_dog = Dog(\"Buddy\", 3)\nprint(my_dog.bark())  # \u8f93\u51fa Buddy is barking!\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#61","title":"6.1 \u7ee7\u627f","text":"<p>Python \u652f\u6301\u7c7b\u7684\u7ee7\u627f\uff0c\u5b50\u7c7b\u53ef\u4ee5\u7ee7\u627f\u7236\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5e76\u53ef\u4ee5\u91cd\u5199\u65b9\u6cd5\u3002</p> <pre><code>class Animal:\n    def __init__(self, name):\n        self.name = name\n\n    def speak(self):\n        return \"Animal sound\"\n\nclass Cat(Animal):\n    def speak(self):\n        return \"Meow\"\n\nmy_cat = Cat(\"Whiskers\")\nprint(my_cat.speak())  # \u8f93\u51fa Meow\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#7","title":"7. \u6a21\u5757\u4e0e\u5305","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#71","title":"7.1 \u6a21\u5757","text":"<p>Python \u6587\u4ef6\uff08<code>.py</code>\uff09\u5c31\u662f\u4e00\u4e2a\u6a21\u5757\uff0c\u53ef\u4ee5\u5bfc\u5165\u4f7f\u7528\u3002</p> <pre><code># example.py\ndef hello():\n    return \"Hello from module!\"\n\n# main.py\nimport example\nprint(example.hello())  # \u8f93\u51fa Hello from module!\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#72","title":"7.2 \u5305","text":"<p>\u5305\u662f\u5305\u542b\u6a21\u5757\u7684\u6587\u4ef6\u5939\uff0c\u901a\u5e38\u5305\u542b\u4e00\u4e2a <code>__init__.py</code> \u6587\u4ef6\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u5305\u3002</p> <pre><code># mypackage/__init__.py\n# \u5305\u521d\u59cb\u5316\u4ee3\u7801\n\n# \u4f7f\u7528\u5305\u4e2d\u7684\u6a21\u5757\nimport mypackage.module\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#8","title":"8. \u6587\u4ef6\u64cd\u4f5c","text":"<p>Python \u63d0\u4f9b\u4e86\u4e00\u5957\u7b80\u5355\u7684\u6587\u4ef6\u64cd\u4f5c\u63a5\u53e3\uff0c\u53ef\u4ee5\u8fdb\u884c\u6587\u4ef6\u8bfb\u5199\u64cd\u4f5c\u3002</p> <pre><code># \u5199\u5165\u6587\u4ef6\nwith open(\"example.txt\", \"w\") as f:\n    f.write(\"Hello, Python!\")\n\n# \u8bfb\u53d6\u6587\u4ef6\nwith open(\"example.txt\", \"r\") as f:\n    content = f.read()\n    print(content)  # \u8f93\u51fa Hello, Python!\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#9","title":"9. \u5f02\u5e38\u5904\u7406","text":"<p>Python \u4f7f\u7528 <code>try</code>\u3001<code>except</code> \u5904\u7406\u5f02\u5e38\u3002</p> <pre><code>try:\n    x = 10 / 0\nexcept ZeroDivisionError as e:\n    print(\"\u9664\u4ee5\u96f6\u9519\u8bef:\", e)\nfinally:\n    print(\"\u8fd9\u662f finally \u8bed\u53e5\u5757\uff0c\u65e0\u8bba\u662f\u5426\u51fa\u73b0\u5f02\u5e38\u90fd\u4f1a\u6267\u884c\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#10-python","title":"10. Python \u6807\u51c6\u5e93","text":"<p>Python \u6807\u51c6\u5e93\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u6a21\u5757\uff0c\u6db5\u76d6\u6587\u4ef6\u64cd\u4f5c\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u3001\u7cfb\u7edf\u8c03\u7528\u3001\u7f51\u7edc\u7f16\u7a0b\u3001\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7ba1\u7406\u7b49\u591a\u79cd\u529f\u80fd\u3002\u4f8b\u5982\uff1a</p> <ul> <li><code>os</code> \u6a21\u5757\uff1a\u5904\u7406\u6587\u4ef6\u548c\u76ee\u5f55</li> <li><code>sys</code> \u6a21\u5757\uff1a\u8bbf\u95ee\u7cfb\u7edf\u7279\u5b9a\u53c2\u6570\u548c\u529f\u80fd</li> <li><code>math</code> \u6a21\u5757\uff1a\u63d0\u4f9b\u6570\u5b66\u8fd0\u7b97\u51fd\u6570</li> <li><code>datetime</code> \u6a21\u5757\uff1a\u5904\u7406\u65e5\u671f\u548c\u65f6\u95f4</li> <li><code>re</code> \u6a21\u5757\uff1a\u5904\u7406\u6b63\u5219\u8868\u8fbe\u5f0f</li> </ul> <pre><code>import os\n\n# \u83b7\u53d6\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\nprint(os.getcwd())\n\nimport math\n\n# \u8ba1\u7b97\u5e73\u65b9\u6839\nprint(math.sqrt(16))\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#11","title":"11. \u865a\u62df\u73af\u5883","text":"<p>Python \u7684\u865a\u62df\u73af\u5883\u662f\u4e00\u4e2a\u72ec\u7acb\u7684 Python \u8fd0\u884c\u73af\u5883\uff0c\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u9879\u76ee\u9694\u79bb\u4e0d\u540c\u7684\u5305\u4f9d\u8d56\u3002\u4f7f\u7528 <code>venv</code> \u6a21\u5757\u53ef\u4ee5\u521b\u5efa\u865a\u62df\u73af\u5883\u3002</p> <pre><code>python -m venv myenv\n</code></pre> <p>\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff08Windows\uff09\uff1a</p> <pre><code>myenv\\Scripts\\activate\n</code></pre> <p>\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff08Linux/MacOS\uff09\uff1a</p> <pre><code>source myenv/bin/activate\n</code></pre> <p>\u5728\u865a\u62df\u73af\u5883\u4e2d\uff0c\u4f60\u53ef\u4ee5\u5b89\u88c5\u5305\uff0c\u5e76\u4e14\u4e0d\u4f1a\u5f71\u54cd\u5168\u5c40 Python \u73af\u5883\uff1a</p> <pre><code>pip install requests\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#12","title":"12. \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8fdb\u9636","text":"<p>\u9664\u4e86\u57fa\u7840\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08OOP\uff09\uff0cPython \u8fd8\u652f\u6301\u66f4\u9ad8\u7ea7\u7684 OOP \u7279\u6027\uff0c\u5982\u88c5\u9970\u5668\u3001\u5143\u7c7b\u3001\u62bd\u8c61\u7c7b\u3001\u591a\u91cd\u7ee7\u627f\u3001\u7c7b\u65b9\u6cd5\u3001\u9759\u6001\u65b9\u6cd5\u7b49\u3002</p> <pre><code>class MyClass:\n    @staticmethod\n    def static_method():\n        print(\"This is a static method\")\n\n    @classmethod\n    def class_method(cls):\n        print(\"This is a class method\")\n\n# \u8c03\u7528\u9759\u6001\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5\nMyClass.static_method()\nMyClass.class_method()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#13-python","title":"13. Python \u8fdb\u9636","text":"<p>Python \u8fd8\u652f\u6301\u8bb8\u591a\u8fdb\u9636\u7279\u6027\uff0c\u4f8b\u5982\u751f\u6210\u5668\u3001\u8fed\u4ee3\u5668\u3001\u88c5\u9970\u5668\u3001\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7b49\u3002</p> <pre><code># \u751f\u6210\u5668\ndef my_generator():\n    yield 1\n    yield 2\n    yield 3\n\ngen = my_generator()\nprint(next(gen))  # \u8f93\u51fa 1\nprint(next(gen))  # \u8f93\u51fa 2\nprint(next(gen))  # \u8f93\u51fa 3\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#14","title":"14. \u5e38\u7528\u7684\u7b2c\u4e09\u65b9\u5e93","text":"<p>Python \u751f\u6001\u7cfb\u7edf\u4e2d\u6709\u5927\u91cf\u7b2c\u4e09\u65b9\u5e93\uff0c\u6781\u5927\u5730\u6269\u5c55\u4e86 Python \u7684\u529f\u80fd\u3002\u4f8b\u5982\uff1a</p> <ul> <li>NumPy\uff1a\u7528\u4e8e\u79d1\u5b66\u8ba1\u7b97\u7684\u5e93</li> <li>Pandas\uff1a\u6570\u636e\u5206\u6790\u548c\u5904\u7406\u7684\u5e93</li> <li>Matplotlib\uff1a\u6570\u636e\u53ef\u89c6\u5316\u5e93</li> <li>Flask/Django\uff1aWeb \u5f00\u53d1\u6846\u67b6</li> <li>FastAPI: \u5f02\u6b65Web\u5f00\u53d1\u6846\u67b6</li> <li>Requests\uff1aHTTP \u5e93\uff0c\u7b80\u5316\u4e86\u7f51\u7edc\u8bf7\u6c42</li> <li>Celery: \u5206\u5e03\u5f0f\u4efb\u52a1\u961f\u5217</li> </ul> <p>BeautifulSoup**\uff1aHTML/XML \u89e3\u6790\u5e93</p> <pre><code>import requests\n\nresponse = requests.get(\"https://www.python.org\")\nprint(response.status_code)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#15","title":"15. \u9879\u76ee\u7ba1\u7406\u4e0e\u90e8\u7f72","text":"<p>\u5728\u5b8c\u6210 Python \u9879\u76ee\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>pip</code> \u7ba1\u7406\u4f9d\u8d56\uff0c\u4f7f\u7528 <code>setup.py</code> \u5b9a\u4e49\u5305\uff0c\u4f7f\u7528 <code>PyPI</code> \u53d1\u5e03\u5305\uff0c\u4f7f\u7528 <code>Docker</code> \u6216\u8005 <code>Heroku</code> \u8fdb\u884c\u90e8\u7f72\u3002</p> <pre><code>pip freeze &gt; requirements.txt  # \u5bfc\u51fa\u4f9d\u8d56\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/basic/#16","title":"16. \u5b66\u4e60\u8d44\u6e90","text":"<ul> <li>\u5b98\u65b9\u7f51\u7ad9: Python.org</li> <li>\u6587\u6863: Python \u5b98\u65b9\u6587\u6863</li> <li>\u6559\u7a0b: \u83dc\u9e1f\u6559\u7a0b Python \u6559\u7a0b</li> <li>\u4e66\u7c4d: \u300aPython \u7f16\u7a0b\uff1a\u4ece\u5165\u95e8\u5230\u5b9e\u8df5\u300b\u3001\u300a\u6d41\u7545\u7684 Python\u300b</li> </ul> <p>\u5b66\u4e60 Python \u662f\u4e00\u4e2a\u6301\u7eed\u7684\u8fc7\u7a0b\uff0c\u5efa\u8bae\u901a\u8fc7\u505a\u9879\u76ee\u3001\u9605\u8bfb\u6e90\u7801\u3001\u53c2\u4e0e\u5f00\u6e90\u793e\u533a\u6765\u4e0d\u65ad\u63d0\u5347\u4f60\u7684 Python \u6280\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/","title":"Python \u9762\u8bd5\u624b\u518c","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_1","title":"\u5b57\u7b26\u4e32\u548c\u5b57\u8282\u5bf9\u6bd4","text":"<p>\u5728 Python \u4e2d\uff0c\u5b57\u7b26\u4e32\u548c\u5b57\u8282\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u522b\u7528\u4e8e\u5904\u7406\u6587\u672c\u548c\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u7406\u89e3\u5b83\u4eec\u7684\u533a\u522b\u4ee5\u53ca\u5982\u4f55\u5728\u4e24\u8005\u4e4b\u95f4\u8f6c\u6362\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u4ee5\u4e0b\u662f\u5173\u4e8e\u5b57\u7b26\u4e32\u548c\u5b57\u8282\u5728 Python \u4e2d\u7684\u8be6\u7ec6\u5bf9\u6bd4\u548c\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-str","title":"1. \u5b57\u7b26\u4e32\uff08str\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#11","title":"1.1 \u5b9a\u4e49","text":"<ul> <li>\u5b57\u7b26\u4e32\u7c7b\u578b\u7528\u4e8e\u5b58\u50a8\u6587\u672c\u6570\u636e\u3002Python \u4e2d\u7684\u5b57\u7b26\u4e32\u662f Unicode \u5b57\u7b26\u7684\u5e8f\u5217\u3002</li> <li>\u5b57\u7b26\u4e32\u4f7f\u7528\u5355\u5f15\u53f7\uff08<code>'</code>\uff09\u6216\u53cc\u5f15\u53f7\uff08<code>\"</code>\uff09\u6765\u5b9a\u4e49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#12","title":"1.2 \u7279\u6027","text":"<ul> <li>\u4e0d\u53ef\u53d8\uff1a\u5b57\u7b26\u4e32\u4e00\u65e6\u521b\u5efa\u5c31\u4e0d\u80fd\u66f4\u6539\u3002\u5982\u679c\u9700\u8981\u4fee\u6539\u5b57\u7b26\u4e32\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\u3002</li> <li>\u7f16\u7801\uff1a\u5b57\u7b26\u4e32\u4ee5 Unicode \u7f16\u7801\u5b58\u50a8\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4eec\u53ef\u4ee5\u8868\u793a\u591a\u79cd\u8bed\u8a00\u548c\u5b57\u7b26\u96c6\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#13","title":"1.3 \u64cd\u4f5c\u793a\u4f8b","text":"<pre><code># \u5b9a\u4e49\u5b57\u7b26\u4e32\ns = \"Hello, World!\"\n\n# \u8bbf\u95ee\u5b57\u7b26\nprint(s[0])  # \u8f93\u51fa: H\n\n# \u5b57\u7b26\u4e32\u62fc\u63a5\nnew_s = s + \" How are you?\"\nprint(new_s)  # \u8f93\u51fa: Hello, World! How are you?\n\n# \u5b57\u7b26\u4e32\u957f\u5ea6\nprint(len(s))  # \u8f93\u51fa: 13\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-bytes","title":"2. \u5b57\u8282\uff08bytes\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#21","title":"2.1 \u5b9a\u4e49","text":"<ul> <li>\u5b57\u8282\u7c7b\u578b\u7528\u4e8e\u5b58\u50a8\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u901a\u5e38\u662f\u539f\u59cb\u6570\u636e\uff0c\u5982\u6587\u4ef6\u5185\u5bb9\u3001\u7f51\u7edc\u6570\u636e\u7b49\u3002</li> <li>\u5b57\u8282\u5e8f\u5217\u4f7f\u7528\u524d\u7f00 <code>b</code> \u548c\u5355\u5f15\u53f7\uff08<code>'</code>\uff09\u6216\u53cc\u5f15\u53f7\uff08<code>\"</code>\uff09\u6765\u5b9a\u4e49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#22","title":"2.2 \u7279\u6027","text":"<ul> <li>\u4e0d\u53ef\u53d8\uff1a\u5b57\u8282\u5bf9\u8c61\u548c\u5b57\u7b26\u4e32\u4e00\u6837\u4e5f\u662f\u4e0d\u53ef\u53d8\u7684\u3002</li> <li>\u7f16\u7801\uff1a\u5b57\u8282\u4ee5\u539f\u59cb\u4e8c\u8fdb\u5236\u683c\u5f0f\u5b58\u50a8\uff0c\u800c\u4e0d\u662f Unicode \u7f16\u7801\u3002\u56e0\u6b64\uff0c\u5b57\u8282\u5bf9\u8c61\u901a\u5e38\u7528\u4e8e\u5904\u7406\u9700\u8981\u4fdd\u6301\u539f\u59cb\u683c\u5f0f\u7684\u6570\u636e\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#23","title":"2.3 \u64cd\u4f5c\u793a\u4f8b","text":"<pre><code># \u5b9a\u4e49\u5b57\u8282\u5e8f\u5217\nb = b\"Hello, World!\"\n\n# \u8bbf\u95ee\u5b57\u8282\nprint(b[0])  # \u8f93\u51fa: 72 (\u5b57\u7b26 'H' \u7684 ASCII \u503c)\n\n# \u5b57\u8282\u62fc\u63a5\nnew_b = b + b\" How are you?\"\nprint(new_b)  # \u8f93\u51fa: b'Hello, World! How are you?'\n\n# \u5b57\u8282\u957f\u5ea6\nprint(len(b))  # \u8f93\u51fa: 13\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3","title":"3. \u5b57\u7b26\u4e32\u548c\u5b57\u8282\u4e4b\u95f4\u7684\u8f6c\u6362","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#31","title":"3.1 \u4ece\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282","text":"<ul> <li>\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u7684 <code>encode()</code> \u65b9\u6cd5\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u3002\u4f60\u53ef\u4ee5\u6307\u5b9a\u7f16\u7801\u7c7b\u578b\uff0c\u5982 <code>'utf-8'</code>\u3001<code>'ascii'</code> \u7b49\u3002</li> </ul> <pre><code>s = \"Hello, World!\"\nb = s.encode('utf-8')\nprint(b)  # \u8f93\u51fa: b'Hello, World!'\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#32","title":"3.2 \u4ece\u5b57\u8282\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32","text":"<ul> <li>\u53ef\u4ee5\u4f7f\u7528\u5b57\u8282\u5bf9\u8c61\u7684 <code>decode()</code> \u65b9\u6cd5\u5c06\u5b57\u8282\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002\u540c\u6837\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u89e3\u7801\u7c7b\u578b\u3002</li> </ul> <pre><code>b = b\"Hello, World!\"\ns = b.decode('utf-8')\nprint(s)  # \u8f93\u51fa: Hello, World!\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4","title":"4. \u4f7f\u7528\u573a\u666f\u5bf9\u6bd4","text":"<ul> <li>\u5b57\u7b26\u4e32\uff1a\u7528\u4e8e\u5904\u7406\u6587\u672c\u6570\u636e\uff0c\u5982\u6587\u4ef6\u5185\u5bb9\u3001\u7528\u6237\u8f93\u5165\u3001\u6587\u672c\u5904\u7406\u7b49\u3002</li> <li>\u5b57\u8282\uff1a\u7528\u4e8e\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5982\u56fe\u50cf\u6587\u4ef6\u3001\u7f51\u7edc\u6570\u636e\u4f20\u8f93\u3001\u52a0\u5bc6\u6570\u636e\u7b49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5","title":"5. \u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u7f16\u7801\u95ee\u9898\uff1a\u5728\u4ece\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5b57\u8282\u6216\u4ece\u5b57\u8282\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u65f6\uff0c\u786e\u4fdd\u4f7f\u7528\u6b63\u786e\u7684\u7f16\u7801\u65b9\u5f0f\u3002\u4e0d\u540c\u7684\u7f16\u7801\u65b9\u5f0f\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u7684\u89e3\u91ca\u4e0d\u4e00\u81f4\u3002</li> <li>\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\uff1a\u5904\u7406\u9700\u8981\u7cbe\u786e\u63a7\u5236\u5b57\u8282\u7ea7\u522b\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u65f6\uff0c\u4f7f\u7528\u5b57\u8282\u5bf9\u8c61\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#6","title":"6. \u5c0f\u7ed3","text":"<p>Python \u4e2d\u7684\u5b57\u7b26\u4e32\u548c\u5b57\u8282\u5206\u522b\u7528\u4e8e\u4e0d\u540c\u7684\u7528\u9014\uff1a\u5b57\u7b26\u4e32\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u6587\u672c\u6570\u636e\uff0c\u800c\u5b57\u8282\u7528\u4e8e\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u901a\u8fc7 <code>encode()</code> \u548c <code>decode()</code> \u65b9\u6cd5\uff0c\u5b57\u7b26\u4e32\u548c\u5b57\u8282\u53ef\u4ee5\u76f8\u4e92\u8f6c\u6362\u3002\u7406\u89e3\u5b83\u4eec\u7684\u533a\u522b\u548c\u5e94\u7528\u573a\u666f\uff0c\u6709\u52a9\u4e8e\u7f16\u5199\u66f4\u52a0\u9ad8\u6548\u548c\u5065\u58ee\u7684 Python \u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_2","title":"\u9762\u5411\u5bf9\u8c61\u7684\u63a5\u53e3\u5982\u4f55\u5b9e\u73b0","text":"<p>\u5728\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08OOP\uff09\u4e2d\uff0c\u63a5\u53e3\uff08Interface\uff09\u662f\u4e00\u79cd\u5b9a\u4e49\u5bf9\u8c61\u884c\u4e3a\u7684\u89c4\u8303\u6216\u5951\u7ea6\u3002\u5b83\u89c4\u5b9a\u4e86\u7c7b\u5e94\u8be5\u63d0\u4f9b\u54ea\u4e9b\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u4f46\u5e76\u4e0d\u5b9a\u4e49\u8fd9\u4e9b\u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u3002\u5728 Python \u4e2d\uff0c\u867d\u7136\u6ca1\u6709\u50cf Java \u6216 C# \u90a3\u6837\u7684\u4e13\u95e8\u63a5\u53e3\u5173\u952e\u5b57\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u62bd\u8c61\u57fa\u7c7b\uff08Abstract Base Classes, ABC\uff09\u6765\u5b9e\u73b0\u63a5\u53e3\u7684\u6982\u5ff5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1","title":"1. \u63a5\u53e3\u7684\u6982\u5ff5","text":"<ul> <li>\u63a5\u53e3 \u662f\u4e00\u7ec4\u65b9\u6cd5\u548c\u5c5e\u6027\u7684\u96c6\u5408\uff0c\u5b9a\u4e49\u4e86\u7c7b\u5fc5\u987b\u9075\u5faa\u7684\u884c\u4e3a\u89c4\u8303\u3002</li> <li>\u5b9e\u73b0\u63a5\u53e3 \u7684\u7c7b\u5fc5\u987b\u63d0\u4f9b\u63a5\u53e3\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u5e76\u786e\u4fdd\u8fd9\u4e9b\u65b9\u6cd5\u5177\u6709\u6b63\u786e\u7684\u7b7e\u540d\uff08\u540d\u79f0\u3001\u53c2\u6570\u3001\u8fd4\u56de\u7c7b\u578b\u7b49\uff09\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-python","title":"2. \u5728 Python \u4e2d\u5b9e\u73b0\u63a5\u53e3","text":"<p>Python \u4e2d\u6ca1\u6709\u76f4\u63a5\u7684\u63a5\u53e3\u5173\u952e\u5b57\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 <code>abc</code> \u6a21\u5757\u4e2d\u7684\u62bd\u8c61\u57fa\u7c7b\u6765\u5b9a\u4e49\u63a5\u53e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#21-abc","title":"2.1 \u4f7f\u7528 <code>abc</code> \u6a21\u5757\u5b9a\u4e49\u63a5\u53e3","text":"<p>Python \u7684 <code>abc</code> \u6a21\u5757\u5141\u8bb8\u4f60\u521b\u5efa\u62bd\u8c61\u57fa\u7c7b\uff0c\u5176\u4e2d\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u62bd\u8c61\u65b9\u6cd5\u3002\u8fd9\u4e9b\u62bd\u8c61\u65b9\u6cd5\u6ca1\u6709\u5b9e\u73b0\uff0c\u5fc5\u987b\u7531\u5b50\u7c7b\u63d0\u4f9b\u5177\u4f53\u5b9e\u73b0\u3002</p> <pre><code>from abc import ABC, abstractmethod\n\nclass Shape(ABC):\n    @abstractmethod\n    def area(self):\n        pass\n\n    @abstractmethod\n    def perimeter(self):\n        pass\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>Shape</code> \u7c7b\u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b\uff08\u5373\u63a5\u53e3\uff09\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e24\u4e2a\u62bd\u8c61\u65b9\u6cd5 <code>area</code> \u548c <code>perimeter</code>\u3002\u4efb\u4f55\u7ee7\u627f\u81ea <code>Shape</code> \u7684\u7c7b\u90fd\u5fc5\u987b\u5b9e\u73b0\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#22_1","title":"2.2 \u5b9e\u73b0\u63a5\u53e3","text":"<p>\u8981\u5b9e\u73b0\u4e00\u4e2a\u63a5\u53e3\uff0c\u521b\u5efa\u4e00\u4e2a\u7ee7\u627f\u81ea\u62bd\u8c61\u57fa\u7c7b\u7684\u7c7b\uff0c\u5e76\u5b9e\u73b0\u6240\u6709\u62bd\u8c61\u65b9\u6cd5\u3002</p> <pre><code>class Rectangle(Shape):\n    def __init__(self, width, height):\n        self.width = width\n        self.height = height\n\n    def area(self):\n        return self.width * self.height\n\n    def perimeter(self):\n        return 2 * (self.width + self.height)\n\n# \u4f7f\u7528Rectangle\u7c7b\nrect = Rectangle(10, 20)\nprint(f\"Area: {rect.area()}\")  # \u8f93\u51fa: Area: 200\nprint(f\"Perimeter: {rect.perimeter()}\")  # \u8f93\u51fa: Perimeter: 60\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>Rectangle</code> \u7c7b\u5b9e\u73b0\u4e86 <code>Shape</code> \u63a5\u53e3\uff0c\u63d0\u4f9b\u4e86 <code>area</code> \u548c <code>perimeter</code> \u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#23_1","title":"2.3 \u62bd\u8c61\u57fa\u7c7b\u7684\u5b9e\u4f8b\u5316","text":"<p>\u62bd\u8c61\u57fa\u7c7b\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316\u3002\u5982\u679c\u4f60\u5c1d\u8bd5\u521b\u5efa\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b\u7684\u5b9e\u4f8b\uff0cPython \u4f1a\u629b\u51fa <code>TypeError</code>\u3002</p> <pre><code>shape = Shape()  # \u4f1a\u629b\u51fa TypeError: Can't instantiate abstract class Shape with abstract methods area, perimeter\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#24-abstractmethod","title":"2.4 \u4f7f\u7528 <code>@abstractmethod</code> \u88c5\u9970\u5668","text":"<p><code>@abstractmethod</code> \u88c5\u9970\u5668\u7528\u4e8e\u5b9a\u4e49\u62bd\u8c61\u65b9\u6cd5\uff0c\u5b83\u544a\u8bc9 Python \u8be5\u65b9\u6cd5\u5728\u57fa\u7c7b\u4e2d\u6ca1\u6709\u5b9e\u73b0\uff0c\u5fc5\u987b\u5728\u5b50\u7c7b\u4e2d\u5b9e\u73b0\u3002</p> <pre><code>from abc import ABC, abstractmethod\n\nclass Vehicle(ABC):\n    @abstractmethod\n    def start_engine(self):\n        pass\n\nclass Car(Vehicle):\n    def start_engine(self):\n        print(\"Car engine started!\")\n\ncar = Car()\ncar.start_engine()  # \u8f93\u51fa: Car engine started!\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3_1","title":"3. \u63a5\u53e3\u7684\u610f\u4e49\u548c\u7528\u9014","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#31_1","title":"3.1 \u89e3\u8026\u548c\u6269\u5c55\u6027","text":"<p>\u63a5\u53e3\u63d0\u4f9b\u4e86\u4e00\u79cd\u89e3\u8026\u673a\u5236\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u7684\u4e0d\u540c\u90e8\u5206\u53ef\u4ee5\u72ec\u7acb\u5f00\u53d1\u548c\u6d4b\u8bd5\u3002\u5b9e\u73b0\u63a5\u53e3\u7684\u7c7b\u53ef\u4ee5\u968f\u65f6\u66f4\u6362\uff0c\u53ea\u8981\u5b83\u4eec\u9075\u5faa\u540c\u6837\u7684\u63a5\u53e3\u5951\u7ea6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#32_1","title":"3.2 \u591a\u6001\u6027","text":"<p>\u63a5\u53e3\u5141\u8bb8\u4e0d\u540c\u7684\u7c7b\u5b9e\u73b0\u540c\u6837\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u901a\u8fc7\u76f8\u540c\u7684\u63a5\u53e3\u6765\u8c03\u7528\u3002\u8fd9\u6837\u53ef\u4ee5\u4f7f\u7528\u591a\u6001\u6027\u6765\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002</p> <pre><code>def start_vehicle(vehicle: Vehicle):\n    vehicle.start_engine()\n\ncar = Car()\nstart_vehicle(car)  # \u8f93\u51fa: Car engine started!\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#33","title":"3.3 \u89c4\u8303\u548c\u6587\u6863\u5316","text":"<p>\u63a5\u53e3\u660e\u786e\u4e86\u7c7b\u5e94\u8be5\u5b9e\u73b0\u54ea\u4e9b\u65b9\u6cd5\uff0c\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u6e05\u6670\u7684\u89c4\u8303\uff0c\u4e5f\u4f7f\u5f97\u4ee3\u7801\u66f4\u5bb9\u6613\u7406\u89e3\u548c\u7ef4\u62a4\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_1","title":"4. \u793a\u4f8b\uff1a\u52a8\u7269\u63a5\u53e3","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u590d\u6742\u7684\u4f8b\u5b50\uff0c\u5c55\u793a\u5982\u4f55\u4f7f\u7528\u63a5\u53e3\u6765\u5b9a\u4e49\u4e00\u7ec4\u4e0d\u540c\u52a8\u7269\u7684\u884c\u4e3a\u3002</p> <pre><code>from abc import ABC, abstractmethod\n\nclass Animal(ABC):\n    @abstractmethod\n    def sound(self):\n        pass\n\n    @abstractmethod\n    def move(self):\n        pass\n\nclass Dog(Animal):\n    def sound(self):\n        return \"Bark\"\n\n    def move(self):\n        return \"Run\"\n\nclass Bird(Animal):\n    def sound(self):\n        return \"Chirp\"\n\n    def move(self):\n        return \"Fly\"\n\n# \u4f7f\u7528\u63a5\u53e3\ndog = Dog()\nbird = Bird()\n\nprint(f\"Dog: {dog.sound()}, {dog.move()}\")  # \u8f93\u51fa: Dog: Bark, Run\nprint(f\"Bird: {bird.sound()}, {bird.move()}\")  # \u8f93\u51fa: Bird: Chirp, Fly\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>Dog</code> \u548c <code>Bird</code> \u90fd\u5b9e\u73b0\u4e86 <code>Animal</code> \u63a5\u53e3\uff0c\u5e76\u63d0\u4f9b\u4e86 <code>sound</code> \u548c <code>move</code> \u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5-python-protocol","title":"5. \u63a5\u53e3\u7684\u66ff\u4ee3\u65b9\u6848\uff1aPython \u534f\u8bae\uff08Protocol\uff09","text":"<p>\u4ece Python 3.8 \u5f00\u59cb\uff0c\u5f15\u5165\u4e86 <code>typing.Protocol</code>\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u8f7b\u91cf\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u63a5\u53e3\uff0c\u800c\u4e0d\u5fc5\u4f7f\u7528\u62bd\u8c61\u57fa\u7c7b\u3002\u8fd9\u79cd\u65b9\u5f0f\u7279\u522b\u9002\u5408\u9e2d\u5b50\u7c7b\u578b\u7f16\u7a0b\u3002</p> <pre><code>from typing import Protocol\n\nclass Flyer(Protocol):\n    def fly(self) -&gt; None:\n        ...\n\nclass Bird:\n    def fly(self) -&gt; None:\n        print(\"Flies high in the sky\")\n\nclass Airplane:\n    def fly(self) -&gt; None:\n        print(\"Flies through the clouds\")\n\ndef let_it_fly(flyer: Flyer):\n    flyer.fly()\n\nbird = Bird()\nairplane = Airplane()\n\nlet_it_fly(bird)  # \u8f93\u51fa: Flies high in the sky\nlet_it_fly(airplane)  # \u8f93\u51fa: Flies through the clouds\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#6_1","title":"6. \u5c0f\u7ed3","text":"<ul> <li>\u63a5\u53e3 \u662f\u4e00\u79cd\u5b9a\u4e49\u7c7b\u884c\u4e3a\u7684\u5951\u7ea6\uff0c\u5728 Python \u4e2d\u53ef\u4ee5\u901a\u8fc7\u62bd\u8c61\u57fa\u7c7b\uff08<code>ABC</code>\uff09\u6765\u5b9e\u73b0\u3002</li> <li>\u62bd\u8c61\u57fa\u7c7b \u5141\u8bb8\u4f60\u5b9a\u4e49\u6ca1\u6709\u5177\u4f53\u5b9e\u73b0\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5fc5\u987b\u5728\u5b50\u7c7b\u4e2d\u5b9e\u73b0\u3002</li> <li><code>@abstractmethod</code>  \u88c5\u9970\u5668\u7528\u4e8e\u5b9a\u4e49\u62bd\u8c61\u65b9\u6cd5\u3002</li> <li>\u63a5\u53e3\u7684\u4f18\u52bf \u5728\u4e8e\u89e3\u8026\u3001\u89c4\u8303\u5316\u3001\u591a\u6001\u6027\uff0c\u80fd\u591f\u63d0\u5347\u4ee3\u7801\u7684\u53ef\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</li> </ul> <p>\u7406\u89e3\u548c\u5e94\u7528\u63a5\u53e3\u6982\u5ff5\u6709\u52a9\u4e8e\u7f16\u5199\u66f4\u52a0\u7075\u6d3b\u3001\u6613\u4e8e\u6269\u5c55\u7684 Python \u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_1","title":"Python \u548c \u5176\u4ed6\u8bed\u8a00\u76f8\u6bd4\u6709\u4ec0\u4e48\u533a\u522b\uff1f \u4f18\u52bf\u5728\u54ea\u91cc","text":"<p>Python \u662f\u4e00\u79cd\u9ad8\u7ea7\u3001\u52a8\u6001\u7c7b\u578b\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u56e0\u5176\u7b80\u5355\u6613\u5b66\u3001\u529f\u80fd\u5f3a\u5927\u800c\u5e7f\u53d7\u6b22\u8fce\u3002\u4e0e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u76f8\u6bd4\uff0cPython \u5728\u591a\u4e2a\u65b9\u9762\u5177\u6709\u72ec\u7279\u7684\u4f18\u52bf\u548c\u7279\u70b9\u3002\u4e0b\u9762\u6211\u5c06\u8be6\u7ec6\u6bd4\u8f83 Python \u548c\u5176\u4ed6\u4e3b\u6d41\u7f16\u7a0b\u8bed\u8a00\u7684\u533a\u522b\uff0c\u5e76\u8bf4\u660e Python \u7684\u4f18\u52bf\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_1","title":"1. \u8bed\u6cd5\u7b80\u6d01\u548c\u6613\u8bfb\u6027","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u7684\u8bed\u6cd5\u975e\u5e38\u7b80\u6d01\uff0c\u4ee3\u7801\u53ef\u8bfb\u6027\u5f3a\uff0c\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\u3002\u5b83\u91c7\u7528\u7f29\u8fdb\u6765\u8868\u793a\u4ee3\u7801\u5757\uff0c\u800c\u4e0d\u662f\u50cf C/C++\u3001Java \u90a3\u6837\u4f7f\u7528\u5927\u62ec\u53f7 <code>{}</code>\u3002</li> <li>\u4f8b\u5982\uff0c\u540c\u6837\u7684\u529f\u80fd\u5728 Python \u4e2d\u901a\u5e38\u53ef\u4ee5\u7528\u66f4\u5c11\u7684\u4ee3\u7801\u5b9e\u73b0\u3002</li> </ul> <p>\u4f18\u52bf\uff1a</p> <ul> <li>\u6613\u4e8e\u5b66\u4e60\uff1aPython \u662f\u521d\u5b66\u8005\u6700\u5e38\u9009\u62e9\u7684\u7f16\u7a0b\u8bed\u8a00\u4e4b\u4e00\uff0c\u5165\u95e8\u95e8\u69db\u4f4e\u3002</li> <li>\u7ef4\u62a4\u6027\u597d\uff1a\u7531\u4e8e\u8bed\u6cd5\u7b80\u6d01\u3001\u6e05\u6670\uff0cPython \u4ee3\u7801\u66f4\u5bb9\u6613\u7406\u89e3\u548c\u7ef4\u62a4\u3002</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code># Python \u4ee3\u7801\ndef add(a, b):\n    return a + b\n</code></pre> <p>\u4e0e\u5176\u4ed6\u8bed\u8a00\u7684\u5bf9\u6bd4\uff1a</p> <pre><code>// Java \u4ee3\u7801\npublic int add(int a, int b) {\n    return a + b;\n}\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2","title":"2. \u52a8\u6001\u7c7b\u578b\u4e0e\u7075\u6d3b\u6027","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u662f\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u8fd9\u610f\u5473\u7740\u53d8\u91cf\u7684\u7c7b\u578b\u5728\u8fd0\u884c\u65f6\u786e\u5b9a\uff0c\u800c\u4e0d\u662f\u7f16\u8bd1\u65f6\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0cJava\u3001C++ \u7b49\u662f\u9759\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u8981\u6c42\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\u53d8\u91cf\u7c7b\u578b\u3002</li> </ul> <p>\u4f18\u52bf\uff1a</p> <ul> <li>\u7075\u6d3b\u6027\uff1aPython \u5141\u8bb8\u66f4\u7075\u6d3b\u7684\u7f16\u7a0b\u98ce\u683c\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u66f4\u5feb\u901f\u5730\u7f16\u5199\u548c\u6d4b\u8bd5\u4ee3\u7801\u3002</li> <li>\u7b80\u6d01\u7684\u4ee3\u7801\uff1a\u7531\u4e8e\u65e0\u9700\u663e\u5f0f\u58f0\u660e\u53d8\u91cf\u7c7b\u578b\uff0c\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\u3002</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code># Python \u4ee3\u7801\nx = 10  # \u6574\u6570\nx = \"Hello\"  # \u73b0\u5728\u662f\u5b57\u7b26\u4e32\n</code></pre> <p>\u5728\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u4e2d\u7684\u5bf9\u6bd4\uff1a</p> <pre><code>// Java \u4ee3\u7801\nint x = 10;\nx = \"Hello\";  // \u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u7c7b\u578b\u4e0d\u5339\u914d\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3_2","title":"3. \u4e30\u5bcc\u7684\u6807\u51c6\u5e93\u548c\u7b2c\u4e09\u65b9\u5e93","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u62e5\u6709\u975e\u5e38\u4e30\u5bcc\u7684\u6807\u51c6\u5e93\uff0c\u6db5\u76d6\u4e86\u4ece\u6587\u4ef6 I/O\u3001\u7f51\u7edc\u901a\u4fe1\u5230\u6570\u636e\u5904\u7406\u7684\u5e7f\u6cdb\u9886\u57df\u3002\u6b64\u5916\uff0cPython \u793e\u533a\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u5e93\u548c\u6846\u67b6\uff0c\u5982 NumPy\u3001Pandas\u3001Django\u3001Flask \u7b49\u3002</li> </ul> <p>\u4f18\u52bf\uff1a</p> <ul> <li>\u5f00\u53d1\u6548\u7387\u9ad8\uff1aPython \u7684\u5e93\u751f\u6001\u7cfb\u7edf\u6781\u4e3a\u5f3a\u5927\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u5e93\u51fd\u6570\u5b9e\u73b0\u590d\u6742\u7684\u529f\u80fd\uff0c\u65e0\u9700\u4ece\u96f6\u5f00\u59cb\u7f16\u5199\u4ee3\u7801\u3002</li> <li>\u5feb\u901f\u539f\u578b\u5f00\u53d1\uff1aPython \u975e\u5e38\u9002\u5408\u5feb\u901f\u6784\u5efa\u539f\u578b\uff0c\u56e0\u4e3a\u5f88\u591a\u529f\u80fd\u53ef\u4ee5\u901a\u8fc7\u5e93\u76f4\u63a5\u5b9e\u73b0\u3002</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>import requests\n\nresponse = requests.get('https://api.example.com/data')\nprint(response.json())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_2","title":"4. \u8de8\u5e73\u53f0\u7279\u6027","text":"<p>\u533a\u522b\uff1a - Python \u662f\u8de8\u5e73\u53f0\u7684\uff0cPython \u4ee3\u7801\u53ef\u4ee5\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\uff08\u5982 Windows\u3001macOS\u3001Linux\uff09\u4e0a\u8fd0\u884c\uff0c\u800c\u65e0\u9700\u4fee\u6539\u3002</p> <p>\u4f18\u52bf\uff1a - \u79fb\u690d\u6027\u5f3a\uff1aPython \u7684\u8de8\u5e73\u53f0\u7279\u6027\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8f7b\u677e\u5728\u4e0d\u540c\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u964d\u4f4e\u4e86\u5f00\u53d1\u548c\u7ef4\u62a4\u7684\u590d\u6742\u6027\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code># \u5728 Windows \u548c Linux \u4e0a\u90fd\u53ef\u4ee5\u8fd0\u884c\u7684\u4ee3\u7801\nimport os\nprint(os.name)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5_1","title":"5. \u89e3\u91ca\u6027\u8bed\u8a00","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u662f\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u8fd9\u610f\u5473\u7740 Python \u4ee3\u7801\u5728\u6267\u884c\u65f6\u4f1a\u9010\u884c\u89e3\u91ca\uff0c\u800c\u4e0d\u662f\u50cf C/C++ \u90a3\u6837\u9700\u8981\u7f16\u8bd1\u6210\u673a\u5668\u7801\u540e\u518d\u8fd0\u884c\u3002</li> </ul> <p>\u4f18\u52bf\uff1a</p> <ul> <li>\u5f00\u53d1\u901f\u5ea6\u5feb\uff1a\u4e0d\u9700\u8981\u7f16\u8bd1\u6b65\u9aa4\uff0c\u4fee\u6539\u540e\u53ef\u4ee5\u7acb\u5373\u8fd0\u884c\u5e76\u770b\u5230\u7ed3\u679c\uff0c\u6781\u5927\u5730\u52a0\u5feb\u4e86\u5f00\u53d1\u901f\u5ea6\u3002</li> <li>\u66f4\u597d\u7684\u8c03\u8bd5\u4f53\u9a8c\uff1aPython \u7684\u89e3\u91ca\u6027\u4f7f\u5f97\u5b83\u5728\u8c03\u8bd5\u65f6\u66f4\u52a0\u7075\u6d3b\uff0c\u53ef\u4ee5\u5feb\u901f\u6d4b\u8bd5\u548c\u4fee\u6539\u4ee3\u7801\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#6_2","title":"6. \u793e\u533a\u548c\u751f\u6001\u7cfb\u7edf","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u62e5\u6709\u5e9e\u5927\u4e14\u6d3b\u8dc3\u7684\u5f00\u53d1\u8005\u793e\u533a\uff0c\u6301\u7eed\u63a8\u52a8\u8bed\u8a00\u7684\u53d1\u5c55\uff0c\u63d0\u4f9b\u4e30\u5bcc\u7684\u8d44\u6e90\u548c\u652f\u6301\u3002</li> </ul> <p>\u4f18\u52bf\uff1a</p> <ul> <li>\u793e\u533a\u652f\u6301\uff1a\u4e30\u5bcc\u7684\u793e\u533a\u8d44\u6e90\u548c\u5728\u7ebf\u6587\u6863\uff0c\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u8f7b\u677e\u627e\u5230\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6848\u3002</li> <li>\u5f3a\u5927\u7684\u751f\u6001\u7cfb\u7edf\uff1aPython \u7684\u751f\u6001\u7cfb\u7edf\u6db5\u76d6\u4e86\u4ece web \u5f00\u53d1\u3001\u6570\u636e\u79d1\u5b66\u5230\u4eba\u5de5\u667a\u80fd\u7684\u65b9\u65b9\u9762\u9762\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#7","title":"7. \u9002\u7528\u573a\u666f\u5e7f\u6cdb","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u662f\u4e00\u95e8\u901a\u7528\u7f16\u7a0b\u8bed\u8a00\uff0c\u9002\u7528\u4e8e\u5e7f\u6cdb\u7684\u5e94\u7528\u573a\u666f\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e web \u5f00\u53d1\u3001\u6570\u636e\u5206\u6790\u3001\u4eba\u5de5\u667a\u80fd\u3001\u81ea\u52a8\u5316\u811a\u672c\u3001\u79d1\u5b66\u8ba1\u7b97\u7b49\u3002</li> <li>\u4f8b\u5982\uff0cJava \u901a\u5e38\u7528\u4e8e\u5927\u578b\u4f01\u4e1a\u5e94\u7528\uff0cC++ \u5e38\u7528\u4e8e\u7cfb\u7edf\u7f16\u7a0b\uff0cR \u4e3b\u8981\u7528\u4e8e\u7edf\u8ba1\u5206\u6790\uff0c\u800c Python \u51e0\u4e4e\u53ef\u4ee5\u5728\u6240\u6709\u8fd9\u4e9b\u9886\u57df\u4f7f\u7528\u3002</li> </ul> <p>\u4f18\u52bf\uff1a</p> <ul> <li>\u5168\u80fd\u578b\u8bed\u8a00\uff1aPython \u5728\u591a\u4e2a\u9886\u57df\u90fd\u6709\u5e7f\u6cdb\u5e94\u7528\uff0c\u7279\u522b\u662f\u5728\u6570\u636e\u79d1\u5b66\u548c\u4eba\u5de5\u667a\u80fd\u9886\u57df\uff0cPython \u662f\u4e8b\u5b9e\u4e0a\u7684\u9996\u9009\u8bed\u8a00\u3002</li> <li>\u793e\u533a\u8d21\u732e\uff1a\u7531\u4e8e\u9002\u7528\u573a\u666f\u5e7f\u6cdb\uff0cPython \u793e\u533a\u7684\u8d21\u732e\u8005\u6765\u81ea\u5404\u4e2a\u9886\u57df\uff0c\u8fdb\u4e00\u6b65\u63a8\u52a8\u4e86\u8bed\u8a00\u7684\u53d1\u5c55\u548c\u521b\u65b0\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#8","title":"8. \u5f00\u53d1\u8005\u751f\u4ea7\u529b","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u7684\u7b80\u6d01\u8bed\u6cd5\u3001\u4e30\u5bcc\u5e93\u652f\u6301\u4ee5\u53ca\u8de8\u5e73\u53f0\u7279\u6027\u5927\u5927\u63d0\u9ad8\u4e86\u5f00\u53d1\u8005\u7684\u751f\u4ea7\u529b\u3002</li> </ul> <p>\u4f18\u52bf\uff1a</p> <ul> <li>\u9ad8\u6548\u5f00\u53d1\uff1aPython \u7684\u8bbe\u8ba1\u54f2\u5b66\u5f3a\u8c03\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u7b80\u6d01\u6027\uff0c\u8fd9\u4f7f\u5f97\u5f00\u53d1\u8005\u80fd\u591f\u4ee5\u66f4\u5c11\u7684\u4ee3\u7801\u884c\u6570\u5b9e\u73b0\u66f4\u591a\u7684\u529f\u80fd\uff0c\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#9","title":"9. \u6027\u80fd\u65b9\u9762\u7684\u8003\u8651","text":"<p>\u533a\u522b\uff1a</p> <ul> <li>Python \u7684\u89e3\u91ca\u6027\u548c\u52a8\u6001\u6027\u5728\u6267\u884c\u901f\u5ea6\u4e0a\u4e0d\u5982 C/C++\u3001Java \u7b49\u7f16\u8bd1\u578b\u8bed\u8a00\u3002</li> </ul> <p>\u52a3\u52bf\uff1a</p> <ul> <li>\u6027\u80fd\uff1aPython \u7684\u6267\u884c\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\uff0c\u5c24\u5176\u662f\u5728 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u4e2d\u3002</li> </ul> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u4f18\u5316\u5de5\u5177\uff1a\u53ef\u4ee5\u4f7f\u7528 Cython\u3001PyPy\u3001Numba \u7b49\u5de5\u5177\u4f18\u5316 Python \u7684\u6027\u80fd\uff0c\u6216\u901a\u8fc7\u5c06\u5173\u952e\u90e8\u5206\u7528 C/C++ \u7f16\u5199\u5e76\u4e0e Python \u96c6\u6210\u7684\u65b9\u5f0f\u63d0\u5347\u6548\u7387\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#10","title":"10. \u7ed3\u8bba","text":"<p>Python \u7684\u4e3b\u8981\u4f18\u52bf\u5728\u4e8e\u5176\u8bed\u6cd5\u7b80\u6d01\u3001\u6613\u4e8e\u5b66\u4e60\u3001\u7075\u6d3b\u591a\u53d8\uff0c\u4e14\u62e5\u6709\u4e30\u5bcc\u7684\u5e93\u652f\u6301\u548c\u5f3a\u5927\u7684\u793e\u533a\u751f\u6001\u7cfb\u7edf\u3002\u5c3d\u7ba1\u5728\u6027\u80fd\u65b9\u9762\u53ef\u80fd\u4e0d\u53ca\u4e00\u4e9b\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u4f46\u901a\u8fc7\u5404\u79cd\u4f18\u5316\u624b\u6bb5\uff0cPython \u53ef\u4ee5\u80dc\u4efb\u7edd\u5927\u591a\u6570\u5e94\u7528\u573a\u666f\u3002\u5b83\u975e\u5e38\u9002\u5408\u7528\u4e8e\u5feb\u901f\u5f00\u53d1\u3001\u539f\u578b\u8bbe\u8ba1\u548c\u8de8\u5e73\u53f0\u5e94\u7528\uff0c\u5e76\u4e14\u5728\u6570\u636e\u79d1\u5b66\u3001\u673a\u5668\u5b66\u4e60\u3001web \u5f00\u53d1\u7b49\u9886\u57df\u8868\u73b0\u5c24\u4e3a\u7a81\u51fa\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_2","title":"Python\u4e2d\u7c7b\u65b9\u6cd5\u3001\u7c7b\u5b9e\u4f8b\u65b9\u6cd5\u3001\u9759\u6001\u65b9\u6cd5\u6709\u4ec0\u4e48\u533a\u522b","text":"<p>\u5728 Python \u4e2d\uff0c\u7c7b\u65b9\u6cd5\uff08Class Method\uff09\u3001\u5b9e\u4f8b\u65b9\u6cd5\uff08Instance Method\uff09\u3001\u9759\u6001\u65b9\u6cd5\uff08Static Method\uff09\u662f\u5b9a\u4e49\u5728\u7c7b\u4e2d\u7684\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u5b83\u4eec\u5728\u8bbf\u95ee\u65b9\u5f0f\u3001\u7ed1\u5b9a\u5bf9\u8c61\u4ee5\u53ca\u4f7f\u7528\u573a\u666f\u4e0a\u90fd\u6709\u6240\u4e0d\u540c\u3002\u4e0b\u9762\u5c06\u8be6\u7ec6\u8bb2\u89e3\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-instance-method","title":"1. \u5b9e\u4f8b\u65b9\u6cd5\uff08Instance Method\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_3","title":"\u5b9a\u4e49","text":"<ul> <li>\u5b9e\u4f8b\u65b9\u6cd5 \u662f\u6700\u5e38\u89c1\u7684\u7c7b\u65b9\u6cd5\uff0c\u5b83\u4eec\u5728\u7c7b\u7684\u5185\u90e8\u5b9a\u4e49\uff0c\u4e14\u7b2c\u4e00\u4e2a\u53c2\u6570\u901a\u5e38\u547d\u540d\u4e3a <code>self</code>\uff0c\u7528\u4e8e\u6307\u4ee3\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_4","title":"\u7ed1\u5b9a\u5bf9\u8c61","text":"<ul> <li>\u5b9e\u4f8b\u65b9\u6cd5\u4e0e\u7c7b\u7684\u5b9e\u4f8b\u7ed1\u5b9a\uff0c\u610f\u5473\u7740\u4f60\u5fc5\u987b\u5148\u521b\u5efa\u7c7b\u7684\u5b9e\u4f8b\uff0c\u7136\u540e\u901a\u8fc7\u8fd9\u4e2a\u5b9e\u4f8b\u6765\u8c03\u7528\u5b9e\u4f8b\u65b9\u6cd5\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_5","title":"\u7528\u9014","text":"<ul> <li>\u5b9e\u4f8b\u65b9\u6cd5\u7528\u4e8e\u8bbf\u95ee\u548c\u64cd\u4f5c\u5b9e\u4f8b\u7684\u5c5e\u6027\uff0c\u6216\u8c03\u7528\u5176\u4ed6\u5b9e\u4f8b\u65b9\u6cd5\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_6","title":"\u793a\u4f8b","text":"<pre><code>class MyClass:\n    def __init__(self, value):\n        self.value = value\n\n    def instance_method(self):\n        print(f\"Instance method called with value: {self.value}\")\n\n# \u521b\u5efa\u7c7b\u7684\u5b9e\u4f8b\nobj = MyClass(10)\nobj.instance_method()  # \u8f93\u51fa: Instance method called with value: 10\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-class-method","title":"2. \u7c7b\u65b9\u6cd5\uff08Class Method\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_7","title":"\u5b9a\u4e49","text":"<ul> <li>\u7c7b\u65b9\u6cd5 \u901a\u8fc7 <code>@classmethod</code> \u88c5\u9970\u5668\u6765\u5b9a\u4e49\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u901a\u5e38\u547d\u540d\u4e3a <code>cls</code>\uff0c\u7528\u4e8e\u6307\u4ee3\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u7c7b\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u7c7b\u7684\u5b9e\u4f8b\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_8","title":"\u7ed1\u5b9a\u5bf9\u8c61","text":"<ul> <li>\u7c7b\u65b9\u6cd5\u4e0e\u7c7b\u672c\u8eab\u7ed1\u5b9a\uff0c\u610f\u5473\u7740\u5b83\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u7c7b\u6765\u8c03\u7528\uff0c\u800c\u4e0d\u9700\u8981\u5b9e\u4f8b\u5316\u8be5\u7c7b\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_9","title":"\u7528\u9014","text":"<ul> <li>\u7c7b\u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u8bbf\u95ee\u7c7b\u5c5e\u6027\u6216\u521b\u5efa\u5b9e\u4f8b\u7684\u5de5\u5382\u65b9\u6cd5\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_10","title":"\u793a\u4f8b","text":"<pre><code>class MyClass:\n    class_variable = \"Class Variable\"\n\n    @classmethod\n    def class_method(cls):\n        print(f\"Class method called with: {cls.class_variable}\")\n\n# \u8c03\u7528\u7c7b\u65b9\u6cd5\nMyClass.class_method()  # \u8f93\u51fa: Class method called with: Class Variable\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-static-method","title":"3. \u9759\u6001\u65b9\u6cd5\uff08Static Method\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_11","title":"\u5b9a\u4e49","text":"<ul> <li>\u9759\u6001\u65b9\u6cd5 \u901a\u8fc7 <code>@staticmethod</code> \u88c5\u9970\u5668\u6765\u5b9a\u4e49\u3002\u5b83\u4e0d\u63a5\u53d7 <code>self</code> \u6216 <code>cls</code> \u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_12","title":"\u7ed1\u5b9a\u5bf9\u8c61","text":"<ul> <li>\u9759\u6001\u65b9\u6cd5\u4e0d\u4e0e\u7c7b\u5b9e\u4f8b\u6216\u7c7b\u7ed1\u5b9a\uff0c\u5b83\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u666e\u901a\u51fd\u6570\uff0c\u53ea\u4e0d\u8fc7\u653e\u5728\u4e86\u7c7b\u7684\u547d\u540d\u7a7a\u95f4\u4e2d\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_13","title":"\u7528\u9014","text":"<ul> <li>\u9759\u6001\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u5c06\u4e0e\u7c7b\u76f8\u5173\u4f46\u4e0d\u4f9d\u8d56\u4e8e\u7c7b\u6216\u5b9e\u4f8b\u7684\u903b\u8f91\u7ec4\u7ec7\u5728\u4e00\u8d77\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_14","title":"\u793a\u4f8b","text":"<pre><code>class MyClass:\n    @staticmethod\n    def static_method(x, y):\n        return x + y\n\n# \u8c03\u7528\u9759\u6001\u65b9\u6cd5\nresult = MyClass.static_method(5, 10)\nprint(f\"Result of static method: {result}\")  # \u8f93\u51fa: Result of static method: 15\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_3","title":"4. \u533a\u522b\u603b\u7ed3","text":"\u7279\u6027 \u5b9e\u4f8b\u65b9\u6cd5\uff08Instance Method\uff09 \u7c7b\u65b9\u6cd5\uff08Class Method\uff09 \u9759\u6001\u65b9\u6cd5\uff08Static Method\uff09 \u8c03\u7528\u65b9\u5f0f \u5b9e\u4f8b\u8c03\u7528 \u7c7b\u6216\u5b9e\u4f8b\u8c03\u7528 \u7c7b\u6216\u5b9e\u4f8b\u8c03\u7528 \u7b2c\u4e00\u4e2a\u53c2\u6570 <code>self</code>\uff08\u5b9e\u4f8b\uff09 <code>cls</code>\uff08\u7c7b\uff09 \u65e0\u7279\u6b8a\u53c2\u6570 \u8bbf\u95ee\u5b9e\u4f8b\u5c5e\u6027 \u662f \u5426 \u5426 \u8bbf\u95ee\u7c7b\u5c5e\u6027 \u5426 \u662f \u5426 \u4f7f\u7528\u573a\u666f \u64cd\u4f5c\u5b9e\u4f8b\u5c5e\u6027\u6216\u884c\u4e3a \u64cd\u4f5c\u7c7b\u5c5e\u6027\u6216\u65b9\u6cd5 \u4e0d\u6d89\u53ca\u7c7b\u6216\u5b9e\u4f8b\u7684\u901a\u7528\u65b9\u6cd5"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5_2","title":"5. \u9002\u7528\u573a\u666f","text":"<ul> <li>\u5b9e\u4f8b\u65b9\u6cd5\uff1a\u7528\u4e8e\u8bbf\u95ee\u548c\u4fee\u6539\u5bf9\u8c61\u5b9e\u4f8b\u7684\u72b6\u6001\u3002</li> <li>\u7c7b\u65b9\u6cd5\uff1a\u9002\u5408\u521b\u5efa\u64cd\u4f5c\u7c7b\u7ea7\u522b\u7684\u6570\u636e\u6216\u4f5c\u4e3a\u5de5\u5382\u65b9\u6cd5\u3002</li> <li>\u9759\u6001\u65b9\u6cd5\uff1a\u9002\u5408\u4e0d\u4f9d\u8d56\u7c7b\u6216\u5b9e\u4f8b\u7684\u6570\u636e\u6216\u65b9\u6cd5\uff0c\u4f8b\u5982\u5de5\u5177\u51fd\u6570\u3002</li> </ul> <p>\u901a\u8fc7\u7406\u89e3\u8fd9\u4e09\u79cd\u65b9\u6cd5\u7684\u533a\u522b\u548c\u5e94\u7528\u573a\u666f\uff0c\u4f60\u53ef\u4ee5\u66f4\u7075\u6d3b\u5730\u8bbe\u8ba1 Python \u7c7b\uff0c\u786e\u4fdd\u4ee3\u7801\u7684\u7ec4\u7ec7\u548c\u804c\u8d23\u5206\u79bb\u66f4\u52a0\u6e05\u6670\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_15","title":"\u5982\u4f55\u5b9e\u73b0\u5355\u4f8b","text":"<p>\u5728 Python \u4e2d\uff0c\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\u6709\u591a\u79cd\u65b9\u5f0f\u3002\u5355\u4f8b\u6a21\u5f0f\u662f\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u786e\u4fdd\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u4e14\u63d0\u4f9b\u5168\u5c40\u8bbf\u95ee\u70b9\u3002\u4e0b\u9762\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-__new__","title":"1. \u4f7f\u7528\u7c7b\u7684 <code>__new__</code> \u65b9\u6cd5","text":"<p>\u901a\u8fc7\u91cd\u5199\u7c7b\u7684 <code>__new__</code> \u65b9\u6cd5\uff0c\u786e\u4fdd\u6bcf\u6b21\u5b9e\u4f8b\u5316\u65f6\u90fd\u8fd4\u56de\u540c\u4e00\u4e2a\u5b9e\u4f8b\u3002</p> <pre><code>class Singleton:\n    _instance = None\n\n    def __new__(cls, *args, **kwargs):\n        if not cls._instance:\n            cls._instance = super(Singleton, cls).__new__(cls, *args, **kwargs)\n        return cls._instance\n\n# \u4f7f\u7528\nsingleton1 = Singleton()\nsingleton2 = Singleton()\n\nprint(singleton1 is singleton2)  # \u8f93\u51fa: True\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2_1","title":"2. \u4f7f\u7528\u88c5\u9970\u5668","text":"<p>\u4f7f\u7528\u88c5\u9970\u5668\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5355\u4f8b\u7c7b\u3002</p> <pre><code>def singleton(cls):\n    instances = {}\n\n    def get_instance(*args, **kwargs):\n        if cls not in instances:\n            instances[cls] = cls(*args, **kwargs)\n        return instances[cls]\n\n    return get_instance\n\n@singleton\nclass Singleton:\n    pass\n\n# \u4f7f\u7528\nsingleton1 = Singleton()\nsingleton2 = Singleton()\n\nprint(singleton1 is singleton2)  # \u8f93\u51fa: True\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3_3","title":"3. \u4f7f\u7528\u6a21\u5757","text":"<p>\u5728 Python \u4e2d\uff0c\u6a21\u5757\u672c\u8eab\u5c31\u662f\u5355\u4f8b\u7684\u3002\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6a21\u5757\u4e2d\u7684\u53d8\u91cf\u6216\u51fd\u6570\uff0c\u800c\u65e0\u9700\u62c5\u5fc3\u4f1a\u4ea7\u751f\u591a\u4e2a\u5b9e\u4f8b\u3002</p> <pre><code># singleton_module.py\nclass Singleton:\n    pass\n\nsingleton = Singleton()\n\n# \u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528\nfrom singleton_module import singleton\n\nsingleton1 = singleton\nsingleton2 = singleton\n\nprint(singleton1 is singleton2)  # \u8f93\u51fa: True\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4-metaclass","title":"4. \u4f7f\u7528 <code>metaclass</code>","text":"<p>\u901a\u8fc7\u5143\u7c7b\uff08<code>metaclass</code>\uff09\u6765\u63a7\u5236\u7c7b\u7684\u5b9e\u4f8b\u5316\u8fc7\u7a0b\uff0c\u4ece\u800c\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\u3002</p> <pre><code>class SingletonMeta(type):\n    _instances = {}\n\n    def __call__(cls, *args, **kwargs):\n        if cls not in cls._instances:\n            cls._instances[cls] = super(SingletonMeta, cls).__call__(*args, **kwargs)\n        return cls._instances[cls]\n\nclass Singleton(metaclass=SingletonMeta):\n    pass\n\n# \u4f7f\u7528\nsingleton1 = Singleton()\nsingleton2 = Singleton()\n\nprint(singleton1 is singleton2)  # \u8f93\u51fa: True\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5-borg","title":"5. \u4f7f\u7528 <code>borg</code> \u6a21\u5f0f","text":"<p><code>Borg</code> \u6a21\u5f0f\u786e\u4fdd\u7c7b\u7684\u6240\u6709\u5b9e\u4f8b\u5171\u4eab\u76f8\u540c\u7684\u72b6\u6001\uff0c\u800c\u4e0d\u662f\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u3002</p> <pre><code>class Borg:\n    _shared_state = {}\n\n    def __init__(self):\n        self.__dict__ = self._shared_state\n\n# \u4f7f\u7528\nborg1 = Borg()\nborg2 = Borg()\n\nborg1.state = \"Running\"\nprint(borg2.state)  # \u8f93\u51fa: Running\nprint(borg1 is borg2)  # \u8f93\u51fa: False\n</code></pre> <p>\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\uff0c\u9009\u62e9\u54ea\u79cd\u65b9\u5f0f\u53d6\u51b3\u4e8e\u4f60\u7684\u5177\u4f53\u9700\u6c42\u548c\u504f\u597d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python-gil","title":"Python \u4e2d\u7684 GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#gil","title":"\u4ec0\u4e48\u662f GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\uff1f","text":"<p>GIL\uff08Global Interpreter Lock\uff0c\u5168\u7403\u89e3\u91ca\u5668\u9501\uff09\u662f CPython\uff08\u6700\u5e38\u89c1\u7684 Python \u5b9e\u73b0\uff09\u4e2d\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\u3002\u5b83\u662f\u4e00\u4e2a\u8fdb\u7a0b\u7ea7\u522b\u7684\u9501\uff0c\u7528\u4e8e\u63a7\u5236\u5bf9 Python \u89e3\u91ca\u5668\u7684\u8bbf\u95ee\uff0c\u4f7f\u5f97\u5728\u4efb\u4f55\u65f6\u5019\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c Python \u5b57\u8282\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#gil_1","title":"\u4e3a\u4ec0\u4e48\u9700\u8981 GIL\uff1f","text":"<p>GIL \u5b58\u5728\u7684\u4e3b\u8981\u539f\u56e0\u662f\u4e3a\u4e86\u7b80\u5316\u5185\u5b58\u7ba1\u7406\uff0c\u7279\u522b\u662f CPython \u4e2d\u7684\u5783\u573e\u56de\u6536\u673a\u5236\u3002CPython \u4f7f\u7528\u4e86\u5f15\u7528\u8ba1\u6570\u6765\u7ba1\u7406\u5185\u5b58\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\uff0c\u800c\u5f15\u7528\u8ba1\u6570\u672c\u8d28\u4e0a\u662f\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684\u3002\u5982\u679c\u5728\u591a\u4e2a\u7ebf\u7a0b\u4e2d\u5e76\u53d1\u5730\u4fee\u6539\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\uff0c\u6ca1\u6709\u9501\u7684\u4fdd\u62a4\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u7684\u7ade\u4e89\u548c\u7a0b\u5e8f\u5d29\u6e83\u3002</p> <p>\u901a\u8fc7 GIL\uff0cCPython \u786e\u4fdd\u6bcf\u6b21\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u6267\u884c Python \u4ee3\u7801\uff0c\u4ece\u800c\u907f\u514d\u4e86\u5bf9\u5f15\u7528\u8ba1\u6570\u7684\u5e76\u53d1\u4fee\u6539\u95ee\u9898\u3002\u8fd9\u5927\u5927\u7b80\u5316\u4e86\u5185\u5b58\u7ba1\u7406\u7684\u5b9e\u73b0\uff0c\u4f7f\u5f97 CPython \u66f4\u52a0\u7a33\u5b9a\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#gil_2","title":"GIL \u7684\u5f71\u54cd","text":"<ol> <li> <p>\u591a\u7ebf\u7a0b\u7684\u6027\u80fd\u9650\u5236\uff1a\u7531\u4e8e GIL \u7684\u5b58\u5728\uff0c\u5728 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u4e2d\uff0c\u5373\u4f7f\u4f7f\u7528\u591a\u7ebf\u7a0b\uff0cPython \u4e5f\u4e0d\u80fd\u5145\u5206\u5229\u7528\u591a\u6838 CPU \u7684\u80fd\u529b\u3002\u591a\u4e2a\u7ebf\u7a0b\u5b9e\u9645\u4e0a\u662f\u5728\u8f6e\u6d41\u6267\u884c Python \u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u5e76\u884c\u6267\u884c\u3002\u8fd9\u610f\u5473\u7740\u5728\u591a\u7ebf\u7a0b CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u4e2d\uff0c\u4f7f\u7528\u591a\u4e2a\u7ebf\u7a0b\u53ef\u80fd\u4e0d\u4f1a\u5e26\u6765\u6027\u80fd\u63d0\u5347\uff0c\u53cd\u800c\u4f1a\u6709\u5f00\u9500\u3002</p> </li> <li> <p>I/O \u5bc6\u96c6\u578b\u4efb\u52a1\u7684\u5f71\u54cd\u8f83\u5c0f\uff1a\u5728 I/O \u5bc6\u96c6\u578b\u4efb\u52a1\u4e2d\uff0c\u4f8b\u5982\u7f51\u7edc\u8bf7\u6c42\u6216\u6587\u4ef6\u64cd\u4f5c\uff0c\u7ebf\u7a0b\u5f80\u5f80\u4f1a\u56e0\u4e3a\u7b49\u5f85 I/O \u64cd\u4f5c\u5b8c\u6210\u800c\u88ab\u963b\u585e\u3002\u8fd9\u65f6\uff0cGIL \u4f1a\u91ca\u653e\u7ed9\u5176\u4ed6\u7ebf\u7a0b\uff0c\u5141\u8bb8\u5b83\u4eec\u6267\u884c Python \u4ee3\u7801\u3002\u56e0\u6b64\uff0cGIL \u5bf9 I/O \u5bc6\u96c6\u578b\u4efb\u52a1\u7684\u5f71\u54cd\u76f8\u5bf9\u8f83\u5c0f\uff0c\u591a\u7ebf\u7a0b\u7f16\u7a0b\u4ecd\u7136\u80fd\u6709\u6548\u63d0\u9ad8\u6027\u80fd\u3002</p> </li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#gil_3","title":"\u5982\u4f55\u89c4\u907f GIL \u7684\u5f71\u54cd\uff1f","text":"<ol> <li>\u4f7f\u7528\u591a\u8fdb\u7a0b\uff1a\u7531\u4e8e GIL \u662f\u8fdb\u7a0b\u7ea7\u522b\u7684\u9501\uff0c\u56e0\u6b64\u6bcf\u4e2a Python \u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684 GIL\u3002\u5982\u679c\u9700\u8981\u5e76\u884c\u6267\u884c CPU \u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>multiprocessing</code> \u6a21\u5757\u521b\u5efa\u591a\u4e2a\u8fdb\u7a0b\uff0c\u8fd9\u6837\u6bcf\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u72ec\u7acb\u5730\u8fd0\u884c\u5728\u4e0d\u540c\u7684 CPU \u6838\u5fc3\u4e0a\uff0c\u4ece\u800c\u7ed5\u8fc7 GIL \u7684\u9650\u5236\u3002</li> </ol> <p>```python    from multiprocessing import Process</p> <p>def task():        print(\"Task running\")</p> <p>processes = []    for _ in range(4):        p = Process(target=task)        processes.append(p)        p.start()</p> <p>for p in processes:        p.join()    ```</p> <ol> <li> <p>\u4f7f\u7528 C \u6269\u5c55\uff1a\u5bf9\u4e8e\u6027\u80fd\u8981\u6c42\u975e\u5e38\u9ad8\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199 C \u6269\u5c55\u6a21\u5757\u6765\u7ed5\u8fc7 GIL\u3002C \u4ee3\u7801\u53ef\u4ee5\u624b\u52a8\u91ca\u653e GIL\uff0c\u4ece\u800c\u5728 C \u4ee3\u7801\u4e2d\u5b9e\u73b0\u5e76\u884c\u8ba1\u7b97\u3002</p> </li> <li> <p>\u4f7f\u7528\u5176\u4ed6 Python \u5b9e\u73b0\uff1a\u5982\u679c GIL \u5bf9\u9879\u76ee\u7684\u5e76\u53d1\u6027\u80fd\u5f71\u54cd\u8fc7\u5927\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u6ca1\u6709 GIL \u7684 Python \u5b9e\u73b0\uff0c\u4f8b\u5982 Jython \u6216 IronPython\u3002\u8fd9\u4e9b\u5b9e\u73b0\u6ca1\u6709 GIL \u7684\u9650\u5236\uff0c\u4f46\u4e5f\u4e0d\u517c\u5bb9\u6240\u6709\u7684 CPython \u6269\u5c55\u5e93\u3002</p> </li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_16","title":"\u7ed3\u8bba","text":"<p>GIL \u662f Python \u591a\u7ebf\u7a0b\u7f16\u7a0b\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u9650\u5236\uff0c\u5b83\u4fdd\u8bc1\u4e86\u7ebf\u7a0b\u4e4b\u95f4\u5bf9 Python \u89e3\u91ca\u5668\u7684\u5b89\u5168\u8bbf\u95ee\uff0c\u4f46\u4e5f\u9650\u5236\u4e86\u591a\u7ebf\u7a0b\u5728 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u4e2d\u7684\u6027\u80fd\u8868\u73b0\u3002\u7406\u89e3 GIL \u5e76\u5408\u7406\u9009\u62e9\u5e76\u53d1\u7f16\u7a0b\u6a21\u578b\uff08\u591a\u7ebf\u7a0b\u3001\u591a\u8fdb\u7a0b\u6216\u5176\u4ed6\u65b9\u6cd5\uff09\u5bf9\u4e8e Python \u5f00\u53d1\u8005\u6765\u8bf4\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_3","title":"Python \u4e2d\u7684\u751f\u6210\u5668\u548c\u8fed\u4ee3\u5668\u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":"<p>\u5728 Python \u4e2d\uff0c\u751f\u6210\u5668\u548c\u8fed\u4ee3\u5668\u662f\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u7279\u522b\u662f\u5728\u5904\u7406\u5927\u91cf\u6570\u636e\u6216\u9700\u8981\u5ef6\u8fdf\u8ba1\u7b97\u65f6\u3002\u4ee5\u4e0b\u662f\u5b83\u4eec\u7684\u8be6\u7ec6\u89e3\u91ca\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-iterator","title":"1. \u8fed\u4ee3\u5668\uff08Iterator\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_17","title":"\u5b9a\u4e49\uff1a","text":"<p>\u8fed\u4ee3\u5668\u662f\u4e00\u4e2a\u53ef\u4ee5\u8bb0\u4f4f\u904d\u5386\u4f4d\u7f6e\u7684\u5bf9\u8c61\u3002\u8fed\u4ee3\u5668\u5bf9\u8c61\u4ece\u96c6\u5408\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\u8bbf\u95ee\uff0c\u76f4\u5230\u6240\u6709\u5143\u7d20\u88ab\u8bbf\u95ee\u5b8c\u4e3a\u6b62\u3002\u8fed\u4ee3\u5668\u53ea\u80fd\u5f80\u524d\u8d70\uff0c\u4e0d\u80fd\u540e\u9000\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_18","title":"\u7279\u6027\uff1a","text":"<ul> <li>\u5b9e\u73b0\u65b9\u6cd5: \u4e00\u4e2a\u5bf9\u8c61\u8981\u6210\u4e3a\u8fed\u4ee3\u5668\uff0c\u5fc5\u987b\u5b9e\u73b0\u4e24\u4e2a\u65b9\u6cd5\uff1a<code>__iter__()</code> \u548c <code>__next__()</code>\u3002</li> <li><code>__iter__()</code> \u8fd4\u56de\u8fed\u4ee3\u5668\u5bf9\u8c61\u672c\u8eab\u3002</li> <li><code>__next__()</code> \u8fd4\u56de\u5bb9\u5668\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u6ca1\u6709\u5143\u7d20\u4e86\uff0c\u5219\u629b\u51fa <code>StopIteration</code> \u5f02\u5e38\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_19","title":"\u793a\u4f8b\uff1a","text":"<pre><code># \u81ea\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u8fed\u4ee3\u5668\nclass MyIterator:\n    def __init__(self, start, end):\n        self.current = start\n        self.end = end\n\n    def __iter__(self):\n        return self\n\n    def __next__(self):\n        if self.current &gt; self.end:\n            raise StopIteration\n        else:\n            self.current += 1\n            return self.current - 1\n\n# \u4f7f\u7528\u8fed\u4ee3\u5668\nmy_iter = MyIterator(1, 5)\nfor number in my_iter:\n    print(number)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>1\n2\n3\n4\n5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-generator","title":"2. \u751f\u6210\u5668\uff08Generator\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_20","title":"\u5b9a\u4e49\uff1a","text":"<p>\u751f\u6210\u5668\u662f\u7528\u6765\u521b\u5efa\u8fed\u4ee3\u5668\u7684\u4e00\u79cd\u7b80\u5355\u800c\u5f3a\u5927\u7684\u5de5\u5177\u3002\u5b83\u4eec\u5141\u8bb8\u4f60\u5728\u8fed\u4ee3\u65f6\u751f\u6210\u5e8f\u5217\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u800c\u4e0d\u662f\u4e00\u6b21\u6027\u751f\u6210\u6240\u6709\u5143\u7d20\u3002\u751f\u6210\u5668\u662f\u901a\u8fc7\u51fd\u6570\u5b9e\u73b0\u7684\uff0c\u4f7f\u7528 <code>yield</code> \u8bed\u53e5\u4e00\u6b21\u8fd4\u56de\u4e00\u4e2a\u503c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_21","title":"\u7279\u6027\uff1a","text":"<ul> <li>\u5b9e\u73b0\u65b9\u6cd5: \u751f\u6210\u5668\u662f\u7528\u51fd\u6570\u7684\u5f62\u5f0f\u5b9a\u4e49\u7684\uff0c\u4f7f\u7528 <code>yield</code> \u4ee3\u66ff <code>return</code> \u8fd4\u56de\u6570\u636e\u3002</li> <li>\u61d2\u60f0\u6c42\u503c: \u751f\u6210\u5668\u53ea\u5728\u9700\u8981\u65f6\u751f\u6210\u503c\uff0c\u8fd9\u4f7f\u5f97\u5b83\u975e\u5e38\u9002\u5408\u5904\u7406\u5927\u6570\u636e\u96c6\u6216\u65e0\u9650\u5e8f\u5217\u3002</li> <li>\u72b6\u6001\u4fdd\u7559: \u6bcf\u6b21\u751f\u6210\u503c\u540e\uff0c\u751f\u6210\u5668\u4f1a\u4fdd\u7559\u5f53\u524d\u7684\u6267\u884c\u72b6\u6001\uff08\u5305\u62ec\u672c\u5730\u53d8\u91cf\u3001\u6307\u4ee4\u6307\u9488\u7b49\uff09\uff0c\u4ee5\u4fbf\u4e0b\u6b21\u4ece\u4e0a\u6b21\u505c\u6b62\u7684\u5730\u65b9\u7ee7\u7eed\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_22","title":"\u793a\u4f8b\uff1a","text":"<pre><code># \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u751f\u6210\u5668\ndef my_generator(start, end):\n    current = start\n    while current &lt;= end:\n        yield current\n        current += 1\n\n# \u4f7f\u7528\u751f\u6210\u5668\nfor number in my_generator(1, 5):\n    print(number)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>1\n2\n3\n4\n5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_23","title":"\u751f\u6210\u5668\u8868\u8fbe\u5f0f\uff1a","text":"<p>Python \u8fd8\u652f\u6301\u4f7f\u7528\u751f\u6210\u5668\u8868\u8fbe\u5f0f\u6765\u521b\u5efa\u751f\u6210\u5668\u3002\u5b83\u7c7b\u4f3c\u4e8e\u5217\u8868\u63a8\u5bfc\u5f0f\uff0c\u4f46\u4f7f\u7528\u5706\u62ec\u53f7\u800c\u4e0d\u662f\u65b9\u62ec\u53f7\u3002</p> <pre><code># \u751f\u6210\u5668\u8868\u8fbe\u5f0f\ngen_exp = (x * x for x in range(5))\n\nfor number in gen_exp:\n    print(number)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>0\n1\n4\n9\n16\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3_4","title":"3. \u751f\u6210\u5668\u4e0e\u8fed\u4ee3\u5668\u7684\u5173\u7cfb","text":"<ul> <li>\u6240\u6709\u7684\u751f\u6210\u5668\u90fd\u662f\u8fed\u4ee3\u5668\uff0c\u56e0\u4e3a\u5b83\u4eec\u5b9e\u73b0\u4e86 <code>__iter__()</code> \u548c <code>__next__()</code> \u65b9\u6cd5\u3002</li> <li>\u4f46\u5e76\u4e0d\u662f\u6240\u6709\u7684\u8fed\u4ee3\u5668\u90fd\u662f\u751f\u6210\u5668\uff0c\u8fed\u4ee3\u5668\u53ef\u4ee5\u901a\u8fc7\u66f4\u590d\u6742\u7684\u7c7b\u6765\u5b9e\u73b0\uff0c\u800c\u751f\u6210\u5668\u662f\u901a\u8fc7\u51fd\u6570\u548c <code>yield</code> \u6765\u5b9e\u73b0\u7684\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_4","title":"4. \u5e94\u7528\u573a\u666f","text":"<ul> <li>\u751f\u6210\u5668: \u5e38\u7528\u4e8e\u9700\u8981\u5ef6\u8fdf\u6c42\u503c\u7684\u573a\u666f\uff0c\u5982\u5904\u7406\u5927\u6570\u636e\u96c6\u3001\u6d41\u6570\u636e\u5904\u7406\u7b49\u3002</li> <li>\u8fed\u4ee3\u5668: \u5e38\u7528\u4e8e\u9700\u8981\u81ea\u5b9a\u4e49\u8fed\u4ee3\u903b\u8f91\u7684\u573a\u666f\uff0c\u5982\u5b9e\u73b0\u81ea\u5b9a\u4e49\u6570\u636e\u7ed3\u6784\u7684\u904d\u5386\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_24","title":"\u603b\u7ed3","text":"<ul> <li>\u8fed\u4ee3\u5668: \u662f\u4e00\u4e2a\u53ef\u4ee5\u904d\u5386\u96c6\u5408\u4e2d\u5143\u7d20\u7684\u5bf9\u8c61\uff0c\u5fc5\u987b\u5b9e\u73b0 <code>__iter__()</code> \u548c <code>__next__()</code> \u65b9\u6cd5\u3002</li> <li>\u751f\u6210\u5668: \u662f\u4e00\u79cd\u7279\u6b8a\u7684\u8fed\u4ee3\u5668\uff0c\u901a\u8fc7\u51fd\u6570\u548c <code>yield</code> \u8bed\u53e5\u521b\u5efa\uff0c\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u6d01\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u5ef6\u8fdf\u8ba1\u7b97\u7684\u5e8f\u5217\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_25","title":"\u4ec0\u4e48\u662f\u88c5\u9970\u5668\uff1f\u5982\u4f55\u4f7f\u7528\uff1f","text":"<p>\u5728 Python \u4e2d\uff0c\u88c5\u9970\u5668\uff08Decorator\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u4fee\u6539\u51fd\u6570\u6216\u7c7b\u884c\u4e3a\u7684\u7279\u6b8a\u51fd\u6570\u3002\u5b83\u5141\u8bb8\u4f60\u5728\u4e0d\u6539\u53d8\u51fd\u6570\u6216\u7c7b\u5b9a\u4e49\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u5176\u6dfb\u52a0\u989d\u5916\u7684\u529f\u80fd\u3002\u88c5\u9970\u5668\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u8fd4\u56de\u51fd\u6570\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u589e\u5f3a\u539f\u59cb\u51fd\u6570\u7684\u529f\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_26","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u88c5\u9970\u5668\u901a\u5e38\u7528\u4e8e\u4ee5\u4e0b\u51e0\u79cd\u573a\u666f\uff1a</p> <ul> <li>\u65e5\u5fd7\u8bb0\u5f55\uff1a\u8bb0\u5f55\u51fd\u6570\u8c03\u7528\u548c\u8fd4\u56de\u503c\u3002</li> <li>\u6743\u9650\u68c0\u67e5\uff1a\u5728\u6267\u884c\u51fd\u6570\u4e4b\u524d\u68c0\u67e5\u7528\u6237\u6743\u9650\u3002</li> <li>\u6027\u80fd\u5ea6\u91cf\uff1a\u7edf\u8ba1\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4\u3002</li> <li>\u7f13\u5b58\uff1a\u7f13\u5b58\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_27","title":"\u88c5\u9970\u5668\u7684\u57fa\u672c\u7ed3\u6784","text":"<p>\u4e00\u4e2a\u7b80\u5355\u7684\u88c5\u9970\u5668\u7684\u57fa\u672c\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>def my_decorator(func):\n    def wrapper(*args, **kwargs):\n        # \u5728\u51fd\u6570\u6267\u884c\u4e4b\u524d\u6dfb\u52a0\u884c\u4e3a\n        print(\"Something is happening before the function is called.\")\n\n        result = func(*args, **kwargs)\n\n        # \u5728\u51fd\u6570\u6267\u884c\u4e4b\u540e\u6dfb\u52a0\u884c\u4e3a\n        print(\"Something is happening after the function is called.\")\n\n        return result\n    return wrapper\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u5728\u51fd\u6570\u5b9a\u4e49\u524d\u6dfb\u52a0 <code>@my_decorator</code> \u6765\u4f7f\u7528\u88c5\u9970\u5668\uff1a</p> <pre><code>@my_decorator\ndef say_hello():\n    print(\"Hello!\")\n\nsay_hello()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_28","title":"\u88c5\u9970\u5668\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u88c5\u9970\u5668\u7684\u5de5\u4f5c\u65b9\u5f0f\u53ef\u4ee5\u603b\u7ed3\u5982\u4e0b\uff1a</p> <ol> <li>\u5b9a\u4e49\u4e00\u4e2a\u88c5\u9970\u5668\u51fd\u6570\uff0c\u5b83\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002</li> <li>\u5728\u88c5\u9970\u5668\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u4e00\u4e2a <code>wrapper</code> \u51fd\u6570\uff0c<code>wrapper</code> \u51fd\u6570\u901a\u5e38\u4f1a\u5728\u8c03\u7528\u76ee\u6807\u51fd\u6570\u4e4b\u524d\u6216\u4e4b\u540e\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\u3002</li> <li><code>wrapper</code> \u51fd\u6570\u6700\u540e\u8c03\u7528\u539f\u59cb\u51fd\u6570\uff0c\u5e76\u8fd4\u56de\u5176\u7ed3\u679c\u3002</li> <li>\u88c5\u9970\u5668\u51fd\u6570\u8fd4\u56de <code>wrapper</code> \u51fd\u6570\uff0c\u8fd9\u4f7f\u5f97\u539f\u59cb\u51fd\u6570\u5728\u88ab\u8c03\u7528\u65f6\u5b9e\u9645\u4e0a\u6267\u884c\u7684\u662f <code>wrapper</code> \u51fd\u6570\u4e2d\u7684\u903b\u8f91\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_29","title":"\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668","text":"<p>\u88c5\u9970\u5668\u672c\u8eab\u4e5f\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570\u3002\u8981\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u518d\u5d4c\u5957\u4e00\u5c42\u51fd\u6570\u3002</p> <pre><code>def repeat(num_times):\n    def decorator(func):\n        def wrapper(*args, **kwargs):\n            for _ in range(num_times):\n                result = func(*args, **kwargs)\n            return result\n        return wrapper\n    return decorator\n</code></pre> <p>\u4f7f\u7528\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668\uff1a</p> <pre><code>@repeat(num_times=3)\ndef greet(name):\n    print(f\"Hello, {name}!\")\n\ngreet(\"Alice\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_30","title":"\u591a\u4e2a\u88c5\u9970\u5668\u7684\u4f7f\u7528","text":"<p>\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u6709\u591a\u4e2a\u88c5\u9970\u5668\uff0cPython \u4f1a\u6309\u7167\u4ece\u5185\u5411\u5916\u7684\u987a\u5e8f\u5e94\u7528\u8fd9\u4e9b\u88c5\u9970\u5668\uff1a</p> <pre><code>@decorator_one\n@decorator_two\ndef my_function():\n    pass\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>my_function = decorator_one(decorator_two(my_function))\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_31","title":"\u5185\u7f6e\u88c5\u9970\u5668","text":"<p>Python \u63d0\u4f9b\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u5185\u7f6e\u88c5\u9970\u5668\uff1a</p> <ul> <li><code>@staticmethod</code>\uff1a\u5b9a\u4e49\u9759\u6001\u65b9\u6cd5\uff0c\u4e0d\u9700\u8981\u8bbf\u95ee\u7c7b\u6216\u5b9e\u4f8b\u7684\u5c5e\u6027\u3002</li> <li><code>@classmethod</code>\uff1a\u5b9a\u4e49\u7c7b\u65b9\u6cd5\uff0c\u63a5\u53d7\u7c7b\u5bf9\u8c61\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002</li> <li><code>@property</code>\uff1a\u5c06\u65b9\u6cd5\u8f6c\u6362\u4e3a\u5c5e\u6027\u3002</li> </ul> <pre><code>class MyClass:\n    def __init__(self, value):\n        self._value = value\n\n    @property\n    def value(self):\n        return self._value\n\n    @value.setter\n    def value(self, new_value):\n        self._value = new_value\n\n    @staticmethod\n    def static_method():\n        print(\"This is a static method.\")\n\n    @classmethod\n    def class_method(cls):\n        print(\"This is a class method.\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_32","title":"\u88c5\u9970\u5668\u7684\u4f7f\u7528\u573a\u666f","text":"<ol> <li>\u65e5\u5fd7\u8bb0\u5f55\uff1a</li> <li>\u5728\u51fd\u6570\u6267\u884c\u524d\u540e\u8bb0\u5f55\u65e5\u5fd7\u3002</li> </ol> <p><code>python    def log_decorator(func):        def wrapper(*args, **kwargs):            print(f\"Calling {func.__name__} with {args}, {kwargs}\")            result = func(*args, **kwargs)            print(f\"{func.__name__} returned {result}\")            return result        return wrapper</code></p> <ol> <li>\u8bbf\u95ee\u63a7\u5236\uff1a</li> <li>\u63a7\u5236\u51fd\u6570\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u68c0\u67e5\u7528\u6237\u6743\u9650\u6216\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\u3002</li> </ol> <p><code>python    def require_authentication(func):        def wrapper(user, *args, **kwargs):            if not user.is_authenticated:                raise PermissionError(\"User must be authenticated to access this function.\")            return func(user, *args, **kwargs)        return wrapper</code></p> <ol> <li>\u7f13\u5b58\u7ed3\u679c\uff1a</li> <li>\u7f13\u5b58\u51fd\u6570\u7684\u8ba1\u7b97\u7ed3\u679c\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002</li> </ol> <p><code>python    def memoize(func):        cache = {}        def wrapper(*args):            if args in cache:                return cache[args]            result = func(*args)            cache[args] = result            return result        return wrapper</code></p> <p>\u88c5\u9970\u5668\u5728 Python \u4e2d\u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u80fd\u591f\u4e3a\u4ee3\u7801\u589e\u52a0\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u7075\u6d3b\u6027\u3002\u7406\u89e3\u548c\u638c\u63e1\u88c5\u9970\u5668\u7684\u4f7f\u7528\u5c06\u6781\u5927\u5730\u63d0\u5347\u7f16\u5199 Python \u4ee3\u7801\u7684\u80fd\u529b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_33","title":"\u88c5\u9970\u5668\u8865\u5145","text":"<p>\u5728 Python \u4e2d\uff0c\u88c5\u9970\u5668\u662f\u4e00\u79cd\u975e\u5e38\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u4e8e\u4fee\u6539\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u884c\u4e3a\uff0c\u800c\u4e0d\u6539\u53d8\u5176\u672c\u8eab\u7684\u5b9a\u4e49\u3002<code>functools</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u51e0\u4e2a\u6709\u7528\u7684\u88c5\u9970\u5668\u548c\u5de5\u5177\uff0c\u4f7f\u5f97\u88c5\u9970\u5668\u7684\u4f7f\u7528\u66f4\u52a0\u4fbf\u6377\u548c\u7075\u6d3b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_2","title":"1. \u88c5\u9970\u5668\u7684\u57fa\u672c\u6982\u5ff5","text":"<p>\u88c5\u9970\u5668\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u3002\u88c5\u9970\u5668\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u539f\u51fd\u6570\u4ee3\u7801\u7684\u524d\u63d0\u4e0b\uff0c\u52a8\u6001\u5730\u589e\u52a0\u6216\u4fee\u6539\u5176\u529f\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_34","title":"\u793a\u4f8b\uff1a\u4e00\u4e2a\u7b80\u5355\u7684\u88c5\u9970\u5668","text":"<pre><code>def simple_decorator(func):\n    def wrapper():\n        print(\"Before the function call\")\n        func()\n        print(\"After the function call\")\n    return wrapper\n\n@simple_decorator\ndef say_hello():\n    print(\"Hello!\")\n\nsay_hello()\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>Before the function call\nHello!\nAfter the function call\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>simple_decorator</code> \u662f\u4e00\u4e2a\u88c5\u9970\u5668\uff0c\u5b83\u5728 <code>say_hello</code> \u51fd\u6570\u6267\u884c\u524d\u540e\u6dfb\u52a0\u4e86\u6253\u5370\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-functools","title":"2. <code>functools</code> \u6a21\u5757\u4e2d\u7684\u88c5\u9970\u5668","text":"<p><code>functools</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u51e0\u4e2a\u5185\u7f6e\u7684\u88c5\u9970\u5668\uff0c\u5e38\u7528\u7684\u6709 <code>@functools.wraps</code>\u3001<code>@functools.lru_cache</code> \u548c <code>@functools.partial</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#21-functoolswraps","title":"2.1 <code>@functools.wraps</code>","text":"<p><code>@functools.wraps</code> \u662f\u4e00\u4e2a\u88c5\u9970\u5668\uff0c\u7528\u4e8e\u5e2e\u52a9\u88c5\u9970\u5668\u6b63\u786e\u5730\u590d\u5236\u88ab\u88c5\u9970\u51fd\u6570\u7684\u5143\u6570\u636e\uff08\u5982\u51fd\u6570\u7684\u540d\u79f0\u3001\u6587\u6863\u5b57\u7b26\u4e32\u7b49\uff09\uff0c\u4ece\u800c\u907f\u514d\u88c5\u9970\u5668\u5bfc\u81f4\u7684\u67d0\u4e9b\u5143\u6570\u636e\u4fe1\u606f\u4e22\u5931\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_35","title":"\u793a\u4f8b\uff1a","text":"<pre><code>import functools\n\ndef simple_decorator(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print(\"Calling decorated function\")\n        return func(*args, **kwargs)\n    return wrapper\n\n@simple_decorator\ndef say_hello():\n    \"\"\"This is a simple greeting function.\"\"\"\n    print(\"Hello!\")\n\nprint(say_hello.__name__)  # \u8f93\u51fa: say_hello\nprint(say_hello.__doc__)   # \u8f93\u51fa: This is a simple greeting function.\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#22-functoolslru_cache","title":"2.2 <code>@functools.lru_cache</code>","text":"<p><code>@functools.lru_cache</code> \u662f\u4e00\u4e2a\u7f13\u5b58\u88c5\u9970\u5668\uff0c\u7528\u4e8e\u5c06\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7f13\u5b58\u8d77\u6765\uff0c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\uff0c\u4ece\u800c\u63d0\u9ad8\u6027\u80fd\u3002LRU \u4ee3\u8868\u201cLeast Recently Used\u201d\uff0c\u5b83\u4f1a\u81ea\u52a8\u6e05\u9664\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u7f13\u5b58\u9879\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_36","title":"\u793a\u4f8b\uff1a","text":"<pre><code>import functools\n\n@functools.lru_cache(maxsize=4)\ndef fibonacci(n):\n    if n &lt; 2:\n        return n\n    return fibonacci(n - 1) + fibonacci(n - 2)\n\nprint(fibonacci(10))  # \u8f93\u51fa: 55\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>fibonacci</code> \u51fd\u6570\u4f7f\u7528\u4e86 <code>lru_cache</code> \u6765\u7f13\u5b58\u7ed3\u679c\uff0c\u4ece\u800c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#23-functoolspartial","title":"2.3 <code>@functools.partial</code>","text":"<p><code>@functools.partial</code> \u4e0d\u662f\u4e00\u4e2a\u88c5\u9970\u5668\uff0c\u800c\u662f\u4e00\u4e2a\u5de5\u5177\u51fd\u6570\uff0c\u7528\u4e8e\u201c\u90e8\u5206\u5e94\u7528\u201d\u4e00\u4e2a\u51fd\u6570\uff0c\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u3002\u8fd9\u4e2a\u65b0\u51fd\u6570\u53ef\u4ee5\u9884\u5148\u6307\u5b9a\u90e8\u5206\u53c2\u6570\uff0c\u4ece\u800c\u7b80\u5316\u51fd\u6570\u8c03\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_37","title":"\u793a\u4f8b\uff1a","text":"<pre><code>import functools\n\ndef power(base, exponent):\n    return base ** exponent\n\nsquare = functools.partial(power, exponent=2)\ncube = functools.partial(power, exponent=3)\n\nprint(square(3))  # \u8f93\u51fa: 9\nprint(cube(3))    # \u8f93\u51fa: 27\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>square</code> \u548c <code>cube</code> \u662f\u901a\u8fc7 <code>partial</code> \u751f\u6210\u7684\uff0c\u5b83\u4eec\u5206\u522b\u5bf9\u5e94\u4e8e <code>power</code> \u51fd\u6570\u7684\u5e73\u65b9\u548c\u7acb\u65b9\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-functoolswraps","title":"3. \u81ea\u5b9a\u4e49\u88c5\u9970\u5668\u4e0e <code>functools.wraps</code>","text":"<p>\u5728\u7f16\u5199\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\u65f6\uff0c\u63a8\u8350\u4f7f\u7528 <code>functools.wraps</code> \u6765\u786e\u4fdd\u88ab\u88c5\u9970\u51fd\u6570\u7684\u5143\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#functoolswraps","title":"\u793a\u4f8b\uff1a\u4f7f\u7528 <code>functools.wraps</code> \u7684\u81ea\u5b9a\u4e49\u88c5\u9970\u5668","text":"<pre><code>import functools\n\ndef my_decorator(func):\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        print(f\"Calling {func.__name__}\")\n        return func(*args, **kwargs)\n    return wrapper\n\n@my_decorator\ndef example():\n    \"\"\"This is an example function.\"\"\"\n    print(\"Example function executed\")\n\nexample()\nprint(example.__name__)  # \u8f93\u51fa: example\nprint(example.__doc__)   # \u8f93\u51fa: This is an example function.\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_5","title":"4. \u603b\u7ed3","text":"<ul> <li>\u88c5\u9970\u5668 \u662f\u4e00\u79cd\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u51fd\u6570\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u52a8\u6001\u589e\u5f3a\u5176\u529f\u80fd\u7684\u5de5\u5177\u3002</li> <li><code>functools.wraps</code> \u7528\u4e8e\u786e\u4fdd\u88c5\u9970\u5668\u4e0d\u4f1a\u4e22\u5931\u88ab\u88c5\u9970\u51fd\u6570\u7684\u5143\u6570\u636e\u3002</li> <li><code>@functools.lru_cache</code> \u662f\u4e00\u4e2a\u7528\u4e8e\u7f13\u5b58\u51fd\u6570\u7ed3\u679c\u7684\u88c5\u9970\u5668\uff0c\u9002\u5408\u4e8e\u9012\u5f52\u6216\u9700\u8981\u591a\u6b21\u8ba1\u7b97\u7684\u51fd\u6570\u3002</li> <li><code>functools.partial</code> \u7528\u4e8e\u521b\u5efa\u90e8\u5206\u5e94\u7528\u51fd\u6570\uff0c\u7b80\u5316\u51fd\u6570\u8c03\u7528\u3002</li> </ul> <p>\u8fd9\u4e9b\u5de5\u5177\u4f7f\u5f97 Python \u4e2d\u7684\u51fd\u6570\u64cd\u4f5c\u66f4\u4e3a\u7075\u6d3b\u548c\u5f3a\u5927\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_38","title":"\u4ec0\u4e48\u662f\u95ed\u5305\uff1f","text":"<p>\u95ed\u5305\uff08Closure\uff09\u662f Python \u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\uff0c\u5b83\u662f\u6307\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u5e76\u4e14\u8fd9\u4e2a\u5185\u90e8\u51fd\u6570\u80fd\u591f\u8bbf\u95ee\u5916\u90e8\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5373\u4f7f\u5916\u90e8\u51fd\u6570\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_39","title":"\u95ed\u5305\u7684\u5b9a\u4e49\u6761\u4ef6","text":"<p>\u8981\u5f62\u6210\u95ed\u5305\uff0c\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u4e09\u4e2a\u6761\u4ef6\uff1a</p> <ol> <li>\u51fd\u6570\u5d4c\u5957\uff1a\u5fc5\u987b\u6709\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u5728\u53e6\u4e00\u4e2a\u51fd\u6570\u7684\u5185\u90e8\u3002</li> <li>\u5916\u90e8\u51fd\u6570\u7684\u53d8\u91cf\u88ab\u5185\u90e8\u51fd\u6570\u5f15\u7528\uff1a\u5185\u90e8\u51fd\u6570\u5fc5\u987b\u5f15\u7528\u5916\u90e8\u51fd\u6570\u4e2d\u7684\u53d8\u91cf\u3002</li> <li>\u5916\u90e8\u51fd\u6570\u8fd4\u56de\u5185\u90e8\u51fd\u6570\uff1a\u5916\u90e8\u51fd\u6570\u5fc5\u987b\u5c06\u5185\u90e8\u51fd\u6570\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_40","title":"\u95ed\u5305\u7684\u4f5c\u7528","text":"<p>\u95ed\u5305\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u80fd\u591f\u4fdd\u6301\u5916\u90e8\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5373\u4f7f\u5916\u90e8\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\uff0c\u8fd9\u4e9b\u5c40\u90e8\u53d8\u91cf\u4f9d\u7136\u53ef\u4ee5\u5728\u5185\u90e8\u51fd\u6570\u4e2d\u4f7f\u7528\u3002\u95ed\u5305\u901a\u5e38\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a</p> <ul> <li>\u6570\u636e\u5c01\u88c5\uff1a\u95ed\u5305\u53ef\u4ee5\u5c06\u6570\u636e\u4e0e\u64cd\u4f5c\u5c01\u88c5\u5728\u4e00\u8d77\u3002</li> <li>\u5de5\u5382\u51fd\u6570\uff1a\u901a\u8fc7\u95ed\u5305\u521b\u5efa\u5e26\u6709\u4e0d\u540c\u521d\u59cb\u503c\u7684\u51fd\u6570\u3002</li> <li>\u5ef6\u8fdf\u8ba1\u7b97\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u95ed\u5305\u53ef\u4ee5\u5c06\u8ba1\u7b97\u5ef6\u8fdf\u5230\u7a0d\u540e\u7684\u67d0\u4e2a\u65f6\u95f4\u70b9\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_41","title":"\u95ed\u5305\u7684\u793a\u4f8b","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u95ed\u5305\u793a\u4f8b\uff1a</p> <pre><code>def outer_function(text):\n    def inner_function():\n        print(text)\n    return inner_function\n\nclosure = outer_function(\"Hello, World!\")\nclosure()  # \u8f93\u51fa: Hello, World!\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff1a</p> <ul> <li><code>outer_function</code> \u662f\u5916\u90e8\u51fd\u6570\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf <code>text</code> \u548c\u4e00\u4e2a\u5185\u90e8\u51fd\u6570 <code>inner_function</code>\u3002</li> <li><code>inner_function</code> \u5f15\u7528\u4e86 <code>text</code> \u53d8\u91cf\uff0c\u8fd9\u662f\u5916\u90e8\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u3002</li> <li><code>outer_function</code> \u8fd4\u56de\u4e86 <code>inner_function</code>\uff0c\u8fd9\u4f7f\u5f97 <code>closure</code> \u6210\u4e3a\u4e00\u4e2a\u95ed\u5305\u3002</li> <li>\u5373\u4f7f <code>outer_function</code> \u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\u5e76\u8fd4\u56de\uff0c<code>closure</code> \u4f9d\u7136\u53ef\u4ee5\u8bbf\u95ee\u5e76\u4f7f\u7528 <code>text</code> \u53d8\u91cf\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_42","title":"\u95ed\u5305\u7684\u5b9e\u9645\u5e94\u7528","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_3","title":"1. \u6570\u636e\u5c01\u88c5","text":"<p>\u95ed\u5305\u53ef\u4ee5\u7528\u4e8e\u5c01\u88c5\u6570\u636e\uff0c\u5c06\u6570\u636e\u4e0e\u64cd\u4f5c\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u907f\u514d\u6570\u636e\u88ab\u5916\u90e8\u76f4\u63a5\u8bbf\u95ee\u548c\u4fee\u6539\u3002</p> <pre><code>def make_counter():\n    count = 0\n    def counter():\n        nonlocal count\n        count += 1\n        return count\n    return counter\n\ncounter_a = make_counter()\nprint(counter_a())  # \u8f93\u51fa: 1\nprint(counter_a())  # \u8f93\u51fa: 2\n\ncounter_b = make_counter()\nprint(counter_b())  # \u8f93\u51fa: 1\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>make_counter</code> \u8fd4\u56de\u4e86\u4e00\u4e2a\u95ed\u5305 <code>counter</code>\u3002\u6bcf\u6b21\u8c03\u7528 <code>counter</code> \u65f6\uff0c\u95ed\u5305\u90fd\u4f1a\u8bb0\u4f4f <code>count</code> \u7684\u72b6\u6001\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2_2","title":"2. \u51fd\u6570\u5de5\u5382","text":"<p>\u95ed\u5305\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u5177\u6709\u4e0d\u540c\u521d\u59cb\u503c\u7684\u51fd\u6570\u3002</p> <pre><code>def power_factory(exponent):\n    def power(base):\n        return base ** exponent\n    return power\n\nsquare = power_factory(2)\ncube = power_factory(3)\n\nprint(square(4))  # \u8f93\u51fa: 16\nprint(cube(4))    # \u8f93\u51fa: 64\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>power_factory</code> \u8fd4\u56de\u4e86\u4e0d\u540c\u7684\u95ed\u5305\u51fd\u6570 <code>square</code> \u548c <code>cube</code>\uff0c\u5b83\u4eec\u5206\u522b\u8ba1\u7b97\u5e73\u65b9\u548c\u7acb\u65b9\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_43","title":"\u95ed\u5305\u548c\u51fd\u6570\u5bf9\u8c61","text":"<p>\u5728 Python \u4e2d\uff0c\u51fd\u6570\u4e5f\u662f\u5bf9\u8c61\uff0c\u95ed\u5305\u901a\u8fc7\u5185\u90e8\u51fd\u6570\u6301\u6709\u5bf9\u5916\u90e8\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\u7684\u5f15\u7528\u3002\u8fd9\u4f7f\u5f97\u5373\u4f7f\u5916\u90e8\u51fd\u6570\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\uff0c\u5185\u90e8\u51fd\u6570\u4ecd\u7136\u80fd\u591f\u8bbf\u95ee\u8fd9\u4e9b\u5c40\u90e8\u53d8\u91cf\u3002\u8fd9\u79cd\u7279\u6027\u4f7f\u5f97\u95ed\u5305\u5728\u5b9e\u73b0\u5ef6\u8fdf\u8ba1\u7b97\u3001\u56de\u8c03\u51fd\u6570\u3001\u51fd\u6570\u5f0f\u7f16\u7a0b\u7b49\u65b9\u9762\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_44","title":"\u603b\u7ed3","text":"<p>\u95ed\u5305\u662f Python \u4e2d\u7684\u4e00\u4e2a\u5f3a\u5927\u6982\u5ff5\uff0c\u5b83\u8ba9\u4f60\u80fd\u591f\u521b\u5efa\u66f4\u7075\u6d3b\u548c\u53ef\u590d\u7528\u7684\u4ee3\u7801\u3002\u5728\u7406\u89e3\u95ed\u5305\u7684\u57fa\u7840\u4e0a\uff0c\u53ef\u4ee5\u66f4\u6df1\u5165\u5730\u638c\u63e1 Python \u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u4ee5\u53ca\u5982\u4f55\u5229\u7528\u95ed\u5305\u5b9e\u73b0\u4e00\u4e9b\u590d\u6742\u7684\u7f16\u7a0b\u4efb\u52a1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_4","title":"\u5982\u4f55\u5b9e\u73b0 Python \u7684\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d\uff1f","text":"<ul> <li>\u6d45\u62f7\u8d1d\uff1a\u901a\u8fc7 copy() \u65b9\u6cd5\u6216 copy \u6a21\u5757\u4e2d\u7684 copy() \u51fd\u6570\u5b9e\u73b0\uff0c\u53ea\u590d\u5236\u5bf9\u8c61\u7684\u5f15\u7528\u3002</li> <li>\u6df1\u62f7\u8d1d\uff1a\u901a\u8fc7 copy \u6a21\u5757\u4e2d\u7684 deepcopy() \u51fd\u6570\u5b9e\u73b0\uff0c\u590d\u5236\u5bf9\u8c61\u53ca\u5176\u5d4c\u5957\u7684\u6240\u6709\u5bf9\u8c61</li> </ul> <pre><code>import copy\n\nlist1 = [1, 2, [3, 4]]\nlist2 = copy.copy(list1)  # \u6d45\u62f7\u8d1d\nlist3 = copy.deepcopy(list1)  # \u6df1\u62f7\u8d1d\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_5","title":"Python \u4e2d\u7684\u53ef\u53d8\u7c7b\u578b\u548c\u4e0d\u53ef\u53d8\u7c7b\u578b\u6709\u54ea\u4e9b\uff1f","text":"<ul> <li>\u53ef\u53d8\u7c7b\u578b\uff1a\u5217\u8868 (list)\u3001\u5b57\u5178 (dict)\u3001\u96c6\u5408 (set)\u3002</li> <li>\u4e0d\u53ef\u53d8\u7c7b\u578b\uff1a\u6574\u6570 (int)\u3001\u5b57\u7b26\u4e32 (str)\u3001\u5143\u7ec4 (tuple)\u3001\u5e03\u5c14\u503c (bool)\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#args-kwargs","title":"args \u548c *kwargs \u7684\u4f5c\u7528\uff1f","text":"<p>\u5728 Python \u4e2d\uff0c<code>*args</code> \u548c <code>**kwargs</code> \u662f\u4e24\u79cd\u7528\u4e8e\u51fd\u6570\u5b9a\u4e49\u7684\u7279\u6b8a\u8bed\u6cd5\uff0c\u7528\u6765\u5904\u7406\u53ef\u53d8\u6570\u91cf\u7684\u53c2\u6570\u3002\u5b83\u4eec\u4f7f\u5f97\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u975e\u5173\u952e\u5b57\u53c2\u6570\u548c\u5173\u952e\u5b57\u53c2\u6570\uff0c\u4ece\u800c\u63d0\u9ad8\u51fd\u6570\u7684\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#args","title":"\u4e00\u3001<code>*args</code> \u7684\u4f5c\u7528","text":"<p><code>*args</code> \u7528\u4e8e\u5c06\u4efb\u610f\u6570\u91cf\u7684\u975e\u5173\u952e\u5b57\u53c2\u6570\u4f20\u9012\u7ed9\u51fd\u6570\u3002\u8fd9\u4e9b\u53c2\u6570\u4f1a\u88ab\u51fd\u6570\u63a5\u6536\u5230\u4e00\u4e2a \u5143\u7ec4 \u4e2d\u3002<code>args</code> \u8fd9\u4e2a\u540d\u5b57\u5e76\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u5173\u952e\u662f\u661f\u53f7 <code>*</code>\uff0c\u5b83\u544a\u8bc9 Python \u5c06\u6240\u6709\u672a\u547d\u540d\u7684\u53d8\u91cf\u53c2\u6570\u4ee5\u5143\u7ec4\u7684\u5f62\u5f0f\u4f20\u9012\u7ed9\u51fd\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_45","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>def my_function(*args):\n    for arg in args:\n        print(arg)\n\nmy_function(1, 2, 3, 4, 5)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_46","title":"\u8f93\u51fa\uff1a","text":"<pre><code>1\n2\n3\n4\n5\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>my_function</code> \u63a5\u53d7\u4e86\u591a\u4e2a\u53c2\u6570\uff0c\u5e76\u901a\u8fc7 <code>*args</code> \u5c06\u5b83\u4eec\u6253\u5305\u6210\u4e00\u4e2a\u5143\u7ec4 <code>(1, 2, 3, 4, 5)</code> \u4f20\u9012\u7ed9\u51fd\u6570\u3002\u5728\u51fd\u6570\u5185\u90e8\uff0c\u6211\u4eec\u53ef\u4ee5\u50cf\u5904\u7406\u666e\u901a\u5143\u7ec4\u4e00\u6837\u904d\u5386\u6216\u64cd\u4f5c\u8fd9\u4e9b\u53c2\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_47","title":"\u4f7f\u7528\u573a\u666f\uff1a","text":"<ul> <li>\u5b9a\u4e49\u63a5\u53d7\u53ef\u53d8\u6570\u91cf\u53c2\u6570\u7684\u51fd\u6570\uff1a\u9002\u7528\u4e8e\u9700\u8981\u5904\u7406\u672a\u77e5\u6570\u91cf\u8f93\u5165\u7684\u51fd\u6570\uff0c\u5982\u6c42\u548c\u3001\u62fc\u63a5\u7b49\u3002</li> <li>\u4f20\u9012\u53c2\u6570\u7ed9\u53e6\u4e00\u4e2a\u51fd\u6570\uff1a<code>*args</code> \u53ef\u4ee5\u7528\u6765\u5c06\u53c2\u6570\u5217\u8868\u4f20\u9012\u7ed9\u5176\u4ed6\u51fd\u6570\u6216\u65b9\u6cd5\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_48","title":"\u6ce8\u610f\uff1a","text":"<ul> <li><code>*args</code> \u5fc5\u987b\u5728\u6240\u6709\u4f4d\u7f6e\u53c2\u6570\u4e4b\u540e\u5b9a\u4e49\uff0c\u4e0d\u80fd\u5728\u5173\u952e\u5b57\u53c2\u6570\u4e4b\u524d\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#kwargs","title":"\u4e8c\u3001<code>**kwargs</code> \u7684\u4f5c\u7528","text":"<p><code>**kwargs</code> \u7528\u4e8e\u5c06\u4efb\u610f\u6570\u91cf\u7684\u5173\u952e\u5b57\u53c2\u6570\u4f20\u9012\u7ed9\u51fd\u6570\u3002\u8fd9\u4e9b\u53c2\u6570\u4f1a\u88ab\u51fd\u6570\u63a5\u6536\u5230\u4e00\u4e2a \u5b57\u5178 \u4e2d\u3002<code>kwargs</code> \u8fd9\u4e2a\u540d\u5b57\u540c\u6837\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u91cd\u8981\u7684\u662f\u53cc\u661f\u53f7 <code>**</code>\uff0c\u5b83\u544a\u8bc9 Python \u5c06\u6240\u6709\u672a\u547d\u540d\u7684\u5173\u952e\u5b57\u53c2\u6570\u4ee5\u5b57\u5178\u7684\u5f62\u5f0f\u4f20\u9012\u7ed9\u51fd\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_49","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>def my_function(**kwargs):\n    for key, value in kwargs.items():\n        print(f\"{key} = {value}\")\n\nmy_function(name=\"Alice\", age=30, city=\"New York\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_50","title":"\u8f93\u51fa\uff1a","text":"<pre><code>name = Alice\nage = 30\ncity = New York\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>my_function</code> \u63a5\u53d7\u4e86\u591a\u4e2a\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5e76\u901a\u8fc7 <code>**kwargs</code> \u5c06\u5b83\u4eec\u6253\u5305\u6210\u4e00\u4e2a\u5b57\u5178 <code>{'name': 'Alice', 'age': 30, 'city': 'New York'}</code> \u4f20\u9012\u7ed9\u51fd\u6570\u3002\u5728\u51fd\u6570\u5185\u90e8\uff0c\u6211\u4eec\u53ef\u4ee5\u50cf\u5904\u7406\u666e\u901a\u5b57\u5178\u4e00\u6837\u904d\u5386\u6216\u64cd\u4f5c\u8fd9\u4e9b\u53c2\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_51","title":"\u4f7f\u7528\u573a\u666f\uff1a","text":"<ul> <li>\u5b9a\u4e49\u63a5\u53d7\u53ef\u53d8\u6570\u91cf\u5173\u952e\u5b57\u53c2\u6570\u7684\u51fd\u6570\uff1a\u9002\u7528\u4e8e\u5904\u7406\u914d\u7f6e\u9009\u9879\u3001\u53ef\u9009\u53c2\u6570\u7b49\u9700\u8981\u4f20\u9012\u952e\u503c\u5bf9\u7684\u573a\u666f\u3002</li> <li>\u6269\u5c55\u51fd\u6570\u529f\u80fd\uff1a\u53ef\u4ee5\u5728\u51fd\u6570\u5b9a\u4e49\u65f6\u9884\u7559\u5904\u7406\u989d\u5916\u914d\u7f6e\u6216\u9009\u9879\u7684\u80fd\u529b\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_52","title":"\u6ce8\u610f\uff1a","text":"<ul> <li><code>**kwargs</code> \u5fc5\u987b\u5728\u6240\u6709\u4f4d\u7f6e\u53c2\u6570\u548c <code>*args</code> \u53c2\u6570\u4e4b\u540e\u5b9a\u4e49\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#args-kwargs_1","title":"\u4e09\u3001<code>*args</code> \u548c <code>**kwargs</code> \u7684\u6df7\u5408\u4f7f\u7528","text":"<p>\u5728\u5b9a\u4e49\u51fd\u6570\u65f6\uff0c\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528 <code>*args</code> \u548c <code>**kwargs</code>\uff0c\u4ece\u800c\u5141\u8bb8\u51fd\u6570\u63a5\u53d7\u4efb\u610f\u6570\u91cf\u7684\u975e\u5173\u952e\u5b57\u53c2\u6570\u548c\u5173\u952e\u5b57\u53c2\u6570\u3002\u8fd9\u79cd\u7ec4\u5408\u53ef\u4ee5\u4f7f\u51fd\u6570\u66f4\u52a0\u901a\u7528\u548c\u7075\u6d3b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_53","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>def my_function(*args, **kwargs):\n    print(\"Positional arguments:\", args)\n    print(\"Keyword arguments:\", kwargs)\n\nmy_function(1, 2, 3, name=\"Alice\", age=30)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_54","title":"\u8f93\u51fa\uff1a","text":"<pre><code>Positional arguments: (1, 2, 3)\nKeyword arguments: {'name': 'Alice', 'age': 30}\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>my_function</code> \u63a5\u6536\u4e86\u4e09\u4e2a\u4f4d\u7f6e\u53c2\u6570\u548c\u4e24\u4e2a\u5173\u952e\u5b57\u53c2\u6570\uff0c\u5e76\u5206\u522b\u901a\u8fc7 <code>*args</code> \u548c <code>**kwargs</code> \u5c06\u5b83\u4eec\u4f20\u9012\u7ed9\u51fd\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_55","title":"\u56db\u3001\u5b9e\u6218\u6848\u4f8b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_4","title":"1. \u51fd\u6570\u5c01\u88c5","text":"<p>\u53ef\u4ee5\u7528 <code>*args</code> \u548c <code>**kwargs</code> \u5c01\u88c5\u73b0\u6709\u7684\u51fd\u6570\uff0c\u4f7f\u5176\u80fd\u591f\u9002\u5e94\u66f4\u591a\u573a\u666f\u3002</p> <pre><code>def logger(func):\n    def wrapper(*args, **kwargs):\n        print(f\"Calling {func.__name__} with args: {args} and kwargs: {kwargs}\")\n        return func(*args, **kwargs)\n    return wrapper\n\n@logger\ndef add(x, y):\n    return x + y\n\nresult = add(3, 5)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_56","title":"\u8f93\u51fa\uff1a","text":"<pre><code>Calling add with args: (3, 5) and kwargs: {}\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 <code>*args</code> \u548c <code>**kwargs</code> \u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u88c5\u9970\u5668 <code>logger</code>\uff0c\u5b83\u53ef\u4ee5\u6253\u5370\u88ab\u88c5\u9970\u51fd\u6570\u7684\u53c2\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-api","title":"2. API \u8bbe\u8ba1","text":"<p>\u5728\u8bbe\u8ba1 API \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>*args</code> \u548c <code>**kwargs</code> \u5b9e\u73b0\u7075\u6d3b\u7684\u53c2\u6570\u4f20\u9012\uff0c\u589e\u5f3a\u51fd\u6570\u7684\u6269\u5c55\u6027\u548c\u9002\u5e94\u6027\u3002</p> <pre><code>def api_call(endpoint, method='GET', **kwargs):\n    print(f\"Endpoint: {endpoint}\")\n    print(f\"Method: {method}\")\n    for key, value in kwargs.items():\n        print(f\"{key}: {value}\")\n\napi_call('/user', method='POST', data={'name': 'Alice'}, headers={'Authorization': 'Bearer token'})\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_57","title":"\u8f93\u51fa\uff1a","text":"<pre><code>Endpoint: /user\nMethod: POST\ndata: {'name': 'Alice'}\nheaders: {'Authorization': 'Bearer token'}\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e86\u4e00\u4e2a <code>api_call</code> \u51fd\u6570\uff0c\u5229\u7528 <code>**kwargs</code> \u63a5\u6536\u5404\u79cd API \u53c2\u6570\uff0c\u4f7f\u5f97\u51fd\u6570\u66f4\u5177\u6269\u5c55\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_58","title":"\u603b\u7ed3","text":"<ul> <li><code>*args</code> \u548c <code>**kwargs</code> \u662f\u5904\u7406\u4e0d\u5b9a\u6570\u91cf\u53c2\u6570\u7684\u5f3a\u5927\u5de5\u5177\u3002</li> <li><code>*args</code> \u9002\u7528\u4e8e\u4f4d\u7f6e\u53c2\u6570\u7684\u4f20\u9012\uff0c\u800c <code>**kwargs</code> \u9002\u7528\u4e8e\u5173\u952e\u5b57\u53c2\u6570\u7684\u4f20\u9012\u3002</li> <li>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5408\u7406\u4f7f\u7528 <code>*args</code> \u548c <code>**kwargs</code> \u53ef\u4ee5\u4f7f\u51fd\u6570\u8bbe\u8ba1\u66f4\u52a0\u7075\u6d3b\uff0c\u4ee3\u7801\u66f4\u5177\u9002\u5e94\u6027\u548c\u590d\u7528\u6027\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_6","title":"Python \u4e2d\u7684\u7ee7\u627f\u548c\u591a\u6001","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_7","title":"Python \u4e2d\u7684\u7ee7\u627f\u548c\u591a\u6001","text":"<p>\u7ee7\u627f\u548c\u591a\u6001\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08OOP\uff09\u7684\u4e24\u4e2a\u91cd\u8981\u6982\u5ff5\uff0c\u5728 Python \u4e2d\u4e5f\u5e7f\u6cdb\u5e94\u7528\u3002\u7406\u89e3\u5b83\u4eec\u6709\u52a9\u4e8e\u6211\u4eec\u8bbe\u8ba1\u51fa\u66f4\u7075\u6d3b\u548c\u53ef\u6269\u5c55\u7684\u7a0b\u5e8f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#inheritance","title":"\u4e00\u3001\u7ee7\u627f\uff08Inheritance\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_5","title":"1. \u4ec0\u4e48\u662f\u7ee7\u627f\uff1f","text":"<p>\u7ee7\u627f\u662f\u4e00\u79cd\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u673a\u5236\uff0c\u5141\u8bb8\u4e00\u4e2a\u7c7b\uff08\u5b50\u7c7b\uff09\u4ece\u53e6\u4e00\u4e2a\u7c7b\uff08\u7236\u7c7b\u6216\u57fa\u7c7b\uff09\u7ee7\u627f\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u901a\u8fc7\u7ee7\u627f\uff0c\u5b50\u7c7b\u4e0d\u4ec5\u53ef\u4ee5\u62e5\u6709\u7236\u7c7b\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u8fd8\u53ef\u4ee5\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u6216\u91cd\u5199\u7236\u7c7b\u7684\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2_3","title":"2. \u7ee7\u627f\u7684\u57fa\u672c\u8bed\u6cd5","text":"<p>\u5728 Python \u4e2d\uff0c\u7ee7\u627f\u901a\u8fc7\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u5e76\u5c06\u53e6\u4e00\u4e2a\u7c7b\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u5b83\u6765\u5b9e\u73b0\u3002</p> <pre><code>class Parent:\n    def __init__(self, name):\n        self.name = name\n\n    def greet(self):\n        print(f\"Hello, I am {self.name}.\")\n\nclass Child(Parent):\n    def __init__(self, name, age):\n        super().__init__(name)\n        self.age = age\n\n    def greet(self):\n        print(f\"Hello, I am {self.name}, and I am {self.age} years old.\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-super","title":"3. <code>super()</code> \u51fd\u6570","text":"<p><code>super()</code> \u51fd\u6570\u7528\u4e8e\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u7279\u522b\u662f\u5728\u5b50\u7c7b\u91cd\u5199\u4e86\u7236\u7c7b\u7684\u65b9\u6cd5\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>super()</code> \u8c03\u7528\u88ab\u91cd\u5199\u7684\u7236\u7c7b\u65b9\u6cd5\u3002</p> <pre><code>class Child(Parent):\n    def __init__(self, name, age):\n        super().__init__(name)  # \u8c03\u7528\u7236\u7c7b\u7684 __init__ \u65b9\u6cd5\n        self.age = age\n\n    def greet(self):\n        super().greet()  # \u8c03\u7528\u7236\u7c7b\u7684 greet \u65b9\u6cd5\n        print(f\"I am {self.age} years old.\")\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>super().__init__(name)</code> \u8c03\u7528\u4e86\u7236\u7c7b <code>Parent</code> \u7684\u6784\u9020\u65b9\u6cd5\uff0c\u4f7f\u5f97\u5b50\u7c7b <code>Child</code> \u4e5f\u80fd\u521d\u59cb\u5316 <code>name</code> \u5c5e\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_6","title":"4. \u591a\u91cd\u7ee7\u627f","text":"<p>Python \u652f\u6301\u591a\u91cd\u7ee7\u627f\uff0c\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u7ee7\u627f\u591a\u4e2a\u7236\u7c7b\u3002\u8bed\u6cd5\u4e0a\uff0c\u591a\u4e2a\u7236\u7c7b\u901a\u8fc7\u9017\u53f7\u5206\u9694\u3002</p> <pre><code>class Base1:\n    def method_base1(self):\n        print(\"Method in Base1\")\n\nclass Base2:\n    def method_base2(self):\n        print(\"Method in Base2\")\n\nclass Derived(Base1, Base2):\n    pass\n\nd = Derived()\nd.method_base1()\nd.method_base2()\n</code></pre> <p>\u591a\u91cd\u7ee7\u627f\u53ef\u4ee5\u589e\u52a0\u7c7b\u7684\u529f\u80fd\uff0c\u4f46\u540c\u65f6\u4e5f\u4f1a\u5e26\u6765\u590d\u6742\u6027\uff0c\u9700\u8981\u5c0f\u5fc3\u5904\u7406\u591a\u91cd\u7ee7\u627f\u53ef\u80fd\u5bfc\u81f4\u7684\u83f1\u5f62\u7ee7\u627f\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#polymorphism","title":"\u4e8c\u3001\u591a\u6001\uff08Polymorphism\uff09","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_6","title":"1. \u4ec0\u4e48\u662f\u591a\u6001\uff1f","text":"<p>\u591a\u6001\u6307\u7684\u662f\u4e0d\u540c\u7c7b\u7684\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7\u76f8\u540c\u7684\u63a5\u53e3\u6765\u8c03\u7528\u4e0d\u540c\u7684\u884c\u4e3a\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u540c\u6837\u7684\u64cd\u4f5c\u53ef\u4ee5\u4f5c\u7528\u4e8e\u4e0d\u540c\u7684\u5bf9\u8c61\uff0c\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\u3002</p> <p>\u5728 Python \u4e2d\uff0c\u591a\u6001\u4e3b\u8981\u901a\u8fc7 \u65b9\u6cd5\u91cd\u5199\uff08Override\uff09 \u548c \u9e2d\u5b50\u7c7b\u578b\uff08Duck Typing\uff09 \u6765\u5b9e\u73b0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2_4","title":"2. \u65b9\u6cd5\u91cd\u5199","text":"<p>\u5b50\u7c7b\u53ef\u4ee5\u91cd\u5199\uff08Override\uff09\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u4ece\u800c\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\u3002</p> <pre><code>class Animal:\n    def speak(self):\n        pass\n\nclass Dog(Animal):\n    def speak(self):\n        print(\"Woof!\")\n\nclass Cat(Animal):\n    def speak(self):\n        print(\"Meow!\")\n\ndef make_animal_speak(animal):\n    animal.speak()\n\ndog = Dog()\ncat = Cat()\n\nmake_animal_speak(dog)  # \u8f93\u51fa: Woof!\nmake_animal_speak(cat)  # \u8f93\u51fa: Meow!\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>Dog</code> \u548c <code>Cat</code> \u90fd\u7ee7\u627f\u81ea <code>Animal</code> \u7c7b\uff0c\u5e76\u4e14\u90fd\u91cd\u5199\u4e86 <code>speak</code> \u65b9\u6cd5\u3002\u5c3d\u7ba1\u5b83\u4eec\u7684\u7c7b\u578b\u4e0d\u540c\uff0c\u4f46\u5728\u8c03\u7528 <code>make_animal_speak</code> \u51fd\u6570\u65f6\uff0c\u80fd\u591f\u5404\u81ea\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\uff0c\u8fd9\u5c31\u662f\u591a\u6001\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-duck-typing","title":"3. \u9e2d\u5b50\u7c7b\u578b\uff08Duck Typing\uff09","text":"<p>Python \u662f\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u9e2d\u5b50\u7c7b\u578b\u662f\u4e00\u79cd\u901a\u8fc7\u5bf9\u8c61\u884c\u4e3a\u6765\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u7684\u65b9\u5f0f\uff0c\u5373\"\u5982\u679c\u5b83\u8d70\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u53eb\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u9e2d\u5b50\"\u3002</p> <pre><code>class Bird:\n    def fly(self):\n        print(\"Bird is flying\")\n\nclass Airplane:\n    def fly(self):\n        print(\"Airplane is flying\")\n\ndef make_it_fly(thing):\n    thing.fly()\n\nbird = Bird()\nairplane = Airplane()\n\nmake_it_fly(bird)      # \u8f93\u51fa: Bird is flying\nmake_it_fly(airplane)  # \u8f93\u51fa: Airplane is flying\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>Bird</code> \u548c <code>Airplane</code> \u6ca1\u6709\u7ee7\u627f\u540c\u4e00\u4e2a\u7236\u7c7b\uff0c\u4f46\u90fd\u5b9e\u73b0\u4e86 <code>fly</code> \u65b9\u6cd5\u3002\u56e0\u6b64\uff0c<code>make_it_fly</code> \u51fd\u6570\u53ef\u4ee5\u5bf9\u5b83\u4eec\u8fdb\u884c\u76f8\u540c\u7684\u64cd\u4f5c\uff0c\u8fd9\u79cd\u673a\u5236\u5c31\u662f\u9e2d\u5b50\u7c7b\u578b\u7684\u4f53\u73b0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_59","title":"\u4e09\u3001\u7ee7\u627f\u4e0e\u591a\u6001\u7684\u7efc\u5408\u5e94\u7528","text":"<p>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u7ee7\u627f\u548c\u591a\u6001\u7ecf\u5e38\u7ed3\u5408\u4f7f\u7528\uff0c\u901a\u8fc7\u7ee7\u627f\u5b9e\u73b0\u4ee3\u7801\u7684\u91cd\u7528\u6027\uff0c\u901a\u8fc7\u591a\u6001\u5b9e\u73b0\u4ee3\u7801\u7684\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_60","title":"\u4f8b\u5b50\uff1a\u6a21\u62df\u4e00\u4e2a\u7b80\u5355\u7684\u652f\u4ed8\u7cfb\u7edf","text":"<pre><code>class Payment:\n    def pay(self, amount):\n        raise NotImplementedError(\"Subclasses must implement this method\")\n\nclass CreditCardPayment(Payment):\n    def pay(self, amount):\n        print(f\"Paying {amount} using Credit Card.\")\n\nclass PayPalPayment(Payment):\n    def pay(self, amount):\n        print(f\"Paying {amount} using PayPal.\")\n\ndef process_payment(payment: Payment, amount):\n    payment.pay(amount)\n\npayment1 = CreditCardPayment()\npayment2 = PayPalPayment()\n\nprocess_payment(payment1, 100)\nprocess_payment(payment2, 200)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_61","title":"\u8f93\u51fa\uff1a","text":"<pre><code>Paying 100 using Credit Card.\nPaying 200 using PayPal.\n</code></pre> <p>\u5728\u8fd9\u4e2a\u652f\u4ed8\u7cfb\u7edf\u4e2d\uff0c<code>Payment</code> \u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b\uff0c\u5b9a\u4e49\u4e86 <code>pay</code> \u65b9\u6cd5\u7684\u63a5\u53e3\u3002<code>CreditCardPayment</code> \u548c <code>PayPalPayment</code> \u7ee7\u627f\u4e86 <code>Payment</code> \u7c7b\uff0c\u5e76\u5b9e\u73b0\u4e86 <code>pay</code> \u65b9\u6cd5\u3002\u901a\u8fc7\u591a\u6001\u673a\u5236\uff0c\u4e0d\u540c\u7684\u652f\u4ed8\u65b9\u5f0f\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u63a5\u53e3\u8fdb\u884c\u8c03\u7528\uff0c\u4ece\u800c\u63d0\u9ad8\u7cfb\u7edf\u7684\u7075\u6d3b\u6027\u548c\u6269\u5c55\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_62","title":"\u603b\u7ed3","text":"<ul> <li>\u7ee7\u627f\uff1a\u901a\u8fc7\u7ee7\u627f\uff0c\u5b50\u7c7b\u53ef\u4ee5\u590d\u7528\u7236\u7c7b\u7684\u4ee3\u7801\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u6269\u5c55\u6216\u4fee\u6539\u3002</li> <li>\u591a\u6001\uff1a\u901a\u8fc7\u591a\u6001\uff0c\u4e0d\u540c\u7684\u7c7b\u53ef\u4ee5\u901a\u8fc7\u76f8\u540c\u7684\u63a5\u53e3\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\uff0c\u4ece\u800c\u63d0\u9ad8\u4ee3\u7801\u7684\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002</li> </ul> <p>\u8fd9\u4e24\u4e2a\u6982\u5ff5\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u6838\u5fc3\uff0c\u638c\u63e1\u5b83\u4eec\u80fd\u591f\u5e2e\u52a9\u4f60\u5199\u51fa\u66f4\u52a0\u4f18\u96c5\u548c\u6a21\u5757\u5316\u7684\u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#mro","title":"MRO","text":"<p>\u5728 Python \u4e2d\uff0cMRO\uff08Method Resolution Order\uff09\u6307\u7684\u662f\u7c7b\u7684 \u65b9\u6cd5\u89e3\u6790\u987a\u5e8f \u3002\u5f53\u4e00\u4e2a\u7c7b\u7ee7\u627f\u4e86\u591a\u4e2a\u7236\u7c7b\u65f6\uff0cPython \u9700\u8981\u786e\u5b9a\u8c03\u7528\u7ee7\u627f\u94fe\u4e2d\u67d0\u4e2a\u65b9\u6cd5\u7684\u987a\u5e8f\uff0cMRO \u5c31\u662f\u7528\u6765\u51b3\u5b9a\u5728\u7c7b\u5c42\u6b21\u7ed3\u6784\u4e2d\u641c\u7d22\u65b9\u6cd5\u6216\u5c5e\u6027\u7684\u987a\u5e8f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#mro_1","title":"\u4e00\u3001\u4ec0\u4e48\u662f MRO\uff1f","text":"<p>MRO \u51b3\u5b9a\u4e86\u5f53\u4f60\u8c03\u7528\u4e00\u4e2a\u65b9\u6cd5\u65f6\uff0cPython \u4f1a\u5728\u54ea\u4e9b\u7c7b\u4e2d\u641c\u7d22\u8be5\u65b9\u6cd5\uff0c\u4ee5\u53ca\u641c\u7d22\u7684\u987a\u5e8f\u3002MRO \u662f Python \u7ee7\u627f\u673a\u5236\u7684\u6838\u5fc3\uff0c\u7279\u522b\u662f\u5728\u591a\u91cd\u7ee7\u627f\u7684\u60c5\u51b5\u4e0b\uff0c\u7406\u89e3 MRO \u5bf9\u907f\u514d\u6f5c\u5728\u95ee\u9898\u975e\u5e38\u91cd\u8981\u3002</p> <p>MRO \u7684\u987a\u5e8f\u53ef\u4ee5\u901a\u8fc7\u7c7b\u7684 <code>__mro__</code> \u5c5e\u6027\u6216 <code>mro()</code> \u65b9\u6cd5\u6765\u67e5\u770b\uff0c<code>__mro__</code> \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u7c7b\u7ee7\u627f\u987a\u5e8f\u7684\u5143\u7ec4\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#mro_2","title":"\u4e8c\u3001\u5355\u7ee7\u627f\u4e2d\u7684 MRO","text":"<p>\u5bf9\u4e8e\u5355\u7ee7\u627f\uff08\u5373\u4e00\u4e2a\u5b50\u7c7b\u53ea\u6709\u4e00\u4e2a\u76f4\u63a5\u7236\u7c7b\uff09\uff0cMRO \u6bd4\u8f83\u7b80\u5355\u3002\u5b83\u6309\u7167\u4ece\u5b50\u7c7b\u5230\u7236\u7c7b\u518d\u5230\u7956\u7236\u7c7b\u7684\u987a\u5e8f\u67e5\u627e\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_63","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>class A:\n    def method(self):\n        print(\"A method\")\n\nclass B(A):\n    def method(self):\n        print(\"B method\")\n\nb = B()\nb.method()\n\n# \u67e5\u770b MRO\nprint(B.__mro__)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_64","title":"\u8f93\u51fa\uff1a","text":"<pre><code>B method\n(&lt;class '__main__.B'&gt;, &lt;class '__main__.A'&gt;, &lt;class 'object'&gt;)\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5f53\u8c03\u7528 <code>b.method()</code> \u65f6\uff0cPython \u4f1a\u9996\u5148\u5728\u7c7b <code>B</code> \u4e2d\u5bfb\u627e <code>method</code> \u65b9\u6cd5\uff0c\u627e\u5230\u540e\u7acb\u5373\u8c03\u7528\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0cPython \u4f1a\u7ee7\u7eed\u5728 <code>A</code> \u7c7b\u4e2d\u5bfb\u627e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#mro_3","title":"\u4e09\u3001\u591a\u91cd\u7ee7\u627f\u4e2d\u7684 MRO","text":"<p>\u5728\u591a\u91cd\u7ee7\u627f\u4e2d\uff0cMRO \u4f1a\u53d8\u5f97\u590d\u6742\u3002Python \u4f7f\u7528\u4e00\u79cd\u79f0\u4e3a C3 \u7ebf\u6027\u5316\u7b97\u6cd5\uff08\u6216 C3 superclass linearization\uff09\u7684\u65b9\u6cd5\u6765\u786e\u5b9a MRO\u3002\u8fd9\u4e2a\u7b97\u6cd5\u786e\u4fdd\u4e86\u7ee7\u627f\u5173\u7cfb\u4e2d\u7684\u4e00\u81f4\u6027\uff0c\u907f\u514d\u4e86\u83f1\u5f62\u7ee7\u627f\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_65","title":"\u83f1\u5f62\u7ee7\u627f\u95ee\u9898","text":"<p>\u83f1\u5f62\u7ee7\u627f\u95ee\u9898\u6307\u7684\u662f\u5728\u591a\u91cd\u7ee7\u627f\u4e2d\uff0c\u67d0\u4e2a\u7956\u5148\u7c7b\u88ab\u591a\u4e2a\u8def\u5f84\u7ee7\u627f\uff0c\u53ef\u80fd\u5bfc\u81f4\u540c\u4e00\u4e2a\u65b9\u6cd5\u6216\u5c5e\u6027\u88ab\u591a\u6b21\u7ee7\u627f\u548c\u8c03\u7528\uff0c\u4ea7\u751f\u4e0d\u4e00\u81f4\u7684\u7ed3\u679c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_66","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>class A:\n    def method(self):\n        print(\"A method\")\n\nclass B(A):\n    def method(self):\n        print(\"B method\")\n\nclass C(A):\n    def method(self):\n        print(\"C method\")\n\nclass D(B, C):\n    pass\n\nd = D()\nd.method()\n\n# \u67e5\u770b MRO\nprint(D.__mro__)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_67","title":"\u8f93\u51fa\uff1a","text":"<pre><code>B method\n(&lt;class '__main__.D'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class 'object'&gt;)\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>D</code> \u7c7b\u7ee7\u627f\u4e86 <code>B</code> \u548c <code>C</code>\uff0c\u800c <code>B</code> \u548c <code>C</code> \u90fd\u7ee7\u627f\u4e86 <code>A</code>\u3002<code>D</code> \u7684 MRO \u662f <code>D -&gt; B -&gt; C -&gt; A -&gt; object</code>\uff0c\u6240\u4ee5\u5f53\u8c03\u7528 <code>d.method()</code> \u65f6\uff0c<code>B</code> \u7c7b\u4e2d\u7684 <code>method</code> \u65b9\u6cd5\u9996\u5148\u88ab\u627e\u5230\u5e76\u8c03\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#mro-c3","title":"\u56db\u3001MRO \u7684\u8ba1\u7b97\u89c4\u5219\uff1aC3 \u7ebf\u6027\u5316\u7b97\u6cd5","text":"<p>C3\u7b97\u6cd5\u662fPython\u4e2d\u7528\u4e8e\u786e\u5b9a\u7c7b\u7684\u591a\u91cd\u7ee7\u627f\u987a\u5e8f\uff08Method Resolution Order, MRO\uff09\u7684\u7b97\u6cd5\u3002\u5b83\u786e\u4fdd\u5728\u591a\u91cd\u7ee7\u627f\u4f53\u7cfb\u4e2d\u65b9\u6cd5\u89e3\u6790\u987a\u5e8f\u662f\u786e\u5b9a\u7684\uff0c\u5e76\u4e14\u9075\u5faa\u201c\u5e7f\u5ea6\u4f18\u5148\u3001\u5de6\u4fa7\u4f18\u5148\u3001\u5b50\u7c7b\u4f18\u5148\u201d\u7684\u89c4\u5219\u3002Python 2.3\u4ee5\u540e\u91c7\u7528\u4e86C3\u7ebf\u6027\u5316\u7b97\u6cd5\u6765\u8ba1\u7b97MRO\uff0c\u4ee5\u907f\u514d\u83f1\u5f62\u7ee7\u627f\u95ee\u9898\u4e2d\u7684\u6b67\u4e49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#c3","title":"C3 \u7b97\u6cd5\u7684\u6838\u5fc3\u539f\u5219","text":"<p>C3 \u7b97\u6cd5\u57fa\u4e8e\u4ee5\u4e0b\u6838\u5fc3\u539f\u5219\u6765\u786e\u5b9a\u7c7b\u7684\u7ee7\u627f\u987a\u5e8f\uff1a</p> <ol> <li>\u5c40\u90e8\u4f18\u5148\u7ea7\u987a\u5e8f\uff1a\u5b50\u7c7b\u603b\u662f\u4f18\u5148\u4e8e\u5176\u7236\u7c7b\u3002</li> <li>\u5355\u8c03\u6027\uff1aMRO\u5217\u8868\u4e2d\u7684\u987a\u5e8f\u5e94\u8be5\u4e0e\u7ee7\u627f\u5c42\u6b21\u4e00\u81f4\uff0c\u907f\u514d\u53cd\u8f6c\u987a\u5e8f\u3002</li> <li>\u7ee7\u627f\u94fe\u987a\u5e8f\uff1a\u5982\u679c\u4e00\u4e2a\u7c7b\u7ee7\u627f\u4e86\u591a\u4e2a\u7236\u7c7b\uff0c\u7236\u7c7b\u7684\u987a\u5e8f\u5e94\u8be5\u4fdd\u6301\u4e00\u81f4\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_68","title":"\u5177\u4f53\u7b97\u6cd5\u6b65\u9aa4","text":"<p>\u5047\u8bbe\u7c7bC\u7ee7\u627f\u81ea\u7c7bB\u548c\u7c7bA\uff0cMRO\u7684\u8ba1\u7b97\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u5b9a\u4e49\u57fa\u672c\u987a\u5e8f\uff1a</p> </li> <li> <p>C \u7684\u76f4\u63a5\u7236\u7c7b\u5217\u8868\uff1a [B, A]</p> </li> <li>B \u7684 MRO\uff1a [B] + B \u7684\u7236\u7c7b MRO</li> <li> <p>A \u7684 MRO\uff1a [A] + A \u7684\u7236\u7c7b MRO</p> </li> <li> <p>\u5408\u5e76\u4e0a\u8ff0 MRO\uff1a</p> </li> <li>\u4f9d\u6b21\u53d6\u51fa\u5404\u4e2a\u7236\u7c7b\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u524d\u63d0\u662f\u8be5\u5143\u7d20\u5728\u5176\u4ed6\u5217\u8868\u4e2d\u6ca1\u6709\u51fa\u73b0\u8fc7\uff08\u5373\u6ee1\u8db3 C3 \u7684\u7ee7\u627f\u89c4\u5219\uff09\u3002</li> <li>\u5c06\u53d6\u51fa\u7684\u5143\u7d20\u6dfb\u52a0\u5230\u7ed3\u679c MRO \u4e2d\u3002</li> <li>\u4ece\u6240\u6709\u7236\u7c7b\u5217\u8868\u4e2d\u79fb\u9664\u5df2\u6dfb\u52a0\u7684\u5143\u7d20\uff0c\u91cd\u590d\u76f4\u5230\u6240\u6709\u5217\u8868\u4e3a\u7a7a\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_69","title":"\u793a\u4f8b","text":"<pre><code>class A:\n    pass\n\nclass B(A):\n    pass\n\nclass C(A):\n    pass\n\nclass D(B, C):\n    pass\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0cD\u7c7b\u7684MRO\u4f1a\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8ba1\u7b97\uff1a</p> <ol> <li>B \u7684 MRO \u662f [B, A, object]</li> <li>C \u7684 MRO \u662f [C, A, object]</li> <li>\u5408\u5e76\u4e3a [D, B, C, A, object]</li> </ol> <p>MRO \u7684\u6700\u7ec8\u7ed3\u679c\u662f [D, B, C, A, object]\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python-mro","title":"Python \u4e2d\u67e5\u770b MRO","text":"<p>\u5728 Python \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7<code>__mro__</code>\u6216<code>mro()</code>\u65b9\u6cd5\u67e5\u770b\u67d0\u4e2a\u7c7b\u7684MRO\u3002</p> <pre><code>print(D.__mro__)\n# \u6216\u8005\nprint(D.mro())\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>(&lt;class '__main__.D'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class 'object'&gt;)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_70","title":"\u603b\u7ed3","text":"<p>C3 \u7b97\u6cd5\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u786e\u4fdd\u4e86\u5728\u590d\u6742\u7684\u591a\u91cd\u7ee7\u627f\u4f53\u7cfb\u4e2d\uff0c\u7c7b\u7684MRO\u80fd\u591f\u88ab\u552f\u4e00\u786e\u5b9a\u4e14\u4e0d\u4ea7\u751f\u6b67\u4e49\u3002\u8fd9\u662f Python \u5904\u7406\u591a\u91cd\u7ee7\u627f\u7684\u91cd\u8981\u57fa\u7840\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#super-mro","title":"\u4e94\u3001\u4f7f\u7528 <code>super()</code> \u4e0e MRO","text":"<p><code>super()</code> \u51fd\u6570\u5728\u8c03\u7528\u7236\u7c7b\u65b9\u6cd5\u65f6\uff0c\u9075\u5faa MRO \u7684\u987a\u5e8f\u3002\u5b83\u53ef\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u5728\u591a\u91cd\u7ee7\u627f\u4e2d\uff0c\u4e5f\u80fd\u591f\u6309\u7167 MRO \u7684\u987a\u5e8f\u8c03\u7528\u6b63\u786e\u7684\u7236\u7c7b\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_71","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>class A:\n    def method(self):\n        print(\"A method\")\n        super().method()\n\nclass B(A):\n    def method(self):\n        print(\"B method\")\n        super().method()\n\nclass C(A):\n    def method(self):\n        print(\"C method\")\n        super().method()\n\nclass D(B, C):\n    def method(self):\n        print(\"D method\")\n        super().method()\n\nd = D()\nd.method()\n\n# \u67e5\u770b MRO\nprint(D.__mro__)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_72","title":"\u8f93\u51fa\uff1a","text":"<pre><code>D method\nB method\nC method\nA method\n(&lt;class '__main__.D'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class 'object'&gt;)\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>D</code> \u7c7b\u4e2d\u7684 <code>method</code> \u65b9\u6cd5\u8c03\u7528\u4e86 <code>super().method()</code>\uff0c\u5b83\u9075\u5faa MRO \u5148\u8c03\u7528 <code>B</code> \u7c7b\u7684 <code>method</code> \u65b9\u6cd5\uff0c\u63a5\u7740\u8c03\u7528 <code>C</code> \u7c7b\u7684 <code>method</code> \u65b9\u6cd5\uff0c\u6700\u540e\u8c03\u7528 <code>A</code> \u7c7b\u7684 <code>method</code> \u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#mro_4","title":"\u516d\u3001\u5b9e\u9645\u5e94\u7528\u4e2d\u7684 MRO","text":"<p>\u7406\u89e3 MRO \u5bf9\u4e8e\u89e3\u51b3\u5b9e\u9645\u5f00\u53d1\u4e2d\u7684\u591a\u91cd\u7ee7\u627f\u95ee\u9898\u975e\u5e38\u91cd\u8981\uff0c\u5c24\u5176\u662f\u5728\u6d89\u53ca\u590d\u6742\u7684\u7c7b\u5c42\u6b21\u7ed3\u6784\u65f6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_7","title":"1. \u4fdd\u6301\u7ee7\u627f\u7ed3\u6784\u6e05\u6670","text":"<p>\u5c3d\u91cf\u907f\u514d\u590d\u6742\u7684\u591a\u91cd\u7ee7\u627f\u7ed3\u6784\uff0c\u4f7f\u7528\u7ec4\u5408\u4ee3\u66ff\u7ee7\u627f\u53ef\u80fd\u4f1a\u66f4\u6e05\u6670\u548c\u6613\u4e8e\u7ef4\u62a4\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-super","title":"2. \u4f7f\u7528 <code>super()</code> \u8c03\u7528\u7236\u7c7b\u65b9\u6cd5","text":"<p>\u5728\u591a\u91cd\u7ee7\u627f\u4e2d\uff0c\u4f7f\u7528 <code>super()</code> \u53ef\u4ee5\u786e\u4fdd\u65b9\u6cd5\u8c03\u7528\u9075\u5faa MRO\uff0c\u907f\u514d\u76f4\u63a5\u8c03\u7528\u7236\u7c7b\u65b9\u6cd5\u5bfc\u81f4\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_73","title":"\u4e03\u3001\u603b\u7ed3","text":"<ul> <li>MRO \u51b3\u5b9a\u4e86 Python \u5728\u7c7b\u7ee7\u627f\u94fe\u4e2d\u67e5\u627e\u65b9\u6cd5\u548c\u5c5e\u6027\u7684\u987a\u5e8f\uff0c\u7279\u522b\u662f\u5728\u591a\u91cd\u7ee7\u627f\u4e2d\u3002</li> <li>C3 \u7ebf\u6027\u5316\u7b97\u6cd5 \u662f Python \u7528\u6765\u8ba1\u7b97 MRO \u7684\u6838\u5fc3\u7b97\u6cd5\uff0c\u786e\u4fdd\u7ee7\u627f\u5173\u7cfb\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u4f7f\u7528 <code>super()</code> \u51fd\u6570\u53ef\u4ee5\u9075\u5faa MRO \u987a\u5e8f\u8c03\u7528\u7236\u7c7b\u65b9\u6cd5\uff0c\u907f\u514d\u591a\u91cd\u7ee7\u627f\u4e2d\u7684\u6f5c\u5728\u95ee\u9898\u3002</li> </ul> <p>\u7406\u89e3 MRO \u5bf9\u4e8e\u7f16\u5199\u53ef\u7ef4\u62a4\u3001\u53ef\u6269\u5c55\u7684 Python \u4ee3\u7801\u81f3\u5173\u91cd\u8981\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u590d\u6742\u7684\u7ee7\u627f\u5173\u7cfb\u65f6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#duck-typing","title":"\u9e2d\u5b50\u7c7b\u578b\uff08Duck Typing\uff09\u662f\u4ec0\u4e48\uff1f","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#duck-typing_1","title":"\u9e2d\u5b50\u7c7b\u578b\uff08Duck Typing\uff09","text":"<p>\u9e2d\u5b50\u7c7b\u578b\uff08Duck Typing\uff09 \u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u7684\u7f16\u7a0b\u98ce\u683c\uff0c\u5b83\u4e0d\u8981\u6c42\u5bf9\u8c61\u5177\u6709\u67d0\u79cd\u7279\u5b9a\u7684\u7c7b\u578b\uff0c\u800c\u662f\u53ea\u8981\u5bf9\u8c61\u5177\u6709\u9002\u5408\u7684\u65b9\u6cd5\u6216\u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u5c06\u5b83\u89c6\u4e3a\u67d0\u79cd\u7c7b\u578b\u6765\u4f7f\u7528\u3002\u7b80\u5355\u6765\u8bf4\uff0c\"\u5982\u679c\u5b83\u8d70\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u53eb\u8d77\u6765\u50cf\u9e2d\u5b50\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u9e2d\u5b50\"\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_8","title":"1. \u9e2d\u5b50\u7c7b\u578b\u7684\u6982\u5ff5","text":"<p>\u5728\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\uff0c\u4f20\u7edf\u7684\u9759\u6001\u7c7b\u578b\u8bed\u8a00\u8981\u6c42\u5bf9\u8c61\u5fc5\u987b\u5c5e\u4e8e\u67d0\u79cd\u660e\u786e\u7684\u7c7b\u6216\u5b9e\u73b0\u67d0\u4e2a\u63a5\u53e3\uff0c\u624d\u80fd\u88ab\u4f5c\u4e3a\u7279\u5b9a\u7c7b\u578b\u6765\u4f7f\u7528\u3002\u4f46\u5728\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff08\u5982 Python\uff09\u4e2d\uff0c\u5e76\u4e0d\u8981\u6c42\u5bf9\u8c61\u5fc5\u987b\u5c5e\u4e8e\u67d0\u4e2a\u7279\u5b9a\u7684\u7c7b\u3002\u53ea\u8981\u5bf9\u8c61\u5177\u6709\u6240\u9700\u7684\u65b9\u6cd5\u6216\u884c\u4e3a\uff0c\u5c31\u53ef\u4ee5\u88ab\u4f5c\u4e3a\u76f8\u5e94\u7684\u7c7b\u578b\u4f7f\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-python_1","title":"2. Python \u4e2d\u7684\u9e2d\u5b50\u7c7b\u578b","text":"<p>\u5728 Python \u4e2d\uff0c\u9e2d\u5b50\u7c7b\u578b\u975e\u5e38\u5e38\u89c1\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f20\u9012\u4efb\u4f55\u5177\u6709\u7279\u5b9a\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u7ba1\u5b83\u5c5e\u4e8e\u54ea\u4e2a\u7c7b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_74","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>class Bird:\n    def fly(self):\n        print(\"Bird is flying\")\n\nclass Airplane:\n    def fly(self):\n        print(\"Airplane is flying\")\n\nclass Fish:\n    def swim(self):\n        print(\"Fish is swimming\")\n\ndef make_it_fly(thing):\n    thing.fly()\n\nbird = Bird()\nairplane = Airplane()\nfish = Fish()\n\nmake_it_fly(bird)      # \u8f93\u51fa: Bird is flying\nmake_it_fly(airplane)  # \u8f93\u51fa: Airplane is flying\n# make_it_fly(fish)    # \u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a Fish \u6ca1\u6709 fly \u65b9\u6cd5\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>make_it_fly</code> \u51fd\u6570\u63a5\u53d7\u4efb\u4f55\u5177\u6709 <code>fly</code> \u65b9\u6cd5\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002<code>Bird</code> \u548c <code>Airplane</code> \u90fd\u5b9e\u73b0\u4e86 <code>fly</code> \u65b9\u6cd5\uff0c\u56e0\u6b64\u5b83\u4eec\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 <code>make_it_fly</code> \u51fd\u6570\u3002\u8fd9\u5c31\u662f\u9e2d\u5b50\u7c7b\u578b\u7684\u5178\u578b\u5e94\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3_5","title":"3. \u9e2d\u5b50\u7c7b\u578b\u7684\u4f18\u70b9","text":"<ul> <li>\u7075\u6d3b\u6027\u9ad8\uff1a\u9e2d\u5b50\u7c7b\u578b\u5141\u8bb8\u4ee3\u7801\u66f4\u52a0\u7075\u6d3b\uff0c\u4e0d\u5fc5\u4e25\u683c\u9075\u5faa\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\uff0c\u53ea\u8981\u5bf9\u8c61\u5177\u6709\u5408\u9002\u7684\u65b9\u6cd5\u6216\u884c\u4e3a\u5373\u53ef\u3002</li> <li>\u66f4\u5c11\u7684\u4f9d\u8d56\uff1a\u4ee3\u7801\u4e0e\u5177\u4f53\u7684\u7c7b\u89e3\u8026\uff0c\u51cf\u5c11\u4e86\u5bf9\u7c7b\u5c42\u6b21\u7ed3\u6784\u7684\u4f9d\u8d56\uff0c\u589e\u5f3a\u4e86\u4ee3\u7801\u7684\u590d\u7528\u6027\u548c\u6269\u5c55\u6027\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_7","title":"4. \u9e2d\u5b50\u7c7b\u578b\u7684\u7f3a\u70b9","text":"<ul> <li>\u4e0d\u5b89\u5168\uff1a\u7531\u4e8e\u4e0d\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u9519\u8bef\u53ef\u80fd\u5728\u8fd0\u884c\u65f6\u624d\u4f1a\u66b4\u9732\uff0c\u8fd9\u589e\u52a0\u4e86\u8c03\u8bd5\u7684\u96be\u5ea6\u3002</li> <li>\u53ef\u8bfb\u6027\u964d\u4f4e\uff1a\u9e2d\u5b50\u7c7b\u578b\u4f7f\u4ee3\u7801\u7684\u610f\u56fe\u53d8\u5f97\u4e0d\u90a3\u4e48\u660e\u786e\uff0c\u9605\u8bfb\u548c\u7ef4\u62a4\u4ee3\u7801\u65f6\u9700\u8981\u7279\u522b\u5c0f\u5fc3\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5_3","title":"5. \u5b9e\u9645\u5e94\u7528","text":"<p>\u5728 Python \u7f16\u7a0b\u4e2d\uff0c\u9e2d\u5b50\u7c7b\u578b\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cd\u573a\u666f\uff0c\u5982\u5904\u7406\u5bb9\u5668\u5bf9\u8c61\u3001\u6587\u4ef6\u5bf9\u8c61\u3001\u8fed\u4ee3\u5668\u7b49\u3002\u5728\u8fd9\u4e9b\u573a\u666f\u4e2d\uff0c\u5f80\u5f80\u53ea\u8981\u6c42\u5bf9\u8c61\u5177\u6709\u67d0\u79cd\u884c\u4e3a\uff0c\u800c\u4e0d\u8981\u6c42\u5bf9\u8c61\u5fc5\u987b\u5c5e\u4e8e\u67d0\u4e2a\u5177\u4f53\u7684\u7c7b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#6_3","title":"6. \u9e2d\u5b50\u7c7b\u578b\u4e0e\u63a5\u53e3","text":"<p>\u867d\u7136 Python \u4e0d\u8981\u6c42\u5bf9\u8c61\u5b9e\u73b0\u7279\u5b9a\u7684\u63a5\u53e3\uff0c\u4f46\u7f16\u5199\u63a5\u53e3\u6587\u6863\u6216\u4f7f\u7528\u62bd\u8c61\u57fa\u7c7b\uff08<code>abc</code> \u6a21\u5757\uff09\u6765\u63cf\u8ff0\u5bf9\u8c61\u5e94\u5177\u6709\u7684\u65b9\u6cd5\u6216\u5c5e\u6027\uff0c\u4ecd\u7136\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u7f16\u7a0b\u5b9e\u8df5\u3002\u8fd9\u6837\u53ef\u4ee5\u5728\u4fdd\u6301\u9e2d\u5b50\u7c7b\u578b\u7075\u6d3b\u6027\u7684\u540c\u65f6\uff0c\u4e5f\u589e\u5f3a\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_75","title":"\u603b\u7ed3","text":"<p>\u9e2d\u5b50\u7c7b\u578b\u662f\u4e00\u79cd\u7f16\u7a0b\u98ce\u683c\uff0c\u5f3a\u8c03\u884c\u4e3a\u800c\u975e\u7c7b\u578b\u3002\u53ea\u8981\u5bf9\u8c61\u5177\u6709\u6240\u9700\u7684\u65b9\u6cd5\u6216\u884c\u4e3a\uff0c\u5c31\u53ef\u4ee5\u5c06\u5b83\u89c6\u4e3a\u67d0\u79cd\u7c7b\u578b\u6765\u4f7f\u7528\u3002\u5b83\u8d4b\u4e88\u4e86 Python \u6781\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u4e5f\u8981\u6c42\u5f00\u53d1\u8005\u5728\u7f16\u5199\u548c\u7ef4\u62a4\u4ee3\u7801\u65f6\u66f4\u52a0\u8c28\u614e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_8","title":"Python \u5185\u5b58\u7ba1\u7406","text":"<p>Python \u7684\u5185\u5b58\u7ba1\u7406\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u4e14\u590d\u6742\u7684\u4e3b\u9898\uff0c\u5b83\u6d89\u53ca\u5230\u5185\u5b58\u7684\u5206\u914d\u3001\u5f15\u7528\u8ba1\u6570\u3001\u5783\u573e\u56de\u6536\u4ee5\u53ca\u5185\u5b58\u6c60\u7b49\u673a\u5236\u3002\u4e0b\u9762\u662f\u5bf9 Python \u5185\u5b58\u7ba1\u7406\u7684\u8be6\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1_9","title":"1. \u5185\u5b58\u5206\u914d","text":"<p>Python \u5185\u5b58\u5206\u914d\u5206\u4e3a\u4e24\u90e8\u5206\uff1a</p> <ul> <li>\u5bf9\u8c61\u5185\u5b58\u5206\u914d\uff1a\u8d1f\u8d23Python\u5bf9\u8c61\uff08\u5982\u6574\u6570\u3001\u5217\u8868\u3001\u5b57\u5178\u7b49\uff09\u7684\u5185\u5b58\u5206\u914d\u3002</li> <li>\u79c1\u6709\u5806\u7a7a\u95f4\uff1aPython \u4f7f\u7528\u7684\u5185\u5b58\u7531 Python \u5185\u5b58\u7ba1\u7406\u5668\u8fdb\u884c\u7ba1\u7406\uff0c\u8fd9\u90e8\u5206\u5185\u5b58\u79f0\u4e3a\u79c1\u6709\u5806\u3002\u6240\u6709 Python \u5bf9\u8c61\u548c\u6570\u636e\u7ed3\u6784\u90fd\u5728\u8fd9\u91cc\u5206\u914d\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#11-pymalloc","title":"1.1 \u5c0f\u5bf9\u8c61\u5185\u5b58\u6c60\uff08pymalloc\uff09","text":"<p>Python \u9488\u5bf9\u5c0f\u5bf9\u8c61\uff08\u901a\u5e38\u5c0f\u4e8e 512 \u5b57\u8282\uff09\u7684\u5185\u5b58\u5206\u914d\u4f7f\u7528\u4e86\u4e00\u4e2a\u540d\u4e3a <code>pymalloc</code> \u7684\u5185\u5b58\u6c60\u3002<code>pymalloc</code> \u63d0\u9ad8\u4e86\u5c0f\u5bf9\u8c61\u7684\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e\u901f\u5ea6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#12_1","title":"1.2 \u5927\u5bf9\u8c61\u5185\u5b58\u5206\u914d","text":"<p>\u5bf9\u4e8e\u5927\u4e8e 512 \u5b57\u8282\u7684\u5bf9\u8c61\uff0cPython \u76f4\u63a5\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u63a5\u53e3\uff08\u5982 <code>malloc</code>\uff09\u8fdb\u884c\u5185\u5b58\u5206\u914d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-reference-counting","title":"2. \u5f15\u7528\u8ba1\u6570\uff08Reference Counting\uff09","text":"<p>Python \u4f7f\u7528\u5f15\u7528\u8ba1\u6570\u673a\u5236\u6765\u7ba1\u7406\u5bf9\u8c61\u7684\u5185\u5b58\u3002\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\u5668\uff0c\u8bb0\u5f55\u6709\u591a\u5c11\u4e2a\u5f15\u7528\u6307\u5411\u8be5\u5bf9\u8c61\u3002</p> <ul> <li>\u5f53\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u6216\u5c06\u5176\u8d4b\u503c\u7ed9\u53d8\u91cf\u65f6\uff0c\u5f15\u7528\u8ba1\u6570\u5668\u52a01\u3002</li> <li>\u5f53\u5bf9\u8c61\u4e0d\u518d\u88ab\u5f15\u7528\uff08\u5982\u53d8\u91cf\u8d85\u51fa\u4f5c\u7528\u57df\u6216\u663e\u5f0f\u5220\u9664\u5f15\u7528\uff09\u65f6\uff0c\u5f15\u7528\u8ba1\u6570\u5668\u51cf1\u3002</li> <li>\u5f53\u5f15\u7528\u8ba1\u6570\u5668\u53d8\u4e3a0\u65f6\uff0c\u8be5\u5bf9\u8c61\u7684\u5185\u5b58\u4f1a\u88ab\u7acb\u5373\u56de\u6536\u3002</li> </ul> <pre><code>a = [1, 2, 3]  # \u521b\u5efa\u4e00\u4e2a\u5217\u8868\u5bf9\u8c61\uff0c\u5f15\u7528\u8ba1\u6570\u4e3a1\nb = a          # b \u5f15\u7528\u540c\u4e00\u4e2a\u5217\u8868\u5bf9\u8c61\uff0c\u5f15\u7528\u8ba1\u6570\u52a01\ndel a          # \u5220\u9664\u5f15\u7528 a\uff0c\u5f15\u7528\u8ba1\u6570\u51cf1\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-garbage-collection","title":"3. \u5783\u573e\u56de\u6536\uff08Garbage Collection\uff09","text":"<p>\u5f15\u7528\u8ba1\u6570\u5e76\u4e0d\u80fd\u5904\u7406\u6240\u6709\u60c5\u51b5\uff0c\u4f8b\u5982\u5faa\u73af\u5f15\u7528\u95ee\u9898\u3002\u4e3a\u6b64\uff0cPython \u8fd8\u91c7\u7528\u4e86\u5783\u573e\u56de\u6536\u673a\u5236\uff08GC\uff09\u6765\u5904\u7406\u65e0\u6cd5\u901a\u8fc7\u5f15\u7528\u8ba1\u6570\u56de\u6536\u7684\u5185\u5b58\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#31_2","title":"3.1 \u5faa\u73af\u5f15\u7528","text":"<p>\u5faa\u73af\u5f15\u7528\u662f\u6307\u4e24\u4e2a\u6216\u591a\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u76f8\u4e92\u5f15\u7528\uff0c\u5bfc\u81f4\u5f15\u7528\u8ba1\u6570\u6c38\u8fdc\u65e0\u6cd5\u53d8\u4e3a0\u7684\u60c5\u51b5\u3002</p> <pre><code>class A:\n    def __init__(self):\n        self.ref = None\n\na = A()\nb = A()\na.ref = b\nb.ref = a\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c<code>a</code> \u548c <code>b</code> \u76f8\u4e92\u5f15\u7528\uff0c\u5373\u4f7f <code>a</code> \u548c <code>b</code> \u90fd\u4e0d\u518d\u4f7f\u7528\uff0c\u5b83\u4eec\u4e5f\u4e0d\u4f1a\u88ab\u81ea\u52a8\u56de\u6536\uff0c\u56e0\u4e3a\u5b83\u4eec\u7684\u5f15\u7528\u8ba1\u6570\u59cb\u7ec8\u5927\u4e8e0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#32-generational-garbage-collection","title":"3.2 \u5206\u4ee3\u5783\u573e\u56de\u6536\uff08Generational Garbage Collection\uff09","text":"<p>Python \u4f7f\u7528\u5206\u4ee3\u5783\u573e\u56de\u6536\u673a\u5236\u6765\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u95ee\u9898\u3002\u5206\u4ee3\u5783\u573e\u56de\u6536\u5c06\u5bf9\u8c61\u5206\u4e3a\u4e09\u4ee3\uff1a - \u65b0\u751f\u4ee3\uff1a\u521a\u521a\u521b\u5efa\u7684\u5bf9\u8c61\u3002 - \u9752\u5e74\u4ee3\uff1a\u7ecf\u5386\u4e86\u82e5\u5e72\u6b21\u5783\u573e\u56de\u6536\u4f46\u4ecd\u7136\u5b58\u6d3b\u7684\u5bf9\u8c61\u3002 - \u8001\u5e74\u4ee3\uff1a\u7ecf\u5386\u4e86\u591a\u6b21\u5783\u573e\u56de\u6536\u4e14\u4ecd\u7136\u5b58\u6d3b\u7684\u5bf9\u8c61\u3002</p> <p>\u5783\u573e\u56de\u6536\u5668\u4f1a\u9891\u7e41\u5730\u68c0\u67e5\u65b0\u751f\u4ee3\u5bf9\u8c61\uff0c\u5076\u5c14\u68c0\u67e5\u9752\u5e74\u4ee3\u5bf9\u8c61\uff0c\u800c\u8f83\u5c11\u68c0\u67e5\u8001\u5e74\u4ee3\u5bf9\u8c61\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_8","title":"4. \u5185\u5b58\u7ba1\u7406\u51fd\u6570","text":"<p>Python \u63d0\u4f9b\u4e86\u4e00\u4e9b\u5185\u5b58\u7ba1\u7406\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u4e8e\u624b\u52a8\u7ba1\u7406\u5185\u5b58\u6216\u4e86\u89e3\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002</p> <ul> <li>sys.getrefcount(object): \u8fd4\u56de\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u3002</li> <li>gc.collect(): \u663e\u5f0f\u89e6\u53d1\u5783\u573e\u56de\u6536\u3002</li> <li>gc.get_count(): \u8fd4\u56de\u5f53\u524d\u5783\u573e\u56de\u6536\u5668\u4e2d\u6bcf\u4e00\u4ee3\u5bf9\u8c61\u7684\u6570\u91cf\u3002</li> <li>gc.get_objects(): \u8fd4\u56de\u5f53\u524d\u6240\u6709\u88ab\u5783\u573e\u56de\u6536\u5668\u8ddf\u8e2a\u7684\u5bf9\u8c61\u5217\u8868\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5_4","title":"5. \u5185\u5b58\u6cc4\u6f0f\u4e0e\u4f18\u5316","text":"<p>\u867d\u7136 Python \u7684\u5185\u5b58\u7ba1\u7406\u673a\u5236\u5f88\u5f3a\u5927\uff0c\u4f46\u5185\u5b58\u6cc4\u6f0f\u4ecd\u7136\u53ef\u80fd\u53d1\u751f\uff0c\u5c24\u5176\u662f\u5728\u590d\u6742\u7684\u5e94\u7528\u4e2d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#51","title":"5.1 \u5e38\u89c1\u5185\u5b58\u6cc4\u6f0f\u539f\u56e0","text":"<ul> <li>\u672a\u89e3\u9664\u7684\u5faa\u73af\u5f15\u7528\uff1a\u65e0\u6cd5\u81ea\u52a8\u56de\u6536\u7684\u5bf9\u8c61\u4f1a\u5360\u7528\u5185\u5b58\u3002</li> <li>\u5168\u5c40\u53d8\u91cf\u6216\u5355\u4f8b\u6a21\u5f0f\uff1a\u957f\u671f\u5360\u7528\u5185\u5b58\u3002</li> <li>\u5927\u91cf\u672a\u5173\u95ed\u7684\u6587\u4ef6\u6216\u7f51\u7edc\u8fde\u63a5\uff1a\u8d44\u6e90\u672a\u91ca\u653e\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#52","title":"5.2 \u5185\u5b58\u4f18\u5316\u5efa\u8bae","text":"<ul> <li>\u907f\u514d\u5faa\u73af\u5f15\u7528\uff1a\u5c3d\u91cf\u4f7f\u7528\u5f31\u5f15\u7528\uff08<code>weakref</code>\uff09\u6216\u624b\u52a8\u89e3\u9664\u5faa\u73af\u5f15\u7528\u3002</li> <li>\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5bf9\u8c61\u521b\u5efa\uff1a\u91cd\u7528\u5bf9\u8c61\u6216\u4f7f\u7528\u5bf9\u8c61\u6c60\u3002</li> <li>\u5b9a\u671f\u624b\u52a8\u5783\u573e\u56de\u6536\uff1a\u5728\u5927\u578b\u7a0b\u5e8f\u4e2d\uff0c\u53ef\u4ee5\u5b9a\u671f\u8c03\u7528 <code>gc.collect()</code>\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_76","title":"\u603b\u7ed3","text":"<p>Python \u7684\u5185\u5b58\u7ba1\u7406\u4e3b\u8981\u4f9d\u9760\u5f15\u7528\u8ba1\u6570\u548c\u5783\u573e\u56de\u6536\u6765\u81ea\u52a8\u7ba1\u7406\u5185\u5b58\u3002\u7136\u800c\uff0c\u7406\u89e3\u5185\u5b58\u5206\u914d\u7684\u673a\u5236\u4ee5\u53ca\u6f5c\u5728\u7684\u5185\u5b58\u6cc4\u6f0f\u95ee\u9898\uff0c\u5bf9\u4e8e\u7f16\u5199\u9ad8\u6548\u548c\u7a33\u5b9a\u7684 Python \u7a0b\u5e8f\u81f3\u5173\u91cd\u8981\u3002\u5728\u590d\u6742\u573a\u666f\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u8c03\u4f18\u5185\u5b58\u7ba1\u7406\u7b56\u7565\u548c\u4f7f\u7528\u5185\u5b58\u7ba1\u7406\u51fd\u6570\u6765\u4f18\u5316\u5185\u5b58\u4f7f\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_9","title":"Python \u4e2d\u7684\u5783\u573e\u56de\u6536\u673a\u5236","text":"<p>Python \u4e2d\u7684\u5783\u573e\u56de\u6536\u673a\u5236\u662f\u7528\u4e8e\u81ea\u52a8\u7ba1\u7406\u5185\u5b58\u7684\u529f\u80fd\uff0c\u5b83\u4f1a\u5728\u4e0d\u518d\u9700\u8981\u67d0\u4e9b\u5bf9\u8c61\u65f6\uff0c\u81ea\u52a8\u91ca\u653e\u8fd9\u4e9b\u5bf9\u8c61\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u3002Python \u91c7\u7528\u4e86\u5f15\u7528\u8ba1\u6570\u548c\u5783\u573e\u56de\u6536\uff08Garbage Collection, GC\uff09\u8fd9\u4e24\u79cd\u65b9\u5f0f\u6765\u5b9e\u73b0\u5185\u5b58\u7ba1\u7406\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-reference-counting","title":"1. \u5f15\u7528\u8ba1\u6570\uff08Reference Counting\uff09","text":"<p>Python \u4e2d\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\u5668\uff0c\u7528\u4e8e\u8bb0\u5f55\u8be5\u5bf9\u8c61\u88ab\u5f15\u7528\u7684\u6b21\u6570\u3002\u5f53\u4e00\u4e2a\u65b0\u7684\u5f15\u7528\u6307\u5411\u8be5\u5bf9\u8c61\u65f6\uff0c\u5f15\u7528\u8ba1\u6570\u589e\u52a0\uff1b\u5f53\u4e00\u4e2a\u5f15\u7528\u88ab\u5220\u9664\u6216\u6307\u5411\u5176\u4ed6\u5bf9\u8c61\u65f6\uff0c\u5f15\u7528\u8ba1\u6570\u51cf\u5c11\u3002</p> <ul> <li>\u589e\u52a0\u5f15\u7528\u8ba1\u6570\u7684\u60c5\u51b5\uff1a</li> <li>\u5bf9\u8c61\u88ab\u521b\u5efa\u65f6\u3002</li> <li>\u53e6\u4e00\u4e2a\u53d8\u91cf\u5f15\u7528\u8be5\u5bf9\u8c61\u3002</li> <li>\u5bf9\u8c61\u88ab\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u51fd\u6570\u3002</li> <li> <p>\u5bf9\u8c61\u88ab\u6dfb\u52a0\u5230\u5bb9\u5668\uff08\u5982\u5217\u8868\u3001\u5143\u7ec4\u3001\u5b57\u5178\u7b49\uff09\u4e2d\u3002</p> </li> <li> <p>\u51cf\u5c11\u5f15\u7528\u8ba1\u6570\u7684\u60c5\u51b5\uff1a</p> </li> <li>\u5bf9\u8c61\u7684\u5f15\u7528\u88ab\u5220\u9664\uff0c\u4f8b\u5982\u4f7f\u7528 <code>del</code> \u8bed\u53e5\u3002</li> <li>\u4e00\u4e2a\u5f15\u7528\u88ab\u8d4b\u503c\u4e3a\u5176\u4ed6\u5bf9\u8c61\u3002</li> <li>\u5f15\u7528\u5bf9\u8c61\u7684\u4f5c\u7528\u57df\u7ed3\u675f\u3002</li> </ul> <p>\u5f53\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u53d8\u4e3a\u96f6\u65f6\uff0c\u8be5\u5bf9\u8c61\u5c06\u88ab\u7acb\u5373\u9500\u6bc1\uff0c\u5185\u5b58\u88ab\u91ca\u653e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_77","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>a = [1, 2, 3]\nb = a  # \u5f15\u7528\u8ba1\u6570\u589e\u52a0\ndel a  # \u5f15\u7528\u8ba1\u6570\u51cf\u5c11\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5217\u8868 <code>[1, 2, 3]</code> \u7684\u5f15\u7528\u8ba1\u6570\u5728\u521b\u5efa\u65f6\u4e3a 1\uff0c\u5f53 <code>b = a</code> \u65f6\u5f15\u7528\u8ba1\u6570\u53d8\u4e3a 2\uff0c\u5220\u9664 <code>a</code> \u540e\u5f15\u7528\u8ba1\u6570\u53d8\u4e3a 1\u3002\u53ea\u6709\u5f53 <code>b</code> \u4e5f\u88ab\u5220\u9664\u65f6\uff0c\u5f15\u7528\u8ba1\u6570\u53d8\u4e3a 0\uff0c\u8be5\u5217\u8868\u5bf9\u8c61\u624d\u4f1a\u88ab\u9500\u6bc1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2_5","title":"2. \u5faa\u73af\u5f15\u7528\u95ee\u9898","text":"<p>\u5f15\u7528\u8ba1\u6570\u7684\u4e00\u4e2a\u7f3a\u70b9\u662f\u5b83\u65e0\u6cd5\u5904\u7406\u5faa\u73af\u5f15\u7528\u3002\u5faa\u73af\u5f15\u7528\u6307\u7684\u662f\u4e24\u4e2a\u6216\u591a\u4e2a\u5bf9\u8c61\u76f8\u4e92\u5f15\u7528\uff0c\u5f62\u6210\u4e00\u4e2a\u95ed\u73af\uff0c\u5bfc\u81f4\u5b83\u4eec\u7684\u5f15\u7528\u8ba1\u6570\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u4e3a\u96f6\uff0c\u65e0\u6cd5\u88ab\u81ea\u52a8\u56de\u6536\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_78","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>class Node:\n    def __init__(self, value):\n        self.value = value\n        self.next = None\n\na = Node(1)\nb = Node(2)\n\na.next = b\nb.next = a  # \u5faa\u73af\u5f15\u7528\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>a</code> \u5f15\u7528\u4e86 <code>b</code>\uff0c\u800c <code>b</code> \u53c8\u5f15\u7528\u4e86 <code>a</code>\uff0c\u5f62\u6210\u4e86\u5faa\u73af\u5f15\u7528\u3002\u5373\u4f7f <code>a</code> \u548c <code>b</code> \u4e0d\u518d\u88ab\u5176\u4ed6\u53d8\u91cf\u5f15\u7528\uff0c\u5b83\u4eec\u7684\u5f15\u7528\u8ba1\u6570\u4e5f\u4e0d\u4f1a\u53d8\u4e3a\u96f6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-garbage-collection-gc","title":"3. \u5783\u573e\u56de\u6536\uff08Garbage Collection, GC\uff09","text":"<p>\u4e3a\u4e86\u5904\u7406\u5faa\u73af\u5f15\u7528\u95ee\u9898\uff0cPython \u4e2d\u5f15\u5165\u4e86\u5783\u573e\u56de\u6536\u673a\u5236\u3002Python \u7684\u5783\u573e\u56de\u6536\u5668\u4f7f\u7528\u4e00\u79cd\u57fa\u4e8e\u5206\u4ee3\u6536\u96c6\uff08generational collection\uff09\u7684\u7b97\u6cd5\u6765\u56de\u6536\u4e0d\u53ef\u8fbe\u7684\u5bf9\u8c61\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#generation","title":"\u4ee3\uff08Generation\uff09\u7684\u6982\u5ff5","text":"<p>Python \u7684\u5783\u573e\u56de\u6536\u5668\u5c06\u6240\u6709\u5bf9\u8c61\u5206\u4e3a\u4e09\u4ee3\uff1a - \u7b2c 0 \u4ee3\uff1a\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u3002 - \u7b2c 1 \u4ee3\uff1a\u4ece\u7b2c 0 \u4ee3\u63d0\u5347\u8fc7\u6765\u7684\u5bf9\u8c61\u3002 - \u7b2c 2 \u4ee3\uff1a\u4ece\u7b2c 1 \u4ee3\u63d0\u5347\u8fc7\u6765\u7684\u5bf9\u8c61\u3002</p> <p>\u968f\u7740\u5bf9\u8c61\u5728\u7a0b\u5e8f\u4e2d\u5b58\u5728\u7684\u65f6\u95f4\u8d8a\u957f\uff0c\u5b83\u4eec\u88ab\u8ba4\u4e3a\u662f\u201c\u5b58\u6d3b\u201d\u7684\u6982\u7387\u8d8a\u9ad8\uff0c\u56e0\u6b64\u63d0\u5347\u5230\u66f4\u9ad8\u7684\u4e00\u4ee3\u3002Python \u4e2d\u7684\u5783\u573e\u56de\u6536\u5668\u4e3b\u8981\u5bf9\u7b2c 0 \u4ee3\u5bf9\u8c61\u8fdb\u884c\u9891\u7e41\u68c0\u67e5\uff0c\u800c\u7b2c 1 \u4ee3\u548c\u7b2c 2 \u4ee3\u7684\u68c0\u67e5\u9891\u7387\u8f83\u4f4e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_79","title":"\u5783\u573e\u56de\u6536\u7684\u8fc7\u7a0b","text":"<ul> <li>\u8ddf\u8e2a\u4e0d\u53ef\u8fbe\u5bf9\u8c61\uff1a\u5783\u573e\u56de\u6536\u5668\u901a\u8fc7\u626b\u63cf\u5185\u5b58\u4e2d\u7684\u5bf9\u8c61\u6765\u67e5\u627e\u4e0d\u518d\u88ab\u5f15\u7528\u7684\u5bf9\u8c61\u3002</li> <li>\u6807\u8bb0\u9636\u6bb5\uff1a\u6807\u8bb0\u6240\u6709\u53ef\u8fbe\u5bf9\u8c61\uff0c\u672a\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\u5219\u88ab\u8ba4\u4e3a\u662f\u5783\u573e\u3002</li> <li>\u6e05\u7406\u9636\u6bb5\uff1a\u56de\u6536\u6240\u6709\u672a\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\uff0c\u91ca\u653e\u5176\u5185\u5b58\u3002</li> </ul> <p>Python \u7684\u5783\u573e\u56de\u6536\u5668\u5b9a\u671f\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u5783\u573e\u56de\u6536\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_80","title":"\u624b\u52a8\u89e6\u53d1\u5783\u573e\u56de\u6536\uff1a","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>gc</code> \u6a21\u5757\u624b\u52a8\u89e6\u53d1\u5783\u573e\u56de\u6536\uff1a</p> <pre><code>import gc\n\ngc.collect()  # \u624b\u52a8\u89e6\u53d1\u5783\u573e\u56de\u6536\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_9","title":"4. \u8c03\u6574\u5783\u573e\u56de\u6536\u884c\u4e3a","text":"<p><code>gc</code> \u6a21\u5757\u5141\u8bb8\u4f60\u8c03\u6574\u5783\u573e\u56de\u6536\u7684\u884c\u4e3a\uff0c\u6bd4\u5982\u8bbe\u7f6e\u5783\u573e\u56de\u6536\u7684\u9608\u503c\u3001\u542f\u7528\u6216\u7981\u7528\u5783\u573e\u56de\u6536\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_81","title":"\u8c03\u6574\u5783\u573e\u56de\u6536\u9608\u503c\uff1a","text":"<pre><code>import gc\n\n# \u67e5\u770b\u5f53\u524d\u9608\u503c\nprint(gc.get_threshold())\n\n# \u8bbe\u7f6e\u65b0\u7684\u9608\u503c\ngc.set_threshold(700, 10, 10)\n</code></pre> <p>\u5783\u573e\u56de\u6536\u7684\u9608\u503c\u8868\u793a\u6bcf\u4e00\u4ee3\u5bf9\u8c61\u88ab\u68c0\u67e5\u7684\u9891\u7387\u3002\u9608\u503c\u8d8a\u5c0f\uff0c\u68c0\u67e5\u8d8a\u9891\u7e41\uff1b\u9608\u503c\u8d8a\u5927\uff0c\u68c0\u67e5\u8d8a\u5c11\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5_5","title":"5. \u603b\u7ed3","text":"<ul> <li>Python \u4f7f\u7528\u5f15\u7528\u8ba1\u6570\u548c\u5783\u573e\u56de\u6536\u673a\u5236\u6765\u7ba1\u7406\u5185\u5b58\u3002</li> <li>\u5f15\u7528\u8ba1\u6570\u662f\u5bf9\u8c61\u7684\u57fa\u7840\u5185\u5b58\u7ba1\u7406\u673a\u5236\uff0c\u4f46\u65e0\u6cd5\u5904\u7406\u5faa\u73af\u5f15\u7528\u3002</li> <li>\u5783\u573e\u56de\u6536\u5668\u4f7f\u7528\u5206\u4ee3\u56de\u6536\u6765\u5b9a\u671f\u6e05\u7406\u65e0\u6cd5\u901a\u8fc7\u5f15\u7528\u8ba1\u6570\u56de\u6536\u7684\u5faa\u73af\u5f15\u7528\u5bf9\u8c61\u3002</li> <li>\u53ef\u4ee5\u901a\u8fc7 <code>gc</code> \u6a21\u5757\u624b\u52a8\u63a7\u5236\u5783\u573e\u56de\u6536\u7684\u884c\u4e3a\uff0c\u8c03\u6574\u9608\u503c\u6216\u76f4\u63a5\u89e6\u53d1\u56de\u6536\u3002</li> </ul> <p>\u7406\u89e3 Python \u7684\u5783\u573e\u56de\u6536\u673a\u5236\u6709\u52a9\u4e8e\u7f16\u5199\u66f4\u9ad8\u6548\u7684\u4ee3\u7801\uff0c\u907f\u514d\u5185\u5b58\u6cc4\u6f0f\u548c\u6027\u80fd\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#with","title":"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u4e0e with \u8bed\u53e5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#with_1","title":"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u4e0e <code>with</code> \u8bed\u53e5","text":"<p>Python \u4e2d\u7684\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff08Context Manager\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u7ba1\u7406\u8d44\u6e90\u7684\u534f\u8bae\u6216\u7c7b\uff0c\u5176\u4e3b\u8981\u76ee\u7684\u662f\u786e\u4fdd\u5728\u4f7f\u7528\u5b8c\u67d0\u4e9b\u8d44\u6e90\u540e\u80fd\u591f\u6b63\u786e\u5730\u91ca\u653e\u5b83\u4eec\uff0c\u5982\u6587\u4ef6\u3001\u7f51\u7edc\u8fde\u63a5\u3001\u9501\u7b49\u3002\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7684\u4f7f\u7528\u901a\u5e38\u4e0e <code>with</code> \u8bed\u53e5\u7ed3\u5408\uff0c\u5b83\u80fd\u591f\u7b80\u5316\u4ee3\u7801\uff0c\u5e76\u51cf\u5c11\u8d44\u6e90\u6cc4\u6f0f\u7684\u98ce\u9669\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-with","title":"1. <code>with</code> \u8bed\u53e5\u7684\u57fa\u672c\u7528\u6cd5","text":"<p><code>with</code> \u8bed\u53e5\u7528\u4e8e\u5728\u4e00\u4e2a\u4ee3\u7801\u5757\u4e2d\u81ea\u52a8\u7ba1\u7406\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7684\u8fdb\u5165\u548c\u9000\u51fa\u64cd\u4f5c\u3002\u5b83\u80fd\u786e\u4fdd\u5728\u4ee3\u7801\u5757\u6267\u884c\u7ed3\u675f\u540e\uff0c\u76f8\u5173\u8d44\u6e90\u80fd\u88ab\u81ea\u52a8\u6e05\u7406\u6216\u91ca\u653e\uff0c\u65e0\u8bba\u662f\u5426\u53d1\u751f\u5f02\u5e38\u3002</p> <pre><code>with open('file.txt', 'r') as file:\n    data = file.read()\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff1a - <code>open('file.txt', 'r')</code> \u8fd4\u56de\u4e00\u4e2a\u6587\u4ef6\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5b9e\u73b0\u4e86\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u534f\u8bae\u3002 - <code>with</code> \u8bed\u53e5\u8c03\u7528\u8be5\u5bf9\u8c61\u7684 <code>__enter__()</code> \u65b9\u6cd5\uff0c\u8fdb\u5165\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff0c\u6253\u5f00\u6587\u4ef6\u5e76\u5c06\u6587\u4ef6\u5bf9\u8c61\u8d4b\u503c\u7ed9 <code>file</code>\u3002 - <code>with</code> \u8bed\u53e5\u5757\u6267\u884c\u5b8c\u540e\uff0c\u81ea\u52a8\u8c03\u7528 <code>__exit__()</code> \u65b9\u6cd5\uff0c\u65e0\u8bba\u662f\u5426\u53d1\u751f\u5f02\u5e38\uff0c\u6587\u4ef6\u90fd\u4f1a\u88ab\u6b63\u786e\u5173\u95ed\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2_6","title":"2. \u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u534f\u8bae","text":"<p>\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u534f\u8bae\u7531\u4e24\u4e2a\u65b9\u6cd5\u7ec4\u6210\uff1a - <code>__enter__(self)</code>\uff1a\u5728\u8fdb\u5165 <code>with</code> \u8bed\u53e5\u65f6\u88ab\u8c03\u7528\u3002\u5b83\u901a\u5e38\u8d1f\u8d23\u8bbe\u7f6e\u548c\u8fd4\u56de\u9700\u8981\u7ba1\u7406\u7684\u8d44\u6e90\u3002 - <code>__exit__(self, exc_type, exc_value, traceback)</code>\uff1a\u5728\u9000\u51fa <code>with</code> \u8bed\u53e5\u65f6\u88ab\u8c03\u7528\u3002\u5b83\u8d1f\u8d23\u6e05\u7406\u6216\u91ca\u653e\u8d44\u6e90\uff0c\u5e76\u5904\u7406\u5f02\u5e38\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3_6","title":"3. \u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff0c\u5e76\u5b9e\u73b0 <code>__enter__</code> \u548c <code>__exit__</code> \u65b9\u6cd5\uff0c\u6765\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u3002</p> <pre><code>class MyContextManager:\n    def __enter__(self):\n        print(\"Entering the context\")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print(\"Exiting the context\")\n\n# \u4f7f\u7528\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\nwith MyContextManager() as manager:\n    print(\"Inside the context\")\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>Entering the context\nInside the context\nExiting the context\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff1a - <code>__enter__()</code> \u65b9\u6cd5\u5728\u8fdb\u5165 <code>with</code> \u8bed\u53e5\u65f6\u88ab\u8c03\u7528\uff0c\u5e76\u8fd4\u56de <code>self</code>\u3002 - <code>__exit__()</code> \u65b9\u6cd5\u5728\u9000\u51fa <code>with</code> \u8bed\u53e5\u65f6\u88ab\u8c03\u7528\uff0c\u5e76\u6267\u884c\u6e05\u7406\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4_10","title":"4. \u5904\u7406\u5f02\u5e38","text":"<p>\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7684 <code>__exit__()</code> \u65b9\u6cd5\u53ef\u4ee5\u5904\u7406\u5f02\u5e38\u3002\u5b83\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a - <code>exc_type</code>\uff1a\u5f02\u5e38\u7684\u7c7b\u578b\u3002 - <code>exc_value</code>\uff1a\u5f02\u5e38\u7684\u5b9e\u4f8b\u3002 - <code>traceback</code>\uff1a\u5f02\u5e38\u7684\u8ffd\u6eaf\u4fe1\u606f\u3002</p> <p>\u5982\u679c <code>__exit__()</code> \u8fd4\u56de <code>True</code>\uff0c\u5f02\u5e38\u5c06\u88ab\u6291\u5236\uff0c\u4e0d\u4f1a\u4f20\u64ad\uff1b\u5982\u679c\u8fd4\u56de <code>False</code>\uff0c\u5f02\u5e38\u5c06\u4f1a\u7ee7\u7eed\u4f20\u64ad\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_82","title":"\u4f8b\u5b50\uff1a","text":"<pre><code>class MyContextManager:\n    def __enter__(self):\n        print(\"Entering the context\")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if exc_type is not None:\n            print(f\"An exception occurred: {exc_value}\")\n        print(\"Exiting the context\")\n        return True  # \u6291\u5236\u5f02\u5e38\n\n# \u4f7f\u7528\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\nwith MyContextManager() as manager:\n    print(\"Inside the context\")\n    raise ValueError(\"Something went wrong\")\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>Entering the context\nInside the context\nAn exception occurred: Something went wrong\nExiting the context\n</code></pre> <p>\u7531\u4e8e <code>__exit__()</code> \u65b9\u6cd5\u8fd4\u56de\u4e86 <code>True</code>\uff0c<code>ValueError</code> \u5f02\u5e38\u88ab\u6291\u5236\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u5d29\u6e83\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5-contextlib","title":"5. \u4f7f\u7528 <code>contextlib</code> \u7b80\u5316\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p>Python \u63d0\u4f9b\u4e86 <code>contextlib</code> \u6a21\u5757\uff0c\u53ef\u4ee5\u7528\u88c5\u9970\u5668\u6216\u751f\u6210\u5668\u7684\u65b9\u5f0f\u7b80\u5316\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7684\u521b\u5efa\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#contextlibcontextmanager","title":"\u4f7f\u7528 <code>contextlib.contextmanager</code> \u88c5\u9970\u5668","text":"<p>\u4f60\u53ef\u4ee5\u7528 <code>@contextmanager</code> \u88c5\u9970\u5668\u5c06\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\u8f6c\u6362\u4e3a\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u3002</p> <pre><code>from contextlib import contextmanager\n\n@contextmanager\ndef my_context_manager():\n    print(\"Entering the context\")\n    yield\n    print(\"Exiting the context\")\n\nwith my_context_manager():\n    print(\"Inside the context\")\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>Entering the context\nInside the context\nExiting the context\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#6_4","title":"6. \u5e38\u89c1\u7684\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u5e94\u7528","text":"<ul> <li>\u6587\u4ef6\u64cd\u4f5c\uff1a\u81ea\u52a8\u7ba1\u7406\u6587\u4ef6\u7684\u6253\u5f00\u548c\u5173\u95ed\u3002</li> <li>\u7ebf\u7a0b\u9501\uff1a\u81ea\u52a8\u7ba1\u7406\u9501\u7684\u83b7\u53d6\u548c\u91ca\u653e\u3002</li> <li>\u6570\u636e\u5e93\u8fde\u63a5\uff1a\u81ea\u52a8\u7ba1\u7406\u6570\u636e\u5e93\u8fde\u63a5\u7684\u5f00\u542f\u548c\u5173\u95ed\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_83","title":"\u603b\u7ed3","text":"<ul> <li>\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668 \u901a\u8fc7\u5b9e\u73b0 <code>__enter__()</code> \u548c <code>__exit__()</code> \u65b9\u6cd5\u6765\u7ba1\u7406\u8d44\u6e90\u3002</li> <li><code>with</code> \u8bed\u53e5 \u7528\u4e8e\u7b80\u5316\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7684\u4f7f\u7528\uff0c\u786e\u4fdd\u8d44\u6e90\u88ab\u6b63\u786e\u91ca\u653e\u3002</li> <li>\u4f60\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>contextlib</code> \u6a21\u5757\u6765\u7b80\u5316\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u7684\u5b9e\u73b0\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python_10","title":"python \u4ee3\u7801\u4f18\u5316","text":"<p>Profiling \u662f\u5206\u6790\u7a0b\u5e8f\u6027\u80fd\u7684\u4e00\u79cd\u6280\u672f\uff0c\u4e3b\u8981\u7528\u4e8e\u786e\u5b9a\u4ee3\u7801\u4e2d\u7684\u6027\u80fd\u74f6\u9888\u3001\u51fd\u6570\u8c03\u7528\u7684\u9891\u7387\u548c\u8017\u65f6\u7b49\u4fe1\u606f\u3002\u901a\u8fc7 Profiling\uff0c\u4f60\u53ef\u4ee5\u4e86\u89e3\u54ea\u4e9b\u90e8\u5206\u7684\u4ee3\u7801\u5360\u7528\u4e86\u8f83\u591a\u7684 CPU \u65f6\u95f4\u6216\u5185\u5b58\uff0c\u4ece\u800c\u6709\u9488\u5bf9\u6027\u5730\u8fdb\u884c\u4f18\u5316\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#profiling","title":"\u4e00\u3001Profiling \u7684\u7c7b\u578b","text":"<p>Profiling \u5de5\u5177\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ol> <li>CPU Profiling\uff1a\u5206\u6790\u4ee3\u7801\u6267\u884c\u65f6\u5404\u4e2a\u51fd\u6570\u7684 CPU \u65f6\u95f4\uff0c\u627e\u51fa\u8017\u65f6\u6700\u957f\u7684\u90e8\u5206\u3002</li> <li>Memory Profiling\uff1a\u5206\u6790\u4ee3\u7801\u4e2d\u5404\u4e2a\u90e8\u5206\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u627e\u51fa\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u6216\u9ad8\u5185\u5b58\u6d88\u8017\u7684\u90e8\u5206\u3002</li> <li>Line Profiling\uff1a\u9010\u884c\u5206\u6790\u4ee3\u7801\uff0c\u4e86\u89e3\u6bcf\u4e00\u884c\u4ee3\u7801\u7684\u6267\u884c\u65f6\u95f4\u548c\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#python-profiling","title":"\u4e8c\u3001Python \u4e2d\u7684 Profiling \u5de5\u5177","text":"<p>Python \u63d0\u4f9b\u4e86\u591a\u79cd Profiling \u5de5\u5177\uff0c\u5e38\u7528\u7684\u6709 <code>cProfile</code>\u3001<code>line_profiler</code>\u3001<code>memory_profiler</code> \u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-cprofile","title":"1. cProfile","text":"<p><code>cProfile</code> \u662f Python \u5185\u7f6e\u7684\u4e00\u4e2a CPU Profiler\uff0c\u7528\u4e8e\u5206\u6790\u7a0b\u5e8f\u5404\u4e2a\u51fd\u6570\u7684\u8c03\u7528\u6b21\u6570\u548c\u8017\u65f6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_84","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<pre><code>python -m cProfile -s cumulative your_script.py\n</code></pre> <ul> <li><code>-s cumulative</code>\uff1a\u6309\u7167\u7d2f\u8ba1\u65f6\u95f4\u6392\u5e8f\u51fd\u6570\u8c03\u7528\uff0c\u65b9\u4fbf\u627e\u51fa\u6700\u8017\u65f6\u7684\u51fd\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_85","title":"\u8f93\u51fa\u793a\u4f8b","text":"<pre><code>   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    0.000    0.000    1.230    1.230 your_script.py:1(&lt;module&gt;)\n    10000    0.530    0.000    0.530    0.000 your_script.py:2(func1)\n    10000    0.700    0.000    0.700    0.000 your_script.py:3(func2)\n</code></pre> <ul> <li><code>ncalls</code>\uff1a\u51fd\u6570\u8c03\u7528\u7684\u6b21\u6570\u3002</li> <li><code>tottime</code>\uff1a\u51fd\u6570\u672c\u8eab\u7684\u8017\u65f6\uff0c\u4e0d\u5305\u62ec\u8c03\u7528\u7684\u5b50\u51fd\u6570\u3002</li> <li><code>cumtime</code>\uff1a\u51fd\u6570\u7684\u7d2f\u8ba1\u8017\u65f6\uff0c\u5305\u62ec\u5b50\u51fd\u6570\u8c03\u7528\u7684\u65f6\u95f4\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_86","title":"\u5206\u6790\u7ed3\u679c","text":"<ul> <li><code>cumtime</code> \u662f\u5173\u952e\u5b57\u6bb5\uff0c\u7528\u4e8e\u627e\u51fa\u6700\u8017\u65f6\u7684\u51fd\u6570\u3002</li> <li>\u7ed3\u5408 <code>ncalls</code>\uff0c\u53ef\u4ee5\u5224\u65ad\u51fd\u6570\u662f\u5426\u88ab\u9891\u7e41\u8c03\u7528\u800c\u5bfc\u81f4\u9ad8\u8017\u65f6\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-line_profiler","title":"2. line_profiler","text":"<p><code>line_profiler</code> \u662f\u4e00\u4e2a\u9010\u884c\u5206\u6790 Python \u4ee3\u7801\u6267\u884c\u65f6\u95f4\u7684\u5de5\u5177\u3002\u5b83\u53ef\u4ee5\u5e2e\u4f60\u4e86\u89e3\u4ee3\u7801\u4e2d\u7684\u54ea\u4e9b\u5177\u4f53\u4ee3\u7801\u884c\u6700\u8017\u65f6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_87","title":"\u5b89\u88c5","text":"<pre><code>pip install line_profiler\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_88","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u9996\u5148\uff0c\u5728\u9700\u8981\u5206\u6790\u7684\u51fd\u6570\u4e0a\u52a0\u4e0a <code>@profile</code> \u88c5\u9970\u5668\u3002</p> <pre><code>@profile\ndef your_function():\n    # Your code here\n</code></pre> <p>\u7136\u540e\u4f7f\u7528 <code>kernprof</code> \u8fd0\u884c\u811a\u672c\uff1a</p> <pre><code>kernprof -l -v your_script.py\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_89","title":"\u8f93\u51fa\u793a\u4f8b","text":"<pre><code>Timer unit: 1e-06 s\n\nTotal time: 0.000436 s\nFile: your_script.py\nFunction: your_function at line 1\n\nLine #      Hits         Time  Per Hit   % Time  Line Contents\n==============================================================\n     1                                           @profile\n     2                                           def your_function():\n     3         1          50.0     50.0     11.5      result = []\n     4        10         175.0     17.5     40.1      for i in range(10):\n     5        10         211.0     21.1     48.4          result.append(i)\n</code></pre> <ul> <li><code>Time</code>\uff1a\u6bcf\u4e00\u884c\u4ee3\u7801\u7684\u603b\u8017\u65f6\u3002</li> <li><code>% Time</code>\uff1a\u8be5\u884c\u4ee3\u7801\u5728\u6574\u4e2a\u51fd\u6570\u6267\u884c\u65f6\u95f4\u4e2d\u5360\u7684\u767e\u5206\u6bd4\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_90","title":"\u5206\u6790\u7ed3\u679c","text":"<ul> <li>\u901a\u8fc7 <code>Time</code> \u548c <code>% Time</code> \u5b57\u6bb5\uff0c\u53ef\u4ee5\u627e\u51fa\u4ee3\u7801\u4e2d\u6700\u8017\u65f6\u7684\u5177\u4f53\u884c\u3002</li> <li><code>line_profiler</code> \u7279\u522b\u9002\u5408\u4f18\u5316\u590d\u6742\u7b97\u6cd5\u548c\u5faa\u73af\u64cd\u4f5c\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-memory_profiler","title":"3. memory_profiler","text":"<p><code>memory_profiler</code> \u662f\u7528\u4e8e\u9010\u884c\u5206\u6790 Python \u4ee3\u7801\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u7684\u5de5\u5177\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_91","title":"\u5b89\u88c5","text":"<pre><code>pip install memory_profiler\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_92","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u4e0e <code>line_profiler</code> \u7c7b\u4f3c\uff0c\u5728\u9700\u8981\u5206\u6790\u7684\u51fd\u6570\u4e0a\u52a0\u4e0a <code>@profile</code> \u88c5\u9970\u5668\u3002</p> <pre><code>@profile\ndef your_function():\n    # Your code here\n</code></pre> <p>\u7136\u540e\u8fd0\u884c\u811a\u672c\uff1a</p> <pre><code>python -m memory_profiler your_script.py\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_93","title":"\u8f93\u51fa\u793a\u4f8b","text":"<pre><code>Line #    Mem usage    Increment   Line Contents\n================================================\n     2     10.000 MiB     0.000 MiB   @profile\n     3     10.000 MiB     0.000 MiB   def your_function():\n     4     10.125 MiB     0.125 MiB       result = []\n     5     10.125 MiB     0.000 MiB       for i in range(100):\n     6     10.375 MiB     0.250 MiB           result.append(i)\n</code></pre> <ul> <li><code>Mem usage</code>\uff1a\u5f53\u524d\u884c\u4ee3\u7801\u6267\u884c\u540e\u7684\u5185\u5b58\u4f7f\u7528\u91cf\u3002</li> <li><code>Increment</code>\uff1a\u5f53\u524d\u884c\u4ee3\u7801\u76f8\u5bf9\u4e8e\u524d\u4e00\u884c\u7684\u5185\u5b58\u589e\u91cf\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_94","title":"\u5206\u6790\u7ed3\u679c","text":"<ul> <li>\u901a\u8fc7 <code>Mem usage</code> \u548c <code>Increment</code> \u5b57\u6bb5\uff0c\u53ef\u4ee5\u5b9a\u4f4d\u4ee3\u7801\u4e2d\u7684\u5185\u5b58\u4f7f\u7528\u70ed\u70b9\u3002</li> <li>\u6709\u52a9\u4e8e\u53d1\u73b0\u5185\u5b58\u6cc4\u6f0f\u6216\u4f18\u5316\u5185\u5b58\u4f7f\u7528\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#profiling_1","title":"\u4e09\u3001\u5982\u4f55\u89e3\u8bfb Profiling \u7ed3\u679c","text":"<ol> <li>\u786e\u5b9a\u6027\u80fd\u74f6\u9888\uff1a\u901a\u8fc7 <code>cProfile</code> \u548c <code>line_profiler</code>\uff0c\u627e\u51fa\u5360\u7528 CPU \u65f6\u95f4\u6700\u591a\u7684\u51fd\u6570\u6216\u4ee3\u7801\u884c\u3002</li> <li>\u4f18\u5316\u5185\u5b58\u4f7f\u7528\uff1a\u901a\u8fc7 <code>memory_profiler</code> \u5206\u6790\uff0c\u627e\u51fa\u9ad8\u5185\u5b58\u6d88\u8017\u7684\u4ee3\u7801\u90e8\u5206\uff0c\u8003\u8651\u4f18\u5316\u6570\u636e\u7ed3\u6784\u6216\u91ca\u653e\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u3002</li> <li>\u907f\u514d\u8fc7\u5ea6\u4f18\u5316\uff1a\u4e0d\u8981\u4ec5\u51ed Profiling \u6570\u636e\u8fdb\u884c\u8fc7\u5ea6\u4f18\u5316\uff0c\u4f18\u5316\u8fc7\u7a0b\u4e2d\u5e94\u6743\u8861\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u7ef4\u62a4\u6027\u3002</li> <li>\u53cd\u590d\u6d4b\u8bd5\uff1a\u6bcf\u6b21\u4f18\u5316\u540e\u90fd\u5e94\u91cd\u65b0 Profiling\uff0c\u4ee5\u9a8c\u8bc1\u4f18\u5316\u6548\u679c\uff0c\u5e76\u9632\u6b62\u65b0\u7684\u74f6\u9888\u51fa\u73b0\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_95","title":"\u56db\u3001\u603b\u7ed3","text":"<p>Profiling \u662f Python \u4ee3\u7801\u4f18\u5316\u7684\u91cd\u8981\u5de5\u5177\uff0c<code>cProfile</code>\u3001<code>line_profiler</code> \u548c <code>memory_profiler</code> \u53ef\u4ee5\u5e2e\u52a9\u4f60\u5168\u9762\u5206\u6790\u4ee3\u7801\u7684\u6027\u80fd\u548c\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002\u901a\u8fc7\u5408\u7406\u4f7f\u7528 Profiling \u5de5\u5177\uff0c\u4f60\u53ef\u4ee5\u6709\u6548\u5730\u627e\u51fa\u6027\u80fd\u74f6\u9888\u548c\u5185\u5b58\u70ed\u70b9\uff0c\u8fdb\u800c\u4f18\u5316\u4ee3\u7801\uff0c\u63d0\u5347\u7a0b\u5e8f\u7684\u6574\u4f53\u6548\u7387\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_96","title":"\u7f16\u7a0b\u601d\u60f3","text":"<p>\u7f16\u7a0b\u601d\u60f3\uff08\u6216\u7f16\u7a0b\u8303\u5f0f\uff09\u662f\u6307\u7f16\u7a0b\u4e2d\u9075\u5faa\u7684\u4e00\u5957\u6307\u5bfc\u539f\u5219\u548c\u65b9\u6cd5\uff0c\u7528\u4ee5\u89e3\u51b3\u95ee\u9898\u548c\u7ec4\u7ec7\u4ee3\u7801\u3002\u4e0d\u540c\u7684\u7f16\u7a0b\u8303\u5f0f\u63d0\u4f9b\u4e86\u4e0d\u540c\u7684\u601d\u7ef4\u65b9\u5f0f\u548c\u5de5\u5177\u6765\u6784\u5efa\u8f6f\u4ef6\u3002\u4ee5\u4e0b\u662f\u51e0\u79cd\u4e3b\u8981\u7684\u7f16\u7a0b\u601d\u60f3\u53ca\u5176\u7279\u70b9\u7684\u5bf9\u6bd4\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#1-imperative-programming","title":"1. \u547d\u4ee4\u5f0f\u7f16\u7a0b\uff08Imperative Programming\uff09","text":"<p>\u547d\u4ee4\u5f0f\u7f16\u7a0b\u662f\u6700\u4f20\u7edf\u3001\u6700\u5e7f\u6cdb\u4f7f\u7528\u7684\u4e00\u79cd\u7f16\u7a0b\u8303\u5f0f\u3002\u5b83\u901a\u8fc7\u4e00\u7cfb\u5217\u6307\u4ee4\uff08\u8bed\u53e5\uff09\u6765\u544a\u8bc9\u8ba1\u7b97\u673a\u5982\u4f55\u9010\u6b65\u6267\u884c\u4efb\u52a1\uff0c\u4fee\u6539\u7a0b\u5e8f\u72b6\u6001\u76f4\u5230\u8fbe\u5230\u9884\u671f\u7684\u7ed3\u679c\u3002</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u5f3a\u8c03\u201c\u600e\u4e48\u505a\u201d\uff08How to do it\uff09\uff0c\u63cf\u8ff0\u6267\u884c\u6b65\u9aa4\u3002</li> <li>\u4f7f\u7528\u53d8\u91cf\u3001\u8d4b\u503c\u8bed\u53e5\u548c\u5faa\u73af\u3002</li> <li> <p>\u4f9d\u8d56\u4e8e\u7a0b\u5e8f\u7684\u72b6\u6001\u53d8\u5316\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u76f4\u89c2\uff0c\u5bb9\u6613\u7406\u89e3\u548c\u8c03\u8bd5\u3002</li> <li> <p>\u9002\u5408\u5904\u7406\u9010\u6b65\u6c42\u89e3\u7684\u95ee\u9898\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u72b6\u6001\u548c\u526f\u4f5c\u7528\u7684\u7ba1\u7406\u590d\u6742\uff0c\u5bb9\u6613\u5f15\u53d1\u9519\u8bef\u3002</li> <li> <p>\u5e76\u53d1\u6027\u5dee\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>C\u3001C++\u3001Python\uff08\u90e8\u5206\uff09\u3001Java</li> </ul> <pre><code>total = 0\nfor i in range(1, 11):\n    total += i\nprint(total)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#2-object-oriented-programming-oop","title":"2. \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08Object-Oriented Programming, OOP\uff09","text":"<p>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u662f\u4e00\u79cd\u57fa\u4e8e\u5bf9\u8c61\u7684\u7f16\u7a0b\u8303\u5f0f\u3002\u5bf9\u8c61\u662f\u6570\u636e\u548c\u884c\u4e3a\u7684\u96c6\u5408\uff0c\u901a\u8fc7\u7c7b\u7684\u5b9a\u4e49\u6765\u521b\u5efa\u3002OOP \u5f3a\u8c03\u5c01\u88c5\u3001\u7ee7\u627f\u548c\u591a\u6001\u6027\u3002</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u901a\u8fc7\u7c7b\u548c\u5bf9\u8c61\u8fdb\u884c\u62bd\u8c61\uff0c\u5f3a\u8c03\u5c01\u88c5\u3002</li> <li>\u63d0\u4f9b\u7ee7\u627f\u548c\u591a\u6001\u6027\u6765\u91cd\u7528\u4ee3\u7801\u3002</li> <li> <p>\u901a\u8fc7\u65b9\u6cd5\uff08\u884c\u4e3a\uff09\u4e0e\u6570\u636e\uff08\u5c5e\u6027\uff09\u7d27\u5bc6\u5173\u8054\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u6709\u52a9\u4e8e\u4ee3\u7801\u7684\u7ec4\u7ec7\u548c\u6a21\u5757\u5316\uff0c\u6613\u4e8e\u7ef4\u62a4\u548c\u6269\u5c55\u3002</li> <li> <p>\u66f4\u5bb9\u6613\u5efa\u6a21\u590d\u6742\u7684\u73b0\u5b9e\u95ee\u9898\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u6709\u65f6\u4f1a\u5bfc\u81f4\u8fc7\u5ea6\u8bbe\u8ba1\uff0c\u590d\u6742\u5ea6\u589e\u52a0\u3002</li> <li> <p>\u5b66\u4e60\u66f2\u7ebf\u8f83\u9661\u5ced\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>Java\u3001C++\u3001Python\uff08\u90e8\u5206\uff09\u3001Ruby</li> </ul> <pre><code>class Animal:\n    def __init__(self, name):\n        self.name = name\n\n    def speak(self):\n        pass\n\nclass Dog(Animal):\n    def speak(self):\n        return \"Woof!\"\n\ndog = Dog(\"Buddy\")\nprint(dog.speak())  # \u8f93\u51fa: Woof!\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#3-functional-programming-fp","title":"3. \u51fd\u6570\u5f0f\u7f16\u7a0b\uff08Functional Programming, FP\uff09","text":"<p>\u51fd\u6570\u5f0f\u7f16\u7a0b\u662f\u4e00\u79cd\u5f3a\u8c03\u8ba1\u7b97\u7684\u6570\u5b66\u672c\u8d28\u7684\u7f16\u7a0b\u8303\u5f0f\uff0c\u5f3a\u8c03\u7eaf\u51fd\u6570\u548c\u4e0d\u53ef\u53d8\u6027\u3002FP \u901a\u8fc7\u51fd\u6570\u7ec4\u5408\u548c\u9ad8\u9636\u51fd\u6570\u6765\u5b9e\u73b0\u7a0b\u5e8f\u7684\u903b\u8f91\u3002</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u5f3a\u8c03\u201c\u505a\u4ec0\u4e48\u201d\uff08What to do\uff09\uff0c\u63cf\u8ff0\u8868\u8fbe\u5f0f\u548c\u51fd\u6570\u7684\u7ec4\u5408\u3002</li> <li>\u4f7f\u7528\u7eaf\u51fd\u6570\uff0c\u65e0\u526f\u4f5c\u7528\uff0c\u6570\u636e\u4e0d\u53ef\u53d8\u3002</li> <li> <p>\u652f\u6301\u9ad8\u9636\u51fd\u6570\u548c\u51fd\u6570\u7ec4\u5408\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u6613\u4e8e\u5e76\u884c\u5904\u7406\u3002</li> <li> <p>\u4ee3\u7801\u7b80\u6d01\u3001\u6a21\u5757\u5316\uff0c\u6613\u4e8e\u6d4b\u8bd5\u548c\u8c03\u8bd5\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u53ef\u80fd\u4e0d\u592a\u76f4\u89c2\uff0c\u5b66\u4e60\u66f2\u7ebf\u8f83\u9ad8\u3002</li> <li> <p>\u5bf9\u67d0\u4e9b\u7c7b\u578b\u7684\u95ee\u9898\u4e0d\u5982\u547d\u4ee4\u5f0f\u76f4\u89c2\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>Haskell\u3001Erlang\u3001Python\uff08\u90e8\u5206\u652f\u6301\uff09\u3001Lisp</li> </ul> <pre><code>from functools import reduce\n\nnumbers = [1, 2, 3, 4, 5]\ntotal = reduce(lambda x, y: x + y, numbers)\nprint(total)  # \u8f93\u51fa: 15\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#4-declarative-programming","title":"4. \u58f0\u660e\u5f0f\u7f16\u7a0b\uff08Declarative Programming\uff09","text":"<p>\u58f0\u660e\u5f0f\u7f16\u7a0b\u662f\u4e00\u79cd\u901a\u8fc7\u58f0\u660e\u201c\u505a\u4ec0\u4e48\u201d\u800c\u4e0d\u662f\u201c\u600e\u4e48\u505a\u201d\u7684\u7f16\u7a0b\u8303\u5f0f\u3002\u7a0b\u5e8f\u5458\u5b9a\u4e49\u76ee\u6807\uff0c\u800c\u7531\u7f16\u7a0b\u8bed\u8a00\u6216\u7cfb\u7edf\u53bb\u51b3\u5b9a\u5b9e\u73b0\u65b9\u5f0f\u3002</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u66f4\u9ad8\u5c42\u6b21\u7684\u62bd\u8c61\uff0c\u4e13\u6ce8\u4e8e\u7ed3\u679c\u800c\u4e0d\u662f\u8fc7\u7a0b\u3002</li> <li> <p>\u5e38\u89c1\u4e8e\u914d\u7f6e\u3001\u67e5\u8be2\u8bed\u8a00\u3001\u903b\u8f91\u7f16\u7a0b\u7b49\u9886\u57df\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u4ee3\u7801\u66f4\u4e3a\u7b80\u6d01\u548c\u6e05\u6670\u3002</li> <li> <p>\u6613\u4e8e\u7ef4\u62a4\u548c\u4fee\u6539\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u53ef\u8bfb\u6027\u4f9d\u8d56\u4e8e\u4e0a\u4e0b\u6587\uff0c\u53ef\u80fd\u96be\u4ee5\u8c03\u8bd5\u3002</li> <li> <p>\u63a7\u5236\u7ec6\u8282\u6709\u9650\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>SQL\u3001HTML/CSS\u3001XAML\u3001Prolog</li> </ul> <pre><code>SELECT name FROM users WHERE age &gt; 30;\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#5-logic-programming","title":"5. \u903b\u8f91\u7f16\u7a0b\uff08Logic Programming\uff09","text":"<p>\u903b\u8f91\u7f16\u7a0b\u662f\u4e00\u79cd\u57fa\u4e8e\u903b\u8f91\u63a8\u7406\u7684\u7f16\u7a0b\u8303\u5f0f\uff0c\u901a\u8fc7\u5b9a\u4e49\u89c4\u5219\u548c\u4e8b\u5b9e\uff0c\u7a0b\u5e8f\u4f1a\u6839\u636e\u903b\u8f91\u63a8\u7406\u5f97\u51fa\u7ed3\u8bba\u3002\u903b\u8f91\u7f16\u7a0b\u5e38\u7528\u4e8e\u4eba\u5de5\u667a\u80fd\u3001\u89c4\u5219\u5f15\u64ce\u548c\u7ea6\u675f\u6c42\u89e3\u9886\u57df\u3002</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u57fa\u4e8e\u89c4\u5219\u3001\u4e8b\u5b9e\u548c\u63a8\u7406\u3002</li> <li> <p>\u901a\u8fc7\u67e5\u8be2\u6765\u63a8\u5bfc\u7ed3\u679c\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u9ad8\u5ea6\u62bd\u8c61\uff0c\u9002\u5408\u63a8\u7406\u548c\u7ea6\u675f\u95ee\u9898\u3002</li> <li> <p>\u6613\u4e8e\u8868\u8fbe\u590d\u6742\u7684\u903b\u8f91\u5173\u7cfb\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u6027\u80fd\u53ef\u80fd\u8f83\u4f4e\uff0c\u96be\u4ee5\u7406\u89e3\u548c\u8c03\u8bd5\u3002</li> <li> <p>\u5b9e\u73b0\u590d\u6742\u7684\u7b97\u6cd5\u65f6\u4e0d\u5982\u5176\u4ed6\u8303\u5f0f\u76f4\u89c2\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>Prolog\u3001Datalog</li> </ul> <pre><code>father(john, mary).\nfather(john, sam).\nparent(X, Y) :- father(X, Y).\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#6-reactive-programming","title":"6. \u54cd\u5e94\u5f0f\u7f16\u7a0b\uff08Reactive Programming\uff09","text":"<p>\u54cd\u5e94\u5f0f\u7f16\u7a0b\u662f\u4e00\u79cd\u57fa\u4e8e\u6570\u636e\u6d41\u548c\u53d8\u5316\u4f20\u64ad\u7684\u7f16\u7a0b\u8303\u5f0f\u3002\u5b83\u5f3a\u8c03\u7cfb\u7edf\u7684\u54cd\u5e94\u6027\u3001\u53ef\u7ec4\u5408\u6027\u548c\u58f0\u660e\u6027\uff0c\u5e38\u7528\u4e8e\u5904\u7406\u5f02\u6b65\u6570\u636e\u6d41\u7684\u573a\u666f\u3002</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u6570\u636e\u6d41\u9a71\u52a8\uff0c\u901a\u8fc7\u89c2\u5bdf\u8005\u6a21\u5f0f\u5904\u7406\u4e8b\u4ef6\u3002</li> <li> <p>\u5f3a\u8c03\u54cd\u5e94\u6027\u548c\u975e\u963b\u585e\u64cd\u4f5c\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u9002\u5408\u5904\u7406\u5b9e\u65f6\u6570\u636e\u548c\u7528\u6237\u754c\u9762\u66f4\u65b0\u3002</li> <li> <p>\u9ad8\u5ea6\u6a21\u5757\u5316\uff0c\u6613\u4e8e\u7ec4\u5408\u548c\u6269\u5c55\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u590d\u6742\u6027\u8f83\u9ad8\uff0c\u8c03\u8bd5\u56f0\u96be\u3002</li> <li> <p>\u9700\u8981\u4e13\u95e8\u7684\u5e93\u548c\u6846\u67b6\u652f\u6301\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>RxJS\u3001ReactiveX\u3001React\uff08\u524d\u7aef\u6846\u67b6\u7684\u4e00\u90e8\u5206\uff09</li> </ul> <pre><code>const { fromEvent } = rxjs;\nconst { map } = rxjs.operators;\n\nconst clicks = fromEvent(document, 'click');\nconst positions = clicks.pipe(map(ev =&gt; ev.clientX));\npositions.subscribe(x =&gt; console.log(x));\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#7-metaprogramming","title":"7. \u5143\u7f16\u7a0b\uff08Metaprogramming\uff09","text":"<p>\u5143\u7f16\u7a0b\u662f\u4e00\u79cd\u7f16\u7a0b\u8303\u5f0f\uff0c\u5141\u8bb8\u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u751f\u6210\u3001\u4fee\u6539\u6216\u5206\u6790\u4ee3\u7801\u3002\u5b83\u901a\u8fc7\u52a8\u6001\u751f\u6210\u4ee3\u7801\u3001\u4fee\u6539\u7c7b\u6216\u65b9\u6cd5\u7b49\u65b9\u5f0f\u589e\u5f3a\u7a0b\u5e8f\u7684\u7075\u6d3b\u6027\u548c\u52a8\u6001\u6027\u3002</p> <ul> <li>\u7279\u70b9\uff1a</li> <li>\u7a0b\u5e8f\u53ef\u4ee5\u4f5c\u4e3a\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002</li> <li> <p>\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u521b\u5efa\u6216\u4fee\u6539\u4ee3\u7801\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u6781\u5927\u7684\u7075\u6d3b\u6027\u548c\u52a8\u6001\u6027\u3002</li> <li> <p>\u53ef\u4ee5\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u62bd\u8c61\u548c\u4ee3\u7801\u751f\u6210\u3002</p> </li> <li> <p>\u7f3a\u70b9\uff1a</p> </li> <li>\u4ee3\u7801\u53ef\u80fd\u96be\u4ee5\u7406\u89e3\u548c\u7ef4\u62a4\u3002</li> <li> <p>\u8fc7\u5ea6\u4f7f\u7528\u53ef\u80fd\u5bfc\u81f4\u590d\u6742\u6027\u548c\u6027\u80fd\u95ee\u9898\u3002</p> </li> <li> <p>\u793a\u4f8b\uff1a</p> </li> <li>Python\uff08\u901a\u8fc7\u88c5\u9970\u5668\u3001\u5143\u7c7b\uff09\u3001Lisp\uff08\u5b8f\uff09</li> </ul> <pre><code>class Meta(type):\n    def __new__(cls, name, bases, dct):\n        dct['new_method'] = lambda self: 'I am new'\n        return super().__new__(cls, name, bases, dct)\n\nclass MyClass(metaclass=Meta):\n    pass\n\nobj = MyClass()\nprint(obj.new_method())  # \u8f93\u51fa: I am new\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/interview/#_97","title":"\u603b\u7ed3","text":"<ul> <li>\u547d\u4ee4\u5f0f\u7f16\u7a0b \u6ce8\u91cd\u6b65\u9aa4\u548c\u8fc7\u7a0b\uff0c\u9002\u5408\u72b6\u6001\u53d8\u5316\u7684\u4efb\u52a1\u3002</li> <li>\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b \u5f3a\u8c03\u5bf9\u8c61\u548c\u7c7b\uff0c\u9002\u5408\u5efa\u6a21\u590d\u6742\u7cfb\u7edf\u3002</li> <li>\u51fd\u6570\u5f0f\u7f16\u7a0b \u5f3a\u8c03\u7eaf\u51fd\u6570\u548c\u4e0d\u53ef\u53d8\u6027\uff0c\u9002\u5408\u5e76\u53d1\u548c\u9ad8\u62bd\u8c61\u4efb\u52a1\u3002</li> <li>\u58f0\u660e\u5f0f\u7f16\u7a0b \u4e13\u6ce8\u4e8e\u7ed3\u679c\uff0c\u9002\u5408\u914d\u7f6e\u548c\u67e5\u8be2\u4efb\u52a1\u3002</li> <li>\u903b\u8f91\u7f16\u7a0b \u57fa\u4e8e\u89c4\u5219\u63a8\u7406\uff0c\u9002\u5408\u590d\u6742\u903b\u8f91\u548c\u7ea6\u675f\u95ee\u9898\u3002</li> <li>\u54cd\u5e94\u5f0f\u7f16\u7a0b \u5904\u7406\u5f02\u6b65\u6570\u636e\u6d41\uff0c\u9002\u5408\u5b9e\u65f6\u7cfb\u7edf\u548c\u7528\u6237\u754c\u9762\u3002</li> <li>\u5143\u7f16\u7a0b \u5141\u8bb8\u52a8\u6001\u751f\u6210\u548c\u4fee\u6539\u4ee3\u7801\uff0c\u63d0\u4f9b\u6781\u9ad8\u7684\u7075\u6d3b\u6027\u3002</li> </ul> <p>\u6bcf\u79cd\u7f16\u7a0b\u601d\u60f3\u90fd\u6709\u5176\u72ec\u7279\u7684\u4f18\u70b9\u548c\u9002\u7528\u573a\u666f\uff0c\u9009\u62e9\u9002\u5408\u7684\u8303\u5f0f\u6709\u52a9\u4e8e\u89e3\u51b3\u7279\u5b9a\u7684\u95ee\u9898\uff0c\u5e76\u63d0\u5347\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/","title":"Seaborn \u6559\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#seaborn_1","title":"Seaborn \u6559\u7a0b\u8be6\u89e3","text":"<p><code>Seaborn</code> \u662f\u4e00\u4e2a\u57fa\u4e8e <code>Matplotlib</code> \u7684 Python \u53ef\u89c6\u5316\u5e93\uff0c\u4e13\u6ce8\u4e8e\u4f7f\u6570\u636e\u53ef\u89c6\u5316\u66f4\u7b80\u5355\u548c\u7f8e\u89c2\u3002\u5b83\u5185\u7f6e\u4e86\u4e30\u5bcc\u7684\u56fe\u8868\u7c7b\u578b\uff0c\u5e76\u4e14\u4e0e <code>Pandas</code> \u548c <code>NumPy</code> \u6570\u636e\u7ed3\u6784\u517c\u5bb9\uff0c\u9002\u7528\u4e8e\u7edf\u8ba1\u6570\u636e\u7684\u63a2\u7d22\u6027\u5206\u6790\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#1-seaborn","title":"1. \u5b89\u88c5 Seaborn","text":"<p>\u5728\u5f00\u59cb\u4f7f\u7528 <code>Seaborn</code> \u4e4b\u524d\uff0c\u4f60\u9700\u8981\u5148\u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install seaborn\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#2-seaborn","title":"2. Seaborn \u7684\u57fa\u672c\u4f7f\u7528","text":"<p>\u8981\u5f00\u59cb\u4f7f\u7528 <code>Seaborn</code>\uff0c\u9996\u5148\u9700\u8981\u5bfc\u5165\u5e93\uff0c\u5e76\u52a0\u8f7d\u793a\u4f8b\u6570\u636e\u96c6\u3002<code>Seaborn</code> \u63d0\u4f9b\u4e86\u4e00\u4e9b\u5185\u7f6e\u7684\u6570\u636e\u96c6\uff0c\u65b9\u4fbf\u4f60\u7ec3\u4e60\u548c\u6d4b\u8bd5\u3002</p> <pre><code>import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# \u52a0\u8f7d\u793a\u4f8b\u6570\u636e\u96c6\ntips = sns.load_dataset(\"tips\")\n\n# \u663e\u793a\u6570\u636e\u96c6\u7684\u524d\u51e0\u884c\nprint(tips.head())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#3","title":"3. \u5e38\u89c1\u56fe\u8868\u7c7b\u578b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#31-histogram","title":"3.1 \u76f4\u65b9\u56fe\uff08Histogram\uff09","text":"<p>\u76f4\u65b9\u56fe\u7528\u4e8e\u5c55\u793a\u6570\u636e\u5206\u5e03\u60c5\u51b5\u3002</p> <pre><code>sns.histplot(tips['total_bill'], kde=True)\nplt.show()\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>kde=True</code> \u8868\u793a\u5728\u76f4\u65b9\u56fe\u4e0a\u53e0\u52a0\u4e00\u4e2a\u6838\u5bc6\u5ea6\u4f30\u8ba1\u66f2\u7ebf\uff0c\u7528\u4e8e\u5e73\u6ed1\u663e\u793a\u6570\u636e\u5206\u5e03\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#32-scatter-plot","title":"3.2 \u6563\u70b9\u56fe\uff08Scatter Plot\uff09","text":"<p>\u6563\u70b9\u56fe\u7528\u4e8e\u663e\u793a\u4e24\u4e2a\u53d8\u91cf\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <pre><code>sns.scatterplot(x='total_bill', y='tip', data=tips)\nplt.show()\n</code></pre> <p>\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u8272\u5f69\u7ef4\u5ea6\u6765\u5c55\u793a\u7b2c\u4e09\u4e2a\u53d8\u91cf\uff1a</p> <pre><code>sns.scatterplot(x='total_bill', y='tip', hue='time', data=tips)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#33-box-plot","title":"3.3 \u7bb1\u7ebf\u56fe\uff08Box Plot\uff09","text":"<p>\u7bb1\u7ebf\u56fe\u7528\u4e8e\u5c55\u793a\u6570\u636e\u7684\u5206\u5e03\u60c5\u51b5\uff0c\u5305\u62ec\u4e2d\u4f4d\u6570\u3001\u56db\u5206\u4f4d\u6570\u548c\u5f02\u5e38\u503c\u3002</p> <pre><code>sns.boxplot(x='day', y='total_bill', data=tips)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#34-violin-plot","title":"3.4 \u5c0f\u63d0\u7434\u56fe\uff08Violin Plot\uff09","text":"<p>\u5c0f\u63d0\u7434\u56fe\u7ed3\u5408\u4e86\u7bb1\u7ebf\u56fe\u548c\u5bc6\u5ea6\u56fe\uff0c\u9002\u7528\u4e8e\u5c55\u793a\u6570\u636e\u5206\u5e03\u7684\u5f62\u6001\u3002</p> <pre><code>sns.violinplot(x='day', y='total_bill', hue='sex', data=tips, split=True)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#35-heatmap","title":"3.5 \u70ed\u529b\u56fe\uff08Heatmap\uff09","text":"<p>\u70ed\u529b\u56fe\u7528\u4e8e\u663e\u793a\u77e9\u9635\u6570\u636e\u6216\u53d8\u91cf\u4e4b\u95f4\u7684\u76f8\u5173\u6027\u3002</p> <pre><code># \u8ba1\u7b97\u76f8\u5173\u6027\u77e9\u9635\ncorr = tips.corr()\n\n# \u663e\u793a\u70ed\u529b\u56fe\nsns.heatmap(corr, annot=True, cmap='coolwarm')\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#36-pair-plot","title":"3.6 \u6210\u5bf9\u5173\u7cfb\u56fe\uff08Pair Plot\uff09","text":"<p>\u6210\u5bf9\u5173\u7cfb\u56fe\u7528\u4e8e\u663e\u793a\u6570\u636e\u96c6\u4e2d\u6240\u6709\u53d8\u91cf\u4e4b\u95f4\u7684\u4e24\u4e24\u5173\u7cfb\u3002</p> <pre><code>sns.pairplot(tips, hue='sex')\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#4-seaborn","title":"4. Seaborn \u9ad8\u7ea7\u529f\u80fd","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#41-facetgrid","title":"4.1 FacetGrid","text":"<p><code>FacetGrid</code> \u662f Seaborn \u7684\u4e00\u4e2a\u5f3a\u5927\u529f\u80fd\uff0c\u5141\u8bb8\u4f60\u6839\u636e\u4e0d\u540c\u7c7b\u522b\u5c06\u6570\u636e\u5206\u6210\u591a\u4e2a\u5b50\u96c6\uff0c\u5e76\u5728\u6bcf\u4e2a\u5b50\u96c6\u4e0a\u7ed8\u5236\u76f8\u540c\u7684\u56fe\u8868\u3002</p> <pre><code>g = sns.FacetGrid(tips, col='sex', row='time')\ng.map(sns.histplot, 'total_bill')\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#42-bar-plot","title":"4.2 \u6761\u5f62\u56fe\uff08Bar Plot\uff09","text":"<p>\u6761\u5f62\u56fe\u7528\u4e8e\u5c55\u793a\u5206\u7c7b\u53d8\u91cf\u7684\u6c47\u603b\u4fe1\u606f\uff08\u5982\u5747\u503c\u3001\u603b\u548c\u7b49\uff09\u3002</p> <pre><code>sns.barplot(x='day', y='total_bill', hue='sex', data=tips)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#43-regression-plot","title":"4.3 \u56de\u5f52\u56fe\uff08Regression Plot\uff09","text":"<p>\u56de\u5f52\u56fe\u7528\u4e8e\u663e\u793a\u4e24\u4e2a\u53d8\u91cf\u4e4b\u95f4\u7684\u7ebf\u6027\u5173\u7cfb\u3002</p> <pre><code>sns.lmplot(x='total_bill', y='tip', data=tips)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#5-seaborn","title":"5. \u81ea\u5b9a\u4e49 Seaborn \u56fe\u8868","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u4e3b\u9898\u3001\u8c03\u8272\u677f\u7b49\u65b9\u5f0f\u81ea\u5b9a\u4e49 <code>Seaborn</code> \u56fe\u8868\u7684\u6837\u5f0f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#51","title":"5.1 \u8bbe\u7f6e\u4e3b\u9898","text":"<p><code>Seaborn</code> \u63d0\u4f9b\u4e86\u51e0\u79cd\u4e0d\u540c\u7684\u4e3b\u9898\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>set_theme</code> \u6765\u66f4\u6539\u4e3b\u9898\u3002</p> <pre><code>sns.set_theme(style=\"darkgrid\")\nsns.histplot(tips['total_bill'])\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#52","title":"5.2 \u8c03\u8272\u677f","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>color_palette</code> \u6765\u8bbe\u7f6e\u56fe\u8868\u7684\u8c03\u8272\u677f\u3002</p> <pre><code>sns.set_palette(\"Set2\")\nsns.boxplot(x='day', y='total_bill', data=tips)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#53","title":"5.3 \u81ea\u5b9a\u4e49\u56fe\u8868\u5c3a\u5bf8","text":"<p>\u901a\u8fc7 <code>matplotlib</code> \u7684 <code>figure</code> \u51fd\u6570\u53ef\u4ee5\u81ea\u5b9a\u4e49\u56fe\u8868\u7684\u5c3a\u5bf8\u3002</p> <pre><code>plt.figure(figsize=(10, 6))\nsns.violinplot(x='day', y='total_bill', data=tips)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#6-pandas","title":"6. \u4e0e Pandas \u7684\u7ed3\u5408","text":"<p><code>Seaborn</code> \u4e0e <code>Pandas</code> \u65e0\u7f1d\u96c6\u6210\uff0c\u5141\u8bb8\u4f60\u76f4\u63a5\u5728 <code>Pandas</code> \u7684 <code>DataFrame</code> \u4e0a\u4f7f\u7528 <code>Seaborn</code> \u7684\u529f\u80fd\u3002</p> <pre><code># \u4f7f\u7528 Pandas \u76f4\u63a5\u7ed8\u56fe\ntips.groupby('day')['total_bill'].sum().plot(kind='bar')\nplt.show()\n</code></pre> <p>\u4f60\u8fd8\u53ef\u4ee5\u5c06 <code>Seaborn</code> \u56fe\u8868\u5d4c\u5165\u5230 <code>Pandas</code> \u7684 <code>DataFrame</code> \u4e2d\uff1a</p> <pre><code>sns.set_theme(style=\"whitegrid\")\nax = sns.boxplot(x='day', y='total_bill', data=tips)\nax.set(title=\"Total Bill Distribution by Day\")\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/Seaborn/#7","title":"7. \u603b\u7ed3","text":"<p><code>Seaborn</code> \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u6570\u636e\u53ef\u89c6\u5316\u5de5\u5177\uff0c\u9002\u5408\u8fdb\u884c\u7edf\u8ba1\u6570\u636e\u5206\u6790\u3002\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u56fe\u8868\u7c7b\u578b\u3001\u7b80\u6d01\u7684\u8bed\u6cd5\u548c\u5f3a\u5927\u7684\u5b9a\u5236\u529f\u80fd\uff0c\u4f7f\u5f97\u6570\u636e\u53ef\u89c6\u5316\u53d8\u5f97\u66f4\u52a0\u5bb9\u6613\u548c\u9ad8\u6548\u3002\u5728\u638c\u63e1 <code>Seaborn</code> \u540e\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u521b\u5efa\u5404\u79cd\u590d\u6742\u7684\u56fe\u8868\uff0c\u6df1\u5165\u63a2\u7d22\u548c\u5c55\u793a\u6570\u636e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/","title":"beautifulsoup  \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#beautifulsoup4","title":"BeautifulSoup4 \u8be6\u89e3","text":"<p><code>BeautifulSoup4</code>\uff08\u7b80\u79f0 <code>BS4</code>\uff09\u662f\u4e00\u4e2a Python \u5e93\uff0c\u7528\u4e8e\u4ece HTML \u548c XML \u6587\u4ef6\u4e2d\u63d0\u53d6\u6570\u636e\u3002\u5b83\u63d0\u4f9b\u4e86\u7b80\u5355\u6613\u7528\u7684 API\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u5bfc\u822a\u3001\u641c\u7d22\u548c\u4fee\u6539\u89e3\u6790\u6811\u3002<code>BeautifulSoup4</code> \u662f\u8fdb\u884c\u7f51\u9875\u6293\u53d6\u548c\u6570\u636e\u89e3\u6790\u7684\u5e38\u7528\u5de5\u5177\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#1-beautifulsoup4","title":"1. \u5b89\u88c5 BeautifulSoup4","text":"<p>\u8981\u4f7f\u7528 <code>BeautifulSoup4</code>\uff0c\u9996\u5148\u9700\u8981\u5b89\u88c5\u5b83\u548c\u4e00\u4e2a\u89e3\u6790\u5668\u5e93 <code>lxml</code> \u6216 <code>html.parser</code>\uff1a</p> <pre><code>pip install beautifulsoup4 lxml\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#2-beautifulsoup","title":"2. \u521b\u5efa BeautifulSoup \u5bf9\u8c61","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4f20\u5165 HTML \u6216 XML \u6587\u672c\u6765\u521b\u5efa <code>BeautifulSoup</code> \u5bf9\u8c61\uff1a</p> <pre><code>from bs4 import BeautifulSoup\n\nhtml_doc = \"\"\"\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;Test Page&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;This is a heading&lt;/h1&gt;\n    &lt;p class=\"description\"&gt;This is a paragraph.&lt;/p&gt;\n    &lt;p class=\"description\"&gt;Another paragraph.&lt;/p&gt;\n    &lt;a href=\"http://example.com\"&gt;Link&lt;/a&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\nsoup = BeautifulSoup(html_doc, 'lxml')\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 <code>lxml</code> \u89e3\u6790\u5668\u6765\u89e3\u6790 HTML \u6587\u672c\u3002\u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5 <code>lxml</code>\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684 <code>html.parser</code> \u89e3\u6790\u5668\uff1a</p> <pre><code>soup = BeautifulSoup(html_doc, 'html.parser')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#3","title":"3. \u5e38\u7528\u64cd\u4f5c","text":"<p><code>BeautifulSoup</code> \u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u6765\u67e5\u627e\u548c\u64cd\u4f5c HTML \u6587\u6863\u4e2d\u7684\u5143\u7d20\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#31","title":"3.1 \u67e5\u627e\u5143\u7d20","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#311-find-find_all","title":"3.1.1 <code>find</code> \u548c <code>find_all</code>","text":"<p><code>find</code> \u65b9\u6cd5\u7528\u4e8e\u67e5\u627e\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u5143\u7d20\uff0c<code>find_all</code> \u65b9\u6cd5\u7528\u4e8e\u67e5\u627e\u6240\u6709\u5339\u914d\u7684\u5143\u7d20\u3002</p> <pre><code># \u67e5\u627e\u7b2c\u4e00\u4e2a &lt;h1&gt; \u5143\u7d20\nh1 = soup.find('h1')\nprint(h1.text)  # \u8f93\u51fa: This is a heading\n\n# \u67e5\u627e\u6240\u6709 class \u4e3a description \u7684 &lt;p&gt; \u5143\u7d20\ndescriptions = soup.find_all('p', class_='description')\nfor desc in descriptions:\n    print(desc.text)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#312-css","title":"3.1.2 \u901a\u8fc7 CSS \u9009\u62e9\u5668\u67e5\u627e","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>select</code> \u65b9\u6cd5\u901a\u8fc7 CSS \u9009\u62e9\u5668\u67e5\u627e\u5143\u7d20\uff1a</p> <pre><code># \u67e5\u627e\u6240\u6709 &lt;p&gt; \u5143\u7d20\nparagraphs = soup.select('p')\nfor p in paragraphs:\n    print(p.text)\n\n# \u67e5\u627e\u5e26\u6709 class \u7684\u5143\u7d20\ndescriptions = soup.select('.description')\nfor desc in descriptions:\n    print(desc.text)\n\n# \u67e5\u627e\u7279\u5b9a\u7684 &lt;a&gt; \u6807\u7b7e\nlink = soup.select_one('a')\nprint(link['href'])  # \u8f93\u51fa: http://example.com\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#32","title":"3.2 \u64cd\u4f5c\u5143\u7d20","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#321","title":"3.2.1 \u83b7\u53d6\u5c5e\u6027","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u5b57\u5178\u98ce\u683c\u7684\u8bbf\u95ee\u83b7\u53d6 HTML \u6807\u7b7e\u7684\u5c5e\u6027\u503c\uff1a</p> <pre><code>link = soup.find('a')\nprint(link['href'])  # \u8f93\u51fa: http://example.com\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#322","title":"3.2.2 \u4fee\u6539\u5c5e\u6027","text":"<p>\u540c\u6837\u53ef\u4ee5\u4f7f\u7528\u5b57\u5178\u98ce\u683c\u7684\u8bbf\u95ee\u6765\u4fee\u6539\u5c5e\u6027\u503c\uff1a</p> <pre><code>link['href'] = 'http://newlink.com'\nprint(link)  # \u8f93\u51fa: &lt;a href=\"http://newlink.com\"&gt;Link&lt;/a&gt;\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#323","title":"3.2.3 \u83b7\u53d6\u548c\u4fee\u6539\u6587\u672c\u5185\u5bb9","text":"<p><code>text</code> \u5c5e\u6027\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9\uff0c<code>string</code> \u5c5e\u6027\u53ef\u4ee5\u7528\u6765\u4fee\u6539\u6587\u672c\u5185\u5bb9\uff1a</p> <pre><code># \u83b7\u53d6\u6587\u672c\u5185\u5bb9\nprint(h1.text)  # \u8f93\u51fa: This is a heading\n\n# \u4fee\u6539\u6587\u672c\u5185\u5bb9\nh1.string = \"New Heading\"\nprint(h1)  # \u8f93\u51fa: &lt;h1&gt;New Heading&lt;/h1&gt;\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#33","title":"3.3 \u904d\u5386\u6587\u6863\u6811","text":"<p><code>BeautifulSoup</code> \u5141\u8bb8\u4f60\u904d\u5386\u6587\u6863\u6811\uff0c\u83b7\u53d6\u5143\u7d20\u7684\u7236\u8282\u70b9\u3001\u5b50\u8282\u70b9\u3001\u5144\u5f1f\u8282\u70b9\u7b49\u3002</p> <pre><code># \u83b7\u53d6\u7236\u8282\u70b9\nparent = h1.parent\nprint(parent.name)  # \u8f93\u51fa: body\n\n# \u83b7\u53d6\u6240\u6709\u5b50\u8282\u70b9\nchildren = parent.children\nfor child in children:\n    print(child.name)  # \u8f93\u51fa: h1, p, p, a\n\n# \u83b7\u53d6\u4e0b\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\nnext_sibling = h1.find_next_sibling()\nprint(next_sibling.name)  # \u8f93\u51fa: p\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#4-html","title":"4. \u5904\u7406\u4e0d\u5b8c\u6574\u7684 HTML","text":"<p><code>BeautifulSoup</code> \u7684\u4e00\u4e2a\u5f3a\u5927\u529f\u80fd\u662f\u5b83\u53ef\u4ee5\u5904\u7406\u4e0d\u5b8c\u6574\u6216\u683c\u5f0f\u9519\u8bef\u7684 HTML\u3002\u4f8b\u5982\uff0c\u5982\u679c HTML \u6587\u6863\u4e2d\u7f3a\u5c11\u95ed\u5408\u6807\u7b7e\uff0c<code>BeautifulSoup</code> \u4ecd\u7136\u53ef\u4ee5\u89e3\u6790\u5e76\u751f\u6210\u5b8c\u6574\u7684\u6811\u7ed3\u6784\uff1a</p> <pre><code>broken_html = \"&lt;html&gt;&lt;head&gt;&lt;title&gt;Test\"\nsoup = BeautifulSoup(broken_html, 'html.parser')\nprint(soup.prettify())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#5","title":"5. \u641c\u7d22\u6587\u6863\u6811","text":"<p>\u9664\u4e86\u57fa\u672c\u7684 <code>find</code> \u548c <code>find_all</code>\uff0c<code>BeautifulSoup</code> \u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u9ad8\u7ea7\u641c\u7d22\u529f\u80fd\uff0c\u5982\u901a\u8fc7\u51fd\u6570\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u3001\u5217\u8868\u3001\u5e03\u5c14\u503c\u7b49\u641c\u7d22\u5143\u7d20\u3002</p> <pre><code>import re\n\n# \u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u67e5\u627e\u4ee5 't' \u5f00\u5934\u7684\u6807\u7b7e\ntags = soup.find_all(re.compile('^t'))\nfor tag in tags:\n    print(tag.name)\n\n# \u901a\u8fc7\u51fd\u6570\u67e5\u627e\u7279\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\ndef has_class_but_no_id(tag):\n    return tag.has_attr('class') and not tag.has_attr('id')\n\ntags = soup.find_all(has_class_but_no_id)\nfor tag in tags:\n    print(tag.name)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#6","title":"6. \u4fee\u6539\u6587\u6863\u6811","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>BeautifulSoup</code> \u8f7b\u677e\u5730\u4fee\u6539\u6587\u6863\u6811\uff0c\u4f8b\u5982\u6dfb\u52a0\u6216\u5220\u9664\u6807\u7b7e\u3001\u63d2\u5165\u6587\u672c\u3001\u5305\u88c5\u5143\u7d20\u7b49\u3002</p> <pre><code># \u63d2\u5165\u65b0\u6807\u7b7e\nnew_tag = soup.new_tag('span')\nnew_tag.string = \"This is a span\"\nh1.insert_after(new_tag)\n\n# \u5220\u9664\u6807\u7b7e\nh1.decompose()\n\n# \u66ff\u6362\u6807\u7b7e\nnew_h1 = soup.new_tag('h1')\nnew_h1.string = \"Replaced Heading\"\nh1.replace_with(new_h1)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#7","title":"7. \u8f93\u51fa\u6587\u6863","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>prettify</code> \u65b9\u6cd5\u5c06\u89e3\u6790\u7684\u6587\u6863\u4ee5\u7f8e\u89c2\u7684\u683c\u5f0f\u8f93\u51fa\uff0c\u6216\u4f7f\u7528 <code>str()</code> \u65b9\u6cd5\u5c06\u5176\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002</p> <pre><code># \u7f8e\u89c2\u683c\u5f0f\u5316\u8f93\u51fa\nprint(soup.prettify())\n\n# \u76f4\u63a5\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\nhtml_string = str(soup)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/beautifulsoup/#8","title":"8. \u603b\u7ed3","text":"<p><code>BeautifulSoup4</code> \u662f\u4e00\u4e2a\u5f3a\u5927\u4e14\u6613\u4e8e\u4f7f\u7528\u7684 HTML/XML \u89e3\u6790\u5de5\u5177\uff0c\u9002\u7528\u4e8e\u7f51\u7edc\u722c\u866b\u548c\u6570\u636e\u63d0\u53d6\u7b49\u4efb\u52a1\u3002\u5b83\u7684\u7075\u6d3b\u6027\u548c\u5f3a\u5927\u7684\u641c\u7d22\u3001\u904d\u5386\u3001\u4fee\u6539\u529f\u80fd\u4f7f\u5176\u6210\u4e3a\u5904\u7406\u7f51\u9875\u6570\u636e\u7684\u7406\u60f3\u9009\u62e9\u3002\u901a\u8fc7\u638c\u63e1 <code>BeautifulSoup4</code>\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5730\u4ece\u5404\u79cd\u590d\u6742\u7684\u7f51\u9875\u4e2d\u63d0\u53d6\u6240\u9700\u7684\u4fe1\u606f\uff0c\u5e76\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5206\u6790\u548c\u5904\u7406\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/","title":"celery \u6559\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#celery_1","title":"Celery \u6559\u7a0b\uff1a\u6982\u5ff5\u548c\u4f7f\u7528\u65b9\u6cd5","text":"<p>Celery \u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u7684\u5206\u5e03\u5f0f\u4efb\u52a1\u961f\u5217\u7cfb\u7edf\uff0c\u652f\u6301\u5b9e\u65f6\u4efb\u52a1\u5904\u7406\u548c\u8c03\u5ea6\u4efb\u52a1\u3002\u5b83\u80fd\u591f\u8f7b\u677e\u5730\u5904\u7406\u5927\u91cf\u5e76\u53d1\u4efb\u52a1\uff0c\u5e38\u7528\u4e8e Web \u5e94\u7528\u7a0b\u5e8f\u7684\u540e\u53f0\u4efb\u52a1\u5904\u7406\u3002\u4e0b\u9762\u6211\u4eec\u6765\u8be6\u7ec6\u4ecb\u7ecd Celery \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#1-celery","title":"1. Celery \u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>\u4efb\u52a1\uff08Task\uff09\uff1aCelery \u4e2d\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u5373\u4e00\u4e2a\u51fd\u6570\u6216\u64cd\u4f5c\u3002\u53ef\u4ee5\u88ab worker \u5f02\u6b65\u6267\u884c\u3002</li> <li>\u961f\u5217\uff08Queue\uff09\uff1a\u5b58\u653e\u4efb\u52a1\u7684\u5730\u65b9\uff0cworker \u4f1a\u4ece\u961f\u5217\u4e2d\u83b7\u53d6\u4efb\u52a1\u5e76\u6267\u884c\u3002</li> <li>Worker\uff1a\u6267\u884c\u4efb\u52a1\u7684\u8fdb\u7a0b\u3002\u901a\u5e38\u4f1a\u542f\u52a8\u591a\u4e2a worker \u6765\u5904\u7406\u4e0d\u540c\u961f\u5217\u4e2d\u7684\u4efb\u52a1\u3002</li> <li>\u6d88\u606f\u4ee3\u7406\uff08Broker\uff09\uff1a\u8d1f\u8d23\u4f20\u9012\u4efb\u52a1\u6d88\u606f\uff0c\u5e38\u7528\u7684\u4ee3\u7406\u5305\u62ec RabbitMQ \u548c Redis\u3002</li> <li>\u7ed3\u679c\u540e\u7aef\uff08Result Backend\uff09\uff1a\u7528\u4e8e\u5b58\u50a8\u4efb\u52a1\u7684\u6267\u884c\u7ed3\u679c\uff0c\u4fbf\u4e8e\u540e\u7eed\u67e5\u8be2\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#2-celery","title":"2. \u5b89\u88c5 Celery \u548c\u6d88\u606f\u4ee3\u7406","text":"<p>\u9996\u5148\uff0c\u4f7f\u7528 <code>pip</code> \u5b89\u88c5 Celery \u4ee5\u53ca\u6d88\u606f\u4ee3\u7406\uff08\u4ee5 Redis \u4e3a\u4f8b\uff09\uff1a</p> <pre><code>pip install celery[redis]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#3-celery","title":"3. \u521b\u5efa Celery \u5e94\u7528","text":"<p>\u5728\u9879\u76ee\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>tasks.py</code> \u7684\u6587\u4ef6\uff0c\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684 Celery \u5e94\u7528\u548c\u4efb\u52a1\u51fd\u6570\uff1a</p> <pre><code>from celery import Celery\n\n# \u521b\u5efa Celery \u5b9e\u4f8b\napp = Celery('tasks', broker='redis://localhost:6379/0', backend='redis://localhost:6379/0')\n\n# \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u4efb\u52a1\n@app.task\ndef add(x, y):\n    return x + y\n</code></pre> <ul> <li>broker\uff1a\u6307\u5b9a\u4f7f\u7528 Redis \u4f5c\u4e3a\u6d88\u606f\u4ee3\u7406\u3002</li> <li>backend\uff1a\u6307\u5b9a\u4f7f\u7528 Redis \u5b58\u50a8\u4efb\u52a1\u7684\u6267\u884c\u7ed3\u679c\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#4-celery-worker","title":"4. \u8fd0\u884c Celery Worker","text":"<p>\u5728\u547d\u4ee4\u884c\u4e2d\u542f\u52a8 Celery worker \u8fdb\u7a0b\uff0c\u4ee5\u4fbf\u76d1\u542c\u4efb\u52a1\u5e76\u6267\u884c\uff1a</p> <pre><code>celery -A tasks worker --loglevel=info\n</code></pre> <ul> <li>-A tasks\uff1a\u6307\u5b9a Celery \u5e94\u7528\u6240\u5728\u7684\u6a21\u5757\uff0c\u5373 <code>tasks.py</code>\u3002</li> <li>--loglevel=info\uff1a\u8bbe\u7f6e\u65e5\u5fd7\u8f93\u51fa\u7684\u7ea7\u522b\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#5","title":"5. \u8c03\u7528\u4efb\u52a1","text":"<p>\u5728\u53e6\u4e00\u4e2a Python \u4f1a\u8bdd\u4e2d\u5f02\u6b65\u8c03\u7528\u4efb\u52a1\uff1a</p> <pre><code>from tasks import add\n\nresult = add.delay(4, 6)\nprint(result.id)  # \u8f93\u51fa\u4efb\u52a1\u7684\u552f\u4e00 ID\nprint(result.get(timeout=10))  # \u83b7\u53d6\u4efb\u52a1\u7ed3\u679c\uff0c\u6700\u591a\u7b49\u5f85 10 \u79d2\n</code></pre> <ul> <li>delay\uff1a\u8fd9\u662f Celery \u4e2d\u5f02\u6b65\u8c03\u7528\u4efb\u52a1\u7684\u65b9\u5f0f\u3002</li> <li>result.get()\uff1a\u7528\u4e8e\u83b7\u53d6\u4efb\u52a1\u7684\u8fd4\u56de\u503c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#6","title":"6. \u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6","text":"<p>Celery \u652f\u6301\u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6\uff08\u7c7b\u4f3c\u4e8e cron\uff09\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 Celery \u7684 <code>beat</code> \u7ec4\u4ef6\u6765\u8c03\u5ea6\u4efb\u52a1\uff1a</p> <pre><code>from celery import Celery\nfrom celery.schedules import crontab\n\napp = Celery('tasks', broker='redis://localhost:6379/0', backend='redis://localhost:6379/0')\n\n@app.task\ndef scheduled_task():\n    print(\"This is a scheduled task.\")\n\n# \u914d\u7f6e\u5b9a\u65f6\u4efb\u52a1\napp.conf.beat_schedule = {\n    'add-every-30-seconds': {\n        'task': 'tasks.scheduled_task',\n        'schedule': 30.0,  # \u6bcf 30 \u79d2\u6267\u884c\u4e00\u6b21\n    },\n}\n</code></pre> <p>\u542f\u52a8 Celery worker \u548c beat\uff1a</p> <pre><code>celery -A tasks worker --loglevel=info\ncelery -A tasks beat --loglevel=info\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#7","title":"7. \u4efb\u52a1\u91cd\u8bd5","text":"<p>\u5982\u679c\u4efb\u52a1\u6267\u884c\u5931\u8d25\uff0cCelery \u53ef\u4ee5\u81ea\u52a8\u91cd\u8bd5\u4efb\u52a1\uff1a</p> <pre><code>@app.task(bind=True, max_retries=3)\ndef unreliable_task(self):\n    try:\n        # \u53ef\u80fd\u4f1a\u5931\u8d25\u7684\u64cd\u4f5c\n        pass\n    except Exception as exc:\n        raise self.retry(exc=exc, countdown=60)  # 60 \u79d2\u540e\u91cd\u8bd5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#8","title":"8. \u76d1\u63a7\u548c\u7ba1\u7406","text":"<p>Celery \u63d0\u4f9b\u4e86 <code>Flower</code> \u76d1\u63a7\u5de5\u5177\uff0c\u53ef\u4ee5\u5b9e\u65f6\u76d1\u63a7\u4efb\u52a1\u7684\u6267\u884c\u72b6\u6001\uff1a</p> <pre><code>pip install flower\ncelery -A tasks flower\n</code></pre> <p>\u901a\u8fc7 <code>Flower</code> \u7684 Web \u754c\u9762\uff0c\u53ef\u4ee5\u67e5\u770b\u4efb\u52a1\u6267\u884c\u60c5\u51b5\u3001\u961f\u5217\u72b6\u6001\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#9","title":"9. \u4f18\u5316\u4e0e\u6269\u5c55","text":"<p>\u5728\u5b9e\u9645\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u53ef\u4ee5\u8003\u8651\u4ee5\u4e0b\u4f18\u5316\u63aa\u65bd\uff1a - \u4efb\u52a1\u8def\u7531\uff1a\u5c06\u4e0d\u540c\u7c7b\u578b\u7684\u4efb\u52a1\u5206\u914d\u5230\u4e0d\u540c\u7684\u961f\u5217\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u541e\u5410\u91cf\u3002 - \u5e76\u53d1\u63a7\u5236\uff1a\u4f7f\u7528\u591a\u8fdb\u7a0b\u6216\u591a\u7ebf\u7a0b worker \u6765\u5904\u7406\u5927\u91cf\u5e76\u53d1\u4efb\u52a1\u3002 - \u4efb\u52a1\u9884\u53d6\uff1a\u901a\u8fc7\u8c03\u6574\u9884\u53d6\u6570\u91cf\u6765\u63a7\u5236 worker \u9884\u53d6\u4efb\u52a1\u7684\u6570\u91cf\uff0c\u907f\u514d\u4efb\u52a1\u5806\u79ef\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#celery_2","title":"celery \u8fdb\u9636","text":"<p>\u8fd9\u91cc\u662f\u4e00\u4e9b\u5173\u4e8e Celery \u7684\u66f4\u591a\u8fdb\u9636\u6559\u7a0b\u548c\u4f7f\u7528\u6280\u5de7\uff0c\u5e2e\u52a9\u4f60\u66f4\u6df1\u5165\u5730\u7406\u89e3\u548c\u4f7f\u7528 Celery\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#1-chord","title":"1. \u94fe\u5f0f\u4efb\u52a1\uff08Chord\uff09","text":"<p>\u94fe\u5f0f\u4efb\u52a1\u5141\u8bb8\u5c06\u591a\u4e2a\u4efb\u52a1\u6309\u987a\u5e8f\u6267\u884c\uff0c\u5176\u4e2d\u6bcf\u4e2a\u4efb\u52a1\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u4efb\u52a1\u7684\u8f93\u5165\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>chain</code> \u65b9\u6cd5\u5b9e\u73b0\u94fe\u5f0f\u4efb\u52a1\uff1a</p> <pre><code>from celery import chain\nfrom tasks import add, multiply\n\nresult = chain(add.s(4, 6) | multiply.s(3))()\nprint(result.get())\n</code></pre> <ul> <li><code>chain(add.s(4, 6) | multiply.s(3))</code>\uff1a\u5c06 <code>add</code> \u548c <code>multiply</code> \u4efb\u52a1\u94fe\u63a5\u5728\u4e00\u8d77\uff0c<code>add</code> \u7684\u7ed3\u679c\u5c06\u4f20\u9012\u7ed9 <code>multiply</code>\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#2-group","title":"2. \u5206\u7ec4\u4efb\u52a1\uff08Group\uff09","text":"<p>\u5206\u7ec4\u4efb\u52a1\u5141\u8bb8\u5e76\u884c\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u5e76\u5728\u6240\u6709\u4efb\u52a1\u5b8c\u6210\u540e\u8fd4\u56de\u7ed3\u679c\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>group</code> \u6765\u521b\u5efa\u4efb\u52a1\u7ec4\uff1a</p> <pre><code>from celery import group\nfrom tasks import add\n\nresult = group(add.s(i, i) for i in range(10))()\nprint(result.get())\n</code></pre> <ul> <li><code>group(add.s(i, i) for i in range(10))</code>\uff1a\u5e76\u884c\u6267\u884c\u591a\u4e2a <code>add</code> \u4efb\u52a1\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#3","title":"3. \u4efb\u52a1\u91cd\u8bd5\u4e0e\u56de\u9000\u673a\u5236","text":"<p>\u5f53\u4efb\u52a1\u5931\u8d25\u65f6\uff0cCelery \u53ef\u4ee5\u81ea\u52a8\u91cd\u8bd5\uff0c\u5e76\u5728\u591a\u6b21\u5931\u8d25\u540e\u6267\u884c\u7279\u5b9a\u7684\u56de\u9000\u64cd\u4f5c\uff1a</p> <pre><code>@app.task(bind=True, max_retries=5)\ndef send_email(self, email_address):\n    try:\n        # \u53d1\u9001\u90ae\u4ef6\u7684\u4ee3\u7801\n        pass\n    except SomeSpecificException as exc:\n        # \u91cd\u8bd53\u6b21\u540e\u6267\u884c\u56de\u9000\u64cd\u4f5c\n        self.retry(exc=exc, countdown=60)\n</code></pre> <ul> <li><code>max_retries</code>\uff1a\u5b9a\u4e49\u6700\u5927\u91cd\u8bd5\u6b21\u6570\u3002</li> <li><code>countdown</code>\uff1a\u5728\u91cd\u8bd5\u4e4b\u524d\u7b49\u5f85\u7684\u79d2\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#4","title":"4. \u4f7f\u7528\u81ea\u5b9a\u4e49\u961f\u5217","text":"<p>\u4f60\u53ef\u4ee5\u521b\u5efa\u548c\u4f7f\u7528\u81ea\u5b9a\u4e49\u961f\u5217\u6765\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u4efb\u52a1\u3002\u53ef\u4ee5\u901a\u8fc7\u5728 Celery \u5e94\u7528\u914d\u7f6e\u4e2d\u5b9a\u4e49\u961f\u5217\uff1a</p> <pre><code>app.conf.task_queues = (\n    Queue('default', routing_key='task.#'),\n    Queue('emails', routing_key='email.#'),\n)\n</code></pre> <p>\u5e76\u901a\u8fc7 <code>queue</code> \u53c2\u6570\u6307\u5b9a\u4efb\u52a1\u7684\u961f\u5217\uff1a</p> <pre><code>@app.task(queue='emails')\ndef send_email(email_address):\n    pass\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#5_1","title":"5. \u4efb\u52a1\u8def\u7531","text":"<p>\u4efb\u52a1\u8def\u7531\u5141\u8bb8\u4f60\u5c06\u7279\u5b9a\u7684\u4efb\u52a1\u53d1\u9001\u5230\u6307\u5b9a\u7684\u961f\u5217\u4e2d\u3002\u53ef\u4ee5\u901a\u8fc7 <code>task_routes</code> \u53c2\u6570\u914d\u7f6e\u8def\u7531\uff1a</p> <pre><code>app.conf.task_routes = {\n    'tasks.add': {'queue': 'default'},\n    'tasks.send_email': {'queue': 'emails'},\n}\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#6-celery-signals","title":"6. \u4f7f\u7528 Celery Signals","text":"<p>Celery \u63d0\u4f9b\u4e86\u4fe1\u53f7\u673a\u5236\uff0c\u5141\u8bb8\u4f60\u5728\u4efb\u52a1\u6267\u884c\u7684\u4e0d\u540c\u9636\u6bb5\u6267\u884c\u4e00\u4e9b\u7279\u5b9a\u64cd\u4f5c\u3002\u5e38\u7528\u7684\u4fe1\u53f7\u5305\u62ec\uff1a</p> <ul> <li>task_prerun\uff1a\u4efb\u52a1\u5f00\u59cb\u6267\u884c\u524d\u89e6\u53d1\u3002</li> <li>task_postrun\uff1a\u4efb\u52a1\u6267\u884c\u7ed3\u675f\u540e\u89e6\u53d1\u3002</li> <li>task_failure\uff1a\u4efb\u52a1\u5931\u8d25\u65f6\u89e6\u53d1\u3002</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>from celery.signals import task_prerun, task_postrun\n\n@task_prerun.connect\ndef task_start_handler(sender=None, **kwargs):\n    print(f\"Task {sender.name} is starting...\")\n\n@task_postrun.connect\ndef task_end_handler(sender=None, **kwargs):\n    print(f\"Task {sender.name} has finished.\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#7-celery-django","title":"7. Celery \u4e0e Django \u96c6\u6210","text":"<p>Celery \u4e0e Django \u6846\u67b6\u96c6\u6210\u975e\u5e38\u7d27\u5bc6\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u5904\u7406\u5f02\u6b65\u4efb\u52a1\u548c\u5b9a\u65f6\u4efb\u52a1\u3002\u4ee5\u4e0b\u662f Django \u9879\u76ee\u4e2d\u4f7f\u7528 Celery \u7684\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u5b89\u88c5 Celery \u548c Django-Celery-Beat\uff1a    <code>bash    pip install celery django-celery-beat</code></p> </li> <li> <p>\u914d\u7f6e Celery\uff1a    \u5728 Django \u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa <code>celery.py</code> \u6587\u4ef6\uff1a</p> </li> </ol> <p>```python    from future import absolute_import, unicode_literals    import os    from celery import Celery</p> <p>os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'your_project.settings')</p> <p>app = Celery('your_project')    app.config_from_object('django.conf:settings', namespace='CELERY')    app.autodiscover_tasks()    ```</p> <ol> <li>\u5728 <code>__init__.py</code> \u4e2d\u52a0\u8f7d Celery\uff1a    ```python    from future import absolute_import, unicode_literals    from .celery import app as celery_app</li> </ol> <p>all = ('celery_app',)    ```</p> <ol> <li>\u521b\u5efa\u4efb\u52a1\uff1a    \u5728\u4efb\u610f Django app \u4e2d\u7684 <code>tasks.py</code> \u6587\u4ef6\u4e2d\u521b\u5efa\u4efb\u52a1\uff1a</li> </ol> <p>```python    from celery import shared_task</p> <p>@shared_task    def my_task():        # \u6267\u884c\u4e00\u4e9b\u64cd\u4f5c        pass    ```</p> <ol> <li> <p>\u542f\u52a8 Celery Worker\uff1a    <code>bash    celery -A your_project worker -l info</code></p> </li> <li> <p>\u5b9a\u65f6\u4efb\u52a1\uff1a    \u4f7f\u7528 <code>django-celery-beat</code> \u53ef\u4ee5\u5728 Django Admin \u4e2d\u7ba1\u7406\u5b9a\u65f6\u4efb\u52a1\u3002</p> </li> </ol> <p>\u8fd9\u91cc\u63d0\u4f9b\u66f4\u591a\u5173\u4e8e Celery \u7684\u8fdb\u9636\u4f7f\u7528\u6280\u5de7\u548c\u7279\u6027\uff0c\u5e2e\u52a9\u4f60\u5728\u590d\u6742\u573a\u666f\u4e2d\u66f4\u52a0\u9ad8\u6548\u5730\u4f7f\u7528 Celery\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#1-chaining-and-callbacks","title":"1. \u94fe\u5f0f\u4efb\u52a1\u4e0e\u56de\u8c03\uff08Chaining and Callbacks\uff09","text":"<p>Celery \u5141\u8bb8\u4f60\u5c06\u591a\u4e2a\u4efb\u52a1\u94fe\u63a5\u8d77\u6765\u6267\u884c\uff0c\u652f\u6301\u4efb\u52a1\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>chain</code>\u3001<code>chord</code>\u3001<code>group</code> \u7b49\u65b9\u5f0f\u5b9e\u73b0\u590d\u6742\u7684\u4efb\u52a1\u94fe\u3002</p> <ul> <li>\u94fe\u5f0f\u4efb\u52a1\uff1a\u6309\u987a\u5e8f\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u6bcf\u4e2a\u4efb\u52a1\u7684\u8f93\u51fa\u5c06\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u4efb\u52a1\u7684\u8f93\u5165\u3002</li> </ul> <p>```python   from celery import chain</p> <p>result = chain(task1.s(arg1), task2.s(), task3.s())()   ```</p> <ul> <li>\u4efb\u52a1\u7ec4\uff08Group\uff09\uff1a\u5e76\u884c\u6267\u884c\u4e00\u7ec4\u4efb\u52a1\u3002</li> </ul> <p>```python   from celery import group</p> <p>result = group(task1.s(), task2.s(), task3.s())()   ```</p> <ul> <li>\u56de\u8c03\uff08Callback\uff09\uff1a\u5728\u4efb\u52a1\u7ec4\u6267\u884c\u5b8c\u6210\u540e\u6267\u884c\u7684\u4efb\u52a1\u3002</li> </ul> <p>```python   from celery import chord</p> <p>result = chord(group(task1.s(), task2.s()))(callback_task.s())   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#2","title":"2. \u4efb\u52a1\u91cd\u8bd5\u7b56\u7565","text":"<p>\u5728\u5904\u7406\u4e0d\u7a33\u5b9a\u7684\u5916\u90e8\u670d\u52a1\u65f6\uff0c\u4efb\u52a1\u53ef\u80fd\u4f1a\u5076\u5c14\u5931\u8d25\u3002Celery \u63d0\u4f9b\u4e86\u81ea\u52a8\u91cd\u8bd5\u673a\u5236\u6765\u5904\u7406\u8fd9\u4e9b\u5931\u8d25\u60c5\u51b5\u3002</p> <pre><code>@app.task(bind=True, max_retries=3)\ndef send_email(self, to):\n    try:\n        # \u53d1\u9001\u90ae\u4ef6\u64cd\u4f5c\n        pass\n    except Exception as exc:\n        raise self.retry(exc=exc, countdown=60)  # 60\u79d2\u540e\u91cd\u8bd5\n</code></pre> <ul> <li><code>max_retries</code>\uff1a\u6700\u5927\u91cd\u8bd5\u6b21\u6570\u3002</li> <li><code>countdown</code>\uff1a\u5728\u91cd\u8bd5\u4e4b\u524d\u7b49\u5f85\u7684\u79d2\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#3_1","title":"3. \u4efb\u52a1\u4f18\u5148\u7ea7","text":"<p>Celery \u652f\u6301\u4efb\u52a1\u4f18\u5148\u7ea7\uff0c\u5141\u8bb8\u4f60\u63a7\u5236\u4efb\u52a1\u5728\u961f\u5217\u4e2d\u7684\u5904\u7406\u987a\u5e8f\u3002\u4efb\u52a1\u4f18\u5148\u7ea7\u7684\u8303\u56f4\u901a\u5e38\u662f 0\uff08\u6700\u9ad8\u4f18\u5148\u7ea7\uff09\u5230 9\uff08\u6700\u4f4e\u4f18\u5148\u7ea7\uff09\u3002</p> <pre><code>@app.task(priority=1)\ndef high_priority_task():\n    pass\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#4_1","title":"4. \u4efb\u52a1\u8d85\u65f6\u63a7\u5236","text":"<p>\u5bf9\u4e8e\u9700\u8981\u9650\u5236\u6267\u884c\u65f6\u95f4\u7684\u4efb\u52a1\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4efb\u52a1\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u9632\u6b62\u4efb\u52a1\u957f\u671f\u5360\u7528\u8d44\u6e90\u3002</p> <pre><code>@app.task(time_limit=30)\ndef long_running_task():\n    # \u4efb\u52a1\u903b\u8f91\n    pass\n</code></pre> <ul> <li><code>time_limit</code>\uff1a\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\u9650\u5236\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#5-prefetching","title":"5. \u914d\u7f6e\u4efb\u52a1\u9884\u53d6\uff08Prefetching\uff09","text":"<p>\u9884\u53d6\u63a7\u5236 worker \u9884\u53d6\u4efb\u52a1\u7684\u6570\u91cf\uff0c\u8fd9\u5bf9\u6027\u80fd\u4f18\u5316\u975e\u5e38\u91cd\u8981\u3002\u53ef\u4ee5\u901a\u8fc7 <code>worker_prefetch_multiplier</code> \u914d\u7f6e\u9879\u8fdb\u884c\u8bbe\u7f6e\u3002</p> <pre><code>app.conf.worker_prefetch_multiplier = 1\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#6_1","title":"6. \u4efb\u52a1\u7684\u8def\u7531\u4e0e\u4ea4\u6362\u673a","text":"<p>\u4f60\u53ef\u4ee5\u6839\u636e\u4efb\u52a1\u7c7b\u578b\u5c06\u4efb\u52a1\u53d1\u9001\u5230\u4e0d\u540c\u7684\u961f\u5217\uff0c\u4ee5\u5b9e\u73b0\u66f4\u597d\u7684\u8d44\u6e90\u9694\u79bb\u548c\u8c03\u5ea6\u63a7\u5236\u3002</p> <pre><code>app.conf.task_routes = {\n    'myapp.tasks.add': {'queue': 'low_priority'},\n    'myapp.tasks.multiply': {'queue': 'high_priority'},\n}\n</code></pre> <ul> <li>\u81ea\u5b9a\u4e49\u4ea4\u6362\u673a\u4e0e\u961f\u5217\uff1a\u901a\u8fc7\u5b9a\u4e49\u4e0d\u540c\u7684\u4ea4\u6362\u673a\u548c\u961f\u5217\uff0c\u53ef\u4ee5\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u8def\u7531\u673a\u5236\u3002</li> </ul> <p>```python   from kombu import Exchange, Queue</p> <p>app.conf.task_queues = (       Queue('default', Exchange('default'), routing_key='default'),       Queue('emails', Exchange('emails'), routing_key='email.#'),   )   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#7_1","title":"7. \u5206\u5e03\u5f0f\u9501","text":"<p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u786e\u4fdd\u67d0\u4e00\u65f6\u95f4\u70b9\u53ea\u6709\u4e00\u4e2a\u4efb\u52a1\u5b9e\u4f8b\u5728\u8fd0\u884c\uff0c\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u3002\u4f8b\u5982\uff0c\u901a\u8fc7 Redis \u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u5206\u5e03\u5f0f\u9501\uff1a</p> <pre><code>import redis\nfrom celery import Task\n\nclass LockedTask(Task):\n    _lock = None\n\n    def __call__(self, *args, **kwargs):\n        self._lock = redis.StrictRedis().lock(self.name, timeout=10)\n        if self._lock.acquire(blocking=False):\n            try:\n                return super().__call__(*args, **kwargs)\n            finally:\n                self._lock.release()\n        else:\n            raise Exception(\"Task is already running\")\n\n@app.task(base=LockedTask)\ndef my_locked_task():\n    # \u4efb\u52a1\u903b\u8f91\n    pass\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#8_1","title":"8. \u76d1\u63a7\u4e0e\u5065\u5eb7\u68c0\u67e5","text":"<p>Celery \u63d0\u4f9b\u4e86\u591a\u79cd\u5de5\u5177\u548c\u673a\u5236\u6765\u76d1\u63a7\u4efb\u52a1\u6267\u884c\u72b6\u6001\uff0c\u5e76\u786e\u4fdd\u7cfb\u7edf\u7684\u5065\u5eb7\u8fd0\u884c\u3002</p> <ul> <li>Flower\uff1a\u5b9e\u65f6\u76d1\u63a7\u548c\u7ba1\u7406 Celery \u7684\u4efb\u52a1\u548c\u961f\u5217\u3002</li> </ul> <p><code>bash   celery -A your_project flower</code></p> <ul> <li>\u5065\u5eb7\u68c0\u67e5\uff1a\u901a\u8fc7 Celery \u7684 <code>ping</code> \u4efb\u52a1\u6216\u81ea\u5b9a\u4e49\u5065\u5eb7\u68c0\u67e5\u4efb\u52a1\u6765\u5b9a\u671f\u68c0\u67e5 worker \u7684\u5065\u5eb7\u72b6\u6001\u3002</li> </ul> <p><code>python   app.control.ping()</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#9-celery-signals","title":"9. \u4f7f\u7528 Celery Signals","text":"<p>Celery Signals \u63d0\u4f9b\u4e86\u4efb\u52a1\u751f\u547d\u5468\u671f\u4e2d\u7684\u5404\u79cd\u94a9\u5b50\uff0c\u5141\u8bb8\u4f60\u5728\u4efb\u52a1\u6267\u884c\u7684\u4e0d\u540c\u9636\u6bb5\u63d2\u5165\u81ea\u5b9a\u4e49\u903b\u8f91\u3002</p> <pre><code>from celery.signals import task_success, task_failure\n\n@task_success.connect\ndef task_success_handler(sender=None, result=None, **kwargs):\n    print(f'Task {sender.name} succeeded with result: {result}')\n\n@task_failure.connect\ndef task_failure_handler(sender=None, exception=None, **kwargs):\n    print(f'Task {sender.name} failed with exception: {exception}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/celery/#10-worker","title":"10. \u52a8\u6001\u8c03\u6574 Worker","text":"<p>\u5728\u9ad8\u5cf0\u671f\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u589e\u52a0 worker \u7684\u6570\u91cf\u6765\u5904\u7406\u66f4\u591a\u7684\u4efb\u52a1\uff0cCelery \u652f\u6301\u52a8\u6001\u8c03\u6574 worker \u7684\u6570\u91cf\u3002</p> <pre><code>celery -A your_project worker --autoscale=10,3\n</code></pre> <ul> <li><code>--autoscale=10,3</code>\uff1a\u52a8\u6001\u8c03\u6574 worker \u6570\u91cf\uff0c\u6700\u591a 10 \u4e2a worker\uff0c\u6700\u5c11 3 \u4e2a\u3002</li> </ul> <p>\u8fd9\u4e9b\u8fdb\u9636\u6559\u7a0b\u548c\u4f7f\u7528\u6280\u5de7\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u66f4\u52a0\u7075\u6d3b\u3001\u9ad8\u6548\u5730\u4f7f\u7528 Celery\uff0c\u5904\u7406\u66f4\u590d\u6742\u7684\u4efb\u52a1\u8c03\u5ea6\u548c\u6267\u884c\u573a\u666f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/","title":"\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_2","title":"\u6570\u636e\u7ed3\u6784","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1-stack","title":"1. \u6808\uff08Stack\uff09","text":"<p>\u6808\u662f\u4e00\u79cd\u540e\u8fdb\u5148\u51fa\uff08LIFO, Last In First Out\uff09\u7684\u6570\u636e\u7ed3\u6784\u3002\u5728 Python \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5217\u8868\uff08<code>list</code>\uff09\u5b9e\u73b0\u6808\u3002</p> <pre><code>class Stack:\n    def __init__(self):\n        self.stack = []\n\n    def push(self, item):\n        self.stack.append(item)\n\n    def pop(self):\n        if not self.is_empty():\n            return self.stack.pop()\n        return None\n\n    def peek(self):\n        if not self.is_empty():\n            return self.stack[-1]\n        return None\n\n    def is_empty(self):\n        return len(self.stack) == 0\n\n    def size(self):\n        return len(self.stack)\n\n# \u4f7f\u7528\u793a\u4f8b\ns = Stack()\ns.push(1)\ns.push(2)\nprint(s.pop())  # \u8f93\u51fa 2\nprint(s.peek()) # \u8f93\u51fa 1\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2-queue","title":"2. \u961f\u5217\uff08Queue\uff09","text":"<p>\u961f\u5217\u662f\u4e00\u79cd\u5148\u8fdb\u5148\u51fa\uff08FIFO, First In First Out\uff09\u7684\u6570\u636e\u7ed3\u6784\u3002\u5728 Python \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>collections.deque</code> \u5b9e\u73b0\u961f\u5217\u3002</p> <pre><code>from collections import deque\n\nclass Queue:\n    def __init__(self):\n        self.queue = deque()\n\n    def enqueue(self, item):\n        self.queue.append(item)\n\n    def dequeue(self):\n        if not self.is_empty():\n            return self.queue.popleft()\n        return None\n\n    def is_empty(self):\n        return len(self.queue) == 0\n\n    def size(self):\n        return len(self.queue)\n\n# \u4f7f\u7528\u793a\u4f8b\nq = Queue()\nq.enqueue(1)\nq.enqueue(2)\nprint(q.dequeue())  # \u8f93\u51fa 1\nprint(q.dequeue())  # \u8f93\u51fa 2\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3-linked-list","title":"3. \u94fe\u8868\uff08Linked List\uff09","text":"<p>\u94fe\u8868\u662f\u4e00\u79cd\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u8282\u70b9\uff0c\u8282\u70b9\u5305\u542b\u6570\u636e\u548c\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u5f15\u7528\u3002\u4ee5\u4e0b\u662f\u5355\u94fe\u8868\u7684 Python \u5b9e\u73b0\uff1a</p> <pre><code>class Node:\n    def __init__(self, data):\n        self.data = data\n        self.next = None\n\nclass LinkedList:\n    def __init__(self):\n        self.head = None\n\n    def append(self, data):\n        new_node = Node(data)\n        if not self.head:\n            self.head = new_node\n            return\n        last = self.head\n        while last.next:\n            last = last.next\n        last.next = new_node\n\n    def print_list(self):\n        current = self.head\n        while current:\n            print(current.data, end=\" -&gt; \")\n            current = current.next\n        print(\"None\")\n\n# \u4f7f\u7528\u793a\u4f8b\nll = LinkedList()\nll.append(1)\nll.append(2)\nll.print_list()  # \u8f93\u51fa 1 -&gt; 2 -&gt; None\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#4-binary-tree","title":"4. \u4e8c\u53c9\u6811\uff08Binary Tree\uff09","text":"<p>\u4e8c\u53c9\u6811\u662f\u4e00\u79cd\u6bcf\u4e2a\u8282\u70b9\u6700\u591a\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u7684\u6570\u636e\u7ed3\u6784\uff0c\u901a\u5e38\u7528\u4e8e\u5b9e\u73b0\u641c\u7d22\u6811\u3002\u4ee5\u4e0b\u662f\u4e8c\u53c9\u6811\u7684\u57fa\u672c Python \u5b9e\u73b0\uff1a</p> <pre><code>class TreeNode:\n    def __init__(self, data):\n        self.data = data\n        self.left = None\n        self.right = None\n\nclass BinaryTree:\n    def __init__(self, root):\n        self.root = TreeNode(root)\n\n    def inorder_traversal(self, start, traversal):\n        if start:\n            traversal = self.inorder_traversal(start.left, traversal)\n            traversal += (str(start.data) + \" \")\n            traversal = self.inorder_traversal(start.right, traversal)\n        return traversal\n\n# \u4f7f\u7528\u793a\u4f8b\nbt = BinaryTree(1)\nbt.root.left = TreeNode(2)\nbt.root.right = TreeNode(3)\nbt.root.left.left = TreeNode(4)\nbt.root.left.right = TreeNode(5)\nprint(bt.inorder_traversal(bt.root, \"\"))  # \u8f93\u51fa 4 2 5 1 3\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#5-graph","title":"5. \u56fe\uff08Graph\uff09","text":"<p>\u56fe\u662f\u4e00\u79cd\u7531\u9876\u70b9\u548c\u8fb9\u7ec4\u6210\u7684\u590d\u6742\u6570\u636e\u7ed3\u6784\uff0c\u9002\u7528\u4e8e\u8868\u793a\u7f51\u7edc\u5173\u7cfb\u3002\u56fe\u53ef\u4ee5\u7528\u90bb\u63a5\u8868\u6216\u90bb\u63a5\u77e9\u9635\u6765\u8868\u793a\u3002\u4ee5\u4e0b\u662f\u4f7f\u7528\u5b57\u5178\u5b9e\u73b0\u7684\u56fe\u7ed3\u6784\uff1a</p> <pre><code>class Graph:\n    def __init__(self):\n        self.graph = {}\n\n    def add_edge(self, u, v):\n        if u not in self.graph:\n            self.graph[u] = []\n        self.graph[u].append(v)\n\n    def bfs(self, start):\n        visited = set()\n        queue = [start]\n\n        while queue:\n            vertex = queue.pop(0)\n            if vertex not in visited:\n                print(vertex, end=\" \")\n                visited.add(vertex)\n                queue.extend(set(self.graph[vertex]) - visited)\n\n# \u4f7f\u7528\u793a\u4f8b\ng = Graph()\ng.add_edge(0, 1)\ng.add_edge(0, 2)\ng.add_edge(1, 2)\ng.add_edge(2, 0)\ng.add_edge(2, 3)\ng.add_edge(3, 3)\n\ng.bfs(2)  # \u8f93\u51fa 2 0 3 1\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_3","title":"\u7b97\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_4","title":"\u4e00\u3001 \u6392\u5e8f\u7b97\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#11-bubble-sort","title":"1.1 \u5192\u6ce1\u6392\u5e8f\uff08Bubble Sort\uff09","text":"<p>\u5192\u6ce1\u6392\u5e8f\u662f\u4e00\u79cd\u7b80\u5355\u7684\u6392\u5e8f\u7b97\u6cd5\uff0c\u5b83\u91cd\u590d\u904d\u5386\u5217\u8868\uff0c\u5c06\u76f8\u90bb\u7684\u5143\u7d20\u4e24\u4e24\u6bd4\u8f83\u5e76\u4ea4\u6362\u987a\u5e8f\uff0c\u76f4\u5230\u6574\u4e2a\u5217\u8868\u6709\u5e8f\u3002\u6700\u574f\u60c5\u51b5\u4e0b\u662f O(n^2)</p> <pre><code>def bubble_sort(arr):\n    n = len(arr)\n    for i in range(n):\n        for j in range(0, n-i-1):\n            if arr[j] &gt; arr[j+1]:\n                arr[j], arr[j+1] = arr[j+1], arr[j]\n\narr = [64, 34, 25, 12, 22, 11, 90]\nbubble_sort(arr)\nprint(\"Sorted array:\", arr)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#12-quick-sort","title":"1.2  \u5feb\u901f\u6392\u5e8f\uff08Quick Sort\uff09","text":"<p>\u5feb\u901f\u6392\u5e8f\u662f\u4e00\u79cd\u57fa\u4e8e\u5206\u6cbb\u601d\u60f3\u7684\u9ad8\u6548\u6392\u5e8f\u7b97\u6cd5\u3002\u5b83\u9009\u62e9\u4e00\u4e2a\u201c\u57fa\u51c6\u201d\uff0c\u5c06\u5217\u8868\u5206\u4e3a\u4e24\u4e2a\u5b50\u5217\u8868\uff0c\u7136\u540e\u9012\u5f52\u5730\u6392\u5e8f\u4e24\u4e2a\u5b50\u5217\u8868\u3002\u65f6\u95f4\u590d\u6742\u5ea6: \u6700\u574f\u60c5\u51b5\u4e0b\u662f O(n^2)\uff0c\u4f46\u5e73\u5747\u60c5\u51b5\u4e0b\u662f O(n \\log n)\u3002</p> <pre><code>def quick_sort(arr):\n    if len(arr) &lt;= 1:\n        return arr\n    pivot = arr[len(arr) // 2]\n    left = [x for x in arr if x &lt; pivot]\n    middle = [x for x in arr if x == pivot]\n    right = [x for x in arr if x &gt; pivot]\n    return quick_sort(left) + middle + quick_sort(right)\n\narr = [64, 34, 25, 12, 22, 11, 90]\nsorted_arr = quick_sort(arr)\nprint(\"Sorted array:\", sorted_arr)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#13-merge-sort","title":"1.3 \u5f52\u5e76\u6392\u5e8f\uff08Merge Sort\uff09","text":"<p>\u5f52\u5e76\u6392\u5e8f\u4e5f\u662f\u57fa\u4e8e\u5206\u6cbb\u6cd5\u7684\u6392\u5e8f\u7b97\u6cd5\u3002\u5b83\u5c06\u6570\u7ec4\u5206\u6210\u4e24\u534a\uff0c\u5206\u522b\u6392\u5e8f\uff0c\u7136\u540e\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4\u3002\u65f6\u95f4\u590d\u6742\u5ea6: O(n \\log n)\u3002</p> <pre><code>def merge_sort(arr):\n    if len(arr) &lt;= 1:\n        return arr\n    mid = len(arr) // 2\n    left = merge_sort(arr[:mid])\n    right = merge_sort(arr[mid:])\n    return merge(left, right)\n\ndef merge(left, right):\n    result = []\n    i = j = 0\n    while i &lt; len(left) and j &lt; len(right):\n        if left[i] &lt; right[j]:\n            result.append(left[i])\n            i += 1\n        else:\n            result.append(right[j])\n            j += 1\n    result.extend(left[i:])\n    result.extend(right[j:])\n    return result\n\narr = [64, 34, 25, 12, 22, 11, 90]\nsorted_arr = merge_sort(arr)\nprint(\"Sorted array:\", sorted_arr)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#14-selection-sor","title":"1.4 \u9009\u62e9\u6392\u5e8f\uff08Selection Sor","text":"<p>\u9009\u62e9\u6392\u5e8f\u6bcf\u6b21\u4ece\u672a\u6392\u5e8f\u90e8\u5206\u9009\u62e9\u6700\u5c0f\u7684\u5143\u7d20\uff0c\u5e76\u5c06\u5176\u653e\u5230\u5df2\u6392\u5e8f\u90e8\u5206\u7684\u672b\u5c3e\u3002\u65f6\u95f4\u590d\u6742\u5ea6: \u6700\u574f\u60c5\u51b5\u4e0b\u662f O(n^2)\u3002</p> <pre><code>def selection_sort(arr):\n    n = len(arr)\n    for i in range(n):\n        min_idx = i\n        for j in range(i+1, n):\n            if arr[j] &lt; arr[min_idx]:\n                min_idx = j\n        arr[i], arr[min_idx] = arr[min_idx], arr[i]\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [64, 25, 12, 22, 11]\nselection_sort(arr)\nprint(\"\u6392\u5e8f\u540e\u7684\u6570\u7ec4:\", arr)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#15-insertion-sort","title":"1.5 \u63d2\u5165\u6392\u5e8f\uff08Insertion Sort\uff09","text":"<p>\u63d2\u5165\u6392\u5e8f\u662f\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u6211\u4eec\u6253\u6251\u514b\u724c\u65f6\u6574\u7406\u624b\u724c\u7684\u6392\u5e8f\u65b9\u6cd5\u3002\u5b83\u901a\u8fc7\u6784\u5efa\u6709\u5e8f\u5e8f\u5217\uff0c\u5bf9\u4e8e\u672a\u6392\u5e8f\u6570\u636e\uff0c\u5728\u5df2\u6392\u5e8f\u5e8f\u5217\u4e2d\u4ece\u540e\u5411\u524d\u626b\u63cf\uff0c\u627e\u5230\u76f8\u5e94\u4f4d\u7f6e\u5e76\u63d2\u5165\u3002 \u65f6\u95f4\u590d\u6742\u5ea6: \u6700\u574f\u60c5\u51b5\u4e0b\u662f O(n^2)\u3002</p> <pre><code>def insertion_sort(arr):\n    for i in range(1, len(arr)):\n        key = arr[i]\n        j = i - 1\n        while j &gt;= 0 and key &lt; arr[j]:\n            arr[j + 1] = arr[j]\n            j -= 1\n        arr[j + 1] = key\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [12, 11, 13, 5, 6]\ninsertion_sort(arr)\nprint(\"\u6392\u5e8f\u540e\u7684\u6570\u7ec4:\", arr)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_5","title":"\u4e8c\u3001\u67e5\u627e\u7b97\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#21-linear-search","title":"2.1 \u7ebf\u6027\u67e5\u627e\uff08Linear Search\uff09","text":"<p>\u7ebf\u6027\u67e5\u627e\u662f\u6700\u7b80\u5355\u7684\u67e5\u627e\u7b97\u6cd5\uff0c\u5b83\u9010\u4e00\u68c0\u67e5\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u76f4\u5230\u627e\u5230\u76ee\u6807\u503c\u3002</p> <pre><code>def linear_search(arr, x):\n    for i in range(len(arr)):\n        if arr[i] == x:\n            return i\n    return -1\n\narr = [64, 34, 25, 12, 22, 11, 90]\nx = 22\nresult = linear_search(arr, x)\nprint(\"Element found at index:\", result)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#22-binary-search","title":"2.2 \u4e8c\u5206\u67e5\u627e\uff08Binary Search\uff09","text":"<p>\u4e8c\u5206\u67e5\u627e\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u67e5\u627e\u7b97\u6cd5\uff0c\u9002\u7528\u4e8e\u5df2\u6392\u5e8f\u7684\u5217\u8868\u3002\u5b83\u901a\u8fc7\u53cd\u590d\u5c06\u641c\u7d22\u8303\u56f4\u51cf\u534a\u6765\u5feb\u901f\u67e5\u627e\u76ee\u6807\u503c\u3002</p> <pre><code>def binary_search(arr, x):\n    left, right = 0, len(arr) - 1\n    while left &lt;= right:\n        mid = (left + right) // 2\n        if arr[mid] == x:\n            return mid\n        elif arr[mid] &lt; x:\n            left = mid + 1\n        else:\n            right = mid - 1\n    return -1\n\narr = [11, 12, 22, 25, 34, 64, 90]\nx = 22\nresult = binary_search(arr, x)\nprint(\"Element found at index:\", result)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#23-hash-search","title":"2.3 \u54c8\u5e0c\u67e5\u627e\uff08Hash Search\uff09","text":"<p>\u54c8\u5e0c\u67e5\u627e\u5229\u7528\u54c8\u5e0c\u8868\u7684\u7279\u70b9\u6765\u5b9e\u73b0\u5feb\u901f\u67e5\u627e\u3002\u54c8\u5e0c\u8868\u6839\u636e\u952e\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\uff0c\u901a\u5e38\u67e5\u627e\u65f6\u95f4\u4e3a\u5e38\u6570\u7ea7\u522b\u3002\u65f6\u95f4\u590d\u6742\u5ea6: \u5e73\u5747\u60c5\u51b5\u4e0b\u662f O(1)\uff0c\u4f46\u6700\u574f\u60c5\u51b5\u4e0b\u53ef\u80fd\u9000\u5316\u4e3a O(n)\uff08\u5f53\u6240\u6709\u5143\u7d20\u7684\u54c8\u5e0c\u503c\u90fd\u51b2\u7a81\u65f6\uff09\u3002</p> <pre><code>def hash_search(arr, target):\n    hash_table = {}\n    for i in range(len(arr)):\n        hash_table[arr[i]] = i\n\n    return hash_table.get(target, -1)\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [1, 3, 5, 7, 9]\ntarget = 7\nresult = hash_search(arr, target)\nprint(\"\u5143\u7d20 {} \u5728\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15\u4e3a: {}\".format(target, result))  # \u8f93\u51fa 3\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#24-dfsbfs","title":"2.4 \u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff08DFS\uff09\u548c\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff08BFS\uff09","text":"<p>\u8fd9\u4e24\u79cd\u67e5\u627e\u7b97\u6cd5\u901a\u5e38\u7528\u4e8e\u56fe\u7ed3\u6784\u4e2d\uff0c\u5bfb\u627e\u4ece\u4e00\u4e2a\u8282\u70b9\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u7684\u8def\u5f84\u3002</p> <p>DFS\u5b9e\u73b0\uff1a</p> <pre><code>def dfs(graph, start, visited=None):\n    if visited is None:\n        visited = set()\n    visited.add(start)\n    print(start, end=\" \")\n    for neighbor in graph[start]:\n        if neighbor not in visited:\n            dfs(graph, neighbor, visited)\n\n# \u4f7f\u7528\u793a\u4f8b\ngraph = {\n    'A': ['B', 'C'],\n    'B': ['A', 'D', 'E'],\n    'C': ['A', 'F'],\n    'D': ['B'],\n    'E': ['B', 'F'],\n    'F': ['C', 'E']\n}\ndfs(graph, 'A')  # \u8f93\u51fa A B D E F C\n</code></pre> <p>BFS\u5b9e\u73b0\uff1a</p> <pre><code>from collections import deque\n\ndef bfs(graph, start):\n    visited = set()\n    queue = deque([start])\n\n    while queue:\n        vertex = queue.popleft()\n        if vertex not in visited:\n            print(vertex, end=\" \")\n            visited.add(vertex)\n            queue.extend(set(graph[vertex]) - visited)\n\n# \u4f7f\u7528\u793a\u4f8b\ngraph = {\n    'A': ['B', 'C'],\n    'B': ['A', 'D', 'E'],\n    'C': ['A', 'F'],\n    'D': ['B'],\n    'E': ['B', 'F'],\n    'F': ['C', 'E']\n}\nbfs(graph, 'A')  # \u8f93\u51fa A B C D E F\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_6","title":"\u4e09\u3001\u9012\u5f52\u7b97\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#31-fibonacci-sequence","title":"3.1 \u6590\u6ce2\u90a3\u5951\u6570\u5217\uff08Fibonacci Sequence","text":"<p>\u9012\u5f52\u7b97\u6cd5\u901a\u5e38\u7528\u4e8e\u89e3\u51b3\u5206\u89e3\u4e3a\u66f4\u5c0f\u76f8\u540c\u5b50\u95ee\u9898\u7684\u60c5\u51b5\u3002\u6590\u6ce2\u90a3\u5951\u6570\u5217\u5c31\u662f\u4e00\u4e2a\u7ecf\u5178\u4f8b\u5b50</p> <pre><code>def fibonacci(n):\n    if n &lt;= 1:\n        return n\n    else:\n        return fibonacci(n-1) + fibonacci(n-2)\n\nn = 10\nprint(\"Fibonacci sequence:\")\nfor i in range(n):\n    print(fibonacci(i), end=\" \")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#32-factorial","title":"3.2 \u9636\u4e58\uff08Factorial\uff09\u00b6","text":"<p>\u9636\u4e58\u662f\u53e6\u4e00\u4e2a\u9012\u5f52\u7b97\u6cd5\u7684\u4f8b\u5b50\uff0c\u7528\u4e8e\u8ba1\u7b97\u4e00\u4e2a\u6b63\u6574\u6570\u7684\u9636\u4e58</p> <pre><code>def factorial(n):\n    if n == 0 or n == 1:\n        return 1\n    else:\n        return n * factorial(n-1)\n\nn = 5\nprint(\"Factorial of\", n, \"is\", factorial(n))\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_7","title":"\u56db\u3001 \u6570\u7ec4\u548c\u5b57\u7b26\u4e32\u64cd\u4f5c","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#41","title":"4.1 \u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20","text":"<p>\u5728\u9762\u8bd5\u4e2d\uff0c\u5bfb\u627e\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u9898\u76ee\u3002\u8fd9\u91cc\u6211\u4eec\u4f1a\u4ecb\u7ecd\u51e0\u79cd\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u573a\u666f\u3002</p> <p>\u65b9\u6cd51\uff1a\u4f7f\u7528\u96c6\u5408\uff08Set\uff09</p> <p>\u901a\u8fc7\u4f7f\u7528\u96c6\u5408\u53ef\u4ee5\u6709\u6548\u5730\u68c0\u6d4b\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20\u3002\u96c6\u5408\u7684\u7279\u6027\u662f\u5176\u5143\u7d20\u4e0d\u80fd\u91cd\u590d\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5728\u904d\u5386\u6570\u7ec4\u65f6\u68c0\u67e5\u5143\u7d20\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u4e8e\u96c6\u5408\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u5219\u8868\u793a\u8be5\u5143\u7d20\u662f\u91cd\u590d\u7684\u3002</p> <pre><code>def find_duplicates(arr):\n    seen = set()\n    duplicates = set()\n\n    for num in arr:\n        if num in seen:\n            duplicates.add(num)\n        else:\n            seen.add(num)\n\n    return list(duplicates)\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [1, 3, 4, 2, 5, 3, 2, 7, 8, 2]\nresult = find_duplicates(arr)\nprint(\"\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20:\", result)  # \u8f93\u51fa [2, 3]\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6: (O(n))\uff0c\u56e0\u4e3a\u6211\u4eec\u53ea\u904d\u5386\u4e86\u4e00\u6b21\u6570\u7ec4\u3002</p> <p>\u7a7a\u95f4\u590d\u6742\u5ea6: (O(n))\uff0c\u9700\u8981\u989d\u5916\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u3002</p> <p>\u65b9\u6cd52\uff1a\u4f7f\u7528\u5b57\u5178\uff08Dictionary\uff09</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b57\u5178\u6765\u8bb0\u5f55\u6bcf\u4e2a\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570\u3002\u7136\u540e\uff0c\u904d\u5386\u5b57\u5178\uff0c\u627e\u51fa\u6240\u6709\u51fa\u73b0\u6b21\u6570\u5927\u4e8e1\u7684\u5143\u7d20\u3002</p> <pre><code>def find_duplicates(arr):\n    count = {}\n    duplicates = []\n\n    for num in arr:\n        if num in count:\n            count[num] += 1\n        else:\n            count[num] = 1\n\n    for num, freq in count.items():\n        if freq &gt; 1:\n            duplicates.append(num)\n\n    return duplicates\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [1, 3, 4, 2, 5, 3, 2, 7, 8, 2]\nresult = find_duplicates(arr)\nprint(\"\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20:\", result)  # \u8f93\u51fa [3, 2]\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6: (O(n))\uff0c\u56e0\u4e3a\u6211\u4eec\u4e24\u6b21\u904d\u5386\u4e86\u6570\u7ec4\u3002</p> <p>\u7a7a\u95f4\u590d\u6742\u5ea6: (O(n))\uff0c\u9700\u8981\u989d\u5916\u7684\u7a7a\u95f4\u6765\u5b58\u50a8\u5b57\u5178\u3002</p> <p>\u65b9\u6cd53\uff1a\u4f7f\u7528\u6392\u5e8f</p> <p>\u901a\u8fc7\u5148\u5bf9\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u67e5\u627e\u76f8\u90bb\u5143\u7d20\u662f\u5426\u76f8\u7b49\uff0c\u5982\u679c\u76f8\u7b49\u5219\u8bf4\u660e\u6709\u91cd\u590d\u3002</p> <pre><code>def find_duplicates(arr):\n    arr.sort()\n    duplicates = []\n\n    for i in range(1, len(arr)):\n        if arr[i] == arr[i - 1]:\n            duplicates.append(arr[i])\n\n    return list(set(duplicates))\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [1, 3, 4, 2, 5, 3, 2, 7, 8, 2]\nresult = find_duplicates(arr)\nprint(\"\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20:\", result)  # \u8f93\u51fa [2, 3]\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6: (O(n \\log n))\uff0c\u56e0\u4e3a\u6392\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a (O(n \\log n))\u3002</p> <p>\u7a7a\u95f4\u590d\u6742\u5ea6: (O(1))\uff08\u5982\u679c\u6392\u5e8f\u7b97\u6cd5\u662f\u539f\u5730\u6392\u5e8f\u7684\u8bdd\uff09\uff0c\u4f46\u4f1a\u4fee\u6539\u539f\u6570\u7ec4\u3002</p> <p>\u65b9\u6cd54\uff1a\u4fee\u6539\u539f\u6570\u7ec4\u7684\u65b9\u5f0f\uff08\u9002\u7528\u4e8e\u7279\u5b9a\u6761\u4ef6\uff09</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u5047\u8bbe\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u503c\u8303\u56f4\u662f\u6709\u9650\u7684\uff0c\u6bd4\u5982\u4ece 1 \u5230 n\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5c06\u5143\u7d20\u653e\u7f6e\u5728\u5176\u5bf9\u5e94\u7684\u7d22\u5f15\u4f4d\u7f6e\u4e0a\u6765\u68c0\u6d4b\u91cd\u590d\u3002</p> <pre><code>def find_duplicates(arr):\n    duplicates = []\n\n    for i in range(len(arr)):\n        while arr[i] != arr[arr[i] - 1]:\n            arr[arr[i] - 1], arr[i] = arr[i], arr[arr[i] - 1]\n\n    for i in range(len(arr)):\n        if arr[i] != i + 1:\n            duplicates.append(arr[i])\n\n    return list(set(duplicates))\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [3, 4, 2, 7, 8, 2, 3, 1]\nresult = find_duplicates(arr)\nprint(\"\u6570\u7ec4\u4e2d\u7684\u91cd\u590d\u5143\u7d20:\", result)  # \u8f93\u51fa [2, 3]\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6: (O(n))\uff0c\u6bcf\u4e2a\u5143\u7d20\u6700\u591a\u4ea4\u6362\u4e24\u6b21\u4f4d\u7f6e\u3002</p> <p>\u7a7a\u95f4\u590d\u6742\u5ea6: (O(1))\uff0c\u6ca1\u6709\u4f7f\u7528\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u4f46\u4f1a\u4fee\u6539\u539f\u6570\u7ec4\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#42-kadanes-algorithm","title":"4.2 \u6700\u5927\u5b50\u6570\u7ec4\u548c\uff08Kadane's Algorithm\uff09","text":"<p>Kadane\u2019s Algorithm \u662f\u4e00\u79cd\u7528\u4e8e\u89e3\u51b3\u300c\u6700\u5927\u5b50\u6570\u7ec4\u548c\u300d\u95ee\u9898\u7684\u9ad8\u6548\u7b97\u6cd5\u3002\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u52a8\u6001\u89c4\u5212\u7684\u65b9\u6cd5\uff0c\u5728\u4e00\u6b21\u904d\u5386\u4e2d\u627e\u5230\u5168\u5c40\u6700\u5927\u5b50\u6570\u7ec4\u548c\u3002</p> <p>Kadane\u2019s Algorithm \u539f\u7406</p> <pre><code>1.  \u521d\u59cb\u5316\u4e24\u4e2a\u53d8\u91cf\uff1a\n\u2022   max_current\uff1a\u8bb0\u5f55\u5f53\u524d\u7684\u5b50\u6570\u7ec4\u548c\u7684\u6700\u5927\u503c\u3002\n\u2022   max_global\uff1a\u8bb0\u5f55\u5168\u5c40\u7684\u6700\u5927\u5b50\u6570\u7ec4\u548c\u3002\n2.  \u904d\u5386\u6570\u7ec4\uff0c\u5bf9\u4e8e\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20 num\uff1a\n\u2022   \u66f4\u65b0 max_current \u4e3a\u5f53\u524d\u5143\u7d20 num \u548c max_current + num \u4e4b\u95f4\u7684\u6700\u5927\u503c\u3002\u8fd9\u4e00\u6b65\u662f\u4e3a\u4e86\u5224\u65ad\u5f53\u524d\u5143\u7d20\u662f\u5426\u5e94\u8be5\u4f5c\u4e3a\u65b0\u5b50\u6570\u7ec4\u7684\u5f00\u59cb\u3002\n\u2022   \u5982\u679c max_current \u5927\u4e8e max_global\uff0c\u5219\u66f4\u65b0 max_global\u3002\n3.  \u6700\u540e\uff0cmax_global \u5c31\u662f\u6240\u6c42\u7684\u6700\u5927\u5b50\u6570\u7ec4\u548c\u3002\n</code></pre> <pre><code>def max_subarray_sum(arr):\n    if len(arr) == 0:\n        return 0  # \u5982\u679c\u6570\u7ec4\u4e3a\u7a7a\uff0c\u8fd4\u56de 0\n\n    max_current = max_global = arr[0]\n\n    for num in arr[1:]:\n        max_current = max(num, max_current + num)\n        if max_current &gt; max_global:\n            max_global = max_current\n\n    return max_global\n\n# \u4f7f\u7528\u793a\u4f8b\narr = [-2, 1, -3, 4, -1, 2, 1, -5, 4]\nresult = max_subarray_sum(arr)\nprint(\"\u6700\u5927\u5b50\u6570\u7ec4\u548c\u4e3a:\", result)  # \u8f93\u51fa 6\n</code></pre> <p>\u89e3\u91ca\uff1a</p> <p>\u5728 arr = [-2, 1, -3, 4, -1, 2, 1, -5, 4] \u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0cKadane\u2019s Algorithm \u8bc6\u522b\u51fa\u7684\u6700\u5927\u5b50\u6570\u7ec4\u662f [4, -1, 2, 1]\uff0c\u5176\u548c\u4e3a 6\u3002</p> <p>\u8be6\u7ec6\u6b65\u9aa4</p> <pre><code>1.  \u521d\u59cb\u5316\uff1a\n\u2022   max_current = -2\uff08\u6570\u7ec4\u7b2c\u4e00\u4e2a\u5143\u7d20\uff09\n\u2022   max_global = -2\n2.  \u904d\u5386\u6570\u7ec4\uff1a\n\u2022   \u5904\u7406 1\uff1amax_current = max(1, -2 + 1) = 1\uff0c\u66f4\u65b0 max_global = 1\n\u2022   \u5904\u7406 -3\uff1amax_current = max(-3, 1 - 3) = -2\uff0cmax_global \u4e0d\u53d8\n\u2022   \u5904\u7406 4\uff1amax_current = max(4, -2 + 4) = 4\uff0c\u66f4\u65b0 max_global = 4\n\u2022   \u5904\u7406 -1\uff1amax_current = max(-1, 4 - 1) = 3\uff0cmax_global \u4e0d\u53d8\n\u2022   \u5904\u7406 2\uff1amax_current = max(2, 3 + 2) = 5\uff0c\u66f4\u65b0 max_global = 5\n\u2022   \u5904\u7406 1\uff1amax_current = max(1, 5 + 1) = 6\uff0c\u66f4\u65b0 max_global = 6\n\u2022   \u5904\u7406 -5\uff1amax_current = max(-5, 6 - 5) = 1\uff0cmax_global \u4e0d\u53d8\n\u2022   \u5904\u7406 4\uff1amax_current = max(4, 1 + 4) = 5\uff0cmax_global \u4e0d\u53d8\n3.  \u7ed3\u675f\uff1a\n\u2022   \u6700\u540e\uff0cmax_global = 6\uff0c\u5373\u6700\u5927\u5b50\u6570\u7ec4\u548c\u4e3a 6\u3002\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6</p> <p>Kadane\u2019s Algorithm \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(n)\uff0c\u56e0\u4e3a\u5b83\u53ea\u9700\u904d\u5386\u6570\u7ec4\u4e00\u6b21\u3002</p> <p>\u7a7a\u95f4\u590d\u6742\u5ea6</p> <p>\u7b97\u6cd5\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a O(1)\uff0c\u56e0\u4e3a\u5b83\u53ea\u4f7f\u7528\u4e86\u5e38\u6570\u7ea7\u522b\u7684\u989d\u5916\u7a7a\u95f4\u3002</p> <p>\u8fd9\u4f7f\u5f97 Kadane\u2019s Algorithm \u5728\u5904\u7406\u5927\u578b\u6570\u636e\u96c6\u65f6\u975e\u5e38\u9ad8\u6548\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#43","title":"4.3 \u5b57\u7b26\u4e32\u7ffb\u8f6c\u548c\u56de\u6587","text":"<p>\u5728 Python \u4e2d\uff0c\u5b57\u7b26\u4e32\u7ffb\u8f6c\u548c\u5224\u65ad\u56de\u6587\u5b57\u7b26\u4e32\u662f\u975e\u5e38\u57fa\u7840\u4e14\u5e38\u89c1\u7684\u64cd\u4f5c\u3002\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e24\u4e2a\u529f\u80fd\u7684\u5b9e\u73b0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1","title":"1. \u5b57\u7b26\u4e32\u7ffb\u8f6c","text":"<p>\u5b57\u7b26\u4e32\u7ffb\u8f6c\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u5b9e\u73b0\uff0c\u6700\u7b80\u5355\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528 Python \u7684\u5207\u7247\u8bed\u6cd5\u3002</p> <p>\u5b9e\u73b0\u65b9\u5f0f 1\uff1a\u5207\u7247\u8bed\u6cd5</p> <pre><code>def reverse_string(s):\n    return s[::-1]\n\n# \u4f7f\u7528\u793a\u4f8b\ns = \"hello\"\nreversed_s = reverse_string(s)\nprint(\"\u7ffb\u8f6c\u540e\u7684\u5b57\u7b26\u4e32:\", reversed_s)  # \u8f93\u51fa: \"olleh\"\n</code></pre> <p>\u5b9e\u73b0\u65b9\u5f0f 2\uff1a\u4f7f\u7528 <code>reversed()</code> \u548c <code>join()</code></p> <pre><code>def reverse_string(s):\n    return ''.join(reversed(s))\n\n# \u4f7f\u7528\u793a\u4f8b\ns = \"world\"\nreversed_s = reverse_string(s)\nprint(\"\u7ffb\u8f6c\u540e\u7684\u5b57\u7b26\u4e32:\", reversed_s)  # \u8f93\u51fa: \"dlrow\"\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2","title":"2. \u5224\u65ad\u56de\u6587\u5b57\u7b26\u4e32","text":"<p>\u56de\u6587\u5b57\u7b26\u4e32\u662f\u6307\u6b63\u7740\u8bfb\u548c\u53cd\u7740\u8bfb\u90fd\u4e00\u6837\u7684\u5b57\u7b26\u4e32\u3002\u8981\u5224\u65ad\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u56de\u6587\uff0c\u53ef\u4ee5\u5c06\u5176\u7ffb\u8f6c\u540e\u4e0e\u539f\u5b57\u7b26\u4e32\u8fdb\u884c\u6bd4\u8f83\u3002</p> <p>\u5b9e\u73b0\u65b9\u5f0f 1\uff1a\u7ed3\u5408\u7ffb\u8f6c\u548c\u6bd4\u8f83</p> <pre><code>def is_palindrome(s):\n    return s == s[::-1]\n\n# \u4f7f\u7528\u793a\u4f8b\ns = \"racecar\"\nis_palindrome_flag = is_palindrome(s)\nprint(f\"\u5b57\u7b26\u4e32 '{s}' \u662f\u56de\u6587: {is_palindrome_flag}\")  # \u8f93\u51fa: True\n\ns = \"hello\"\nis_palindrome_flag = is_palindrome(s)\nprint(f\"\u5b57\u7b26\u4e32 '{s}' \u662f\u56de\u6587: {is_palindrome_flag}\")  # \u8f93\u51fa: False\n</code></pre> <p>\u5b9e\u73b0\u65b9\u5f0f 2\uff1a\u53cc\u6307\u9488\u6cd5</p> <p>\u53cc\u6307\u9488\u6cd5\u4e0d\u9700\u8981\u521b\u5efa\u65b0\u7684\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u5728\u7a7a\u95f4\u4e0a\u66f4\u4e3a\u9ad8\u6548\u3002</p> <pre><code>def is_palindrome(s):\n    left, right = 0, len(s) - 1\n\n    while left &lt; right:\n        if s[left] != s[right]:\n            return False\n        left += 1\n        right -= 1\n\n    return True\n\n# \u4f7f\u7528\u793a\u4f8b\ns = \"madam\"\nis_palindrome_flag = is_palindrome(s)\nprint(f\"\u5b57\u7b26\u4e32 '{s}' \u662f\u56de\u6587: {is_palindrome_flag}\")  # \u8f93\u51fa: True\n\ns = \"python\"\nis_palindrome_flag = is_palindrome(s)\nprint(f\"\u5b57\u7b26\u4e32 '{s}' \u662f\u56de\u6587: {is_palindrome_flag}\")  # \u8f93\u51fa: False\n</code></pre> <p>\u603b\u7ed3</p> <ul> <li>\u5b57\u7b26\u4e32\u7ffb\u8f6c\uff1a\u53ef\u4ee5\u901a\u8fc7\u5207\u7247\u6216\u5185\u7f6e\u51fd\u6570\u5b9e\u73b0\u3002</li> <li>\u5224\u65ad\u56de\u6587\uff1a\u901a\u8fc7\u5b57\u7b26\u4e32\u7ffb\u8f6c\u540e\u6bd4\u8f83\uff0c\u6216\u4f7f\u7528\u53cc\u6307\u9488\u6cd5\u9ad8\u6548\u5730\u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u56de\u6587\u3002</li> </ul> <p>\u8fd9\u4e24\u4e2a\u529f\u80fd\u5728\u5904\u7406\u5b57\u7b26\u4e32\u64cd\u4f5c\u3001\u7b97\u6cd5\u9898\u76ee\u3001\u751a\u81f3\u6570\u636e\u6e05\u6d17\u65f6\u90fd\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#44","title":"4.4 \u5b57\u7b26\u4e32\u5339\u914d\u7b97\u6cd5","text":"<p>\u5728Python\u4e2d\uff0c\u5b57\u7b26\u4e32\u5339\u914d\u7b97\u6cd5\u4e3b\u8981\u7528\u4e8e\u5728\u4e00\u4e2a\u5927\u7684\u6587\u672c\u4e2d\u67e5\u627e\u67d0\u4e2a\u6a21\u5f0f\u5b57\u7b26\u4e32\u3002\u5e38\u89c1\u7684\u5b57\u7b26\u4e32\u5339\u914d\u7b97\u6cd5\u5305\u62ec\u66b4\u529b\u5339\u914d\u7b97\u6cd5\u3001Knuth-Morris-Pratt (KMP) \u7b97\u6cd5\u3001Rabin-Karp \u7b97\u6cd5\u548cBoyer-Moore\u7b97\u6cd5\u3002\u4ee5\u4e0b\u662f\u8fd9\u4e9b\u7b97\u6cd5\u7684Python\u5b9e\u73b0\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1-brute-force","title":"1. \u66b4\u529b\u5339\u914d\u7b97\u6cd5 (Brute Force)","text":"<p>\u66b4\u529b\u5339\u914d\u7b97\u6cd5\u901a\u8fc7\u5728\u76ee\u6807\u5b57\u7b26\u4e32\u4e2d\u9010\u4e2a\u5b57\u7b26\u6bd4\u8f83\uff0c\u627e\u5230\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\u3002</p> <pre><code>def brute_force(text, pattern):\n    n = len(text)\n    m = len(pattern)\n    for i in range(n - m + 1):\n        j = 0\n        while j &lt; m and text[i + j] == pattern[j]:\n            j += 1\n        if j == m:\n            return i  # \u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de\u8d77\u59cb\u7d22\u5f15\n    return -1  # \u5339\u914d\u5931\u8d25\n\n# \u793a\u4f8b\ntext = \"hello world\"\npattern = \"world\"\nprint(brute_force(text, pattern))  # \u8f93\u51fa 6\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2-knuth-morris-pratt-kmp","title":"2. Knuth-Morris-Pratt (KMP) \u7b97\u6cd5","text":"<p>KMP\u7b97\u6cd5\u901a\u8fc7\u9884\u5904\u7406\u6a21\u5f0f\u4e32\u6784\u5efa\u90e8\u5206\u5339\u914d\u8868\uff08\u524d\u7f00\u51fd\u6570\uff09\uff0c\u51cf\u5c11\u5b57\u7b26\u6bd4\u8f83\u6b21\u6570\uff0c\u4ece\u800c\u63d0\u5347\u5339\u914d\u6548\u7387\u3002</p> <pre><code>def kmp(text, pattern):\n    def build_lps(pattern):\n        lps = [0] * len(pattern)\n        length = 0\n        i = 1\n        while i &lt; len(pattern):\n            if pattern[i] == pattern[length]:\n                length += 1\n                lps[i] = length\n                i += 1\n            else:\n                if length != 0:\n                    length = lps[length - 1]\n                else:\n                    lps[i] = 0\n                    i += 1\n        return lps\n\n    n = len(text)\n    m = len(pattern)\n    lps = build_lps(pattern)\n    i = j = 0\n\n    while i &lt; n:\n        if text[i] == pattern[j]:\n            i += 1\n            j += 1\n\n        if j == m:\n            return i - j  # \u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de\u8d77\u59cb\u7d22\u5f15\n        elif i &lt; n and text[i] != pattern[j]:\n            if j != 0:\n                j = lps[j - 1]\n            else:\n                i += 1\n    return -1  # \u5339\u914d\u5931\u8d25\n\n# \u793a\u4f8b\ntext = \"abxabcabcaby\"\npattern = \"abcaby\"\nprint(kmp(text, pattern))  # \u8f93\u51fa 6\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3-rabin-karp","title":"3. Rabin-Karp \u7b97\u6cd5","text":"<p>Rabin-Karp\u7b97\u6cd5\u4f7f\u7528\u54c8\u5e0c\u51fd\u6570\u5c06\u6a21\u5f0f\u548c\u76ee\u6807\u5b57\u7b26\u4e32\u7684\u5b50\u4e32\u8f6c\u6362\u4e3a\u6574\u6570\uff0c\u7136\u540e\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u5b9e\u73b0\u5feb\u901f\u5339\u914d\u3002</p> <pre><code>def rabin_karp(text, pattern):\n    d = 256  # \u5b57\u7b26\u96c6\u7684\u6570\u91cf\n    q = 101  # \u4e00\u4e2a\u5927\u8d28\u6570\n    n = len(text)\n    m = len(pattern)\n    p = 0  # \u6a21\u5f0f\u7684\u54c8\u5e0c\u503c\n    t = 0  # \u7a97\u53e3\u7684\u54c8\u5e0c\u503c\n    h = 1\n\n    for i in range(m - 1):\n        h = (h * d) % q\n\n    for i in range(m):\n        p = (d * p + ord(pattern[i])) % q\n        t = (d * t + ord(text[i])) % q\n\n    for i in range(n - m + 1):\n        if p == t:\n            if text[i:i + m] == pattern:\n                return i  # \u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de\u8d77\u59cb\u7d22\u5f15\n\n        if i &lt; n - m:\n            t = (d * (t - ord(text[i]) * h) + ord(text[i + m])) % q\n            if t &lt; 0:\n                t = t + q\n\n    return -1  # \u5339\u914d\u5931\u8d25\n\n# \u793a\u4f8b\ntext = \"GEEKS FOR GEEKS\"\npattern = \"GEEK\"\nprint(rabin_karp(text, pattern))  # \u8f93\u51fa 0\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#4-boyer-moore","title":"4. Boyer-Moore \u7b97\u6cd5","text":"<p>Boyer-Moore\u7b97\u6cd5\u901a\u8fc7\u9884\u5904\u7406\u6a21\u5f0f\u4e32\u7684\u8df3\u8f6c\u8868\u6765\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u6bd4\u8f83\uff0c\u4ece\u800c\u52a0\u901f\u5339\u914d\u3002</p> <pre><code>def boyer_moore(text, pattern):\n    def build_last(pattern):\n        last = {}\n        for i in range(len(pattern)):\n            last[pattern[i]] = i\n        return last\n\n    n = len(text)\n    m = len(pattern)\n    last = build_last(pattern)\n    i = m - 1  # \u6307\u5411text\u4e2d\u7684\u5b57\u7b26\n    j = m - 1  # \u6307\u5411pattern\u4e2d\u7684\u5b57\u7b26\n\n    while i &lt; n:\n        if text[i] == pattern[j]:\n            if j == 0:\n                return i  # \u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de\u8d77\u59cb\u7d22\u5f15\n            else:\n                i -= 1\n                j -= 1\n        else:\n            i += m - min(j, 1 + last.get(text[i], -1))\n            j = m - 1\n\n    return -1  # \u5339\u914d\u5931\u8d25\n\n# \u793a\u4f8b\ntext = \"HERE IS A SIMPLE EXAMPLE\"\npattern = \"EXAMPLE\"\nprint(boyer_moore(text, pattern))  # \u8f93\u51fa 17\n</code></pre> <p>\u4ee5\u4e0a\u662f\u56db\u79cd\u5e38\u89c1\u7684\u5b57\u7b26\u4e32\u5339\u914d\u7b97\u6cd5\u7684Python\u5b9e\u73b0\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7b97\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_8","title":"\u4e94\u3001\u94fe\u8868","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#51","title":"5.1 \u94fe\u8868\u53cd\u8f6c","text":"<p>\u5728Python\u4e2d\uff0c\u94fe\u8868\u53cd\u8f6c\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u9762\u8bd5\u9898\u76ee\uff0c\u901a\u5e38\u9700\u8981\u53cd\u8f6c\u5355\u94fe\u8868\u3002\u4e0b\u9762\u662f\u94fe\u8868\u53cd\u8f6c\u7684\u8be6\u7ec6\u5b9e\u73b0\u3002</p> <p>\u5355\u94fe\u8868\u8282\u70b9\u5b9a\u4e49</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u94fe\u8868\u8282\u70b9\u7684\u7c7b\uff1a</p> <pre><code>class ListNode:\n    def __init__(self, value=0, next=None):\n        self.value = value\n        self.next = next\n</code></pre> <p>\u53cd\u8f6c\u94fe\u8868\u7684\u8fed\u4ee3\u6cd5\u5b9e\u73b0</p> <p>\u8fed\u4ee3\u6cd5\u901a\u8fc7\u9010\u4e2a\u8282\u70b9\u5730\u8c03\u6574\u6307\u9488\u65b9\u5411\u6765\u53cd\u8f6c\u94fe\u8868\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3aO(1)\u3002</p> <pre><code>def reverse_list(head):\n    prev = None\n    current = head\n    while current:\n        next_node = current.next  # \u6682\u5b58\u4e0b\u4e00\u4e2a\u8282\u70b9\n        current.next = prev  # \u53cd\u8f6c\u5f53\u524d\u8282\u70b9\u7684\u6307\u9488\n        prev = current  # \u79fb\u52a8prev\u5230\u5f53\u524d\u8282\u70b9\n        current = next_node  # \u79fb\u52a8current\u5230\u4e0b\u4e00\u4e2a\u8282\u70b9\n    return prev\n\n# \u793a\u4f8b\ndef print_list(head):\n    current = head\n    while current:\n        print(current.value, end=\" -&gt; \")\n        current = current.next\n    print(\"None\")\n\n# \u521b\u5efa\u94fe\u8868 1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; None\nhead = ListNode(1, ListNode(2, ListNode(3, ListNode(4, ListNode(5)))))\n\nprint(\"\u539f\u59cb\u94fe\u8868:\")\nprint_list(head)\n\n# \u53cd\u8f6c\u94fe\u8868\nreversed_head = reverse_list(head)\n\nprint(\"\u53cd\u8f6c\u540e\u7684\u94fe\u8868:\")\nprint_list(reversed_head)\n</code></pre> <p>\u53cd\u8f6c\u94fe\u8868\u7684\u9012\u5f52\u6cd5\u5b9e\u73b0</p> <p>\u9012\u5f52\u6cd5\u662f\u901a\u8fc7\u9012\u5f52\u5730\u53cd\u8f6c\u6bcf\u4e2a\u5b50\u94fe\u8868\uff0c\u76f4\u5230\u6700\u540e\u4e00\u4e2a\u8282\u70b9\uff0c\u7136\u540e\u518d\u9010\u5c42\u8fd4\u56de\u8c03\u6574\u6307\u9488\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\uff08\u7531\u4e8e\u9012\u5f52\u8c03\u7528\u6808\uff09\u3002</p> <pre><code>def reverse_list_recursive(head):\n    if not head or not head.next:\n        return head\n    new_head = reverse_list_recursive(head.next)\n    head.next.next = head  # \u53cd\u8f6c\u5f53\u524d\u8282\u70b9\n    head.next = None  # \u5c06\u5f53\u524d\u8282\u70b9\u7684next\u7f6e\u4e3a\u7a7a\n    return new_head\n\n# \u793a\u4f8b\nhead = ListNode(1, ListNode(2, ListNode(3, ListNode(4, ListNode(5)))))\n\nprint(\"\u539f\u59cb\u94fe\u8868:\")\nprint_list(head)\n\n# \u53cd\u8f6c\u94fe\u8868\nreversed_head_recursive = reverse_list_recursive(head)\n\nprint(\"\u53cd\u8f6c\u540e\u7684\u94fe\u8868\uff08\u9012\u5f52\u6cd5\uff09:\")\nprint_list(reversed_head_recursive)\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>ListNode: \u5b9a\u4e49\u4e86\u94fe\u8868\u8282\u70b9\u7684\u7ed3\u6784\uff0c\u6bcf\u4e2a\u8282\u70b9\u5305\u542b\u4e00\u4e2a\u503c\u548c\u4e00\u4e2a\u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488\u3002</li> <li>reverse_list: \u901a\u8fc7\u8fed\u4ee3\u65b9\u5f0f\u53cd\u8f6c\u94fe\u8868\u3002</li> <li>reverse_list_recursive: \u901a\u8fc7\u9012\u5f52\u65b9\u5f0f\u53cd\u8f6c\u94fe\u8868\u3002</li> <li>print_list: \u7528\u4e8e\u6253\u5370\u94fe\u8868\u5185\u5bb9\uff0c\u65b9\u4fbf\u67e5\u770b\u7ed3\u679c\u3002</li> </ul> <p>\u6d4b\u8bd5\u8f93\u51fa</p> <pre><code>\u539f\u59cb\u94fe\u8868:\n1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; None\n\n\u53cd\u8f6c\u540e\u7684\u94fe\u8868:\n5 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; None\n\n\u53cd\u8f6c\u540e\u7684\u94fe\u8868\uff08\u9012\u5f52\u6cd5\uff09:\n5 -&gt; 4 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; None\n</code></pre> <p>\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u8f7b\u677e\u5904\u7406\u94fe\u8868\u7684\u53cd\u8f6c\u64cd\u4f5c\uff0c\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u7f16\u7a0b\u573a\u666f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#52","title":"5.2 \u73af\u5f62\u94fe\u8868\u68c0\u6d4b","text":"<p>\u5728Python\u4e2d\uff0c\u73af\u5f62\u94fe\u8868\u7684\u68c0\u6d4b\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u95ee\u9898\uff0c\u901a\u5e38\u4f7f\u7528\u5feb\u6162\u6307\u9488\uff08Floyd\u2019s Cycle Detection Algorithm\uff09\u6765\u89e3\u51b3\u3002\u8fd9\u79cd\u65b9\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3aO(1)\u3002\u4ee5\u4e0b\u662f\u8be5\u7b97\u6cd5\u7684\u5b9e\u73b0\uff1a</p> <p>\u5355\u94fe\u8868\u8282\u70b9\u5b9a\u4e49</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5b9a\u4e49\u94fe\u8868\u8282\u70b9\u7684\u7c7b\uff1a</p> <pre><code>class ListNode:\n    def __init__(self, value=0, next=None):\n        self.value = value\n        self.next = next\n</code></pre> <p>\u73af\u5f62\u94fe\u8868\u68c0\u6d4b</p> <p>\u4f7f\u7528\u5feb\u6162\u6307\u9488\u7684\u65b9\u6cd5\u6765\u68c0\u6d4b\u94fe\u8868\u4e2d\u662f\u5426\u5b58\u5728\u73af\u3002\u5f53\u5feb\u6307\u9488\u548c\u6162\u6307\u9488\u76f8\u9047\u65f6\uff0c\u8bf4\u660e\u94fe\u8868\u4e2d\u6709\u73af\u3002</p> <pre><code>def has_cycle(head):\n    if not head or not head.next:\n        return False\n\n    slow = head\n    fast = head.next\n\n    while fast and fast.next:\n        if slow == fast:\n            return True  # \u68c0\u6d4b\u5230\u73af\n        slow = slow.next\n        fast = fast.next.next\n\n    return False  # \u6ca1\u6709\u73af\n\n# \u793a\u4f8b\n# \u521b\u5efa\u94fe\u8868 1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; None\nhead = ListNode(1, ListNode(2, ListNode(3, ListNode(4, ListNode(5)))))\n\n# \u521b\u5efa\u4e00\u4e2a\u73af\uff0c5 -&gt; 3\nhead.next.next.next.next.next = head.next.next\n\n# \u68c0\u6d4b\u662f\u5426\u6709\u73af\nprint(has_cycle(head))  # \u8f93\u51fa True\n\n# \u65e0\u73af\u94fe\u8868\u6d4b\u8bd5\nhead_no_cycle = ListNode(1, ListNode(2, ListNode(3, ListNode(4, ListNode(5)))))\nprint(has_cycle(head_no_cycle))  # \u8f93\u51fa False\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>has_cycle: \u4f7f\u7528\u5feb\u6162\u6307\u9488\u68c0\u6d4b\u94fe\u8868\u662f\u5426\u6709\u73af\u3002</li> <li>slow: \u6bcf\u6b21\u79fb\u52a8\u4e00\u4e2a\u8282\u70b9\u3002</li> <li>fast: \u6bcf\u6b21\u79fb\u52a8\u4e24\u4e2a\u8282\u70b9\u3002</li> <li>\u5f53 <code>slow</code> \u4e0e <code>fast</code> \u76f8\u9047\u65f6\uff0c\u94fe\u8868\u5b58\u5728\u73af\u3002</li> <li>\u5982\u679c <code>fast</code> \u5230\u8fbe\u94fe\u8868\u7684\u672b\u7aef\uff0c\u5219\u94fe\u8868\u6ca1\u6709\u73af\u3002</li> </ul> <p>\u6d4b\u8bd5\u8f93\u51fa</p> <pre><code>True  # \u8868\u793a\u94fe\u8868\u6709\u73af\nFalse # \u8868\u793a\u94fe\u8868\u6ca1\u6709\u73af\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u975e\u5e38\u9ad8\u6548\uff0c\u53ef\u4ee5\u5728\u94fe\u8868\u4e2d\u5feb\u901f\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u73af\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#53","title":"5.3 \u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868","text":"<p>\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u7b97\u6cd5\u95ee\u9898\uff0c\u901a\u5e38\u4f7f\u7528\u8fed\u4ee3\u6216\u9012\u5f52\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u3002\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u6bd4\u8f83\u4e24\u4e2a\u94fe\u8868\u7684\u8282\u70b9\u503c\uff0c\u5c06\u8f83\u5c0f\u7684\u8282\u70b9\u4f9d\u6b21\u8fde\u63a5\u5230\u65b0\u94fe\u8868\u4e2d\uff0c\u6700\u7ec8\u5408\u5e76\u6210\u4e00\u4e2a\u6709\u5e8f\u94fe\u8868\u3002</p> <p>\u5355\u94fe\u8868\u8282\u70b9\u5b9a\u4e49</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5b9a\u4e49\u94fe\u8868\u8282\u70b9\u7684\u7c7b\uff1a</p> <pre><code>class ListNode:\n    def __init__(self, value=0, next=None):\n        self.value = value\n        self.next = next\n</code></pre> <p>\u65b9\u6cd5\u4e00\uff1a\u8fed\u4ee3\u6cd5\u5b9e\u73b0\u5408\u5e76\u6709\u5e8f\u94fe\u8868</p> <p>\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u865a\u62df\u5934\u8282\u70b9\uff08dummy node\uff09\u6765\u7b80\u5316\u64cd\u4f5c\uff0c\u5c06\u4e24\u4e2a\u94fe\u8868\u7684\u8282\u70b9\u4f9d\u6b21\u6bd4\u8f83\u5e76\u8fde\u63a5\u5230\u65b0\u94fe\u8868\u4e2d\u3002</p> <pre><code>def merge_two_lists(l1, l2):\n    dummy = ListNode()  # \u521b\u5efa\u4e00\u4e2a\u865a\u62df\u5934\u8282\u70b9\n    current = dummy\n\n    while l1 and l2:\n        if l1.value &lt; l2.value:\n            current.next = l1\n            l1 = l1.next\n        else:\n            current.next = l2\n            l2 = l2.next\n        current = current.next\n\n    # \u8fde\u63a5\u5269\u4f59\u7684\u94fe\u8868\n    current.next = l1 if l1 else l2\n\n    return dummy.next\n\n# \u793a\u4f8b\n# \u521b\u5efa\u94fe\u88681: 1 -&gt; 3 -&gt; 5\nl1 = ListNode(1, ListNode(3, ListNode(5)))\n\n# \u521b\u5efa\u94fe\u88682: 2 -&gt; 4 -&gt; 6\nl2 = ListNode(2, ListNode(4, ListNode(6)))\n\n# \u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868\nmerged_list = merge_two_lists(l1, l2)\n\n# \u6253\u5370\u7ed3\u679c\ndef print_list(head):\n    current = head\n    while current:\n        print(current.value, end=\" -&gt; \")\n        current = current.next\n    print(\"None\")\n\nprint(\"\u5408\u5e76\u540e\u7684\u94fe\u8868:\")\nprint_list(merged_list)\n</code></pre> <p>\u65b9\u6cd5\u4e8c\uff1a\u9012\u5f52\u6cd5\u5b9e\u73b0\u5408\u5e76\u6709\u5e8f\u94fe\u8868</p> <p>\u9012\u5f52\u6cd5\u662f\u901a\u8fc7\u9012\u5f52\u5730\u6bd4\u8f83\u4e24\u4e2a\u94fe\u8868\u7684\u8282\u70b9\u503c\uff0c\u4f9d\u6b21\u8fde\u63a5\u8f83\u5c0f\u7684\u8282\u70b9\u5230\u7ed3\u679c\u94fe\u8868\u4e2d\u3002</p> <pre><code>def merge_two_lists_recursive(l1, l2):\n    if not l1:\n        return l2\n    if not l2:\n        return l1\n\n    if l1.value &lt; l2.value:\n        l1.next = merge_two_lists_recursive(l1.next, l2)\n        return l1\n    else:\n        l2.next = merge_two_lists_recursive(l1, l2.next)\n        return l2\n\n# \u793a\u4f8b\n# \u4f7f\u7528\u4e0a\u9762\u76f8\u540c\u7684\u94fe\u8868\nmerged_list_recursive = merge_two_lists_recursive(l1, l2)\n\nprint(\"\u5408\u5e76\u540e\u7684\u94fe\u8868\uff08\u9012\u5f52\u6cd5\uff09:\")\nprint_list(merged_list_recursive)\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>merge_two_lists: \u8fed\u4ee3\u6cd5\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868\uff0c\u901a\u8fc7\u4e00\u4e2a\u865a\u62df\u5934\u8282\u70b9 <code>dummy</code> \u6765\u9010\u4e2a\u6bd4\u8f83\u5e76\u8fde\u63a5\u94fe\u8868\u4e2d\u7684\u8282\u70b9\u3002</li> <li>merge_two_lists_recursive: \u9012\u5f52\u6cd5\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868\uff0c\u901a\u8fc7\u9012\u5f52\u5730\u6bd4\u8f83\u548c\u8fde\u63a5\u8282\u70b9\u3002</li> <li>print_list: \u6253\u5370\u94fe\u8868\u5185\u5bb9\uff0c\u65b9\u4fbf\u67e5\u770b\u7ed3\u679c\u3002</li> </ul> <p>\u6d4b\u8bd5\u8f93\u51fa</p> <pre><code>\u5408\u5e76\u540e\u7684\u94fe\u8868:\n1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; 6 -&gt; None\n\n\u5408\u5e76\u540e\u7684\u94fe\u8868\uff08\u9012\u5f52\u6cd5\uff09:\n1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; 6 -&gt; None\n</code></pre> <p>\u8fd9\u4e24\u79cd\u65b9\u6cd5\u90fd\u53ef\u4ee5\u6709\u6548\u5730\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868\uff0c\u9009\u62e9\u8fed\u4ee3\u8fd8\u662f\u9012\u5f52\u65b9\u6cd5\u53d6\u51b3\u4e8e\u4e2a\u4eba\u559c\u597d\u6216\u5177\u4f53\u573a\u666f\u7684\u9700\u6c42\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_9","title":"\u516d\u3001 \u6811\u548c\u56fe","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#61","title":"6.1 \u4e8c\u53c9\u6811\u904d\u5386","text":"<p>\u4e8c\u53c9\u6811\u904d\u5386\u662f\u6811\u64cd\u4f5c\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u90e8\u5206\u3002\u4e8c\u53c9\u6811\u7684\u904d\u5386\u65b9\u5f0f\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ol> <li>\u524d\u5e8f\u904d\u5386\uff08Preorder Traversal\uff09</li> <li>\u4e2d\u5e8f\u904d\u5386\uff08Inorder Traversal\uff09</li> <li>\u540e\u5e8f\u904d\u5386\uff08Postorder Traversal\uff09</li> <li>\u5c42\u5e8f\u904d\u5386\uff08Level Order Traversal\uff09</li> </ol> <p>\u4e0b\u9762\u662f\u8fd9\u4e9b\u904d\u5386\u65b9\u5f0f\u7684Python\u5b9e\u73b0\u3002</p> <p>\u4e8c\u53c9\u6811\u8282\u70b9\u5b9a\u4e49</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5b9a\u4e49\u4e8c\u53c9\u6811\u7684\u8282\u70b9\u7c7b\uff1a</p> <pre><code>class TreeNode:\n    def __init__(self, value=0, left=None, right=None):\n        self.value = value\n        self.left = left\n        self.right = right\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1-preorder-traversal","title":"1. \u524d\u5e8f\u904d\u5386\uff08Preorder Traversal\uff09","text":"<p>\u524d\u5e8f\u904d\u5386\u7684\u987a\u5e8f\u662f\uff1a\u6839\u8282\u70b9 -&gt; \u5de6\u5b50\u6811 -&gt; \u53f3\u5b50\u6811\u3002</p> <p>\u9012\u5f52\u5b9e\u73b0</p> <pre><code>def preorder_traversal(root):\n    if root is None:\n        return []\n    return [root.value] + preorder_traversal(root.left) + preorder_traversal(root.right)\n\n# \u793a\u4f8b\n# \u6784\u5efa\u4e8c\u53c9\u6811\n#      1\n#     / \\\n#    2   3\n#   / \\\n#  4   5\nroot = TreeNode(1, TreeNode(2, TreeNode(4), TreeNode(5)), TreeNode(3))\n\nprint(\"\u524d\u5e8f\u904d\u5386:\", preorder_traversal(root))  # \u8f93\u51fa [1, 2, 4, 5, 3]\n</code></pre> <p>\u8fed\u4ee3\u5b9e\u73b0</p> <pre><code>def preorder_traversal_iterative(root):\n    if root is None:\n        return []\n    stack, output = [root], []\n    while stack:\n        node = stack.pop()\n        if node:\n            output.append(node.value)\n            stack.append(node.right)\n            stack.append(node.left)\n    return output\n\nprint(\"\u524d\u5e8f\u904d\u5386\uff08\u8fed\u4ee3\uff09:\", preorder_traversal_iterative(root))  # \u8f93\u51fa [1, 2, 4, 5, 3]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2-inorder-traversal","title":"2. \u4e2d\u5e8f\u904d\u5386\uff08Inorder Traversal\uff09","text":"<p>\u4e2d\u5e8f\u904d\u5386\u7684\u987a\u5e8f\u662f\uff1a\u5de6\u5b50\u6811 -&gt; \u6839\u8282\u70b9 -&gt; \u53f3\u5b50\u6811\u3002</p> <p>\u9012\u5f52\u5b9e\u73b0</p> <pre><code>def inorder_traversal(root):\n    if root is None:\n        return []\n    return inorder_traversal(root.left) + [root.value] + inorder_traversal(root.right)\n\nprint(\"\u4e2d\u5e8f\u904d\u5386:\", inorder_traversal(root))  # \u8f93\u51fa [4, 2, 5, 1, 3]\n</code></pre> <p>\u8fed\u4ee3\u5b9e\u73b0</p> <pre><code>def inorder_traversal_iterative(root):\n    stack, output = [], []\n    current = root\n    while current or stack:\n        while current:\n            stack.append(current)\n            current = current.left\n        current = stack.pop()\n        output.append(current.value)\n        current = current.right\n    return output\n\nprint(\"\u4e2d\u5e8f\u904d\u5386\uff08\u8fed\u4ee3\uff09:\", inorder_traversal_iterative(root))  # \u8f93\u51fa [4, 2, 5, 1, 3]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3-postorder-traversal","title":"3. \u540e\u5e8f\u904d\u5386\uff08Postorder Traversal\uff09","text":"<p>\u540e\u5e8f\u904d\u5386\u7684\u987a\u5e8f\u662f\uff1a\u5de6\u5b50\u6811 -&gt; \u53f3\u5b50\u6811 -&gt; \u6839\u8282\u70b9\u3002</p> <p>\u9012\u5f52\u5b9e\u73b0</p> <pre><code>def postorder_traversal(root):\n    if root is None:\n        return []\n    return postorder_traversal(root.left) + postorder_traversal(root.right) + [root.value]\n\nprint(\"\u540e\u5e8f\u904d\u5386:\", postorder_traversal(root))  # \u8f93\u51fa [4, 5, 2, 3, 1]\n</code></pre> <p>\u8fed\u4ee3\u5b9e\u73b0</p> <pre><code>def postorder_traversal_iterative(root):\n    if root is None:\n        return []\n    stack, output = [root], []\n    while stack:\n        node = stack.pop()\n        if node:\n            output.append(node.value)\n            stack.append(node.left)\n            stack.append(node.right)\n    return output[::-1]  # \u9006\u5e8f\u8f93\u51fa\n\nprint(\"\u540e\u5e8f\u904d\u5386\uff08\u8fed\u4ee3\uff09:\", postorder_traversal_iterative(root))  # \u8f93\u51fa [4, 5, 2, 3, 1]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#4-level-order-traversal","title":"4. \u5c42\u5e8f\u904d\u5386\uff08Level Order Traversal\uff09","text":"<p>\u5c42\u5e8f\u904d\u5386\u662f\u6309\u5c42\u4ece\u4e0a\u5230\u4e0b\uff0c\u4ece\u5de6\u5230\u53f3\u904d\u5386\u4e8c\u53c9\u6811\u3002</p> <p>\u8fed\u4ee3\u5b9e\u73b0</p> <pre><code>from collections import deque\n\ndef level_order_traversal(root):\n    if root is None:\n        return []\n    queue = deque([root])\n    output = []\n    while queue:\n        node = queue.popleft()\n        output.append(node.value)\n        if node.left:\n            queue.append(node.left)\n        if node.right:\n            queue.append(node.right)\n    return output\n\nprint(\"\u5c42\u5e8f\u904d\u5386:\", level_order_traversal(root))  # \u8f93\u51fa [1, 2, 3, 4, 5]\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>TreeNode: \u5b9a\u4e49\u4e86\u4e8c\u53c9\u6811\u7684\u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u5305\u542b\u4e00\u4e2a\u503c\u548c\u6307\u5411\u5de6\u3001\u53f3\u5b50\u8282\u70b9\u7684\u6307\u9488\u3002</li> <li>preorder_traversal: \u524d\u5e8f\u904d\u5386\u4e8c\u53c9\u6811\u7684\u9012\u5f52\u4e0e\u8fed\u4ee3\u5b9e\u73b0\u3002</li> <li>inorder_traversal: \u4e2d\u5e8f\u904d\u5386\u4e8c\u53c9\u6811\u7684\u9012\u5f52\u4e0e\u8fed\u4ee3\u5b9e\u73b0\u3002</li> <li>postorder_traversal: \u540e\u5e8f\u904d\u5386\u4e8c\u53c9\u6811\u7684\u9012\u5f52\u4e0e\u8fed\u4ee3\u5b9e\u73b0\u3002</li> <li>level_order_traversal: \u5c42\u5e8f\u904d\u5386\u4e8c\u53c9\u6811\u7684\u8fed\u4ee3\u5b9e\u73b0\u3002</li> </ul> <p>\u6d4b\u8bd5\u8f93\u51fa</p> <pre><code>\u524d\u5e8f\u904d\u5386: [1, 2, 4, 5, 3]\n\u524d\u5e8f\u904d\u5386\uff08\u8fed\u4ee3\uff09: [1, 2, 4, 5, 3]\n\n\u4e2d\u5e8f\u904d\u5386: [4, 2, 5, 1, 3]\n\u4e2d\u5e8f\u904d\u5386\uff08\u8fed\u4ee3\uff09: [4, 2, 5, 1, 3]\n\n\u540e\u5e8f\u904d\u5386: [4, 5, 2, 3, 1]\n\u540e\u5e8f\u904d\u5386\uff08\u8fed\u4ee3\uff09: [4, 5, 2, 3, 1]\n\n\u5c42\u5e8f\u904d\u5386: [1, 2, 3, 4, 5]\n</code></pre> <p>\u8fd9\u4e9b\u904d\u5386\u65b9\u5f0f\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u6811\u64cd\u4f5c\u573a\u666f\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u904d\u5386\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#62-bst","title":"6.2 \u4e8c\u53c9\u641c\u7d22\u6811\uff08BST\uff09","text":"<p>\u4e8c\u53c9\u641c\u7d22\u6811\uff08Binary Search Tree\uff0c\u7b80\u79f0BST\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u4e8c\u53c9\u6811\uff0c\u5b83\u5177\u6709\u4ee5\u4e0b\u6027\u8d28\uff1a</p> <ol> <li>\u6bcf\u4e2a\u8282\u70b9\u7684\u5de6\u5b50\u6811\u4e2d\u7684\u6240\u6709\u8282\u70b9\u503c\u90fd\u5c0f\u4e8e\u8be5\u8282\u70b9\u7684\u503c\u3002</li> <li>\u6bcf\u4e2a\u8282\u70b9\u7684\u53f3\u5b50\u6811\u4e2d\u7684\u6240\u6709\u8282\u70b9\u503c\u90fd\u5927\u4e8e\u8be5\u8282\u70b9\u7684\u503c\u3002</li> <li>\u6bcf\u4e2a\u8282\u70b9\u7684\u5de6\u53f3\u5b50\u6811\u4e5f\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u3002</li> </ol> <p>BST \u53ef\u4ee5\u7528\u4e8e\u9ad8\u6548\u7684\u67e5\u627e\u3001\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u3002\u4e0b\u9762\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u5b9e\u73b0\uff0c\u5305\u62ec\u63d2\u5165\u3001\u67e5\u627e\u548c\u5220\u9664\u7b49\u57fa\u672c\u64cd\u4f5c\u3002</p> <p>\u4e8c\u53c9\u641c\u7d22\u6811\u8282\u70b9\u5b9a\u4e49</p> <p>\u9996\u5148\uff0c\u5b9a\u4e49\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u8282\u70b9\u7c7b\uff1a</p> <pre><code>class TreeNode:\n    def __init__(self, value=0, left=None, right=None):\n        self.value = value\n        self.left = left\n        self.right = right\n</code></pre> <p>\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u63d2\u5165\u64cd\u4f5c</p> <p>\u63d2\u5165\u64cd\u4f5c\u5c06\u4e00\u4e2a\u65b0\u7684\u503c\u63d2\u5165\u5230BST\u4e2d\uff0c\u63d2\u5165\u7684\u8fc7\u7a0b\u4fdd\u6301BST\u7684\u6027\u8d28\u3002</p> <pre><code>def insert(root, value):\n    if root is None:\n        return TreeNode(value)\n    if value &lt; root.value:\n        root.left = insert(root.left, value)\n    else:\n        root.right = insert(root.right, value)\n    return root\n\n# \u793a\u4f8b\uff1a\u6784\u5efa\u4e8c\u53c9\u641c\u7d22\u6811\nroot = None\nvalues = [5, 3, 7, 2, 4, 6, 8]\nfor value in values:\n    root = insert(root, value)\n\n# BST \u5e94\u8be5\u5982\u4e0b:\n#      5\n#     / \\\n#    3   7\n#   / \\ / \\\n#  2  4 6  8\n</code></pre> <p>\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u67e5\u627e\u64cd\u4f5c</p> <p>\u67e5\u627e\u64cd\u4f5c\u7528\u4e8e\u786e\u5b9aBST\u4e2d\u662f\u5426\u5305\u542b\u67d0\u4e2a\u503c\u3002</p> <pre><code>def search(root, value):\n    if root is None or root.value == value:\n        return root\n    if value &lt; root.value:\n        return search(root.left, value)\n    else:\n        return search(root.right, value)\n\n# \u67e5\u627e\u503c\u4e3a4\u7684\u8282\u70b9\nnode = search(root, 4)\nprint(\"\u627e\u5230\u8282\u70b9:\", node.value if node else \"\u672a\u627e\u5230\")\n</code></pre> <p>\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u5220\u9664\u64cd\u4f5c</p> <p>\u5220\u9664\u64cd\u4f5c\u9700\u8981\u5206\u60c5\u51b5\u5904\u7406\uff1a 1. \u5220\u9664\u7684\u8282\u70b9\u662f\u53f6\u5b50\u8282\u70b9\uff1a\u76f4\u63a5\u5220\u9664\u3002 2. \u5220\u9664\u7684\u8282\u70b9\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\uff1a\u7528\u5b50\u8282\u70b9\u66ff\u6362\u8be5\u8282\u70b9\u3002 3. \u5220\u9664\u7684\u8282\u70b9\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\uff1a\u627e\u5230\u53f3\u5b50\u6811\u7684\u6700\u5c0f\u8282\u70b9\uff08\u6216\u5de6\u5b50\u6811\u7684\u6700\u5927\u8282\u70b9\uff09\uff0c\u66ff\u6362\u5220\u9664\u8282\u70b9\uff0c\u5e76\u5220\u9664\u8be5\u6700\u5c0f\u8282\u70b9\u3002</p> <pre><code>def delete(root, value):\n    if root is None:\n        return root\n    if value &lt; root.value:\n        root.left = delete(root.left, value)\n    elif value &gt; root.value:\n        root.right = delete(root.right, value)\n    else:\n        if root.left is None:\n            return root.right\n        elif root.right is None:\n            return root.left\n        min_larger_node = get_min(root.right)\n        root.value = min_larger_node.value\n        root.right = delete(root.right, min_larger_node.value)\n    return root\n\ndef get_min(node):\n    current = node\n    while current.left is not None:\n        current = current.left\n    return current\n\n# \u5220\u9664\u8282\u70b9 3\nroot = delete(root, 3)\n\n# \u5220\u9664\u8282\u70b9\u540e\uff0cBST \u5e94\u8be5\u5982\u4e0b:\n#      5\n#     / \\\n#    4   7\n#   /   / \\\n#  2   6   8\n</code></pre> <p>\u6253\u5370\u4e8c\u53c9\u641c\u7d22\u6811</p> <p>\u4e3a\u4e86\u76f4\u89c2\u5730\u67e5\u770bBST\u7684\u7ed3\u6784\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e2d\u5e8f\u904d\u5386\uff08Inorder Traversal\uff09\u6765\u6253\u5370\u6811\u7684\u8282\u70b9\u3002\u4e2d\u5e8f\u904d\u5386\u4f1a\u6309\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u8f93\u51faBST\u7684\u6240\u6709\u8282\u70b9\u3002</p> <pre><code>def inorder_traversal(root):\n    if root:\n        inorder_traversal(root.left)\n        print(root.value, end=\" \")\n        inorder_traversal(root.right)\n\nprint(\"\u4e2d\u5e8f\u904d\u5386BST:\")\ninorder_traversal(root)  # \u8f93\u51fa: 2 4 5 6 7 8\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>TreeNode: \u5b9a\u4e49\u4e86\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u5305\u542b\u4e00\u4e2a\u503c\u548c\u6307\u5411\u5de6\u3001\u53f3\u5b50\u8282\u70b9\u7684\u6307\u9488\u3002</li> <li>insert: \u63d2\u5165\u65b0\u8282\u70b9\uff0c\u4fdd\u6301BST\u7684\u6027\u8d28\u3002</li> <li>search: \u67e5\u627e\u67d0\u4e2a\u503c\u662f\u5426\u5b58\u5728\u4e8eBST\u4e2d\u3002</li> <li>delete: \u5220\u9664\u8282\u70b9\u5e76\u4fdd\u6301BST\u7684\u6027\u8d28\u3002</li> <li>get_min: \u83b7\u53d6\u5b50\u6811\u4e2d\u7684\u6700\u5c0f\u8282\u70b9\uff0c\u7528\u4e8e\u5220\u9664\u64cd\u4f5c\u3002</li> <li>inorder_traversal: \u4e2d\u5e8f\u904d\u5386BST\uff0c\u6309\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6253\u5370\u8282\u70b9\u503c\u3002</li> </ul> <p>\u6d4b\u8bd5\u8f93\u51fa</p> <pre><code>\u627e\u5230\u8282\u70b9: 4\n\n\u4e2d\u5e8f\u904d\u5386BST:\n2 4 5 6 7 8 \n</code></pre> <p>\u901a\u8fc7\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u4f60\u53ef\u4ee5\u5728Python\u4e2d\u5b9e\u73b0\u4e00\u4e2a\u5b8c\u6574\u7684\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u80fd\u591f\u8fdb\u884c\u63d2\u5165\u3001\u67e5\u627e\u548c\u5220\u9664\u7b49\u64cd\u4f5c\uff0c\u5e76\u4fdd\u6301\u6811\u7684\u6709\u5e8f\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#63-lca","title":"6.3 \u6700\u8fd1\u516c\u5171\u7956\u5148\uff08LCA\uff09","text":"<p>\u6700\u8fd1\u516c\u5171\u7956\u5148\uff08Lowest Common Ancestor\uff0cLCA\uff09\u662f\u4e8c\u53c9\u6811\u4e2d\u4e24\u4e2a\u8282\u70b9\u7684\u6700\u4f4e\uff08\u6700\u6df1\uff09\u516c\u5171\u7956\u5148\u3002\u8fd9\u4e2a\u95ee\u9898\u5728\u6811\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\u975e\u5e38\u5e38\u89c1\uff0c\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u9012\u5f52\u65b9\u6cd5\u6765\u89e3\u51b3\u3002</p> <p>\u65b9\u6cd5\u6982\u8ff0</p> <p>\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\u548c\u4e24\u4e2a\u8282\u70b9 <code>p</code> \u548c <code>q</code>\uff0c\u6211\u4eec\u9700\u8981\u627e\u5230\u5b83\u4eec\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\u3002LCA \u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a - \u8282\u70b9 <code>p</code> \u548c <code>q</code> \u5206\u522b\u4f4d\u4e8eLCA\u7684\u5de6\u53f3\u5b50\u6811\u4e2d\uff0c\u6216\u8005\u5176\u4e2d\u4e00\u4e2a\u8282\u70b9\u5c31\u662fLCA\u672c\u8eab\u3002</p> <p>\u4e8c\u53c9\u6811\u8282\u70b9\u5b9a\u4e49</p> <p>\u9996\u5148\uff0c\u5b9a\u4e49\u4e8c\u53c9\u6811\u7684\u8282\u70b9\u7c7b\uff1a</p> <pre><code>class TreeNode:\n    def __init__(self, value=0, left=None, right=None):\n        self.value = value\n        self.left = left\n        self.right = right\n</code></pre> <p>\u9012\u5f52\u65b9\u6cd5\u5b9e\u73b0\u6700\u8fd1\u516c\u5171\u7956\u5148</p> <p>\u9012\u5f52\u5730\u904d\u5386\u6811\uff0c\u901a\u8fc7\u6bd4\u8f83\u5f53\u524d\u8282\u70b9\u4e0e\u76ee\u6807\u8282\u70b9 <code>p</code> \u548c <code>q</code> \u7684\u5173\u7cfb\uff0c\u9010\u6b65\u627e\u5230\u5b83\u4eec\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\u3002</p> <pre><code>def lowest_common_ancestor(root, p, q):\n    if root is None or root == p or root == q:\n        return root\n\n    left = lowest_common_ancestor(root.left, p, q)\n    right = lowest_common_ancestor(root.right, p, q)\n\n    if left and right:\n        return root\n    return left if left else right\n\n# \u793a\u4f8b\n# \u6784\u5efa\u4e8c\u53c9\u6811\n#        3\n#       / \\\n#      5   1\n#     / \\ / \\\n#    6  2 0  8\n#      / \\\n#     7   4\nroot = TreeNode(3)\nroot.left = TreeNode(5)\nroot.right = TreeNode(1)\nroot.left.left = TreeNode(6)\nroot.left.right = TreeNode(2)\nroot.right.left = TreeNode(0)\nroot.right.right = TreeNode(8)\nroot.left.right.left = TreeNode(7)\nroot.left.right.right = TreeNode(4)\n\n# \u67e5\u627e\u8282\u70b9 5 \u548c 1 \u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\np = root.left  # \u8282\u70b9 5\nq = root.right  # \u8282\u70b9 1\nlca = lowest_common_ancestor(root, p, q)\nprint(\"\u6700\u8fd1\u516c\u5171\u7956\u5148:\", lca.value)  # \u8f93\u51fa 3\n\n# \u67e5\u627e\u8282\u70b9 5 \u548c 4 \u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\np = root.left  # \u8282\u70b9 5\nq = root.left.right.right  # \u8282\u70b9 4\nlca = lowest_common_ancestor(root, p, q)\nprint(\"\u6700\u8fd1\u516c\u5171\u7956\u5148:\", lca.value)  # \u8f93\u51fa 5\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>lowest_common_ancestor:</li> <li>\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e3a <code>None</code> \u6216\u8005\u662f <code>p</code> \u6216 <code>q</code>\uff0c\u5219\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u3002</li> <li>\u9012\u5f52\u5730\u5728\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u4e2d\u67e5\u627e <code>p</code> \u548c <code>q</code>\u3002</li> <li>\u5982\u679c\u5728\u5de6\u53f3\u5b50\u6811\u4e2d\u5206\u522b\u627e\u5230\u4e86 <code>p</code> \u548c <code>q</code>\uff0c\u5219\u5f53\u524d\u8282\u70b9\u5c31\u662f\u5b83\u4eec\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148\u3002</li> <li>\u5982\u679c\u5728\u4e00\u4fa7\u627e\u5230\u4e86\u4e24\u4e2a\u8282\u70b9\u7684\u516c\u5171\u7956\u5148\uff0c\u5219\u8fd4\u56de\u8be5\u4fa7\u7684\u7ed3\u679c\u3002</li> </ul> <p>\u6d4b\u8bd5\u8f93\u51fa</p> <pre><code>\u6700\u8fd1\u516c\u5171\u7956\u5148: 3\n\u6700\u8fd1\u516c\u5171\u7956\u5148: 5\n</code></pre> <p>\u8fdb\u4e00\u6b65\u89e3\u91ca</p> <ul> <li>\u5728\u6811\u7684\u9012\u5f52\u4e2d\uff0c\u5f53\u627e\u5230 <code>p</code> \u6216 <code>q</code> \u65f6\uff0c\u7acb\u5373\u8fd4\u56de\u8be5\u8282\u70b9\u3002</li> <li>\u5982\u679c <code>p</code> \u548c <code>q</code> \u5206\u522b\u4f4d\u4e8e\u67d0\u4e2a\u8282\u70b9\u7684\u5de6\u53f3\u5b50\u6811\u4e2d\uff0c\u5219\u8be5\u8282\u70b9\u5c31\u662fLCA\u3002</li> <li>\u8fd9\u79cd\u65b9\u6cd5\u9002\u7528\u4e8e\u4e00\u822c\u7684\u4e8c\u53c9\u6811\uff0c\u5e76\u4e14\u5177\u6709\u8f83\u597d\u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u4e3a O(n)\uff0c\u5176\u4e2d n \u662f\u6811\u7684\u8282\u70b9\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#64","title":"6.4 \u56fe\u7684\u904d\u5386","text":"<p>\u56fe\u7684\u904d\u5386\u4e3b\u8981\u5305\u62ec\u4e24\u79cd\u7ecf\u5178\u65b9\u6cd5\uff1a\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff08DFS\uff09\u548c\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff08BFS\uff09\u3002\u8fd9\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5e94\u7528\u4e8e\u5404\u79cd\u7c7b\u578b\u7684\u56fe\uff0c\u5305\u62ec\u6709\u5411\u56fe\u548c\u65e0\u5411\u56fe\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1_1","title":"1. \u56fe\u7684\u8868\u793a","text":"<p>\u5728\u56fe\u7684\u904d\u5386\u4e2d\uff0c\u901a\u5e38\u4f7f\u7528\u90bb\u63a5\u8868\uff08Adjacency List\uff09\u6765\u8868\u793a\u56fe\u3002\u4ee5\u4e0b\u662f\u56fe\u7684\u90bb\u63a5\u8868\u8868\u793a\u65b9\u6cd5\u53ca\u57fa\u672c\u7ed3\u6784\uff1a</p> <pre><code>from collections import defaultdict\n\nclass Graph:\n    def __init__(self):\n        self.graph = defaultdict(list)\n\n    def add_edge(self, u, v):\n        self.graph[u].append(v)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2-dfs","title":"2. \u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff08DFS\uff09","text":"<p>DFS\u662f\u4e00\u79cd\u9012\u5f52\u7684\u56fe\u904d\u5386\u65b9\u6cd5\uff0c\u5b83\u5c3d\u53ef\u80fd\u6df1\u5730\u641c\u7d22\u56fe\u7684\u5206\u652f\u3002DFS\u53ef\u4ee5\u7528\u9012\u5f52\u6216\u6808\u6765\u5b9e\u73b0\u3002</p> <p>\u9012\u5f52\u5b9e\u73b0</p> <pre><code>def dfs_recursive(graph, node, visited=None):\n    if visited is None:\n        visited = set()\n    visited.add(node)\n    print(node, end=' ')\n    for neighbor in graph[node]:\n        if neighbor not in visited:\n            dfs_recursive(graph, neighbor, visited)\n\n# \u793a\u4f8b\ng = Graph()\ng.add_edge(0, 1)\ng.add_edge(0, 2)\ng.add_edge(1, 2)\ng.add_edge(2, 0)\ng.add_edge(2, 3)\ng.add_edge(3, 3)\n\nprint(\"DFS\u9012\u5f52\u904d\u5386: \")\ndfs_recursive(g.graph, 2)\n</code></pre> <p>\u8fed\u4ee3\u5b9e\u73b0</p> <pre><code>def dfs_iterative(graph, start):\n    visited = set()\n    stack = [start]\n\n    while stack:\n        node = stack.pop()\n        if node not in visited:\n            print(node, end=' ')\n            visited.add(node)\n            stack.extend(reversed(graph[node]))\n\n# \u793a\u4f8b\nprint(\"\\nDFS\u8fed\u4ee3\u904d\u5386: \")\ndfs_iterative(g.graph, 2)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3-bfs","title":"3. \u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff08BFS\uff09","text":"<p>BFS\u662f\u4e00\u79cd\u5c42\u6b21\u904d\u5386\u65b9\u6cd5\uff0c\u5b83\u4ece\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u9010\u5c42\u5411\u5916\u6269\u5c55\u3002BFS\u901a\u5e38\u4f7f\u7528\u961f\u5217\u6765\u5b9e\u73b0\u3002</p> <pre><code>def bfs(graph, start):\n    visited = set()\n    queue = deque([start])\n\n    while queue:\n        node = queue.popleft()\n        if node not in visited:\n            print(node, end=' ')\n            visited.add(node)\n            queue.extend(graph[node])\n\n# \u793a\u4f8b\nprint(\"\\nBFS\u904d\u5386: \")\nbfs(g.graph, 2)\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>Graph: \u56fe\u7684\u7c7b\uff0c\u4f7f\u7528\u90bb\u63a5\u8868\u8868\u793a\u56fe\u7684\u7ed3\u6784\u3002</li> <li>add_edge: \u6dfb\u52a0\u56fe\u7684\u8fb9\u3002</li> <li>dfs_recursive: \u9012\u5f52\u5b9e\u73b0\u7684\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u3002</li> <li>dfs_iterative: \u8fed\u4ee3\u5b9e\u73b0\u7684\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u3002</li> <li>bfs: \u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u3002</li> </ul> <p>\u793a\u4f8b\u8f93\u51fa</p> <pre><code>DFS\u9012\u5f52\u904d\u5386: \n2 0 1 3 \n\nDFS\u8fed\u4ee3\u904d\u5386: \n2 0 1 3 \n\nBFS\u904d\u5386: \n2 0 3 1 \n</code></pre> <p>\u8fdb\u4e00\u6b65\u89e3\u91ca</p> <ul> <li>DFS\u9002\u7528\u4e8e\u9700\u8981\u63a2\u7d22\u6240\u6709\u8def\u5f84\u7684\u573a\u666f\uff0c\u6bd4\u5982\u8ff7\u5bab\u6c42\u89e3\u6216\u8fde\u901a\u6027\u68c0\u67e5\u3002</li> <li>BFS\u9002\u7528\u4e8e\u627e\u5230\u6700\u77ed\u8def\u5f84\u7b49\u9700\u8981\u9010\u5c42\u6269\u5c55\u7684\u573a\u666f\uff0c\u6bd4\u5982\u6700\u77ed\u8def\u5f84\u7b97\u6cd5\u3002 </li> </ul> <p>\u901a\u8fc7\u8fd9\u4e9b\u5b9e\u73b0\uff0c\u4f60\u53ef\u4ee5\u5728Python\u4e2d\u6709\u6548\u5730\u8fdb\u884c\u56fe\u7684\u904d\u5386\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#65","title":"6.5 \u6700\u77ed\u8def\u5f84\u7b97\u6cd5","text":"<p>\u6700\u77ed\u8def\u5f84\u7b97\u6cd5\u7528\u4e8e\u5728\u56fe\u4e2d\u627e\u5230\u4ece\u4e00\u4e2a\u8d77\u70b9\u5230\u7ec8\u70b9\u7684\u6700\u77ed\u8def\u5f84\u3002\u5e38\u89c1\u7684\u6700\u77ed\u8def\u5f84\u7b97\u6cd5\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ol> <li>Dijkstra\u7b97\u6cd5\uff1a\u9002\u7528\u4e8e\u65e0\u8d1f\u6743\u8fb9\u7684\u56fe\u3002</li> <li>Bellman-Ford\u7b97\u6cd5\uff1a\u9002\u7528\u4e8e\u542b\u8d1f\u6743\u8fb9\u7684\u56fe\uff0c\u53ef\u4ee5\u68c0\u6d4b\u8d1f\u6743\u73af\u3002</li> <li>Floyd-Warshall\u7b97\u6cd5\uff1a\u7528\u4e8e\u8ba1\u7b97\u6240\u6709\u8282\u70b9\u5bf9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1-dijkstra","title":"1. Dijkstra\u7b97\u6cd5","text":"<p>Dijkstra\u7b97\u6cd5\u7528\u4e8e\u8ba1\u7b97\u5355\u6e90\u6700\u77ed\u8def\u5f84\uff0c\u9002\u7528\u4e8e\u65e0\u8d1f\u6743\u8fb9\u7684\u56fe\u3002</p> <pre><code>import heapq\n\ndef dijkstra(graph, start):\n    # \u521d\u59cb\u5316\u6700\u77ed\u8def\u5f84\u5b57\u5178\uff0c\u6240\u6709\u8ddd\u79bb\u8bbe\u4e3a\u6b63\u65e0\u7a77\n    distances = {node: float('inf') for node in graph}\n    distances[start] = 0  # \u8d77\u70b9\u8ddd\u79bb\u4e3a0\n    priority_queue = [(0, start)]  # (\u8ddd\u79bb, \u8282\u70b9)\n\n    while priority_queue:\n        current_distance, current_node = heapq.heappop(priority_queue)\n\n        if current_distance &gt; distances[current_node]:\n            continue\n\n        for neighbor, weight in graph[current_node]:\n            distance = current_distance + weight\n\n            if distance &lt; distances[neighbor]:\n                distances[neighbor] = distance\n                heapq.heappush(priority_queue, (distance, neighbor))\n\n    return distances\n\n# \u793a\u4f8b\u56fe\u7684\u90bb\u63a5\u8868\u8868\u793a\ngraph = {\n    'A': [('B', 1), ('C', 4)],\n    'B': [('A', 1), ('C', 2), ('D', 5)],\n    'C': [('A', 4), ('B', 2), ('D', 1)],\n    'D': [('B', 5), ('C', 1)]\n}\n\n# \u8ba1\u7b97\u4ece\u8282\u70b9 'A' \u51fa\u53d1\u5230\u5176\u4ed6\u6240\u6709\u8282\u70b9\u7684\u6700\u77ed\u8def\u5f84\nprint(\"Dijkstra\u7b97\u6cd5\u7684\u6700\u77ed\u8def\u5f84: \")\ndistances = dijkstra(graph, 'A')\nprint(distances)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2-bellman-ford","title":"2. Bellman-Ford\u7b97\u6cd5","text":"<p>Bellman-Ford\u7b97\u6cd5\u9002\u7528\u4e8e\u5e26\u6709\u8d1f\u6743\u8fb9\u7684\u56fe\uff0c\u53ef\u4ee5\u68c0\u6d4b\u8d1f\u6743\u73af\u3002</p> <pre><code>def bellman_ford(graph, start):\n    distances = {node: float('inf') for node in graph}\n    distances[start] = 0\n\n    for _ in range(len(graph) - 1):\n        for node in graph:\n            for neighbor, weight in graph[node]:\n                if distances[node] + weight &lt; distances[neighbor]:\n                    distances[neighbor] = distances[node] + weight\n\n    # \u68c0\u6d4b\u8d1f\u6743\u73af\n    for node in graph:\n        for neighbor, weight in graph[node]:\n            if distances[node] + weight &lt; distances[neighbor]:\n                raise ValueError(\"\u56fe\u4e2d\u5b58\u5728\u8d1f\u6743\u73af\")\n\n    return distances\n\n# \u793a\u4f8b\u56fe\u7684\u90bb\u63a5\u8868\u8868\u793a\ngraph = {\n    'A': [('B', 1), ('C', 4)],\n    'B': [('A', 1), ('C', 2), ('D', 5)],\n    'C': [('A', 4), ('B', 2), ('D', 1)],\n    'D': [('B', 5), ('C', 1)],\n}\n\n# \u8ba1\u7b97\u4ece\u8282\u70b9 'A' \u51fa\u53d1\u5230\u5176\u4ed6\u6240\u6709\u8282\u70b9\u7684\u6700\u77ed\u8def\u5f84\nprint(\"Bellman-Ford\u7b97\u6cd5\u7684\u6700\u77ed\u8def\u5f84: \")\ndistances = bellman_ford(graph, 'A')\nprint(distances)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3-floyd-warshall","title":"3. Floyd-Warshall\u7b97\u6cd5","text":"<p>Floyd-Warshall\u7b97\u6cd5\u7528\u4e8e\u8ba1\u7b97\u6240\u6709\u8282\u70b9\u5bf9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84\u3002</p> <pre><code>def floyd_warshall(graph):\n    nodes = list(graph.keys())\n    distances = {node: {node2: float('inf') for node2 in nodes} for node in nodes}\n\n    for node in nodes:\n        distances[node][node] = 0\n\n    for node in graph:\n        for neighbor, weight in graph[node]:\n            distances[node][neighbor] = weight\n\n    for k in nodes:\n        for i in nodes:\n            for j in nodes:\n                if distances[i][j] &gt; distances[i][k] + distances[k][j]:\n                    distances[i][j] = distances[i][k] + distances[k][j]\n\n    return distances\n\n# \u793a\u4f8b\u56fe\u7684\u90bb\u63a5\u8868\u8868\u793a\ngraph = {\n    'A': [('B', 1), ('C', 4)],\n    'B': [('C', 2), ('D', 5)],\n    'C': [('D', 1)],\n    'D': []\n}\n\n# \u8ba1\u7b97\u6240\u6709\u8282\u70b9\u5bf9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84\nprint(\"Floyd-Warshall\u7b97\u6cd5\u7684\u6700\u77ed\u8def\u5f84: \")\ndistances = floyd_warshall(graph)\nfor i in distances:\n    print(f\"\u4ece {i} \u51fa\u53d1\u7684\u6700\u77ed\u8def\u5f84: {distances[i]}\")\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>Dijkstra\u7b97\u6cd5\uff1a</li> <li>\u4f7f\u7528\u4f18\u5148\u961f\u5217\uff08\u6700\u5c0f\u5806\uff09\u6765\u9009\u62e9\u5f53\u524d\u6700\u8fd1\u7684\u672a\u5904\u7406\u8282\u70b9\u3002</li> <li> <p>\u66f4\u65b0\u4ece\u8d77\u70b9\u5230\u5176\u4ed6\u8282\u70b9\u7684\u6700\u77ed\u8def\u5f84\u3002</p> </li> <li> <p>Bellman-Ford\u7b97\u6cd5\uff1a</p> </li> <li> <p>\u901a\u8fc7\u9010\u8fb9\u677e\u5f1b\u6cd5\u66f4\u65b0\u8def\u5f84\uff0c\u9002\u7528\u4e8e\u68c0\u6d4b\u8d1f\u6743\u73af\u7684\u56fe\u3002</p> </li> <li> <p>Floyd-Warshall\u7b97\u6cd5\uff1a</p> </li> <li>\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u7684\u601d\u60f3\uff0c\u901a\u8fc7\u4e0d\u65ad\u66f4\u65b0\u6240\u6709\u8282\u70b9\u5bf9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84\u6765\u8ba1\u7b97\u6700\u7ec8\u7ed3\u679c\u3002</li> </ul> <p>\u793a\u4f8b\u8f93\u51fa</p> <pre><code>Dijkstra\u7b97\u6cd5\u7684\u6700\u77ed\u8def\u5f84: \n{'A': 0, 'B': 1, 'C': 3, 'D': 4}\n\nBellman-Ford\u7b97\u6cd5\u7684\u6700\u77ed\u8def\u5f84: \n{'A': 0, 'B': 1, 'C': 3, 'D': 4}\n\nFloyd-Warshall\u7b97\u6cd5\u7684\u6700\u77ed\u8def\u5f84: \n\u4ece A \u51fa\u53d1\u7684\u6700\u77ed\u8def\u5f84: {'A': 0, 'B': 1, 'C': 3, 'D': 4}\n\u4ece B \u51fa\u53d1\u7684\u6700\u77ed\u8def\u5f84: {'A': inf, 'B': 0, 'C': 2, 'D': 3}\n\u4ece C \u51fa\u53d1\u7684\u6700\u77ed\u8def\u5f84: {'A': inf, 'B': inf, 'C': 0, 'D': 1}\n\u4ece D \u51fa\u53d1\u7684\u6700\u77ed\u8def\u5f84: {'A': inf, 'B': inf, 'C': inf, 'D': 0}\n</code></pre> <p>\u901a\u8fc7\u8fd9\u4e9b\u5b9e\u73b0\uff0c\u4f60\u53ef\u4ee5\u5728Python\u4e2d\u6709\u6548\u5730\u8fdb\u884c\u56fe\u7684\u6700\u77ed\u8def\u5f84\u8ba1\u7b97\uff0c\u5e76\u5e94\u7528\u4e8e\u5404\u79cd\u573a\u666f\uff0c\u5982\u8def\u5f84\u89c4\u5212\u548c\u7f51\u7edc\u6d41\u5206\u6790\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#dynamic-programming","title":"\u4e03\u3001 \u52a8\u6001\u89c4\u5212\uff08Dynamic Programming\uff09","text":"<p>\u52a8\u6001\u89c4\u5212\uff08Dynamic Programming, DP\uff09\u662f\u89e3\u51b3\u5f88\u591a\u4f18\u5316\u95ee\u9898\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u4f46\u7406\u89e3\u8d77\u6765\u53ef\u80fd\u6709\u70b9\u590d\u6742\u3002\u4e3a\u4e86\u8ba9\u5b83\u66f4\u5bb9\u6613\u7406\u89e3\uff0c\u6211\u5c06\u901a\u8fc7\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u6765\u8be6\u7ec6\u8bb2\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1_2","title":"1. \u4ec0\u4e48\u662f\u52a8\u6001\u89c4\u5212\uff1f","text":"<p>\u52a8\u6001\u89c4\u5212\u662f\u4e00\u79cd\u5c06\u590d\u6742\u95ee\u9898\u5206\u89e3\u6210\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u7136\u540e\u9010\u6b65\u89e3\u51b3\u8fd9\u4e9b\u5b50\u95ee\u9898\uff0c\u6700\u7ec8\u89e3\u51b3\u6574\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u3002\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\u907f\u514d\u91cd\u590d\u8ba1\u7b97\uff0c\u901a\u8fc7\u5b58\u50a8\u548c\u590d\u7528\u5df2\u7ecf\u8ba1\u7b97\u8fc7\u7684\u7ed3\u679c\u6765\u63d0\u9ad8\u6548\u7387\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2_1","title":"2. \u52a8\u6001\u89c4\u5212\u9002\u7528\u7684\u4e24\u5927\u6761\u4ef6","text":"<ul> <li> <p>\u91cd\u53e0\u5b50\u95ee\u9898\uff1a\u95ee\u9898\u53ef\u4ee5\u5206\u89e3\u6210\u591a\u4e2a\u76f8\u540c\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u7684\u7ed3\u679c\u53ef\u4ee5\u88ab\u591a\u6b21\u5229\u7528\u3002</p> </li> <li> <p>\u6700\u4f18\u5b50\u7ed3\u6784\uff1a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u53ef\u4ee5\u901a\u8fc7\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u7ec4\u5408\u800c\u6210\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3","title":"3. \u52a8\u6001\u89c4\u5212\u7684\u5b9e\u73b0\u6b65\u9aa4","text":"<p>\u52a8\u6001\u89c4\u5212\u4e00\u822c\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u5b9a\u4e49\u72b6\u6001\uff1a\u786e\u5b9a\u7528\u4ec0\u4e48\u53d8\u91cf\u8868\u793a\u95ee\u9898\u7684\u67d0\u4e00\u72b6\u6001\uff0c\u901a\u5e38\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u7ec4\uff08\u8868\u683c\uff09\u6765\u5b58\u50a8\u8fd9\u4e9b\u72b6\u6001\u3002</p> </li> <li> <p>\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\u627e\u51fa\u72b6\u6001\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4e5f\u5c31\u662f\u5982\u4f55\u4ece\u5df2\u77e5\u7684\u72b6\u6001\u5f97\u5230\u5f53\u524d\u7684\u72b6\u6001\u3002\u8fd9\u4e2a\u5173\u7cfb\u5c31\u662f\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002</p> </li> <li> <p>\u521d\u59cb\u5316\u72b6\u6001\uff1a\u8bbe\u5b9a\u521d\u59cb\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u95ee\u9898\u6700\u57fa\u7840\u7684\u60c5\u51b5\u3002</p> </li> <li> <p>\u8ba1\u7b97\u6700\u7ec8\u7ed3\u679c\uff1a\u901a\u8fc7\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff0c\u4ece\u521d\u59cb\u72b6\u6001\u9010\u6b65\u8ba1\u7b97\u51fa\u6700\u7ec8\u7ed3\u679c\u3002</p> </li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#4","title":"4. \u7ecf\u5178\u6848\u4f8b\u8bb2\u89e3","text":"<p>\u6848\u4f8b\u4e00\uff1a\u6590\u6ce2\u90a3\u5951\u6570\u5217</p> <p>\u95ee\u9898\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570 <code>n</code>\uff0c\u6c42\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c <code>n</code> \u9879\u3002\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u5b9a\u4e49\u5982\u4e0b\uff1a - F(0) = 0 - F(1) = 1 - F(n) = F(n-1) + F(n-2) \uff08n \u2265 2\uff09</p> <p>\u9012\u5f52\u7684\u6590\u6ce2\u90a3\u5951\u5b9e\u73b0</p> <pre><code>def fib(n):\n    if n &lt;= 1:\n        return n\n    return fib(n-1) + fib(n-2)\n\nprint(fib(10))  # \u8f93\u51fa55\n</code></pre> <p>\u8fd9\u4e2a\u9012\u5f52\u65b9\u6cd5\u975e\u5e38\u76f4\u89c2\uff0c\u4f46\u5b83\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u6307\u6570\u7ea7\u7684 <code>O(2^n)</code>\uff0c\u56e0\u4e3a\u5f88\u591a\u5b50\u95ee\u9898\u4f1a\u88ab\u91cd\u590d\u8ba1\u7b97\u3002</p> <p>\u52a8\u6001\u89c4\u5212\u7684\u6590\u6ce2\u90a3\u5951\u5b9e\u73b0</p> <pre><code>def fib_dp(n):\n    if n &lt;= 1:\n        return n\n    dp = [0] * (n + 1)\n    dp[1] = 1\n    for i in range(2, n + 1):\n        dp[i] = dp[i - 1] + dp[i - 2]\n    return dp[n]\n\nprint(fib_dp(10))  # \u8f93\u51fa55\n</code></pre> <p>\u5728\u8fd9\u4e2a\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u6570\u7ec4 <code>dp</code> \u6765\u5b58\u50a8\u6bcf\u4e2a\u5b50\u95ee\u9898\u7684\u7ed3\u679c\uff0c\u907f\u514d\u4e86\u91cd\u590d\u8ba1\u7b97\uff0c\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4f4e\u4e3a <code>O(n)</code>\u3002</p> <p>\u6848\u4f8b\u4e8c\uff1a0/1 \u80cc\u5305\u95ee\u9898</p> <p>\u95ee\u9898\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u80cc\u5305\uff0c\u5b83\u80fd\u5bb9\u7eb3\u7684\u6700\u5927\u91cd\u91cf\u4e3a <code>W</code>\u3002\u8fd8\u6709 <code>n</code> \u4e2a\u7269\u54c1\uff0c\u6bcf\u4e2a\u7269\u54c1\u90fd\u6709\u4e00\u4e2a\u91cd\u91cf <code>w[i]</code> \u548c\u4ef7\u503c <code>v[i]</code>\u3002\u4f60\u53ef\u4ee5\u9009\u62e9\u5c06\u8fd9\u4e9b\u7269\u54c1\u4e2d\u7684\u4e00\u4e9b\u88c5\u5165\u80cc\u5305\uff0c\u5982\u4f55\u4f7f\u5f97\u80cc\u5305\u4e2d\u7684\u7269\u54c1\u4ef7\u503c\u6700\u5927\u5316\uff1f</p> <p>\u52a8\u6001\u89c4\u5212\u7684\u89e3\u51b3\u65b9\u6848</p> <ol> <li>\u5b9a\u4e49\u72b6\u6001\uff1a</li> <li> <p>\u7528 <code>dp[i][w]</code> \u8868\u793a\u524d <code>i</code> \u4e2a\u7269\u54c1\u5728\u80cc\u5305\u5bb9\u91cf\u4e3a <code>w</code> \u65f6\u7684\u6700\u5927\u4ef7\u503c\u3002</p> </li> <li> <p>\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a</p> </li> <li>\u5982\u679c\u4e0d\u9009\u62e9\u7b2c <code>i</code> \u4e2a\u7269\u54c1\uff1a<code>dp[i][w] = dp[i-1][w]</code></li> <li>\u5982\u679c\u9009\u62e9\u7b2c <code>i</code> \u4e2a\u7269\u54c1\uff1a<code>dp[i][w] = dp[i-1][w-w[i]] + v[i]</code></li> <li> <p>\u6700\u7ec8\uff1a<code>dp[i][w] = max(dp[i-1][w], dp[i-1][w-w[i]] + v[i])</code></p> </li> <li> <p>\u521d\u59cb\u5316\uff1a</p> </li> <li><code>dp[0][...] = 0</code> \uff08\u6ca1\u6709\u7269\u54c1\u65f6\u7684\u6700\u5927\u4ef7\u503c\u4e3a 0\uff09</li> <li> <p><code>dp[...][0] = 0</code> \uff08\u80cc\u5305\u5bb9\u91cf\u4e3a 0 \u65f6\u7684\u6700\u5927\u4ef7\u503c\u4e3a 0\uff09</p> </li> <li> <p>\u8ba1\u7b97\u6700\u7ec8\u7ed3\u679c\uff1a</p> </li> <li>\u6700\u7ec8\u7684\u6700\u5927\u4ef7\u503c\u662f <code>dp[n][W]</code>\u3002</li> </ol> <pre><code>def knapsack(w, v, W):\n    n = len(w)\n    dp = [[0] * (W + 1) for _ in range(n + 1)]\n\n    for i in range(1, n + 1):\n        for j in range(W + 1):\n            if j &gt;= w[i - 1]:\n                dp[i][j] = max(dp[i-1][j], dp[i-1][j-w[i-1]] + v[i-1])\n            else:\n                dp[i][j] = dp[i-1][j]\n\n    return dp[n][W]\n\nw = [2, 3, 4, 5]\nv = [3, 4, 5, 6]\nW = 5\nprint(knapsack(w, v, W))  # \u8f93\u51fa7\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#5","title":"5. \u52a8\u6001\u89c4\u5212\u5e38\u89c1\u95ee\u9898\u603b\u7ed3","text":"<ol> <li>\u7406\u89e3\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\u8fd9\u662f\u52a8\u6001\u89c4\u5212\u7684\u6838\u5fc3\uff0c\u5fc5\u987b\u6e05\u695a\u6bcf\u4e00\u6b65\u662f\u5982\u4f55\u901a\u8fc7\u524d\u4e00\u6b65\u5f97\u5230\u7684\u3002</li> <li>\u7a7a\u95f4\u4f18\u5316\uff1a\u6709\u4e9b\u65f6\u5019\u53ef\u4ee5\u5bf9\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u8fdb\u884c\u4f18\u5316\uff0c\u51cf\u5c11\u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u6bd4\u5982\u4f7f\u7528\u6eda\u52a8\u6570\u7ec4\u3002</li> <li>\u8bc6\u522b\u52a8\u6001\u89c4\u5212\u95ee\u9898\uff1a\u901a\u5e38\u9700\u8981\u4f18\u5316\u7684\u95ee\u9898\uff0c\u6709\u6700\u4f18\u5b50\u7ed3\u6784\u548c\u91cd\u53e0\u5b50\u95ee\u9898\u7684\u7279\u6027\uff0c\u90fd\u53ef\u4ee5\u8003\u8651\u7528\u52a8\u6001\u89c4\u5212\u6765\u89e3\u51b3\u3002</li> </ol>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#6-lcs","title":"6. \u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff08LCS\uff09","text":"<p>\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff08Longest Common Subsequence, LCS\uff09\u95ee\u9898\u662f\u7ecf\u5178\u7684\u52a8\u6001\u89c4\u5212\u95ee\u9898\u3002LCS\u6307\u7684\u662f\u4e24\u4e2a\u5e8f\u5217\u4e2d\u6700\u957f\u7684\u516c\u5171\u5b50\u5e8f\u5217\uff0c\u5373\u5728\u4fdd\u6301\u987a\u5e8f\u4e0d\u53d8\u7684\u524d\u63d0\u4e0b\uff0c\u8fd9\u4e24\u4e2a\u5e8f\u5217\u4e2d\u90fd\u51fa\u73b0\u8fc7\u7684\u6700\u957f\u7684\u5b50\u5e8f\u5217\u3002</p> <p>1. \u95ee\u9898\u63cf\u8ff0</p> <p>\u7ed9\u5b9a\u4e24\u4e2a\u5b57\u7b26\u4e32 <code>X</code> \u548c <code>Y</code>\uff0c\u627e\u51fa\u5b83\u4eec\u7684\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u3002</p> <p>\u4f8b\u5982\uff1a - \u8f93\u5165\uff1a<code>X = \"ABCBDAB\"</code> \u548c <code>Y = \"BDCAB\"</code> - \u8f93\u51fa\uff1a<code>\"BDAB\"</code> \u6216 <code>\"BCAB\"</code>\uff08\u957f\u5ea6\u4e3a 4\uff09</p> <p>2. \u52a8\u6001\u89c4\u5212\u89e3\u6cd5</p> <p>\u72b6\u6001\u5b9a\u4e49</p> <ul> <li>\u5b9a\u4e49 <code>dp[i][j]</code> \u8868\u793a\u5b57\u7b26\u4e32 <code>X</code> \u7684\u524d <code>i</code> \u4e2a\u5b57\u7b26\u548c\u5b57\u7b26\u4e32 <code>Y</code> \u7684\u524d <code>j</code> \u4e2a\u5b57\u7b26\u7684\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u7684\u957f\u5ea6\u3002</li> </ul> <p>\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b</p> <ul> <li>\u5982\u679c <code>X[i-1] == Y[j-1]</code>\uff0c\u5219 <code>dp[i][j] = dp[i-1][j-1] + 1</code>\u3002</li> <li>\u5982\u679c <code>X[i-1] != Y[j-1]</code>\uff0c\u5219 <code>dp[i][j] = max(dp[i-1][j], dp[i][j-1])</code>\u3002</li> </ul> <p>\u521d\u59cb\u5316</p> <ul> <li><code>dp[0][j] = 0</code> \u8868\u793a <code>X</code> \u4e3a\u7a7a\u4e32\u65f6 LCS \u957f\u5ea6\u4e3a 0\u3002</li> <li><code>dp[i][0] = 0</code> \u8868\u793a <code>Y</code> \u4e3a\u7a7a\u4e32\u65f6 LCS \u957f\u5ea6\u4e3a 0\u3002</li> </ul> <p>3. \u5b9e\u73b0\u4ee3\u7801</p> <pre><code>def lcs(X, Y):\n    m = len(X)\n    n = len(Y)\n\n    # \u521b\u5efa\u4e00\u4e2a (m+1) x (n+1) \u7684\u4e8c\u7ef4\u6570\u7ec4\u6765\u5b58\u50a8\u7ed3\u679c\n    dp = [[0] * (n + 1) for _ in range(m + 1)]\n\n    # \u586b\u5145 dp \u8868\n    for i in range(1, m + 1):\n        for j in range(1, n + 1):\n            if X[i - 1] == Y[j - 1]:\n                dp[i][j] = dp[i - 1][j - 1] + 1\n            else:\n                dp[i][j] = max(dp[i - 1][j], dp[i][j - 1])\n\n    # \u53cd\u5411\u83b7\u53d6LCS\u5b57\u7b26\u4e32\n    lcs_string = []\n    i, j = m, n\n    while i &gt; 0 and j &gt; 0:\n        if X[i - 1] == Y[j - 1]:\n            lcs_string.append(X[i - 1])\n            i -= 1\n            j -= 1\n        elif dp[i - 1][j] &gt; dp[i][j - 1]:\n            i -= 1\n        else:\n            j -= 1\n\n    return dp[m][n], ''.join(reversed(lcs_string))\n\n# \u793a\u4f8b\u4f7f\u7528\nX = \"ABCBDAB\"\nY = \"BDCAB\"\nlength, lcs_string = lcs(X, Y)\nprint(f\"LCS\u957f\u5ea6: {length}\")\nprint(f\"LCS\u5b57\u7b26\u4e32: {lcs_string}\")\n</code></pre> <p>4. \u793a\u4f8b\u8f93\u51fa</p> <pre><code>LCS\u957f\u5ea6: 4\nLCS\u5b57\u7b26\u4e32: BCAB\n</code></pre> <p>5. \u4ee3\u7801\u89e3\u91ca</p> <ul> <li>dp\u6570\u7ec4\uff1a<code>dp[i][j]</code> \u5b58\u50a8 <code>X</code> \u7684\u524d <code>i</code> \u4e2a\u5b57\u7b26\u548c <code>Y</code> \u7684\u524d <code>j</code> \u4e2a\u5b57\u7b26\u7684 LCS \u957f\u5ea6\u3002</li> <li>\u72b6\u6001\u8f6c\u79fb\uff1a\u6839\u636e <code>X[i-1]</code> \u548c <code>Y[j-1]</code> \u662f\u5426\u76f8\u7b49\u6765\u66f4\u65b0 <code>dp</code> \u6570\u7ec4\u3002</li> <li>\u6784\u9020LCS\u5b57\u7b26\u4e32\uff1a\u901a\u8fc7\u53cd\u5411\u904d\u5386 <code>dp</code> \u6570\u7ec4\u6765\u91cd\u5efa LCS\u3002</li> </ul> <p>6. \u590d\u6742\u5ea6\u5206\u6790</p> <ul> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a<code>O(m * n)</code>\uff0c\u5176\u4e2d <code>m</code> \u548c <code>n</code> \u5206\u522b\u662f <code>X</code> \u548c <code>Y</code> \u7684\u957f\u5ea6\u3002</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a<code>O(m * n)</code>\uff0c\u7528\u4e8e\u5b58\u50a8 <code>dp</code> \u6570\u7ec4\u3002</li> </ul> <p>\u8fd9\u4e2a\u65b9\u6cd5\u65e2\u80fd\u6c42\u51fa LCS \u7684\u957f\u5ea6\uff0c\u4e5f\u80fd\u627e\u5230\u5bf9\u5e94\u7684\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#7-lis","title":"7. \u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\uff08LIS\uff09","text":"<p>\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\uff08Longest Increasing Subsequence, LIS\uff09\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u52a8\u6001\u89c4\u5212\u95ee\u9898\u3002\u7ed9\u5b9a\u4e00\u4e2a\u5e8f\u5217\uff0c\u627e\u5230\u4e00\u4e2a\u6700\u957f\u7684\u5b50\u5e8f\u5217\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u5b50\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u662f\u4e25\u683c\u9012\u589e\u7684\u3002</p> <p>1. \u95ee\u9898\u63cf\u8ff0</p> <p>\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u5e8f\u5217\uff0c\u627e\u5230\u5176\u4e2d\u6700\u957f\u7684\u4e25\u683c\u9012\u589e\u7684\u5b50\u5e8f\u5217\u3002\u4f8b\u5982\uff1a - \u8f93\u5165\uff1a<code>[10, 9, 2, 5, 3, 7, 101, 18]</code> - \u8f93\u51fa\uff1a<code>[2, 3, 7, 101]</code>\uff0c\u957f\u5ea6\u4e3a 4\u3002</p> <p>2. \u52a8\u6001\u89c4\u5212\u89e3\u6cd5</p> <p>\u72b6\u6001\u5b9a\u4e49</p> <ul> <li>\u5b9a\u4e49 <code>dp[i]</code> \u8868\u793a\u4ee5 <code>nums[i]</code> \u7ed3\u5c3e\u7684\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\u7684\u957f\u5ea6\u3002</li> </ul> <p>\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b</p> <ul> <li>\u5bf9\u4e8e\u6bcf\u4e2a <code>j</code>\uff0c\u5982\u679c <code>nums[i] &gt; nums[j]</code>\uff0c\u5219 <code>dp[i] = max(dp[i], dp[j] + 1)</code>\u3002</li> </ul> <p>\u521d\u59cb\u5316</p> <ul> <li><code>dp[i] = 1</code>\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u53ef\u4ee5\u5355\u72ec\u6210\u4e3a\u4e00\u4e2a\u957f\u5ea6\u4e3a 1 \u7684\u5b50\u5e8f\u5217\u3002</li> </ul> <p>3. \u5b9e\u73b0\u4ee3\u7801</p> <pre><code>def length_of_lis(nums):\n    if not nums:\n        return 0\n\n    n = len(nums)\n    dp = [1] * n\n\n    for i in range(1, n):\n        for j in range(i):\n            if nums[i] &gt; nums[j]:\n                dp[i] = max(dp[i], dp[j] + 1)\n\n    return max(dp)\n\n# \u793a\u4f8b\u4f7f\u7528\nnums = [10, 9, 2, 5, 3, 7, 101, 18]\nprint(f\"LIS\u957f\u5ea6: {length_of_lis(nums)}\")\n</code></pre> <p>4. \u793a\u4f8b\u8f93\u51fa</p> <pre><code>LIS\u957f\u5ea6: 4\n</code></pre> <p>5. \u4ee3\u7801\u89e3\u91ca</p> <ul> <li>dp\u6570\u7ec4\uff1a<code>dp[i]</code> \u5b58\u50a8\u4ee5 <code>nums[i]</code> \u7ed3\u5c3e\u7684\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\u7684\u957f\u5ea6\u3002</li> <li>\u72b6\u6001\u8f6c\u79fb\uff1a\u5bf9\u4e8e\u6bcf\u4e2a <code>i</code>\uff0c\u68c0\u67e5\u6240\u6709 <code>j &lt; i</code> \u7684\u60c5\u51b5\uff0c\u5982\u679c <code>nums[i] &gt; nums[j]</code>\uff0c\u66f4\u65b0 <code>dp[i]</code>\u3002</li> <li>\u8fd4\u56de\u503c\uff1a<code>max(dp)</code> \u662f\u6574\u4e2a\u5e8f\u5217\u7684\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\u7684\u957f\u5ea6\u3002</li> </ul> <p>6. \u590d\u6742\u5ea6\u5206\u6790</p> <ul> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a<code>O(n^2)</code>\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5143\u7d20\u90fd\u8981\u4e0e\u4e4b\u524d\u7684\u5143\u7d20\u8fdb\u884c\u6bd4\u8f83\u3002</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a<code>O(n)</code>\uff0c\u7528\u4e8e\u5b58\u50a8 <code>dp</code> \u6570\u7ec4\u3002</li> </ul> <p>7. \u4e8c\u5206\u6cd5\u4f18\u5316</p> <p>\u901a\u8fc7\u4f7f\u7528\u4e8c\u5206\u67e5\u627e\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u4f18\u5316\u4e3a <code>O(n log n)</code>\u3002\u8fd9\u91cc\u7684\u601d\u8def\u662f\u7528\u4e00\u4e2a\u6570\u7ec4 <code>lis</code> \u6765\u8bb0\u5f55\u5f53\u524d\u627e\u5230\u7684\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\uff0c\u5982\u679c\u65b0\u5143\u7d20\u6bd4 <code>lis</code> \u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5927\uff0c\u5c31\u628a\u5b83\u52a0\u5230 <code>lis</code> \u7684\u672b\u5c3e\uff1b\u5426\u5219\u7528\u4e8c\u5206\u67e5\u627e\u627e\u5230 <code>lis</code> \u4e2d\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e\u5b83\u7684\u5143\u7d20\u5e76\u66ff\u6362\u6389\uff0c\u8fd9\u6837\u786e\u4fdd <code>lis</code> \u4e2d\u7684\u5143\u7d20\u59cb\u7ec8\u662f\u9012\u589e\u7684\u3002</p> <pre><code>import bisect\n\ndef length_of_lis(nums):\n    lis = []\n    for num in nums:\n        pos = bisect.bisect_left(lis, num)\n        if pos &lt; len(lis):\n            lis[pos] = num\n        else:\n            lis.append(num)\n    return len(lis)\n\n# \u793a\u4f8b\u4f7f\u7528\nnums = [10, 9, 2, 5, 3, 7, 101, 18]\nprint(f\"LIS\u957f\u5ea6: {length_of_lis(nums)}\")\n</code></pre> <p>8. \u4e8c\u5206\u6cd5\u4f18\u5316\u7684\u8f93\u51fa</p> <pre><code>LIS\u957f\u5ea6: 4\n</code></pre> <p>9. \u590d\u6742\u5ea6\u5206\u6790</p> <ul> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a<code>O(n log n)</code>\uff0c\u56e0\u4e3a\u6bcf\u6b21\u63d2\u5165\u5143\u7d20\u65f6\u4f7f\u7528\u4e86\u4e8c\u5206\u67e5\u627e\u3002</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a<code>O(n)</code>\uff0c\u7528\u4e8e\u5b58\u50a8 <code>lis</code> \u5217\u8868\u3002</li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0a\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u6709\u6548\u5730\u8ba1\u7b97\u4e00\u4e2a\u5e8f\u5217\u4e2d\u7684\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#8","title":"8. \u786c\u5e01\u627e\u96f6\u95ee\u9898","text":"<p>\u786c\u5e01\u627e\u96f6\u95ee\u9898\u662f\u4e00\u4e2a\u7ecf\u5178\u7684\u52a8\u6001\u89c4\u5212\u95ee\u9898\u3002\u7ed9\u5b9a\u4e0d\u540c\u9762\u503c\u7684\u786c\u5e01\u548c\u4e00\u4e2a\u603b\u91d1\u989d\uff0c\u8ba1\u7b97\u51d1\u6210\u8be5\u91d1\u989d\u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570\u3002</p> <p>1. \u95ee\u9898\u63cf\u8ff0</p> <p>\u7ed9\u5b9a\u91d1\u989d <code>amount</code> \u548c\u4e00\u4e9b\u786c\u5e01\u9762\u503c <code>coins</code>\uff0c\u6c42\u51fa\u51d1\u6210\u8be5\u91d1\u989d\u7684\u6700\u5c11\u786c\u5e01\u6570\u3002\u5982\u679c\u65e0\u6cd5\u51d1\u6210\uff0c\u5219\u8fd4\u56de -1\u3002</p> <p>2. \u52a8\u6001\u89c4\u5212\u89e3\u6cd5</p> <p>\u72b6\u6001\u5b9a\u4e49</p> <ul> <li>\u5b9a\u4e49 <code>dp[i]</code> \u8868\u793a\u51d1\u6210\u91d1\u989d <code>i</code> \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570\u3002</li> </ul> <p>\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b</p> <ul> <li>\u5bf9\u4e8e\u6bcf\u4e2a\u786c\u5e01\u9762\u503c <code>coin</code>\uff0c\u5982\u679c <code>i &gt;= coin</code>\uff0c\u5219 <code>dp[i] = min(dp[i], dp[i - coin] + 1)</code>\u3002</li> </ul> <p>\u521d\u59cb\u5316</p> <ul> <li><code>dp[0] = 0</code> \u8868\u793a\u91d1\u989d\u4e3a 0 \u65f6\u4e0d\u9700\u8981\u4efb\u4f55\u786c\u5e01\u3002</li> <li>\u5176\u4ed6 <code>dp[i]</code> \u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u6570\uff08\u5982 <code>amount + 1</code>\uff09\uff0c\u8868\u793a\u5c1a\u672a\u8ba1\u7b97\u51fa\u7684\u6700\u5c11\u786c\u5e01\u6570\u3002</li> </ul> <p>3. \u5b9e\u73b0\u4ee3\u7801</p> <pre><code>def coin_change(coins, amount):\n    # \u521d\u59cb\u5316dp\u6570\u7ec4\uff0cdp[i] \u8868\u793a\u51d1\u6210\u91d1\u989di\u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570\n    dp = [amount + 1] * (amount + 1)\n    dp[0] = 0\n\n    # \u8ba1\u7b97\u6bcf\u4e2a\u91d1\u989d\u7684\u6700\u5c11\u786c\u5e01\u6570\n    for i in range(1, amount + 1):\n        for coin in coins:\n            if i &gt;= coin:\n                dp[i] = min(dp[i], dp[i - coin] + 1)\n\n    # \u5982\u679c dp[amount] \u4ecd\u7136\u4e3a\u521d\u59cb\u5316\u7684\u503c\uff0c\u8bf4\u660e\u65e0\u6cd5\u51d1\u6210\u8be5\u91d1\u989d\n    return dp[amount] if dp[amount] != amount + 1 else -1\n\n# \u793a\u4f8b\u4f7f\u7528\ncoins = [1, 2, 5]\namount = 11\nprint(f\"\u51d1\u6210\u91d1\u989d {amount} \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570: {coin_change(coins, amount)}\")\n</code></pre> <p>4. \u793a\u4f8b\u8f93\u51fa</p> <pre><code>\u51d1\u6210\u91d1\u989d 11 \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570: 3\n</code></pre> <p>5. \u4ee3\u7801\u89e3\u91ca</p> <ul> <li>dp\u6570\u7ec4\uff1a<code>dp[i]</code> \u8868\u793a\u51d1\u6210\u91d1\u989d <code>i</code> \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570\u3002</li> <li>\u72b6\u6001\u8f6c\u79fb\uff1a\u904d\u5386\u6240\u6709\u786c\u5e01\uff0c\u66f4\u65b0 <code>dp[i]</code> \u4e3a\u6700\u5c0f\u503c\u3002</li> <li>\u8fd4\u56de\u503c\uff1a\u5982\u679c <code>dp[amount]</code> \u672a\u88ab\u66f4\u65b0\uff0c\u8bf4\u660e\u65e0\u6cd5\u51d1\u6210\u8be5\u91d1\u989d\uff0c\u5426\u5219\u8fd4\u56de <code>dp[amount]</code>\u3002</li> </ul> <p>6. \u590d\u6742\u5ea6\u5206\u6790</p> <ul> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a<code>O(n * m)</code>\uff0c\u5176\u4e2d <code>n</code> \u662f\u91d1\u989d <code>amount</code>\uff0c<code>m</code> \u662f\u786c\u5e01\u79cd\u7c7b\u6570\u3002</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a<code>O(n)</code>\uff0c\u7528\u4e8e\u5b58\u50a8 <code>dp</code> \u6570\u7ec4\u3002</li> </ul> <p>7. \u6269\u5c55\uff1a\u83b7\u53d6\u5177\u4f53\u7684\u786c\u5e01\u7ec4\u5408</p> <p>\u5982\u679c\u4e0d\u4ec5\u8981\u77e5\u9053\u6700\u5c11\u786c\u5e01\u6570\uff0c\u8fd8\u8981\u77e5\u9053\u5177\u4f53\u7684\u786c\u5e01\u7ec4\u5408\uff0c\u53ef\u4ee5\u901a\u8fc7\u989d\u5916\u7684\u6570\u7ec4 <code>track</code> \u6765\u8bb0\u5f55\u4f7f\u7528\u7684\u786c\u5e01\u3002</p> <pre><code>def coin_change(coins, amount):\n    dp = [amount + 1] * (amount + 1)\n    dp[0] = 0\n    track = [-1] * (amount + 1)  # \u8bb0\u5f55\u6bcf\u4e2a\u91d1\u989d\u9009\u62e9\u7684\u6700\u540e\u4e00\u4e2a\u786c\u5e01\n\n    for i in range(1, amount + 1):\n        for coin in coins:\n            if i &gt;= coin and dp[i] &gt; dp[i - coin] + 1:\n                dp[i] = dp[i - coin] + 1\n                track[i] = coin\n\n    if dp[amount] == amount + 1:\n        return -1, []\n\n    # \u53cd\u5411\u63a8\u5bfc\u5177\u4f53\u7684\u786c\u5e01\u7ec4\u5408\n    combination = []\n    curr = amount\n    while curr &gt; 0:\n        combination.append(track[curr])\n        curr -= track[curr]\n\n    return dp[amount], combination\n\n# \u793a\u4f8b\u4f7f\u7528\ncoins = [1, 2, 5]\namount = 11\nmin_coins, combination = coin_change(coins, amount)\nprint(f\"\u51d1\u6210\u91d1\u989d {amount} \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570: {min_coins}\")\nprint(f\"\u4f7f\u7528\u7684\u786c\u5e01\u7ec4\u5408: {combination}\")\n</code></pre> <p>8. \u6269\u5c55\u793a\u4f8b\u8f93\u51fa</p> <pre><code>\u51d1\u6210\u91d1\u989d 11 \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570: 3\n\u4f7f\u7528\u7684\u786c\u5e01\u7ec4\u5408: [5, 5, 1]\n</code></pre> <p>\u8fd9\u4e2a\u6269\u5c55\u7248\u672c\u4e0d\u4ec5\u544a\u8bc9\u4f60\u6700\u5c11\u9700\u8981\u591a\u5c11\u4e2a\u786c\u5e01\uff0c\u8fd8\u7ed9\u51fa\u4e86\u4e00\u4e2a\u5177\u4f53\u7684\u786c\u5e01\u7ec4\u5408\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u786c\u5e01\u627e\u96f6\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#greedy-algorithms","title":"\u516b\u3001\u8d2a\u5fc3\u7b97\u6cd5\uff08Greedy Algorithms\uff09","text":"<p>\u8d2a\u5fc3\u7b97\u6cd5\uff08Greedy Algorithm\uff09\u662f\u4e00\u79cd\u7b97\u6cd5\u8bbe\u8ba1\u601d\u60f3\uff0c\u5b83\u901a\u8fc7\u5728\u6bcf\u4e00\u6b65\u9009\u62e9\u4e2d\u90fd\u91c7\u53d6\u5f53\u524d\u72b6\u6001\u4e0b\u7684\u6700\u4f18\u9009\u62e9\uff08\u5c40\u90e8\u6700\u4f18\u89e3\uff09\uff0c\u6700\u7ec8\u8bd5\u56fe\u5f97\u5230\u5168\u5c40\u6700\u4f18\u89e3\u3002\u867d\u7136\u8d2a\u5fc3\u7b97\u6cd5\u5e76\u4e0d\u603b\u80fd\u5f97\u5230\u5168\u5c40\u6700\u4f18\u89e3\uff0c\u4f46\u5728\u5f88\u591a\u95ee\u9898\u4e2d\uff0c\u5b83\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u6709\u6548\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5c24\u5176\u662f\u5728\u67d0\u4e9b\u4f18\u5316\u95ee\u9898\u4e2d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1_3","title":"1. \u8d2a\u5fc3\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3","text":"<p>\u8d2a\u5fc3\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u662f\u5728\u89e3\u51b3\u95ee\u9898\u7684\u8fc7\u7a0b\u4e2d\uff0c\u603b\u662f\u505a\u51fa\u5728\u5f53\u524d\u770b\u6765\u662f\u6700\u597d\u7684\u9009\u62e9\uff0c\u5373\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u5e0c\u671b\u901a\u8fc7\u8fd9\u4e9b\u5c40\u90e8\u6700\u4f18\u89e3\u6700\u7ec8\u80fd\u5f97\u5230\u5168\u5c40\u6700\u4f18\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2_2","title":"2. \u8d2a\u5fc3\u7b97\u6cd5\u7684\u9002\u7528\u573a\u666f","text":"<p>\u8d2a\u5fc3\u7b97\u6cd5\u901a\u5e38\u9002\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a - \u95ee\u9898\u5177\u6709\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\uff1a\u6bcf\u4e2a\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u80fd\u76f4\u63a5\u6216\u95f4\u63a5\u5730\u5bfc\u51fa\u6574\u4f53\u95ee\u9898\u7684\u6700\u4f18\u89e3\u3002 - \u95ee\u9898\u5177\u6709\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\uff1a\u6574\u4f53\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5305\u542b\u5176\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3_1","title":"3. \u5178\u578b\u95ee\u9898","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#31-coin-change-problem","title":"3.1. \u96f6\u94b1\u627e\u96f6\u95ee\u9898\uff08Coin Change Problem\uff09","text":"<p>\u5728\u96f6\u94b1\u627e\u96f6\u95ee\u9898\u4e2d\uff0c\u5047\u8bbe\u4f60\u6709\u65e0\u9650\u591a\u7684\u9762\u503c\u4e3a <code>1, 5, 10, 25</code> \u7684\u786c\u5e01\uff0c\u95ee\u5982\u4f55\u7528\u6700\u5c11\u7684\u786c\u5e01\u6570\u91cf\u51d1\u6210\u4e00\u4e2a\u7279\u5b9a\u7684\u91d1\u989d\u3002\u4f8b\u5982\uff0c\u7528\u6700\u5c11\u7684\u786c\u5e01\u51d1\u6210\u91d1\u989d <code>41</code>\u3002</p> <p>\u8d2a\u5fc3\u7b97\u6cd5\u601d\u8def\uff1a - \u6bcf\u6b21\u90fd\u5c3d\u91cf\u9009\u62e9\u5f53\u524d\u9762\u503c\u6700\u5927\u7684\u786c\u5e01\uff0c\u76f4\u5230\u91d1\u989d\u4e3a\u96f6\u3002</p> <p>Python \u5b9e\u73b0\uff1a</p> <pre><code>def greedy_coin_change(coins, amount):\n    coins.sort(reverse=True)  # \u5c06\u786c\u5e01\u9762\u503c\u964d\u5e8f\u6392\u5217\n    count = 0\n    for coin in coins:\n        if amount &gt;= coin:\n            count += amount // coin\n            amount %= coin\n    return count\n\n# \u793a\u4f8b\u4f7f\u7528\ncoins = [25, 10, 5, 1]\namount = 41\nprint(f\"\u51d1\u6210\u91d1\u989d {amount} \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570: {greedy_coin_change(coins, amount)}\")\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>\u51d1\u6210\u91d1\u989d 41 \u6240\u9700\u7684\u6700\u5c11\u786c\u5e01\u6570: 4\n</code></pre> <p>\u6ce8\u610f\uff1a\u8d2a\u5fc3\u7b97\u6cd5\u5728\u89e3\u51b3\u96f6\u94b1\u627e\u96f6\u95ee\u9898\u65f6\uff0c\u5fc5\u987b\u6ee1\u8db3\u786c\u5e01\u9762\u503c\u662f\u7279\u5b9a\u60c5\u51b5\uff08\u5982 <code>1, 5, 10, 25</code> \uff09\uff0c\u624d\u53ef\u4ee5\u4fdd\u8bc1\u6700\u4f18\u89e3\u3002\u5728\u67d0\u4e9b\u786c\u5e01\u7ec4\u5408\u4e0b\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u53ef\u80fd\u65e0\u6cd5\u627e\u5230\u6700\u4f18\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#32-activity-selection-problem","title":"3.2. \u6d3b\u52a8\u9009\u62e9\u95ee\u9898\uff08Activity Selection Problem\uff09","text":"<p>\u5728\u6d3b\u52a8\u9009\u62e9\u95ee\u9898\u4e2d\uff0c\u7ed9\u5b9a\u4e00\u7ec4\u6d3b\u52a8\uff0c\u6bcf\u4e2a\u6d3b\u52a8\u6709\u4e00\u4e2a\u5f00\u59cb\u65f6\u95f4\u548c\u7ed3\u675f\u65f6\u95f4\uff0c\u95ee\u6700\u591a\u80fd\u5b89\u6392\u591a\u5c11\u4e2a\u4e0d\u91cd\u53e0\u7684\u6d3b\u52a8\u3002</p> <p>\u8d2a\u5fc3\u7b97\u6cd5\u601d\u8def\uff1a - \u6bcf\u6b21\u9009\u62e9\u7ed3\u675f\u65f6\u95f4\u6700\u65e9\u7684\u6d3b\u52a8\uff0c\u8fd9\u6837\u53ef\u4ee5\u7559\u51fa\u6700\u591a\u7684\u65f6\u95f4\u7ed9\u540e\u7eed\u7684\u6d3b\u52a8\u3002</p> <p>Python \u5b9e\u73b0\uff1a</p> <pre><code>def activity_selection(activities):\n    # \u6309\u7167\u7ed3\u675f\u65f6\u95f4\u6392\u5e8f\n    activities.sort(key=lambda x: x[1])\n\n    selected_activities = []\n    last_end_time = 0\n\n    for activity in activities:\n        if activity[0] &gt;= last_end_time:\n            selected_activities.append(activity)\n            last_end_time = activity[1]\n\n    return selected_activities\n\n# \u793a\u4f8b\u4f7f\u7528\nactivities = [(1, 4), (3, 5), (0, 6), (5, 7), (3, 8), (5, 9), (6, 10), (8, 11), (8, 12), (2, 13), (12, 14)]\nselected = activity_selection(activities)\nprint(f\"\u9009\u62e9\u7684\u6d3b\u52a8: {selected}\")\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>\u9009\u62e9\u7684\u6d3b\u52a8: [(1, 4), (5, 7), (8, 11), (12, 14)]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#4_1","title":"4. \u8d2a\u5fc3\u7b97\u6cd5\u7684\u4f18\u7f3a\u70b9","text":"<p>\u4f18\u70b9\uff1a</p> <ul> <li>\u7b97\u6cd5\u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0\u3002</li> <li>\u5bf9\u4e8e\u7279\u5b9a\u7c7b\u578b\u7684\u95ee\u9898\uff0c\u80fd\u63d0\u4f9b\u9ad8\u6548\u7684\u89e3\u51b3\u65b9\u6848\u3002</li> </ul> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u5e76\u4e0d\u603b\u662f\u80fd\u4fdd\u8bc1\u5f97\u5230\u5168\u5c40\u6700\u4f18\u89e3\u3002</li> <li>\u9002\u7528\u6027\u8f83\u7a84\uff0c\u53ea\u80fd\u5e94\u7528\u4e8e\u7279\u5b9a\u7c7b\u578b\u7684\u95ee\u9898\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#5_1","title":"5. \u603b\u7ed3","text":"<p>\u8d2a\u5fc3\u7b97\u6cd5\u662f\u4e00\u79cd\u57fa\u4e8e\u9009\u62e9\u5f53\u524d\u6700\u4f18\u89e3\u7684\u7b56\u7565\uff0c\u7528\u4e8e\u89e3\u51b3\u4e00\u7cfb\u5217\u4f18\u5316\u95ee\u9898\u3002\u5c3d\u7ba1\u8d2a\u5fc3\u7b97\u6cd5\u5e76\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u95ee\u9898\uff0c\u4f46\u5728\u9002\u5408\u7684\u573a\u666f\u4e0b\uff0c\u5b83\u80fd\u4e3a\u6211\u4eec\u63d0\u4f9b\u7b80\u5355\u4e14\u9ad8\u6548\u7684\u89e3\u51b3\u65b9\u6848\u3002\u5728\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u65f6\uff0c\u9700\u786e\u4fdd\u95ee\u9898\u6ee1\u8db3\u8d2a\u5fc3\u9009\u62e9\u6027\u8d28\u548c\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\uff0c\u4ee5\u786e\u4fdd\u7b97\u6cd5\u80fd\u591f\u627e\u5230\u5168\u5c40\u6700\u4f18\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_10","title":"\u4e5d\u3001\u4f4d\u64cd\u4f5c","text":"<p>\u4f4d\u64cd\u4f5c\uff08Bitwise Operations\uff09\u662f\u76f4\u63a5\u5728\u4e8c\u8fdb\u5236\u4f4d\u4e0a\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u901a\u5e38\u7528\u4e8e\u5e95\u5c42\u7f16\u7a0b\u548c\u9ad8\u6548\u8ba1\u7b97\u3002\u5728Python\u4e2d\uff0c\u5e38\u89c1\u7684\u4f4d\u64cd\u4f5c\u5305\u62ec\u6309\u4f4d\u4e0e\u3001\u6309\u4f4d\u6216\u3001\u6309\u4f4d\u5f02\u6216\u3001\u6309\u4f4d\u53d6\u53cd\u3001\u5de6\u79fb\u548c\u53f3\u79fb\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#1_4","title":"1. \u5e38\u89c1\u7684\u4f4d\u64cd\u4f5c","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#11","title":"1.1. \u6309\u4f4d\u4e0e\uff08&amp;\uff09","text":"<p>\u6309\u4f4d\u4e0e\u64cd\u4f5c\u4f1a\u5c06\u4e24\u4e2a\u6570\u5b57\u7684\u6bcf\u4e2a\u4f4d\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u5bf9\u5e94\u4f4d\u90fd\u4e3a <code>1</code>\uff0c\u5219\u7ed3\u679c\u4e3a <code>1</code>\uff0c\u5426\u5219\u4e3a <code>0</code>\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>a = 5  # \u4e8c\u8fdb\u5236: 0101\nb = 3  # \u4e8c\u8fdb\u5236: 0011\nresult = a &amp; b  # \u4e8c\u8fdb\u5236: 0001\nprint(f\"{a} &amp; {b} = {result}\")  # \u8f93\u51fa: 5 &amp; 3 = 1\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#12","title":"1.2. \u6309\u4f4d\u6216\uff08|\uff09","text":"<p>\u6309\u4f4d\u6216\u64cd\u4f5c\u4f1a\u5c06\u4e24\u4e2a\u6570\u5b57\u7684\u6bcf\u4e2a\u4f4d\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u5bf9\u5e94\u4f4d\u6709\u4e00\u4e2a\u4e3a <code>1</code>\uff0c\u5219\u7ed3\u679c\u4e3a <code>1</code>\uff0c\u5426\u5219\u4e3a <code>0</code>\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>a = 5  # \u4e8c\u8fdb\u5236: 0101\nb = 3  # \u4e8c\u8fdb\u5236: 0011\nresult = a | b  # \u4e8c\u8fdb\u5236: 0111\nprint(f\"{a} | {b} = {result}\")  # \u8f93\u51fa: 5 | 3 = 7\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#13","title":"1.3. \u6309\u4f4d\u5f02\u6216\uff08^\uff09","text":"<p>\u6309\u4f4d\u5f02\u6216\u64cd\u4f5c\u4f1a\u5c06\u4e24\u4e2a\u6570\u5b57\u7684\u6bcf\u4e2a\u4f4d\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u5bf9\u5e94\u4f4d\u4e0d\u540c\uff0c\u5219\u7ed3\u679c\u4e3a <code>1</code>\uff0c\u5426\u5219\u4e3a <code>0</code>\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>a = 5  # \u4e8c\u8fdb\u5236: 0101\nb = 3  # \u4e8c\u8fdb\u5236: 0011\nresult = a ^ b  # \u4e8c\u8fdb\u5236: 0110\nprint(f\"{a} ^ {b} = {result}\")  # \u8f93\u51fa: 5 ^ 3 = 6\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#14","title":"1.4. \u6309\u4f4d\u53d6\u53cd\uff08~\uff09","text":"<p>\u6309\u4f4d\u53d6\u53cd\u64cd\u4f5c\u4f1a\u5c06\u6570\u5b57\u7684\u6bcf\u4e2a\u4f4d\u8fdb\u884c\u53cd\u8f6c\uff0c\u5373 <code>1</code> \u53d8 <code>0</code>\uff0c<code>0</code> \u53d8 <code>1</code>\u3002\u5728Python\u4e2d\uff0c\u6309\u4f4d\u53d6\u53cd\u4e5f\u4f1a\u6539\u53d8\u6570\u5b57\u7684\u7b26\u53f7\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>a = 5  # \u4e8c\u8fdb\u5236: 0101\nresult = ~a  # \u4e8c\u8fdb\u5236: -0110 (\u8865\u7801\u8868\u793a)\nprint(f\"~{a} = {result}\")  # \u8f93\u51fa: ~5 = -6\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#15","title":"1.5. \u5de6\u79fb\uff08&lt;&lt;\uff09","text":"<p>\u5de6\u79fb\u64cd\u4f5c\u4f1a\u5c06\u6570\u5b57\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u5411\u5de6\u79fb\u52a8\u6307\u5b9a\u7684\u4f4d\u6570\uff0c\u53f3\u4fa7\u8865 <code>0</code>\u3002\u5de6\u79fb\u76f8\u5f53\u4e8e\u4e58\u4ee5 <code>2</code> \u7684\u82e5\u5e72\u6b21\u65b9\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>a = 5  # \u4e8c\u8fdb\u5236: 0101\nresult = a &lt;&lt; 2  # \u4e8c\u8fdb\u5236: 10100\nprint(f\"{a} &lt;&lt; 2 = {result}\")  # \u8f93\u51fa: 5 &lt;&lt; 2 = 20\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#16","title":"1.6. \u53f3\u79fb\uff08&gt;&gt;\uff09","text":"<p>\u53f3\u79fb\u64cd\u4f5c\u4f1a\u5c06\u6570\u5b57\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u5411\u53f3\u79fb\u52a8\u6307\u5b9a\u7684\u4f4d\u6570\uff0c\u5de6\u4fa7\u8865 <code>0</code>\u3002\u53f3\u79fb\u76f8\u5f53\u4e8e\u9664\u4ee5 <code>2</code> \u7684\u82e5\u5e72\u6b21\u65b9\u3002</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>a = 20  # \u4e8c\u8fdb\u5236: 10100\nresult = a &gt;&gt; 2  # \u4e8c\u8fdb\u5236: 0101\nprint(f\"{a} &gt;&gt; 2 = {result}\")  # \u8f93\u51fa: 20 &gt;&gt; 2 = 5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#2_3","title":"2. \u4f4d\u64cd\u4f5c\u7684\u5e94\u7528","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#21","title":"2.1. \u5224\u65ad\u5947\u5076\u6027","text":"<p>\u901a\u8fc7\u68c0\u67e5\u6570\u5b57\u7684\u6700\u4f4e\u4f4d\u662f\u5426\u4e3a <code>1</code>\uff0c\u53ef\u4ee5\u5224\u65ad\u4e00\u4e2a\u6570\u5b57\u662f\u5947\u6570\u8fd8\u662f\u5076\u6570\u3002</p> <pre><code>def is_odd(n):\n    return n &amp; 1 == 1\n\n# \u793a\u4f8b\nn = 10\nprint(f\"{n} \u662f\u5947\u6570\u5417\uff1f {is_odd(n)}\")  # \u8f93\u51fa: 10 \u662f\u5947\u6570\u5417\uff1f False\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#22","title":"2.2. \u4ea4\u6362\u4e24\u4e2a\u6570","text":"<p>\u5728\u4e0d\u4f7f\u7528\u989d\u5916\u7a7a\u95f4\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u6309\u4f4d\u5f02\u6216\u4ea4\u6362\u4e24\u4e2a\u6570\u7684\u503c\u3002</p> <pre><code>a = 5\nb = 3\na = a ^ b\nb = a ^ b\na = a ^ b\nprint(f\"\u4ea4\u6362\u540e: a = {a}, b = {b}\")  # \u8f93\u51fa: \u4ea4\u6362\u540e: a = 3, b = 5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#23-1","title":"2.3. \u6e05\u96f6\u6700\u4f4e\u4f4d\u7684 <code>1</code>","text":"<p>\u6e05\u9664\u4e00\u4e2a\u6570\u5b57\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d\u6700\u4f4e\u4f4d\u7684 <code>1</code>\u3002</p> <pre><code>n = 12  # \u4e8c\u8fdb\u5236: 1100\nresult = n &amp; (n - 1)  # \u6e05\u9664\u6700\u4f4e\u4f4d\u76841 -&gt; \u4e8c\u8fdb\u5236: 1000\nprint(f\"{n} \u6e05\u9664\u6700\u4f4e\u4f4d\u76841\u540e\u7684\u7ed3\u679c: {result}\")  # \u8f93\u51fa: 12 \u6e05\u9664\u6700\u4f4e\u4f4d\u76841\u540e\u7684\u7ed3\u679c: 8\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#24-1","title":"2.4. \u8ba1\u7b97\u4e8c\u8fdb\u5236\u4e2d <code>1</code> \u7684\u4e2a\u6570\uff08\u6c49\u660e\u91cd\u91cf\uff09","text":"<p>\u8ba1\u7b97\u4e00\u4e2a\u6574\u6570\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d <code>1</code> \u7684\u4e2a\u6570\u3002</p> <pre><code>def count_ones(n):\n    count = 0\n    while n:\n        n = n &amp; (n - 1)  # \u6bcf\u6b21\u6e05\u9664\u6700\u4f4e\u4f4d\u76841\n        count += 1\n    return count\n\n# \u793a\u4f8b\nn = 13  # \u4e8c\u8fdb\u5236: 1101\nprint(f\"{n} \u7684\u4e8c\u8fdb\u5236\u4e2d\u6709 {count_ones(n)} \u4e2a1\")  # \u8f93\u51fa: 13 \u7684\u4e8c\u8fdb\u5236\u4e2d\u6709 3 \u4e2a1\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#3_2","title":"3. \u603b\u7ed3","text":"<p>\u4f4d\u64cd\u4f5c\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\u6709\u5e7f\u6cdb\u7684\u5e94\u7528\uff0c\u5c24\u5176\u662f\u5728\u9700\u8981\u9ad8\u6548\u8ba1\u7b97\u6216\u5904\u7406\u5e95\u5c42\u6570\u636e\u65f6\u3002\u638c\u63e1\u8fd9\u4e9b\u4f4d\u64cd\u4f5c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7f16\u5199\u66f4\u9ad8\u6548\u7684\u4ee3\u7801\uff0c\u5e76\u66f4\u597d\u5730\u7406\u89e3\u8ba1\u7b97\u673a\u5982\u4f55\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_11","title":"\u5341\u3001 \u54c8\u5e0c\u8868\u4e0e\u96c6\u5408","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#101","title":"10.1 \u4e24\u6570\u4e4b\u548c","text":"<p>\u9898\u76ee\u63cf\u8ff0: </p> <p>\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 nums \u548c\u4e00\u4e2a\u76ee\u6807\u503c target\uff0c\u8bf7\u4f60\u5728\u8be5\u6570\u7ec4\u4e2d\u627e\u51fa\u548c\u4e3a\u76ee\u6807\u503c\u7684\u4e24\u4e2a\u6574\u6570\uff0c\u5e76\u8fd4\u56de\u5b83\u4eec\u7684\u6570\u7ec4\u4e0b\u6807\u3002</p> <pre><code>def two_sum(nums, target):\n    # \u521b\u5efa\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0c\u7528\u4e8e\u5b58\u50a8\u5df2\u7ecf\u904d\u5386\u8fc7\u7684\u5143\u7d20\u53ca\u5176\u5bf9\u5e94\u7684\u7d22\u5f15\n    hash_map = {}\n\n    # \u904d\u5386\u6570\u7ec4\n    for i, num in enumerate(nums):\n        # \u8ba1\u7b97\u5f53\u524d\u6570\u5b57\u4e0e\u76ee\u6807\u503c\u7684\u5dee\u503c\n        complement = target - num\n\n        # \u68c0\u67e5\u5dee\u503c\u662f\u5426\u5728\u54c8\u5e0c\u8868\u4e2d\n        if complement in hash_map:\n            return [hash_map[complement], i]\n\n        # \u5982\u679c\u4e0d\u5728\u54c8\u5e0c\u8868\u4e2d\uff0c\u5219\u5c06\u5f53\u524d\u6570\u5b57\u548c\u7d22\u5f15\u5b58\u5165\u54c8\u5e0c\u8868\n        hash_map[num] = i\n\n    return None  # \u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u5219\u8fd4\u56de None\n\n# \u793a\u4f8b\u4f7f\u7528\nnums = [2, 7, 11, 15]\ntarget = 9\nresult = two_sum(nums, target)\nprint(f\"\u4e24\u6570\u4e4b\u548c\u7684\u4e0b\u6807\u4e3a: {result}\")  # \u8f93\u51fa: [0, 1]\n</code></pre> <p>\u4ee3\u7801\u89e3\u91ca</p> <ul> <li>\u54c8\u5e0c\u8868\uff1ahash_map \u7528\u4e8e\u5b58\u50a8\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u503c\u53ca\u5176\u5bf9\u5e94\u7684\u7d22\u5f15\u3002\u5728\u904d\u5386\u6570\u7ec4\u7684\u8fc7\u7a0b\u4e2d\uff0c\u67e5\u627e\u76ee\u6807\u503c target \u51cf\u53bb\u5f53\u524d\u5143\u7d20\u7684\u5dee\u503c\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u4e8e\u54c8\u5e0c\u8868\u4e2d\uff0c\u8fd9\u4e00\u6b65\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(1)\u3002</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u4f7f\u7528\u54c8\u5e0c\u8868\u540e\uff0c\u6574\u4f53\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(n)\uff0c\u5176\u4e2d n \u662f\u6570\u7ec4\u7684\u957f\u5ea6\u3002</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a\u7531\u4e8e\u9700\u8981\u989d\u5916\u7684\u54c8\u5e0c\u8868\u6765\u5b58\u50a8\u5143\u7d20\u548c\u7d22\u5f15\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a O(n)\u3002</li> </ul> <p>\u793a\u4f8b\u8f93\u51fa</p> <pre><code>\u4e24\u6570\u4e4b\u548c\u7684\u4e0b\u6807\u4e3a: [0, 1]\n</code></pre> <p>\u8be5\u4ee3\u7801\u8fd4\u56de\u7684\u662f\u6570\u7ec4\u4e2d\u4e24\u4e2a\u6570\u7684\u4e0b\u6807\uff0c\u5b83\u4eec\u7684\u548c\u7b49\u4e8e\u76ee\u6807\u503c target\u3002\u5728\u793a\u4f8b\u4e2d\uff0c\u6570\u7ec4 [2, 7, 11, 15] \u4e2d\u7684\u4e24\u4e2a\u6570 2 \u548c 7 \u7684\u548c\u7b49\u4e8e 9\uff0c\u5b83\u4eec\u7684\u4e0b\u6807\u5206\u522b\u4e3a 0 \u548c 1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#102","title":"10.2 \u6709\u6548\u7684\u62ec\u53f7","text":"<p>\u95ee\u9898\u63cf\u8ff0\uff1a</p> <p>\u7ed9\u5b9a\u4e00\u4e2a\u53ea\u5305\u542b (, ), {, }, [ \u548c ] \u7684\u5b57\u7b26\u4e32\uff0c\u5224\u65ad\u5b57\u7b26\u4e32\u4e2d\u7684\u62ec\u53f7\u662f\u5426\u6210\u5bf9\u51fa\u73b0\u4e14\u987a\u5e8f\u6b63\u786e\u3002</p> <p>1. \u95ee\u9898\u5206\u6790</p> <p>\u8981\u5224\u65ad\u62ec\u53f7\u662f\u5426\u6709\u6548\uff0c\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a 1. \u5de6\u62ec\u53f7\u5fc5\u987b\u7528\u76f8\u540c\u7c7b\u578b\u7684\u53f3\u62ec\u53f7\u95ed\u5408\u3002 2. \u5de6\u62ec\u53f7\u5fc5\u987b\u4ee5\u6b63\u786e\u7684\u987a\u5e8f\u95ed\u5408\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6808\uff08stack\uff09\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u904d\u5386\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\uff1a - \u5982\u679c\u662f\u5de6\u62ec\u53f7\uff08<code>(</code>, <code>{</code>, <code>[</code>\uff09\uff0c\u5c06\u5176\u538b\u5165\u6808\u4e2d\u3002 - \u5982\u679c\u662f\u53f3\u62ec\u53f7\uff08<code>)</code>, <code>}</code>, <code>]</code>\uff09\uff0c\u68c0\u67e5\u6808\u9876\u5143\u7d20\u662f\u5426\u662f\u5bf9\u5e94\u7684\u5de6\u62ec\u53f7\u3002\u5982\u679c\u662f\uff0c\u5219\u5c06\u6808\u9876\u5143\u7d20\u5f39\u51fa\u3002\u5982\u679c\u4e0d\u662f\uff0c\u8bf4\u660e\u62ec\u53f7\u987a\u5e8f\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de <code>False</code>\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c\u6808\u4e3a\u7a7a\uff0c\u8bf4\u660e\u6240\u6709\u62ec\u53f7\u90fd\u6b63\u786e\u95ed\u5408\uff0c\u8fd4\u56de <code>True</code>\uff1b\u5426\u5219\uff0c\u8fd4\u56de <code>False</code>\u3002</p> <p>2. Python \u5b9e\u73b0</p> <pre><code>def is_valid(s):\n    # \u521b\u5efa\u4e00\u4e2a\u6808\u7528\u4e8e\u5b58\u50a8\u5de6\u62ec\u53f7\n    stack = []\n\n    # \u521b\u5efa\u4e00\u4e2a\u5b57\u5178\uff0c\u7528\u4e8e\u5b58\u50a8\u62ec\u53f7\u7684\u5bf9\u5e94\u5173\u7cfb\n    bracket_map = {')': '(', '}': '{', ']': '['}\n\n    # \u904d\u5386\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\n    for char in s:\n        if char in bracket_map:\n            # \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u53f3\u62ec\u53f7\uff0c\u68c0\u67e5\u6808\u9876\u662f\u5426\u662f\u5bf9\u5e94\u7684\u5de6\u62ec\u53f7\n            top_element = stack.pop() if stack else '#'\n            if bracket_map[char] != top_element:\n                return False\n        else:\n            # \u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u5de6\u62ec\u53f7\uff0c\u5c06\u5176\u538b\u5165\u6808\u4e2d\n            stack.append(char)\n\n    # \u68c0\u67e5\u6808\u662f\u5426\u4e3a\u7a7a\n    return not stack\n\n# \u793a\u4f8b\u4f7f\u7528\ns = \"({[()]})\"\nresult = is_valid(s)\nprint(f\"\u5b57\u7b26\u4e32 {s} \u662f\u6709\u6548\u7684\u62ec\u53f7\u5417\uff1f {result}\")  # \u8f93\u51fa: True\n</code></pre> <p>3. \u4ee3\u7801\u89e3\u91ca</p> <ul> <li>\u6808\uff1a\u6211\u4eec\u4f7f\u7528\u5217\u8868 <code>stack</code> \u6765\u6a21\u62df\u6808\u7684\u884c\u4e3a\uff0c\u5904\u7406\u62ec\u53f7\u5339\u914d\u95ee\u9898\u3002</li> <li>\u5b57\u5178\uff1a<code>bracket_map</code> \u5b57\u5178\u7528\u4e8e\u5b58\u50a8\u53f3\u62ec\u53f7\u548c\u5bf9\u5e94\u5de6\u62ec\u53f7\u7684\u5339\u914d\u5173\u7cfb\u3002</li> <li>\u904d\u5386\u5b57\u7b26\u4e32\uff1a\u5bf9\u4e8e\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\uff0c\u5224\u65ad\u662f\u5de6\u62ec\u53f7\u8fd8\u662f\u53f3\u62ec\u53f7\uff0c\u5e76\u6839\u636e\u6808\u7684\u60c5\u51b5\u8fdb\u884c\u5904\u7406\u3002</li> <li>\u6808\u9876\u68c0\u67e5\uff1a\u6bcf\u6b21\u9047\u5230\u53f3\u62ec\u53f7\u65f6\uff0c\u68c0\u67e5\u6808\u9876\u662f\u5426\u6709\u5bf9\u5e94\u7684\u5de6\u62ec\u53f7\u3002\u5982\u679c\u6709\uff0c\u5219\u5f39\u51fa\u6808\u9876\u5143\u7d20\uff1b\u5426\u5219\uff0c\u8bf4\u660e\u62ec\u53f7\u4e0d\u5339\u914d\u3002</li> </ul> <p>4. \u793a\u4f8b\u8f93\u51fa</p> <pre><code>\u5b57\u7b26\u4e32 ({[()]}) \u662f\u6709\u6548\u7684\u62ec\u53f7\u5417\uff1f True\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u5b57\u7b26\u4e32 <code>({[()]})</code> \u662f\u6709\u6548\u7684\u62ec\u53f7\u5339\u914d\u3002\u6240\u6709\u62ec\u53f7\u90fd\u6b63\u786e\u95ed\u5408\uff0c\u4ee3\u7801\u8fd4\u56de <code>True</code>\u3002\u5982\u679c\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u662f <code>({[})]</code>\uff0c\u5219\u8fd4\u56de <code>False</code>\uff0c\u56e0\u4e3a\u62ec\u53f7\u987a\u5e8f\u4e0d\u6b63\u786e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#_12","title":"\u5341\u4e00\u3001\u9ad8\u7ea7\u6570\u636e\u7ed3\u6784","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#111-trie","title":"11.1 \u5b57\u5178\u6811\uff08Trie\uff09","text":"<p>\u5b57\u5178\u6811\uff08Trie\uff09\u662f\u4e00\u79cd\u6811\u5f62\u6570\u636e\u7ed3\u6784\uff0c\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u5b57\u7b26\u4e32\u7684\u68c0\u7d22\u64cd\u4f5c\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u81ea\u52a8\u8865\u5168\u3001\u62fc\u5199\u68c0\u67e5\u7b49\u5e94\u7528\u3002\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\u5229\u7528\u516c\u5171\u524d\u7f00\u6765\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\u3002</p> <p>1. \u5b57\u5178\u6811\u7684\u57fa\u672c\u6982\u5ff5</p> <p>\u5b57\u5178\u6811\u662f\u4e00\u4e2a\u591a\u53c9\u6811\uff0c\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u4e00\u7ec4\u5b57\u7b26\u4e32\u3002\u6bcf\u4e2a\u8282\u70b9\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\uff0c\u8def\u5f84\u4ee3\u8868\u4ece\u6839\u8282\u70b9\u5230\u67d0\u4e00\u8282\u70b9\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5b57\u5178\u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u9664\u4e86\u5305\u542b\u5b57\u7b26\u4fe1\u606f\u5916\uff0c\u8fd8\u53ef\u4ee5\u5305\u542b\u4ee5\u4e0b\u4fe1\u606f\uff1a - \u662f\u5426\u4e3a\u67d0\u4e2a\u5355\u8bcd\u7684\u7ed3\u675f\u8282\u70b9\u3002 - \u5b50\u8282\u70b9\u7684\u6307\u9488\u6216\u5f15\u7528\uff0c\u8868\u793a\u4e0b\u4e00\u4e2a\u5b57\u7b26\u7684\u53ef\u80fd\u8def\u5f84\u3002</p> <p>2. \u5b57\u5178\u6811\u7684\u57fa\u672c\u64cd\u4f5c</p> <p>\u5b57\u5178\u6811\u7684\u57fa\u672c\u64cd\u4f5c\u5305\u62ec\u63d2\u5165\uff08Insert\uff09\u3001\u67e5\u8be2\uff08Search\uff09\u3001\u548c\u524d\u7f00\u67e5\u8be2\uff08StartsWith\uff09\u3002</p> <p>3. Python \u5b9e\u73b0</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684 Python \u5b57\u5178\u6811\u5b9e\u73b0\uff1a</p> <pre><code>class TrieNode:\n    def __init__(self):\n        # \u6bcf\u4e2a\u8282\u70b9\u6709\u4e00\u4e2a\u5b57\u5178\uff0c\u7528\u4e8e\u5b58\u50a8\u5b50\u8282\u70b9\n        self.children = {}\n        # \u662f\u5426\u662f\u67d0\u4e2a\u5355\u8bcd\u7684\u7ed3\u5c3e\n        self.is_end_of_word = False\n\nclass Trie:\n    def __init__(self):\n        # \u521d\u59cb\u5316\u5b57\u5178\u6811\u7684\u6839\u8282\u70b9\n        self.root = TrieNode()\n\n    def insert(self, word):\n        # \u63d2\u5165\u5355\u8bcd\n        node = self.root\n        for char in word:\n            # \u5982\u679c\u5b57\u7b26\u4e0d\u5728\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\u4e2d\uff0c\u5219\u6dfb\u52a0\u65b0\u8282\u70b9\n            if char not in node.children:\n                node.children[char] = TrieNode()\n            # \u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u8282\u70b9\n            node = node.children[char]\n        # \u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u6807\u8bb0\u4e3a\u5355\u8bcd\u7684\u7ed3\u675f\n        node.is_end_of_word = True\n\n    def search(self, word):\n        # \u67e5\u8be2\u5355\u8bcd\u662f\u5426\u5728\u5b57\u5178\u6811\u4e2d\n        node = self.root\n        for char in word:\n            if char not in node.children:\n                return False\n            node = node.children[char]\n        return node.is_end_of_word\n\n    def starts_with(self, prefix):\n        # \u67e5\u8be2\u662f\u5426\u5b58\u5728\u4ee5\u67d0\u4e2a\u524d\u7f00\u5f00\u59cb\u7684\u5355\u8bcd\n        node = self.root\n        for char in prefix:\n            if char not in node.children:\n                return False\n            node = node.children[char]\n        return True\n\n# \u793a\u4f8b\u4f7f\u7528\ntrie = Trie()\ntrie.insert(\"apple\")\nprint(trie.search(\"apple\"))    # \u8f93\u51fa: True\nprint(trie.search(\"app\"))      # \u8f93\u51fa: False\nprint(trie.starts_with(\"app\")) # \u8f93\u51fa: True\ntrie.insert(\"app\")\nprint(trie.search(\"app\"))      # \u8f93\u51fa: True\n</code></pre> <p>4. \u4ee3\u7801\u89e3\u91ca</p> <ul> <li> <p>TrieNode \u7c7b\uff1a\u8868\u793a\u5b57\u5178\u6811\u4e2d\u7684\u4e00\u4e2a\u8282\u70b9\u3002<code>children</code> \u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u952e\u662f\u5b57\u7b26\uff0c\u503c\u662f\u5bf9\u5e94\u7684\u5b50\u8282\u70b9\uff1b<code>is_end_of_word</code> \u8868\u793a\u8be5\u8282\u70b9\u662f\u5426\u4e3a\u67d0\u4e2a\u5355\u8bcd\u7684\u7ed3\u5c3e\u3002</p> </li> <li> <p>Trie \u7c7b\uff1a\u8868\u793a\u5b57\u5178\u6811\uff0c\u5305\u62ec\u63d2\u5165\u3001\u67e5\u8be2\u3001\u548c\u524d\u7f00\u67e5\u8be2\u64cd\u4f5c\u3002</p> </li> <li>insert(word)\uff1a\u5c06\u4e00\u4e2a\u5355\u8bcd\u63d2\u5165\u5230\u5b57\u5178\u6811\u4e2d\u3002\u6bcf\u4e2a\u5b57\u7b26\u5bf9\u5e94\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u5f53\u524d\u5b57\u7b26\u4e0d\u5b58\u5728\u4e8e\u8282\u70b9\u7684\u5b50\u8282\u70b9\u4e2d\uff0c\u5219\u521b\u5efa\u65b0\u8282\u70b9\u3002\u904d\u5386\u5b8c\u5355\u8bcd\u7684\u6240\u6709\u5b57\u7b26\u540e\uff0c\u5c06\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u6807\u8bb0\u4e3a\u5355\u8bcd\u7684\u7ed3\u5c3e\u3002</li> <li>search(word)\uff1a\u67e5\u8be2\u5b57\u5178\u6811\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u4e2a\u5355\u8bcd\u3002\u6cbf\u7740\u5b57\u7b26\u8def\u5f84\u904d\u5386\uff0c\u5982\u679c\u67d0\u4e2a\u5b57\u7b26\u4e0d\u5b58\u5728\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\u4e2d\uff0c\u8fd4\u56de <code>False</code>\u3002\u5982\u679c\u6240\u6709\u5b57\u7b26\u90fd\u5339\u914d\uff0c\u4e14\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u6807\u8bb0\u4e3a\u5355\u8bcd\u7684\u7ed3\u5c3e\uff0c\u8fd4\u56de <code>True</code>\u3002</li> <li>starts_with(prefix)\uff1a\u67e5\u8be2\u5b57\u5178\u6811\u4e2d\u662f\u5426\u5b58\u5728\u4ee5\u67d0\u4e2a\u524d\u7f00\u5f00\u59cb\u7684\u5355\u8bcd\u3002\u65b9\u6cd5\u7c7b\u4f3c\u4e8e <code>search</code>\uff0c\u4f46\u4e0d\u8981\u6c42\u5339\u914d\u5b8c\u6574\u5355\u8bcd\uff0c\u53ea\u8981\u524d\u7f00\u5b58\u5728\u5373\u53ef\u8fd4\u56de <code>True</code>\u3002</li> </ul> <p>5. \u793a\u4f8b\u8f93\u51fa</p> <pre><code>True\nFalse\nTrue\nTrue\n</code></pre> <p>6. \u5b57\u5178\u6811\u7684\u5e94\u7528\u573a\u666f</p> <ul> <li>\u81ea\u52a8\u8865\u5168\uff1a\u6839\u636e\u8f93\u5165\u7684\u524d\u7f00\uff0c\u63d0\u4f9b\u53ef\u80fd\u7684\u5355\u8bcd\u8865\u5168\u3002</li> <li>\u62fc\u5199\u68c0\u67e5\uff1a\u5feb\u901f\u68c0\u7d22\u5355\u8bcd\u8868\u4e2d\u7684\u5408\u6cd5\u5355\u8bcd\u3002</li> <li>\u524d\u7f00\u5339\u914d\uff1a\u7528\u4e8e\u641c\u7d22\u5f15\u64ce\u3001\u6587\u672c\u7f16\u8f91\u5668\u7b49\u573a\u666f\u4e0b\u7684\u524d\u7f00\u5339\u914d\u67e5\u8be2\u3002</li> </ul> <p>\u5b57\u5178\u6811\u7531\u4e8e\u5176\u7ed3\u6784\u7684\u7279\u70b9\uff0c\u53ef\u4ee5\u5728\u5904\u7406\u5927\u91cf\u5b57\u7b26\u4e32\u65f6\u63d0\u4f9b\u9ad8\u6548\u7684\u63d2\u5165\u548c\u67e5\u8be2\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#112-union-find","title":"11.2 \u5e76\u67e5\u96c6\uff08Union-Find\uff09","text":"<p>\u5e76\u67e5\u96c6\uff08Union-Find\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u5904\u7406\u52a8\u6001\u8fde\u901a\u6027\u95ee\u9898\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7279\u522b\u9002\u5408\u7528\u4e8e\u5904\u7406\u56fe\u7684\u8fde\u901a\u6027\u95ee\u9898\u3002\u5b83\u652f\u6301\u4e24\u79cd\u64cd\u4f5c\uff1a - Union\uff1a\u5c06\u4e24\u4e2a\u5143\u7d20\u6240\u5728\u7684\u96c6\u5408\u5408\u5e76\u3002 - Find\uff1a\u67e5\u627e\u5143\u7d20\u6240\u5728\u96c6\u5408\u7684\u4ee3\u8868\u5143\u7d20\uff08\u6839\u8282\u70b9\uff09\uff0c\u4e5f\u79f0\u4e3a\u67e5\u627e\u5143\u7d20\u7684 \"\u7236\u8282\u70b9\"\u3002</p> <p>\u5e76\u67e5\u96c6\u7684\u5e38\u89c1\u4f18\u5316\u5305\u62ec\u8def\u5f84\u538b\u7f29\u548c\u6309\u79e9\u5408\u5e76\uff0c\u4ee5\u63d0\u9ad8\u64cd\u4f5c\u6548\u7387\u3002</p> <p>1. \u57fa\u672c\u601d\u60f3</p> <ul> <li>\u8def\u5f84\u538b\u7f29\uff1a\u5728\u67e5\u627e\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u8def\u5f84\u4e0a\u7684\u6240\u6709\u8282\u70b9\u76f4\u63a5\u6307\u5411\u6839\u8282\u70b9\uff0c\u4ece\u800c\u51cf\u5c11\u6811\u7684\u9ad8\u5ea6\u3002</li> <li>\u6309\u79e9\u5408\u5e76\uff1a\u5728\u5408\u5e76\u4e24\u4e2a\u96c6\u5408\u65f6\uff0c\u603b\u662f\u5c06\u8f83\u5c0f\u7684\u6811\u5408\u5e76\u5230\u8f83\u5927\u7684\u6811\u4e0a\uff0c\u9632\u6b62\u6811\u53d8\u5f97\u8fc7\u9ad8\u3002</li> </ul> <p>2. \u5e76\u67e5\u96c6\u7684 Python \u5b9e\u73b0</p> <pre><code>class UnionFind:\n    def __init__(self, size):\n        # \u521d\u59cb\u5316\u7236\u8282\u70b9\u6307\u9488\u548c\u79e9\n        self.parent = [i for i in range(size)]\n        self.rank = [1] * size\n\n    def find(self, p):\n        # \u67e5\u627e\u5143\u7d20 p \u7684\u6839\u8282\u70b9\uff0c\u540c\u65f6\u8fdb\u884c\u8def\u5f84\u538b\u7f29\n        if self.parent[p] != p:\n            self.parent[p] = self.find(self.parent[p])\n        return self.parent[p]\n\n    def union(self, p, q):\n        # \u5408\u5e76\u4e24\u4e2a\u5143\u7d20 p \u548c q \u6240\u5728\u7684\u96c6\u5408\n        rootP = self.find(p)\n        rootQ = self.find(q)\n\n        if rootP != rootQ:\n            # \u6309\u79e9\u5408\u5e76\n            if self.rank[rootP] &gt; self.rank[rootQ]:\n                self.parent[rootQ] = rootP\n            elif self.rank[rootP] &lt; self.rank[rootQ]:\n                self.parent[rootP] = rootQ\n            else:\n                self.parent[rootQ] = rootP\n                self.rank[rootP] += 1\n\n    def connected(self, p, q):\n        # \u68c0\u67e5\u4e24\u4e2a\u5143\u7d20\u662f\u5426\u5728\u540c\u4e00\u96c6\u5408\n        return self.find(p) == self.find(q)\n\n# \u793a\u4f8b\u4f7f\u7528\nuf = UnionFind(10)\nuf.union(1, 2)\nuf.union(3, 4)\nuf.union(2, 4)\n\nprint(uf.connected(1, 3))  # \u8f93\u51fa: True\nprint(uf.connected(1, 5))  # \u8f93\u51fa: False\n</code></pre> <p>3. \u4ee3\u7801\u89e3\u91ca</p> <ul> <li>\u521d\u59cb\u5316\uff1a</li> <li><code>parent</code> \u5217\u8868\u8bb0\u5f55\u6bcf\u4e2a\u8282\u70b9\u7684\u7236\u8282\u70b9\u3002\u521d\u59cb\u65f6\uff0c\u6bcf\u4e2a\u8282\u70b9\u7684\u7236\u8282\u70b9\u6307\u5411\u81ea\u5df1\uff0c\u8868\u793a\u6bcf\u4e2a\u8282\u70b9\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u96c6\u5408\u3002</li> <li> <p><code>rank</code> \u5217\u8868\u7528\u4e8e\u8bb0\u5f55\u6bcf\u4e2a\u8282\u70b9\u7684\u79e9\uff08\u5373\u6811\u7684\u9ad8\u5ea6\uff09\uff0c\u521d\u59cb\u65f6\u6bcf\u4e2a\u8282\u70b9\u7684\u79e9\u4e3a <code>1</code>\u3002</p> </li> <li> <p>find(p)\uff1a</p> </li> <li>\u67e5\u627e\u8282\u70b9 <code>p</code> \u7684\u6839\u8282\u70b9\uff0c\u5982\u679c <code>p</code> \u7684\u7236\u8282\u70b9\u4e0d\u662f\u5b83\u81ea\u5df1\uff0c\u5219\u9012\u5f52\u67e5\u627e <code>p</code> \u7684\u7236\u8282\u70b9\uff0c\u6700\u7ec8\u627e\u5230\u6839\u8282\u70b9\u3002</li> <li> <p>\u5728\u9012\u5f52\u67e5\u627e\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u8def\u5f84\u538b\u7f29\uff0c\u5c06 <code>p</code> \u53ca\u5176\u7956\u5148\u7684\u7236\u8282\u70b9\u76f4\u63a5\u6307\u5411\u6839\u8282\u70b9\uff0c\u4ee5\u51cf\u5c11\u6811\u7684\u9ad8\u5ea6\u3002</p> </li> <li> <p>union(p, q)\uff1a</p> </li> <li>\u5408\u5e76 <code>p</code> \u548c <code>q</code> \u6240\u5728\u7684\u4e24\u4e2a\u96c6\u5408\u3002\u9996\u5148\u627e\u5230\u5b83\u4eec\u7684\u6839\u8282\u70b9 <code>rootP</code> \u548c <code>rootQ</code>\u3002</li> <li> <p>\u4f7f\u7528\u6309\u79e9\u5408\u5e76\u7684\u7b56\u7565\uff0c\u8f83\u5c0f\u79e9\u7684\u6811\u5408\u5e76\u5230\u8f83\u5927\u79e9\u7684\u6811\u4e2d\u3002\u5982\u679c\u79e9\u76f8\u540c\uff0c\u5219\u5408\u5e76\u540e\u5c06\u79e9\u52a0 <code>1</code>\u3002</p> </li> <li> <p>connected(p, q)\uff1a</p> </li> <li>\u5224\u65ad <code>p</code> \u548c <code>q</code> \u662f\u5426\u5728\u540c\u4e00\u96c6\u5408\u4e2d\uff0c\u5373\u68c0\u67e5\u5b83\u4eec\u662f\u5426\u6709\u76f8\u540c\u7684\u6839\u8282\u70b9\u3002</li> </ul> <p>4. \u793a\u4f8b\u8f93\u51fa</p> <pre><code>True\nFalse\n</code></pre> <p>5. \u4f18\u5316\u548c\u5e94\u7528\u573a\u666f</p> <ul> <li>\u8def\u5f84\u538b\u7f29\u548c\u6309\u79e9\u5408\u5e76\u4f7f\u5f97\u5e76\u67e5\u96c6\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u63a5\u8fd1 <code>O(1)</code>\uff0c\u975e\u5e38\u9ad8\u6548\u3002</li> <li>\u5e76\u67e5\u96c6\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5904\u7406\u52a8\u6001\u8fde\u901a\u6027\u95ee\u9898\uff0c\u4f8b\u5982\u7f51\u7edc\u4e2d\u8282\u70b9\u7684\u8fde\u63a5\u3001\u56fe\u4e2d\u7684\u8fde\u901a\u5206\u91cf\u3001\u5e76\u67e5\u96c6\u5728 Kruskal \u7b97\u6cd5\u4e2d\u7528\u4e8e\u5bfb\u627e\u6700\u5c0f\u751f\u6210\u6811\u7b49\u3002</li> </ul> <p>\u8fd9\u4e2a\u6570\u636e\u7ed3\u6784\u5728\u5904\u7406\u9700\u8981\u5feb\u901f\u5408\u5e76\u548c\u67e5\u627e\u64cd\u4f5c\u7684\u95ee\u9898\u65f6\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datastruct/#113-lru","title":"11.3 LRU\u7f13\u5b58\u673a\u5236","text":"<p>LRU\uff08Least Recently Used\uff09\u7f13\u5b58\u673a\u5236\u662f\u4e00\u79cd\u7f13\u5b58\u6dd8\u6c70\u7b56\u7565\uff0c\u7528\u4e8e\u5728\u7f13\u5b58\u5bb9\u91cf\u6709\u9650\u7684\u60c5\u51b5\u4e0b\uff0c\u6dd8\u6c70\u6700\u4e45\u672a\u4f7f\u7528\u7684\u6570\u636e\uff0c\u4ece\u800c\u4e3a\u65b0\u7684\u6570\u636e\u817e\u51fa\u7a7a\u95f4\u3002</p> <p>1. LRU \u7f13\u5b58\u673a\u5236\u7684\u57fa\u672c\u601d\u60f3</p> <p>LRU \u7f13\u5b58\u673a\u5236\u7ef4\u62a4\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u7f13\u5b58\uff0c\u5f53\u7f13\u5b58\u6ee1\u65f6\uff0c\u79fb\u9664\u6700\u4e45\u672a\u4f7f\u7528\u7684\u5143\u7d20\u3002\u5e38\u89c1\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u4f7f\u7528\u4e00\u4e2a\u54c8\u5e0c\u8868\u914d\u5408\u4e00\u4e2a\u53cc\u5411\u94fe\u8868\uff1a - \u54c8\u5e0c\u8868\uff08<code>dict</code>\uff09\uff1a\u7528\u4e8e\u5feb\u901f\u67e5\u627e\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u3002 - \u53cc\u5411\u94fe\u8868\uff1a\u7528\u4e8e\u7ef4\u62a4\u6570\u636e\u7684\u4f7f\u7528\u987a\u5e8f\uff0c\u6700\u5e38\u7528\u7684\u5143\u7d20\u653e\u5728\u94fe\u8868\u5934\u90e8\uff0c\u6700\u4e0d\u5e38\u7528\u7684\u5143\u7d20\u653e\u5728\u94fe\u8868\u5c3e\u90e8\u3002</p> <p>2. LRU \u7f13\u5b58\u7684 Python \u5b9e\u73b0</p> <p>Python \u63d0\u4f9b\u4e86 <code>collections.OrderedDict</code>\uff0c\u5b83\u662f\u4e00\u4e2a\u7ef4\u62a4\u63d2\u5165\u987a\u5e8f\u7684\u5b57\u5178\uff0c\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0 LRU \u7f13\u5b58\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5b9e\u73b0\u3002</p> <pre><code>from collections import OrderedDict\n\nclass LRUCache:\n    def __init__(self, capacity: int):\n        self.cache = OrderedDict()\n        self.capacity = capacity\n\n    def get(self, key: int) -&gt; int:\n        if key not in self.cache:\n            return -1\n        else:\n            # \u5c06\u6700\u8fd1\u8bbf\u95ee\u7684\u952e\u503c\u5bf9\u79fb\u5230\u6700\u524d\u9762\n            self.cache.move_to_end(key, last=False)\n            return self.cache[key]\n\n    def put(self, key: int, value: int) -&gt; None:\n        if key in self.cache:\n            # \u66f4\u65b0\u952e\u503c\u5bf9\u5e76\u79fb\u5230\u6700\u524d\u9762\n            self.cache.move_to_end(key, last=False)\n        self.cache[key] = value\n        if len(self.cache) &gt; self.capacity:\n            # \u5f39\u51fa\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\u503c\u5bf9\uff08\u94fe\u8868\u5c3e\u90e8\u5143\u7d20\uff09\n            self.cache.popitem(last=True)\n\n# \u793a\u4f8b\u4f7f\u7528\nlru_cache = LRUCache(2)\n\nlru_cache.put(1, 1)\nlru_cache.put(2, 2)\nprint(lru_cache.get(1))  # \u8f93\u51fa: 1\nlru_cache.put(3, 3)      # \u6dd8\u6c70\u952e 2\nprint(lru_cache.get(2))  # \u8f93\u51fa: -1 (\u672a\u627e\u5230)\nlru_cache.put(4, 4)      # \u6dd8\u6c70\u952e 1\nprint(lru_cache.get(1))  # \u8f93\u51fa: -1 (\u672a\u627e\u5230)\nprint(lru_cache.get(3))  # \u8f93\u51fa: 3\nprint(lru_cache.get(4))  # \u8f93\u51fa: 4\n</code></pre> <p>3. \u4ee3\u7801\u89e3\u91ca</p> <ul> <li><code>OrderedDict</code>\uff1a<code>OrderedDict</code> \u662f Python \u7684\u4e00\u4e2a\u6709\u5e8f\u5b57\u5178\uff0c\u5b83\u6309\u7167\u952e\u63d2\u5165\u7684\u987a\u5e8f\u6765\u7ef4\u62a4\u5143\u7d20\u3002\u6211\u4eec\u5229\u7528\u5b83\u6765\u7ef4\u62a4 LRU \u7f13\u5b58\uff0c\u5176\u4e2d\u952e\u662f\u7f13\u5b58\u7684\u5143\u7d20\uff0c\u503c\u662f\u7f13\u5b58\u7684\u5185\u5bb9\u3002</li> <li><code>move_to_end(key, last=False)</code>\uff1a\u5c06\u6307\u5b9a\u952e\u503c\u5bf9\u79fb\u52a8\u5230\u5b57\u5178\u7684\u5f00\u5934\uff08<code>last=False</code>\uff09\u6216\u7ed3\u5c3e\uff08<code>last=True</code>\uff09\u3002\u5728 LRU \u7f13\u5b58\u4e2d\uff0c\u6211\u4eec\u5c06\u6700\u8fd1\u8bbf\u95ee\u7684\u952e\u503c\u5bf9\u79fb\u5230\u5b57\u5178\u7684\u5f00\u5934\u3002</li> <li> <p><code>popitem(last=True)</code>\uff1a\u79fb\u9664\u5b57\u5178\u4e2d\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002\u5728 LRU \u7f13\u5b58\u4e2d\uff0c\u8fd9\u610f\u5473\u7740\u5220\u9664\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\u503c\u5bf9\u3002</p> </li> <li> <p><code>get(key)</code>\uff1a\u83b7\u53d6\u7f13\u5b58\u4e2d\u7684\u503c\u3002\u5982\u679c\u952e\u5b58\u5728\uff0c\u5c06\u5176\u79fb\u5230\u6700\u524d\u9762\uff08\u8868\u793a\u6700\u8fd1\u4f7f\u7528\uff09\uff0c\u5e76\u8fd4\u56de\u5176\u5bf9\u5e94\u7684\u503c\uff1b\u5982\u679c\u952e\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de <code>-1</code>\u3002</p> </li> <li> <p><code>put(key, value)</code>\uff1a\u5411\u7f13\u5b58\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u952e\u503c\u5bf9\u3002\u5982\u679c\u952e\u5df2\u7ecf\u5b58\u5728\uff0c\u66f4\u65b0\u5176\u503c\u5e76\u5c06\u5176\u79fb\u5230\u6700\u524d\u9762\u3002\u5982\u679c\u7f13\u5b58\u5df2\u6ee1\uff0c\u79fb\u9664\u6700\u4e45\u672a\u4f7f\u7528\u7684\u952e\u503c\u5bf9\u3002</p> </li> </ul> <p>4. \u793a\u4f8b\u8f93\u51fa</p> <pre><code>1\n-1\n-1\n3\n4\n</code></pre> <p>5. \u590d\u6742\u5ea6\u5206\u6790</p> <ul> <li>\u65f6\u95f4\u590d\u6742\u5ea6\uff1a<code>get</code> \u548c <code>put</code> \u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5747\u4e3a <code>O(1)</code>\uff0c\u56e0\u4e3a <code>OrderedDict</code> \u7684\u63d2\u5165\u3001\u5220\u9664\u548c\u79fb\u52a8\u64cd\u4f5c\u90fd\u662f <code>O(1)</code> \u7684\u3002</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a <code>O(capacity)</code>\uff0c\u5176\u4e2d <code>capacity</code> \u662f\u7f13\u5b58\u7684\u5bb9\u91cf\u3002</li> </ul> <p>6. \u5e94\u7528\u573a\u666f</p> <p>LRU \u7f13\u5b58\u673a\u5236\u5e7f\u6cdb\u5e94\u7528\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u5b58\u7ba1\u7406\u3001\u6570\u636e\u5e93\u67e5\u8be2\u4f18\u5316\u3001Web \u7f13\u5b58\u7b49\u9886\u57df\u3002\u5b83\u5728\u9700\u8981\u7ba1\u7406\u6709\u9650\u8d44\u6e90\u5e76\u5e0c\u671b\u9ad8\u6548\u5229\u7528\u6700\u8fd1\u4f7f\u7528\u8fc7\u7684\u6570\u636e\u65f6\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/","title":"datetime \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#python-datetime","title":"Python <code>datetime</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>datetime</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u7528\u4e8e\u5904\u7406\u65e5\u671f\u548c\u65f6\u95f4\u7684\u7c7b\u3002\u5b83\u5141\u8bb8\u4f60\u521b\u5efa\u3001\u64cd\u4f5c\u548c\u683c\u5f0f\u5316\u65e5\u671f\u548c\u65f6\u95f4\u6570\u636e\u3002\u8be5\u6a21\u5757\u662f\u5904\u7406\u65f6\u95f4\u6233\u3001\u65e5\u671f\u548c\u65f6\u95f4\u76f8\u5173\u4efb\u52a1\u7684\u6838\u5fc3\u5de5\u5177\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#1","title":"1. \u5bfc\u5165\u6a21\u5757","text":"<pre><code>import datetime\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#2-datetime","title":"2. <code>datetime</code> \u6a21\u5757\u4e2d\u7684\u4e3b\u8981\u7c7b","text":"<ul> <li><code>datetime.date</code>: \u8868\u793a\u65e5\u671f\uff08\u5e74\u3001\u6708\u3001\u65e5\uff09\u3002</li> <li><code>datetime.time</code>: \u8868\u793a\u65f6\u95f4\uff08\u65f6\u3001\u5206\u3001\u79d2\u3001\u5fae\u79d2\uff09\u3002</li> <li><code>datetime.datetime</code>: \u8868\u793a\u65e5\u671f\u548c\u65f6\u95f4\u3002</li> <li><code>datetime.timedelta</code>: \u8868\u793a\u4e24\u4e2a\u65e5\u671f\u6216\u65f6\u95f4\u4e4b\u95f4\u7684\u65f6\u95f4\u5dee\u3002</li> <li><code>datetime.tzinfo</code>: \u7528\u4e8e\u5904\u7406\u65f6\u533a\u4fe1\u606f\u7684\u62bd\u8c61\u57fa\u7c7b\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#3-datetimedate","title":"3. <code>datetime.date</code> \u7c7b","text":"<ul> <li>\u83b7\u53d6\u5f53\u524d\u65e5\u671f</li> </ul> <pre><code>today = datetime.date.today()\nprint(today)  # \u8f93\u51fa\u4f8b\u5982 2024-08-27\n</code></pre> <ul> <li>\u521b\u5efa\u65e5\u671f\u5bf9\u8c61</li> </ul> <pre><code>date_obj = datetime.date(2024, 8, 27)\nprint(date_obj)  # \u8f93\u51fa 2024-08-27\n</code></pre> <ul> <li>\u83b7\u53d6\u65e5\u671f\u7684\u5e74\u3001\u6708\u3001\u65e5</li> </ul> <pre><code>year = date_obj.year\nmonth = date_obj.month\nday = date_obj.day\nprint(year, month, day)  # \u8f93\u51fa 2024 8 27\n</code></pre> <ul> <li>\u83b7\u53d6\u661f\u671f\u51e0</li> </ul> <pre><code>weekday = date_obj.weekday()  # Monday = 0, Sunday = 6\nprint(weekday)  # \u8f93\u51fa 1 \u8868\u793a\u661f\u671f\u4e8c\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#4-datetimetime","title":"4. <code>datetime.time</code> \u7c7b","text":"<ul> <li>\u521b\u5efa\u65f6\u95f4\u5bf9\u8c61</li> </ul> <pre><code>time_obj = datetime.time(14, 30, 45)\nprint(time_obj)  # \u8f93\u51fa 14:30:45\n</code></pre> <ul> <li>\u83b7\u53d6\u65f6\u95f4\u7684\u65f6\u3001\u5206\u3001\u79d2\u3001\u5fae\u79d2</li> </ul> <pre><code>hour = time_obj.hour\nminute = time_obj.minute\nsecond = time_obj.second\nmicrosecond = time_obj.microsecond\nprint(hour, minute, second, microsecond)  # \u8f93\u51fa 14 30 45 0\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#5-datetimedatetime","title":"5. <code>datetime.datetime</code> \u7c7b","text":"<ul> <li>\u83b7\u53d6\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4</li> </ul> <pre><code>now = datetime.datetime.now()\nprint(now)  # \u8f93\u51fa\u4f8b\u5982 2024-08-27 14:30:45.123456\n</code></pre> <ul> <li>\u521b\u5efa\u65e5\u671f\u65f6\u95f4\u5bf9\u8c61</li> </ul> <pre><code>datetime_obj = datetime.datetime(2024, 8, 27, 14, 30, 45)\nprint(datetime_obj)  # \u8f93\u51fa 2024-08-27 14:30:45\n</code></pre> <ul> <li>\u4ece\u65e5\u671f\u548c\u65f6\u95f4\u5bf9\u8c61\u521b\u5efa\u65e5\u671f\u65f6\u95f4\u5bf9\u8c61</li> </ul> <pre><code>date_obj = datetime.date(2024, 8, 27)\ntime_obj = datetime.time(14, 30)\ndatetime_obj = datetime.datetime.combine(date_obj, time_obj)\nprint(datetime_obj)  # \u8f93\u51fa 2024-08-27 14:30:00\n</code></pre> <ul> <li>\u83b7\u53d6\u65e5\u671f\u65f6\u95f4\u7684\u5404\u4e2a\u90e8\u5206</li> </ul> <pre><code>year = datetime_obj.year\nmonth = datetime_obj.month\nday = datetime_obj.day\nhour = datetime_obj.hour\nminute = datetime_obj.minute\nsecond = datetime_obj.second\nprint(year, month, day, hour, minute, second)  # \u8f93\u51fa 2024 8 27 14 30 45\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#6-datetimetimedelta","title":"6. <code>datetime.timedelta</code> \u7c7b","text":"<ul> <li>\u521b\u5efa\u65f6\u95f4\u5dee\u5bf9\u8c61</li> </ul> <pre><code>delta = datetime.timedelta(days=5, hours=2, minutes=30)\nprint(delta)  # \u8f93\u51fa 5 days, 2:30:00\n</code></pre> <ul> <li>\u65e5\u671f\u65f6\u95f4\u8fd0\u7b97</li> </ul> <pre><code>future_date = datetime_obj + delta\nprint(future_date)  # \u8f93\u51fa 2024-09-01 17:00:45\n\npast_date = datetime_obj - delta\nprint(past_date)  # \u8f93\u51fa 2024-08-22 12:00:45\n</code></pre> <ul> <li>\u83b7\u53d6\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u5dee\u5f02</li> </ul> <pre><code>start_date = datetime.datetime(2024, 8, 20)\nend_date = datetime.datetime(2024, 8, 27)\ndelta = end_date - start_date\nprint(delta)  # \u8f93\u51fa 7 days, 0:00:00\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#7","title":"7. \u65e5\u671f\u65f6\u95f4\u683c\u5f0f\u5316\u548c\u89e3\u6790","text":"<ul> <li>\u683c\u5f0f\u5316\u65e5\u671f\u65f6\u95f4\u4e3a\u5b57\u7b26\u4e32</li> </ul> <p><code>strftime()</code> \u51fd\u6570\u7528\u4e8e\u683c\u5f0f\u5316\u65e5\u671f\u548c\u65f6\u95f4\u5bf9\u8c61\u3002</p> <pre><code>formatted_date = datetime_obj.strftime(\"%Y-%m-%d %H:%M:%S\")\nprint(formatted_date)  # \u8f93\u51fa 2024-08-27 14:30:45\n</code></pre> <p>\u5e38\u7528\u7684\u683c\u5f0f\u5316\u7b26\u53f7\uff1a</p> <ul> <li><code>%Y</code>: \u56db\u4f4d\u6570\u7684\u5e74\u4efd</li> <li><code>%m</code>: \u4e24\u4f4d\u6570\u7684\u6708\u4efd\uff0801-12\uff09</li> <li><code>%d</code>: \u4e24\u4f4d\u6570\u7684\u65e5\u671f\uff0801-31\uff09</li> <li><code>%H</code>: 24\u5c0f\u65f6\u5236\u7684\u5c0f\u65f6\uff0800-23\uff09</li> <li><code>%M</code>: \u4e24\u4f4d\u6570\u7684\u5206\u949f\uff0800-59\uff09</li> <li> <p><code>%S</code>: \u4e24\u4f4d\u6570\u7684\u79d2\u6570\uff0800-59\uff09</p> </li> <li> <p>\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a\u65e5\u671f\u65f6\u95f4\u5bf9\u8c61</p> </li> </ul> <p><code>strptime()</code> \u51fd\u6570\u7528\u4e8e\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a\u65e5\u671f\u65f6\u95f4\u5bf9\u8c61\u3002</p> <pre><code>date_str = \"2024-08-27 14:30:45\"\nparsed_date = datetime.datetime.strptime(date_str, \"%Y-%m-%d %H:%M:%S\")\nprint(parsed_date)  # \u8f93\u51fa 2024-08-27 14:30:45\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#8-datetimetzinfo","title":"8. <code>datetime.tzinfo</code> \u7c7b\u548c\u65f6\u533a\u5904\u7406","text":"<ul> <li>\u5e26\u65f6\u533a\u7684\u65e5\u671f\u65f6\u95f4</li> </ul> <p>Python \u63d0\u4f9b\u4e86 <code>pytz</code> \u5e93\u6765\u5904\u7406\u65f6\u533a\u4fe1\u606f\uff0c\u53ef\u4ee5\u7ed3\u5408 <code>datetime.datetime</code> \u4f7f\u7528\u3002</p> <pre><code>import pytz\n\ntimezone = pytz.timezone('Asia/Shanghai')\naware_datetime = datetime.datetime.now(timezone)\nprint(aware_datetime)  # \u8f93\u51fa 2024-08-27 14:30:45.123456+08:00\n</code></pre> <ul> <li>\u8f6c\u6362\u65f6\u533a</li> </ul> <pre><code>new_timezone = pytz.timezone('America/New_York')\nnew_timezone_datetime = aware_datetime.astimezone(new_timezone)\nprint(new_timezone_datetime)  # \u8f93\u51fa 2024-08-27 02:30:45.123456-04:00\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/datetime/#_1","title":"\u603b\u7ed3","text":"<p><code>datetime</code> \u6a21\u5757\u662f\u5904\u7406\u65e5\u671f\u548c\u65f6\u95f4\u7684\u57fa\u7840\u5de5\u5177\uff0c\u63d0\u4f9b\u4e86\u521b\u5efa\u3001\u64cd\u4f5c\u548c\u683c\u5f0f\u5316\u65e5\u671f\u65f6\u95f4\u7684\u591a\u79cd\u65b9\u6cd5\u3002\u638c\u63e1\u8fd9\u4e2a\u6a21\u5757\u7684\u4f7f\u7528\u53ef\u4ee5\u5927\u5927\u7b80\u5316\u4f60\u5728\u7a0b\u5e8f\u4e2d\u5904\u7406\u65f6\u95f4\u76f8\u5173\u4efb\u52a1\u7684\u590d\u6742\u5ea6\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u8de8\u65f6\u533a\u7684\u5e94\u7528\u65f6\uff0c\u7ed3\u5408 <code>pytz</code> \u7b49\u5e93\u53ef\u4ee5\u5b9e\u73b0\u66f4\u5f3a\u5927\u7684\u529f\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/","title":"functools \u6a21\u5757","text":"<p><code>functools</code> \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u7684\u4e00\u90e8\u5206\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7528\u4e8e\u51fd\u6570\u64cd\u4f5c\u7684\u9ad8\u9636\u51fd\u6570\u548c\u88c5\u9970\u5668\u3002\u8fd9\u4e2a\u6a21\u5757\u4e3b\u8981\u7528\u4e8e\u63d0\u9ad8\u51fd\u6570\u7684\u590d\u7528\u6027\u548c\u7b80\u5316\u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#1-functools","title":"1. <code>functools</code> \u5e38\u7528\u529f\u80fd","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#11-functoolsreduce","title":"1.1 <code>functools.reduce()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5bf9\u4e00\u4e2a\u5e8f\u5217\u7684\u5143\u7d20\u8fdb\u884c\u7d2f\u8ba1\u64cd\u4f5c\u3002<code>reduce()</code> \u51fd\u6570\u4f1a\u5bf9\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u4f9d\u6b21\u6267\u884c\u4f20\u5165\u7684\u51fd\u6570\uff0c\u5e76\u5c06\u7ed3\u679c\u7ee7\u7eed\u4e0e\u4e0b\u4e00\u4e2a\u5143\u7d20\u8fdb\u884c\u7d2f\u79ef\u8ba1\u7b97\uff0c\u76f4\u5230\u6574\u4e2a\u5e8f\u5217\u8ba1\u7b97\u5b8c\u6bd5\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>function</code>\uff1a\u7528\u4e8e\u8ba1\u7b97\u7684\u51fd\u6570\uff0c\u5fc5\u987b\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\u3002</li> <li><code>iterable</code>\uff1a\u8981\u8fdb\u884c\u7d2f\u8ba1\u64cd\u4f5c\u7684\u5e8f\u5217\u3002</li> <li><code>initializer</code>\uff1a\u53ef\u9009\uff0c\u521d\u59cb\u503c\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from functools import reduce</li> </ul> <p>nums = [1, 2, 3, 4]   result = reduce(lambda x, y: x * y, nums)   print(result)  # \u8f93\u51fa: 24   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#12-functoolspartial","title":"1.2 <code>functools.partial()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u5c06\u90e8\u5206\u53c2\u6570\u56fa\u5b9a\uff0c\u7136\u540e\u8fd4\u56de\u8fd9\u4e2a\u65b0\u7684\u51fd\u6570\u3002\u5e38\u7528\u4e8e\u51fd\u6570\u53c2\u6570\u7684\u9884\u8bbe\u6216\u7b80\u5316\u51fd\u6570\u8c03\u7528\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>func</code>\uff1a\u8981\u90e8\u5206\u5e94\u7528\u7684\u51fd\u6570\u3002</li> <li><code>*args</code>\uff1a\u56fa\u5b9a\u7684\u53c2\u6570\u3002</li> <li><code>**kwargs</code>\uff1a\u56fa\u5b9a\u7684\u5173\u952e\u5b57\u53c2\u6570\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from functools import partial</li> </ul> <p>def multiply(x, y):       return x * y</p> <p>double = partial(multiply, 2)   print(double(5))  # \u8f93\u51fa: 10   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#13-functoolslru_cache","title":"1.3 <code>functools.lru_cache()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u4e3a\u51fd\u6570\u7ed3\u679c\u63d0\u4f9b\u7f13\u5b58\u529f\u80fd\uff0c\u7528\u4e8e\u4f18\u5316\u51fd\u6570\u7684\u91cd\u590d\u8c03\u7528\u3002<code>LRU</code> \u8868\u793a\u201c\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u201d\u7f13\u5b58\u7b56\u7565\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>maxsize</code>\uff1a\u7f13\u5b58\u7684\u6700\u5927\u6570\u91cf\u3002\u9ed8\u8ba4\u503c\u4e3a <code>128</code>\uff0c<code>None</code> \u8868\u793a\u4e0d\u9650\u5236\u7f13\u5b58\u5927\u5c0f\u3002</li> <li><code>typed</code>\uff1a\u5e03\u5c14\u503c\uff0c<code>True</code> \u8868\u793a\u5c06\u4e0d\u540c\u7c7b\u578b\u7684\u53c2\u6570\u5206\u522b\u7f13\u5b58\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>False</code>\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from functools import lru_cache</li> </ul> <p>@lru_cache(maxsize=100)   def fibonacci(n):       if n &lt; 2:           return n       return fibonacci(n-1) + fibonacci(n-2)</p> <p>print(fibonacci(10))  # \u8f93\u51fa: 55   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#14-functoolswraps","title":"1.4 <code>functools.wraps()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u7528\u4e8e\u88c5\u9970\u5668\u5185\uff0c\u5c06\u88ab\u88c5\u9970\u51fd\u6570\u7684\u5143\u6570\u636e\uff08\u5982\u51fd\u6570\u540d\u3001\u6587\u6863\u5b57\u7b26\u4e32\uff09\u590d\u5236\u5230\u88c5\u9970\u5668\u51fd\u6570\u4e2d\uff0c\u4fdd\u6301\u51fd\u6570\u7684\u5143\u6570\u636e\u4e0d\u53d8\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>wrapped</code>\uff1a\u88ab\u88c5\u9970\u7684\u51fd\u6570\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from functools import wraps</li> </ul> <p>def my_decorator(f):       @wraps(f)       def wrapper(args, kwargs):           print(\"Before function call\")           result = f(args, **kwargs)           print(\"After function call\")           return result       return wrapper</p> <p>@my_decorator   def say_hello():       \"\"\"This is a greeting function.\"\"\"       print(\"Hello!\")</p> <p>say_hello()   print(say_hello.name)  # \u8f93\u51fa: say_hello   print(say_hello.doc)   # \u8f93\u51fa: This is a greeting function.   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#15-functoolstotal_ordering","title":"1.5 <code>functools.total_ordering</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u4e3a\u7c7b\u63d0\u4f9b\u5168\u5957\u6bd4\u8f83\u64cd\u4f5c\uff0c\u53ea\u9700\u8981\u5b9a\u4e49 <code>__lt__()</code> (\u5c0f\u4e8e) \u548c <code>__eq__()</code> (\u7b49\u4e8e) \u65b9\u6cd5\uff0c\u5176\u4ed6\u6bd4\u8f83\u64cd\u4f5c\uff08<code>__le__()</code>\u3001<code>__gt__()</code>\u3001<code>__ge__()</code> \u548c <code>__ne__()</code>\uff09\u4f1a\u81ea\u52a8\u751f\u6210\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from functools import total_ordering</li> </ul> <p>@total_ordering   class Student:       def init(self, name, grade):           self.name = name           self.grade = grade</p> <pre><code>  def __eq__(self, other):\n      return self.grade == other.grade\n\n  def __lt__(self, other):\n      return self.grade &lt; other.grade\n</code></pre> <p>alice = Student(\"Alice\", 90)   bob = Student(\"Bob\", 85)</p> <p>print(alice &gt; bob)  # \u8f93\u51fa: True   print(alice &lt;= bob) # \u8f93\u51fa: False   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#16-functoolssingledispatch","title":"1.6 <code>functools.singledispatch()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5b9e\u73b0\u57fa\u4e8e\u53c2\u6570\u7c7b\u578b\u7684\u5355\u5206\u6d3e\u6cdb\u578b\u51fd\u6570\u3002\u901a\u8fc7\u6ce8\u518c\u4e0d\u540c\u7684\u7c7b\u578b\u5904\u7406\u51fd\u6570\uff0c\u5b9e\u73b0\u5bf9\u4e0d\u540c\u7c7b\u578b\u53c2\u6570\u7684\u4e0d\u540c\u5904\u7406\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from functools import singledispatch</li> </ul> <p>@singledispatch   def process(value):       print(\"Processing as a generic type:\", value)</p> <p>@process.register(int)   def _(value):       print(\"Processing as an integer:\", value)</p> <p>@process.register(str)   def _(value):       print(\"Processing as a string:\", value)</p> <p>process(10)   # \u8f93\u51fa: Processing as an integer: 10   process(\"hi\") # \u8f93\u51fa: Processing as a string: hi   process([1, 2, 3]) # \u8f93\u51fa: Processing as a generic type: [1, 2, 3]   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#2","title":"2. \u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#21-partial","title":"2.1 \u4f7f\u7528 <code>partial</code> \u4f18\u5316\u51fd\u6570\u53c2\u6570","text":"<p><code>partial</code> \u53ef\u4ee5\u5728\u7f16\u5199\u56de\u8c03\u51fd\u6570\u65f6\u975e\u5e38\u6709\u7528\uff0c\u53ef\u4ee5\u63d0\u524d\u7ed1\u5b9a\u90e8\u5206\u53c2\u6570\uff0c\u4ece\u800c\u51cf\u5c11\u590d\u6742\u5ea6\u3002\u4f8b\u5982\uff0c\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\uff1a</p> <pre><code>from functools import partial\n\ndef callback(x, y):\n    print(f\"Clicked on button {x} at position {y}\")\n\nbutton_callback = partial(callback, \"Button1\")\nbutton_callback((100, 200))  # \u8f93\u51fa: Clicked on button Button1 at position (100, 200)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#22-lru_cache","title":"2.2 \u4f7f\u7528 <code>lru_cache</code> \u63d0\u9ad8\u6027\u80fd","text":"<p>\u5bf9\u4e8e\u9012\u5f52\u51fd\u6570\uff0c<code>lru_cache</code> \u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5728\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u6216\u6c42\u89e3\u52a8\u6001\u89c4\u5212\u95ee\u9898\u65f6\uff0c\u7f13\u5b58\u529f\u80fd\u53ef\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/functools/#3","title":"3. \u6ce8\u610f\u4e8b\u9879","text":"<ul> <li><code>partial</code> \u7684\u4f7f\u7528\uff1a\u5f53\u4f7f\u7528 <code>partial</code> \u65f6\uff0c\u5982\u679c\u4f20\u9012\u7684\u53c2\u6570\u6570\u91cf\u4e0d\u8db3\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u7acb\u5373\u8c03\u7528\u3002\u8981\u786e\u4fdd\u4f20\u9012\u8db3\u591f\u7684\u53c2\u6570\u4ee5\u6b63\u786e\u8c03\u7528\u51fd\u6570\u3002</li> <li><code>lru_cache</code> \u7684\u7f13\u5b58\u7ba1\u7406\uff1a\u8981\u6ce8\u610f\u7f13\u5b58\u7684\u5927\u5c0f\uff08<code>maxsize</code> \u53c2\u6570\uff09\uff0c\u907f\u514d\u5360\u7528\u8fc7\u591a\u5185\u5b58\u3002\u53ef\u4ee5\u5b9a\u671f\u6e05\u7406\u7f13\u5b58\u6216\u6839\u636e\u5e94\u7528\u9700\u6c42\u8c03\u6574\u7f13\u5b58\u7b56\u7565\u3002</li> </ul> <p><code>functools</code> \u6a21\u5757\u4e3a Python \u63d0\u4f9b\u4e86\u8bb8\u591a\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u4f7f\u5f97\u51fd\u6570\u7684\u64cd\u4f5c\u66f4\u52a0\u7075\u6d3b\u548c\u9ad8\u6548\u3002\u65e0\u8bba\u662f\u4f18\u5316\u6027\u80fd\u3001\u7b80\u5316\u4ee3\u7801\uff0c\u8fd8\u662f\u5b9e\u73b0\u590d\u6742\u7684\u529f\u80fd\u9700\u6c42\uff0c<code>functools</code> \u90fd\u662f\u4e0d\u53ef\u6216\u7f3a\u7684\u5de5\u5177\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/","title":"json \u6a21\u5757","text":"<p><code>json</code> \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u5904\u7406 JSON\uff08JavaScript Object Notation\uff09\u6570\u636e\u683c\u5f0f\u3002JSON \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u6570\u636e\u4ea4\u6362\u683c\u5f0f\uff0c\u5e38\u7528\u4e8e Web \u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f20\u8f93\u6570\u636e\u3002Python \u7684 <code>json</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u5bf9 JSON \u6570\u636e\u7684\u89e3\u6790\u548c\u751f\u6210\u529f\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#1","title":"1. \u57fa\u672c\u529f\u80fd","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#11-jsondumps","title":"1.1 <code>json.dumps()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06 Python \u5bf9\u8c61\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>obj</code>\uff1a\u8981\u8f6c\u6362\u7684 Python \u5bf9\u8c61\u3002</li> <li><code>indent</code>\uff1a\u6307\u5b9a\u7f29\u8fdb\u7ea7\u522b\uff0c\u751f\u6210\u683c\u5f0f\u5316\u7684 JSON \u5b57\u7b26\u4e32\u3002</li> <li><code>separators</code>\uff1a\u5143\u7ec4\uff0c\u6307\u5b9a\u5206\u9694\u7b26\uff08\u9879\u4e4b\u95f4\u7684\u5206\u9694\u7b26\uff0c\u952e\u503c\u5bf9\u4e4b\u95f4\u7684\u5206\u9694\u7b26\uff09\u3002</li> <li><code>sort_keys</code>\uff1a\u662f\u5426\u6309\u5b57\u5178\u952e\u6392\u5e8f\uff08\u9ed8\u8ba4 <code>False</code>\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json</li> </ul> <p>data = {'name': 'Alice', 'age': 25, 'city': 'New York'}   json_str = json.dumps(data, indent=4, sort_keys=True)   print(json_str)   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#12-jsonloads","title":"1.2 <code>json.loads()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06 JSON \u5b57\u7b26\u4e32\u89e3\u6790\u4e3a Python \u5bf9\u8c61\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>s</code>\uff1a\u8981\u89e3\u6790\u7684 JSON \u5b57\u7b26\u4e32\u3002</li> <li><code>cls</code>\uff1a\u81ea\u5b9a\u4e49 JSON \u89e3\u7801\u5668\u7c7b\uff08\u9ed8\u8ba4 <code>None</code>\uff09\u3002</li> <li><code>object_hook</code>\uff1a\u7528\u4e8e\u89e3\u6790\u5b57\u5178\u7684\u81ea\u5b9a\u4e49\u51fd\u6570\u3002</li> <li><code>parse_float</code>\uff1a\u7528\u4e8e\u89e3\u6790 JSON \u6570\u5b57\u4e3a\u6d6e\u70b9\u6570\u7684\u81ea\u5b9a\u4e49\u51fd\u6570\u3002</li> <li><code>parse_int</code>\uff1a\u7528\u4e8e\u89e3\u6790 JSON \u6570\u5b57\u4e3a\u6574\u6570\u7684\u81ea\u5b9a\u4e49\u51fd\u6570\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json</li> </ul> <p>json_str = '{\"name\": \"Alice\", \"age\": 25, \"city\": \"New York\"}'   data = json.loads(json_str)   print(data)  # \u8f93\u51fa: {'name': 'Alice', 'age': 25, 'city': 'New York'}   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#13-jsondump","title":"1.3 <code>json.dump()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06 Python \u5bf9\u8c61\u8f6c\u6362\u4e3a JSON \u683c\u5f0f\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u6587\u4ef6\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>obj</code>\uff1a\u8981\u8f6c\u6362\u7684 Python \u5bf9\u8c61\u3002</li> <li><code>fp</code>\uff1a\u6587\u4ef6\u5bf9\u8c61\uff0c\u7528\u4e8e\u5199\u5165 JSON \u6570\u636e\u3002</li> <li><code>indent</code>\u3001<code>separators</code>\u3001<code>sort_keys</code>\uff1a\u540c <code>json.dumps()</code>\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json</li> </ul> <p>data = {'name': 'Alice', 'age': 25, 'city': 'New York'}   with open('data.json', 'w') as f:       json.dump(data, f, indent=4)   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#14-jsonload","title":"1.4 <code>json.load()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u4ece\u6587\u4ef6\u8bfb\u53d6 JSON \u6570\u636e\u5e76\u89e3\u6790\u4e3a Python \u5bf9\u8c61\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>fp</code>\uff1a\u6587\u4ef6\u5bf9\u8c61\uff0c\u5305\u542b JSON \u6570\u636e\u3002</li> <li><code>cls</code>\u3001<code>object_hook</code>\u3001<code>parse_float</code>\u3001<code>parse_int</code>\uff1a\u540c <code>json.loads()</code>\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json</li> </ul> <p>with open('data.json', 'r') as f:       data = json.load(f)   print(data)  # \u8f93\u51fa: {'name': 'Alice', 'age': 25, 'city': 'New York'}   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#2","title":"2. \u9ad8\u7ea7\u7528\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#21-json","title":"2.1 \u81ea\u5b9a\u4e49 JSON \u7f16\u7801\u5668","text":"<ul> <li>\u529f\u80fd\uff1a\u901a\u8fc7\u7ee7\u627f <code>json.JSONEncoder</code> \u7c7b\uff0c\u81ea\u5b9a\u4e49\u5bf9\u8c61\u7684 JSON \u7f16\u7801\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json</li> </ul> <p>class Person:       def init(self, name, age):           self.name = name           self.age = age</p> <p>class PersonEncoder(json.JSONEncoder):       def default(self, obj):           if isinstance(obj, Person):               return {'name': obj.name, 'age': obj.age}           return super().default(obj)</p> <p>person = Person('Alice', 25)   json_str = json.dumps(person, cls=PersonEncoder)   print(json_str)  # \u8f93\u51fa: {\"name\": \"Alice\", \"age\": 25}   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#22-json","title":"2.2 \u81ea\u5b9a\u4e49 JSON \u89e3\u7801\u5668","text":"<ul> <li>\u529f\u80fd\uff1a\u901a\u8fc7\u4f7f\u7528 <code>object_hook</code> \u53c2\u6570\uff0c\u81ea\u5b9a\u4e49 JSON \u5b57\u7b26\u4e32\u89e3\u6790\u4e3a Python \u5bf9\u8c61\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json</li> </ul> <p>def dict_to_person(d):       return Person(d['name'], d['age']) if 'name' in d and 'age' in d else d</p> <p>json_str = '{\"name\": \"Alice\", \"age\": 25}'   person = json.loads(json_str, object_hook=dict_to_person)   print(person.name, person.age)  # \u8f93\u51fa: Alice 25   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#23","title":"2.3 \u5904\u7406\u590d\u6742\u5bf9\u8c61","text":"<ul> <li>\u529f\u80fd\uff1a\u4f7f\u7528 <code>default</code> \u53c2\u6570\u6216\u81ea\u5b9a\u4e49\u7f16\u7801\u5668\u5904\u7406\u590d\u6742\u7684 Python \u5bf9\u8c61\uff08\u5982\u65e5\u671f\u3001\u7c7b\u5b9e\u4f8b\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json   from datetime import datetime</li> </ul> <p>class DateTimeEncoder(json.JSONEncoder):       def default(self, obj):           if isinstance(obj, datetime):               return obj.isoformat()           return super().default(obj)</p> <p>now = datetime.now()   json_str = json.dumps({'time': now}, cls=DateTimeEncoder)   print(json_str)  # \u8f93\u51fa: {\"time\": \"2024-08-28T12:34:56.789012\"}   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#3","title":"3. \u5e38\u89c1\u9519\u8bef\u5904\u7406","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#31-jsondecodeerror","title":"3.1 <code>JSONDecodeError</code>","text":"<ul> <li>\u573a\u666f\uff1a\u5728\u89e3\u6790 JSON \u5b57\u7b26\u4e32\u65f6\uff0c\u5982\u679c\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u4f1a\u5f15\u53d1 <code>JSONDecodeError</code>\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   import json</li> </ul> <p>invalid_json_str = '{\"name\": \"Alice\", \"age\": 25'  # \u7f3a\u5c11\u53f3\u62ec\u53f7   try:       data = json.loads(invalid_json_str)   except json.JSONDecodeError as e:       print(f\"JSON decode error: {e}\")   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/json/#4","title":"4. \u5e94\u7528\u573a\u666f","text":"<ul> <li>\u6570\u636e\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\uff1a\u5c06 Python \u5bf9\u8c61\u5e8f\u5217\u5316\u4e3a JSON \u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u7f51\u7edc\u4f20\u8f93\u6216\u5b58\u50a8\uff1b\u53cd\u5e8f\u5217\u5316 JSON \u5b57\u7b26\u4e32\u4e3a Python \u5bf9\u8c61\uff0c\u7528\u4e8e\u540e\u7eed\u5904\u7406\u3002</li> <li>\u914d\u7f6e\u6587\u4ef6\uff1a\u4f7f\u7528 JSON \u683c\u5f0f\u5b58\u50a8\u548c\u8bfb\u53d6\u5e94\u7528\u7a0b\u5e8f\u7684\u914d\u7f6e\u6570\u636e\u3002</li> <li>API \u6570\u636e\u4ea4\u4e92\uff1a\u4e0e\u57fa\u4e8e REST \u7684 Web API \u8fdb\u884c\u6570\u636e\u4ea4\u4e92\u65f6\uff0c\u901a\u5e38\u4f7f\u7528 JSON \u683c\u5f0f\u3002</li> </ul> <p><code>json</code> \u6a21\u5757\u4e3a Python \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684 JSON \u5904\u7406\u529f\u80fd\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u6570\u636e\u4ea4\u6362\u3001\u914d\u7f6e\u7ba1\u7406\u548c Web \u5f00\u53d1\u7b49\u573a\u666f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/","title":"logging \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#python-logging","title":"Python <code>logging</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>logging</code> \u6a21\u5757\u662f Python \u5185\u7f6e\u7684\u65e5\u5fd7\u8bb0\u5f55\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u7075\u6d3b\u4e14\u529f\u80fd\u5f3a\u5927\u7684\u65e5\u5fd7\u8bb0\u5f55\u7cfb\u7edf\uff0c\u7528\u4e8e\u8ddf\u8e2a\u548c\u8bb0\u5f55\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\u3001\u8c03\u8bd5\u4fe1\u606f\u3001\u9519\u8bef\u7b49\u5185\u5bb9\u3002\u76f8\u6bd4\u4e8e\u7b80\u5355\u7684 <code>print()</code> \u8c03\u8bd5\uff0c<code>logging</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u63a7\u5236\u548c\u7ba1\u7406\u65e5\u5fd7\u7684\u65b9\u5f0f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#1","title":"1. \u57fa\u672c\u7528\u6cd5","text":"<p><code>logging</code> \u6a21\u5757\u5141\u8bb8\u4f60\u901a\u8fc7\u65e5\u5fd7\u8bb0\u5f55\u5668\uff08Logger\uff09\u6765\u751f\u6210\u65e5\u5fd7\u4fe1\u606f\u3002\u6bcf\u6761\u65e5\u5fd7\u6d88\u606f\u90fd\u6709\u4e00\u4e2a\u4e25\u91cd\u6027\u7ea7\u522b\uff0c\u9ed8\u8ba4\u4ece\u6700\u4f4e\u5230\u6700\u9ad8\u4f9d\u6b21\u4e3a <code>DEBUG</code>\u3001<code>INFO</code>\u3001<code>WARNING</code>\u3001<code>ERROR</code>\u3001<code>CRITICAL</code>\u3002</p> <pre><code>import logging\n\n# \u8bbe\u7f6e\u57fa\u672c\u914d\u7f6e\nlogging.basicConfig(level=logging.DEBUG)\n\n# \u8bb0\u5f55\u4e0d\u540c\u7ea7\u522b\u7684\u65e5\u5fd7\nlogging.debug(\"\u8fd9\u662f\u8c03\u8bd5\u4fe1\u606f\")\nlogging.info(\"\u8fd9\u662f\u4e00\u822c\u4fe1\u606f\")\nlogging.warning(\"\u8fd9\u662f\u8b66\u544a\u4fe1\u606f\")\nlogging.error(\"\u8fd9\u662f\u9519\u8bef\u4fe1\u606f\")\nlogging.critical(\"\u8fd9\u662f\u4e25\u91cd\u9519\u8bef\u4fe1\u606f\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#2","title":"2. \u914d\u7f6e\u65e5\u5fd7","text":"<p><code>logging.basicConfig()</code> \u662f\u5feb\u901f\u8bbe\u7f6e\u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u6700\u7b80\u5355\u65b9\u6cd5\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\u3001\u683c\u5f0f\u3001\u8f93\u51fa\u4f4d\u7f6e\u7b49\u3002</p> <ul> <li>\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b: \u63a7\u5236\u6700\u4f4e\u8bb0\u5f55\u7684\u65e5\u5fd7\u7ea7\u522b\u3002</li> </ul> <p><code>python   logging.basicConfig(level=logging.INFO)</code></p> <ul> <li>\u8bbe\u7f6e\u65e5\u5fd7\u683c\u5f0f: \u683c\u5f0f\u5316\u65e5\u5fd7\u6d88\u606f\u7684\u8f93\u51fa\u65b9\u5f0f\u3002</li> </ul> <p><code>python   logging.basicConfig(       format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',       level=logging.DEBUG   )</code></p> <ul> <li>\u5c06\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6: \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u65e5\u5fd7\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8f93\u51fa\u5230\u6587\u4ef6\u3002</li> </ul> <p><code>python   logging.basicConfig(       filename='app.log',       filemode='w',       format='%(asctime)s - %(levelname)s - %(message)s',       level=logging.DEBUG   )</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#3-logger","title":"3. Logger \u5bf9\u8c61","text":"<p><code>Logger</code> \u662f\u65e5\u5fd7\u7cfb\u7edf\u7684\u4e3b\u4f53\uff0c\u7528\u4e8e\u8bb0\u5f55\u65e5\u5fd7\u6d88\u606f\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cPython \u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3a <code>root</code> \u7684\u5168\u5c40 Logger\uff0c\u4f46\u901a\u5e38\u6211\u4eec\u4f1a\u521b\u5efa\u81ea\u5b9a\u4e49\u7684 Logger\u3002</p> <ul> <li>\u521b\u5efa Logger \u5bf9\u8c61:</li> </ul> <p><code>python   logger = logging.getLogger('my_logger')   logger.setLevel(logging.DEBUG)</code></p> <ul> <li>Logger \u7ee7\u627f\u6027: \u5b50 Logger \u7ee7\u627f\u7236 Logger \u7684\u914d\u7f6e\u3002</li> </ul> <p><code>python   logger = logging.getLogger('my_logger.child')</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#4-handler","title":"4. Handler \u5904\u7406\u5668","text":"<p><code>Handler</code> \u51b3\u5b9a\u65e5\u5fd7\u4fe1\u606f\u7684\u8f93\u51fa\u4f4d\u7f6e\u3002\u5e38\u7528\u7684 <code>Handler</code> \u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>StreamHandler: \u5c06\u65e5\u5fd7\u8f93\u51fa\u5230\u63a7\u5236\u53f0\u3002</li> </ul> <p><code>python   console_handler = logging.StreamHandler()   logger.addHandler(console_handler)</code></p> <ul> <li>FileHandler: \u5c06\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6\u3002</li> </ul> <p><code>python   file_handler = logging.FileHandler('app.log')   logger.addHandler(file_handler)</code></p> <ul> <li>RotatingFileHandler: \u5c06\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6\uff0c\u5e76\u5728\u6587\u4ef6\u8fbe\u5230\u4e00\u5b9a\u5927\u5c0f\u65f6\u8fdb\u884c\u8f6e\u6362\u3002</li> </ul> <p><code>python   rotating_handler = logging.handlers.RotatingFileHandler(       'app.log', maxBytes=2000, backupCount=5   )   logger.addHandler(rotating_handler)</code></p> <ul> <li>TimedRotatingFileHandler: \u5c06\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6\uff0c\u5e76\u5728\u8bbe\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u540e\u8fdb\u884c\u8f6e\u6362\u3002</li> </ul> <p><code>python   timed_handler = logging.handlers.TimedRotatingFileHandler(       'app.log', when='midnight', interval=1, backupCount=7   )   logger.addHandler(timed_handler)</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#5-formatter","title":"5. Formatter \u683c\u5f0f\u5316\u5668","text":"<p><code>Formatter</code> \u7528\u4e8e\u63a7\u5236\u65e5\u5fd7\u4fe1\u606f\u7684\u6700\u7ec8\u8f93\u51fa\u683c\u5f0f\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u683c\u5f0f\u5b57\u7b26\u4e32\u6765\u5b9a\u5236\u8f93\u51fa\uff1a</p> <ul> <li><code>%(asctime)s</code>\uff1a\u65e5\u5fd7\u8bb0\u5f55\u7684\u65f6\u95f4</li> <li><code>%(name)s</code>\uff1aLogger \u7684\u540d\u79f0</li> <li><code>%(levelname)s</code>\uff1a\u65e5\u5fd7\u7ea7\u522b</li> <li><code>%(message)s</code>\uff1a\u65e5\u5fd7\u6d88\u606f</li> </ul> <pre><code>formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\nconsole_handler.setFormatter(formatter)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#6-filter","title":"6. Filter \u8fc7\u6ee4\u5668","text":"<p><code>Filter</code> \u7528\u4e8e\u66f4\u7ec6\u7c92\u5ea6\u5730\u63a7\u5236\u54ea\u4e9b\u65e5\u5fd7\u8bb0\u5f55\u80fd\u591f\u901a\u8fc7 Handler \u8fdb\u884c\u8f93\u51fa\u3002</p> <ul> <li>\u7b80\u5355\u793a\u4f8b:</li> </ul> <p>```python   class CustomFilter(logging.Filter):       def filter(self, record):           return 'special' in record.msg</p> <p>logger.addFilter(CustomFilter())   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#7","title":"7. \u914d\u7f6e\u65e5\u5fd7\uff1a\u914d\u7f6e\u6587\u4ef6\u4e0e\u5b57\u5178\u914d\u7f6e","text":"<ul> <li>\u914d\u7f6e\u6587\u4ef6:</li> </ul> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>configparser</code> \u683c\u5f0f\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u8bbe\u7f6e\u65e5\u5fd7\u3002</p> <p>```ini   [loggers]   keys=root,simpleExample</p> <p>[handlers]   keys=consoleHandler</p> <p>[formatters]   keys=sampleFormatter</p> <p>[logger_root]   level=DEBUG   handlers=consoleHandler</p> <p>[logger_simpleExample]   level=DEBUG   handlers=consoleHandler   qualname=simpleExample</p> <p>[handler_consoleHandler]   class=StreamHandler   level=DEBUG   formatter=sampleFormatter   args=(sys.stdout,)</p> <p>[formatter_sampleFormatter]   format=%(asctime)s - %(name)s - %(levelname)s - %(message)s   datefmt=   ```</p> <p>\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6:</p> <p>```python   import logging   import logging.config</p> <p>logging.config.fileConfig('logging.conf')   logger = logging.getLogger('simpleExample')   ```</p> <ul> <li>\u5b57\u5178\u914d\u7f6e:</li> </ul> <p>```python   import logging.config</p> <p>dictConfig = {       'version': 1,       'formatters': {           'default': {               'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s',           },       },       'handlers': {           'console': {               'class': 'logging.StreamHandler',               'formatter': 'default',           },       },       'root': {           'level': 'DEBUG',           'handlers': ['console']       },   }</p> <p>logging.config.dictConfig(dictConfig)   logger = logging.getLogger()   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#8","title":"8. \u65e5\u5fd7\u6355\u83b7\u5916\u90e8\u5e93\u7684\u65e5\u5fd7","text":"<p>\u4f60\u53ef\u4ee5\u63a7\u5236\u5916\u90e8\u5e93\u7684\u65e5\u5fd7\u8bb0\u5f55\u884c\u4e3a\uff0c\u4f8b\u5982\u5c06\u7b2c\u4e09\u65b9\u5e93\u7684\u65e5\u5fd7\u8bb0\u5f55\u7ea7\u522b\u8bbe\u7f6e\u4e3a <code>WARNING</code> \u6216\u66f4\u9ad8\uff1a</p> <pre><code>logging.getLogger('some_library').setLevel(logging.WARNING)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#9","title":"9. \u65e5\u5fd7\u5f02\u5e38\u4fe1\u606f","text":"<p><code>logging</code> \u53ef\u4ee5\u81ea\u52a8\u6355\u83b7\u548c\u8bb0\u5f55\u5f02\u5e38\u5806\u6808\u4fe1\u606f\u3002</p> <pre><code>try:\n    1 / 0\nexcept ZeroDivisionError:\n    logging.error(\"\u9664\u4ee5\u96f6\u7684\u9519\u8bef\", exc_info=True)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#10","title":"10. \u9ad8\u7ea7\u7528\u6cd5","text":"<ul> <li>\u591a\u8fdb\u7a0b\u5b89\u5168:</li> </ul> <p>Python \u7684 <code>logging</code> \u6a21\u5757\u652f\u6301\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\u7684\u65e5\u5fd7\u8bb0\u5f55\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>logging.handlers.QueueHandler</code> \u548c <code>logging.handlers.QueueListener</code> \u6765\u5b9e\u73b0\u65e5\u5fd7\u8bb0\u5f55\u7684\u8fdb\u7a0b\u5b89\u5168\u3002</p> <ul> <li>\u591a\u7ebf\u7a0b\u5b89\u5168:</li> </ul> <p><code>logging</code> \u6a21\u5757\u672c\u8eab\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u9002\u5408\u5728\u591a\u7ebf\u7a0b\u5e94\u7528\u4e2d\u4f7f\u7528\u3002</p> <ul> <li>\u6027\u80fd\u4f18\u5316:</li> </ul> <p>\u5982\u679c\u65e5\u5fd7\u8bb0\u5f55\u91cf\u5927\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>NullHandler</code> \u5173\u95ed\u4e0d\u5fc5\u8981\u7684\u65e5\u5fd7\u8f93\u51fa\uff0c\u6216\u4f7f\u7528\u9ad8\u6548\u7684\u65e5\u5fd7\u8bb0\u5f55\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/logging/#_1","title":"\u603b\u7ed3","text":"<p><code>logging</code> \u6a21\u5757\u662f Python \u5f3a\u5927\u800c\u7075\u6d3b\u7684\u65e5\u5fd7\u8bb0\u5f55\u7cfb\u7edf\u3002\u901a\u8fc7 <code>Logger</code>\u3001<code>Handler</code>\u3001<code>Formatter</code> \u548c <code>Filter</code> \u7b49\u7ec4\u4ef6\uff0c\u4f60\u53ef\u4ee5\u975e\u5e38\u7ec6\u81f4\u5730\u63a7\u5236\u65e5\u5fd7\u7684\u751f\u6210\u3001\u683c\u5f0f\u5316\u3001\u8f93\u51fa\u548c\u8fc7\u6ee4\u3002\u8fd9\u4f7f\u5f97\u5b83\u6210\u4e3a\u5f00\u53d1\u548c\u8c03\u8bd5\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u65f6\u4e0d\u53ef\u6216\u7f3a\u7684\u5de5\u5177\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/","title":"math \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#python-math","title":"Python <code>math</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>math</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6570\u5b66\u51fd\u6570\uff0c\u7528\u4e8e\u6267\u884c\u5404\u79cd\u6570\u5b66\u8fd0\u7b97\uff0c\u5982\u4e09\u89d2\u51fd\u6570\u3001\u5bf9\u6570\u3001\u5e42\u8fd0\u7b97\u7b49\u3002\u8be5\u6a21\u5757\u4e3b\u8981\u5904\u7406\u6d6e\u70b9\u6570\uff0c\u4f46\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u6574\u6570\u8fd0\u7b97\u7684\u652f\u6301\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#1","title":"1. \u5bfc\u5165\u6a21\u5757","text":"<pre><code>import math\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#2","title":"2. \u5e38\u7528\u6570\u5b66\u5e38\u91cf","text":"<ul> <li>\u6570\u5b66\u5e38\u6570 \u03c0\uff08\u5706\u5468\u7387\uff09</li> </ul> <pre><code>pi = math.pi\nprint(pi)  # \u8f93\u51fa 3.141592653589793\n</code></pre> <ul> <li>\u6570\u5b66\u5e38\u6570 e\uff08\u81ea\u7136\u5bf9\u6570\u7684\u5e95\u6570\uff09</li> </ul> <pre><code>e = math.e\nprint(e)  # \u8f93\u51fa 2.718281828459045\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#3","title":"3. \u57fa\u672c\u6570\u5b66\u51fd\u6570","text":"<ul> <li>\u6c42\u7edd\u5bf9\u503c</li> </ul> <pre><code>result = math.fabs(-5.3)\nprint(result)  # \u8f93\u51fa 5.3\n</code></pre> <ul> <li>\u5411\u4e0a\u53d6\u6574</li> </ul> <pre><code>result = math.ceil(4.1)\nprint(result)  # \u8f93\u51fa 5\n</code></pre> <ul> <li>\u5411\u4e0b\u53d6\u6574</li> </ul> <pre><code>result = math.floor(4.9)\nprint(result)  # \u8f93\u51fa 4\n</code></pre> <ul> <li>\u56db\u820d\u4e94\u5165</li> </ul> <pre><code>result = round(4.5)\nprint(result)  # \u8f93\u51fa 4 \u6216 5 \u53d6\u51b3\u4e8e Python \u7248\u672c\u548c\u5b9e\u73b0\n</code></pre> <ul> <li>\u5e42\u8fd0\u7b97</li> </ul> <pre><code>result = math.pow(2, 3)  # \u8ba1\u7b97 2^3\nprint(result)  # \u8f93\u51fa 8.0\n</code></pre> <ul> <li>\u5e73\u65b9\u6839</li> </ul> <pre><code>result = math.sqrt(16)\nprint(result)  # \u8f93\u51fa 4.0\n</code></pre> <ul> <li>\u6c42\u548c</li> </ul> <pre><code>result = math.fsum([0.1, 0.2, 0.3])\nprint(result)  # \u8f93\u51fa 0.6000000000000001\uff0c\u6bd4\u5185\u5efa\u7684 sum \u51c6\u786e\u6027\u66f4\u9ad8\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#4","title":"4. \u4e09\u89d2\u51fd\u6570","text":"<ul> <li>\u6b63\u5f26</li> </ul> <pre><code>result = math.sin(math.pi / 2)\nprint(result)  # \u8f93\u51fa 1.0\n</code></pre> <ul> <li>\u4f59\u5f26</li> </ul> <pre><code>result = math.cos(math.pi)\nprint(result)  # \u8f93\u51fa -1.0\n</code></pre> <ul> <li>\u6b63\u5207</li> </ul> <pre><code>result = math.tan(math.pi / 4)\nprint(result)  # \u8f93\u51fa 1.0\n</code></pre> <ul> <li>\u53cd\u4e09\u89d2\u51fd\u6570</li> </ul> <pre><code>result = math.asin(1)\nprint(result)  # \u8f93\u51fa \u03c0/2\uff0c\u7ea6\u4e3a 1.5707963267948966\n</code></pre> <ul> <li>\u89d2\u5ea6\u8f6c\u6362</li> </ul> <pre><code>radians = math.radians(180)\ndegrees = math.degrees(math.pi)\nprint(radians)  # \u8f93\u51fa 3.141592653589793\nprint(degrees)  # \u8f93\u51fa 180.0\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#5","title":"5. \u5bf9\u6570\u548c\u6307\u6570\u51fd\u6570","text":"<ul> <li>\u81ea\u7136\u5bf9\u6570</li> </ul> <pre><code>result = math.log(math.e)\nprint(result)  # \u8f93\u51fa 1.0\n</code></pre> <ul> <li>\u6307\u5b9a\u5e95\u7684\u5bf9\u6570</li> </ul> <pre><code>result = math.log(100, 10)\nprint(result)  # \u8f93\u51fa 2.0\n</code></pre> <ul> <li>10 \u4e3a\u5e95\u7684\u5bf9\u6570</li> </ul> <pre><code>result = math.log10(1000)\nprint(result)  # \u8f93\u51fa 3.0\n</code></pre> <ul> <li>\u6307\u6570\u51fd\u6570</li> </ul> <pre><code>result = math.exp(2)\nprint(result)  # \u8f93\u51fa e^2\uff0c\u7ea6\u4e3a 7.3890560989306495\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#6","title":"6. \u9ad8\u7ea7\u6570\u5b66\u51fd\u6570","text":"<ul> <li>\u9636\u4e58</li> </ul> <pre><code>result = math.factorial(5)\nprint(result)  # \u8f93\u51fa 120\n</code></pre> <ul> <li>\u6700\u5927\u516c\u7ea6\u6570</li> </ul> <pre><code>result = math.gcd(48, 64)\nprint(result)  # \u8f93\u51fa 16\n</code></pre> <ul> <li>\u6700\u5c0f\u516c\u500d\u6570</li> </ul> <p>Python 3.9+ \u4e2d\u5f15\u5165\u4e86 <code>math.lcm()</code> \u51fd\u6570\uff1a</p> <pre><code>result = math.lcm(12, 18)\nprint(result)  # \u8f93\u51fa 36\n</code></pre> <ul> <li>\u6d6e\u70b9\u6570\u7684\u5206\u89e3</li> </ul> <pre><code>mantissa, exponent = math.frexp(8)\nprint(mantissa, exponent)  # \u8f93\u51fa (0.5, 4)\n</code></pre> <ul> <li>\u6d6e\u70b9\u6570\u4e0e\u6574\u6570\u548c\u5c0f\u6570\u90e8\u5206\u7684\u5206\u79bb</li> </ul> <pre><code>frac, whole = math.modf(3.14)\nprint(frac, whole)  # \u8f93\u51fa (0.14000000000000012, 3.0)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#7","title":"7. \u7279\u6b8a\u51fd\u6570","text":"<ul> <li>\u8bef\u5dee\u51fd\u6570</li> </ul> <pre><code>result = math.erf(1)\nprint(result)  # \u8f93\u51fa\u7ea6\u4e3a 0.8427007929497149\n</code></pre> <ul> <li>\u4f3d\u739b\u51fd\u6570</li> </ul> <pre><code>result = math.gamma(5)\nprint(result)  # \u8f93\u51fa 24.0\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/math/#_1","title":"\u603b\u7ed3","text":"<p><code>math</code> \u6a21\u5757\u662f Python \u4e2d\u5904\u7406\u6570\u5b66\u8fd0\u7b97\u7684\u6838\u5fc3\u6a21\u5757\u4e4b\u4e00\u3002\u5b83\u63d0\u4f9b\u4e86\u5e38\u7528\u7684\u6570\u5b66\u8fd0\u7b97\u51fd\u6570\u3001\u4e09\u89d2\u51fd\u6570\u3001\u5bf9\u6570\u51fd\u6570\u3001\u5e42\u8fd0\u7b97\u4ee5\u53ca\u7279\u6b8a\u51fd\u6570\u7b49\u3002\u719f\u7ec3\u638c\u63e1 <code>math</code> \u6a21\u5757\u80fd\u591f\u5e2e\u52a9\u4f60\u5728\u7a0b\u5e8f\u4e2d\u5904\u7406\u590d\u6742\u7684\u6570\u5b66\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/","title":"matpliot \u4f7f\u7528\u6559\u7a0b","text":"<p>Matplotlib \u662f\u4e00\u4e2a\u7528\u4e8e\u5728 Python \u4e2d\u521b\u5efa\u9759\u6001\u3001\u52a8\u6001\u548c\u4ea4\u4e92\u5f0f\u53ef\u89c6\u5316\u56fe\u8868\u7684\u5e93\u3002\u5b83\u975e\u5e38\u7075\u6d3b\u4e14\u529f\u80fd\u5f3a\u5927\uff0c\u53ef\u4ee5\u751f\u6210\u5404\u79cd\u7c7b\u578b\u7684\u56fe\u8868\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u8be6\u7ec6\u7684 Matplotlib \u4f7f\u7528\u6559\u7a0b\uff0c\u6db5\u76d6\u4ece\u57fa\u672c\u7ed8\u56fe\u5230\u9ad8\u7ea7\u7528\u6cd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#matplotlib","title":"\u4e00\u3001\u5b89\u88c5 Matplotlib","text":"<p>\u9996\u5148\uff0c\u9700\u8981\u5b89\u88c5 Matplotlib \u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>pip install matplotlib\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#matplotlib_1","title":"\u4e8c\u3001\u5bfc\u5165 Matplotlib","text":"<p>\u5728\u5f00\u59cb\u7ed8\u56fe\u4e4b\u524d\uff0c\u9996\u5148\u9700\u8981\u5728 Python \u811a\u672c\u6216 Jupyter Notebook \u4e2d\u5bfc\u5165 Matplotlib\u3002</p> <pre><code>import matplotlib.pyplot as plt\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#_1","title":"\u4e09\u3001\u57fa\u672c\u7ed8\u56fe","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#31","title":"3.1 \u7ed8\u5236\u7b80\u5355\u7684\u6298\u7ebf\u56fe","text":"<pre><code>import matplotlib.pyplot as plt\n\n# \u51c6\u5907\u6570\u636e\nx = [1, 2, 3, 4, 5]\ny = [2, 3, 5, 7, 11]\n\n# \u521b\u5efa\u56fe\u8868\nplt.plot(x, y)\n\n# \u663e\u793a\u56fe\u8868\nplt.show()\n</code></pre> <p>\u8fd9\u5c06\u7ed8\u5236\u4e00\u4e2a\u7b80\u5355\u7684\u6298\u7ebf\u56fe\uff0c\u5176\u4e2d <code>x</code> \u8f74\u8868\u793a x \u6570\u636e\uff0c<code>y</code> \u8f74\u8868\u793a y \u6570\u636e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#32","title":"3.2 \u6dfb\u52a0\u6807\u9898\u548c\u6807\u7b7e","text":"<pre><code>plt.plot(x, y)\nplt.title('Simple Line Plot')  # \u6dfb\u52a0\u6807\u9898\nplt.xlabel('X-axis Label')     # X\u8f74\u6807\u7b7e\nplt.ylabel('Y-axis Label')     # Y\u8f74\u6807\u7b7e\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#33","title":"3.3 \u81ea\u5b9a\u4e49\u7ebf\u6761\u6837\u5f0f","text":"<p>\u4f60\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7ebf\u6761\u7684\u989c\u8272\u3001\u6837\u5f0f\u548c\u5bbd\u5ea6\u3002</p> <pre><code>plt.plot(x, y, color='red', linestyle='--', linewidth=2)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#34","title":"3.4 \u6dfb\u52a0\u56fe\u4f8b","text":"<p>\u56fe\u4f8b\u53ef\u4ee5\u5e2e\u52a9\u89e3\u91ca\u56fe\u4e2d\u7684\u4e0d\u540c\u7ebf\u6761\u6216\u6570\u636e\u3002</p> <pre><code>plt.plot(x, y, label='Prime Numbers')\nplt.legend()  # \u663e\u793a\u56fe\u4f8b\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#_2","title":"\u56db\u3001\u7ed8\u5236\u4e0d\u540c\u7c7b\u578b\u7684\u56fe\u8868","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#41","title":"4.1 \u6761\u5f62\u56fe","text":"<pre><code>categories = ['A', 'B', 'C', 'D']\nvalues = [4, 7, 1, 8]\n\nplt.bar(categories, values)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#42","title":"4.2 \u76f4\u65b9\u56fe","text":"<pre><code>data = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]\n\nplt.hist(data, bins=4)  # bins \u53c2\u6570\u63a7\u5236\u5206\u6210\u591a\u5c11\u4e2a\u67f1\u72b6\u533a\u95f4\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#43","title":"4.3 \u6563\u70b9\u56fe","text":"<pre><code>x = [1, 2, 3, 4, 5]\ny = [2, 3, 5, 7, 11]\n\nplt.scatter(x, y)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#44","title":"4.4 \u997c\u56fe","text":"<pre><code>labels = ['A', 'B', 'C', 'D']\nsizes = [15, 30, 45, 10]\n\nplt.pie(sizes, labels=labels, autopct='%1.1f%%')  # autopct \u53c2\u6570\u663e\u793a\u767e\u5206\u6bd4\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#_3","title":"\u4e94\u3001\u5b50\u56fe\u4e0e\u5e03\u5c40","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#51","title":"5.1 \u521b\u5efa\u591a\u4e2a\u5b50\u56fe","text":"<p>\u4f7f\u7528 <code>subplot</code> \u53ef\u4ee5\u5728\u540c\u4e00\u5f20\u56fe\u4e0a\u7ed8\u5236\u591a\u4e2a\u5b50\u56fe\u3002</p> <pre><code># \u521b\u5efa\u4e00\u4e2a 2x2 \u7684\u56fe\u8868\nplt.subplot(2, 2, 1)\nplt.plot([1, 2, 3, 4])\n\nplt.subplot(2, 2, 2)\nplt.plot([4, 3, 2, 1])\n\nplt.subplot(2, 2, 3)\nplt.plot([1, 2, 1, 2])\n\nplt.subplot(2, 2, 4)\nplt.plot([2, 3, 4, 5])\n\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#52","title":"5.2 \u8c03\u6574\u5b50\u56fe\u4e4b\u95f4\u7684\u95f4\u8ddd","text":"<pre><code>plt.subplot(2, 2, 1)\nplt.plot([1, 2, 3, 4])\n\nplt.subplot(2, 2, 2)\nplt.plot([4, 3, 2, 1])\n\nplt.subplot(2, 2, 3)\nplt.plot([1, 2, 1, 2])\n\nplt.subplot(2, 2, 4)\nplt.plot([2, 3, 4, 5])\n\nplt.tight_layout()  # \u81ea\u52a8\u8c03\u6574\u5b50\u56fe\u4e4b\u95f4\u7684\u95f4\u8ddd\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#_4","title":"\u516d\u3001\u56fe\u8868\u6837\u5f0f\u4e0e\u7f8e\u5316","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#61","title":"6.1 \u66f4\u6539\u56fe\u8868\u6837\u5f0f","text":"<p>Matplotlib \u63d0\u4f9b\u4e86\u591a\u79cd\u5185\u7f6e\u6837\u5f0f\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>plt.style.use</code> \u6765\u5e94\u7528\u3002</p> <pre><code>plt.style.use('ggplot')  # \u4f7f\u7528 ggplot \u98ce\u683c\n\nx = [1, 2, 3, 4, 5]\ny = [2, 3, 5, 7, 11]\n\nplt.plot(x, y)\nplt.show()\n</code></pre> <p>\u5176\u4ed6\u6837\u5f0f\u5305\u62ec <code>'seaborn'</code>\u3001<code>'bmh'</code>\u3001<code>'fivethirtyeight'</code> \u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#62","title":"6.2 \u81ea\u5b9a\u4e49\u989c\u8272\u548c\u5b57\u4f53","text":"<pre><code>plt.plot(x, y, color='purple', marker='o')  # \u81ea\u5b9a\u4e49\u989c\u8272\u548c\u6807\u8bb0\nplt.title('Custom Style', fontsize=20)  # \u81ea\u5b9a\u4e49\u6807\u9898\u5b57\u4f53\u5927\u5c0f\nplt.xlabel('X-axis', fontsize=15)\nplt.ylabel('Y-axis', fontsize=15)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#_5","title":"\u4e03\u3001\u4fdd\u5b58\u56fe\u8868","text":"<p>\u4f60\u53ef\u4ee5\u5c06\u751f\u6210\u7684\u56fe\u8868\u4fdd\u5b58\u4e3a\u6587\u4ef6\uff0c\u5982 PNG\u3001PDF \u7b49\u683c\u5f0f\u3002</p> <pre><code>plt.plot(x, y)\nplt.savefig('plot.png')  # \u4fdd\u5b58\u4e3a PNG \u6587\u4ef6\nplt.savefig('plot.pdf')  # \u4fdd\u5b58\u4e3a PDF \u6587\u4ef6\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#_6","title":"\u516b\u3001\u52a8\u6001\u56fe\u8868","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#81-funcanimation","title":"8.1 \u4f7f\u7528 FuncAnimation \u521b\u5efa\u52a8\u753b","text":"<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport matplotlib.animation as animation\n\nfig, ax = plt.subplots()\nx = np.arange(0, 2 * np.pi, 0.01)\nline, = ax.plot(x, np.sin(x))\n\ndef update(num, x, line):\n    line.set_ydata(np.sin(x + num / 10.0))\n    return line,\n\nani = animation.FuncAnimation(fig, update, frames=100, fargs=[x, line], interval=50)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#3d","title":"\u4e5d\u30013D \u56fe\u8868","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#91-3d","title":"9.1 \u7ed8\u5236 3D \u66f2\u7ebf","text":"<pre><code>from mpl_toolkits.mplot3d import Axes3D\nimport numpy as np\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nt = np.linspace(0, 2 * np.pi, 100)\nx = np.sin(t)\ny = np.cos(t)\nz = t\n\nax.plot(x, y, z)\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#_7","title":"\u5341\u3001\u5e38\u7528\u6280\u5de7","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#101","title":"10.1 \u5728\u56fe\u8868\u4e2d\u6dfb\u52a0\u6ce8\u91ca","text":"<pre><code>plt.plot(x, y)\nplt.text(3, 5, 'Important Point', fontsize=12)  # \u5728\u5750\u6807 (3,5) \u5904\u6dfb\u52a0\u6ce8\u91ca\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/matpliot/#102-xlim-ylim","title":"10.2 \u4f7f\u7528 <code>xlim</code> \u548c <code>ylim</code> \u8bbe\u7f6e\u5750\u6807\u8f74\u8303\u56f4","text":"<pre><code>plt.plot(x, y)\nplt.xlim(0, 6)  # \u8bbe\u7f6e x \u8f74\u8303\u56f4\nplt.ylim(0, 12)  # \u8bbe\u7f6e y \u8f74\u8303\u56f4\nplt.show()\n</code></pre> <p>Matplotlib \u662f\u4e00\u4e2a\u975e\u5e38\u7075\u6d3b\u4e14\u529f\u80fd\u5f3a\u5927\u7684\u5e93\uff0c\u5b83\u80fd\u591f\u6ee1\u8db3\u4ece\u7b80\u5355\u5230\u590d\u6742\u7684\u5404\u79cd\u7ed8\u56fe\u9700\u6c42\u3002\u901a\u8fc7\u638c\u63e1\u4e0a\u8ff0\u5185\u5bb9\uff0c\u4f60\u53ef\u4ee5\u751f\u6210\u5404\u79cd\u7c7b\u578b\u7684\u56fe\u8868\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u4e30\u5bcc\u7684\u5b9a\u5236\u548c\u4f18\u5316\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/","title":"mock \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#python-mock","title":"Python <code>mock</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>mock</code> \u6a21\u5757\uff08\u4ece Python 3.3 \u5f00\u59cb\u96c6\u6210\u4e3a <code>unittest.mock</code>\uff09\u7528\u4e8e\u5728\u6d4b\u8bd5\u4e2d\u66ff\u6362\u548c\u6a21\u62df\u5bf9\u8c61\u7684\u884c\u4e3a\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6a21\u62df\u590d\u6742\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f7f\u5355\u5143\u6d4b\u8bd5\u66f4\u52a0\u72ec\u7acb\u548c\u53ef\u63a7\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#1","title":"1. \u57fa\u672c\u6982\u5ff5","text":"<p><code>mock</code> \u6a21\u5757\u7684\u6838\u5fc3\u7c7b\u662f <code>Mock</code>\uff0c\u5b83\u5141\u8bb8\u4f60\u521b\u5efa\u201c\u4f2a\u9020\u201d\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u53ef\u4ee5\u88ab\u52a8\u6001\u5730\u8d4b\u4e88\u4efb\u4f55\u5c5e\u6027\u548c\u884c\u4e3a\u3002</p> <pre><code>from unittest.mock import Mock\n\n# \u521b\u5efa\u4e00\u4e2a Mock \u5bf9\u8c61\nmock_obj = Mock()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#2","title":"2. \u6a21\u62df\u65b9\u6cd5\u548c\u5c5e\u6027","text":"<ul> <li>\u6a21\u62df\u65b9\u6cd5:</li> </ul> <p><code>python   mock_obj.some_method.return_value = 42   result = mock_obj.some_method()   assert result == 42</code></p> <ul> <li>\u6a21\u62df\u5c5e\u6027:</li> </ul> <p><code>python   mock_obj.some_attr = 'mocked attribute'   assert mock_obj.some_attr == 'mocked attribute'</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#3","title":"3. \u68c0\u67e5\u65b9\u6cd5\u8c03\u7528","text":"<ul> <li>\u68c0\u67e5\u65b9\u6cd5\u662f\u5426\u88ab\u8c03\u7528:</li> </ul> <p><code>python   mock_obj.some_method()   mock_obj.some_method.assert_called()</code></p> <ul> <li>\u68c0\u67e5\u65b9\u6cd5\u8c03\u7528\u6b21\u6570:</li> </ul> <p><code>python   mock_obj.some_method()   mock_obj.some_method()   mock_obj.some_method.assert_called_once()  # \u68c0\u67e5\u662f\u5426\u53ea\u8c03\u7528\u4e86\u4e00\u6b21</code></p> <ul> <li>\u68c0\u67e5\u65b9\u6cd5\u8c03\u7528\u7684\u53c2\u6570:</li> </ul> <p><code>python   mock_obj.some_method('hello', 'world')   mock_obj.some_method.assert_called_with('hello', 'world')</code></p> <ul> <li>\u68c0\u67e5\u65b9\u6cd5\u7684\u8c03\u7528\u987a\u5e8f:</li> </ul> <p>```python   from unittest.mock import call</p> <p>mock_obj.some_method('first')   mock_obj.some_method('second')</p> <p>mock_obj.some_method.assert_has_calls([call('first'), call('second')])   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#4-patch","title":"4. \u4f7f\u7528 <code>patch</code> \u88c5\u9970\u5668/\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668","text":"<p><code>patch</code> \u662f <code>mock</code> \u6a21\u5757\u4e2d\u6700\u5e38\u7528\u7684\u529f\u80fd\u4e4b\u4e00\uff0c\u5b83\u53ef\u4ee5\u4e34\u65f6\u66ff\u6362\u5bf9\u8c61\u6216\u6a21\u5757\u7684\u5c5e\u6027\u3002</p> <ul> <li>\u4f7f\u7528 <code>patch</code> \u88c5\u9970\u5668:</li> </ul> <p>```python   from unittest.mock import patch</p> <p>@patch('module.ClassName')   def test_something(mock_class):       instance = mock_class.return_value       instance.method.return_value = 'mocked'</p> <pre><code>  result = instance.method()\n  assert result == 'mocked'\n</code></pre> <p>```</p> <ul> <li>\u4f7f\u7528 <code>patch</code> \u4e0a\u4e0b\u6587\u7ba1\u7406\u5668:</li> </ul> <p>```python   with patch('module.ClassName') as mock_class:       instance = mock_class.return_value       instance.method.return_value = 'mocked'</p> <pre><code>  result = instance.method()\n  assert result == 'mocked'\n</code></pre> <p>```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#5-patchobject","title":"5. \u4f7f\u7528 <code>patch.object</code> \u66ff\u6362\u5bf9\u8c61\u5c5e\u6027","text":"<p><code>patch.object</code> \u5141\u8bb8\u66ff\u6362\u7279\u5b9a\u5bf9\u8c61\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u3002</p> <pre><code>class MyClass:\n    def method(self):\n        return 'original'\n\nmy_obj = MyClass()\n\nwith patch.object(my_obj, 'method', return_value='mocked'):\n    result = my_obj.method()\n    assert result == 'mocked'\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#6-magicmock","title":"6. <code>MagicMock</code> \u7c7b","text":"<p><code>MagicMock</code> \u662f <code>Mock</code> \u7684\u4e00\u4e2a\u5b50\u7c7b\uff0c\u5b83\u6a21\u62df\u4e86\u6240\u6709\u9b54\u6cd5\u65b9\u6cd5\uff08\u5982 <code>__len__</code>\u3001<code>__getitem__</code> \u7b49\uff09\u3002</p> <pre><code>from unittest.mock import MagicMock\n\nmock_list = MagicMock()\n\n# \u6a21\u62df list \u7684\u884c\u4e3a\nmock_list.__len__.return_value = 10\nassert len(mock_list) == 10\n\nmock_list.__getitem__.return_value = 'mocked'\nassert mock_list[0] == 'mocked'\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#7","title":"7. \u81ea\u52a8\u8865\u5168\u5c5e\u6027\u548c\u65b9\u6cd5","text":"<p><code>mock</code> \u5bf9\u8c61\u7684\u4efb\u610f\u5c5e\u6027\u548c\u65b9\u6cd5\u9ed8\u8ba4\u90fd\u662f <code>Mock</code> \u5bf9\u8c61\u3002</p> <pre><code>mock_obj = Mock()\n\n# \u52a8\u6001\u751f\u6210\u5c5e\u6027\u548c\u65b9\u6cd5\nresult = mock_obj.anything.you.can.imagine()\nassert isinstance(result, Mock)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#8-side_effect","title":"8. side_effect \u7528\u6cd5","text":"<p><code>side_effect</code> \u53ef\u4ee5\u6307\u5b9a\u8c03\u7528\u65b9\u6cd5\u65f6\u7684\u526f\u4f5c\u7528\u3002\u5b83\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\u3001\u5f02\u5e38\u6216\u4e00\u4e2a\u8fd4\u56de\u503c\u5e8f\u5217\u3002</p> <ul> <li>\u629b\u51fa\u5f02\u5e38:</li> </ul> <p><code>python   mock_obj.method.side_effect = ValueError(\"Error occurred\")   try:       mock_obj.method()   except ValueError as e:       assert str(e) == \"Error occurred\"</code></p> <ul> <li>\u6839\u636e\u8f93\u5165\u53c2\u6570\u8fd4\u56de\u4e0d\u540c\u503c:</li> </ul> <p>```python   def side_effect(arg):       return arg * 2</p> <p>mock_obj.method.side_effect = side_effect   assert mock_obj.method(3) == 6   ```</p> <ul> <li>\u8fd4\u56de\u4e0d\u540c\u7684\u5e8f\u5217\u503c:</li> </ul> <p><code>python   mock_obj.method.side_effect = [1, 2, 3]   assert mock_obj.method() == 1   assert mock_obj.method() == 2   assert mock_obj.method() == 3</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#9-mock_open","title":"9. mock_open \u8bfb\u53d6\u6587\u4ef6","text":"<p><code>mock_open</code> \u7528\u4e8e\u6a21\u62df\u6587\u4ef6\u8bfb\u53d6\u64cd\u4f5c\uff0c\u7279\u522b\u662f\u5728\u6d4b\u8bd5\u9700\u8981\u6a21\u62df <code>open()</code> \u51fd\u6570\u65f6\u3002</p> <pre><code>from unittest.mock import mock_open, patch\n\nm = mock_open(read_data='file content')\n\nwith patch('builtins.open', m):\n    with open('file.txt') as f:\n        result = f.read()\n        assert result == 'file content'\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#10-mock","title":"10. \u91cd\u7f6e Mock \u5bf9\u8c61","text":"<p><code>reset_mock()</code> \u65b9\u6cd5\u7528\u4e8e\u91cd\u7f6e <code>mock</code> \u5bf9\u8c61\u7684\u6240\u6709\u8c03\u7528\u8bb0\u5f55\u548c\u72b6\u6001\u3002</p> <pre><code>mock_obj = Mock()\nmock_obj.method()\nmock_obj.reset_mock()\nassert mock_obj.method.call_count == 0\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/mock/#_1","title":"\u603b\u7ed3","text":"<p><code>unittest.mock</code> \u6a21\u5757\u4e3a\u6d4b\u8bd5\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u4f7f\u5f97\u4f60\u80fd\u591f\u8f7b\u677e\u5730\u6a21\u62df\u5bf9\u8c61\u3001\u66ff\u6362\u4f9d\u8d56\u5e76\u68c0\u67e5\u4ea4\u4e92\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7f16\u5199\u66f4\u5065\u58ee\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u4f7f\u6d4b\u8bd5\u4ee3\u7801\u4e0e\u5b9e\u9645\u4ee3\u7801\u89e3\u8026\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/","title":"numpy \u7b14\u8bb0","text":"<p>NumPy \u662f Python \u4e2d\u7528\u4e8e\u79d1\u5b66\u8ba1\u7b97\u7684\u6838\u5fc3\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u652f\u6301\u591a\u7ef4\u6570\u7ec4\u5bf9\u8c61\u3001\u5404\u79cd\u6d3e\u751f\u5bf9\u8c61\uff08\u5982\u63a9\u7801\u6570\u7ec4\u548c\u77e9\u9635\uff09\u3001\u4ee5\u53ca\u5927\u91cf\u7684\u6570\u5b66\u64cd\u4f5c\u548c\u7edf\u8ba1\u51fd\u6570\u3002NumPy \u662f\u5f88\u591a\u9ad8\u7ea7\u6570\u636e\u5904\u7406\u5e93\u7684\u57fa\u7840\uff0c\u4f8b\u5982 Pandas\u3001SciPy \u548c Scikit-learn\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u8be6\u7ec6\u7684 NumPy \u6559\u7a0b\uff0c\u5e2e\u52a9\u4f60\u4e86\u89e3\u5982\u4f55\u4f7f\u7528\u8fd9\u4e2a\u5e93\u8fdb\u884c\u6570\u636e\u5904\u7406\u548c\u8ba1\u7b97\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_1","title":"\u521b\u5efa\u6570\u7ec4","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_2","title":"\u4ece\u5217\u8868\u521b\u5efa\u6570\u7ec4","text":"<pre><code>import numpy as np\n\n# \u4ece\u5217\u8868\u521b\u5efa\u4e00\u7ef4\u6570\u7ec4\na = np.array([1, 2, 3, 4, 5])\nprint(a)\n\n# \u4ece\u5217\u8868\u521b\u5efa\u4e8c\u7ef4\u6570\u7ec4\nb = np.array([[1, 2, 3], [4, 5, 6]])\nprint(b)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#arange-linspace","title":"\u4f7f\u7528 arange \u548c linspace \u521b\u5efa\u6570\u7ec4","text":"<pre><code># \u4f7f\u7528 arange \u521b\u5efa\u6570\u7ec4\na = np.arange(0, 10, 2)  # \u4ece0\u523010\uff0c\u6b65\u957f\u4e3a2\nprint(a)\n\n# \u4f7f\u7528 linspace \u521b\u5efa\u6570\u7ec4\nb = np.linspace(0, 1, 5)  # \u57280\u548c1\u4e4b\u95f4\u521b\u5efa5\u4e2a\u5747\u5300\u5206\u5e03\u7684\u503c\nprint(b)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_3","title":"\u521b\u5efa\u7279\u6b8a\u6570\u7ec4","text":"<pre><code># \u521b\u5efa\u5168\u96f6\u6570\u7ec4\na = np.zeros((2, 3))\nprint(a)\n\n# \u521b\u5efa\u5168\u4e00\u6570\u7ec4\nb = np.ones((3, 4))\nprint(b)\n\n# \u521b\u5efa\u5355\u4f4d\u77e9\u9635\nc = np.eye(4)\nprint(c)\n\n# \u521b\u5efa\u968f\u673a\u6570\u7ec4\nd = np.random.random((2, 2))\nprint(d)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_4","title":"\u6570\u7ec4\u5c5e\u6027","text":"<pre><code>a = np.array([[1, 2, 3], [4, 5, 6]])\n\n# \u6570\u7ec4\u5f62\u72b6\nprint(\"Shape:\", a.shape)\n\n# \u6570\u7ec4\u7ef4\u5ea6\nprint(\"Dimensions:\", a.ndim)\n\n# \u6570\u7ec4\u5927\u5c0f (\u5143\u7d20\u7684\u603b\u4e2a\u6570)\nprint(\"Size:\", a.size) # \u8f93\u51fa6\n\n# \u6570\u7ec4\u5143\u7d20\u6570\u636e\u7c7b\u578b\nprint(\"Data type:\", a.dtype)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_5","title":"\u6570\u7ec4\u64cd\u4f5c","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_6","title":"\u6570\u7ec4\u5207\u7247\u548c\u7d22\u5f15","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_7","title":"\u4e00\u7ef4\u6570\u7ec4\u7684\u5207\u7247","text":"<p>\u5bf9\u4e8e\u4e00\u7ef4\u6570\u7ec4\uff0c\u5207\u7247\u7684\u57fa\u672c\u8bed\u6cd5\u662f start:stop:step\uff0c\u5176\u4e2d\uff1a</p> <pre><code>\u2022   start\uff1a\u5207\u7247\u7684\u8d77\u59cb\u7d22\u5f15\uff08\u5305\u542b\uff09\u3002\n\u2022   stop\uff1a\u5207\u7247\u7684\u7ed3\u675f\u7d22\u5f15\uff08\u4e0d\u5305\u542b\uff09\u3002\n\u2022   step\uff1a\u5207\u7247\u7684\u6b65\u957f\uff08\u9ed8\u8ba4\u4e3a 1\uff09\u3002\n</code></pre> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u7ef4\u6570\u7ec4\na = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\n\n# \u57fa\u672c\u5207\u7247\nprint(a[2:7])        # \u8f93\u51fa: [2 3 4 5 6]\nprint(a[:5])         # \u8f93\u51fa: [0 1 2 3 4]\nprint(a[5:])         # \u8f93\u51fa: [5 6 7 8 9]\nprint(a[::2])        # \u8f93\u51fa: [0 2 4 6 8]\nprint(a[1:8:2])      # \u8f93\u51fa: [1 3 5 7]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_8","title":"\u4e8c\u7ef4\u6570\u7ec4\u7684\u5207\u7247","text":"<p>\u5bf9\u4e8e\u4e8c\u7ef4\u6570\u7ec4\uff0c\u5207\u7247\u64cd\u4f5c\u53ef\u4ee5\u5728\u6bcf\u4e2a\u7ef4\u5ea6\u4e0a\u72ec\u7acb\u8fdb\u884c\u3002\u5207\u7247\u7684\u57fa\u672c\u8bed\u6cd5\u662f array[row_start:row_stop:row_step, col_start:col_stop:col_step]</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e8c\u7ef4\u6570\u7ec4\na = np.array([[0, 1, 2, 3, 4],\n              [5, 6, 7, 8, 9],\n              [10, 11, 12, 13, 14],\n              [15, 16, 17, 18, 19],\n              [20, 21, 22, 23, 24]])\n\n# \u63d0\u53d6\u5b50\u6570\u7ec4\nprint(a[1:4, 2:5])  # \u8f93\u51fa: [[ 7  8  9]\n                    #       [12 13 14]\n                    #       [17 18 19]]\n\n# \u63d0\u53d6\u7b2c\u4e8c\u5217\nprint(a[:, 1])      # \u8f93\u51fa: [ 1  6 11 16 21]\n\n# \u63d0\u53d6\u7b2c\u4e09\u884c\nprint(a[2, :])      # \u8f93\u51fa: [10 11 12 13 14]\n\n# \u63d0\u53d6\u7b2c\u4e09\u884c\u7684\u7b2c2\u5230\u7b2c4\u4e2a\u5143\u7d20\nprint(a[2, 1:4])    # \u8f93\u51fa: [11 12 13]\n\n# \u6b65\u957f\u5207\u7247\nprint(a[::2, ::2])  # \u8f93\u51fa: [[ 0  2  4]\n                    #       [10 12 14]\n                    #       [20 22 24]]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_9","title":"\u9ad8\u7ef4\u6570\u7ec4\u7684\u5207\u7247","text":"<p>\u5bf9\u4e8e\u66f4\u9ad8\u7ef4\u5ea6\u7684\u6570\u7ec4\uff0c\u5207\u7247\u64cd\u4f5c\u53ef\u4ee5\u63a8\u5e7f\u5230\u6bcf\u4e2a\u7ef4\u5ea6\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e09\u7ef4\u6570\u7ec4\na = np.array([[[0, 1, 2], [3, 4, 5]],\n              [[6, 7, 8], [9, 10, 11]],\n              [[12, 13, 14], [15, 16, 17]]])\n\n# \u63d0\u53d6\u5b50\u6570\u7ec4\nprint(a[1:, :, :])   # \u63d0\u53d6\u4ece\u7b2c\u4e8c\u4e2a\u201c\u5e73\u9762\u201d\u5f00\u59cb\u7684\u6240\u6709\u6570\u636e\n\n# \u63d0\u53d6\u7279\u5b9a\u5e73\u9762\u7684\u7279\u5b9a\u90e8\u5206\nprint(a[:, 1, :])    # \u63d0\u53d6\u6bcf\u4e2a\u5e73\u9762\u7684\u7b2c\u4e8c\u884c\n\n# \u63d0\u53d6\u7279\u5b9a\u5e73\u9762\u4e2d\u7684\u67d0\u4e00\u5757\nprint(a[1, :, 1:3])  # \u8f93\u51fa: [[ 7  8]\n                     #       [10 11]]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_10","title":"\u7ed3\u5408\u5e03\u5c14\u7d22\u5f15\u7684\u5207\u7247","text":"<pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u7ef4\u6570\u7ec4\na = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9])\n\n# \u6761\u4ef6\u7b5b\u9009\nprint(a[a &gt; 5])   # \u8f93\u51fa: [6 7 8 9]\n\n# \u6761\u4ef6\u7b5b\u9009\u5e76\u5207\u7247\nprint(a[(a &gt; 3) &amp; (a &lt; 8)])  # \u8f93\u51fa: [4 5 6 7]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_11","title":"\u5f62\u72b6\u53d8\u6362","text":"<pre><code>nums = np.array([[1, 2, 3], [4, 5, 6]])\n# \u91cd\u5851\u6570\u7ec4\nb = nums.reshape(3, 2)\nprint(b)\n# \u5c55\u5e73\u6570\u7ec4\nc = b.flatten()\nprint(c)\n# \u91cd\u5851\u6570\u7ec4\nc.resize((2,3))\nprint(c)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_12","title":"\u6570\u7ec4\u8fd0\u7b97","text":"<p>NumPy \u5141\u8bb8\u5bf9\u6570\u7ec4\u8fdb\u884c\u5404\u79cd\u7b97\u672f\u8fd0\u7b97\u3001\u903b\u8f91\u8fd0\u7b97\u3001\u7edf\u8ba1\u8fd0\u7b97\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_13","title":"\u57fa\u672c\u7b97\u672f\u8fd0\u7b97","text":"<pre><code>a = np.array([1, 2, 3, 4])\nb = np.array([10, 20, 30, 40])\n\n# \u6570\u7ec4\u52a0\u6cd5\nprint(a + b)\n\n# \u6570\u7ec4\u51cf\u6cd5\nprint(a - b)\n\n# \u6570\u7ec4\u4e58\u6cd5\nprint(a * b)\n\n# \u6570\u7ec4\u9664\u6cd5\nprint(a / b)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_14","title":"\u5e7f\u64ad\u673a\u5236","text":"<p>\u5f53\u4e24\u4e2a\u6570\u7ec4\u7684\u5f62\u72b6\u4e0d\u540c\u65f6\uff0cNumPy \u4f1a\u81ea\u52a8\u9002\u5e94\uff08\u5e7f\u64ad\uff09\u8f83\u5c0f\u7684\u6570\u7ec4\u4ee5\u5339\u914d\u8f83\u5927\u7684\u6570\u7ec4\uff0c\u4ece\u800c\u8fdb\u884c\u8fd0\u7b97\u3002</p> <p>NumPy \u7684\u5e7f\u64ad\u673a\u5236\uff08Broadcasting\uff09\u662f\u4e00\u79cd\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u5141\u8bb8\u4e0d\u540c\u5f62\u72b6\u7684\u6570\u7ec4\u5728\u7b97\u672f\u8fd0\u7b97\u65f6\u8fdb\u884c\u81ea\u52a8\u6269\u5c55\uff0c\u4ee5\u4fbf\u5b83\u4eec\u80fd\u591f\u517c\u5bb9\u3002\u5e7f\u64ad\u673a\u5236\u7684\u76ee\u7684\u662f\u5728\u6570\u7ec4\u64cd\u4f5c\u4e2d\u907f\u514d\u521b\u5efa\u4e0d\u5fc5\u8981\u7684\u591a\u7ef4\u6570\u7ec4\uff0c\u4ece\u800c\u63d0\u9ad8\u8ba1\u7b97\u6548\u7387\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_15","title":"\u5e7f\u64ad\u673a\u5236\u7684\u57fa\u672c\u539f\u5219","text":"<pre><code>1.  \u5982\u679c\u4e24\u4e2a\u6570\u7ec4\u7684\u7ef4\u5ea6\u6570\u4e0d\u540c\uff0c\u5f62\u72b6\u8f83\u5c0f\u7684\u6570\u7ec4\u5c06\u5728\u524d\u9762\u8865\u5145\u4e00\u7ef4\uff0c\u76f4\u5230\u4e24\u4e2a\u6570\u7ec4\u7684\u7ef4\u5ea6\u6570\u76f8\u540c\u3002\n\n2.  \u6cbf\u6bcf\u4e2a\u7ef4\u5ea6\uff0c\u6570\u7ec4\u7684\u5927\u5c0f\u8981\u4e48\u662f\u76f8\u540c\u7684\uff0c\u8981\u4e48\u5176\u4e2d\u4e00\u4e2a\u6570\u7ec4\u7684\u5927\u5c0f\u4e3a 1\uff0c\u8981\u4e48\u4f1a\u53d1\u751f\u5e7f\u64ad\u3002\n\n3.  \u5728\u4efb\u4f55\u7ef4\u5ea6\u4e0a\uff0c\u5982\u679c\u4e24\u4e2a\u6570\u7ec4\u7684\u5927\u5c0f\u90fd\u4e0d\u76f8\u7b49\u4e14\u90fd\u4e0d\u4e3a 1\uff0c\u5219\u4e0d\u80fd\u8fdb\u884c\u5e7f\u64ad\uff0c\u64cd\u4f5c\u4f1a\u629b\u51fa\u9519\u8bef\u3002\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_16","title":"\u5e7f\u64ad\u673a\u5236\u793a\u4f8b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#1","title":"\u793a\u4f8b 1\uff1a\u6807\u91cf\u4e0e\u6570\u7ec4\u4e4b\u95f4\u7684\u5e7f\u64ad","text":"<pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\na = np.array([1, 2, 3])\n\n# \u6807\u91cf\u4e0e\u6570\u7ec4\u76f8\u52a0\nb = a + 5\nprint(b)  # \u8f93\u51fa: [6 7 8]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#2","title":"\u793a\u4f8b 2\uff1a\u4e8c\u7ef4\u6570\u7ec4\u4e0e\u4e00\u7ef4\u6570\u7ec4\u4e4b\u95f4\u7684\u5e7f\u64ad","text":"<pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\na = np.array([[1, 2, 3], [4, 5, 6]])\n\n# \u521b\u5efa\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\nb = np.array([1, 2, 3])\n\n# \u4e8c\u7ef4\u6570\u7ec4\u4e0e\u4e00\u7ef4\u6570\u7ec4\u76f8\u52a0\nc = a + b\nprint(c)\n# \u8f93\u51fa:\n# [[2 4 6]\n#  [5 7 9]]\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6570\u7ec4 b \u88ab\u5e7f\u64ad\u4ee5\u5339\u914d\u6570\u7ec4 a \u7684\u5f62\u72b6\uff0c\u7136\u540e\u9010\u5143\u7d20\u76f8\u52a0\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#3","title":"\u793a\u4f8b 3\uff1a\u4e0d\u540c\u5f62\u72b6\u7684\u4e8c\u7ef4\u6570\u7ec4\u4e4b\u95f4\u7684\u5e7f\u64ad","text":"<pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\na = np.array([[1, 2, 3], [4, 5, 6]])\n\n# \u521b\u5efa\u4e00\u4e2a\u5f62\u72b6\u4e3a (2, 1) \u7684\u4e8c\u7ef4\u6570\u7ec4\nb = np.array([[10], [20]])\n\n# \u5e7f\u64ad\u5e76\u76f8\u52a0\nc = a + b\nprint(c)\n# \u8f93\u51fa:\n# [[11 12 13]\n#  [24 25 26]]\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6570\u7ec4 b \u88ab\u5e7f\u64ad\u4ee5\u5339\u914d\u6570\u7ec4 a \u7684\u5f62\u72b6\uff0c\u5176\u4e2d b \u7684\u5f62\u72b6\u4ece (2, 1) \u88ab\u5e7f\u64ad\u5230 (2, 3)\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_17","title":"\u5e7f\u64ad\u7684\u5177\u4f53\u5de5\u4f5c\u539f\u7406","text":"<p>\u5047\u8bbe\u4f60\u6709\u4e24\u4e2a\u6570\u7ec4 A \u548c B\uff0c\u5b83\u4eec\u7684\u5f62\u72b6\u5206\u522b\u662f (m, n, p) \u548c (n, p)\u3002\u8981\u4f7f\u8fd9\u4e24\u4e2a\u6570\u7ec4\u8fdb\u884c\u5e7f\u64ad\uff0c\u5b83\u4eec\u7684\u5f62\u72b6\u9700\u8981\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u8c03\u6574\uff1a</p> <pre><code>\u2022   \u9996\u5148\uff0c\u6570\u7ec4 B \u4f1a\u5728\u5176\u6700\u524d\u9762\u8865\u5145\u4e00\u7ef4\uff0c\u53d8\u4e3a (1, n, p)\u3002\n\n\u2022   \u7136\u540e\uff0cB \u4f1a\u6cbf\u7b2c\u4e00\u4e2a\u7ef4\u5ea6\u590d\u5236\uff0c\u53d8\u4e3a (m, n, p)\uff0c\u8fd9\u6837\u5b83\u4eec\u5c31\u53ef\u4ee5\u8fdb\u884c\u9010\u5143\u7d20\u7684\u8fd0\u7b97\u4e86\u3002\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_18","title":"\u5e7f\u64ad\u7684\u5e94\u7528","text":"<p>\u5e7f\u64ad\u673a\u5236\u975e\u5e38\u6709\u7528\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u591a\u7ef4\u6570\u636e\u65f6\u3002\u5b83\u53ef\u4ee5\u8ba9\u4f60\u4ee5\u7b80\u6d01\u7684\u4ee3\u7801\u8fdb\u884c\u590d\u6742\u7684\u64cd\u4f5c\uff0c\u800c\u65e0\u9700\u624b\u52a8\u6269\u5c55\u6570\u7ec4\u7ef4\u5ea6\u3002\u5e7f\u64ad\u901a\u5e38\u7528\u4e8e\uff1a</p> <pre><code>\u2022   \u6807\u91cf\u4e0e\u6570\u7ec4\u4e4b\u95f4\u7684\u64cd\u4f5c\uff1a\u5982\u5c06\u6570\u7ec4\u4e2d\u7684\u6240\u6709\u5143\u7d20\u52a0\u4e0a\u4e00\u4e2a\u5e38\u6570\u3002\n\n\u2022   \u4f4e\u7ef4\u6570\u7ec4\u4e0e\u9ad8\u7ef4\u6570\u7ec4\u4e4b\u95f4\u7684\u64cd\u4f5c\uff1a\u5982\u5c06\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4\u52a0\u5230\u4e8c\u7ef4\u6570\u7ec4\u7684\u6bcf\u4e00\u884c\u6216\u5217\u4e0a\u3002\n\n\u2022   \u6570\u636e\u5f52\u4e00\u5316\uff1a\u5982\u5728\u77e9\u9635\u7684\u6bcf\u4e00\u884c\u6216\u5217\u4e2d\u51cf\u53bb\u5747\u503c\u3002\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_19","title":"\u7edf\u8ba1\u51fd\u6570","text":"<pre><code>a = np.array([[1, 2, 3], [4, 5, 6]])\n\n# \u6700\u5c0f\u503c\nprint(\"Min:\", a.min())\n\n# \u6700\u5927\u503c\nprint(\"Max:\", a.max())\n\n# \u548c\nprint(\"Sum:\", a.sum())\n\n# \u5e73\u5747\u503c\nprint(\"Mean:\", a.mean())\n\n# \u6807\u51c6\u5dee\nprint(\"Standard Deviation:\", a.std())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_20","title":"\u6570\u7ec4\u7684\u9ad8\u7ea7\u64cd\u4f5c","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_21","title":"\u6570\u7ec4\u62fc\u63a5\u548c\u5206\u5272","text":"<pre><code>a = np.array([[1, 2], [3, 4]])\nb = np.array([[5, 6]])\n\n# \u6570\u7ec4\u62fc\u63a5\nc = np.vstack((a, b))  # \u5782\u76f4\u5806\u53e0\nprint(c)\n\nd = np.hstack((a, b.T))  # \u6c34\u5e73\u5806\u53e0\nprint(d)\n\n# \u6570\u7ec4\u5206\u5272\ne = np.hsplit(a, 2)  # \u6c34\u5e73\u5206\u5272\nprint(e)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_22","title":"\u6761\u4ef6\u7b5b\u9009","text":"<pre><code>a = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9])\n\n# \u7b5b\u9009\u5927\u4e8e5\u7684\u5143\u7d20\nprint(a[a &gt; 5])\n\n# \u7b5b\u9009\u5076\u6570\u5143\u7d20\nprint(a[a % 2 == 0])\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_23","title":"\u7ebf\u6027\u4ee3\u6570\u64cd\u4f5c","text":"<p>NumPy \u63d0\u4f9b\u4e86\u591a\u79cd\u7ebf\u6027\u4ee3\u6570\u64cd\u4f5c\uff0c\u5982\u77e9\u9635\u4e58\u6cd5\u3001\u9006\u77e9\u9635\u3001\u7279\u5f81\u503c\u548c\u7279\u5f81\u5411\u91cf\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_24","title":"\u77e9\u9635\u4e58\u6cd5\u6216\u70b9\u79ef","text":"<pre><code>import numpy as np\n\n# \u521b\u5efa\u4e24\u4e2a\u4e8c\u7ef4\u6570\u7ec4\nA = np.array([[1, 2], [3, 4]])\nB = np.array([[5, 6], [7, 8]])\n\n# \u77e9\u9635\u4e58\u6cd5\nC = np.dot(A, B)\nprint(C)\n# \u8f93\u51fa:\n# [[19 22]\n#  [43 50]]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#npmatmul","title":"np.matmul() \u6216 @ \u8fd0\u7b97\u7b26","text":"<p>\u77e9\u9635\u4e58\u6cd5\u3002\u4e0e np.dot() \u7c7b\u4f3c\uff0c\u4f46\u66f4\u9002\u7528\u4e8e\u77e9\u9635\u4e58\u6cd5\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e24\u4e2a\u4e8c\u7ef4\u6570\u7ec4\nA = np.array([[1, 2], [3, 4]])\nB = np.array([[5, 6], [7, 8]])\n\n# \u77e9\u9635\u4e58\u6cd5\nC = np.matmul(A, B)\nprint(C)\n\n# \u6216\u4f7f\u7528 @ \u8fd0\u7b97\u7b26\nD = A @ B\nprint(D)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nptranspose-arrayt","title":"np.transpose() \u6216 array.T","text":"<p>\u77e9\u9635\u8f6c\u7f6e\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\nA = np.array([[1, 2, 3], [4, 5, 6]])\n\n# \u77e9\u9635\u8f6c\u7f6e\nB = np.transpose(A)\nprint(B)\n# \u8f93\u51fa:\n# [[1 4]\n#  [2 5]\n#  [3 6]]\n\n# \u6216\u8005\u4f7f\u7528\u5c5e\u6027 T\nC = A.T\nprint(C)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nplinalginv","title":"np.linalg.inv()","text":"<p>\u8ba1\u7b97\u77e9\u9635\u7684\u9006\u77e9\u9635\u3002\u524d\u63d0\u662f\u77e9\u9635\u5fc5\u987b\u662f\u65b9\u9635\u4e14\u53ef\u9006\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff08\u65b9\u9635\uff09\nA = np.array([[1, 2], [3, 4]])\n\n# \u8ba1\u7b97\u9006\u77e9\u9635\nA_inv = np.linalg.inv(A)\nprint(A_inv)\n# \u8f93\u51fa:\n# [[-2.   1. ]\n#  [ 1.5 -0.5]]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nplinalgdet","title":"np.linalg.det()","text":"<p>\u8ba1\u7b97\u65b9\u9635\u7684\u884c\u5217\u5f0f\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff08\u65b9\u9635\uff09\nA = np.array([[1, 2], [3, 4]])\n\n# \u8ba1\u7b97\u884c\u5217\u5f0f\ndet_A = np.linalg.det(A)\nprint(det_A)  # \u8f93\u51fa: -2.0000000000000004\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nplinalgeig","title":"np.linalg.eig()","text":"<p>\u8ba1\u7b97\u65b9\u9635\u7684\u7279\u5f81\u503c\u548c\u7279\u5f81\u5411\u91cf\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff08\u65b9\u9635\uff09\nA = np.array([[1, 2], [3, 4]])\n\n# \u8ba1\u7b97\u7279\u5f81\u503c\u548c\u7279\u5f81\u5411\u91cf\neigenvalues, eigenvectors = np.linalg.eig(A)\nprint(\"\u7279\u5f81\u503c:\", eigenvalues)\n# \u8f93\u51fa: \u7279\u5f81\u503c: [-0.37228132  5.37228132]\nprint(\"\u7279\u5f81\u5411\u91cf:\\n\", eigenvectors)\n# \u8f93\u51fa:\n# \u7279\u5f81\u5411\u91cf:\n# [[-0.82456484 -0.41597356]\n#  [ 0.56576746 -0.90937671]]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nplinalgsolve","title":"np.linalg.solve()","text":"<p>\u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4 Ax = b\uff0c\u5176\u4e2d A \u662f\u7cfb\u6570\u77e9\u9635\uff0cb \u662f\u5e38\u6570\u5411\u91cf\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u7cfb\u6570\u77e9\u9635 A \u548c\u5e38\u6570\u5411\u91cf b\nA = np.array([[3, 1], [1, 2]])\nb = np.array([9, 8])\n\n# \u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4 Ax = b\nx = np.linalg.solve(A, b)\nprint(x)  # \u8f93\u51fa: [2. 3.]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nplinalgnorm","title":"np.linalg.norm()","text":"<p>\u8ba1\u7b97\u77e9\u9635\u6216\u5411\u91cf\u7684\u8303\u6570\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u5411\u91cf\nv = np.array([3, 4])\n\n# \u8ba1\u7b97\u5411\u91cf\u7684\u4e8c\u8303\u6570\uff08\u6b27\u51e0\u91cc\u5f97\u8303\u6570\uff09\nnorm_v = np.linalg.norm(v)\nprint(norm_v)  # \u8f93\u51fa: 5.0\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff08\u77e9\u9635\uff09\nA = np.array([[1, 2], [3, 4]])\n\n# \u8ba1\u7b97\u77e9\u9635\u7684\u4e8c\u8303\u6570\nnorm_A = np.linalg.norm(A)\nprint(norm_A)  # \u8f93\u51fa: 5.477225575051661\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nplinalgqr","title":"np.linalg.qr()","text":"<p>\u5bf9\u77e9\u9635\u8fdb\u884c QR \u5206\u89e3\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff08\u77e9\u9635\uff09\nA = np.array([[1, 2], [3, 4], [5, 6]])\n\n# \u8fdb\u884c QR \u5206\u89e3\nQ, R = np.linalg.qr(A)\nprint(\"Q:\\n\", Q)\nprint(\"R:\\n\", R)\n# \u8f93\u51fa:\n# Q:\n# [[-0.16903085  0.89708523]\n#  [-0.50709255  0.27602622]\n#  [-0.84515425 -0.34503278]]\n# R:\n# [[-5.91607978 -7.43735744]\n#  [ 0.          0.82807867]]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#nplinalgsvd","title":"np.linalg.svd()","text":"<p>\u5bf9\u77e9\u9635\u8fdb\u884c\u5947\u5f02\u503c\u5206\u89e3\uff08SVD\uff09\u3002</p> <pre><code>import numpy as np\n\n# \u521b\u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff08\u77e9\u9635\uff09\nA = np.array([[1, 2, 3], [4, 5, 6]])\n\n# \u8fdb\u884c\u5947\u5f02\u503c\u5206\u89e3\nU, S, V = np.linalg.svd(A)\nprint(\"U:\\n\", U)\nprint(\"S:\\n\", S)\nprint(\"V:\\n\", V)\n# \u8f93\u51fa:\n# U:\n# [[-0.3863177  -0.92236578]\n#  [-0.92236578  0.3863177 ]]\n# S:\n# [9.508032   0.77286964]\n# V:\n# [[-0.42866713 -0.56630692 -0.7039467 ]\n#  [ 0.80596391  0.11238241 -0.5811991 ]\n#  [ 0.40824829 -0.81649658  0.40824829]]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_25","title":"\u968f\u673a\u6570\u751f\u6210","text":"<pre><code># \u751f\u62100\u52301\u4e4b\u95f4\u7684\u968f\u673a\u6570\nprint(np.random.rand(5))\n\n# \u751f\u6210\u6307\u5b9a\u8303\u56f4\u5185\u7684\u968f\u673a\u6574\u6570\nprint(np.random.randint(0, 10, size=5))\n\n# \u751f\u6210\u6807\u51c6\u6b63\u6001\u5206\u5e03\u7684\u968f\u673a\u6570\nprint(np.random.randn(5))\n\n# \u6d17\u724c\u6570\u7ec4\na = np.array([1, 2, 3, 4, 5])\nnp.random.shuffle(a)\nprint(a)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/#_26","title":"\u8bfb\u53d6\u548c\u4fdd\u5b58\u6570\u636e","text":"<p>NumPy \u53ef\u4ee5\u65b9\u4fbf\u5730\u8bfb\u53d6\u548c\u4fdd\u5b58\u6570\u636e\u3002</p> <pre><code>a = np.array([[1, 2, 3], [4, 5, 6]])\n\n# \u4fdd\u5b58\u6570\u7ec4\u5230\u6587\u4ef6\nnp.save('my_array.npy', a)\n\n# \u4ece\u6587\u4ef6\u8bfb\u53d6\u6570\u7ec4\nb = np.load('my_array.npy')\nprint(b)\n\n# \u4fdd\u5b58\u4e3a\u6587\u672c\u6587\u4ef6\nnp.savetxt('my_array.txt', a)\n\n# \u4ece\u6587\u672c\u6587\u4ef6\u8bfb\u53d6\u6570\u7ec4\nc = np.loadtxt('my_array.txt')\nprint(c)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/","title":"os\u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#python-os","title":"Python <code>os</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>os</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u975e\u5e38\u591a\u7684\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4ea4\u4e92\u7684\u51fd\u6570\u3002\u5b83\u4f7f\u5f97\u7a0b\u5e8f\u53ef\u4ee5\u6267\u884c\u8bf8\u5982\u6587\u4ef6\u5904\u7406\u3001\u76ee\u5f55\u64cd\u4f5c\u3001\u8def\u5f84\u7ba1\u7406\u7b49\u4efb\u52a1\uff0c\u5e76\u4e14\u53ef\u4ee5\u4e0e\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u4ea4\u4e92\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#1","title":"1. \u5bfc\u5165\u6a21\u5757","text":"<pre><code>import os\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#2","title":"2. \u76ee\u5f55\u64cd\u4f5c","text":"<ul> <li>\u83b7\u53d6\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55</li> </ul> <pre><code>current_directory = os.getcwd()\nprint(current_directory)\n</code></pre> <ul> <li>\u6539\u53d8\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55</li> </ul> <pre><code>os.chdir('/path/to/directory')\n</code></pre> <ul> <li>\u521b\u5efa\u76ee\u5f55</li> </ul> <pre><code>os.mkdir('new_directory')  # \u521b\u5efa\u5355\u7ea7\u76ee\u5f55\nos.makedirs('new_directory/sub_directory')  # \u521b\u5efa\u591a\u7ea7\u76ee\u5f55\n</code></pre> <ul> <li>\u5220\u9664\u76ee\u5f55</li> </ul> <pre><code>os.rmdir('directory')  # \u5220\u9664\u5355\u7ea7\u7a7a\u76ee\u5f55\nos.removedirs('directory/sub_directory')  # \u5220\u9664\u591a\u7ea7\u7a7a\u76ee\u5f55\n</code></pre> <ul> <li>\u5217\u51fa\u76ee\u5f55\u5185\u5bb9</li> </ul> <pre><code>files = os.listdir('.')\nprint(files)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#3","title":"3. \u6587\u4ef6\u64cd\u4f5c","text":"<ul> <li>\u521b\u5efa\u6587\u4ef6</li> </ul> <pre><code>with open('file.txt', 'w') as f:\n    f.write('Hello, World!')\n</code></pre> <ul> <li>\u5220\u9664\u6587\u4ef6</li> </ul> <pre><code>os.remove('file.txt')\n</code></pre> <ul> <li>\u91cd\u547d\u540d\u6587\u4ef6\u6216\u76ee\u5f55</li> </ul> <pre><code>os.rename('old_name.txt', 'new_name.txt')\n</code></pre> <ul> <li>\u83b7\u53d6\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u72b6\u6001</li> </ul> <pre><code>stat_info = os.stat('file.txt')\nprint(stat_info)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#4","title":"4. \u8def\u5f84\u64cd\u4f5c","text":"<ul> <li>\u83b7\u53d6\u6587\u4ef6\u8def\u5f84\u7684\u7edd\u5bf9\u8def\u5f84</li> </ul> <pre><code>absolute_path = os.path.abspath('file.txt')\nprint(absolute_path)\n</code></pre> <ul> <li>\u68c0\u67e5\u8def\u5f84\u662f\u5426\u5b58\u5728</li> </ul> <pre><code>exists = os.path.exists('file.txt')\nprint(exists)\n</code></pre> <ul> <li>\u68c0\u67e5\u662f\u5426\u662f\u6587\u4ef6</li> </ul> <pre><code>is_file = os.path.isfile('file.txt')\nprint(is_file)\n</code></pre> <ul> <li>\u68c0\u67e5\u662f\u5426\u662f\u76ee\u5f55</li> </ul> <pre><code>is_dir = os.path.isdir('directory')\nprint(is_dir)\n</code></pre> <ul> <li>\u8def\u5f84\u62fc\u63a5</li> </ul> <pre><code>full_path = os.path.join('/path', 'to', 'directory')\nprint(full_path)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#5","title":"5. \u73af\u5883\u53d8\u91cf","text":"<ul> <li>\u83b7\u53d6\u73af\u5883\u53d8\u91cf</li> </ul> <pre><code>path = os.getenv('PATH')\nprint(path)\n</code></pre> <ul> <li>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</li> </ul> <pre><code>os.environ['MY_VARIABLE'] = 'my_value'\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#6","title":"6. \u8fdb\u7a0b\u7ba1\u7406","text":"<ul> <li>\u6267\u884c\u7cfb\u7edf\u547d\u4ee4</li> </ul> <pre><code>os.system('ls -l')\n</code></pre> <ul> <li>\u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b ID</li> </ul> <pre><code>pid = os.getpid()\nprint(pid)\n</code></pre> <ul> <li>\u83b7\u53d6\u7236\u8fdb\u7a0b ID</li> </ul> <pre><code>ppid = os.getppid()\nprint(ppid)\n</code></pre> <ul> <li>\u521b\u5efa\u5b50\u8fdb\u7a0b</li> </ul> <pre><code>pid = os.fork()\nif pid == 0:\n    print('This is the child process.')\nelse:\n    print('This is the parent process.')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#7","title":"7. \u5f02\u5e38\u5904\u7406","text":"<p><code>os</code> \u6a21\u5757\u7684\u5f88\u591a\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5f15\u53d1\u5f02\u5e38\uff0c\u7279\u522b\u662f\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c\uff0c\u56e0\u6b64\u5728\u4f7f\u7528\u65f6\u5e94\u8fdb\u884c\u9002\u5f53\u7684\u5f02\u5e38\u5904\u7406\u3002</p> <pre><code>try:\n    os.remove('non_existent_file.txt')\nexcept FileNotFoundError:\n    print(\"File not found.\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#8","title":"8. \u5e38\u7528\u7684\u5176\u4ed6\u529f\u80fd","text":"<ul> <li>\u83b7\u53d6\u64cd\u4f5c\u7cfb\u7edf\u7c7b\u578b</li> </ul> <pre><code>os_type = os.name\nprint(os_type)  # \u8f93\u51fa 'posix', 'nt', 'os2', 'ce', 'java', 'riscos' \u4e4b\u4e00\n</code></pre> <ul> <li>\u83b7\u53d6\u7cfb\u7edf\u7684\u8be6\u7ec6\u4fe1\u606f</li> </ul> <pre><code>system_info = os.uname()  # \u4ec5\u9002\u7528\u4e8e Unix \u7cfb\u7edf\nprint(system_info)\n</code></pre> <ul> <li>\u5217\u51fa\u73af\u5883\u53d8\u91cf</li> </ul> <pre><code>env_vars = os.environ\nprint(env_vars)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/os/#_1","title":"\u603b\u7ed3","text":"<p><code>os</code> \u6a21\u5757\u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u6a21\u5757\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u8fdb\u884c\u5404\u79cd\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u4ea4\u4e92\u7684\u4efb\u52a1\u3002\u5728\u4f7f\u7528\u65f6\uff0c\u4e86\u89e3\u5404\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u548c\u9002\u7528\u573a\u666f\u5c06\u5927\u5927\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/","title":"pandas","text":"<p>Pandas \u662f\u4e00\u4e2a\u7528\u4e8e\u6570\u636e\u5206\u6790\u7684 Python \u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784\u548c\u64cd\u4f5c\u5de5\u5177\uff0c\u7279\u522b\u9002\u5408\u5904\u7406\u8868\u683c\u578b\u6216\u7ed3\u6784\u5316\u6570\u636e\u3002Pandas \u7684\u6838\u5fc3\u6570\u636e\u7ed3\u6784\u662f <code>Series</code> \u548c <code>DataFrame</code>\uff0c\u5b83\u4eec\u5206\u522b\u7528\u4e8e\u5904\u7406\u4e00\u7ef4\u548c\u4e8c\u7ef4\u6570\u636e\u3002\u4e0b\u9762\u662f\u5bf9 Pandas \u7684\u8be6\u7ec6\u89e3\u6790\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#pandas_1","title":"\u4e00\u3001Pandas \u7684\u57fa\u672c\u6570\u636e\u7ed3\u6784","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#11-series","title":"1.1 Series","text":"<p><code>Series</code> \u662f\u4e00\u79cd\u4e00\u7ef4\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7c7b\u4f3c\u4e8e Python \u4e2d\u7684\u5217\u8868\uff0c\u4f46\u5b83\u5e26\u6709\u7d22\u5f15\u3002<code>Series</code> \u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u6570\u636e\u7c7b\u578b\uff08\u6574\u6570\u3001\u5b57\u7b26\u4e32\u3001\u6d6e\u70b9\u6570\u3001\u5bf9\u8c61\u7b49\uff09\u3002</p> <pre><code>import pandas as pd\n\n# \u521b\u5efa\u4e00\u4e2a Series\ns = pd.Series([10, 20, 30, 40, 50], index=['a', 'b', 'c', 'd', 'e'])\nprint(s)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>a    10\nb    20\nc    30\nd    40\ne    50\ndtype: int64\n</code></pre> <ul> <li><code>index</code> \u662f <code>Series</code> \u7684\u7d22\u5f15\u6807\u7b7e\uff0c\u9ed8\u8ba4\u662f\u4ece 0 \u5f00\u59cb\u7684\u6574\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#12-dataframe","title":"1.2 DataFrame","text":"<p><code>DataFrame</code> \u662f Pandas \u4e2d\u6700\u91cd\u8981\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u662f\u4e00\u4e2a\u4e8c\u7ef4\u7684\u8868\u683c\u578b\u6570\u636e\u7ed3\u6784\uff0c\u7c7b\u4f3c\u4e8e Excel \u8868\u683c\u3002<code>DataFrame</code> \u7531\u591a\u4e2a <code>Series</code> \u7ec4\u6210\uff0c\u6bcf\u4e00\u5217\u662f\u4e00\u7ec4\u6570\u636e\uff0c\u6bcf\u4e00\u884c\u662f\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55\u3002</p> <pre><code># \u521b\u5efa\u4e00\u4e2a DataFrame\ndata = {\n    'Name': ['Alice', 'Bob', 'Charlie'],\n    'Age': [25, 30, 35],\n    'City': ['New York', 'Los Angeles', 'Chicago']\n}\ndf = pd.DataFrame(data)\nprint(df)\n</code></pre> <p>\u8f93\u51fa\uff1a</p> <pre><code>      Name  Age         City\n0    Alice   25     New York\n1      Bob   30  Los Angeles\n2  Charlie   35     Chicago\n</code></pre> <ul> <li><code>DataFrame</code> \u7684\u6bcf\u4e00\u5217\u90fd\u6709\u4e00\u4e2a\u5217\u6807\u7b7e\uff08<code>Name</code>, <code>Age</code>, <code>City</code>\uff09\uff0c\u6bcf\u4e00\u884c\u90fd\u6709\u4e00\u4e2a\u884c\u7d22\u5f15\uff080, 1, 2\uff09\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#_1","title":"\u4e8c\u3001\u6570\u636e\u5bfc\u5165\u4e0e\u5bfc\u51fa","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#21","title":"2.1 \u4ece\u6587\u4ef6\u8bfb\u53d6\u6570\u636e","text":"<p>Pandas \u53ef\u4ee5\u8f7b\u677e\u5730\u4ece\u5404\u79cd\u6587\u4ef6\u683c\u5f0f\uff08\u5982 CSV\u3001Excel\u3001SQL \u6570\u636e\u5e93\uff09\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#211-csv","title":"2.1.1 \u4ece CSV \u6587\u4ef6\u8bfb\u53d6","text":"<pre><code>df = pd.read_csv('data.csv')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#212-excel","title":"2.1.2 \u4ece Excel \u6587\u4ef6\u8bfb\u53d6","text":"<pre><code>df = pd.read_excel('data.xlsx', sheet_name='Sheet1')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#22","title":"2.2 \u5bfc\u51fa\u6570\u636e\u5230\u6587\u4ef6","text":"<p>\u540c\u6837\uff0cPandas \u53ef\u4ee5\u5c06\u6570\u636e\u5bfc\u51fa\u5230\u591a\u79cd\u6587\u4ef6\u683c\u5f0f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#221-csv","title":"2.2.1 \u5bfc\u51fa\u5230 CSV \u6587\u4ef6","text":"<pre><code>df.to_csv('output.csv', index=False)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#222-excel","title":"2.2.2 \u5bfc\u51fa\u5230 Excel \u6587\u4ef6","text":"<pre><code>df.to_excel('output.xlsx', sheet_name='Sheet1', index=False)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#_2","title":"\u4e09\u3001\u6570\u636e\u67e5\u770b\u4e0e\u9009\u53d6","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#31","title":"3.1 \u6570\u636e\u67e5\u770b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#311","title":"3.1.1 \u67e5\u770b\u524d\u51e0\u884c\u6570\u636e","text":"<pre><code>print(df.head(5))  # \u9ed8\u8ba4\u67e5\u770b\u524d5\u884c\u6570\u636e\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#312","title":"3.1.2 \u67e5\u770b\u6570\u636e\u7684\u57fa\u672c\u4fe1\u606f","text":"<pre><code>print(df.info())  # \u663e\u793aDataFrame\u7684\u7b80\u8981\u4fe1\u606f\nprint(df.describe())  # \u751f\u6210\u63cf\u8ff0\u6027\u7edf\u8ba1\u4fe1\u606f\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#313","title":"3.1.3 \u67e5\u770b\u7d22\u5f15\u3001\u5217\u540d\u548c\u6570\u636e\u7c7b\u578b","text":"<pre><code>print(df.index)  # \u67e5\u770b\u884c\u7d22\u5f15\nprint(df.columns)  # \u67e5\u770b\u5217\u540d\nprint(df.dtypes)  # \u67e5\u770b\u6570\u636e\u7c7b\u578b\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#32","title":"3.2 \u6570\u636e\u9009\u53d6","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#321","title":"3.2.1 \u9009\u53d6\u5217","text":"<pre><code>print(df['Name'])  # \u9009\u53d6\u5355\u5217\nprint(df[['Name', 'City']])  # \u9009\u53d6\u591a\u5217\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#322","title":"3.2.2 \u9009\u53d6\u884c","text":"<pre><code>print(df.loc[0])  # \u6309\u6807\u7b7e\u9009\u53d6\nprint(df.iloc[0])  # \u6309\u4f4d\u7f6e\u9009\u53d6\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#323","title":"3.2.3 \u6761\u4ef6\u7b5b\u9009","text":"<pre><code>print(df[df['Age'] &gt; 30])  # \u7b5b\u9009\u5e74\u9f84\u5927\u4e8e30\u7684\u6570\u636e\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#_3","title":"\u56db\u3001\u6570\u636e\u64cd\u4f5c\u4e0e\u5904\u7406","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#41","title":"4.1 \u6570\u636e\u6e05\u6d17","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#411","title":"4.1.1 \u5904\u7406\u7f3a\u5931\u503c","text":"<pre><code>df.dropna()  # \u5220\u9664\u5305\u542b\u7f3a\u5931\u503c\u7684\u884c\ndf.fillna(0)  # \u75280\u586b\u5145\u7f3a\u5931\u503c\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#412","title":"4.1.2 \u6570\u636e\u53bb\u91cd","text":"<pre><code>df.drop_duplicates()  # \u5220\u9664\u91cd\u590d\u884c\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#413","title":"4.1.3 \u6570\u636e\u7c7b\u578b\u8f6c\u6362","text":"<pre><code>df['Age'] = df['Age'].astype(float)  # \u5c06\u5e74\u9f84\u5217\u8f6c\u6362\u4e3a\u6d6e\u70b9\u6570\u7c7b\u578b\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#42","title":"4.2 \u6570\u636e\u64cd\u4f5c","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#421","title":"4.2.1 \u6dfb\u52a0\u548c\u5220\u9664\u5217","text":"<pre><code>df['Salary'] = [50000, 60000, 70000]  # \u6dfb\u52a0\u65b0\u5217\ndf.drop('Salary', axis=1, inplace=True)  # \u5220\u9664\u5217\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#422","title":"4.2.2 \u6570\u636e\u6392\u5e8f","text":"<pre><code>df.sort_values(by='Age', ascending=False, inplace=True)  # \u6309\u5e74\u9f84\u964d\u5e8f\u6392\u5e8f\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#423","title":"4.2.3 \u5206\u7ec4\u4e0e\u805a\u5408","text":"<pre><code>grouped = df.groupby('City').sum()  # \u6309\u57ce\u5e02\u5206\u7ec4\u5e76\u6c42\u548c\nprint(grouped)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#43","title":"4.3 \u6570\u636e\u5408\u5e76","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#431-concatenation","title":"4.3.1 \u6570\u636e\u8fde\u63a5\uff08Concatenation\uff09","text":"<pre><code>df1 = pd.DataFrame({'A': ['A0', 'A1'], 'B': ['B0', 'B1']})\ndf2 = pd.DataFrame({'A': ['A2', 'A3'], 'B': ['B2', 'B3']})\nresult = pd.concat([df1, df2], axis=0)  # \u7eb5\u5411\u8fde\u63a5\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#432-merging","title":"4.3.2 \u6570\u636e\u5408\u5e76\uff08Merging\uff09","text":"<pre><code>left = pd.DataFrame({'key': ['K0', 'K1'], 'A': ['A0', 'A1']})\nright = pd.DataFrame({'key': ['K0', 'K1'], 'B': ['B0', 'B1']})\nresult = pd.merge(left, right, on='key')  # \u6309\u7167key\u5217\u5408\u5e76\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#_4","title":"\u4e94\u3001\u65f6\u95f4\u5e8f\u5217\u5904\u7406","text":"<p>Pandas \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u65f6\u95f4\u5e8f\u5217\u529f\u80fd\uff0c\u53ef\u4ee5\u5904\u7406\u5e26\u6709\u65f6\u95f4\u6233\u7684\u6570\u636e\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#51","title":"5.1 \u8f6c\u6362\u4e3a\u65e5\u671f\u65f6\u95f4\u683c\u5f0f","text":"<pre><code>df['Date'] = pd.to_datetime(df['Date'])  # \u5c06\u65e5\u671f\u5217\u8f6c\u6362\u4e3a\u65e5\u671f\u65f6\u95f4\u683c\u5f0f\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#52","title":"5.2 \u8bbe\u7f6e\u65e5\u671f\u4e3a\u7d22\u5f15","text":"<pre><code>df.set_index('Date', inplace=True)  # \u5c06\u65e5\u671f\u8bbe\u7f6e\u4e3a\u7d22\u5f15\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#53","title":"5.3 \u91cd\u91c7\u6837\u6570\u636e","text":"<pre><code>df.resample('M').mean()  # \u6309\u6708\u91cd\u91c7\u6837\u5e76\u8ba1\u7b97\u5e73\u5747\u503c\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#_5","title":"\u516d\u3001\u6570\u636e\u53ef\u89c6\u5316","text":"<p>Pandas \u4e0e Matplotlib \u65e0\u7f1d\u96c6\u6210\uff0c\u80fd\u591f\u65b9\u4fbf\u5730\u8fdb\u884c\u6570\u636e\u53ef\u89c6\u5316\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#61","title":"6.1 \u7ed8\u5236\u57fa\u672c\u56fe\u5f62","text":"<pre><code>import matplotlib.pyplot as plt\n\ndf['Age'].plot(kind='hist')  # \u7ed8\u5236\u76f4\u65b9\u56fe\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#62","title":"6.2 \u7ed8\u5236\u6298\u7ebf\u56fe","text":"<pre><code>df.plot(x='Date', y='Age', kind='line')  # \u7ed8\u5236\u6298\u7ebf\u56fe\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#_6","title":"\u4e03\u3001\u5176\u4ed6\u9ad8\u7ea7\u529f\u80fd","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#71","title":"7.1 \u900f\u89c6\u8868","text":"<p>Pandas \u63d0\u4f9b\u4e86\u900f\u89c6\u8868\u529f\u80fd\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u603b\u7ed3\u6570\u636e\u3002</p> <pre><code>pivot_table = df.pivot_table(values='Age', index='Name', columns='City', aggfunc='mean')\nprint(pivot_table)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pandas/#72-pipeline","title":"7.2 \u6570\u636e\u7ba1\u9053\uff08Pipeline\uff09","text":"<p>\u7ba1\u9053\u5141\u8bb8\u94fe\u5f0f\u64cd\u4f5c\u591a\u4e2a\u51fd\u6570\uff0c\u4fbf\u4e8e\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u7ef4\u62a4\u6027\u3002</p> <pre><code>result = (df[df['Age'] &gt; 30]\n          .groupby('City')\n          .agg({'Salary': 'mean'}))\n</code></pre> <p>Pandas \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u9002\u7528\u4e8e\u6570\u636e\u79d1\u5b66\u548c\u5206\u6790\u7684\u5404\u4e2a\u9636\u6bb5\u3002\u4ece\u6570\u636e\u5bfc\u5165\u3001\u6e05\u6d17\u3001\u64cd\u4f5c\u5230\u53ef\u89c6\u5316\u548c\u5bfc\u51fa\uff0cPandas \u90fd\u80fd\u4e3a\u4f60\u63d0\u4f9b\u9ad8\u6548\u3001\u76f4\u89c2\u7684\u89e3\u51b3\u65b9\u6848\u3002\u8fd9\u4e2a\u8be6\u89e3\u6db5\u76d6\u4e86 Pandas \u7684\u57fa\u7840\u548c\u9ad8\u7ea7\u529f\u80fd\uff0c\u5e2e\u52a9\u4f60\u638c\u63e1\u6570\u636e\u5904\u7406\u7684\u5404\u9879\u6280\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/","title":"pathlib \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#python-pathlib","title":"Python <code>pathlib</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>pathlib</code> \u662f Python 3.4 \u5f15\u5165\u7684\u4e00\u4e2a\u6807\u51c6\u5e93\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86\u9762\u5411\u5bf9\u8c61\u7684\u6587\u4ef6\u7cfb\u7edf\u8def\u5f84\u64cd\u4f5c\u65b9\u6cd5\u3002\u76f8\u6bd4\u4e8e\u4f20\u7edf\u7684 <code>os.path</code> \u6a21\u5757\uff0c<code>pathlib</code> \u66f4\u52a0\u76f4\u89c2\u548c\u5f3a\u5927\uff0c\u9002\u7528\u4e8e\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u521b\u5efa\u3001\u8bfb\u53d6\u3001\u4fee\u6539\u3001\u5220\u9664\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#1","title":"1. \u57fa\u672c\u6982\u5ff5","text":"<p><code>pathlib</code> \u6a21\u5757\u5f15\u5165\u4e86 <code>Path</code> \u7c7b\uff0c\u8be5\u7c7b\u8868\u793a\u6587\u4ef6\u7cfb\u7edf\u8def\u5f84\u3002\u6839\u636e\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c<code>pathlib</code> \u4f1a\u81ea\u52a8\u5904\u7406\u8def\u5f84\u5206\u9694\u7b26\u95ee\u9898\uff0c\u4f7f\u4ee3\u7801\u66f4\u5177\u8de8\u5e73\u53f0\u6027\u3002</p> <pre><code>from pathlib import Path\n\n# \u521b\u5efa\u4e00\u4e2a Path \u5bf9\u8c61\np = Path('/usr/bin')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#2","title":"2. \u521b\u5efa\u8def\u5f84\u5bf9\u8c61","text":"<ul> <li>\u7edd\u5bf9\u8def\u5f84: \u76f4\u63a5\u4f20\u5165\u7edd\u5bf9\u8def\u5f84\u3002</li> </ul> <p><code>python   p = Path('/usr/bin')</code></p> <ul> <li>\u76f8\u5bf9\u8def\u5f84: \u4f20\u5165\u76f8\u5bf9\u8def\u5f84\uff0c\u8def\u5f84\u5c06\u76f8\u5bf9\u4e8e\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</li> </ul> <p><code>python   p = Path('my_folder/my_file.txt')</code></p> <ul> <li>\u5f53\u524d\u76ee\u5f55: \u4f7f\u7528 <code>Path.cwd()</code> \u83b7\u53d6\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</li> </ul> <p><code>python   current_dir = Path.cwd()</code></p> <ul> <li>\u5bb6\u76ee\u5f55: \u4f7f\u7528 <code>Path.home()</code> \u83b7\u53d6\u5f53\u524d\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u3002</li> </ul> <p><code>python   home_dir = Path.home()</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#3","title":"3. \u8def\u5f84\u64cd\u4f5c","text":"<ul> <li>\u83b7\u53d6\u8def\u5f84\u7684\u5404\u90e8\u5206:</li> </ul> <p>```python   p = Path('/usr/bin/python3')</p> <p>print(p.name)        # \u6587\u4ef6\u540d: python3   print(p.parent)      # \u7236\u76ee\u5f55: /usr/bin   print(p.stem)        # \u6587\u4ef6\u540d\u4e0d\u5e26\u6269\u5c55\u540d: python3   print(p.suffix)      # \u6587\u4ef6\u6269\u5c55\u540d: .3   print(p.parts)       # \u8def\u5f84\u7684\u6240\u6709\u90e8\u5206: ('/', 'usr', 'bin', 'python3')   ```</p> <ul> <li>\u7ec4\u5408\u8def\u5f84: \u4f7f\u7528 <code>/</code> \u64cd\u4f5c\u7b26\u7ec4\u5408\u8def\u5f84\u3002</li> </ul> <p><code>python   p = Path('/usr') / 'bin' / 'python3'   print(p)  # \u8f93\u51fa: /usr/bin/python3</code></p> <ul> <li>\u68c0\u67e5\u8def\u5f84: \u4f7f\u7528\u5404\u79cd\u65b9\u6cd5\u68c0\u67e5\u8def\u5f84\u7684\u72b6\u6001\u3002</li> </ul> <p>```python   p = Path('/usr/bin/python3')</p> <p>print(p.exists())      # \u68c0\u67e5\u8def\u5f84\u662f\u5426\u5b58\u5728   print(p.is_file())     # \u68c0\u67e5\u662f\u5426\u4e3a\u6587\u4ef6   print(p.is_dir())      # \u68c0\u67e5\u662f\u5426\u4e3a\u76ee\u5f55   print(p.is_absolute()) # \u68c0\u67e5\u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#4","title":"4. \u6587\u4ef6\u64cd\u4f5c","text":"<ul> <li>\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9: \u4f7f\u7528 <code>read_text()</code> \u548c <code>read_bytes()</code> \u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u3002</li> </ul> <p>```python   p = Path('example.txt')</p> <p>content = p.read_text(encoding='utf-8')  # \u8bfb\u53d6\u6587\u672c\u6587\u4ef6   binary_data = p.read_bytes()             # \u8bfb\u53d6\u4e8c\u8fdb\u5236\u6587\u4ef6   ```</p> <ul> <li>\u5199\u5165\u6587\u4ef6\u5185\u5bb9: \u4f7f\u7528 <code>write_text()</code> \u548c <code>write_bytes()</code> \u5199\u5165\u6587\u4ef6\u3002</li> </ul> <p>```python   p = Path('example.txt')</p> <p>p.write_text('Hello, World!', encoding='utf-8')  # \u5199\u5165\u6587\u672c\u6587\u4ef6   p.write_bytes(b'binary data')                    # \u5199\u5165\u4e8c\u8fdb\u5236\u6587\u4ef6   ```</p> <ul> <li>\u521b\u5efa\u6587\u4ef6\u548c\u76ee\u5f55: \u4f7f\u7528 <code>touch()</code> \u521b\u5efa\u6587\u4ef6\uff0c<code>mkdir()</code> \u521b\u5efa\u76ee\u5f55\u3002</li> </ul> <p>```python   p = Path('new_file.txt')   p.touch()  # \u521b\u5efa\u4e00\u4e2a\u7a7a\u6587\u4ef6</p> <p>p = Path('new_folder')   p.mkdir(parents=True, exist_ok=True)  # \u521b\u5efa\u76ee\u5f55\uff0c\u81ea\u52a8\u521b\u5efa\u7236\u76ee\u5f55   ```</p> <ul> <li>\u5220\u9664\u6587\u4ef6\u548c\u76ee\u5f55: \u4f7f\u7528 <code>unlink()</code> \u5220\u9664\u6587\u4ef6\uff0c<code>rmdir()</code> \u5220\u9664\u7a7a\u76ee\u5f55\u3002</li> </ul> <p>```python   p = Path('new_file.txt')   p.unlink()  # \u5220\u9664\u6587\u4ef6</p> <p>p = Path('new_folder')   p.rmdir()   # \u5220\u9664\u7a7a\u76ee\u5f55   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#5","title":"5. \u904d\u5386\u76ee\u5f55","text":"<ul> <li><code>iterdir()</code>: \u7528\u4e8e\u904d\u5386\u76ee\u5f55\u4e2d\u7684\u5185\u5bb9\u3002</li> </ul> <p><code>python   p = Path('.')   for entry in p.iterdir():       print(entry.name)  # \u6253\u5370\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u76ee\u5f55</code></p> <ul> <li><code>glob()</code> \u548c <code>rglob()</code>: \u652f\u6301\u901a\u914d\u7b26\u5339\u914d\uff0c<code>rglob()</code> \u53ef\u4ee5\u9012\u5f52\u5339\u914d\u3002</li> </ul> <p>```python   p = Path('.')   for txt_file in p.glob('*.txt'):       print(txt_file.name)  # \u5339\u914d\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709 .txt \u6587\u4ef6</p> <p>for py_file in p.rglob('*.py'):       print(py_file.name)  # \u9012\u5f52\u5339\u914d\u5f53\u524d\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u4e0b\u7684\u6240\u6709 .py \u6587\u4ef6   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#6","title":"6. \u8def\u5f84\u6bd4\u8f83\u4e0e\u76f8\u5bf9\u8def\u5f84","text":"<ul> <li>\u6bd4\u8f83\u8def\u5f84: \u53ef\u4ee5\u76f4\u63a5\u6bd4\u8f83 <code>Path</code> \u5bf9\u8c61\u3002</li> </ul> <p>```python   p1 = Path('/usr/bin/python3')   p2 = Path('/usr/bin/python3')</p> <p>print(p1 == p2)  # \u8f93\u51fa: True   ```</p> <ul> <li>\u83b7\u53d6\u76f8\u5bf9\u8def\u5f84: \u4f7f\u7528 <code>relative_to()</code> \u65b9\u6cd5\u3002</li> </ul> <p>```python   p1 = Path('/usr/bin/python3')   p2 = Path('/usr')</p> <p>print(p1.relative_to(p2))  # \u8f93\u51fa: bin/python3   ```</p> <ul> <li>\u83b7\u53d6\u8def\u5f84\u4e4b\u95f4\u7684\u76f8\u5bf9\u8def\u5f84:</li> </ul> <p>```python   p1 = Path('/usr/bin/python3')   p2 = Path('/usr/local/bin')</p> <p>print(p1.relative_to(p2))  # \u8f93\u51fa: ../local/bin   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pathlib/#_1","title":"\u603b\u7ed3","text":"<p><code>pathlib</code> \u6a21\u5757\u4e3a\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c\u63d0\u4f9b\u4e86\u66f4\u52a0\u76f4\u89c2\u548c\u5f3a\u5927\u7684\u5de5\u5177\u3002\u901a\u8fc7\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u5b83\u4f7f\u5f97\u8def\u5f84\u64cd\u4f5c\u66f4\u52a0\u6e05\u6670\u548c\u6613\u4e8e\u7406\u89e3\u3002\u5bf9\u4e8e\u6d89\u53ca\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u4efb\u52a1\uff0c<code>pathlib</code> \u662f\u4e00\u4e2a\u975e\u5e38\u63a8\u8350\u7684\u6a21\u5757\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/","title":"pickle \u6a21\u5757","text":"<p><code>pickle</code> \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u5c06 Python \u5bf9\u8c61\u5e8f\u5217\u5316\uff08\u5e8f\u5217\u5316\u662f\u6307\u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u8282\u6d41\uff09\u548c\u53cd\u5e8f\u5217\u5316\uff08\u53cd\u5e8f\u5217\u5316\u662f\u6307\u5c06\u5b57\u8282\u6d41\u8fd8\u539f\u4e3a\u5bf9\u8c61\uff09\u3002<code>pickle</code> \u6a21\u5757\u975e\u5e38\u6709\u7528\uff0c\u5f53\u4f60\u9700\u8981\u5c06 Python \u5bf9\u8c61\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u6216\u8005\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#1","title":"1. \u57fa\u672c\u6982\u5ff5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#11-pickling","title":"1.1 \u5e8f\u5217\u5316\uff08Pickling\uff09","text":"<p>\u5e8f\u5217\u5316\u662f\u6307\u5c06 Python \u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u8282\u6d41\u7684\u8fc7\u7a0b\uff0c\u8fd9\u6837\u53ef\u4ee5\u5c06\u5bf9\u8c61\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\u6216\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u3002</p> <pre><code>import pickle\n\ndata = {'key': 'value', 'number': 42}\n\n# \u5e8f\u5217\u5316\u5bf9\u8c61\nwith open('data.pkl', 'wb') as f:\n    pickle.dump(data, f)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#12-unpickling","title":"1.2 \u53cd\u5e8f\u5217\u5316\uff08Unpickling\uff09","text":"<p>\u53cd\u5e8f\u5217\u5316\u662f\u6307\u5c06\u5b57\u8282\u6d41\u8f6c\u6362\u56de Python \u5bf9\u8c61\u7684\u8fc7\u7a0b\u3002</p> <pre><code>import pickle\n\n# \u53cd\u5e8f\u5217\u5316\u5bf9\u8c61\nwith open('data.pkl', 'rb') as f:\n    data = pickle.load(f)\n\nprint(data)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#2-pickle","title":"2. <code>pickle</code> \u6a21\u5757\u7684\u4e3b\u8981\u65b9\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#21-pickledumpobj-file-protocolnone","title":"2.1 <code>pickle.dump(obj, file, protocol=None)</code>","text":"<p>\u5c06 <code>obj</code> \u5e8f\u5217\u5316\u5230 <code>file</code> \u4e2d\u3002<code>protocol</code> \u53c2\u6570\u53ef\u4ee5\u6307\u5b9a\u4f7f\u7528\u7684\u5e8f\u5217\u5316\u534f\u8bae\uff0c\u9ed8\u8ba4\u4e3a\u6700\u9ad8\u534f\u8bae\u3002</p> <ul> <li>obj: \u8981\u5e8f\u5217\u5316\u7684\u5bf9\u8c61\u3002</li> <li>file: \u4e00\u4e2a\u6253\u5f00\u7684\u6587\u4ef6\u5bf9\u8c61\uff0c\u5fc5\u987b\u4ee5\u4e8c\u8fdb\u5236\u5199\u6a21\u5f0f (<code>wb</code>) \u6253\u5f00\u3002</li> <li>protocol: \u53ef\u9009\u7684\u534f\u8bae\u7248\u672c\uff0c\u9ed8\u8ba4\u4e3a <code>None</code>\uff0c\u8868\u793a\u4f7f\u7528\u6700\u9ad8\u7248\u672c\u3002</li> </ul> <pre><code>import pickle\n\ndata = {'key': 'value'}\nwith open('data.pkl', 'wb') as f:\n    pickle.dump(data, f, protocol=pickle.HIGHEST_PROTOCOL)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#22-pickleloadfile","title":"2.2 <code>pickle.load(file)</code>","text":"<p>\u4ece <code>file</code> \u4e2d\u8bfb\u53d6\u5b57\u8282\u6d41\u5e76\u53cd\u5e8f\u5217\u5316\u4e3a Python \u5bf9\u8c61\u3002</p> <ul> <li>file: \u4e00\u4e2a\u6253\u5f00\u7684\u6587\u4ef6\u5bf9\u8c61\uff0c\u5fc5\u987b\u4ee5\u4e8c\u8fdb\u5236\u8bfb\u6a21\u5f0f (<code>rb</code>) \u6253\u5f00\u3002</li> </ul> <pre><code>import pickle\n\nwith open('data.pkl', 'rb') as f:\n    data = pickle.load(f)\n\nprint(data)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#23-pickledumpsobj-protocolnone","title":"2.3 <code>pickle.dumps(obj, protocol=None)</code>","text":"<p>\u5c06 <code>obj</code> \u5e8f\u5217\u5316\u4e3a\u5b57\u8282\u6d41\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5199\u5165\u6587\u4ef6\u3002</p> <ul> <li>obj: \u8981\u5e8f\u5217\u5316\u7684\u5bf9\u8c61\u3002</li> <li>protocol: \u53ef\u9009\u7684\u534f\u8bae\u7248\u672c\u3002</li> </ul> <pre><code>import pickle\n\ndata = {'key': 'value'}\nbyte_data = pickle.dumps(data, protocol=pickle.HIGHEST_PROTOCOL)\nprint(byte_data)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#24-pickleloadsbytes","title":"2.4 <code>pickle.loads(bytes)</code>","text":"<p>\u5c06\u5b57\u8282\u6d41 <code>bytes</code> \u53cd\u5e8f\u5217\u5316\u4e3a Python \u5bf9\u8c61\u3002</p> <ul> <li>bytes: \u4e00\u4e2a\u5b57\u8282\u6d41\uff0c\u901a\u5e38\u6765\u81ea\u4e8e <code>dumps()</code>\u3002</li> </ul> <pre><code>import pickle\n\nbyte_data = b'\\x80\\x04\\x95\\x17\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\\x94\\x8c\\x03key\\x94\\x8c\\x05value\\x94s.'\ndata = pickle.loads(byte_data)\nprint(data)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#3-pickle","title":"3. <code>pickle</code> \u7684\u534f\u8bae\u7248\u672c","text":"<p><code>pickle</code> \u63d0\u4f9b\u4e86\u4e0d\u540c\u7684\u534f\u8bae\u7248\u672c\uff0c\u6bcf\u4e2a\u7248\u672c\u5728\u5e8f\u5217\u5316\u5bf9\u8c61\u65f6\u4f1a\u91c7\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\uff1a</p> <ul> <li>\u534f\u8bae\u7248\u672c 0: \u539f\u59cb\u7684\u6587\u672c\u534f\u8bae\uff0c\u652f\u6301\u8f83\u65e7\u7684 Python \u7248\u672c\u3002</li> <li>\u534f\u8bae\u7248\u672c 1: \u8f83\u65e9\u7684\u4e8c\u8fdb\u5236\u534f\u8bae\u3002</li> <li>\u534f\u8bae\u7248\u672c 2: Python 2.3 \u5f15\u5165\uff0c\u652f\u6301\u65b0\u5f0f\u7c7b\uff08new-style classes\uff09\u3002</li> <li>\u534f\u8bae\u7248\u672c 3: Python 3.x \u7684\u9ed8\u8ba4\u534f\u8bae\uff0c\u652f\u6301\u5b57\u8282\u5bf9\u8c61\u3002</li> <li>\u534f\u8bae\u7248\u672c 4: Python 3.4 \u5f15\u5165\uff0c\u652f\u6301\u5927\u578b\u5bf9\u8c61\u548c\u66f4\u9ad8\u6548\u7684\u5e8f\u5217\u5316\u3002</li> <li>\u534f\u8bae\u7248\u672c 5: Python 3.8 \u5f15\u5165\uff0c\u652f\u6301out-of-band\u6570\u636e\u548c\u5176\u4ed6\u4f18\u5316\u3002</li> </ul> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528 <code>protocol=pickle.HIGHEST_PROTOCOL</code> \u6765\u9009\u62e9\u6700\u9ad8\u7684\u534f\u8bae\u7248\u672c\uff0c\u4ee5\u83b7\u5f97\u6700\u4f73\u7684\u6027\u80fd\u548c\u517c\u5bb9\u6027\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#4","title":"4. \u81ea\u5b9a\u4e49\u5bf9\u8c61\u7684\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316","text":"<p>\u5982\u679c\u4f60\u9700\u8981\u5e8f\u5217\u5316\u81ea\u5b9a\u4e49\u7c7b\u7684\u5bf9\u8c61\uff0c<code>pickle</code> \u53ef\u4ee5\u5904\u7406\u8fd9\u7c7b\u60c5\u51b5\uff0c\u4f46\u6709\u65f6\u4f60\u9700\u8981\u81ea\u5b9a\u4e49\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u7684\u8fc7\u7a0b\u3002\u901a\u8fc7\u5728\u7c7b\u4e2d\u5b9a\u4e49 <code>__reduce__()</code> \u6216 <code>__getstate__()</code> \u548c <code>__setstate__()</code> \u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u63a7\u5236\u5982\u4f55\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u5bf9\u8c61\u3002</p> <pre><code>class MyClass:\n    def __init__(self, value):\n        self.value = value\n\n    def __getstate__(self):\n        # \u8fd4\u56de\u8981\u5e8f\u5217\u5316\u7684\u72b6\u6001\n        state = self.__dict__.copy()\n        return state\n\n    def __setstate__(self, state):\n        # \u4ece\u53cd\u5e8f\u5217\u5316\u72b6\u6001\u4e2d\u6062\u590d\u5bf9\u8c61\n        self.__dict__.update(state)\n\nimport pickle\n\nobj = MyClass(10)\nwith open('myclass.pkl', 'wb') as f:\n    pickle.dump(obj, f)\n\nwith open('myclass.pkl', 'rb') as f:\n    loaded_obj = pickle.load(f)\n\nprint(loaded_obj.value)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#5-pickle","title":"5. <code>pickle</code> \u6a21\u5757\u7684\u9650\u5236","text":"<ul> <li>\u5b89\u5168\u6027: <code>pickle</code> \u53cd\u5e8f\u5217\u5316\u4efb\u610f\u5bf9\u8c61\u65f6\u5b58\u5728\u5b89\u5168\u98ce\u9669\uff0c\u56e0\u4e3a\u5b83\u4f1a\u6267\u884c\u5bf9\u8c61\u4e2d\u7684\u4efb\u610f\u4ee3\u7801\u3002\u56e0\u6b64\uff0c\u9664\u975e\u4fe1\u4efb\u6570\u636e\u6765\u6e90\uff0c\u5426\u5219\u4e0d\u8981\u53cd\u5e8f\u5217\u5316\u4e0d\u53ef\u4fe1\u7684\u6570\u636e\u3002</li> <li>\u8de8\u7248\u672c\u517c\u5bb9\u6027: <code>pickle</code> \u5e8f\u5217\u5316\u7684\u683c\u5f0f\u53ef\u80fd\u5728\u4e0d\u540c Python \u7248\u672c\u4e4b\u95f4\u4e0d\u5b8c\u5168\u517c\u5bb9\u3002</li> <li>\u6548\u7387: \u5bf9\u4e8e\u5927\u578b\u6570\u636e\u96c6\uff0c<code>pickle</code> \u7684\u6027\u80fd\u53ef\u80fd\u4e0d\u5982\u5176\u4ed6\u5e8f\u5217\u5316\u683c\u5f0f\uff0c\u5982 <code>JSON</code> \u6216 <code>MessagePack</code>\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#6","title":"6. \u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u6301\u4e45\u5316\u5b58\u50a8: \u5c06 Python \u5bf9\u8c61\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u4ee5\u4fbf\u5728\u540e\u7eed\u8fd0\u884c\u4e2d\u6062\u590d\u4f7f\u7528\u3002</li> <li>\u8fdb\u7a0b\u95f4\u901a\u4fe1: \u5728\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\uff0c\u901a\u8fc7 <code>pickle</code> \u5e8f\u5217\u5316\u5bf9\u8c61\u4ee5\u4fbf\u5728\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u3002</li> <li>\u7f51\u7edc\u4f20\u8f93: \u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u5148\u5e8f\u5217\u5316\u4e3a\u5b57\u8282\u6d41\uff0c\u7136\u540e\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\uff0c\u518d\u53cd\u5e8f\u5217\u5316\u4e3a\u5bf9\u8c61\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#7-pickle","title":"7. <code>pickle</code> \u4e0e\u5176\u4ed6\u5e8f\u5217\u5316\u65b9\u5f0f\u7684\u6bd4\u8f83","text":"<ul> <li>JSON: \u9002\u5408\u4eba\u7c7b\u53ef\u8bfb\u7684\u7b80\u5355\u6570\u636e\u7ed3\u6784\uff0c\u4e3b\u8981\u7528\u4e8e\u6587\u672c\u6570\u636e\u3002<code>JSON</code> \u4e0d\u652f\u6301\u590d\u6742\u5bf9\u8c61\u7684\u5e8f\u5217\u5316\uff0c\u5982\u81ea\u5b9a\u4e49\u7c7b\u5b9e\u4f8b\u3002</li> <li>msgpack: \u4e8c\u8fdb\u5236\u5e8f\u5217\u5316\u683c\u5f0f\uff0c\u901f\u5ea6\u548c\u6548\u7387\u90fd\u4f18\u4e8e <code>pickle</code>\uff0c\u4f46\u652f\u6301\u7684 Python \u6570\u636e\u7c7b\u578b\u8f83\u5c11\u3002</li> <li>cPickle: <code>pickle</code> \u7684 C \u5b9e\u73b0\u7248\u672c\uff0c\u5728 Python 2 \u4e2d\u4f7f\u7528\u3002Python 3 \u4e2d\u5df2\u7ecf\u5408\u5e76\u5230 <code>pickle</code> \u6a21\u5757\u4e2d\uff0c\u81ea\u52a8\u9009\u62e9\u6700\u5feb\u7684\u5b9e\u73b0\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pickle/#8","title":"8. \u603b\u7ed3","text":"<p><code>pickle</code> \u6a21\u5757\u662f Python \u4e2d\u7528\u4e8e\u5bf9\u8c61\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u7684\u5f3a\u5927\u5de5\u5177\u3002\u867d\u7136\u5b58\u5728\u4e00\u4e9b\u9650\u5236\uff0c\u5982\u5b89\u5168\u6027\u548c\u8de8\u7248\u672c\u517c\u5bb9\u6027\uff0c\u4f46\u5b83\u5728\u9700\u8981\u6301\u4e45\u5316\u590d\u6742\u6570\u636e\u7ed3\u6784\u6216\u5728\u8fdb\u7a0b\u95f4\u4f20\u9012\u6570\u636e\u65f6\u975e\u5e38\u6709\u7528\u3002\u638c\u63e1 <code>pickle</code> \u7684\u4f7f\u7528\uff0c\u53ef\u4ee5\u8ba9\u4f60\u7684 Python \u7a0b\u5e8f\u5728\u6570\u636e\u5b58\u50a8\u548c\u4f20\u8f93\u65b9\u9762\u66f4\u52a0\u7075\u6d3b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/","title":"pymysql \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#pymysql_1","title":"PyMySQL \u8be6\u89e3","text":"<p><code>PyMySQL</code> \u662f\u4e00\u4e2a\u7eaf Python \u5b9e\u73b0\u7684 MySQL \u5ba2\u6237\u7aef\u5e93\uff0c\u7528\u4e8e\u8fde\u63a5 MySQL \u6570\u636e\u5e93\u5e76\u6267\u884c SQL \u67e5\u8be2\u3002\u5b83\u4e0e MySQL \u6570\u636e\u5e93\u7684\u4ea4\u4e92\u4e0d\u9700\u8981\u4f9d\u8d56\u4efb\u4f55 MySQL \u7684 C \u8bed\u8a00\u5e93\uff0c\u56e0\u6b64\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u5177\u6709\u826f\u597d\u7684\u517c\u5bb9\u6027\u3002\u4ee5\u4e0b\u662f <code>PyMySQL</code> \u7684\u8be6\u7ec6\u8bb2\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#1-pymysql","title":"1. \u5b89\u88c5 PyMySQL","text":"<p>\u5728\u4f7f\u7528 <code>PyMySQL</code> \u4e4b\u524d\uff0c\u9700\u8981\u901a\u8fc7 <code>pip</code> \u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install pymysql\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#2","title":"2. \u57fa\u672c\u7528\u6cd5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#21-mysql","title":"2.1 \u8fde\u63a5\u5230 MySQL \u6570\u636e\u5e93","text":"<p>\u8981\u8fde\u63a5\u5230 MySQL \u6570\u636e\u5e93\uff0c\u9996\u5148\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u8fde\u63a5\u5bf9\u8c61\uff1a</p> <pre><code>import pymysql\n\n# \u521b\u5efa\u6570\u636e\u5e93\u8fde\u63a5\nconnection = pymysql.connect(\n    host='localhost',  # MySQL\u670d\u52a1\u5668\u5730\u5740\n    user='your_username',  # \u7528\u6237\u540d\n    password='your_password',  # \u5bc6\u7801\n    database='your_database',  # \u6570\u636e\u5e93\u540d\u79f0\n    charset='utf8mb4',  # \u7f16\u7801\u683c\u5f0f\n    cursorclass=pymysql.cursors.DictCursor  # \u53ef\u9009\uff0c\u8fd4\u56de\u5b57\u5178\u683c\u5f0f\u7684\u7ed3\u679c\n)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#22-sql","title":"2.2 \u521b\u5efa\u6e38\u6807\u5e76\u6267\u884c SQL \u8bed\u53e5","text":"<p>\u4e00\u65e6\u8fde\u63a5\u6210\u529f\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6e38\u6807\u6765\u6267\u884c SQL \u67e5\u8be2\uff1a</p> <pre><code># \u521b\u5efa\u6e38\u6807\ncursor = connection.cursor()\n\n# \u6267\u884c\u67e5\u8be2\ncursor.execute(\"SELECT VERSION()\")\n\n# \u83b7\u53d6\u5355\u6761\u7ed3\u679c\nversion = cursor.fetchone()\nprint(f\"Database version: {version['VERSION()']}\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#23","title":"2.3 \u63d2\u5165\u6570\u636e","text":"<p>\u6267\u884c\u63d2\u5165\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7 <code>execute()</code> \u51fd\u6570\u6765\u5b8c\u6210\uff1a</p> <pre><code>sql = \"INSERT INTO users (name, age) VALUES (%s, %s)\"\ndata = ('Alice', 25)\n\ncursor.execute(sql, data)\n\n# \u63d0\u4ea4\u4e8b\u52a1\nconnection.commit()\n</code></pre> <p><code>PyMySQL</code> \u4f7f\u7528\u53c2\u6570\u5316\u67e5\u8be2\u6765\u9632\u6b62 SQL \u6ce8\u5165\u653b\u51fb\u3002\u8fd9\u91cc\u7684 <code>%s</code> \u662f\u5360\u4f4d\u7b26\uff0c\u540e\u9762\u7684\u6570\u636e\u4f1a\u81ea\u52a8\u586b\u5145\u5230 SQL \u8bed\u53e5\u4e2d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#24","title":"2.4 \u67e5\u8be2\u6570\u636e","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>SELECT</code> \u8bed\u53e5\u6765\u67e5\u8be2\u6570\u636e\uff0c\u5e76\u4f7f\u7528 <code>fetchone()</code> \u6216 <code>fetchall()</code> \u83b7\u53d6\u7ed3\u679c\uff1a</p> <pre><code>sql = \"SELECT id, name, age FROM users WHERE age &gt; %s\"\ncursor.execute(sql, (20,))\n\n# \u83b7\u53d6\u6240\u6709\u5339\u914d\u7684\u8bb0\u5f55\nresults = cursor.fetchall()\n\nfor row in results:\n    print(f\"ID: {row['id']}, Name: {row['name']}, Age: {row['age']}\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#25","title":"2.5 \u66f4\u65b0\u548c\u5220\u9664\u6570\u636e","text":"<p>\u66f4\u65b0\u548c\u5220\u9664\u64cd\u4f5c\u4e0e\u63d2\u5165\u7c7b\u4f3c\uff0c\u4f7f\u7528 <code>execute()</code> \u65b9\u6cd5\u6267\u884c SQL \u8bed\u53e5\uff1a</p> <pre><code># \u66f4\u65b0\u6570\u636e\nsql = \"UPDATE users SET age = %s WHERE name = %s\"\ncursor.execute(sql, (30, 'Alice'))\nconnection.commit()\n\n# \u5220\u9664\u6570\u636e\nsql = \"DELETE FROM users WHERE name = %s\"\ncursor.execute(sql, ('Alice',))\nconnection.commit()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#3","title":"3. \u4e8b\u52a1\u5904\u7406","text":"<p><code>PyMySQL</code> \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u662f\u81ea\u52a8\u63d0\u4ea4\u6a21\u5f0f\uff0c\u4f46\u4f60\u53ef\u4ee5\u624b\u52a8\u7ba1\u7406\u4e8b\u52a1\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002</p> <pre><code>try:\n    # \u7981\u7528\u81ea\u52a8\u63d0\u4ea4\n    connection.autocommit(False)\n\n    # \u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\n    cursor.execute(\"UPDATE accounts SET balance = balance - 100 WHERE id = 1\")\n    cursor.execute(\"UPDATE accounts SET balance = balance + 100 WHERE id = 2\")\n\n    # \u63d0\u4ea4\u4e8b\u52a1\n    connection.commit()\nexcept Exception as e:\n    # \u5982\u679c\u51fa\u73b0\u9519\u8bef\uff0c\u56de\u6eda\u4e8b\u52a1\n    connection.rollback()\n    print(f\"Transaction failed: {e}\")\nfinally:\n    # \u6062\u590d\u81ea\u52a8\u63d0\u4ea4\n    connection.autocommit(True)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#4","title":"4. \u8fde\u63a5\u6c60","text":"<p>\u5bf9\u4e8e\u9ad8\u5e76\u53d1\u7684\u5e94\u7528\uff0c\u4f7f\u7528\u8fde\u63a5\u6c60\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff0c<code>PyMySQL</code> \u672c\u8eab\u4e0d\u63d0\u4f9b\u8fde\u63a5\u6c60\u529f\u80fd\uff0c\u4f46\u53ef\u4ee5\u7ed3\u5408\u7b2c\u4e09\u65b9\u5e93 <code>pymysqlpool</code> \u6216 <code>SQLAlchemy</code> \u7b49\u6765\u5b9e\u73b0\u8fde\u63a5\u6c60\u3002</p> <pre><code>from pymysqlpool.pool import Pool\n\npool = Pool(host='localhost', user='your_username', password='your_password', database='your_database', autocommit=True)\npool.init()\n\n# \u4ece\u8fde\u63a5\u6c60\u83b7\u53d6\u8fde\u63a5\nconnection = pool.get_conn()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#5","title":"5. \u5904\u7406\u5f02\u5e38","text":"<p><code>PyMySQL</code> \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5f02\u5e38\u7c7b\u7528\u4e8e\u5904\u7406\u5e38\u89c1\u7684\u6570\u636e\u5e93\u9519\u8bef\uff0c\u5982 <code>OperationalError</code>, <code>IntegrityError</code> \u7b49\u3002</p> <pre><code>try:\n    connection = pymysql.connect(\n        host='localhost',\n        user='your_username',\n        password='your_password',\n        database='your_database'\n    )\nexcept pymysql.MySQLError as e:\n    print(f\"Error connecting to MySQL: {e}\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#6","title":"6. \u5173\u95ed\u8fde\u63a5","text":"<p>\u64cd\u4f5c\u5b8c\u6210\u540e\uff0c\u8bb0\u5f97\u5173\u95ed\u6e38\u6807\u548c\u8fde\u63a5\u4ee5\u91ca\u653e\u8d44\u6e90\uff1a</p> <pre><code>cursor.close()\nconnection.close()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pymysql/#7","title":"7. \u603b\u7ed3","text":"<p><code>PyMySQL</code> \u662f\u4e00\u4e2a\u7b80\u5355\u6613\u7528\u4e14\u529f\u80fd\u5f3a\u5927\u7684 MySQL \u5ba2\u6237\u7aef\u5e93\uff0c\u9002\u5408\u5728\u5404\u79cd Python \u9879\u76ee\u4e2d\u4f7f\u7528\u3002\u5b83\u63d0\u4f9b\u4e86\u5bf9 MySQL \u6570\u636e\u5e93\u7684\u5168\u9762\u652f\u6301\uff0c\u5e76\u5141\u8bb8\u5f00\u53d1\u8005\u5728 Python \u4e2d\u4ee5\u76f4\u89c2\u7684\u65b9\u5f0f\u6267\u884c\u6570\u636e\u5e93\u64cd\u4f5c\u3002\u901a\u8fc7\u638c\u63e1 <code>PyMySQL</code> \u7684\u57fa\u672c\u7528\u6cd5\u548c\u9ad8\u7ea7\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u8f7b\u677e\u5b9e\u73b0\u6570\u636e\u5e93\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/","title":"pytest \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#python-pytest","title":"Python <code>pytest</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>pytest</code> \u662f\u4e00\u4e2a\u5f3a\u5927\u7684 Python \u6d4b\u8bd5\u6846\u67b6\uff0c\u5e7f\u6cdb\u7528\u4e8e\u7f16\u5199\u7b80\u5355\u7684\u5355\u5143\u6d4b\u8bd5\u5230\u590d\u6742\u7684\u529f\u80fd\u6d4b\u8bd5\u3002\u5b83\u5177\u6709\u6613\u4e8e\u4f7f\u7528\u3001\u652f\u6301\u53c2\u6570\u5316\u6d4b\u8bd5\u3001\u5f3a\u5927\u7684\u63d2\u4ef6\u751f\u6001\u7cfb\u7edf\u7b49\u7279\u70b9\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#1","title":"1. \u5b89\u88c5","text":"<p>\u9996\u5148\uff0c\u4f7f\u7528 <code>pip</code> \u5b89\u88c5 <code>pytest</code>\uff1a</p> <pre><code>pip install pytest\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u9879\u76ee\u6839\u76ee\u5f55\u8fd0\u884c <code>pytest</code> \u547d\u4ee4\u6765\u6267\u884c\u6d4b\u8bd5\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#2","title":"2. \u7f16\u5199\u6d4b\u8bd5","text":"<p><code>pytest</code> \u81ea\u52a8\u8bc6\u522b\u4ee5 <code>test_</code> \u5f00\u5934\u6216\u7ed3\u5c3e\u7684\u51fd\u6570\u548c\u6587\u4ef6\u3002</p> <ul> <li>\u57fa\u672c\u6d4b\u8bd5\u51fd\u6570:</li> </ul> <p>```python   # test_example.py   def test_addition():       assert 1 + 1 == 2</p> <p>def test_subtraction():       assert 2 - 1 == 1   ```</p> <ul> <li>\u6267\u884c\u6d4b\u8bd5:</li> </ul> <p><code>bash   pytest</code></p> <p>\u8fd9\u5c06\u81ea\u52a8\u53d1\u73b0\u5e76\u8fd0\u884c\u6240\u6709\u7b26\u5408\u547d\u540d\u89c4\u8303\u7684\u6d4b\u8bd5\u51fd\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#3-assert","title":"3. \u4f7f\u7528 <code>assert</code> \u8bed\u53e5","text":"<p><code>pytest</code> \u4f7f\u7528 Python \u7684 <code>assert</code> \u8bed\u53e5\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5f53\u65ad\u8a00\u5931\u8d25\u65f6\uff0c<code>pytest</code> \u4f1a\u8f93\u51fa\u8be6\u7ec6\u7684\u9519\u8bef\u4fe1\u606f\u3002</p> <pre><code>def test_multiplication():\n    result = 2 * 3\n    assert result == 6\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#4","title":"4. \u53c2\u6570\u5316\u6d4b\u8bd5","text":"<p>\u53c2\u6570\u5316\u6d4b\u8bd5\u5141\u8bb8\u4f60\u4e3a\u76f8\u540c\u7684\u6d4b\u8bd5\u51fd\u6570\u63d0\u4f9b\u4e0d\u540c\u7684\u6570\u636e\u96c6\uff0c\u4ece\u800c\u5728\u4e0d\u540c\u7684\u8f93\u5165\u4e0b\u6d4b\u8bd5\u76f8\u540c\u7684\u4ee3\u7801\u903b\u8f91\u3002</p> <pre><code>import pytest\n\n@pytest.mark.parametrize(\"a, b, expected\", [\n    (1, 2, 3),\n    (2, 3, 5),\n    (4, 5, 9),\n])\ndef test_addition(a, b, expected):\n    assert a + b == expected\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#5","title":"5. \u8df3\u8fc7\u6d4b\u8bd5\u548c\u9884\u671f\u5931\u8d25","text":"<ul> <li>\u8df3\u8fc7\u6d4b\u8bd5:</li> </ul> <p>```python   import pytest</p> <p>@pytest.mark.skip(reason=\"\u6682\u65f6\u8df3\u8fc7\")   def test_skipped():       assert 1 + 1 == 2   ```</p> <ul> <li>\u6807\u8bb0\u9884\u671f\u5931\u8d25:</li> </ul> <p><code>python   @pytest.mark.xfail(reason=\"\u6b64\u529f\u80fd\u5c1a\u672a\u5b9e\u73b0\")   def test_expected_failure():       assert 1 + 1 == 3</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#6","title":"6. \u7ec4\u7ec7\u6d4b\u8bd5","text":"<p><code>pytest</code> \u901a\u8fc7\u76ee\u5f55\u548c\u6a21\u5757\u81ea\u52a8\u53d1\u73b0\u6d4b\u8bd5\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u7ec4\u7ec7\u6d4b\u8bd5\uff1a</p> <ul> <li>\u6d4b\u8bd5\u6587\u4ef6: \u6d4b\u8bd5\u6587\u4ef6\u901a\u5e38\u4ee5 <code>test_</code> \u5f00\u5934\u6216 <code>_test</code> \u7ed3\u5c3e\u3002</li> <li>\u6d4b\u8bd5\u7c7b: \u53ef\u4ee5\u5728\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u5b9a\u4e49\u6d4b\u8bd5\u7c7b\uff0c\u7c7b\u540d\u4ee5 <code>Test</code> \u5f00\u5934\u3002\u7c7b\u4e2d\u7684\u65b9\u6cd5\u5fc5\u987b\u4ee5 <code>test_</code> \u5f00\u5934\u3002</li> </ul> <p>```python   class TestMathOperations:       def test_addition(self):           assert 1 + 1 == 2</p> <pre><code>  def test_subtraction(self):\n      assert 2 - 1 == 1\n</code></pre> <p>```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#7-fixtures","title":"7. Fixtures\uff08\u56fa\u5b9a\u88c5\u7f6e\uff09","text":"<p>Fixtures \u662f\u7528\u4e8e\u5728\u6d4b\u8bd5\u51fd\u6570\u6267\u884c\u4e4b\u524d\u6216\u4e4b\u540e\u63d0\u4f9b\u7279\u5b9a\u72b6\u6001\u7684\u4ee3\u7801\u3002<code>pytest</code> \u4f7f\u7528 <code>@pytest.fixture</code> \u88c5\u9970\u5668\u5b9a\u4e49 fixtures\u3002</p> <ul> <li>\u7b80\u5355 Fixture:</li> </ul> <p>```python   import pytest</p> <p>@pytest.fixture   def sample_data():       return {\"key\": \"value\"}</p> <p>def test_sample_data(sample_data):       assert sample_data[\"key\"] == \"value\"   ```</p> <ul> <li>Fixture \u4f5c\u7528\u8303\u56f4:</li> </ul> <p>Fixture \u53ef\u4ee5\u901a\u8fc7 <code>scope</code> \u53c2\u6570\u6307\u5b9a\u4f5c\u7528\u8303\u56f4\uff0c\u5982 <code>function</code>\uff08\u9ed8\u8ba4\uff09\u3001<code>module</code>\u3001<code>class</code> \u6216 <code>session</code>\u3002</p> <p><code>python   @pytest.fixture(scope=\"module\")   def setup_module():       # \u6a21\u5757\u7ea7\u522b\u7684\u8bbe\u7f6e\u4ee3\u7801       return {\"setup\": \"module\"}</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#8","title":"8. \u65ad\u8a00\u91cd\u5199\u548c\u8c03\u8bd5","text":"<p><code>pytest</code> \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u65ad\u8a00\u91cd\u5199\u529f\u80fd\uff0c\u4f7f\u5f97\u65ad\u8a00\u5931\u8d25\u65f6\u8f93\u51fa\u8be6\u7ec6\u7684\u4fe1\u606f\uff0c\u5e2e\u52a9\u5feb\u901f\u5b9a\u4f4d\u95ee\u9898\u3002</p> <ul> <li>\u6355\u83b7\u5f02\u5e38:</li> </ul> <p>```python   import pytest</p> <p>def test_zero_division():       with pytest.raises(ZeroDivisionError):           1 / 0   ```</p> <ul> <li>\u542f\u7528\u8c03\u8bd5:</li> </ul> <p>\u53ef\u4ee5\u5728\u6d4b\u8bd5\u8fd0\u884c\u65f6\u542f\u7528\u8c03\u8bd5\u5668\uff0c\u4f8b\u5982 <code>pdb</code>\uff1a</p> <p><code>bash   pytest --pdb</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#9","title":"9. \u4f7f\u7528\u547d\u4ee4\u884c\u9009\u9879","text":"<p><code>pytest</code> \u63d0\u4f9b\u4e86\u591a\u79cd\u547d\u4ee4\u884c\u9009\u9879\u6765\u63a7\u5236\u6d4b\u8bd5\u8fd0\u884c\uff1a</p> <ul> <li>\u6307\u5b9a\u6d4b\u8bd5\u6587\u4ef6:</li> </ul> <p><code>bash   pytest test_example.py</code></p> <ul> <li>\u8fd0\u884c\u7279\u5b9a\u6d4b\u8bd5:</li> </ul> <p><code>bash   pytest test_example.py::test_addition</code></p> <ul> <li>\u663e\u793a\u8be6\u7ec6\u4fe1\u606f:</li> </ul> <p><code>bash   pytest -v</code></p> <ul> <li>\u751f\u6210 HTML \u62a5\u544a\uff08\u9700\u8981\u5b89\u88c5 <code>pytest-html</code> \u63d2\u4ef6\uff09:</li> </ul> <p><code>bash   pytest --html=report.html</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#10","title":"10. \u6269\u5c55\u548c\u63d2\u4ef6","text":"<p><code>pytest</code> \u62e5\u6709\u4e30\u5bcc\u7684\u63d2\u4ef6\u751f\u6001\u7cfb\u7edf\uff0c\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u6269\u5c55\u5176\u529f\u80fd\u3002\u4f8b\u5982\uff1a</p> <ul> <li><code>pytest-cov</code>: \u7528\u4e8e\u751f\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u3002</li> <li><code>pytest-xdist</code>: \u652f\u6301\u5e76\u884c\u6d4b\u8bd5\u6267\u884c\u3002</li> <li><code>pytest-mock</code>: \u7528\u4e8e\u7b80\u5316\u6d4b\u8bd5\u4e2d\u7684 mocking \u64cd\u4f5c\u3002</li> </ul> <p>\u5b89\u88c5\u63d2\u4ef6\uff1a</p> <pre><code>pip install pytest-cov pytest-xdist pytest-mock\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytest/#_1","title":"\u603b\u7ed3","text":"<p><code>pytest</code> \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u4e14\u7075\u6d3b\u7684\u6d4b\u8bd5\u6846\u67b6\uff0c\u9002\u7528\u4e8e\u4ece\u7b80\u5355\u5230\u590d\u6742\u7684\u6d4b\u8bd5\u573a\u666f\u3002\u5b83\u7684\u6613\u7528\u6027\u3001\u4e30\u5bcc\u7684\u63d2\u4ef6\u751f\u6001\u7cfb\u7edf\u4ee5\u53ca\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u4f7f\u5f97\u5b83\u6210\u4e3a Python \u5f00\u53d1\u8005\u6700\u53d7\u6b22\u8fce\u7684\u6d4b\u8bd5\u5de5\u5177\u4e4b\u4e00\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/","title":"pytorch","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#pytorch_1","title":"PyTorch \u6559\u7a0b\u8be6\u89e3","text":"<p><code>PyTorch</code> \u662f\u4e00\u4e2a\u57fa\u4e8e Python \u7684\u6df1\u5ea6\u5b66\u4e60\u5e93\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5b66\u672f\u7814\u7a76\u548c\u5de5\u4e1a\u5e94\u7528\u3002\u5b83\u4ee5\u52a8\u6001\u8ba1\u7b97\u56fe\u3001\u7075\u6d3b\u7684\u8bbe\u8ba1\u548c\u5f3a\u5927\u7684\u81ea\u52a8\u5fae\u5206\u80fd\u529b\u8457\u79f0\uff0c\u9002\u5408\u5f00\u53d1\u590d\u6742\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#1-pytorch","title":"1. \u5b89\u88c5 PyTorch","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>pip</code> \u6216 <code>conda</code> \u5b89\u88c5 PyTorch\u3002\u5728\u5b89\u88c5\u65f6\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u662f\u5426\u652f\u6301 GPU\uff08CUDA\uff09\u3002</p> <pre><code># \u4f7f\u7528 pip \u5b89\u88c5 CPU \u7248\u672c\npip install torch torchvision\n\n# \u4f7f\u7528 pip \u5b89\u88c5 GPU \u7248\u672c\uff08CUDA 10.2\uff09\npip install torch torchvision torchaudio\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#2-pytorch","title":"2. PyTorch \u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#21-tensor","title":"2.1 Tensor\uff08\u5f20\u91cf\uff09","text":"<p><code>Tensor</code> \u662f PyTorch \u4e2d\u7684\u6838\u5fc3\u6570\u636e\u7ed3\u6784\uff0c\u7c7b\u4f3c\u4e8e NumPy \u7684 <code>ndarray</code>\uff0c\u4f46\u5177\u6709\u66f4\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u7279\u522b\u662f\u53ef\u4ee5\u5728 GPU \u4e0a\u8fd0\u884c\u3002</p> <pre><code>import torch\n\n# \u521b\u5efa\u4e00\u4e2a 5x3 \u7684\u5f20\u91cf\nx = torch.empty(5, 3)\nprint(x)\n\n# \u521b\u5efa\u4e00\u4e2a\u968f\u673a\u521d\u59cb\u5316\u7684\u5f20\u91cf\nx = torch.rand(5, 3)\nprint(x)\n\n# \u4f7f\u7528\u76f4\u63a5\u8d4b\u503c\u521b\u5efa\u5f20\u91cf\nx = torch.tensor([5.5, 3])\nprint(x)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#22-autograd","title":"2.2 \u81ea\u52a8\u6c42\u5bfc\uff08Autograd\uff09","text":"<p><code>Autograd</code> \u662f PyTorch \u7684\u4e00\u4e2a\u6838\u5fc3\u529f\u80fd\uff0c\u652f\u6301\u81ea\u52a8\u8ba1\u7b97\u68af\u5ea6\uff0c\u8fd9\u5728\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\u65f6\u975e\u5e38\u6709\u7528\u3002</p> <pre><code># \u521b\u5efa\u4e00\u4e2a\u53ef\u4ee5\u8ba1\u7b97\u68af\u5ea6\u7684\u5f20\u91cf\nx = torch.ones(2, 2, requires_grad=True)\ny = x + 2\nz = y * y * 3\nout = z.mean()\n\n# \u53cd\u5411\u4f20\u64ad\u8ba1\u7b97\u68af\u5ea6\nout.backward()\n\n# \u67e5\u770b\u68af\u5ea6\nprint(x.grad)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#3","title":"3. \u6784\u5efa\u795e\u7ecf\u7f51\u7edc","text":"<p>\u5728 PyTorch \u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>torch.nn</code> \u6a21\u5757\u6765\u6784\u5efa\u795e\u7ecf\u7f51\u7edc\u3002</p> <pre><code>import torch.nn as nn\nimport torch.nn.functional as F\n\n# \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u795e\u7ecf\u7f51\u7edc\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        self.fc1 = nn.Linear(28 * 28, 128)\n        self.fc2 = nn.Linear(128, 10)\n\n    def forward(self, x):\n        x = x.view(-1, 28 * 28)\n        x = F.relu(self.fc1(x))\n        x = self.fc2(x)\n        return x\n\nnet = Net()\nprint(net)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#4","title":"4. \u6570\u636e\u52a0\u8f7d\u4e0e\u5904\u7406","text":"<p><code>torchvision</code> \u63d0\u4f9b\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u6570\u636e\u96c6\u548c\u6570\u636e\u9884\u5904\u7406\u5de5\u5177\u3002\u4e0b\u9762\u662f\u5982\u4f55\u52a0\u8f7d MNIST \u6570\u636e\u96c6\u5e76\u8fdb\u884c\u9884\u5904\u7406\u7684\u793a\u4f8b\u3002</p> <pre><code>import torchvision\nimport torchvision.transforms as transforms\nfrom torch.utils.data import DataLoader\n\n# \u5b9a\u4e49\u6570\u636e\u8f6c\u6362\ntransform = transforms.Compose([\n    transforms.ToTensor(),\n    transforms.Normalize((0.5,), (0.5,))\n])\n\n# \u52a0\u8f7d\u8bad\u7ec3\u6570\u636e\u96c6\ntrainset = torchvision.datasets.MNIST(root='./data', train=True, download=True, transform=transform)\ntrainloader = DataLoader(trainset, batch_size=32, shuffle=True)\n\n# \u52a0\u8f7d\u6d4b\u8bd5\u6570\u636e\u96c6\ntestset = torchvision.datasets.MNIST(root='./data', train=False, download=True, transform=transform)\ntestloader = DataLoader(testset, batch_size=32, shuffle=False)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#5","title":"5. \u8bad\u7ec3\u6a21\u578b","text":"<p>\u8bad\u7ec3\u6a21\u578b\u5305\u62ec\u524d\u5411\u4f20\u64ad\u3001\u8ba1\u7b97\u635f\u5931\u3001\u53cd\u5411\u4f20\u64ad\u4ee5\u53ca\u53c2\u6570\u66f4\u65b0\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u8bad\u7ec3\u8fc7\u7a0b\u3002</p> <pre><code>import torch.optim as optim\n\n# \u4f7f\u7528\u4ea4\u53c9\u71b5\u635f\u5931\u51fd\u6570\u548c\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u4f18\u5316\u5668\ncriterion = nn.CrossEntropyLoss()\noptimizer = optim.SGD(net.parameters(), lr=0.01, momentum=0.9)\n\n# \u8bad\u7ec3\u5faa\u73af\nfor epoch in range(10):  # \u8bad\u7ec310\u4e2aepoch\n    running_loss = 0.0\n    for inputs, labels in trainloader:\n        # \u6e05\u96f6\u68af\u5ea6\n        optimizer.zero_grad()\n\n        # \u524d\u5411\u4f20\u64ad\n        outputs = net(inputs)\n\n        # \u8ba1\u7b97\u635f\u5931\n        loss = criterion(outputs, labels)\n\n        # \u53cd\u5411\u4f20\u64ad\n        loss.backward()\n\n        # \u66f4\u65b0\u53c2\u6570\n        optimizer.step()\n\n        # \u6253\u5370\u635f\u5931\n        running_loss += loss.item()\n    print(f'Epoch {epoch+1}, Loss: {running_loss/len(trainloader)}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#6","title":"6. \u6a21\u578b\u8bc4\u4f30","text":"<p>\u5728\u8bad\u7ec3\u5b8c\u6210\u540e\uff0c\u4f60\u9700\u8981\u8bc4\u4f30\u6a21\u578b\u7684\u6027\u80fd\uff0c\u901a\u5e38\u5728\u6d4b\u8bd5\u96c6\u4e0a\u8fdb\u884c\u3002</p> <pre><code>correct = 0\ntotal = 0\n\nwith torch.no_grad():  # \u5728\u8bc4\u4f30\u65f6\u4e0d\u9700\u8981\u8ba1\u7b97\u68af\u5ea6\n    for inputs, labels in testloader:\n        outputs = net(inputs)\n        _, predicted = torch.max(outputs, 1)\n        total += labels.size(0)\n        correct += (predicted == labels).sum().item()\n\nprint(f'Accuracy: {100 * correct / total} %')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#7-gpu","title":"7. \u4f7f\u7528 GPU \u52a0\u901f","text":"<p>PyTorch \u901a\u8fc7 CUDA \u652f\u6301 GPU \u52a0\u901f\uff0c\u53ea\u9700\u5c06\u5f20\u91cf\u6216\u6a21\u578b\u79fb\u52a8\u5230 GPU \u4e0a\u5373\u53ef\u3002</p> <pre><code>device = torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")\n\n# \u5c06\u6a21\u578b\u548c\u6570\u636e\u79fb\u52a8\u5230 GPU\nnet.to(device)\n\nfor inputs, labels in trainloader:\n    inputs, labels = inputs.to(device), labels.to(device)\n    outputs = net(inputs)\n    # \u540e\u7eed\u64cd\u4f5c...\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#8","title":"8. \u4fdd\u5b58\u548c\u52a0\u8f7d\u6a21\u578b","text":"<p>PyTorch \u63d0\u4f9b\u4e86\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u4fdd\u5b58\u548c\u52a0\u8f7d\u6a21\u578b\u3002</p> <pre><code># \u4fdd\u5b58\u6a21\u578b\ntorch.save(net.state_dict(), 'model.pth')\n\n# \u52a0\u8f7d\u6a21\u578b\nnet = Net()\nnet.load_state_dict(torch.load('model.pth'))\nnet.eval()  # \u5207\u6362\u5230\u8bc4\u4f30\u6a21\u5f0f\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#9","title":"9. \u52a8\u6001\u8ba1\u7b97\u56fe","text":"<p>PyTorch \u4f7f\u7528\u52a8\u6001\u8ba1\u7b97\u56fe\uff0c\u6bcf\u6b21\u8ba1\u7b97\u65f6\u90fd\u4f1a\u91cd\u65b0\u521b\u5efa\u8ba1\u7b97\u56fe\u3002\u8fd9\u4f7f\u5f97\u5728\u8fd0\u884c\u65f6\u4fee\u6539\u6a21\u578b\u53d8\u5f97\u5bb9\u6613\uff0c\u9002\u5408\u9700\u8981\u7075\u6d3b\u6027\u548c\u52a8\u6001\u8c03\u6574\u7684\u573a\u666f\u3002</p> <pre><code># \u793a\u4f8b\uff1a\u5728\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u6dfb\u52a0\u6761\u4ef6\u5206\u652f\nx = torch.randn(1, 1)\ny = torch.randn(1, 1, requires_grad=True)\n\nif y.item() &gt; 0:\n    z = x * y\nelse:\n    z = x / y\n\nz.backward()\nprint(y.grad)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#10-pytorch","title":"10. PyTorch \u751f\u6001\u7cfb\u7edf","text":"<p>\u9664\u4e86\u6838\u5fc3\u5e93\u5916\uff0cPyTorch \u8fd8\u5305\u62ec <code>torchvision</code>\u3001<code>torchaudio</code> \u548c <code>torchtext</code> \u7b49\u5b50\u5e93\uff0c\u5206\u522b\u63d0\u4f9b\u4e86\u8ba1\u7b97\u673a\u89c6\u89c9\u3001\u97f3\u9891\u5904\u7406\u548c\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5de5\u5177\u3002\u6b64\u5916\uff0c<code>PyTorch Lightning</code> \u548c <code>Hugging Face Transformers</code> \u7b49\u5e93\u63d0\u4f9b\u4e86\u9ad8\u5c42\u6b21\u7684 API \u548c\u9884\u8bad\u7ec3\u6a21\u578b\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u5feb\u5730\u6784\u5efa\u590d\u6742\u6a21\u578b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#11","title":"11. \u8fc1\u79fb\u5b66\u4e60","text":"<p>\u8fc1\u79fb\u5b66\u4e60\u662f\u4e00\u79cd\u5c06\u9884\u8bad\u7ec3\u6a21\u578b\u5e94\u7528\u4e8e\u65b0\u4efb\u52a1\u7684\u6280\u672f\u3002\u5728 PyTorch \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>torchvision</code> \u63d0\u4f9b\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u5e76\u8fdb\u884c\u5fae\u8c03\u3002</p> <pre><code>import torchvision.models as models\n\n# \u52a0\u8f7d\u9884\u8bad\u7ec3\u7684 ResNet-18 \u6a21\u578b\nmodel = models.resnet18(pretrained=True)\n\n# \u51bb\u7ed3\u6a21\u578b\u7684\u6240\u6709\u5c42\nfor param in model.parameters():\n    param.requires_grad = False\n\n# \u66ff\u6362\u6700\u540e\u4e00\u5c42\u4e3a\u65b0\u7684\u5168\u8fde\u63a5\u5c42\uff08\u9002\u5e94\u65b0\u4efb\u52a1\uff09\nmodel.fc = nn.Linear(model.fc.in_features, 10)  # \u4f8b\u5982\uff0c\u7528\u4e8e 10 \u7c7b\u5206\u7c7b\n\n# \u73b0\u5728\u53ef\u4ee5\u7ee7\u7eed\u8bad\u7ec3\u6a21\u578b\u7684\u6700\u540e\u4e00\u5c42\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/pytorch/#12","title":"12. \u603b\u7ed3","text":"<p><code>PyTorch</code> \u4ee5\u5176\u7075\u6d3b\u6027\u548c\u6613\u7528\u6027\u5728\u6df1\u5ea6\u5b66\u4e60\u9886\u57df\u5e7f\u53d7\u6b22\u8fce\u3002\u901a\u8fc7\u638c\u63e1 <code>PyTorch</code>\uff0c\u4f60\u53ef\u4ee5\u9ad8\u6548\u5730\u6784\u5efa\u3001\u8bad\u7ec3\u548c\u4f18\u5316\u5404\u79cd\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\uff0c\u5e94\u7528\u4e8e\u8ba1\u7b97\u673a\u89c6\u89c9\u3001\u81ea\u7136\u8bed\u8a00\u5904\u7406\u548c\u5176\u4ed6\u9886\u57df\u7684\u590d\u6742\u4efb\u52a1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/","title":"queue \u6a21\u5757","text":"<p><code>queue</code> \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u975e\u5e38\u5b9e\u7528\u7684\u5de5\u5177\uff0c\u4e3b\u8981\u7528\u4e8e\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\u961f\u5217\u3002\u5b83\u53ef\u4ee5\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e2d\u5b89\u5168\u5730\u4f7f\u7528\uff0c\u7528\u4e8e\u5728\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u5f0f\u4e0b\u5728\u7ebf\u7a0b\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u3002<code>queue</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u51e0\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u961f\u5217\uff0c\u5305\u62ec\u5148\u8fdb\u5148\u51fa\uff08FIFO\uff09\u3001\u540e\u8fdb\u5148\u51fa\uff08LIFO\uff09\u4ee5\u53ca\u4f18\u5148\u7ea7\u961f\u5217\uff08Priority Queue\uff09\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#1","title":"1. \u57fa\u672c\u6982\u5ff5","text":"<p><code>queue</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u51e0\u79cd\u4e3b\u8981\u7684\u7c7b\uff1a</p> <ul> <li><code>Queue</code>: \u5148\u8fdb\u5148\u51fa\u961f\u5217\uff08FIFO\uff09</li> <li><code>LifoQueue</code>: \u540e\u8fdb\u5148\u51fa\u961f\u5217\uff08LIFO\uff0c\u7c7b\u4f3c\u4e8e\u6808\uff09</li> <li><code>PriorityQueue</code>: \u4f18\u5148\u7ea7\u961f\u5217\uff0c\u6309\u7167\u5143\u7d20\u7684\u4f18\u5148\u7ea7\u8fdb\u884c\u6392\u5e8f</li> </ul> <p>\u8fd9\u4e9b\u961f\u5217\u90fd\u5177\u5907\u7ebf\u7a0b\u5b89\u5168\u6027\uff0c\u652f\u6301\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\u7684\u5e76\u53d1\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#2-queue","title":"2. <code>Queue</code> \u7c7b\u8be6\u89e3","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#21","title":"2.1 \u521b\u5efa\u961f\u5217","text":"<pre><code>import queue\n\nq = queue.Queue(maxsize=10)  # \u521b\u5efa\u4e00\u4e2a\u6700\u5927\u957f\u5ea6\u4e3a 10 \u7684\u961f\u5217\n</code></pre> <ul> <li><code>maxsize</code>: \u961f\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6216\u4e3a <code>0</code>\uff0c\u5219\u8868\u793a\u961f\u5217\u5927\u5c0f\u6ca1\u6709\u9650\u5236\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#22","title":"2.2 \u57fa\u672c\u64cd\u4f5c","text":"<ul> <li><code>put(item)</code>: \u5c06\u5143\u7d20 <code>item</code> \u653e\u5165\u961f\u5217\u3002\u5982\u679c\u961f\u5217\u5df2\u6ee1\uff0c\u4f1a\u963b\u585e\u76f4\u5230\u961f\u5217\u6709\u7a7a\u95f4\u3002</li> <li><code>put_nowait(item)</code>: \u5c06\u5143\u7d20\u653e\u5165\u961f\u5217\uff0c\u5982\u679c\u961f\u5217\u5df2\u6ee1\u5219\u629b\u51fa <code>queue.Full</code> \u5f02\u5e38\u3002</li> </ul> <pre><code>q.put(1)\nq.put_nowait(2)\n</code></pre> <ul> <li><code>get()</code>: \u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u4e00\u4e2a\u5143\u7d20\u3002\u5982\u679c\u961f\u5217\u4e3a\u7a7a\uff0c\u4f1a\u963b\u585e\u76f4\u5230\u6709\u5143\u7d20\u53ef\u53d6\u3002</li> <li><code>get_nowait()</code>: \u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u4e00\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u961f\u5217\u4e3a\u7a7a\u5219\u629b\u51fa <code>queue.Empty</code> \u5f02\u5e38\u3002</li> </ul> <pre><code>item = q.get()\nitem = q.get_nowait()\n</code></pre> <ul> <li><code>task_done()</code>: \u8868\u793a\u4e00\u4e2a\u961f\u5217\u4e2d\u7684\u4efb\u52a1\u5b8c\u6210\u3002\u5f53\u8c03\u7528 <code>get()</code> \u83b7\u53d6\u7684\u4efb\u52a1\u5904\u7406\u5b8c\u6bd5\u65f6\uff0c\u8c03\u7528\u6b64\u65b9\u6cd5\u3002</li> <li><code>join()</code>: \u963b\u585e\u4e3b\u7ebf\u7a0b\uff0c\u76f4\u5230\u961f\u5217\u4e2d\u6240\u6709\u4efb\u52a1\u5904\u7406\u5b8c\u6bd5\uff08\u5373\u6240\u6709 <code>task_done()</code> \u90fd\u88ab\u8c03\u7528\uff09\u3002</li> </ul> <pre><code>q.task_done()\nq.join()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#3-lifoqueue","title":"3. <code>LifoQueue</code> \u7c7b\u8be6\u89e3","text":"<p><code>LifoQueue</code> \u7c7b\u5b9e\u73b0\u4e86\u540e\u8fdb\u5148\u51fa\uff08LIFO\uff09\u7684\u961f\u5217\uff0c\u7c7b\u4f3c\u4e8e\u6808\u3002</p> <pre><code>import queue\n\nlifo_q = queue.LifoQueue()\nlifo_q.put(1)\nlifo_q.put(2)\n\nprint(lifo_q.get())  # \u8f93\u51fa 2\nprint(lifo_q.get())  # \u8f93\u51fa 1\n</code></pre> <p>\u64cd\u4f5c\u65b9\u6cd5\u4e0e <code>Queue</code> \u7c7b\u76f8\u540c\uff0c\u53ea\u662f\u53d6\u51fa\u7684\u987a\u5e8f\u662f\u540e\u8fdb\u5148\u51fa\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#4-priorityqueue","title":"4. <code>PriorityQueue</code> \u7c7b\u8be6\u89e3","text":"<p><code>PriorityQueue</code> \u7c7b\u5b9e\u73b0\u4e86\u4f18\u5148\u7ea7\u961f\u5217\uff0c\u5143\u7d20\u6839\u636e\u4f18\u5148\u7ea7\u6392\u5e8f\uff0c\u4f18\u5148\u7ea7\u8d8a\u5c0f\u7684\u5143\u7d20\u8d8a\u65e9\u88ab\u53d6\u51fa\u3002</p> <pre><code>import queue\n\npq = queue.PriorityQueue()\npq.put((1, \"task 1\"))  # (\u4f18\u5148\u7ea7, \u5143\u7d20)\npq.put((3, \"task 3\"))\npq.put((2, \"task 2\"))\n\nprint(pq.get())  # \u8f93\u51fa (1, 'task 1')\nprint(pq.get())  # \u8f93\u51fa (2, 'task 2')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#5","title":"5. \u963b\u585e\u4e0e\u8d85\u65f6","text":"<ul> <li>\u963b\u585e\u6a21\u5f0f: <code>put()</code> \u548c <code>get()</code> \u65b9\u6cd5\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u963b\u585e\u7ebf\u7a0b\uff0c\u76f4\u5230\u53ef\u4ee5\u6267\u884c\u64cd\u4f5c\u3002</li> <li>\u8d85\u65f6: \u53ef\u4ee5\u4e3a <code>put()</code> \u548c <code>get()</code> \u65b9\u6cd5\u8bbe\u7f6e <code>timeout</code> \u53c2\u6570\uff0c\u6307\u5b9a\u7b49\u5f85\u7684\u6700\u957f\u65f6\u95f4\u3002</li> </ul> <pre><code>q.put(1, timeout=5)  # \u6700\u591a\u7b49\u5f855\u79d2\nitem = q.get(timeout=5)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#6","title":"6. \u5e38\u89c1\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u578b: \u751f\u4ea7\u8005\u7ebf\u7a0b\u5411\u961f\u5217\u4e2d\u653e\u5165\u4efb\u52a1\uff0c\u6d88\u8d39\u8005\u7ebf\u7a0b\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u4efb\u52a1\u8fdb\u884c\u5904\u7406\u3002</li> <li>\u591a\u7ebf\u7a0b\u4efb\u52a1\u8c03\u5ea6: \u961f\u5217\u53ef\u4ee5\u7528\u4e8e\u8c03\u5ea6\u548c\u7ba1\u7406\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u7684\u4efb\u52a1\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#7-queue","title":"7. <code>queue</code> \u6a21\u5757\u7684\u5f02\u5e38","text":"<ul> <li><code>queue.Full</code>: \u5f53\u4f7f\u7528 <code>put_nowait()</code> \u5f80\u5df2\u6ee1\u7684\u961f\u5217\u4e2d\u653e\u5165\u5143\u7d20\u65f6\u629b\u51fa\u3002</li> <li><code>queue.Empty</code>: \u5f53\u4f7f\u7528 <code>get_nowait()</code> \u4ece\u7a7a\u961f\u5217\u4e2d\u53d6\u51fa\u5143\u7d20\u65f6\u629b\u51fa\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/queue/#_1","title":"\u603b\u7ed3","text":"<p>Python \u7684 <code>queue</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u5728\u7ebf\u7a0b\u5b89\u5168\u7684\u73af\u5883\u4e2d\u7ba1\u7406\u4efb\u52a1\u548c\u6570\u636e\u6d41\u3002\u65e0\u8bba\u662f\u7b80\u5355\u7684 FIFO \u961f\u5217\uff0c\u8fd8\u662f\u66f4\u590d\u6742\u7684 LIFO \u6216\u4f18\u5148\u7ea7\u961f\u5217\uff0c\u90fd\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u8981\u8fdb\u884c\u9009\u62e9\u5e76\u5e94\u7528\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/","title":"random \u6a21\u5757","text":"<p><code>random</code> \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u751f\u6210\u968f\u673a\u6570\u3001\u968f\u673a\u9009\u62e9\u3001\u6253\u4e71\u5e8f\u5217\u7b49\u529f\u80fd\u3002\u4ee5\u4e0b\u662f <code>random</code> \u6a21\u5757\u7684\u8be6\u7ec6\u4ecb\u7ecd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#1","title":"1. \u57fa\u672c\u968f\u673a\u6570\u751f\u6210\u51fd\u6570","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#11-randomrandom","title":"1.1 <code>random.random()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u751f\u6210\u4e00\u4e2a\u4ecb\u4e8e <code>[0.0, 1.0)</code> \u4e4b\u95f4\u7684\u968f\u673a\u6d6e\u70b9\u6570\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   import random   print(random.random())  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e 0.37444</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#12-randomrandinta-b","title":"1.2 <code>random.randint(a, b)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u751f\u6210\u4e00\u4e2a\u4ecb\u4e8e <code>[a, b]</code> \u4e4b\u95f4\u7684\u968f\u673a\u6574\u6570\uff0c\u5305\u542b <code>a</code> \u548c <code>b</code>\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.randint(1, 10))  # \u8f93\u51fa\u4ecb\u4e8e 1 \u548c 10 \u4e4b\u95f4\u7684\u6574\u6570</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#13-randomuniforma-b","title":"1.3 <code>random.uniform(a, b)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u751f\u6210\u4e00\u4e2a\u4ecb\u4e8e <code>[a, b)</code> \u4e4b\u95f4\u7684\u968f\u673a\u6d6e\u70b9\u6570\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.uniform(1, 10))  # \u8f93\u51fa\u4ecb\u4e8e 1.0 \u548c 10.0 \u4e4b\u95f4\u7684\u6d6e\u70b9\u6570</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#2","title":"2. \u968f\u673a\u9009\u62e9\u548c\u6253\u4e71\u5e8f\u5217","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#21-randomchoiceseq","title":"2.1 <code>random.choice(seq)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u4ece\u5e8f\u5217 <code>seq</code> \u4e2d\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u5143\u7d20\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.choice(['apple', 'banana', 'cherry']))  # \u968f\u673a\u9009\u62e9\u4e00\u4e2a\u6c34\u679c</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#22-randomchoicesseq-weightsnone-k1","title":"2.2 <code>random.choices(seq, weights=None, k=1)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u4ece\u5e8f\u5217 <code>seq</code> \u4e2d\u968f\u673a\u9009\u62e9 <code>k</code> \u4e2a\u5143\u7d20\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u53ef\u4ee5\u901a\u8fc7 <code>weights</code> \u53c2\u6570\u8bbe\u7f6e\u6743\u91cd\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.choices(['apple', 'banana', 'cherry'], k=2))  # \u968f\u673a\u9009\u62e9\u4e24\u4e2a\u6c34\u679c</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#23-randomsamplepopulation-k","title":"2.3 <code>random.sample(population, k)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u4ece\u96c6\u5408\u6216\u5e8f\u5217 <code>population</code> \u4e2d\u968f\u673a\u9009\u62e9 <code>k</code> \u4e2a\u4e0d\u91cd\u590d\u7684\u5143\u7d20\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.sample([1, 2, 3, 4, 5], 3))  # \u968f\u673a\u9009\u62e9 3 \u4e2a\u4e0d\u540c\u7684\u6570\u5b57</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#24-randomshufflex","title":"2.4 <code>random.shuffle(x)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c31\u5730\u6253\u4e71\u5e8f\u5217 <code>x</code>\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   nums = [1, 2, 3, 4, 5]   random.shuffle(nums)   print(nums)  # \u8f93\u51fa\u6253\u4e71\u540e\u7684\u5e8f\u5217</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#3","title":"3. \u968f\u673a\u5206\u5e03\u51fd\u6570","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#31-randomgaussmu-sigma","title":"3.1 <code>random.gauss(mu, sigma)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u751f\u6210\u4e00\u4e2a\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff08\u9ad8\u65af\u5206\u5e03\uff09\u7684\u968f\u673a\u6d6e\u70b9\u6570\uff0c<code>mu</code> \u4e3a\u5747\u503c\uff0c<code>sigma</code> \u4e3a\u6807\u51c6\u5dee\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.gauss(0, 1))  # \u8f93\u51fa\u7b26\u5408\u6b63\u6001\u5206\u5e03\u7684\u968f\u673a\u6570</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#32-randomexpovariatelambd","title":"3.2 <code>random.expovariate(lambd)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u751f\u6210\u4e00\u4e2a\u7b26\u5408\u6307\u6570\u5206\u5e03\u7684\u968f\u673a\u6d6e\u70b9\u6570\uff0c<code>lambd</code> \u662f\u5206\u5e03\u7684\u53c2\u6570\uff08<code>1/\u5e73\u5747\u503c</code>\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.expovariate(1.5))  # \u8f93\u51fa\u7b26\u5408\u6307\u6570\u5206\u5e03\u7684\u968f\u673a\u6570</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#33-randombetavariatealpha-beta","title":"3.3 <code>random.betavariate(alpha, beta)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u751f\u6210\u4e00\u4e2a\u7b26\u5408 Beta \u5206\u5e03\u7684\u968f\u673a\u6d6e\u70b9\u6570\uff0c<code>alpha</code> \u548c <code>beta</code> \u662f\u5f62\u72b6\u53c2\u6570\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(random.betavariate(0.5, 0.5))  # \u8f93\u51fa\u7b26\u5408 Beta \u5206\u5e03\u7684\u968f\u673a\u6570</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#4","title":"4. \u968f\u673a\u79cd\u5b50","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#41-randomseedanone-version2","title":"4.1 <code>random.seed(a=None, version=2)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u521d\u59cb\u5316\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u79cd\u5b50\u4ea7\u751f\u76f8\u540c\u7684\u968f\u673a\u6570\u5e8f\u5217\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   random.seed(10)   print(random.random())  # \u8f93\u51fa\u5c06\u662f\u56fa\u5b9a\u7684</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#5","title":"5. \u793a\u4f8b\u5e94\u7528","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#51","title":"5.1 \u63b7\u9ab0\u5b50","text":"<pre><code>def roll_dice():\n    return random.randint(1, 6)\n\nprint(roll_dice())  # \u6a21\u62df\u63b7\u9ab0\u5b50\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#52","title":"5.2 \u6a21\u62df\u62bd\u5956","text":"<pre><code>participants = ['Alice', 'Bob', 'Charlie', 'David']\nwinner = random.choice(participants)\nprint(f\"The winner is {winner}\")  # \u968f\u673a\u9009\u62e9\u83b7\u5956\u8005\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/random/#6","title":"6. \u6ce8\u610f\u4e8b\u9879","text":"<ul> <li><code>random</code> \u6a21\u5757\u751f\u6210\u7684\u968f\u673a\u6570\u662f\u4f2a\u968f\u673a\u6570\uff0c\u4f9d\u8d56\u4e8e\u521d\u59cb\u7684\u79cd\u5b50\u503c\uff0c\u56e0\u6b64\u5e76\u4e0d\u9002\u7528\u4e8e\u9700\u8981\u9ad8\u5b89\u5168\u6027\u7684\u573a\u666f\uff0c\u5982\u52a0\u5bc6\u3002</li> <li>\u5bf9\u4e8e\u5b89\u5168\u6027\u8981\u6c42\u9ad8\u7684\u968f\u673a\u6570\u751f\u6210\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>secrets</code> \u6a21\u5757\u3002</li> </ul> <p><code>random</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u968f\u673a\u6570\u751f\u6210\u548c\u64cd\u4f5c\u529f\u80fd\uff0c\u80fd\u591f\u6ee1\u8db3\u5927\u591a\u6570\u573a\u666f\u4e0b\u7684\u9700\u6c42\u3002\u5728\u4f7f\u7528\u65f6\uff0c\u5408\u7406\u9009\u62e9\u51fd\u6570\u548c\u53c2\u6570\u53ef\u4ee5\u5b9e\u73b0\u9ad8\u6548\u4e14\u6613\u8bfb\u7684\u4ee3\u7801\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/","title":"re \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#python-re","title":"Python <code>re</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>re</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u652f\u6301\uff0c\u5141\u8bb8\u4f60\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u641c\u7d22\u3001\u5339\u914d\u548c\u64cd\u4f5c\u5b57\u7b26\u4e32\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u7528\u4e8e\u63cf\u8ff0\u5b57\u7b26\u4e32\u6a21\u5f0f\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u7279\u522b\u9002\u7528\u4e8e\u590d\u6742\u7684\u5b57\u7b26\u4e32\u5904\u7406\u4efb\u52a1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#1","title":"1. \u5bfc\u5165\u6a21\u5757","text":"<pre><code>import re\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#2","title":"2. \u57fa\u672c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c","text":"<ul> <li>\u5339\u914d\u6a21\u5f0f <code>re.match()</code></li> </ul> <p><code>re.match()</code> \u4ece\u5b57\u7b26\u4e32\u7684\u8d77\u59cb\u4f4d\u7f6e\u5339\u914d\u4e00\u4e2a\u6a21\u5f0f\u3002</p> <pre><code>pattern = r'\\d+'  # \u5339\u914d\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u5b57\nstring = \"123abc\"\nmatch = re.match(pattern, string)\n\nif match:\n    print(\"\u5339\u914d\u6210\u529f:\", match.group())  # \u8f93\u51fa 123\nelse:\n    print(\"\u5339\u914d\u5931\u8d25\")\n</code></pre> <ul> <li>\u641c\u7d22\u6a21\u5f0f <code>re.search()</code></li> </ul> <p><code>re.search()</code> \u5728\u6574\u4e2a\u5b57\u7b26\u4e32\u4e2d\u641c\u7d22\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u6a21\u5f0f\u3002</p> <pre><code>pattern = r'\\d+'  # \u5339\u914d\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u5b57\nstring = \"abc123def\"\nsearch = re.search(pattern, string)\n\nif search:\n    print(\"\u641c\u7d22\u6210\u529f:\", search.group())  # \u8f93\u51fa 123\nelse:\n    print(\"\u641c\u7d22\u5931\u8d25\")\n</code></pre> <ul> <li>\u67e5\u627e\u6240\u6709\u5339\u914d <code>re.findall()</code></li> </ul> <p><code>re.findall()</code> \u8fd4\u56de\u6240\u6709\u975e\u91cd\u53e0\u7684\u5339\u914d\u9879\u5217\u8868\u3002</p> <pre><code>pattern = r'\\d+'  # \u5339\u914d\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u5b57\nstring = \"abc123def456\"\nmatches = re.findall(pattern, string)\nprint(matches)  # \u8f93\u51fa ['123', '456']\n</code></pre> <ul> <li>\u66ff\u6362\u5339\u914d\u9879 <code>re.sub()</code></li> </ul> <p><code>re.sub()</code> \u66ff\u6362\u6240\u6709\u5339\u914d\u7684\u6a21\u5f0f\u3002</p> <pre><code>pattern = r'\\d+'  # \u5339\u914d\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u5b57\nstring = \"abc123def456\"\nresult = re.sub(pattern, '#', string)\nprint(result)  # \u8f93\u51fa abc#def#\n</code></pre> <ul> <li>\u62c6\u5206\u5b57\u7b26\u4e32 <code>re.split()</code></li> </ul> <p><code>re.split()</code> \u6839\u636e\u5339\u914d\u6a21\u5f0f\u62c6\u5206\u5b57\u7b26\u4e32\u3002</p> <pre><code>pattern = r'\\d+'  # \u5339\u914d\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u5b57\nstring = \"abc123def456ghi\"\nsplit_result = re.split(pattern, string)\nprint(split_result)  # \u8f93\u51fa ['abc', 'def', 'ghi']\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#3","title":"3. \u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5","text":"<ul> <li>\u666e\u901a\u5b57\u7b26</li> </ul> <p>\u666e\u901a\u5b57\u7b26\u5728\u6a21\u5f0f\u4e2d\u8868\u793a\u5b83\u4eec\u5b57\u9762\u7684\u542b\u4e49\uff0c\u4f8b\u5982 <code>\"abc\"</code> \u5c06\u5339\u914d\u5b57\u7b26\u4e32 <code>\"abc\"</code>\u3002</p> <ul> <li> <p>\u7279\u6b8a\u5b57\u7b26</p> </li> <li> <p><code>.</code>: \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\uff08\u4e0d\u5305\u62ec\u6362\u884c\u7b26\uff09\u3002</p> </li> <li><code>^</code>: \u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u3002</li> <li><code>$</code>: \u5339\u914d\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u3002</li> <li><code>*</code>: \u5339\u914d\u524d\u9762\u7684\u5143\u7d200\u6b21\u6216\u591a\u6b21\u3002</li> <li><code>+</code>: \u5339\u914d\u524d\u9762\u7684\u5143\u7d201\u6b21\u6216\u591a\u6b21\u3002</li> <li><code>?</code>: \u5339\u914d\u524d\u9762\u7684\u5143\u7d200\u6b21\u62161\u6b21\u3002</li> <li><code>[]</code>: \u5339\u914d\u65b9\u62ec\u53f7\u5185\u7684\u4efb\u610f\u5b57\u7b26\uff0c\u5982 <code>[a-z]</code> \u5339\u914d\u5c0f\u5199\u5b57\u6bcd\u3002</li> <li><code>{m,n}</code>: \u5339\u914d\u524d\u9762\u7684\u5143\u7d20\u81f3\u5c11 m \u6b21\uff0c\u81f3\u591a n \u6b21\u3002</li> <li><code>|</code>: \u8868\u793a\u6216\u8fd0\u7b97\u3002</li> <li><code>()</code>\uff1a\u6355\u83b7\u7ec4\uff0c\u7528\u4e8e\u63d0\u53d6\u5339\u914d\u7684\u5b50\u4e32\u3002</li> </ul> <pre><code>pattern = r'(\\d+)\\s(\\w+)'  # \u6355\u83b7\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u5b57\uff0c\u8ddf\u7740\u4e00\u4e2a\u7a7a\u683c\uff0c\u7136\u540e\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u6bcd\u6570\u5b57\u5b57\u7b26\nstring = \"123 abc\"\nmatch = re.match(pattern, string)\n\nif match:\n    print(match.group(1))  # \u8f93\u51fa 123\n    print(match.group(2))  # \u8f93\u51fa abc\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#4","title":"4. \u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<ul> <li><code>re.compile()</code></li> </ul> <p><code>re.compile()</code> \u7528\u4e8e\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\u6a21\u5f0f\uff0c\u63d0\u9ad8\u591a\u6b21\u4f7f\u7528\u540c\u4e00\u6a21\u5f0f\u65f6\u7684\u6548\u7387\u3002</p> <pre><code>pattern = re.compile(r'\\d+')  # \u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\nmatch = pattern.match(\"123abc\")\n\nif match:\n    print(\"\u5339\u914d\u6210\u529f:\", match.group())  # \u8f93\u51fa 123\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#5-flags","title":"5. \u6b63\u5219\u8868\u8fbe\u5f0f\u6807\u5fd7\uff08Flags\uff09","text":"<p>\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u53ef\u4ee5\u4f7f\u7528\u6807\u5fd7\u6765\u6539\u53d8\u5339\u914d\u7684\u884c\u4e3a\uff0c\u5982\u5ffd\u7565\u5927\u5c0f\u5199\u3001\u591a\u884c\u5339\u914d\u7b49\u3002</p> <ul> <li><code>re.IGNORECASE</code> (<code>re.I</code>): \u5ffd\u7565\u5927\u5c0f\u5199\u3002</li> </ul> <pre><code>pattern = re.compile(r'abc', re.IGNORECASE)\nprint(pattern.match(\"ABC\"))  # \u5339\u914d\u6210\u529f\n</code></pre> <ul> <li><code>re.MULTILINE</code> (<code>re.M</code>): \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd <code>^</code> \u548c <code>$</code>\u3002</li> </ul> <pre><code>pattern = re.compile(r'^abc', re.MULTILINE)\nprint(pattern.findall(\"abc\\ndefabc\\nabc\"))  # \u8f93\u51fa ['abc', 'abc']\n</code></pre> <ul> <li><code>re.DOTALL</code> (<code>re.S</code>): \u4f7f <code>.</code> \u5339\u914d\u5305\u62ec\u6362\u884c\u7b26\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26\u3002</li> </ul> <pre><code>pattern = re.compile(r'a.b', re.DOTALL)\nprint(pattern.match(\"a\\nb\"))  # \u5339\u914d\u6210\u529f\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#6","title":"6. \u9ad8\u7ea7\u5339\u914d\u64cd\u4f5c","text":"<ul> <li>\u5206\u7ec4\u548c\u547d\u540d\u7ec4</li> </ul> <p>\u4f7f\u7528\u5706\u62ec\u53f7 <code>()</code> \u8fdb\u884c\u5206\u7ec4\uff0c\u4f7f\u7528 <code>(?P&lt;name&gt;...)</code> \u8fdb\u884c\u547d\u540d\u5206\u7ec4\u3002</p> <pre><code>pattern = r'(?P&lt;area&gt;\\d{3})-(?P&lt;number&gt;\\d{4})'\nmatch = re.match(pattern, '123-4567')\n\nif match:\n    print(match.group('area'))  # \u8f93\u51fa 123\n    print(match.group('number'))  # \u8f93\u51fa 4567\n</code></pre> <ul> <li>\u975e\u6355\u83b7\u7ec4</li> </ul> <p>\u4f7f\u7528 <code>(?:...)</code> \u5b9a\u4e49\u975e\u6355\u83b7\u7ec4\u3002</p> <pre><code>pattern = r'(?:abc){2}'\nmatch = re.match(pattern, 'abcabc')\n\nif match:\n    print(match.group())  # \u8f93\u51fa abcabc\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#7","title":"7. \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u5b57\u7b26\u4e32\u9a8c\u8bc1","text":"<p>\u6b63\u5219\u8868\u8fbe\u5f0f\u5e38\u7528\u4e8e\u9a8c\u8bc1\u5b57\u7b26\u4e32\u662f\u5426\u7b26\u5408\u7279\u5b9a\u7684\u683c\u5f0f\uff0c\u5982\u7535\u5b50\u90ae\u4ef6\u3001\u7535\u8bdd\u53f7\u7801\u7b49\u3002</p> <pre><code>def is_valid_email(email):\n    pattern = r'^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$'\n    return re.match(pattern, email) is not None\n\nprint(is_valid_email(\"test@example.com\"))  # \u8f93\u51fa True\nprint(is_valid_email(\"invalid-email\"))  # \u8f93\u51fa False\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/re/#_1","title":"\u603b\u7ed3","text":"<p><code>re</code> \u6a21\u5757\u662f Python \u4e2d\u5904\u7406\u5b57\u7b26\u4e32\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u9002\u7528\u4e8e\u590d\u6742\u7684\u6a21\u5f0f\u5339\u914d\u3001\u67e5\u627e\u548c\u66ff\u6362\u64cd\u4f5c\u3002\u901a\u8fc7\u638c\u63e1\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8bed\u6cd5\u548c <code>re</code> \u6a21\u5757\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u9ad8\u6548\u5730\u5904\u7406\u5404\u79cd\u5b57\u7b26\u4e32\u64cd\u4f5c\u4efb\u52a1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/","title":"redis","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#python-redis","title":"Python Redis \u8be6\u89e3","text":"<p><code>Redis</code> \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5185\u5b58\u6570\u636e\u7ed3\u6784\u5b58\u50a8\u7cfb\u7edf\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f13\u5b58\u3001\u6d88\u606f\u961f\u5217\u3001\u4f1a\u8bdd\u7ba1\u7406\u7b49\u573a\u666f\u3002Python \u4e2d\u53ef\u4ee5\u901a\u8fc7 <code>redis-py</code> \u8fd9\u4e2a\u5e93\u6765\u4e0e Redis \u8fdb\u884c\u4ea4\u4e92\u3002<code>redis-py</code> \u662f Python \u6700\u5e38\u7528\u7684 Redis \u5ba2\u6237\u7aef\uff0c\u63d0\u4f9b\u4e86\u5bf9 Redis \u6570\u636e\u5e93\u7684\u5168\u9762\u652f\u6301\u3002</p> <p>\u4ee5\u4e0b\u662f <code>redis-py</code> \u7684\u8be6\u7ec6\u8bb2\u89e3\uff1a</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#1-redis-py","title":"1. \u5b89\u88c5 <code>redis-py</code>","text":"<p>\u5728\u4f7f\u7528 <code>redis-py</code> \u4e4b\u524d\uff0c\u9700\u8981\u901a\u8fc7 <code>pip</code> \u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install redis\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#2-redis","title":"2. \u8fde\u63a5 Redis","text":"<p>\u8981\u8fde\u63a5\u5230 Redis \u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>redis.Redis</code> \u6216 <code>redis.StrictRedis</code> \u7c7b\u3002\u4ee5\u4e0b\u662f\u57fa\u672c\u7684\u8fde\u63a5\u65b9\u5f0f\uff1a</p> <pre><code>import redis\n\n# \u8fde\u63a5\u5230 Redis\nr = redis.StrictRedis(host='localhost', port=6379, db=0)\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>redis-py</code> \u8fde\u63a5\u5230 <code>localhost</code> \u4e0a\u7684 Redis \u670d\u52a1\u5668\uff0c\u4f7f\u7528\u7aef\u53e3 <code>6379</code>\uff0c\u5e76\u8fde\u63a5\u5230\u6570\u636e\u5e93 <code>0</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#3","title":"3. \u57fa\u672c\u64cd\u4f5c","text":"<p><code>redis-py</code> \u652f\u6301 Redis \u7684\u6240\u6709\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u5982\u5b57\u7b26\u4e32\u3001\u54c8\u5e0c\u3001\u5217\u8868\u3001\u96c6\u5408\u3001\u6709\u5e8f\u96c6\u5408\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#31-string","title":"3.1 \u5b57\u7b26\u4e32\uff08String\uff09","text":"<p>\u5b57\u7b26\u4e32\u662f Redis \u4e2d\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7528\u4e8e\u5b58\u50a8\u5355\u4e2a\u952e\u503c\u5bf9\u3002</p> <pre><code># \u8bbe\u7f6e\u952e\u503c\nr.set('name', 'Alice')\n\n# \u83b7\u53d6\u952e\u503c\nname = r.get('name')\nprint(name.decode())  # \u8f93\u51fa: Alice\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#32-hash","title":"3.2 \u54c8\u5e0c\uff08Hash\uff09","text":"<p>\u54c8\u5e0c\u662f\u4e00\u4e2a\u952e\u503c\u5bf9\u96c6\u5408\uff0c\u9002\u5408\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\u3002</p> <pre><code># \u8bbe\u7f6e\u54c8\u5e0c\nr.hset('user:1', 'name', 'Alice')\nr.hset('user:1', 'age', 25)\n\n# \u83b7\u53d6\u54c8\u5e0c\u5b57\u6bb5\nname = r.hget('user:1', 'name')\nage = r.hget('user:1', 'age')\n\nprint(f\"Name: {name.decode()}, Age: {int(age)}\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#33-list","title":"3.3 \u5217\u8868\uff08List\uff09","text":"<p>\u5217\u8868\u662f\u4e00\u4e2a\u6309\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\u7684\u5b57\u7b26\u4e32\u5e8f\u5217\uff0c\u53ef\u4ee5\u7528\u4f5c\u961f\u5217\u6216\u5806\u6808\u3002</p> <pre><code># \u63a8\u5165\u5143\u7d20\nr.rpush('numbers', 1, 2, 3, 4)\n\n# \u5f39\u51fa\u5143\u7d20\nnumber = r.lpop('numbers')\nprint(number)  # \u8f93\u51fa: 1\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#34-set","title":"3.4 \u96c6\u5408\uff08Set\uff09","text":"<p>\u96c6\u5408\u662f\u4e00\u4e2a\u65e0\u5e8f\u4e14\u4e0d\u91cd\u590d\u7684\u5b57\u7b26\u4e32\u96c6\u5408\uff0c\u9002\u7528\u4e8e\u53bb\u91cd\u7b49\u573a\u666f\u3002</p> <pre><code># \u6dfb\u52a0\u5143\u7d20\u5230\u96c6\u5408\nr.sadd('tags', 'python', 'redis', 'database')\n\n# \u68c0\u67e5\u5143\u7d20\u662f\u5426\u5728\u96c6\u5408\u4e2d\nis_member = r.sismember('tags', 'python')\nprint(is_member)  # \u8f93\u51fa: True\n\n# \u83b7\u53d6\u96c6\u5408\u7684\u6240\u6709\u5143\u7d20\ntags = r.smembers('tags')\nprint(tags)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#35-sorted-set","title":"3.5 \u6709\u5e8f\u96c6\u5408\uff08Sorted Set\uff09","text":"<p>\u6709\u5e8f\u96c6\u5408\u7c7b\u4f3c\u4e8e\u96c6\u5408\uff0c\u4f46\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2a\u5206\u6570\uff0c\u5143\u7d20\u6309\u5206\u6570\u6392\u5e8f\u3002</p> <pre><code># \u6dfb\u52a0\u5143\u7d20\u5230\u6709\u5e8f\u96c6\u5408\nr.zadd('leaderboard', {'Alice': 100, 'Bob': 150})\n\n# \u83b7\u53d6\u6709\u5e8f\u96c6\u5408\u4e2d\u7684\u5143\u7d20\nleaderboard = r.zrange('leaderboard', 0, -1, withscores=True)\nprint(leaderboard)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#4-pubsub","title":"4. \u53d1\u5e03/\u8ba2\u9605\uff08Pub/Sub\uff09","text":"<p>Redis \u652f\u6301\u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f\uff0c\u7528\u4e8e\u5b9e\u73b0\u6d88\u606f\u961f\u5217\u529f\u80fd\u3002</p> <pre><code># \u8ba2\u9605\u9891\u9053\ndef message_handler(message):\n    print(f\"Received message: {message['data'].decode()}\")\n\npubsub = r.pubsub()\npubsub.subscribe(**{'my-channel': message_handler})\n\n# \u53d1\u5e03\u6d88\u606f\nr.publish('my-channel', 'Hello, Redis!')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#5-transactions","title":"5. \u4e8b\u52a1\uff08Transactions\uff09","text":"<p>Redis \u63d0\u4f9b\u4e86\u4e8b\u52a1\u652f\u6301\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>pipeline</code> \u5b9e\u73b0\u591a\u4e2a\u547d\u4ee4\u7684\u539f\u5b50\u6267\u884c\u3002</p> <pre><code># \u521b\u5efa\u4e8b\u52a1\npipe = r.pipeline()\n\n# \u5c06\u591a\u4e2a\u547d\u4ee4\u6dfb\u52a0\u5230\u4e8b\u52a1\npipe.set('foo', 'bar')\npipe.incr('counter')\n\n# \u6267\u884c\u4e8b\u52a1\npipe.execute()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#6-pipelines","title":"6. \u7ba1\u9053\uff08Pipelines\uff09","text":"<p>\u7ba1\u9053\u5141\u8bb8\u4f60\u5c06\u591a\u4e2a\u547d\u4ee4\u6253\u5305\u53d1\u9001\u7ed9 Redis\uff0c\u4ece\u800c\u51cf\u5c11\u7f51\u7edc\u5f00\u9500\u3002</p> <pre><code># \u4f7f\u7528\u7ba1\u9053\u53d1\u9001\u6279\u91cf\u547d\u4ee4\nwith r.pipeline() as pipe:\n    pipe.set('key1', 'value1')\n    pipe.set('key2', 'value2')\n    pipe.execute()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#7","title":"7. \u8fde\u63a5\u6c60","text":"<p><code>redis-py</code> \u652f\u6301\u8fde\u63a5\u6c60\uff0c\u53ef\u4ee5\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u91cd\u590d\u4f7f\u7528\u8fde\u63a5\uff0c\u51cf\u5c11\u8fde\u63a5\u7684\u521b\u5efa\u5f00\u9500\u3002</p> <pre><code># \u521b\u5efa\u8fde\u63a5\u6c60\npool = redis.ConnectionPool(host='localhost', port=6379, db=0)\n\n# \u4f7f\u7528\u8fde\u63a5\u6c60\u521b\u5efa Redis \u5ba2\u6237\u7aef\nr = redis.StrictRedis(connection_pool=pool)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#8","title":"8. \u952e\u8fc7\u671f\u548c\u6301\u4e45\u5316","text":"<p>\u53ef\u4ee5\u8bbe\u7f6e\u952e\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u8ba9\u5b83\u4eec\u5728\u4e00\u6bb5\u65f6\u95f4\u540e\u81ea\u52a8\u5220\u9664\u3002</p> <pre><code># \u8bbe\u7f6e\u952e\u7684\u8fc7\u671f\u65f6\u95f4\u4e3a 10 \u79d2\nr.setex('temp_key', 10, 'temporary value')\n</code></pre> <p>Redis \u8fd8\u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u901a\u8fc7 <code>SAVE</code> \u6216 <code>BGSAVE</code> \u547d\u4ee4\u5c06\u6570\u636e\u4fdd\u5b58\u5230\u78c1\u76d8\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#9","title":"9. \u5904\u7406\u5f02\u5e38","text":"<p>\u5728\u64cd\u4f5c Redis \u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u5f02\u5e38\u60c5\u51b5\uff0c\u6bd4\u5982\u8fde\u63a5\u5931\u8d25\u6216\u547d\u4ee4\u9519\u8bef\u3002<code>redis-py</code> \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5f02\u5e38\u7c7b\u6765\u5904\u7406\u8fd9\u4e9b\u60c5\u51b5\u3002</p> <pre><code>try:\n    r.set('key', 'value')\nexcept redis.RedisError as e:\n    print(f\"Redis error: {e}\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/redis/#10","title":"10. \u603b\u7ed3","text":"<p><code>redis-py</code> \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684 Redis \u5ba2\u6237\u7aef\u5e93\uff0c\u652f\u6301 Redis \u7684\u5168\u90e8\u529f\u80fd\u3002\u901a\u8fc7\u4f7f\u7528 <code>redis-py</code>\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u8f7b\u677e\u5730\u5728 Python \u5e94\u7528\u4e2d\u5b9e\u73b0\u9ad8\u6027\u80fd\u7684\u7f13\u5b58\u3001\u6d88\u606f\u961f\u5217\u3001\u4f1a\u8bdd\u7ba1\u7406\u7b49\u529f\u80fd\u3002\u638c\u63e1 <code>redis-py</code> \u7684\u57fa\u672c\u7528\u6cd5\u548c\u9ad8\u7ea7\u7279\u6027\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u66f4\u9ad8\u6548\u5730\u5229\u7528 Redis\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/","title":"requests \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#python-requests","title":"Python <code>requests</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>requests</code> \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684 Python \u5e93\uff0c\u7528\u4e8e\u53d1\u9001 HTTP \u8bf7\u6c42\u3002\u5b83\u7b80\u5316\u4e86\u4e0e Web \u670d\u52a1\u7684\u4ea4\u4e92\uff0c\u53ef\u4ee5\u8f7b\u677e\u5904\u7406 HTTP \u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u662f Web \u5f00\u53d1\u4e2d\u975e\u5e38\u5e38\u7528\u7684\u5e93\u4e4b\u4e00\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#1","title":"1. \u5b89\u88c5","text":"<p>\u5728\u4f7f\u7528 <code>requests</code> \u6a21\u5757\u4e4b\u524d\uff0c\u9700\u8981\u786e\u4fdd\u5df2\u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install requests\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#2-http","title":"2. \u53d1\u9001 HTTP \u8bf7\u6c42","text":"<p><code>requests</code> \u6a21\u5757\u652f\u6301 GET\u3001POST\u3001PUT\u3001DELETE \u7b49\u5e38\u7528\u7684 HTTP \u65b9\u6cd5\u3002</p> <ul> <li>GET \u8bf7\u6c42: \u7528\u4e8e\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u3002</li> </ul> <p>```python   import requests</p> <p>response = requests.get(\"https://api.example.com/data\")   print(response.status_code)  # \u8f93\u51fa\u54cd\u5e94\u72b6\u6001\u7801   print(response.text)         # \u8f93\u51fa\u54cd\u5e94\u5185\u5bb9   ```</p> <ul> <li>POST \u8bf7\u6c42: \u7528\u4e8e\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u3002</li> </ul> <p><code>python   data = {\"username\": \"user\", \"password\": \"pass\"}   response = requests.post(\"https://api.example.com/login\", data=data)   print(response.json())  # \u89e3\u6790\u5e76\u8f93\u51fa JSON \u54cd\u5e94</code></p> <ul> <li>PUT \u8bf7\u6c42: \u7528\u4e8e\u66f4\u65b0\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90\u3002</li> </ul> <p><code>python   data = {\"username\": \"new_user\"}   response = requests.put(\"https://api.example.com/user/1\", data=data)</code></p> <ul> <li>DELETE \u8bf7\u6c42: \u7528\u4e8e\u5220\u9664\u670d\u52a1\u5668\u4e0a\u7684\u8d44\u6e90\u3002</li> </ul> <p><code>python   response = requests.delete(\"https://api.example.com/user/1\")</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#3","title":"3. \u5e38\u89c1\u53c2\u6570","text":"<ul> <li><code>params</code>: \u7528\u4e8e\u4f20\u9012 URL \u67e5\u8be2\u53c2\u6570\u3002</li> </ul> <p><code>python   params = {\"search\": \"python\", \"page\": 2}   response = requests.get(\"https://api.example.com/search\", params=params)</code></p> <ul> <li><code>headers</code>: \u7528\u4e8e\u8bbe\u7f6e\u81ea\u5b9a\u4e49 HTTP \u5934\u3002</li> </ul> <p><code>python   headers = {\"Authorization\": \"Bearer token\"}   response = requests.get(\"https://api.example.com/protected\", headers=headers)</code></p> <ul> <li><code>data</code>: \u7528\u4e8e\u53d1\u9001\u8868\u5355\u6570\u636e\u3002</li> </ul> <p><code>python   data = {\"field1\": \"value1\", \"field2\": \"value2\"}   response = requests.post(\"https://api.example.com/form\", data=data)</code></p> <ul> <li><code>json</code>: \u7528\u4e8e\u53d1\u9001 JSON \u6570\u636e\u3002</li> </ul> <p><code>python   json_data = {\"key\": \"value\"}   response = requests.post(\"https://api.example.com/json\", json=json_data)</code></p> <ul> <li><code>files</code>: \u7528\u4e8e\u4e0a\u4f20\u6587\u4ef6\u3002</li> </ul> <p><code>python   files = {\"file\": open(\"example.txt\", \"rb\")}   response = requests.post(\"https://api.example.com/upload\", files=files)</code></p> <ul> <li><code>auth</code>: \u7528\u4e8e\u4f20\u9012\u8eab\u4efd\u9a8c\u8bc1\u4fe1\u606f\u3002</li> </ul> <p>```python   from requests.auth import HTTPBasicAuth</p> <p>response = requests.get(\"https://api.example.com/basic-auth\", auth=HTTPBasicAuth('user', 'pass'))   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#4","title":"4. \u5904\u7406\u54cd\u5e94","text":"<ul> <li><code>response.status_code</code>: \u83b7\u53d6\u54cd\u5e94\u72b6\u6001\u7801\uff08\u5982 200, 404\uff09\u3002</li> </ul> <p><code>python   if response.status_code == 200:       print(\"\u8bf7\u6c42\u6210\u529f\")</code></p> <ul> <li><code>response.text</code>: \u83b7\u53d6\u54cd\u5e94\u7684\u6587\u672c\u5185\u5bb9\u3002</li> </ul> <p><code>python   print(response.text)</code></p> <ul> <li><code>response.json()</code>: \u5c06\u54cd\u5e94\u5185\u5bb9\u89e3\u6790\u4e3a JSON\u3002</li> </ul> <p><code>python   data = response.json()</code></p> <ul> <li><code>response.content</code>: \u83b7\u53d6\u4e8c\u8fdb\u5236\u5185\u5bb9\uff0c\u901a\u5e38\u7528\u4e8e\u4e0b\u8f7d\u6587\u4ef6\u3002</li> </ul> <p><code>python   with open(\"image.png\", \"wb\") as f:       f.write(response.content)</code></p> <ul> <li><code>response.headers</code>: \u83b7\u53d6\u54cd\u5e94\u5934\u4fe1\u606f\u3002</li> </ul> <p><code>python   print(response.headers['Content-Type'])</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#5","title":"5. \u5904\u7406\u8d85\u65f6\u548c\u91cd\u8bd5","text":"<ul> <li>\u8bbe\u7f6e\u8d85\u65f6: \u9632\u6b62\u8bf7\u6c42\u65e0\u9650\u671f\u5730\u7b49\u5f85\u54cd\u5e94\u3002</li> </ul> <p><code>python   response = requests.get(\"https://api.example.com/data\", timeout=5)  # 5 \u79d2\u8d85\u65f6</code></p> <ul> <li>\u5b9e\u73b0\u91cd\u8bd5: \u4f7f\u7528 <code>requests</code> \u7684 <code>Session</code> \u5bf9\u8c61\u4e0e <code>HTTPAdapter</code> \u914d\u5408\u6765\u5b9e\u73b0\u8bf7\u6c42\u91cd\u8bd5\u3002</li> </ul> <p>```python   from requests.adapters import HTTPAdapter   from requests.packages.urllib3.util.retry import Retry</p> <p>session = requests.Session()   retry = Retry(connect=3, backoff_factor=0.5)   adapter = HTTPAdapter(max_retries=retry)   session.mount('http://', adapter)   session.mount('https://', adapter)</p> <p>response = session.get(\"https://api.example.com/data\")   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#6-cookie","title":"6. \u5904\u7406 Cookie","text":"<ul> <li>\u53d1\u9001\u8bf7\u6c42\u65f6\u643a\u5e26 Cookie:</li> </ul> <p><code>python   cookies = {'session_id': '12345'}   response = requests.get(\"https://api.example.com/profile\", cookies=cookies)</code></p> <ul> <li>\u83b7\u53d6\u54cd\u5e94\u7684 Cookie:</li> </ul> <p><code>python   print(response.cookies['session_id'])</code></p> <ul> <li>\u4f7f\u7528 <code>Session</code> \u5bf9\u8c61\u81ea\u52a8\u7ba1\u7406 Cookie:</li> </ul> <p><code>python   session = requests.Session()   session.get(\"https://api.example.com/login\")   response = session.get(\"https://api.example.com/profile\")</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#7","title":"7. \u8bf7\u6c42\u91cd\u5b9a\u5411\u548c\u5386\u53f2\u8bb0\u5f55","text":"<ul> <li>\u68c0\u67e5\u662f\u5426\u53d1\u751f\u4e86\u91cd\u5b9a\u5411:</li> </ul> <p><code>python   response = requests.get(\"https://api.example.com/redirect\", allow_redirects=False)   print(response.status_code)  # \u5982\u679c\u662f 301 \u6216 302 \u8868\u793a\u91cd\u5b9a\u5411</code></p> <ul> <li>\u67e5\u770b\u8bf7\u6c42\u7684\u91cd\u5b9a\u5411\u5386\u53f2:</li> </ul> <p><code>python   response = requests.get(\"https://api.example.com/redirect\")   for resp in response.history:       print(resp.status_code, resp.url)</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#8-ssl","title":"8. SSL \u8bc1\u4e66\u9a8c\u8bc1","text":"<ul> <li>\u7981\u7528 SSL \u8bc1\u4e66\u9a8c\u8bc1: \u5728\u8bf7\u6c42\u65f6\u5ffd\u7565 SSL \u8bc1\u4e66\u9519\u8bef\uff08\u4e0d\u63a8\u8350\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\uff09\u3002</li> </ul> <p><code>python   response = requests.get(\"https://self-signed.badssl.com/\", verify=False)</code></p> <ul> <li>\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 SSL \u8bc1\u4e66:</li> </ul> <p><code>python   response = requests.get(\"https://api.example.com\", verify='/path/to/cert.pem')</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/requests/#_1","title":"\u603b\u7ed3","text":"<p><code>requests</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u800c\u5f3a\u5927\u7684\u63a5\u53e3\u6765\u5904\u7406 HTTP \u8bf7\u6c42\uff0c\u9002\u7528\u4e8e\u4ece\u7b80\u5355\u7684 Web \u8bf7\u6c42\u5230\u590d\u6742\u7684 API \u4ea4\u4e92\u3002\u5728 Web \u5f00\u53d1\u3001\u6570\u636e\u6293\u53d6\u548c API \u96c6\u6210\u4e2d\uff0c\u5b83\u662f\u4e00\u4e2a\u4e0d\u53ef\u6216\u7f3a\u7684\u5de5\u5177\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/","title":"scikit-learn","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#scikit-learn_1","title":"Scikit-learn \u6559\u7a0b\u8be6\u89e3","text":"<p><code>Scikit-learn</code> \u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u7684 Python \u5e93\uff0c\u63d0\u4f9b\u4e86\u5404\u79cd\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5b9e\u73b0\u3002\u5b83\u5305\u62ec\u7528\u4e8e\u5206\u7c7b\u3001\u56de\u5f52\u3001\u805a\u7c7b\u3001\u964d\u7ef4\u3001\u6a21\u578b\u9009\u62e9\u548c\u9884\u5904\u7406\u7684\u5de5\u5177\u3002<code>Scikit-learn</code> \u7b80\u5355\u6613\u7528\uff0c\u975e\u5e38\u9002\u5408\u673a\u5668\u5b66\u4e60\u7684\u5feb\u901f\u539f\u578b\u5f00\u53d1\u548c\u63a2\u7d22\u6027\u6570\u636e\u5206\u6790\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#1-scikit-learn","title":"1. \u5b89\u88c5 Scikit-learn","text":"<p>\u5728\u5f00\u59cb\u4f7f\u7528 <code>Scikit-learn</code> \u4e4b\u524d\uff0c\u4f60\u9700\u8981\u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install scikit-learn\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#2-scikit-learn","title":"2. Scikit-learn \u57fa\u672c\u6982\u5ff5","text":"<p><code>Scikit-learn</code> \u4e3b\u8981\u56f4\u7ed5\u4ee5\u4e0b\u51e0\u4e2a\u6838\u5fc3\u6982\u5ff5\u5c55\u5f00\uff1a</p> <ul> <li>Estimator\uff08\u4f30\u8ba1\u5668\uff09: \u673a\u5668\u5b66\u4e60\u6a21\u578b\uff0c\u6240\u6709\u7b97\u6cd5\u5728 <code>Scikit-learn</code> \u4e2d\u90fd\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u4f30\u8ba1\u5668\u3002</li> <li>Predictor\uff08\u9884\u6d4b\u5668\uff09: \u5177\u6709 <code>predict</code> \u65b9\u6cd5\u7684\u4f30\u8ba1\u5668\uff0c\u7528\u4e8e\u9884\u6d4b\u6570\u636e\u7684\u8f93\u51fa\u3002</li> <li>Transformer\uff08\u8f6c\u6362\u5668\uff09: \u5177\u6709 <code>transform</code> \u65b9\u6cd5\u7684\u4f30\u8ba1\u5668\uff0c\u7528\u4e8e\u8f6c\u6362\u6570\u636e\u3002</li> <li>Pipeline\uff08\u7ba1\u9053\uff09: \u7528\u4e8e\u5c06\u591a\u4e2a\u4f30\u8ba1\u5668\u4e32\u8054\u5728\u4e00\u8d77\uff0c\u4fbf\u4e8e\u7ec4\u5408\u6a21\u578b\u7684\u6784\u5efa\u548c\u6d4b\u8bd5\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#3","title":"3. \u6570\u636e\u96c6\u52a0\u8f7d\u4e0e\u9884\u5904\u7406","text":"<p><code>Scikit-learn</code> \u63d0\u4f9b\u4e86\u51e0\u4e2a\u5185\u7f6e\u7684\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u4ece\u5916\u90e8\u52a0\u8f7d\u6570\u636e\u3002</p> <pre><code>from sklearn.datasets import load_iris\nimport pandas as pd\n\n# \u52a0\u8f7d Iris \u6570\u636e\u96c6\ndata = load_iris()\n\n# \u5c06\u6570\u636e\u96c6\u8f6c\u6362\u4e3a DataFrame\ndf = pd.DataFrame(data.data, columns=data.feature_names)\ndf['target'] = data.target\n\nprint(df.head())\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#31","title":"3.1 \u6570\u636e\u9884\u5904\u7406","text":"<p>\u6570\u636e\u9884\u5904\u7406\u901a\u5e38\u662f\u673a\u5668\u5b66\u4e60\u5de5\u4f5c\u6d41\u7684\u91cd\u8981\u4e00\u6b65\u3002<code>Scikit-learn</code> \u63d0\u4f9b\u4e86\u8bb8\u591a\u9884\u5904\u7406\u5de5\u5177\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#311","title":"3.1.1 \u6807\u51c6\u5316\u6570\u636e","text":"<p>\u4f7f\u7528 <code>StandardScaler</code> \u8fdb\u884c\u6570\u636e\u6807\u51c6\u5316\uff1a</p> <pre><code>from sklearn.preprocessing import StandardScaler\n\nscaler = StandardScaler()\n\n# \u62df\u5408\u5e76\u8f6c\u6362\u6570\u636e\nscaled_data = scaler.fit_transform(df.drop('target', axis=1))\n\nprint(scaled_data[:5])\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#312","title":"3.1.2 \u72ec\u70ed\u7f16\u7801","text":"<p>\u4f7f\u7528 <code>OneHotEncoder</code> \u8fdb\u884c\u5206\u7c7b\u53d8\u91cf\u7684\u72ec\u70ed\u7f16\u7801\uff1a</p> <pre><code>from sklearn.preprocessing import OneHotEncoder\n\nencoder = OneHotEncoder(sparse=False)\n\n# \u5c06\u76ee\u6807\u53d8\u91cf\u8fdb\u884c\u72ec\u70ed\u7f16\u7801\nencoded_target = encoder.fit_transform(df[['target']])\n\nprint(encoded_target[:5])\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#4","title":"4. \u5206\u7c7b\u4e0e\u56de\u5f52\u6a21\u578b","text":"<p><code>Scikit-learn</code> \u63d0\u4f9b\u4e86\u591a\u79cd\u5206\u7c7b\u548c\u56de\u5f52\u6a21\u578b\uff0c\u4ee5\u4e0b\u662f\u5e38\u7528\u7684\u51e0\u4e2a\u6a21\u578b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#41","title":"4.1 \u903b\u8f91\u56de\u5f52","text":"<p>\u903b\u8f91\u56de\u5f52\u662f\u4e8c\u5143\u5206\u7c7b\u7684\u5e38\u7528\u65b9\u6cd5\u3002</p> <pre><code>from sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\n\n# \u5206\u5272\u6570\u636e\u96c6\nX_train, X_test, y_train, y_test = train_test_split(scaled_data, df['target'], test_size=0.3, random_state=42)\n\n# \u521b\u5efa\u903b\u8f91\u56de\u5f52\u6a21\u578b\nmodel = LogisticRegression()\n\n# \u8bad\u7ec3\u6a21\u578b\nmodel.fit(X_train, y_train)\n\n# \u9884\u6d4b\ny_pred = model.predict(X_test)\n\n# \u8bc4\u4f30\u6a21\u578b\naccuracy = accuracy_score(y_test, y_pred)\nprint(f'Accuracy: {accuracy}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#42","title":"4.2 \u652f\u6301\u5411\u91cf\u673a","text":"<p>\u652f\u6301\u5411\u91cf\u673a\uff08SVM\uff09\u662f\u53e6\u4e00\u79cd\u5e38\u89c1\u7684\u5206\u7c7b\u65b9\u6cd5\u3002</p> <pre><code>from sklearn.svm import SVC\n\n# \u521b\u5efa\u652f\u6301\u5411\u91cf\u673a\u6a21\u578b\nsvc_model = SVC()\n\n# \u8bad\u7ec3\u6a21\u578b\nsvc_model.fit(X_train, y_train)\n\n# \u9884\u6d4b\ny_pred_svc = svc_model.predict(X_test)\n\n# \u8bc4\u4f30\u6a21\u578b\naccuracy_svc = accuracy_score(y_test, y_pred_svc)\nprint(f'SVM Accuracy: {accuracy_svc}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#43","title":"4.3 \u968f\u673a\u68ee\u6797","text":"<p>\u968f\u673a\u68ee\u6797\u662f\u4e00\u79cd\u96c6\u6210\u5b66\u4e60\u65b9\u6cd5\uff0c\u901a\u8fc7\u591a\u4e2a\u51b3\u7b56\u6811\u7684\u7ec4\u5408\u6765\u63d0\u9ad8\u6a21\u578b\u7684\u51c6\u786e\u6027\u3002</p> <pre><code>from sklearn.ensemble import RandomForestClassifier\n\n# \u521b\u5efa\u968f\u673a\u68ee\u6797\u6a21\u578b\nrf_model = RandomForestClassifier(n_estimators=100, random_state=42)\n\n# \u8bad\u7ec3\u6a21\u578b\nrf_model.fit(X_train, y_train)\n\n# \u9884\u6d4b\ny_pred_rf = rf_model.predict(X_test)\n\n# \u8bc4\u4f30\u6a21\u578b\naccuracy_rf = accuracy_score(y_test, y_pred_rf)\nprint(f'Random Forest Accuracy: {accuracy_rf}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#5","title":"5. \u805a\u7c7b\u6a21\u578b","text":"<p><code>Scikit-learn</code> \u63d0\u4f9b\u4e86\u51e0\u79cd\u805a\u7c7b\u7b97\u6cd5\uff0c\u7528\u4e8e\u5728\u65e0\u76d1\u7763\u5b66\u4e60\u4e2d\u53d1\u73b0\u6570\u636e\u7684\u81ea\u7136\u5206\u7ec4\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#51-k-means","title":"5.1 K-means \u805a\u7c7b","text":"<p>K-means \u662f\u6700\u5e38\u7528\u7684\u805a\u7c7b\u7b97\u6cd5\u4e4b\u4e00\u3002</p> <pre><code>from sklearn.cluster import KMeans\n\n# \u521b\u5efa K-means \u6a21\u578b\nkmeans = KMeans(n_clusters=3, random_state=42)\n\n# \u62df\u5408\u6a21\u578b\nkmeans.fit(scaled_data)\n\n# \u83b7\u53d6\u805a\u7c7b\u7ed3\u679c\nclusters = kmeans.labels_\nprint(clusters)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#6","title":"6. \u6a21\u578b\u8bc4\u4f30","text":"<p><code>Scikit-learn</code> \u63d0\u4f9b\u4e86\u591a\u79cd\u6a21\u578b\u8bc4\u4f30\u65b9\u6cd5\uff0c\u5305\u62ec\u4ea4\u53c9\u9a8c\u8bc1\u3001\u6df7\u6dc6\u77e9\u9635\u3001ROC \u66f2\u7ebf\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#61","title":"6.1 \u4ea4\u53c9\u9a8c\u8bc1","text":"<p>\u4ea4\u53c9\u9a8c\u8bc1\u7528\u4e8e\u8bc4\u4f30\u6a21\u578b\u7684\u6cdb\u5316\u80fd\u529b\u3002</p> <pre><code>from sklearn.model_selection import cross_val_score\n\n# \u4ea4\u53c9\u9a8c\u8bc1\u903b\u8f91\u56de\u5f52\u6a21\u578b\ncv_scores = cross_val_score(model, scaled_data, df['target'], cv=5)\n\nprint(f'Cross-validation scores: {cv_scores}')\nprint(f'Mean CV Score: {cv_scores.mean()}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#62","title":"6.2 \u6df7\u6dc6\u77e9\u9635","text":"<p>\u6df7\u6dc6\u77e9\u9635\u7528\u4e8e\u8bc4\u4f30\u5206\u7c7b\u6a21\u578b\u7684\u6027\u80fd\u3002</p> <pre><code>from sklearn.metrics import confusion_matrix, ConfusionMatrixDisplay\n\n# \u8ba1\u7b97\u6df7\u6dc6\u77e9\u9635\ncm = confusion_matrix(y_test, y_pred)\n\n# \u663e\u793a\u6df7\u6dc6\u77e9\u9635\ndisp = ConfusionMatrixDisplay(confusion_matrix=cm)\ndisp.plot()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#63-roc","title":"6.3 ROC \u66f2\u7ebf","text":"<p>ROC \u66f2\u7ebf\u548c AUC \u503c\u662f\u8bc4\u4f30\u4e8c\u5143\u5206\u7c7b\u6a21\u578b\u7684\u91cd\u8981\u6307\u6807\u3002</p> <pre><code>from sklearn.metrics import roc_curve, auc\nimport matplotlib.pyplot as plt\n\n# \u8ba1\u7b97 ROC \u66f2\u7ebf\nfpr, tpr, _ = roc_curve(y_test, model.predict_proba(X_test)[:, 1])\n\n# \u8ba1\u7b97 AUC \u503c\nroc_auc = auc(fpr, tpr)\n\n# \u7ed8\u5236 ROC \u66f2\u7ebf\nplt.figure()\nplt.plot(fpr, tpr, color='darkorange', lw=2, label=f'ROC curve (area = {roc_auc:.2f})')\nplt.plot([0, 1], [0, 1], color='navy', lw=2, linestyle='--')\nplt.xlabel('False Positive Rate')\nplt.ylabel('True Positive Rate')\nplt.title('Receiver Operating Characteristic')\nplt.legend(loc=\"lower right\")\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#7","title":"7. \u7ba1\u9053\u4e0e\u6a21\u578b\u9009\u62e9","text":"<p><code>Pipeline</code> \u662f <code>Scikit-learn</code> \u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u5de5\u5177\uff0c\u5141\u8bb8\u5c06\u591a\u4e2a\u5904\u7406\u6b65\u9aa4\u4e32\u8054\u8d77\u6765\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#71","title":"7.1 \u521b\u5efa\u7ba1\u9053","text":"<pre><code>from sklearn.pipeline import Pipeline\n\n# \u521b\u5efa\u4e00\u4e2a\u5305\u542b\u6807\u51c6\u5316\u548c\u903b\u8f91\u56de\u5f52\u7684\u7ba1\u9053\npipeline = Pipeline([\n    ('scaler', StandardScaler()),\n    ('logreg', LogisticRegression())\n])\n\n# \u8bad\u7ec3\u7ba1\u9053\npipeline.fit(X_train, y_train)\n\n# \u9884\u6d4b\ny_pred_pipeline = pipeline.predict(X_test)\nprint(f'Pipeline Accuracy: {accuracy_score(y_test, y_pred_pipeline)}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#72","title":"7.2 \u7f51\u683c\u641c\u7d22","text":"<p><code>GridSearchCV</code> \u7528\u4e8e\u5728\u53c2\u6570\u7f51\u683c\u4e0a\u8fdb\u884c\u641c\u7d22\uff0c\u4ee5\u627e\u5230\u6700\u4f73\u7684\u6a21\u578b\u8d85\u53c2\u6570\u3002</p> <pre><code>from sklearn.model_selection import GridSearchCV\n\n# \u5b9a\u4e49\u53c2\u6570\u7f51\u683c\nparam_grid = {\n    'logreg__C': [0.1, 1.0, 10.0],\n    'logreg__solver': ['liblinear', 'lbfgs']\n}\n\n# \u521b\u5efa\u7f51\u683c\u641c\u7d22\ngrid_search = GridSearchCV(pipeline, param_grid, cv=5)\n\n# \u8fd0\u884c\u7f51\u683c\u641c\u7d22\ngrid_search.fit(X_train, y_train)\n\n# \u8f93\u51fa\u6700\u4f73\u53c2\u6570\nprint(f'Best Parameters: {grid_search.best_params_}')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scikit-learn/#8","title":"8. \u603b\u7ed3","text":"<p><code>Scikit-learn</code> \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u673a\u5668\u5b66\u4e60\u5e93\uff0c\u63d0\u4f9b\u4e86\u4ece\u6570\u636e\u9884\u5904\u7406\u3001\u6a21\u578b\u8bad\u7ec3\u5230\u6a21\u578b\u8bc4\u4f30\u7684\u5168\u6d41\u7a0b\u5de5\u5177\u3002\u901a\u8fc7\u638c\u63e1 <code>Scikit-learn</code>\uff0c\u4f60\u53ef\u4ee5\u6709\u6548\u5730\u6784\u5efa\u3001\u8bc4\u4f30\u548c\u4f18\u5316\u673a\u5668\u5b66\u4e60\u6a21\u578b\uff0c\u89e3\u51b3\u5404\u79cd\u5b9e\u9645\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/","title":"scipy \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#scipy_1","title":"SciPy \u6559\u7a0b\u8be6\u89e3","text":"<p><code>SciPy</code> \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 Python \u5e93\uff0c\u5e7f\u6cdb\u7528\u4e8e\u79d1\u5b66\u8ba1\u7b97\u548c\u5de5\u7a0b\u5e94\u7528\u3002\u5b83\u57fa\u4e8e <code>NumPy</code> \u6784\u5efa\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u6570\u5b66\u7b97\u6cd5\u548c\u51fd\u6570\uff0c\u7528\u4e8e\u6570\u503c\u79ef\u5206\u3001\u7ebf\u6027\u4ee3\u6570\u3001\u4fe1\u53f7\u5904\u7406\u3001\u4f18\u5316\u7b49\u9886\u57df\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#1-scipy","title":"1. \u5b89\u88c5 SciPy","text":"<p>\u5728\u4f7f\u7528 <code>SciPy</code> \u4e4b\u524d\uff0c\u9700\u8981\u901a\u8fc7 <code>pip</code> \u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install scipy\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#2-scipy","title":"2. SciPy \u6a21\u5757\u7ed3\u6784","text":"<p><code>SciPy</code> \u7531\u591a\u4e2a\u5b50\u6a21\u5757\u7ec4\u6210\uff0c\u6bcf\u4e2a\u5b50\u6a21\u5757\u90fd\u63d0\u4f9b\u4e86\u7279\u5b9a\u9886\u57df\u7684\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e3b\u8981\u7684\u5b50\u6a21\u5757\uff1a</p> <ul> <li><code>scipy.constants</code>: \u7269\u7406\u548c\u6570\u5b66\u5e38\u91cf\u3002</li> <li><code>scipy.integrate</code>: \u6570\u503c\u79ef\u5206\u548c\u5e38\u5fae\u5206\u65b9\u7a0b\u6c42\u89e3\u3002</li> <li><code>scipy.interpolate</code>: \u63d2\u503c\u65b9\u6cd5\u3002</li> <li><code>scipy.linalg</code>: \u7ebf\u6027\u4ee3\u6570\u64cd\u4f5c\u3002</li> <li><code>scipy.optimize</code>: \u4f18\u5316\u7b97\u6cd5\u3002</li> <li><code>scipy.signal</code>: \u4fe1\u53f7\u5904\u7406\u5de5\u5177\u3002</li> <li><code>scipy.sparse</code>: \u7a00\u758f\u77e9\u9635\u548c\u7a00\u758f\u7ebf\u6027\u4ee3\u6570\u3002</li> <li><code>scipy.stats</code>: \u7edf\u8ba1\u5206\u5e03\u548c\u51fd\u6570\u3002</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#3","title":"3. \u5e38\u7528\u5b50\u6a21\u5757\u4ecb\u7ecd","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#31-scipyconstants","title":"3.1 <code>scipy.constants</code>","text":"<p><code>scipy.constants</code> \u63d0\u4f9b\u4e86\u8bb8\u591a\u5e38\u89c1\u7684\u7269\u7406\u548c\u6570\u5b66\u5e38\u91cf\uff0c\u5982\u5149\u901f\u3001\u7535\u8377\u91cf\u3001\u5706\u5468\u7387\u7b49\u3002</p> <pre><code>from scipy import constants\n\n# \u83b7\u53d6\u5706\u5468\u7387\nprint(constants.pi)  # \u8f93\u51fa: 3.141592653589793\n\n# \u83b7\u53d6\u5149\u901f\uff08\u5355\u4f4d\uff1a\u7c73/\u79d2\uff09\nprint(constants.c)  # \u8f93\u51fa: 299792458.0\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#32-scipyintegrate","title":"3.2 <code>scipy.integrate</code>","text":"<p><code>scipy.integrate</code> \u63d0\u4f9b\u4e86\u6570\u503c\u79ef\u5206\u7684\u65b9\u6cd5\uff0c\u5982\u6c42\u89e3\u5b9a\u79ef\u5206\u3001\u5e38\u5fae\u5206\u65b9\u7a0b\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#321","title":"3.2.1 \u5b9a\u79ef\u5206","text":"<p>\u4f7f\u7528 <code>quad</code> \u51fd\u6570\u8ba1\u7b97\u5b9a\u79ef\u5206\uff1a</p> <pre><code>from scipy.integrate import quad\nimport numpy as np\n\n# \u8ba1\u7b97\u79ef\u5206 \u222b_0^1 x^2 dx\nresult, error = quad(lambda x: x**2, 0, 1)\nprint(result)  # \u8f93\u51fa: 0.33333333333333337\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#322","title":"3.2.2 \u5e38\u5fae\u5206\u65b9\u7a0b\u6c42\u89e3","text":"<p>\u4f7f\u7528 <code>odeint</code> \u51fd\u6570\u6c42\u89e3\u5e38\u5fae\u5206\u65b9\u7a0b\uff1a</p> <pre><code>from scipy.integrate import odeint\n\n# \u5b9a\u4e49\u5fae\u5206\u65b9\u7a0b dy/dt = -y\ndef model(y, t):\n    return -y\n\n# \u521d\u59cb\u6761\u4ef6\ny0 = 5\n\n# \u65f6\u95f4\u70b9\nt = np.linspace(0, 2, 20)\n\n# \u6c42\u89e3\u65b9\u7a0b\ny = odeint(model, y0, t)\n\nprint(y)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#33-scipyinterpolate","title":"3.3 <code>scipy.interpolate</code>","text":"<p><code>scipy.interpolate</code> \u63d0\u4f9b\u4e86\u591a\u79cd\u63d2\u503c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u7ed9\u5b9a\u7684\u79bb\u6563\u6570\u636e\u70b9\u4e4b\u95f4\u8fdb\u884c\u63d2\u503c\u3002</p> <pre><code>from scipy.interpolate import interp1d\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# \u5b9a\u4e49\u6570\u636e\u70b9\nx = np.array([0, 1, 2, 3, 4, 5])\ny = np.array([0, 1, 4, 9, 16, 25])\n\n# \u521b\u5efa\u63d2\u503c\u51fd\u6570\nf = interp1d(x, y, kind='quadratic')\n\n# \u63d2\u503c\u65b0\u7684\u6570\u636e\u70b9\nx_new = np.linspace(0, 5, 100)\ny_new = f(x_new)\n\nplt.plot(x, y, 'o', label='data points')\nplt.plot(x_new, y_new, '-', label='interpolation')\nplt.legend()\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#34-scipylinalg","title":"3.4 <code>scipy.linalg</code>","text":"<p><code>scipy.linalg</code> \u63d0\u4f9b\u4e86\u7ebf\u6027\u4ee3\u6570\u64cd\u4f5c\u7684\u51fd\u6570\uff0c\u5305\u62ec\u77e9\u9635\u5206\u89e3\u3001\u9006\u77e9\u9635\u3001\u6c42\u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#341","title":"3.4.1 \u77e9\u9635\u5206\u89e3","text":"<p>\u4f7f\u7528 <code>svd</code> \u51fd\u6570\u8fdb\u884c\u5947\u5f02\u503c\u5206\u89e3\uff1a</p> <pre><code>from scipy.linalg import svd\nimport numpy as np\n\n# \u5b9a\u4e49\u77e9\u9635\nA = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n\n# \u8fdb\u884c\u5947\u5f02\u503c\u5206\u89e3\nU, s, Vh = svd(A)\n\nprint(U)\nprint(s)\nprint(Vh)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#342","title":"3.4.2 \u6c42\u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4","text":"<p>\u4f7f\u7528 <code>solve</code> \u51fd\u6570\u6c42\u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4\uff1a</p> <pre><code>from scipy.linalg import solve\nimport numpy as np\n\n# \u7cfb\u6570\u77e9\u9635\nA = np.array([[3, 1], [1, 2]])\n\n# \u5e38\u6570\u9879\nb = np.array([9, 8])\n\n# \u6c42\u89e3\u65b9\u7a0b Ax = b\nx = solve(A, b)\nprint(x)  # \u8f93\u51fa: [ 2.  3.]\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#35-scipyoptimize","title":"3.5 <code>scipy.optimize</code>","text":"<p><code>scipy.optimize</code> \u63d0\u4f9b\u4e86\u4f18\u5316\u7b97\u6cd5\u7684\u51fd\u6570\uff0c\u5982\u6700\u5c0f\u5316\u3001\u591a\u5143\u51fd\u6570\u6c42\u6839\u3001\u66f2\u7ebf\u62df\u5408\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#351","title":"3.5.1 \u6700\u5c0f\u5316","text":"<p>\u4f7f\u7528 <code>minimize</code> \u51fd\u6570\u6700\u5c0f\u5316\u51fd\u6570\uff1a</p> <pre><code>from scipy.optimize import minimize\n\n# \u5b9a\u4e49\u76ee\u6807\u51fd\u6570\ndef objective(x):\n    return x**2 + 3*x + 2\n\n# \u521d\u59cb\u731c\u6d4b\nx0 = 0.0\n\n# \u6c42\u89e3\u6700\u5c0f\u503c\nresult = minimize(objective, x0)\nprint(result.x)  # \u8f93\u51fa\u6700\u5c0f\u503c\u70b9\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#352","title":"3.5.2 \u66f2\u7ebf\u62df\u5408","text":"<p>\u4f7f\u7528 <code>curve_fit</code> \u51fd\u6570\u8fdb\u884c\u66f2\u7ebf\u62df\u5408\uff1a</p> <pre><code>from scipy.optimize import curve_fit\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# \u5b9a\u4e49\u6a21\u578b\u51fd\u6570\ndef model(x, a, b):\n    return a * np.exp(b * x)\n\n# \u6570\u636e\u70b9\nx_data = np.array([0, 1, 2, 3, 4])\ny_data = np.array([1, 2.7, 7.4, 20.1, 54.6])\n\n# \u62df\u5408\u66f2\u7ebf\nparams, covariance = curve_fit(model, x_data, y_data)\n\n# \u62df\u5408\u7ed3\u679c\na, b = params\ny_fit = model(x_data, a, b)\n\nplt.plot(x_data, y_data, 'o', label='data')\nplt.plot(x_data, y_fit, '-', label='fit')\nplt.legend()\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#36-scipysignal","title":"3.6 <code>scipy.signal</code>","text":"<p><code>scipy.signal</code> \u63d0\u4f9b\u4e86\u4fe1\u53f7\u5904\u7406\u7684\u5de5\u5177\uff0c\u5982\u6ee4\u6ce2\u5668\u8bbe\u8ba1\u3001\u5377\u79ef\u3001\u5085\u91cc\u53f6\u53d8\u6362\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#361","title":"3.6.1 \u6ee4\u6ce2\u5668\u8bbe\u8ba1","text":"<p>\u4f7f\u7528 <code>butter</code> \u51fd\u6570\u8bbe\u8ba1\u5df4\u7279\u6c83\u65af\u6ee4\u6ce2\u5668\uff1a</p> <pre><code>from scipy.signal import butter, filtfilt\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# \u751f\u6210\u4fe1\u53f7\nt = np.linspace(0, 1, 500)\nx = np.sin(2 * np.pi * 10 * t) + 0.5 * np.sin(2 * np.pi * 50 * t)\n\n# \u8bbe\u8ba1\u4f4e\u901a\u6ee4\u6ce2\u5668\nb, a = butter(4, 20, btype='low', fs=500)\n\n# \u5e94\u7528\u6ee4\u6ce2\u5668\ny = filtfilt(b, a, x)\n\nplt.plot(t, x, label='Original Signal')\nplt.plot(t, y, label='Filtered Signal')\nplt.legend()\nplt.show()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#37-scipystats","title":"3.7 <code>scipy.stats</code>","text":"<p><code>scipy.stats</code> \u63d0\u4f9b\u4e86\u7edf\u8ba1\u5206\u5e03\u548c\u7edf\u8ba1\u51fd\u6570\u7684\u5b9e\u73b0\uff0c\u5982\u6982\u7387\u5206\u5e03\u3001\u5047\u8bbe\u68c0\u9a8c\u3001\u63cf\u8ff0\u7edf\u8ba1\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#371","title":"3.7.1 \u63cf\u8ff0\u7edf\u8ba1","text":"<p>\u4f7f\u7528 <code>describe</code> \u51fd\u6570\u83b7\u53d6\u63cf\u8ff0\u6027\u7edf\u8ba1\uff1a</p> <pre><code>from scipy.stats import describe\nimport numpy as np\n\n# \u6570\u636e\u96c6\ndata = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])\n\n# \u83b7\u53d6\u63cf\u8ff0\u6027\u7edf\u8ba1\nstat = describe(data)\nprint(stat)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#372","title":"3.7.2 \u5047\u8bbe\u68c0\u9a8c","text":"<p>\u4f7f\u7528 <code>ttest_1samp</code> \u8fdb\u884c\u5355\u6837\u672c t \u68c0\u9a8c\uff1a</p> <pre><code>from scipy.stats import ttest_1samp\nimport numpy as np\n\n# \u6570\u636e\u96c6\ndata = np.array([1.1, 1.9, 2.3, 1.8, 1.5])\n\n# \u68c0\u9a8c\u5747\u503c\u662f\u5426\u4e3a 2\nt_stat, p_value = ttest_1samp(data, 2)\nprint(f\"T-statistic: {t_stat}, P-value: {p_value}\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scipy/#4","title":"4. \u603b\u7ed3","text":"<p><code>SciPy</code> \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u79d1\u5b66\u8ba1\u7b97\u5e93\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5de5\u5177\u548c\u51fd\u6570\uff0c\u6db5\u76d6\u4e86\u79d1\u5b66\u8ba1\u7b97\u7684\u5404\u4e2a\u9886\u57df\u3002\u638c\u63e1 <code>SciPy</code> \u7684\u57fa\u672c\u7528\u6cd5\u548c\u9ad8\u7ea7\u529f\u80fd\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u6570\u636e\u5206\u6790\u3001\u79d1\u5b66\u7814\u7a76\u3001\u5de5\u7a0b\u8ba1\u7b97\u7b49\u9886\u57df\u4e2d\u66f4\u52a0\u9ad8\u6548\u5730\u89e3\u51b3\u95ee\u9898\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/","title":"scrapy \u6559\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#scrapy_1","title":"Scrapy \u4f7f\u7528\u6559\u7a0b","text":"<p>Scrapy \u662f\u4e00\u4e2a\u5f3a\u5927\u7684 Python \u6846\u67b6\uff0c\u7528\u4e8e\u4ece\u7f51\u7ad9\u63d0\u53d6\u6570\u636e\uff0c\u5373\u6240\u8c13\u7684\u201c\u722c\u53d6\u201d\u3002\u5b83\u975e\u5e38\u9002\u5408\u5904\u7406\u5927\u578b\u9879\u76ee\u548c\u590d\u6742\u7684\u6293\u53d6\u4efb\u52a1\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u8be6\u7ec6\u7684 Scrapy \u4f7f\u7528\u6559\u7a0b\uff0c\u6db5\u76d6\u4e86\u4ece\u5b89\u88c5\u5230\u5b9e\u9645\u9879\u76ee\u5f00\u53d1\u7684\u5404\u4e2a\u73af\u8282\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#1-scrapy","title":"1. \u5b89\u88c5 Scrapy","text":"<p>\u4f7f\u7528 pip \u5b89\u88c5 Scrapy\uff1a    <code>bash    pip install scrapy</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#2-scrapy","title":"2. \u521b\u5efa Scrapy \u9879\u76ee","text":"<p>\u8981\u5f00\u59cb\u4e00\u4e2a Scrapy \u9879\u76ee\uff0c\u4f60\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u76ee\u5f55\uff1a    <code>bash    scrapy startproject myproject</code>    \u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Scrapy \u9879\u76ee\uff0c\u5176\u4e2d\u5305\u542b\u5fc5\u8981\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#3-item","title":"3. \u5b9a\u4e49 Item","text":"<p>\u5728 Scrapy \u4e2d\uff0cItem \u662f\u7528\u4e8e\u4fdd\u5b58\u722c\u53d6\u5230\u7684\u6570\u636e\u7684\u5bb9\u5668\u3002\u4f60\u53ef\u4ee5\u5728 <code>items.py</code> \u6587\u4ef6\u4e2d\u5b9a\u4e49\u81ea\u5df1\u7684 Item\uff1a    ```python    import scrapy</p> <p>class MyprojectItem(scrapy.Item):        title = scrapy.Field()        link = scrapy.Field()        description = scrapy.Field()    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#4-spider","title":"4. \u7f16\u5199\u722c\u866b\uff08Spider\uff09","text":"<p>Spider \u662f Scrapy \u7684\u6838\u5fc3\uff0c\u5b83\u5b9a\u4e49\u4e86\u5982\u4f55\u722c\u53d6\u9875\u9762\uff0c\u4ee5\u53ca\u4ece\u9875\u9762\u4e2d\u63d0\u53d6\u54ea\u4e9b\u5185\u5bb9\u3002Spider \u53ef\u4ee5\u5728 <code>spiders</code> \u76ee\u5f55\u4e2d\u521b\u5efa\uff1a    <code>bash    cd myproject/spiders    scrapy genspider example example.com</code>    \u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>example.py</code> \u7684\u722c\u866b\u6587\u4ef6\u3002</p> <p>\u5728\u722c\u866b\u6587\u4ef6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u7f16\u5199\u6293\u53d6\u903b\u8f91\uff1a    ```python    import scrapy    from myproject.items import MyprojectItem</p> <p>class ExampleSpider(scrapy.Spider):        name = 'example'        allowed_domains = ['example.com']        start_urls = ['http://example.com']</p> <pre><code>   def parse(self, response):\n       item = MyprojectItem()\n       item['title'] = response.xpath('//title/text()').get()\n       item['link'] = response.url\n       item['description'] = response.xpath('//meta[@name=\"description\"]/@content').get()\n       yield item\n</code></pre> <p>```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#5","title":"5. \u8fd0\u884c\u722c\u866b","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6765\u8fd0\u884c\u722c\u866b\uff1a    <code>bash    scrapy crawl example</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#6","title":"6. \u5b58\u50a8\u722c\u53d6\u7684\u6570\u636e","text":"<p>Scrapy \u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u6765\u5b58\u50a8\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u5c06\u6570\u636e\u4fdd\u5b58\u4e3a JSON\u3001CSV \u7b49\u683c\u5f0f\uff1a    <code>bash    scrapy crawl example -o output.json</code>    \u8fd9\u5c06\u628a\u6293\u53d6\u5230\u7684\u6570\u636e\u4fdd\u5b58\u5230 <code>output.json</code> \u6587\u4ef6\u4e2d\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#7-middleware","title":"7. \u4e2d\u95f4\u4ef6\uff08Middleware\uff09","text":"<p>Scrapy \u5141\u8bb8\u4f60\u901a\u8fc7\u4e2d\u95f4\u4ef6\u4fee\u6539\u8bf7\u6c42\u548c\u54cd\u5e94\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u5728 <code>middlewares.py</code> \u6587\u4ef6\u4e2d\u7f16\u5199\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u6765\u8bbe\u7f6e\u4ee3\u7406\uff1a    <code>python    class MyprojectSpiderMiddleware:        def process_request(self, request, spider):            request.meta['proxy'] = \"http://your_proxy_server\"</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#8","title":"8. \u6269\u5c55\u548c\u8c03\u8bd5","text":"<ul> <li> <p>\u8c03\u8bd5\uff1a\u4f60\u53ef\u4ee5\u4f7f\u7528 Scrapy \u63d0\u4f9b\u7684 Shell \u6765\u8c03\u8bd5\u722c\u866b\uff1a      <code>bash      scrapy shell 'http://example.com'</code>      \u8fd9\u5c06\u6253\u5f00\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u7684 Shell\uff0c\u8ba9\u4f60\u53ef\u4ee5\u76f4\u63a5\u5bf9\u9875\u9762\u8fdb\u884c\u5206\u6790\u3002</p> </li> <li> <p>\u6269\u5c55\uff1aScrapy \u652f\u6301\u591a\u79cd\u6269\u5c55\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e0b\u8f7d\u5ef6\u8fdf\u3001\u4f7f\u7528 cookies\u3001\u5904\u7406\u91cd\u5b9a\u5411\u7b49\u3002\u4f60\u53ef\u4ee5\u5728 <code>settings.py</code> \u4e2d\u914d\u7f6e\u8fd9\u4e9b\u9009\u9879\uff1a      <code>python      DOWNLOAD_DELAY = 2      COOKIES_ENABLED = False</code></p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#9-pipelines","title":"9. \u4f7f\u7528 Pipelines","text":"<p>Pipelines \u7528\u4e8e\u5904\u7406\u548c\u5b58\u50a8\u4ece Spider \u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e\u3002\u4f60\u53ef\u4ee5\u5728 <code>pipelines.py</code> \u6587\u4ef6\u4e2d\u5b9a\u4e49\u4f60\u7684 Pipeline\uff1a    <code>python    class MyprojectPipeline:        def process_item(self, item, spider):            # \u5bf9 item \u8fdb\u884c\u5904\u7406\u6216\u5b58\u50a8            return item</code>    \u522b\u5fd8\u4e86\u5728 <code>settings.py</code> \u4e2d\u542f\u7528\u4f60\u7684 Pipeline\uff1a    <code>python    ITEM_PIPELINES = {        'myproject.pipelines.MyprojectPipeline': 300,    }</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/scrapy/#10","title":"10. \u90e8\u7f72\u548c\u6269\u5c55","text":"<p>\u5f53\u4f60\u51c6\u5907\u5c06\u722c\u866b\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 Scrapy \u63d0\u4f9b\u7684 <code>scrapyd</code> \u670d\u52a1\u6765\u7ba1\u7406\u548c\u8c03\u5ea6\u4f60\u7684\u722c\u866b\u3002\u6b64\u5916\uff0c\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 Scrapy Cloud \u7b49\u670d\u52a1\u6765\u8fdb\u884c\u66f4\u5927\u89c4\u6a21\u7684\u5206\u5e03\u5f0f\u6293\u53d6\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5c31\u53ef\u4ee5\u7528 Scrapy \u6784\u5efa\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u722c\u866b\u9879\u76ee\u3002\u5982\u679c\u4f60\u6709\u4efb\u4f55\u7591\u95ee\u6216\u9700\u8981\u66f4\u6df1\u5165\u7684\u6307\u5bfc\uff0c\u968f\u65f6\u53ef\u4ee5\u63d0\u95ee\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/","title":"selenium \u4f7f\u7528\u6559\u7a0b","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#selenium_1","title":"Selenium \u4f7f\u7528\u6559\u7a0b","text":"<p>Selenium \u662f\u4e00\u4e2a\u7528\u4e8e\u81ea\u52a8\u5316\u7f51\u9875\u64cd\u4f5c\u7684\u5de5\u5177\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7f51\u9875\u6d4b\u8bd5\u548c\u722c\u866b\u4efb\u52a1\u4e2d\u3002\u901a\u8fc7 Selenium\uff0c\u4f60\u53ef\u4ee5\u6a21\u62df\u7528\u6237\u64cd\u4f5c\u6d4f\u89c8\u5668\uff0c\u4f8b\u5982\u70b9\u51fb\u3001\u8f93\u5165\u3001\u63d0\u4ea4\u8868\u5355\u7b49\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u7684 Selenium \u4f7f\u7528\u6559\u7a0b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#1-selenium-webdriver","title":"1. \u5b89\u88c5 Selenium \u548c WebDriver","text":"<p>\u9996\u5148\uff0c\u9700\u8981\u5b89\u88c5 Selenium \u5e93\uff1a    <code>bash    pip install selenium</code>    \u63a5\u4e0b\u6765\uff0c\u6839\u636e\u4f60\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\uff0c\u4e0b\u8f7d\u76f8\u5e94\u7684 WebDriver\uff1a    - Chrome: ChromeDriver    - Firefox: GeckoDriver    - Edge: EdgeDriver</p> <p>\u5c06\u4e0b\u8f7d\u7684 WebDriver \u89e3\u538b\u5230\u4e00\u4e2a\u8def\u5f84\uff0c\u5e76\u5c06\u5176\u8def\u5f84\u6dfb\u52a0\u5230\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u6216\u8005\u5728\u4ee3\u7801\u4e2d\u6307\u5b9a\u8def\u5f84\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#2","title":"2. \u542f\u52a8\u6d4f\u89c8\u5668","text":"<p>\u4e0b\u9762\u7684\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 Selenium \u6253\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668\u5e76\u8bbf\u95ee\u4e00\u4e2a\u7f51\u9875\uff1a    ```python    from selenium import webdriver</p> <p># \u542f\u52a8 Chrome \u6d4f\u89c8\u5668    driver = webdriver.Chrome(executable_path='/path/to/chromedriver')</p> <p># \u8bbf\u95ee\u7f51\u9875    driver.get('https://www.example.com')</p> <p># \u6253\u5370\u5f53\u524d\u9875\u9762\u6807\u9898    print(driver.title)</p> <p># \u5173\u95ed\u6d4f\u89c8\u5668    driver.quit()    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#3","title":"3. \u67e5\u627e\u7f51\u9875\u5143\u7d20","text":"<p>Selenium \u63d0\u4f9b\u591a\u79cd\u65b9\u6cd5\u6765\u67e5\u627e\u7f51\u9875\u5143\u7d20\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u5143\u7d20\u7684 ID\u3001\u7c7b\u540d\u3001\u6807\u7b7e\u540d\u3001XPath \u7b49\u6765\u5b9a\u4f4d\uff1a    ```python    # \u901a\u8fc7 ID \u67e5\u627e\u5143\u7d20    element = driver.find_element_by_id('element_id')</p> <p># \u901a\u8fc7\u7c7b\u540d\u67e5\u627e\u5143\u7d20    element = driver.find_element_by_class_name('element_class')</p> <p># \u901a\u8fc7\u6807\u7b7e\u540d\u67e5\u627e\u5143\u7d20    element = driver.find_element_by_tag_name('input')</p> <p># \u901a\u8fc7 XPath \u67e5\u627e\u5143\u7d20    element = driver.find_element_by_xpath('//input[@name=\"q\"]')    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#4","title":"4. \u64cd\u4f5c\u7f51\u9875\u5143\u7d20","text":"<p>\u4e00\u65e6\u627e\u5230\u7f51\u9875\u5143\u7d20\uff0cSelenium \u5141\u8bb8\u4f60\u4e0e\u5b83\u4eec\u8fdb\u884c\u4ea4\u4e92\uff0c\u4f8b\u5982\u70b9\u51fb\u3001\u8f93\u5165\u6587\u672c\u3001\u63d0\u4ea4\u8868\u5355\u7b49\uff1a    ```python    # \u8f93\u5165\u6587\u672c    search_box = driver.find_element_by_name('q')    search_box.send_keys('Selenium Python')</p> <p># \u70b9\u51fb\u6309\u94ae    search_button = driver.find_element_by_name('btnK')    search_button.click()    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#5","title":"5. \u5904\u7406\u5f39\u7a97\u548c\u5bf9\u8bdd\u6846","text":"<p>Selenium \u8fd8\u53ef\u4ee5\u5904\u7406\u6d4f\u89c8\u5668\u4e2d\u7684\u5f39\u7a97\u548c\u5bf9\u8bdd\u6846\uff1a    ```python    # \u63a5\u53d7\u5f39\u7a97    alert = driver.switch_to.alert    alert.accept()</p> <p># \u53d6\u6d88\u5f39\u7a97    alert.dismiss()    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#6","title":"6. \u7b49\u5f85\u5143\u7d20\u52a0\u8f7d","text":"<p>\u6709\u65f6\u5019\uff0c\u9875\u9762\u52a0\u8f7d\u65f6\u95f4\u53ef\u80fd\u4f1a\u5f71\u54cd\u5143\u7d20\u7684\u53ef\u7528\u6027\uff0cSelenium \u63d0\u4f9b\u4e86\u663e\u5f0f\u7b49\u5f85\u548c\u9690\u5f0f\u7b49\u5f85\u6765\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff1a    ```python    from selenium.webdriver.common.by import By    from selenium.webdriver.support.ui import WebDriverWait    from selenium.webdriver.support import expected_conditions as EC</p> <p># \u9690\u5f0f\u7b49\u5f85    driver.implicitly_wait(10)  # \u7b49\u5f8510\u79d2</p> <p># \u663e\u5f0f\u7b49\u5f85    element = WebDriverWait(driver, 10).until(        EC.presence_of_element_located((By.ID, 'element_id'))    )    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#7","title":"7. \u5904\u7406\u591a\u7a97\u53e3","text":"<p>\u5f53\u4f60\u5728\u81ea\u52a8\u5316\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u9700\u8981\u5904\u7406\u591a\u4e2a\u7a97\u53e3\u65f6\uff0cSelenium \u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728\u4e0d\u540c\u7a97\u53e3\u4e4b\u95f4\u5207\u6362\uff1a    ```python    # \u83b7\u53d6\u5f53\u524d\u7a97\u53e3\u53e5\u67c4    main_window = driver.current_window_handle</p> <p># \u5207\u6362\u5230\u65b0\u7a97\u53e3    for handle in driver.window_handles:        driver.switch_to.window(handle)</p> <p># \u5207\u6362\u56de\u4e3b\u7a97\u53e3    driver.switch_to.window(main_window)    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#8-iframe","title":"8. \u5904\u7406 iframe","text":"<p>\u5982\u679c\u7f51\u9875\u4e2d\u6709 iframe\uff0c\u4f60\u9700\u8981\u5148\u5207\u6362\u5230 iframe \u4e2d\u624d\u80fd\u64cd\u4f5c\u5176\u4e2d\u7684\u5143\u7d20\uff1a    ```python    # \u5207\u6362\u5230 iframe    driver.switch_to.frame('iframe_id')</p> <p># \u64cd\u4f5c iframe \u4e2d\u7684\u5143\u7d20    element = driver.find_element_by_tag_name('h1')</p> <p># \u5207\u6362\u56de\u4e3b\u6587\u6863    driver.switch_to.default_content()    ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#9","title":"9. \u622a\u53d6\u5c4f\u5e55\u622a\u56fe","text":"<p>Selenium \u8fd8\u5141\u8bb8\u4f60\u622a\u53d6\u7f51\u9875\u7684\u622a\u56fe\uff0c\u8fd9\u5728\u8c03\u8bd5\u548c\u6d4b\u8bd5\u4e2d\u975e\u5e38\u6709\u7528\uff1a    <code>python    driver.save_screenshot('screenshot.png')</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/selenium/#10","title":"10. \u5173\u95ed\u6d4f\u89c8\u5668","text":"<p>\u5b8c\u6210\u6240\u6709\u64cd\u4f5c\u540e\uff0c\u8bb0\u5f97\u5173\u95ed\u6d4f\u89c8\u5668\u4ee5\u91ca\u653e\u8d44\u6e90\uff1a    <code>python    driver.quit()</code></p> <p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 Selenium \u8fdb\u884c\u57fa\u672c\u7684\u7f51\u9875\u81ea\u52a8\u5316\u64cd\u4f5c\u3002\u5982\u679c\u4f60\u6709\u66f4\u591a\u7684\u9700\u6c42\u6216\u9047\u5230\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u968f\u65f6\u63d0\u95ee\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/","title":"shutil \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#python-shutil","title":"Python <code>shutil</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>shutil</code> \u662f Python \u7684\u6807\u51c6\u5e93\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u9ad8\u5c42\u6b21\u7684\u6587\u4ef6\u64cd\u4f5c\u529f\u80fd\u3002<code>shutil</code> \u6a21\u5757\u652f\u6301\u6587\u4ef6\u590d\u5236\u3001\u79fb\u52a8\u3001\u5220\u9664\u3001\u538b\u7f29\u548c\u89e3\u538b\u7f29\u7b49\u64cd\u4f5c\uff0c\u8fd9\u4f7f\u5f97\u5b83\u975e\u5e38\u9002\u5408\u4e8e\u5904\u7406\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u5e38\u89c1\u4efb\u52a1\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#1","title":"1. \u590d\u5236\u6587\u4ef6\u548c\u76ee\u5f55","text":"<ul> <li><code>shutil.copy()</code>: \u590d\u5236\u6587\u4ef6\u5185\u5bb9\u548c\u6743\u9650\uff08\u4f46\u4e0d\u5305\u62ec\u5143\u6570\u636e\uff0c\u5982\u521b\u5efa\u65f6\u95f4\u7b49\uff09\u3002</li> </ul> <p>```python   import shutil</p> <p>shutil.copy(\"source_file.txt\", \"destination_file.txt\")   ```</p> <ul> <li><code>shutil.copy2()</code>: \u590d\u5236\u6587\u4ef6\u5185\u5bb9\u3001\u6743\u9650\u548c\u5143\u6570\u636e\u3002</li> </ul> <p><code>python   shutil.copy2(\"source_file.txt\", \"destination_file.txt\")</code></p> <ul> <li><code>shutil.copytree()</code>: \u9012\u5f52\u5730\u590d\u5236\u6574\u4e2a\u76ee\u5f55\u6811\u3002</li> </ul> <p><code>python   shutil.copytree(\"source_directory\", \"destination_directory\")</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#2","title":"2. \u79fb\u52a8\u6587\u4ef6\u548c\u76ee\u5f55","text":"<ul> <li><code>shutil.move()</code>: \u79fb\u52a8\u6587\u4ef6\u6216\u76ee\u5f55\u3002\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u4e4b\u95f4\u79fb\u52a8\u6587\u4ef6\u3002</li> </ul> <p><code>python   shutil.move(\"source_file_or_directory\", \"destination_file_or_directory\")</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#3","title":"3. \u5220\u9664\u6587\u4ef6\u548c\u76ee\u5f55","text":"<ul> <li><code>shutil.rmtree()</code>: \u9012\u5f52\u5220\u9664\u76ee\u5f55\u6811\u53ca\u5176\u5185\u5bb9\u3002</li> </ul> <p><code>python   shutil.rmtree(\"directory_to_delete\")</code></p> <ul> <li><code>shutil.unlink()</code>: \u5220\u9664\u5355\u4e2a\u6587\u4ef6\uff0c\u5b9e\u9645\u4e0a\u662f <code>os.unlink()</code> \u7684\u522b\u540d\u3002</li> </ul> <p><code>python   import os   os.unlink(\"file_to_delete.txt\")</code></p> <ul> <li><code>shutil.remove()</code>: \u5220\u9664\u5355\u4e2a\u6587\u4ef6\uff0c\u53ef\u4ee5\u5220\u9664\u6587\u4ef6\u7684\u7b26\u53f7\u94fe\u63a5\u3002</li> </ul> <p><code>python   os.remove(\"file_to_delete.txt\")</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#4","title":"4. \u538b\u7f29\u548c\u89e3\u538b\u7f29","text":"<ul> <li><code>shutil.make_archive()</code>: \u538b\u7f29\u6587\u4ef6\u6216\u76ee\u5f55\u4e3a\u4e00\u4e2a\u5f52\u6863\u6587\u4ef6\u3002\u652f\u6301\u683c\u5f0f\u5305\u62ec <code>zip</code>\u3001<code>tar</code>\u3001<code>gztar</code>\u3001<code>bztar</code> \u7b49\u3002</li> </ul> <p><code>python   shutil.make_archive(\"archive_name\", \"zip\", \"directory_to_compress\")</code></p> <ul> <li><code>shutil.unpack_archive()</code>: \u89e3\u538b\u7f29\u5f52\u6863\u6587\u4ef6\u3002</li> </ul> <p><code>python   shutil.unpack_archive(\"archive_name.zip\", \"output_directory\")</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#5","title":"5. \u8ba1\u7b97\u6587\u4ef6\u5939\u7684\u603b\u5927\u5c0f","text":"<ul> <li><code>shutil.disk_usage()</code>: \u83b7\u53d6\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3002</li> </ul> <p><code>python   usage = shutil.disk_usage(\"/\")   print(f\"Total: {usage.total}, Used: {usage.used}, Free: {usage.free}\")</code></p> <ul> <li>\u8ba1\u7b97\u76ee\u5f55\u5927\u5c0f: \u4f60\u53ef\u4ee5\u4f7f\u7528 <code>shutil</code> \u548c <code>os</code> \u6a21\u5757\u6765\u8ba1\u7b97\u6574\u4e2a\u76ee\u5f55\u7684\u5927\u5c0f\u3002</li> </ul> <p>```python   def get_directory_size(directory):       total_size = 0       for dirpath, dirnames, filenames in os.walk(directory):           for f in filenames:               fp = os.path.join(dirpath, f)               total_size += os.path.getsize(fp)       return total_size</p> <p>print(get_directory_size(\"directory_to_calculate\"))   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#6","title":"6. \u590d\u5236\u6587\u4ef6\u5bf9\u8c61","text":"<ul> <li><code>shutil.copyfileobj()</code>: \u5c06\u6587\u4ef6\u5bf9\u8c61\u7684\u5185\u5bb9\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u6587\u4ef6\u5bf9\u8c61\u3002\u9002\u7528\u4e8e\u9700\u8981\u5bf9\u6587\u4ef6\u5185\u5bb9\u8fdb\u884c\u90e8\u5206\u8bfb\u53d6\u6216\u5199\u5165\u7684\u60c5\u51b5\u3002</li> </ul> <p><code>python   with open(\"source_file.txt\", \"rb\") as src, open(\"destination_file.txt\", \"wb\") as dst:       shutil.copyfileobj(src, dst)</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#7","title":"7. \u6587\u4ef6\u6743\u9650\u548c\u5c5e\u6027","text":"<ul> <li><code>shutil.chown()</code>: \u6539\u53d8\u6587\u4ef6\u7684\u6240\u6709\u8005\u548c\u7ec4\u3002</li> </ul> <p><code>python   shutil.chown(\"file.txt\", user=\"username\", group=\"groupname\")</code></p> <ul> <li><code>shutil.copymode()</code>: \u4ec5\u590d\u5236\u6587\u4ef6\u6743\u9650\u3002</li> </ul> <p><code>python   shutil.copymode(\"source_file.txt\", \"destination_file.txt\")</code></p> <ul> <li><code>shutil.copystat()</code>: \u590d\u5236\u6587\u4ef6\u7684\u72b6\u6001\u4fe1\u606f\uff08\u6743\u9650\u3001\u6700\u540e\u8bbf\u95ee\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4\u7b49\uff09\u3002</li> </ul> <p><code>python   shutil.copystat(\"source_file.txt\", \"destination_file.txt\")</code></p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/shutil/#_1","title":"\u603b\u7ed3","text":"<p><code>shutil</code> \u6a21\u5757\u662f\u5904\u7406\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u63d0\u4f9b\u4e86\u9ad8\u5c42\u6b21\u7684\u63a5\u53e3\uff0c\u80fd\u591f\u7b80\u5316\u65e5\u5e38\u7684\u6587\u4ef6\u64cd\u4f5c\u4efb\u52a1\u3002\u5b83\u7279\u522b\u9002\u7528\u4e8e\u9700\u8981\u5904\u7406\u5927\u91cf\u6587\u4ef6\u64cd\u4f5c\u7684\u811a\u672c\u6216\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982\u5907\u4efd\u3001\u6587\u4ef6\u7ba1\u7406\u5de5\u5177\u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/","title":"SQLALchemy \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#sqlalchemy_1","title":"SQLAlchemy \u6982\u5ff5\u8be6\u89e3","text":"<p><code>SQLAlchemy</code> \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684 Python SQL \u5de5\u5177\u5305\u548c ORM\uff08\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04\uff09\u5e93\u3002\u5b83\u901a\u8fc7\u62bd\u8c61\u5316\u7684\u63a5\u53e3\u548c\u7075\u6d3b\u7684\u529f\u80fd\uff0c\u8ba9\u5f00\u53d1\u8005\u80fd\u591f\u9ad8\u6548\u5730\u4e0e\u6570\u636e\u5e93\u8fdb\u884c\u4ea4\u4e92\u3002\u4ee5\u4e0b\u662f <code>SQLAlchemy</code> \u7684\u6838\u5fc3\u6982\u5ff5\u8be6\u89e3\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#1-sqlalchemy-core-orm","title":"1. SQLAlchemy Core \u548c ORM","text":"<p><code>SQLAlchemy</code> \u63d0\u4f9b\u4e86\u4e24\u79cd\u4e3b\u8981\u7684 API\uff1a<code>SQLAlchemy Core</code> \u548c <code>SQLAlchemy ORM</code>\u3002</p> <ul> <li> <p>SQLAlchemy Core: \u662f\u5e95\u5c42\u7684 SQL \u8868\u8fbe\u5f0f\u8bed\u8a00\uff0c\u5141\u8bb8\u76f4\u63a5\u6784\u5efa\u548c\u6267\u884c SQL \u8bed\u53e5\u3002\u5b83\u63d0\u4f9b\u4e86\u6570\u636e\u5e93\u65e0\u5173\u7684\u62bd\u8c61\u5c42\uff0c\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u5728\u4e0d\u540c\u6570\u636e\u5e93\u4e4b\u95f4\u65e0\u7f1d\u5207\u6362\u3002</p> </li> <li> <p>SQLAlchemy ORM: \u662f\u57fa\u4e8e SQLAlchemy Core \u7684\u9ad8\u7ea7\u62bd\u8c61\u5c42\uff0c\u63d0\u4f9b\u4e86\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04\u7684\u529f\u80fd\u3002ORM \u5c06\u6570\u636e\u5e93\u8868\u6620\u5c04\u4e3a Python \u7c7b\uff0c\u4f7f\u5f97\u5f00\u53d1\u8005\u80fd\u591f\u4f7f\u7528 Python \u5bf9\u8c61\u64cd\u4f5c\u6570\u636e\u5e93\uff0c\u800c\u4e0d\u9700\u8981\u76f4\u63a5\u7f16\u5199 SQL \u8bed\u53e5\u3002</p> </li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#2-engine","title":"2. Engine\uff08\u5f15\u64ce\uff09","text":"<p><code>Engine</code> \u662f <code>SQLAlchemy</code> \u7684\u6838\u5fc3\u7ec4\u4ef6\u4e4b\u4e00\uff0c\u8d1f\u8d23\u4e0e\u6570\u636e\u5e93\u7684\u5b9e\u9645\u8fde\u63a5\u3002\u901a\u8fc7 <code>Engine</code>\uff0c<code>SQLAlchemy</code> \u53ef\u4ee5\u5c06 SQL \u8868\u8fbe\u5f0f\u53d1\u9001\u5230\u6570\u636e\u5e93\uff0c\u5e76\u63a5\u6536\u6570\u636e\u5e93\u7684\u7ed3\u679c\u3002</p> <pre><code>from sqlalchemy import create_engine\n\nengine = create_engine('sqlite:///example.db')\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a SQLite \u6570\u636e\u5e93\u5f15\u64ce\u3002<code>create_engine()</code> \u51fd\u6570\u7684\u53c2\u6570\u53ef\u4ee5\u662f\u4e0d\u540c\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\uff0c\u5982 MySQL\u3001PostgreSQL \u7b49\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#3-metadata","title":"3. MetaData","text":"<p><code>MetaData</code> \u662f\u4e00\u4e2a\u5bb9\u5668\u5bf9\u8c61\uff0c\u7528\u4e8e\u4fdd\u5b58\u6570\u636e\u5e93\u4e2d\u7684\u8868\u7ed3\u6784\u4fe1\u606f\u3002\u5b83\u662f <code>SQLAlchemy Core</code> \u7684\u5173\u952e\u90e8\u5206\uff0c\u7528\u4e8e\u7ba1\u7406 <code>Table</code> \u5bf9\u8c61\uff0c\u4ee5\u53ca\u5728\u6570\u636e\u5e93\u548c Python \u4ee3\u7801\u4e4b\u95f4\u540c\u6b65\u8868\u7ed3\u6784\u3002</p> <pre><code>from sqlalchemy import MetaData\n\nmetadata = MetaData()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#4-table","title":"4. Table\uff08\u8868\uff09","text":"<p><code>Table</code> \u5bf9\u8c61\u8868\u793a\u6570\u636e\u5e93\u4e2d\u7684\u8868\u3002\u901a\u8fc7 <code>Table</code> \u5bf9\u8c61\uff0c\u53ef\u4ee5\u5b9a\u4e49\u8868\u7ed3\u6784\u3001\u5217\u7c7b\u578b\u53ca\u7ea6\u675f\u6761\u4ef6\u3002\u6bcf\u4e2a <code>Table</code> \u5bf9\u8c61\u90fd\u7ed1\u5b9a\u5230\u4e00\u4e2a <code>MetaData</code> \u5b9e\u4f8b\u3002</p> <pre><code>from sqlalchemy import Table, Column, Integer, String\n\nusers = Table(\n    'users', metadata,\n    Column('id', Integer, primary_key=True),\n    Column('name', String),\n    Column('age', Integer)\n)\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>users</code> \u7684\u8868\uff0c\u5176\u4e2d\u5305\u542b\u4e09\u5217\uff1a<code>id</code>\u3001<code>name</code> \u548c <code>age</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#5-declarative-base","title":"5. Declarative Base","text":"<p><code>Declarative Base</code> \u662f <code>SQLAlchemy ORM</code> \u7684\u57fa\u7840\u3002\u901a\u8fc7 <code>declarative_base()</code> \u51fd\u6570\u521b\u5efa\u7684\u57fa\u7c7b\uff0c\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f\u8fd9\u4e2a\u57fa\u7c7b\u6765\u5b9a\u4e49 ORM \u6a21\u578b\u7c7b\u3002</p> <pre><code>from sqlalchemy.ext.declarative import declarative_base\n\nBase = declarative_base()\n</code></pre> <p><code>Declarative Base</code> \u63d0\u4f9b\u4e86\u4e00\u79cd\u58f0\u660e\u5f0f\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49 ORM \u6a21\u578b\u7c7b\uff0c\u5e76\u5c06\u8fd9\u4e9b\u7c7b\u4e0e\u6570\u636e\u5e93\u4e2d\u7684\u8868\u8fdb\u884c\u6620\u5c04\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#6-orm","title":"6. ORM \u6a21\u578b\u7c7b","text":"<p>ORM \u6a21\u578b\u7c7b\u662f <code>SQLAlchemy ORM</code> \u7684\u6838\u5fc3\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u5e93\u4e2d\u7684\u8868\u6620\u5c04\u4e3a Python \u7c7b\u3002\u6bcf\u4e2a\u6a21\u578b\u7c7b\u4ee3\u8868\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u5f20\u8868\uff0c\u7c7b\u4e2d\u7684\u5c5e\u6027\u5bf9\u5e94\u8868\u4e2d\u7684\u5217\u3002</p> <pre><code>from sqlalchemy import Column, Integer, String\n\nclass User(Base):\n    __tablename__ = 'users'\n    id = Column(Integer, primary_key=True)\n    name = Column(String)\n    age = Column(Integer)\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>User</code> \u7c7b\u6620\u5c04\u5230\u6570\u636e\u5e93\u4e2d\u7684 <code>users</code> \u8868\uff0c<code>id</code>\u3001<code>name</code> \u548c <code>age</code> \u662f\u8868\u4e2d\u7684\u5217\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#7-session","title":"7. Session\uff08\u4f1a\u8bdd\uff09","text":"<p><code>Session</code> \u662f <code>SQLAlchemy ORM</code> \u7684\u4e3b\u8981\u63a5\u53e3\uff0c\u7528\u4e8e\u7ba1\u7406\u4e0e\u6570\u636e\u5e93\u7684\u6240\u6709\u4ea4\u4e92\u3002<code>Session</code> \u5bf9\u8c61\u8d1f\u8d23\u7ef4\u6301\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5e76\u5904\u7406\u4e8b\u52a1\u7684\u5f00\u59cb\u3001\u63d0\u4ea4\u548c\u56de\u6eda\u3002</p> <pre><code>from sqlalchemy.orm import sessionmaker\n\nSession = sessionmaker(bind=engine)\nsession = Session()\n</code></pre> <p><code>Session</code> \u5bf9\u8c61\u901a\u8fc7 <code>sessionmaker</code> \u51fd\u6570\u521b\u5efa\uff0c\u5e76\u7ed1\u5b9a\u5230\u7279\u5b9a\u7684 <code>Engine</code>\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#8","title":"8. \u5173\u7cfb\u6620\u5c04","text":"<p><code>SQLAlchemy ORM</code> \u652f\u6301\u591a\u79cd\u5173\u7cfb\u6620\u5c04\uff0c\u5305\u62ec\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u591a\u548c\u4e00\u5bf9\u4e00\u7684\u5173\u7cfb\u3002\u5173\u7cfb\u6620\u5c04\u5141\u8bb8\u5f00\u53d1\u8005\u5728 Python \u5bf9\u8c61\u4e4b\u95f4\u5b9a\u4e49\u590d\u6742\u7684\u5173\u8054\uff0c\u5e76\u5728\u67e5\u8be2\u4e2d\u81ea\u52a8\u52a0\u8f7d\u76f8\u5173\u5bf9\u8c61\u3002</p> <ul> <li>\u4e00\u5bf9\u591a\u5173\u7cfb: \u4e00\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u5173\u8054\u591a\u4e2a\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u7528\u6237\u53ef\u4ee5\u6709\u591a\u4e2a\u5730\u5740\u3002</li> </ul> <p>```python   from sqlalchemy import ForeignKey   from sqlalchemy.orm import relationship</p> <p>class Address(Base):       tablename = 'addresses'       id = Column(Integer, primary_key=True)       user_id = Column(Integer, ForeignKey('users.id'))       email = Column(String)       user = relationship(\"User\", back_populates=\"addresses\")</p> <p>User.addresses = relationship(\"Address\", order_by=Address.id, back_populates=\"user\")   ```</p> <ul> <li>\u591a\u5bf9\u591a\u5173\u7cfb: \u901a\u8fc7\u5173\u8054\u8868\u6765\u5b9a\u4e49\u591a\u5bf9\u591a\u5173\u7cfb\u3002\u4f8b\u5982\uff0c\u7528\u6237\u53ef\u4ee5\u5c5e\u4e8e\u591a\u4e2a\u7fa4\u7ec4\uff0c\u800c\u4e00\u4e2a\u7fa4\u7ec4\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7528\u6237\u3002</li> </ul> <p>```python   from sqlalchemy import Table</p> <p>association_table = Table('association', Base.metadata,       Column('user_id', Integer, ForeignKey('users.id')),       Column('group_id', Integer, ForeignKey('groups.id'))   )</p> <p>class Group(Base):       tablename = 'groups'       id = Column(Integer, primary_key=True)       name = Column(String)</p> <p>User.groups = relationship(\"Group\", secondary=association_table, back_populates=\"users\")   Group.users = relationship(\"User\", secondary=association_table, back_populates=\"groups\")   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#9","title":"9. \u67e5\u8be2\u6784\u9020\u5668","text":"<p><code>SQLAlchemy ORM</code> \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u67e5\u8be2\u6784\u9020\u5668\uff0c\u7528\u4e8e\u6784\u5efa\u548c\u6267\u884c\u590d\u6742\u7684 SQL \u67e5\u8be2\u3002\u901a\u8fc7\u94fe\u5f0f\u8c03\u7528\uff0c\u53ef\u4ee5\u6784\u5efa\u6761\u4ef6\u67e5\u8be2\u3001\u805a\u5408\u67e5\u8be2\u7b49\u3002</p> <pre><code>from sqlalchemy import and_, or_\n\n# \u67e5\u8be2\u540d\u5b57\u4e3a 'Alice' \u4e14\u5e74\u9f84\u5927\u4e8e\u7b49\u4e8e 25 \u7684\u7528\u6237\nusers = session.query(User).filter(and_(User.name == 'Alice', User.age &gt;= 25)).all()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#10","title":"10. \u4e8b\u52a1\u7ba1\u7406","text":"<p><code>SQLAlchemy</code> \u7684 <code>Session</code> \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e8b\u52a1\u7ba1\u7406\u7684\u529f\u80fd\u3002\u901a\u8fc7\u663e\u5f0f\u5730\u5f00\u542f\u548c\u63d0\u4ea4\u4e8b\u52a1\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u548c\u4e00\u81f4\u6027\u3002</p> <pre><code>session.begin()\ntry:\n    user = User(name='Bob', age=30)\n    session.add(user)\n    session.commit()\nexcept:\n    session.rollback()\n    raise\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#11-eager-lazy-loading","title":"11. Eager \u548c Lazy Loading","text":"<p><code>SQLAlchemy</code> \u652f\u6301\u4e24\u79cd\u52a0\u8f7d\u65b9\u5f0f\uff1aEager Loading\uff08\u6025\u5207\u52a0\u8f7d\uff09\u548c Lazy Loading\uff08\u5ef6\u8fdf\u52a0\u8f7d\uff09\u3002Eager Loading \u4f1a\u5728\u67e5\u8be2\u65f6\u7acb\u5373\u52a0\u8f7d\u6240\u6709\u76f8\u5173\u6570\u636e\uff0c\u800c Lazy Loading \u5219\u5728\u9996\u6b21\u8bbf\u95ee\u76f8\u5173\u5c5e\u6027\u65f6\u624d\u52a0\u8f7d\u6570\u636e\u3002</p> <pre><code>from sqlalchemy.orm import joinedload\n\n# Lazy Loading (\u9ed8\u8ba4)\nuser = session.query(User).first()\nprint(user.addresses)  # \u6b64\u65f6\u624d\u52a0\u8f7d addresses\n\n# Eager Loading\nuser = session.query(User).options(joinedload(User.addresses)).first()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sqlalchemy/#12","title":"12. \u603b\u7ed3","text":"<p><code>SQLAlchemy</code> \u63d0\u4f9b\u4e86\u7075\u6d3b\u4e14\u529f\u80fd\u5f3a\u5927\u7684\u5de5\u5177\u96c6\uff0c\u9002\u5408\u5404\u79cd\u89c4\u6a21\u7684\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u3002\u901a\u8fc7\u5bf9 <code>SQLAlchemy Core</code> \u548c <code>SQLAlchemy ORM</code> \u7684\u6df1\u5165\u7406\u89e3\u548c\u8fd0\u7528\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u9ad8\u6548\u5730\u7ba1\u7406\u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u7f16\u5199\u53ef\u7ef4\u62a4\u6027\u5f3a\u7684\u4ee3\u7801\u3002</p> <p>\u8fd9\u5c31\u662f <code>SQLAlchemy</code> \u7684\u6838\u5fc3\u6982\u5ff5\u8be6\u89e3\uff0c\u5e0c\u671b\u80fd\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7406\u89e3\u548c\u4f7f\u7528\u8fd9\u4e2a\u5f3a\u5927\u7684\u5e93\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/","title":"sys \u6a21\u5757","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#python-sys","title":"Python <code>sys</code> \u6a21\u5757\u8be6\u89e3","text":"<p><code>sys</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u4e9b\u53d8\u91cf\u548c\u51fd\u6570\uff0c\u7528\u4e8e\u4e0e Python \u89e3\u91ca\u5668\u8fdb\u884c\u4ea4\u4e92\u3002\u5b83\u5141\u8bb8\u4f60\u8bbf\u95ee\u548c\u64cd\u4f5c\u4e0e Python \u8fd0\u884c\u73af\u5883\u76f8\u5173\u7684\u53c2\u6570\u548c\u529f\u80fd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#1","title":"1. \u5bfc\u5165\u6a21\u5757","text":"<pre><code>import sys\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#2","title":"2. \u547d\u4ee4\u884c\u53c2\u6570","text":"<ul> <li>\u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570</li> </ul> <p><code>sys.argv</code> \u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5176\u4e2d\u5305\u542b\u547d\u4ee4\u884c\u53c2\u6570\u3002</p> <pre><code>import sys\n\n# \u6253\u5370\u6240\u6709\u7684\u547d\u4ee4\u884c\u53c2\u6570\nprint(sys.argv)\n\n# \u6253\u5370\u811a\u672c\u540d\u79f0\nprint(sys.argv[0])\n\n# \u6253\u5370\u7b2c\u4e00\u4e2a\u53c2\u6570\uff08\u5982\u679c\u6709\uff09\nif len(sys.argv) &gt; 1:\n    print(sys.argv[1])\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#3-python","title":"3. Python \u7248\u672c\u4fe1\u606f","text":"<ul> <li>\u83b7\u53d6 Python \u7248\u672c</li> </ul> <pre><code>version = sys.version\nprint(version)\n</code></pre> <ul> <li>\u83b7\u53d6 Python \u7248\u672c\u4fe1\u606f\u7684\u8be6\u7ec6\u5143\u7ec4</li> </ul> <pre><code>version_info = sys.version_info\nprint(version_info)  # \u8fd4\u56de (major, minor, micro, releaselevel, serial)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#4","title":"4. \u6807\u51c6\u8f93\u5165\u3001\u8f93\u51fa\u548c\u9519\u8bef","text":"<ul> <li>\u6807\u51c6\u8f93\u5165 (<code>sys.stdin</code>)</li> </ul> <pre><code># \u8bfb\u53d6\u7528\u6237\u8f93\u5165\nuser_input = sys.stdin.read()\nprint(user_input)\n</code></pre> <ul> <li>\u6807\u51c6\u8f93\u51fa (<code>sys.stdout</code>)</li> </ul> <pre><code>sys.stdout.write(\"Hello, World!\\n\")\n</code></pre> <ul> <li>\u6807\u51c6\u9519\u8bef (<code>sys.stderr</code>)</li> </ul> <pre><code>sys.stderr.write(\"This is an error message.\\n\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#5","title":"5. \u9000\u51fa\u7a0b\u5e8f","text":"<ul> <li>\u6b63\u5e38\u9000\u51fa</li> </ul> <pre><code>sys.exit()\n</code></pre> <ul> <li>\u5e26\u9000\u51fa\u72b6\u6001\u7801\u7684\u9000\u51fa</li> </ul> <pre><code>sys.exit(1)  # \u975e 0 \u7684\u72b6\u6001\u7801\u901a\u5e38\u8868\u793a\u7a0b\u5e8f\u5f02\u5e38\u9000\u51fa\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#6","title":"6. \u6a21\u5757\u8def\u5f84\u7ba1\u7406","text":"<ul> <li>\u83b7\u53d6\u6a21\u5757\u641c\u7d22\u8def\u5f84</li> </ul> <p><code>sys.path</code> \u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5305\u542b Python \u89e3\u91ca\u5668\u67e5\u627e\u6a21\u5757\u7684\u8def\u5f84\u3002</p> <pre><code>import sys\nprint(sys.path)\n</code></pre> <ul> <li>\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6a21\u5757\u8def\u5f84</li> </ul> <pre><code>sys.path.append('/path/to/your/module')\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#7","title":"7. \u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u83b7\u53d6\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570</li> </ul> <p><code>sys.getrefcount()</code> \u7528\u4e8e\u8fd4\u56de\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u3002</p> <pre><code>import sys\n\na = []\nprint(sys.getrefcount(a))  # \u8f93\u51fa\u7684\u8ba1\u6570\u4f1a\u6bd4\u9884\u671f\u503c\u59271\uff0c\u56e0\u4e3agetrefcount\u672c\u8eab\u4f1a\u589e\u52a0\u4e00\u6b21\u5f15\u7528\n</code></pre> <ul> <li>\u5f3a\u5236\u5783\u573e\u56de\u6536</li> </ul> <pre><code>import gc\ngc.collect()\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#8","title":"8. \u5f02\u5e38\u5904\u7406","text":"<ul> <li>\u83b7\u53d6\u5f53\u524d\u5f02\u5e38\u4fe1\u606f</li> </ul> <p><code>sys.exc_info()</code> \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u5f02\u5e38\u7c7b\u578b\u3001\u5f02\u5e38\u5b9e\u4f8b\u548c traceback \u5bf9\u8c61\u7684\u5143\u7ec4\u3002</p> <pre><code>try:\n    1 / 0\nexcept ZeroDivisionError:\n    exc_type, exc_value, exc_traceback = sys.exc_info()\n    print(f\"Exception type: {exc_type}\")\n    print(f\"Exception value: {exc_value}\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#9","title":"9. \u89e3\u91ca\u5668\u4fe1\u606f","text":"<ul> <li>\u83b7\u53d6\u5e73\u53f0\u4fe1\u606f</li> </ul> <p><code>sys.platform</code> \u8fd4\u56de\u8fd0\u884c Python \u89e3\u91ca\u5668\u7684\u5e73\u53f0\u6807\u8bc6\u5b57\u7b26\u4e32\u3002</p> <pre><code>platform = sys.platform\nprint(platform)  # \u4f8b\u5982 'linux', 'darwin' (macOS), 'win32' (Windows)\n</code></pre> <ul> <li>\u83b7\u53d6\u6700\u5927\u9012\u5f52\u6df1\u5ea6</li> </ul> <p><code>sys.getrecursionlimit()</code> \u8fd4\u56de Python \u89e3\u91ca\u5668\u5141\u8bb8\u7684\u6700\u5927\u9012\u5f52\u6df1\u5ea6\u3002</p> <pre><code>recursion_limit = sys.getrecursionlimit()\nprint(recursion_limit)\n</code></pre> <ul> <li>\u8bbe\u7f6e\u6700\u5927\u9012\u5f52\u6df1\u5ea6</li> </ul> <p><code>sys.setrecursionlimit()</code> \u53ef\u4ee5\u8bbe\u7f6e\u9012\u5f52\u6df1\u5ea6\u3002</p> <pre><code>sys.setrecursionlimit(2000)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#10","title":"10. \u5176\u4ed6\u6709\u7528\u7684\u51fd\u6570","text":"<ul> <li>\u83b7\u53d6 Python \u89e3\u91ca\u5668\u7684\u9ed8\u8ba4\u7f16\u7801</li> </ul> <pre><code>default_encoding = sys.getdefaultencoding()\nprint(default_encoding)\n</code></pre> <ul> <li>\u83b7\u53d6\u6700\u5927\u6574\u6570</li> </ul> <p><code>sys.maxsize</code> \u8fd4\u56de\u4e00\u4e2a\u5e73\u53f0\u76f8\u5173\u7684\u6574\u6570\uff0c\u901a\u5e38\u662f\u64cd\u4f5c\u7cfb\u7edf\u80fd\u591f\u5904\u7406\u7684\u6700\u5927\u6574\u6570\u3002</p> <pre><code>print(sys.maxsize)\n</code></pre> <ul> <li>\u68c0\u67e5\u662f\u5426\u5728\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u4e2d</li> </ul> <pre><code>if hasattr(sys, 'ps1'):\n    print(\"Running in interactive mode\")\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/sys/#_1","title":"\u603b\u7ed3","text":"<p><code>sys</code> \u6a21\u5757\u4e3a\u4f60\u63d0\u4f9b\u4e86\u4e0e Python \u89e3\u91ca\u5668\u53ca\u5176\u8fd0\u884c\u73af\u5883\u8fdb\u884c\u4ea4\u4e92\u7684\u5173\u952e\u5de5\u5177\u3002\u719f\u7ec3\u4f7f\u7528 <code>sys</code> \u6a21\u5757\u53ef\u4ee5\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u63a7\u5236\u7a0b\u5e8f\u7684\u884c\u4e3a\uff0c\u5e76\u4ece\u8fd0\u884c\u65f6\u73af\u5883\u4e2d\u83b7\u53d6\u6709\u7528\u7684\u4fe1\u606f\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/","title":"time \u6a21\u5757","text":"<p><code>time</code> \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u5904\u7406\u65f6\u95f4\u76f8\u5173\u7684\u4efb\u52a1\u3002\u5b83\u63d0\u4f9b\u4e86\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u3001\u6682\u505c\u7a0b\u5e8f\u6267\u884c\u3001\u683c\u5f0f\u5316\u65f6\u95f4\u5b57\u7b26\u4e32\u7b49\u529f\u80fd\u3002\u4ee5\u4e0b\u662f <code>time</code> \u6a21\u5757\u7684\u8be6\u7ec6\u4ecb\u7ecd\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#1","title":"1. \u83b7\u53d6\u5f53\u524d\u65f6\u95f4","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#11-timetime","title":"1.1 <code>time.time()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u7684\u65f6\u95f4\u6233\uff08\u81ea1970\u5e741\u67081\u65e500:00:00 UTC\u4ee5\u6765\u7684\u79d2\u6570\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   import time   print(time.time())  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e 1693205091.6098497</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#12-timelocaltimesecs","title":"1.2 <code>time.localtime([secs])</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06\u65f6\u95f4\u6233\uff08\u79d2\u6570\uff09\u8f6c\u6362\u4e3a\u672c\u5730\u65f6\u95f4\u7684 <code>struct_time</code> \u5bf9\u8c61\u3002\u5982\u679c\u4e0d\u63d0\u4f9b <code>secs</code> \u53c2\u6570\uff0c\u5219\u4f7f\u7528\u5f53\u524d\u65f6\u95f4\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   local_time = time.localtime()   print(local_time)  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e time.struct_time(tm_year=2023, tm_mon=8, ...)</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#13-timegmtimesecs","title":"1.3 <code>time.gmtime([secs])</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06\u65f6\u95f4\u6233\uff08\u79d2\u6570\uff09\u8f6c\u6362\u4e3aUTC\uff08\u4e16\u754c\u534f\u8c03\u65f6\u95f4\uff09\u7684 <code>struct_time</code> \u5bf9\u8c61\u3002\u5982\u679c\u4e0d\u63d0\u4f9b <code>secs</code> \u53c2\u6570\uff0c\u5219\u4f7f\u7528\u5f53\u524d\u65f6\u95f4\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   utc_time = time.gmtime()   print(utc_time)  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e time.struct_time(tm_year=2023, tm_mon=8, ...)</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#2","title":"2. \u65f6\u95f4\u683c\u5f0f\u5316","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#21-timestrftimeformat-t","title":"2.1 <code>time.strftime(format, [t])</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06 <code>struct_time</code> \u5bf9\u8c61\u683c\u5f0f\u5316\u4e3a\u5b57\u7b26\u4e32\u3002<code>format</code> \u662f\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c<code>t</code> \u662f\u53ef\u9009\u7684 <code>struct_time</code> \u5bf9\u8c61\uff08\u9ed8\u8ba4\u4e3a\u5f53\u524d\u65f6\u95f4\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   formatted_time = time.strftime(\"%Y-%m-%d %H:%M:%S\", time.localtime())   print(formatted_time)  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e \"2023-08-28 10:34:56\"</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#22-timestrptimestring-format","title":"2.2 <code>time.strptime(string, format)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06\u65f6\u95f4\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a <code>struct_time</code> \u5bf9\u8c61\u3002<code>string</code> \u662f\u8981\u89e3\u6790\u7684\u5b57\u7b26\u4e32\uff0c<code>format</code> \u662f\u89e3\u6790\u683c\u5f0f\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   time_str = \"2023-08-28 10:34:56\"   parsed_time = time.strptime(time_str, \"%Y-%m-%d %H:%M:%S\")   print(parsed_time)  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e time.struct_time(tm_year=2023, tm_mon=8, ...)</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#3","title":"3. \u7a0b\u5e8f\u6682\u505c\u548c\u5ef6\u65f6","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#31-timesleepsecs","title":"3.1 <code>time.sleep(secs)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u6682\u505c\u7a0b\u5e8f\u6267\u884c\u6307\u5b9a\u7684\u79d2\u6570\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(\"Start\")   time.sleep(2)  # \u6682\u505c2\u79d2   print(\"End\")</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#4","title":"4. \u65f6\u95f4\u6233\u4e0e\u7ed3\u6784\u5316\u65f6\u95f4\u7684\u76f8\u4e92\u8f6c\u6362","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#41-timemktimet","title":"4.1 <code>time.mktime(t)</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06\u672c\u5730\u65f6\u95f4\u7684 <code>struct_time</code> \u5bf9\u8c61\u8f6c\u6362\u4e3a\u65f6\u95f4\u6233\uff08\u79d2\u6570\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   local_time = time.localtime()   timestamp = time.mktime(local_time)   print(timestamp)  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e 1693205091.0</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#42-timeasctimet","title":"4.2 <code>time.asctime([t])</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06 <code>struct_time</code> \u5bf9\u8c61\u683c\u5f0f\u5316\u4e3a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u4e0d\u63d0\u4f9b <code>t</code> \u53c2\u6570\uff0c\u5219\u4f7f\u7528\u5f53\u524d\u65f6\u95f4\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(time.asctime())  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e \"Mon Aug 28 10:34:56 2023\"</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#43-timectimesecs","title":"4.3 <code>time.ctime([secs])</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06\u65f6\u95f4\u6233\uff08\u79d2\u6570\uff09\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u4e0d\u63d0\u4f9b <code>secs</code> \u53c2\u6570\uff0c\u5219\u4f7f\u7528\u5f53\u524d\u65f6\u95f4\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   print(time.ctime())  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e \"Mon Aug 28 10:34:56 2023\"</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#5","title":"5. \u9ad8\u7cbe\u5ea6\u65f6\u95f4\u51fd\u6570","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#51-timemonotonic","title":"5.1 <code>time.monotonic()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u8fd4\u56de\u4e00\u4e2a\u5355\u8c03\u9012\u589e\u7684\u65f6\u949f\u65f6\u95f4\u70b9\uff0c\u4e0d\u53d7\u7cfb\u7edf\u65f6\u95f4\u4fee\u6539\u7684\u5f71\u54cd\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   start = time.monotonic()   time.sleep(1)   end = time.monotonic()   print(f\"Elapsed time: {end - start} seconds\")  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e \"Elapsed time: 1.00008759 seconds\"</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#52-timeperf_counter","title":"5.2 <code>time.perf_counter()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u8fd4\u56de\u4e00\u4e2a\u9ad8\u7cbe\u5ea6\u7684\u8ba1\u65f6\u5668\u65f6\u95f4\u70b9\uff0c\u9002\u5408\u6d4b\u91cf\u65f6\u95f4\u95f4\u9694\u3002</li> <li>\u793a\u4f8b\uff1a   <code>python   start = time.perf_counter()   time.sleep(1)   end = time.perf_counter()   print(f\"Elapsed time: {end - start} seconds\")  # \u8f93\u51fa\u7c7b\u4f3c\u4e8e \"Elapsed time: 1.00008759 seconds\"</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#6-struct_time","title":"6. <code>struct_time</code> \u5bf9\u8c61","text":"<p><code>struct_time</code> \u662f\u4e00\u79cd\u547d\u540d\u5143\u7ec4\uff0c\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a - <code>tm_year</code>: \u5e74\u4efd\uff08\u5982 2023\uff09 - <code>tm_mon</code>: \u6708\u4efd\uff081 \u5230 12\uff09 - <code>tm_mday</code>: \u65e5\u671f\uff081 \u5230 31\uff09 - <code>tm_hour</code>: \u5c0f\u65f6\uff080 \u5230 23\uff09 - <code>tm_min</code>: \u5206\u949f\uff080 \u5230 59\uff09 - <code>tm_sec</code>: \u79d2\uff080 \u5230 61\uff0c\u95f0\u79d2\uff09 - <code>tm_wday</code>: \u661f\u671f\u51e0\uff080 \u5230 6\uff0c0 \u8868\u793a\u661f\u671f\u4e00\uff09 - <code>tm_yday</code>: \u4e00\u5e74\u4e2d\u7684\u7b2c\u51e0\u5929\uff081 \u5230 366\uff09 - <code>tm_isdst</code>: \u662f\u5426\u590f\u4ee4\u65f6\uff081 \u8868\u793a\u590f\u4ee4\u65f6\uff0c0 \u8868\u793a\u975e\u590f\u4ee4\u65f6\uff0c-1 \u8868\u793a\u672a\u77e5\uff09</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/time/#7","title":"7. \u5e94\u7528\u573a\u666f","text":"<ul> <li>\u7a0b\u5e8f\u8ba1\u65f6\uff1a\u4f7f\u7528 <code>time.perf_counter()</code> \u548c <code>time.monotonic()</code> \u8fdb\u884c\u7cbe\u786e\u7684\u7a0b\u5e8f\u8ba1\u65f6\u3002</li> <li>\u65e5\u5fd7\u8bb0\u5f55\uff1a\u4f7f\u7528 <code>time.strftime()</code> \u683c\u5f0f\u5316\u65f6\u95f4\u6233\uff0c\u7528\u4e8e\u65e5\u5fd7\u8bb0\u5f55\u3002</li> <li>\u65f6\u95f4\u89e3\u6790\uff1a\u4f7f\u7528 <code>time.strptime()</code> \u89e3\u6790\u65f6\u95f4\u5b57\u7b26\u4e32\u3002</li> </ul> <p><code>time</code> \u6a21\u5757\u4e3a Python \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u65f6\u95f4\u5904\u7406\u529f\u80fd\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u573a\u666f\u4e2d\u7684\u65f6\u95f4\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/","title":"urllib \u6a21\u5757","text":"<p><code>urllib</code> \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7528\u4e8e\u5904\u7406 URL \u548c HTTP \u8bf7\u6c42\u7684\u6a21\u5757\u3002\u5b83\u63d0\u4f9b\u4e86\u591a\u4e2a\u5b50\u6a21\u5757\uff0c\u5305\u62ec <code>urllib.request</code>\u3001<code>urllib.parse</code>\u3001<code>urllib.error</code> \u548c <code>urllib.robotparser</code>\uff0c\u7528\u4e8e\u5904\u7406\u4e0d\u540c\u7684 URL \u548c\u7f51\u7edc\u8bf7\u6c42\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#1-urllibrequest","title":"1. <code>urllib.request</code> \u6a21\u5757","text":"<p><code>urllib.request</code> \u6a21\u5757\u7528\u4e8e\u6253\u5f00\u548c\u8bfb\u53d6 URL \u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u53d1\u9001 HTTP \u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#11-urlopen","title":"1.1 <code>urlopen()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u6253\u5f00\u4e00\u4e2a URL\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6587\u4ef6\u7684\u5bf9\u8c61\u3002</li> <li>\u53c2\u6570\uff1a</li> <li><code>url</code>\uff1a\u8981\u6253\u5f00\u7684 URL\u3002</li> <li><code>data</code>\uff1a\u53ef\u9009\uff0c\u7528\u4e8e POST \u8bf7\u6c42\u7684\u6570\u636e\u3002</li> <li><code>timeout</code>\uff1a\u53ef\u9009\uff0c\u8bf7\u6c42\u7684\u8d85\u65f6\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import request</li> </ul> <p>response = request.urlopen('http://www.example.com')   html = response.read().decode('utf-8')   print(html)   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#12-request","title":"1.2 <code>Request</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\uff0c\u53ef\u4ee5\u9644\u52a0 headers\u3001data \u7b49\u4fe1\u606f\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import request</li> </ul> <p>url = 'http://www.example.com'   req = request.Request(url)   req.add_header('User-Agent', 'Mozilla/5.0')   response = request.urlopen(req)   print(response.read().decode('utf-8'))   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#13-urlretrieve","title":"1.3 <code>urlretrieve()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06 URL \u6307\u5411\u7684\u8d44\u6e90\u4e0b\u8f7d\u5230\u672c\u5730\u6587\u4ef6\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import request</li> </ul> <p>url = 'http://www.example.com/somefile.zip'   request.urlretrieve(url, 'localfile.zip')   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#2-urllibparse","title":"2. <code>urllib.parse</code> \u6a21\u5757","text":"<p><code>urllib.parse</code> \u6a21\u5757\u7528\u4e8e\u89e3\u6790 URL \u5b57\u7b26\u4e32\u548c\u5904\u7406 URL \u7684\u5404\u4e2a\u90e8\u5206\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#21-urlparse","title":"2.1 <code>urlparse()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u89e3\u6790 URL \u5e76\u8fd4\u56de <code>ParseResult</code> \u5bf9\u8c61\uff0c\u5305\u542b URL \u7684\u5404\u4e2a\u90e8\u5206\uff08scheme, netloc, path, params, query, fragment\uff09\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import parse</li> </ul> <p>url = 'http://www.example.com/path;params?query=arg#fragment'   parsed_url = parse.urlparse(url)   print(parsed_url.scheme)   # \u8f93\u51fa: 'http'   print(parsed_url.netloc)   # \u8f93\u51fa: 'www.example.com'   print(parsed_url.path)     # \u8f93\u51fa: '/path'   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#22-urlunparse","title":"2.2 <code>urlunparse()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06 URL \u7684\u5404\u90e8\u5206\u7ec4\u5408\u6210\u4e00\u4e2a\u5b8c\u6574\u7684 URL \u5b57\u7b26\u4e32\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import parse</li> </ul> <p>url_components = ('http', 'www.example.com', '/path', 'params', 'query=arg', 'fragment')   url = parse.urlunparse(url_components)   print(url)  # \u8f93\u51fa: 'http://www.example.com/path;params?query=arg#fragment'   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#23-urlencode","title":"2.3 <code>urlencode()</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5c06\u5b57\u5178\u6216\u5143\u7ec4\u5217\u8868\u7f16\u7801\u4e3a URL \u67e5\u8be2\u53c2\u6570\u5b57\u7b26\u4e32\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import parse</li> </ul> <p>params = {'name': 'Alice', 'age': 25}   query_string = parse.urlencode(params)   print(query_string)  # \u8f93\u51fa: 'name=Alice&amp;age=25'   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#3-urlliberror","title":"3. <code>urllib.error</code> \u6a21\u5757","text":"<p><code>urllib.error</code> \u6a21\u5757\u5305\u542b\u5904\u7406 HTTP \u8bf7\u6c42\u9519\u8bef\u7684\u5f02\u5e38\u7c7b\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#31-httperror","title":"3.1 <code>HTTPError</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5f53 HTTP \u8bf7\u6c42\u5931\u8d25\u5e76\u8fd4\u56de\u9519\u8bef\u4ee3\u7801\uff08\u5982404, 403\u7b49\uff09\u65f6\u5f15\u53d1\u6b64\u5f02\u5e38\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import request, error</li> </ul> <p>try:       response = request.urlopen('http://www.example.com/404')   except error.HTTPError as e:       print(f'HTTP Error: {e.code}')   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#32-urlerror","title":"3.2 <code>URLError</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u5f53\u65e0\u6cd5\u5904\u7406\u8bf7\u6c42\uff08\u5982\u65e0\u6cd5\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff09\u65f6\u5f15\u53d1\u6b64\u5f02\u5e38\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import request, error</li> </ul> <p>try:       response = request.urlopen('http://nonexistent.example.com')   except error.URLError as e:       print(f'URL Error: {e.reason}')   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#4-urllibrobotparser","title":"4. <code>urllib.robotparser</code> \u6a21\u5757","text":"<p><code>urllib.robotparser</code> \u6a21\u5757\u7528\u4e8e\u89e3\u6790 robots.txt \u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u544a\u8bc9\u641c\u7d22\u5f15\u64ce\u722c\u866b\u54ea\u4e9b\u9875\u9762\u53ef\u4ee5\u6216\u4e0d\u80fd\u6293\u53d6\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#41-robotfileparser","title":"4.1 <code>RobotFileParser</code>","text":"<ul> <li>\u529f\u80fd\uff1a\u7528\u4e8e\u89e3\u6790\u548c\u5904\u7406 robots.txt \u6587\u4ef6\u3002</li> <li>\u793a\u4f8b\uff1a   ```python   from urllib import robotparser</li> </ul> <p>rp = robotparser.RobotFileParser()   rp.set_url('http://www.example.com/robots.txt')   rp.read()   print(rp.can_fetch('*', 'http://www.example.com/path'))   ```</p>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#5","title":"5. \u793a\u4f8b\u5e94\u7528","text":""},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#51-get","title":"5.1 \u53d1\u9001 GET \u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94","text":"<pre><code>from urllib import request\n\nurl = 'http://www.example.com'\nresponse = request.urlopen(url)\ncontent = response.read().decode('utf-8')\nprint(content)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#52-post","title":"5.2 \u53d1\u9001 POST \u8bf7\u6c42","text":"<pre><code>from urllib import request, parse\n\nurl = 'http://www.example.com/login'\ndata = parse.urlencode({'username': 'user', 'password': 'pass'}).encode()\nreq = request.Request(url, data=data)\nresponse = request.urlopen(req)\nprint(response.read().decode('utf-8'))\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#53-http","title":"5.3 \u5904\u7406 HTTP \u9519\u8bef","text":"<pre><code>from urllib import request, error\n\ntry:\n    response = request.urlopen('http://www.example.com/404')\nexcept error.HTTPError as e:\n    print(f'HTTP Error: {e.code}')\nexcept error.URLError as e:\n    print(f'URL Error: {e.reason}')\nelse:\n    print(response.read().decode('utf-8'))\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80%E7%AF%87/python/Python%E5%B8%B8%E7%94%A8%E5%BA%93/urllib/#6","title":"6. \u6ce8\u610f\u4e8b\u9879","text":"<ul> <li> <p><code>urllib</code> \u6a21\u5757\u9002\u7528\u4e8e\u7b80\u5355\u7684 HTTP \u8bf7\u6c42\u64cd\u4f5c\u3002\u5982\u679c\u9700\u8981\u5904\u7406\u66f4\u590d\u6742\u7684 HTTP \u8bf7\u6c42\uff08\u5982\u9700\u8981\u5904\u7406Cookies\u3001\u4f1a\u8bdd\u3001\u6587\u4ef6\u4e0a\u4f20\u7b49\uff09\uff0c\u5efa\u8bae\u4f7f\u7528 <code>requests</code> \u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7ea7\u522b\u7684 API\u3002</p> </li> <li> <p>\u5728\u5904\u7406\u654f\u611f\u4fe1\u606f\uff08\u5982\u7528\u6237\u540d\u548c\u5bc6\u7801\uff09\u65f6\uff0c\u8981\u6ce8\u610f\u6570\u636e\u7684\u52a0\u5bc6\u548c\u4f20\u8f93\u5b89\u5168\uff0c\u4f7f\u7528 HTTPS \u4ee3\u66ff HTTP\u3002</p> </li> </ul> <p><code>urllib</code> \u6a21\u5757\u4e3a Python \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684 URL \u548c HTTP \u8bf7\u6c42\u5904\u7406\u529f\u80fd\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u7f51\u7edc\u7f16\u7a0b\u573a\u666f\u3002</p>"}]}